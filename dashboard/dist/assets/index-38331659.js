var $v=Object.defineProperty;var Qv=(be,ze,Ye)=>ze in be?$v(be,ze,{enumerable:!0,configurable:!0,writable:!0,value:Ye}):be[ze]=Ye;var em=(be,ze)=>()=>(ze||be((ze={exports:{}}).exports,ze),ze.exports);var bp=(be,ze,Ye)=>(Qv(be,typeof ze!="symbol"?ze+"":ze,Ye),Ye);var c_=em((h_,gh)=>{(function(){const ze=document.createElement("link").relList;if(ze&&ze.supports&&ze.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))Xe(it);new MutationObserver(it=>{for(const Y of it)if(Y.type==="childList")for(const O of Y.addedNodes)O.tagName==="LINK"&&O.rel==="modulepreload"&&Xe(O)}).observe(document,{childList:!0,subtree:!0});function Ye(it){const Y={};return it.integrity&&(Y.integrity=it.integrity),it.referrerPolicy&&(Y.referrerPolicy=it.referrerPolicy),it.crossOrigin==="use-credentials"?Y.credentials="include":it.crossOrigin==="anonymous"?Y.credentials="omit":Y.credentials="same-origin",Y}function Xe(it){if(it.ep)return;it.ep=!0;const Y=Ye(it);fetch(it.href,Y)}})();function sa(){}function y1(be){return be()}function N0(){return Object.create(null)}function mf(be){be.forEach(y1)}function x1(be){return typeof be=="function"}function Fl(be,ze){return be!=be?ze==ze:be!==ze||be&&typeof be=="object"||typeof be=="function"}function tm(be){return Object.keys(be).length===0}function br(be,ze){be.appendChild(ze)}function Oi(be,ze,Ye){be.insertBefore(ze,Ye||null)}function Ai(be){be.parentNode&&be.parentNode.removeChild(be)}function Yu(be,ze){for(let Ye=0;Ye<be.length;Ye+=1)be[Ye]&&be[Ye].d(ze)}function Gr(be){return document.createElement(be)}function Fi(be){return document.createTextNode(be)}function xi(){return Fi(" ")}function yf(){return Fi("")}function b1(be,ze,Ye,Xe){return be.addEventListener(ze,Ye,Xe),()=>be.removeEventListener(ze,Ye,Xe)}function Nr(be,ze,Ye){Ye==null?be.removeAttribute(ze):be.getAttribute(ze)!==Ye&&be.setAttribute(ze,Ye)}function nm(be){return Array.from(be.childNodes)}function wa(be,ze){ze=""+ze,be.data!==ze&&(be.data=ze)}function j0(be,ze,Ye,Xe){Ye==null?be.style.removeProperty(ze):be.style.setProperty(ze,Ye,Xe?"important":"")}function Sc(be,ze,Ye){be.classList.toggle(ze,!!Ye)}let hf;function uf(be){hf=be}function rm(){if(!hf)throw new Error("Function called outside component initialization");return hf}function Lu(be){rm().$$.on_mount.push(be)}const bc=[],pf=[];let Tc=[];const U0=[],im=Promise.resolve();let Ap=!1;function am(){Ap||(Ap=!0,im.then(_1))}function Sp(be){Tc.push(be)}const _p=new Set;let yc=0;function _1(){if(yc!==0)return;const be=hf;do{try{for(;yc<bc.length;){const ze=bc[yc];yc++,uf(ze),om(ze.$$)}}catch(ze){throw bc.length=0,yc=0,ze}for(uf(null),bc.length=0,yc=0;pf.length;)pf.pop()();for(let ze=0;ze<Tc.length;ze+=1){const Ye=Tc[ze];_p.has(Ye)||(_p.add(Ye),Ye())}Tc.length=0}while(bc.length);for(;U0.length;)U0.pop()();Ap=!1,_p.clear(),uf(be)}function om(be){if(be.fragment!==null){be.update(),mf(be.before_update);const ze=be.dirty;be.dirty=[-1],be.fragment&&be.fragment.p(be.ctx,ze),be.after_update.forEach(Sp)}}function sm(be){const ze=[],Ye=[];Tc.forEach(Xe=>be.indexOf(Xe)===-1?ze.push(Xe):Ye.push(Xe)),Ye.forEach(Xe=>Xe()),Tc=ze}const fh=new Set;let Hu;function Rp(){Hu={r:0,c:[],p:Hu}}function zp(){Hu.r||mf(Hu.c),Hu=Hu.p}function lo(be,ze){be&&be.i&&(fh.delete(be),be.i(ze))}function Jo(be,ze,Ye,Xe){if(be&&be.o){if(fh.has(be))return;fh.add(be),Hu.c.push(()=>{fh.delete(be),Xe&&(Ye&&be.d(1),Xe())}),be.o(ze)}else Xe&&Xe()}function ms(be){return(be==null?void 0:be.length)!==void 0?be:Array.from(be)}function iu(be){be&&be.c()}function Il(be,ze,Ye){const{fragment:Xe,after_update:it}=be.$$;Xe&&Xe.m(ze,Ye),Sp(()=>{const Y=be.$$.on_mount.map(y1).filter(x1);be.$$.on_destroy?be.$$.on_destroy.push(...Y):mf(Y),be.$$.on_mount=[]}),it.forEach(Sp)}function Dl(be,ze){const Ye=be.$$;Ye.fragment!==null&&(sm(Ye.after_update),mf(Ye.on_destroy),Ye.fragment&&Ye.fragment.d(ze),Ye.on_destroy=Ye.fragment=null,Ye.ctx=[])}function lm(be,ze){be.$$.dirty[0]===-1&&(bc.push(be),am(),be.$$.dirty.fill(0)),be.$$.dirty[ze/31|0]|=1<<ze%31}function Bl(be,ze,Ye,Xe,it,Y,O=null,e=[-1]){const M=hf;uf(be);const k=be.$$={fragment:null,ctx:[],props:Y,update:sa,not_equal:it,bound:N0(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(ze.context||(M?M.$$.context:[])),callbacks:N0(),dirty:e,skip_bound:!1,root:ze.target||M.$$.root};O&&O(k.root);let a=!1;if(k.ctx=Ye?Ye(be,ze.props||{},(_,y,...d)=>{const s=d.length?d[0]:y;return k.ctx&&it(k.ctx[_],k.ctx[_]=s)&&(!k.skip_bound&&k.bound[_]&&k.bound[_](s),a&&lm(be,_)),y}):[],k.update(),a=!0,mf(k.before_update),k.fragment=Xe?Xe(k.ctx):!1,ze.target){if(ze.hydrate){const _=nm(ze.target);k.fragment&&k.fragment.l(_),_.forEach(Ai)}else k.fragment&&k.fragment.c();ze.intro&&lo(be.$$.fragment),Il(be,ze.target,ze.anchor),_1()}uf(M)}class Nl{constructor(){bp(this,"$$");bp(this,"$$set")}$destroy(){Dl(this,1),this.$destroy=sa}$on(ze,Ye){if(!x1(Ye))return sa;const Xe=this.$$.callbacks[ze]||(this.$$.callbacks[ze]=[]);return Xe.push(Ye),()=>{const it=Xe.indexOf(Ye);it!==-1&&Xe.splice(it,1)}}$set(ze){this.$$set&&!tm(ze)&&(this.$$.skip_bound=!0,this.$$set(ze),this.$$.skip_bound=!1)}}const um="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(um);//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var w1;function Cr(){return w1.apply(null,arguments)}function cm(be){w1=be}function yl(be){return be instanceof Array||Object.prototype.toString.call(be)==="[object Array]"}function Gu(be){return be!=null&&Object.prototype.toString.call(be)==="[object Object]"}function Pi(be,ze){return Object.prototype.hasOwnProperty.call(be,ze)}function Fp(be){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(be).length===0;var ze;for(ze in be)if(Pi(be,ze))return!1;return!0}function vs(be){return be===void 0}function lu(be){return typeof be=="number"||Object.prototype.toString.call(be)==="[object Number]"}function xf(be){return be instanceof Date||Object.prototype.toString.call(be)==="[object Date]"}function T1(be,ze){var Ye=[],Xe,it=be.length;for(Xe=0;Xe<it;++Xe)Ye.push(ze(be[Xe],Xe));return Ye}function Au(be,ze){for(var Ye in ze)Pi(ze,Ye)&&(be[Ye]=ze[Ye]);return Pi(ze,"toString")&&(be.toString=ze.toString),Pi(ze,"valueOf")&&(be.valueOf=ze.valueOf),be}function jl(be,ze,Ye,Xe){return W1(be,ze,Ye,Xe,!0).utc()}function fm(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Qr(be){return be._pf==null&&(be._pf=fm()),be._pf}var Ep;Array.prototype.some?Ep=Array.prototype.some:Ep=function(be){var ze=Object(this),Ye=ze.length>>>0,Xe;for(Xe=0;Xe<Ye;Xe++)if(Xe in ze&&be.call(this,ze[Xe],Xe,ze))return!0;return!1};function Bp(be){if(be._isValid==null){var ze=Qr(be),Ye=Ep.call(ze.parsedDateParts,function(it){return it!=null}),Xe=!isNaN(be._d.getTime())&&ze.overflow<0&&!ze.empty&&!ze.invalidEra&&!ze.invalidMonth&&!ze.invalidWeekday&&!ze.weekdayMismatch&&!ze.nullInput&&!ze.invalidFormat&&!ze.userInvalidated&&(!ze.meridiem||ze.meridiem&&Ye);if(be._strict&&(Xe=Xe&&ze.charsLeftOver===0&&ze.unusedTokens.length===0&&ze.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(be))be._isValid=Xe;else return Xe}return be._isValid}function wh(be){var ze=jl(NaN);return be!=null?Au(Qr(ze),be):Qr(ze).userInvalidated=!0,ze}var V0=Cr.momentProperties=[],wp=!1;function Np(be,ze){var Ye,Xe,it,Y=V0.length;if(vs(ze._isAMomentObject)||(be._isAMomentObject=ze._isAMomentObject),vs(ze._i)||(be._i=ze._i),vs(ze._f)||(be._f=ze._f),vs(ze._l)||(be._l=ze._l),vs(ze._strict)||(be._strict=ze._strict),vs(ze._tzm)||(be._tzm=ze._tzm),vs(ze._isUTC)||(be._isUTC=ze._isUTC),vs(ze._offset)||(be._offset=ze._offset),vs(ze._pf)||(be._pf=Qr(ze)),vs(ze._locale)||(be._locale=ze._locale),Y>0)for(Ye=0;Ye<Y;Ye++)Xe=V0[Ye],it=ze[Xe],vs(it)||(be[Xe]=it);return be}function bf(be){Np(this,be),this._d=new Date(be._d!=null?be._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wp===!1&&(wp=!0,Cr.updateOffset(this),wp=!1)}function xl(be){return be instanceof bf||be!=null&&be._isAMomentObject!=null}function k1(be){Cr.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+be)}function Ks(be,ze){var Ye=!0;return Au(function(){if(Cr.deprecationHandler!=null&&Cr.deprecationHandler(null,be),Ye){var Xe=[],it,Y,O,e=arguments.length;for(Y=0;Y<e;Y++){if(it="",typeof arguments[Y]=="object"){it+=`
[`+Y+"] ";for(O in arguments[0])Pi(arguments[0],O)&&(it+=O+": "+arguments[0][O]+", ");it=it.slice(0,-2)}else it=arguments[Y];Xe.push(it)}k1(be+`
Arguments: `+Array.prototype.slice.call(Xe).join("")+`
`+new Error().stack),Ye=!1}return ze.apply(this,arguments)},ze)}var H0={};function M1(be,ze){Cr.deprecationHandler!=null&&Cr.deprecationHandler(be,ze),H0[be]||(k1(ze),H0[be]=!0)}Cr.suppressDeprecationWarnings=!1;Cr.deprecationHandler=null;function Ul(be){return typeof Function<"u"&&be instanceof Function||Object.prototype.toString.call(be)==="[object Function]"}function hm(be){var ze,Ye;for(Ye in be)Pi(be,Ye)&&(ze=be[Ye],Ul(ze)?this[Ye]=ze:this["_"+Ye]=ze);this._config=be,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Lp(be,ze){var Ye=Au({},be),Xe;for(Xe in ze)Pi(ze,Xe)&&(Gu(be[Xe])&&Gu(ze[Xe])?(Ye[Xe]={},Au(Ye[Xe],be[Xe]),Au(Ye[Xe],ze[Xe])):ze[Xe]!=null?Ye[Xe]=ze[Xe]:delete Ye[Xe]);for(Xe in be)Pi(be,Xe)&&!Pi(ze,Xe)&&Gu(be[Xe])&&(Ye[Xe]=Au({},Ye[Xe]));return Ye}function jp(be){be!=null&&this.set(be)}var Cp;Object.keys?Cp=Object.keys:Cp=function(be){var ze,Ye=[];for(ze in be)Pi(be,ze)&&Ye.push(ze);return Ye};var pm={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function dm(be,ze,Ye){var Xe=this._calendar[be]||this._calendar.sameElse;return Ul(Xe)?Xe.call(ze,Ye):Xe}function zl(be,ze,Ye){var Xe=""+Math.abs(be),it=ze-Xe.length,Y=be>=0;return(Y?Ye?"+":"":"-")+Math.pow(10,Math.max(0,it)).toString().substr(1)+Xe}var Up=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lh=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Tp={},kc={};function Yr(be,ze,Ye,Xe){var it=Xe;typeof Xe=="string"&&(it=function(){return this[Xe]()}),be&&(kc[be]=it),ze&&(kc[ze[0]]=function(){return zl(it.apply(this,arguments),ze[1],ze[2])}),Ye&&(kc[Ye]=function(){return this.localeData().ordinal(it.apply(this,arguments),be)})}function gm(be){return be.match(/\[[\s\S]/)?be.replace(/^\[|\]$/g,""):be.replace(/\\/g,"")}function vm(be){var ze=be.match(Up),Ye,Xe;for(Ye=0,Xe=ze.length;Ye<Xe;Ye++)kc[ze[Ye]]?ze[Ye]=kc[ze[Ye]]:ze[Ye]=gm(ze[Ye]);return function(it){var Y="",O;for(O=0;O<Xe;O++)Y+=Ul(ze[O])?ze[O].call(it,be):ze[O];return Y}}function hh(be,ze){return be.isValid()?(ze=A1(ze,be.localeData()),Tp[ze]=Tp[ze]||vm(ze),Tp[ze](be)):be.localeData().invalidDate()}function A1(be,ze){var Ye=5;function Xe(it){return ze.longDateFormat(it)||it}for(lh.lastIndex=0;Ye>=0&&lh.test(be);)be=be.replace(lh,Xe),lh.lastIndex=0,Ye-=1;return be}var mm={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ym(be){var ze=this._longDateFormat[be],Ye=this._longDateFormat[be.toUpperCase()];return ze||!Ye?ze:(this._longDateFormat[be]=Ye.match(Up).map(function(Xe){return Xe==="MMMM"||Xe==="MM"||Xe==="DD"||Xe==="dddd"?Xe.slice(1):Xe}).join(""),this._longDateFormat[be])}var xm="Invalid date";function bm(){return this._invalidDate}var _m="%d",wm=/\d{1,2}/;function Tm(be){return this._ordinal.replace("%d",be)}var km={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Mm(be,ze,Ye,Xe){var it=this._relativeTime[Ye];return Ul(it)?it(be,ze,Ye,Xe):it.replace(/%d/i,be)}function Am(be,ze){var Ye=this._relativeTime[be>0?"future":"past"];return Ul(Ye)?Ye(ze):Ye.replace(/%s/i,ze)}var cf={};function Po(be,ze){var Ye=be.toLowerCase();cf[Ye]=cf[Ye+"s"]=cf[ze]=be}function $s(be){return typeof be=="string"?cf[be]||cf[be.toLowerCase()]:void 0}function Vp(be){var ze={},Ye,Xe;for(Xe in be)Pi(be,Xe)&&(Ye=$s(Xe),Ye&&(ze[Ye]=be[Xe]));return ze}var S1={};function Io(be,ze){S1[be]=ze}function Sm(be){var ze=[],Ye;for(Ye in be)Pi(be,Ye)&&ze.push({unit:Ye,priority:S1[Ye]});return ze.sort(function(Xe,it){return Xe.priority-it.priority}),ze}function Th(be){return be%4===0&&be%100!==0||be%400===0}function Js(be){return be<0?Math.ceil(be)||0:Math.floor(be)}function li(be){var ze=+be,Ye=0;return ze!==0&&isFinite(ze)&&(Ye=Js(ze)),Ye}function Ec(be,ze){return function(Ye){return Ye!=null?(E1(this,be,Ye),Cr.updateOffset(this,ze),this):vh(this,be)}}function vh(be,ze){return be.isValid()?be._d["get"+(be._isUTC?"UTC":"")+ze]():NaN}function E1(be,ze,Ye){be.isValid()&&!isNaN(Ye)&&(ze==="FullYear"&&Th(be.year())&&be.month()===1&&be.date()===29?(Ye=li(Ye),be._d["set"+(be._isUTC?"UTC":"")+ze](Ye,be.month(),Lh(Ye,be.month()))):be._d["set"+(be._isUTC?"UTC":"")+ze](Ye))}function Em(be){return be=$s(be),Ul(this[be])?this[be]():this}function Lm(be,ze){if(typeof be=="object"){be=Vp(be);var Ye=Sm(be),Xe,it=Ye.length;for(Xe=0;Xe<it;Xe++)this[Ye[Xe].unit](be[Ye[Xe].unit])}else if(be=$s(be),Ul(this[be]))return this[be](ze);return this}var L1=/\d/,Fs=/\d\d/,C1=/\d{3}/,Hp=/\d{4}/,kh=/[+-]?\d{6}/,va=/\d\d?/,O1=/\d\d\d\d?/,P1=/\d\d\d\d\d\d?/,Mh=/\d{1,3}/,qp=/\d{1,4}/,Ah=/[+-]?\d{1,6}/,Lc=/\d+/,Sh=/[+-]?\d+/,Cm=/Z|[+-]\d\d:?\d\d/gi,Eh=/Z|[+-]\d\d(?::?\d\d)?/gi,Om=/[+-]?\d+(\.\d{1,3})?/,_f=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,mh;mh={};function Fr(be,ze,Ye){mh[be]=Ul(ze)?ze:function(Xe,it){return Xe&&Ye?Ye:ze}}function Pm(be,ze){return Pi(mh,be)?mh[be](ze._strict,ze._locale):new RegExp(Im(be))}function Im(be){return zs(be.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(ze,Ye,Xe,it,Y){return Ye||Xe||it||Y}))}function zs(be){return be.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Op={};function Zi(be,ze){var Ye,Xe=ze,it;for(typeof be=="string"&&(be=[be]),lu(ze)&&(Xe=function(Y,O){O[ze]=li(Y)}),it=be.length,Ye=0;Ye<it;Ye++)Op[be[Ye]]=Xe}function wf(be,ze){Zi(be,function(Ye,Xe,it,Y){it._w=it._w||{},ze(Ye,it._w,it,Y)})}function Dm(be,ze,Ye){ze!=null&&Pi(Op,be)&&Op[be](ze,Ye._a,Ye,be)}var Oo=0,au=1,Rl=2,Qa=3,ml=4,ou=5,qu=6,Rm=7,zm=8;function Fm(be,ze){return(be%ze+ze)%ze}var Na;Array.prototype.indexOf?Na=Array.prototype.indexOf:Na=function(be){var ze;for(ze=0;ze<this.length;++ze)if(this[ze]===be)return ze;return-1};function Lh(be,ze){if(isNaN(be)||isNaN(ze))return NaN;var Ye=Fm(ze,12);return be+=(ze-Ye)/12,Ye===1?Th(be)?29:28:31-Ye%7%2}Yr("M",["MM",2],"Mo",function(){return this.month()+1});Yr("MMM",0,0,function(be){return this.localeData().monthsShort(this,be)});Yr("MMMM",0,0,function(be){return this.localeData().months(this,be)});Po("month","M");Io("month",8);Fr("M",va);Fr("MM",va,Fs);Fr("MMM",function(be,ze){return ze.monthsShortRegex(be)});Fr("MMMM",function(be,ze){return ze.monthsRegex(be)});Zi(["M","MM"],function(be,ze){ze[au]=li(be)-1});Zi(["MMM","MMMM"],function(be,ze,Ye,Xe){var it=Ye._locale.monthsParse(be,Xe,Ye._strict);it!=null?ze[au]=it:Qr(Ye).invalidMonth=be});var Bm="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),I1="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),D1=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nm=_f,jm=_f;function Um(be,ze){return be?yl(this._months)?this._months[be.month()]:this._months[(this._months.isFormat||D1).test(ze)?"format":"standalone"][be.month()]:yl(this._months)?this._months:this._months.standalone}function Vm(be,ze){return be?yl(this._monthsShort)?this._monthsShort[be.month()]:this._monthsShort[D1.test(ze)?"format":"standalone"][be.month()]:yl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Hm(be,ze,Ye){var Xe,it,Y,O=be.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Xe=0;Xe<12;++Xe)Y=jl([2e3,Xe]),this._shortMonthsParse[Xe]=this.monthsShort(Y,"").toLocaleLowerCase(),this._longMonthsParse[Xe]=this.months(Y,"").toLocaleLowerCase();return Ye?ze==="MMM"?(it=Na.call(this._shortMonthsParse,O),it!==-1?it:null):(it=Na.call(this._longMonthsParse,O),it!==-1?it:null):ze==="MMM"?(it=Na.call(this._shortMonthsParse,O),it!==-1?it:(it=Na.call(this._longMonthsParse,O),it!==-1?it:null)):(it=Na.call(this._longMonthsParse,O),it!==-1?it:(it=Na.call(this._shortMonthsParse,O),it!==-1?it:null))}function qm(be,ze,Ye){var Xe,it,Y;if(this._monthsParseExact)return Hm.call(this,be,ze,Ye);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Xe=0;Xe<12;Xe++){if(it=jl([2e3,Xe]),Ye&&!this._longMonthsParse[Xe]&&(this._longMonthsParse[Xe]=new RegExp("^"+this.months(it,"").replace(".","")+"$","i"),this._shortMonthsParse[Xe]=new RegExp("^"+this.monthsShort(it,"").replace(".","")+"$","i")),!Ye&&!this._monthsParse[Xe]&&(Y="^"+this.months(it,"")+"|^"+this.monthsShort(it,""),this._monthsParse[Xe]=new RegExp(Y.replace(".",""),"i")),Ye&&ze==="MMMM"&&this._longMonthsParse[Xe].test(be))return Xe;if(Ye&&ze==="MMM"&&this._shortMonthsParse[Xe].test(be))return Xe;if(!Ye&&this._monthsParse[Xe].test(be))return Xe}}function R1(be,ze){var Ye;if(!be.isValid())return be;if(typeof ze=="string"){if(/^\d+$/.test(ze))ze=li(ze);else if(ze=be.localeData().monthsParse(ze),!lu(ze))return be}return Ye=Math.min(be.date(),Lh(be.year(),ze)),be._d["set"+(be._isUTC?"UTC":"")+"Month"](ze,Ye),be}function z1(be){return be!=null?(R1(this,be),Cr.updateOffset(this,!0),this):vh(this,"Month")}function Gm(){return Lh(this.year(),this.month())}function Ym(be){return this._monthsParseExact?(Pi(this,"_monthsRegex")||F1.call(this),be?this._monthsShortStrictRegex:this._monthsShortRegex):(Pi(this,"_monthsShortRegex")||(this._monthsShortRegex=Nm),this._monthsShortStrictRegex&&be?this._monthsShortStrictRegex:this._monthsShortRegex)}function Wm(be){return this._monthsParseExact?(Pi(this,"_monthsRegex")||F1.call(this),be?this._monthsStrictRegex:this._monthsRegex):(Pi(this,"_monthsRegex")||(this._monthsRegex=jm),this._monthsStrictRegex&&be?this._monthsStrictRegex:this._monthsRegex)}function F1(){function be(O,e){return e.length-O.length}var ze=[],Ye=[],Xe=[],it,Y;for(it=0;it<12;it++)Y=jl([2e3,it]),ze.push(this.monthsShort(Y,"")),Ye.push(this.months(Y,"")),Xe.push(this.months(Y,"")),Xe.push(this.monthsShort(Y,""));for(ze.sort(be),Ye.sort(be),Xe.sort(be),it=0;it<12;it++)ze[it]=zs(ze[it]),Ye[it]=zs(Ye[it]);for(it=0;it<24;it++)Xe[it]=zs(Xe[it]);this._monthsRegex=new RegExp("^("+Xe.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Ye.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+ze.join("|")+")","i")}Yr("Y",0,0,function(){var be=this.year();return be<=9999?zl(be,4):"+"+be});Yr(0,["YY",2],0,function(){return this.year()%100});Yr(0,["YYYY",4],0,"year");Yr(0,["YYYYY",5],0,"year");Yr(0,["YYYYYY",6,!0],0,"year");Po("year","y");Io("year",1);Fr("Y",Sh);Fr("YY",va,Fs);Fr("YYYY",qp,Hp);Fr("YYYYY",Ah,kh);Fr("YYYYYY",Ah,kh);Zi(["YYYYY","YYYYYY"],Oo);Zi("YYYY",function(be,ze){ze[Oo]=be.length===2?Cr.parseTwoDigitYear(be):li(be)});Zi("YY",function(be,ze){ze[Oo]=Cr.parseTwoDigitYear(be)});Zi("Y",function(be,ze){ze[Oo]=parseInt(be,10)});function ff(be){return Th(be)?366:365}Cr.parseTwoDigitYear=function(be){return li(be)+(li(be)>68?1900:2e3)};var B1=Ec("FullYear",!0);function Zm(){return Th(this.year())}function Xm(be,ze,Ye,Xe,it,Y,O){var e;return be<100&&be>=0?(e=new Date(be+400,ze,Ye,Xe,it,Y,O),isFinite(e.getFullYear())&&e.setFullYear(be)):e=new Date(be,ze,Ye,Xe,it,Y,O),e}function df(be){var ze,Ye;return be<100&&be>=0?(Ye=Array.prototype.slice.call(arguments),Ye[0]=be+400,ze=new Date(Date.UTC.apply(null,Ye)),isFinite(ze.getUTCFullYear())&&ze.setUTCFullYear(be)):ze=new Date(Date.UTC.apply(null,arguments)),ze}function yh(be,ze,Ye){var Xe=7+ze-Ye,it=(7+df(be,0,Xe).getUTCDay()-ze)%7;return-it+Xe-1}function N1(be,ze,Ye,Xe,it){var Y=(7+Ye-Xe)%7,O=yh(be,Xe,it),e=1+7*(ze-1)+Y+O,M,k;return e<=0?(M=be-1,k=ff(M)+e):e>ff(be)?(M=be+1,k=e-ff(be)):(M=be,k=e),{year:M,dayOfYear:k}}function gf(be,ze,Ye){var Xe=yh(be.year(),ze,Ye),it=Math.floor((be.dayOfYear()-Xe-1)/7)+1,Y,O;return it<1?(O=be.year()-1,Y=it+su(O,ze,Ye)):it>su(be.year(),ze,Ye)?(Y=it-su(be.year(),ze,Ye),O=be.year()+1):(O=be.year(),Y=it),{week:Y,year:O}}function su(be,ze,Ye){var Xe=yh(be,ze,Ye),it=yh(be+1,ze,Ye);return(ff(be)-Xe+it)/7}Yr("w",["ww",2],"wo","week");Yr("W",["WW",2],"Wo","isoWeek");Po("week","w");Po("isoWeek","W");Io("week",5);Io("isoWeek",5);Fr("w",va);Fr("ww",va,Fs);Fr("W",va);Fr("WW",va,Fs);wf(["w","ww","W","WW"],function(be,ze,Ye,Xe){ze[Xe.substr(0,1)]=li(be)});function Jm(be){return gf(be,this._week.dow,this._week.doy).week}var Km={dow:0,doy:6};function $m(){return this._week.dow}function Qm(){return this._week.doy}function ey(be){var ze=this.localeData().week(this);return be==null?ze:this.add((be-ze)*7,"d")}function ty(be){var ze=gf(this,1,4).week;return be==null?ze:this.add((be-ze)*7,"d")}Yr("d",0,"do","day");Yr("dd",0,0,function(be){return this.localeData().weekdaysMin(this,be)});Yr("ddd",0,0,function(be){return this.localeData().weekdaysShort(this,be)});Yr("dddd",0,0,function(be){return this.localeData().weekdays(this,be)});Yr("e",0,0,"weekday");Yr("E",0,0,"isoWeekday");Po("day","d");Po("weekday","e");Po("isoWeekday","E");Io("day",11);Io("weekday",11);Io("isoWeekday",11);Fr("d",va);Fr("e",va);Fr("E",va);Fr("dd",function(be,ze){return ze.weekdaysMinRegex(be)});Fr("ddd",function(be,ze){return ze.weekdaysShortRegex(be)});Fr("dddd",function(be,ze){return ze.weekdaysRegex(be)});wf(["dd","ddd","dddd"],function(be,ze,Ye,Xe){var it=Ye._locale.weekdaysParse(be,Xe,Ye._strict);it!=null?ze.d=it:Qr(Ye).invalidWeekday=be});wf(["d","e","E"],function(be,ze,Ye,Xe){ze[Xe]=li(be)});function ny(be,ze){return typeof be!="string"?be:isNaN(be)?(be=ze.weekdaysParse(be),typeof be=="number"?be:null):parseInt(be,10)}function ry(be,ze){return typeof be=="string"?ze.weekdaysParse(be)%7||7:isNaN(be)?null:be}function Gp(be,ze){return be.slice(ze,7).concat(be.slice(0,ze))}var iy="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),j1="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ay="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),oy=_f,sy=_f,ly=_f;function uy(be,ze){var Ye=yl(this._weekdays)?this._weekdays:this._weekdays[be&&be!==!0&&this._weekdays.isFormat.test(ze)?"format":"standalone"];return be===!0?Gp(Ye,this._week.dow):be?Ye[be.day()]:Ye}function cy(be){return be===!0?Gp(this._weekdaysShort,this._week.dow):be?this._weekdaysShort[be.day()]:this._weekdaysShort}function fy(be){return be===!0?Gp(this._weekdaysMin,this._week.dow):be?this._weekdaysMin[be.day()]:this._weekdaysMin}function hy(be,ze,Ye){var Xe,it,Y,O=be.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Xe=0;Xe<7;++Xe)Y=jl([2e3,1]).day(Xe),this._minWeekdaysParse[Xe]=this.weekdaysMin(Y,"").toLocaleLowerCase(),this._shortWeekdaysParse[Xe]=this.weekdaysShort(Y,"").toLocaleLowerCase(),this._weekdaysParse[Xe]=this.weekdays(Y,"").toLocaleLowerCase();return Ye?ze==="dddd"?(it=Na.call(this._weekdaysParse,O),it!==-1?it:null):ze==="ddd"?(it=Na.call(this._shortWeekdaysParse,O),it!==-1?it:null):(it=Na.call(this._minWeekdaysParse,O),it!==-1?it:null):ze==="dddd"?(it=Na.call(this._weekdaysParse,O),it!==-1||(it=Na.call(this._shortWeekdaysParse,O),it!==-1)?it:(it=Na.call(this._minWeekdaysParse,O),it!==-1?it:null)):ze==="ddd"?(it=Na.call(this._shortWeekdaysParse,O),it!==-1||(it=Na.call(this._weekdaysParse,O),it!==-1)?it:(it=Na.call(this._minWeekdaysParse,O),it!==-1?it:null)):(it=Na.call(this._minWeekdaysParse,O),it!==-1||(it=Na.call(this._weekdaysParse,O),it!==-1)?it:(it=Na.call(this._shortWeekdaysParse,O),it!==-1?it:null))}function py(be,ze,Ye){var Xe,it,Y;if(this._weekdaysParseExact)return hy.call(this,be,ze,Ye);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Xe=0;Xe<7;Xe++){if(it=jl([2e3,1]).day(Xe),Ye&&!this._fullWeekdaysParse[Xe]&&(this._fullWeekdaysParse[Xe]=new RegExp("^"+this.weekdays(it,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Xe]=new RegExp("^"+this.weekdaysShort(it,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Xe]=new RegExp("^"+this.weekdaysMin(it,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Xe]||(Y="^"+this.weekdays(it,"")+"|^"+this.weekdaysShort(it,"")+"|^"+this.weekdaysMin(it,""),this._weekdaysParse[Xe]=new RegExp(Y.replace(".",""),"i")),Ye&&ze==="dddd"&&this._fullWeekdaysParse[Xe].test(be))return Xe;if(Ye&&ze==="ddd"&&this._shortWeekdaysParse[Xe].test(be))return Xe;if(Ye&&ze==="dd"&&this._minWeekdaysParse[Xe].test(be))return Xe;if(!Ye&&this._weekdaysParse[Xe].test(be))return Xe}}function dy(be){if(!this.isValid())return be!=null?this:NaN;var ze=this._isUTC?this._d.getUTCDay():this._d.getDay();return be!=null?(be=ny(be,this.localeData()),this.add(be-ze,"d")):ze}function gy(be){if(!this.isValid())return be!=null?this:NaN;var ze=(this.day()+7-this.localeData()._week.dow)%7;return be==null?ze:this.add(be-ze,"d")}function vy(be){if(!this.isValid())return be!=null?this:NaN;if(be!=null){var ze=ry(be,this.localeData());return this.day(this.day()%7?ze:ze-7)}else return this.day()||7}function my(be){return this._weekdaysParseExact?(Pi(this,"_weekdaysRegex")||Yp.call(this),be?this._weekdaysStrictRegex:this._weekdaysRegex):(Pi(this,"_weekdaysRegex")||(this._weekdaysRegex=oy),this._weekdaysStrictRegex&&be?this._weekdaysStrictRegex:this._weekdaysRegex)}function yy(be){return this._weekdaysParseExact?(Pi(this,"_weekdaysRegex")||Yp.call(this),be?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Pi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sy),this._weekdaysShortStrictRegex&&be?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function xy(be){return this._weekdaysParseExact?(Pi(this,"_weekdaysRegex")||Yp.call(this),be?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Pi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ly),this._weekdaysMinStrictRegex&&be?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Yp(){function be(a,_){return _.length-a.length}var ze=[],Ye=[],Xe=[],it=[],Y,O,e,M,k;for(Y=0;Y<7;Y++)O=jl([2e3,1]).day(Y),e=zs(this.weekdaysMin(O,"")),M=zs(this.weekdaysShort(O,"")),k=zs(this.weekdays(O,"")),ze.push(e),Ye.push(M),Xe.push(k),it.push(e),it.push(M),it.push(k);ze.sort(be),Ye.sort(be),Xe.sort(be),it.sort(be),this._weekdaysRegex=new RegExp("^("+it.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Xe.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Ye.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+ze.join("|")+")","i")}function Wp(){return this.hours()%12||12}function by(){return this.hours()||24}Yr("H",["HH",2],0,"hour");Yr("h",["hh",2],0,Wp);Yr("k",["kk",2],0,by);Yr("hmm",0,0,function(){return""+Wp.apply(this)+zl(this.minutes(),2)});Yr("hmmss",0,0,function(){return""+Wp.apply(this)+zl(this.minutes(),2)+zl(this.seconds(),2)});Yr("Hmm",0,0,function(){return""+this.hours()+zl(this.minutes(),2)});Yr("Hmmss",0,0,function(){return""+this.hours()+zl(this.minutes(),2)+zl(this.seconds(),2)});function U1(be,ze){Yr(be,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),ze)})}U1("a",!0);U1("A",!1);Po("hour","h");Io("hour",13);function V1(be,ze){return ze._meridiemParse}Fr("a",V1);Fr("A",V1);Fr("H",va);Fr("h",va);Fr("k",va);Fr("HH",va,Fs);Fr("hh",va,Fs);Fr("kk",va,Fs);Fr("hmm",O1);Fr("hmmss",P1);Fr("Hmm",O1);Fr("Hmmss",P1);Zi(["H","HH"],Qa);Zi(["k","kk"],function(be,ze,Ye){var Xe=li(be);ze[Qa]=Xe===24?0:Xe});Zi(["a","A"],function(be,ze,Ye){Ye._isPm=Ye._locale.isPM(be),Ye._meridiem=be});Zi(["h","hh"],function(be,ze,Ye){ze[Qa]=li(be),Qr(Ye).bigHour=!0});Zi("hmm",function(be,ze,Ye){var Xe=be.length-2;ze[Qa]=li(be.substr(0,Xe)),ze[ml]=li(be.substr(Xe)),Qr(Ye).bigHour=!0});Zi("hmmss",function(be,ze,Ye){var Xe=be.length-4,it=be.length-2;ze[Qa]=li(be.substr(0,Xe)),ze[ml]=li(be.substr(Xe,2)),ze[ou]=li(be.substr(it)),Qr(Ye).bigHour=!0});Zi("Hmm",function(be,ze,Ye){var Xe=be.length-2;ze[Qa]=li(be.substr(0,Xe)),ze[ml]=li(be.substr(Xe))});Zi("Hmmss",function(be,ze,Ye){var Xe=be.length-4,it=be.length-2;ze[Qa]=li(be.substr(0,Xe)),ze[ml]=li(be.substr(Xe,2)),ze[ou]=li(be.substr(it))});function _y(be){return(be+"").toLowerCase().charAt(0)==="p"}var wy=/[ap]\.?m?\.?/i,Ty=Ec("Hours",!0);function ky(be,ze,Ye){return be>11?Ye?"pm":"PM":Ye?"am":"AM"}var H1={calendar:pm,longDateFormat:mm,invalidDate:xm,ordinal:_m,dayOfMonthOrdinalParse:wm,relativeTime:km,months:Bm,monthsShort:I1,week:Km,weekdays:iy,weekdaysMin:ay,weekdaysShort:j1,meridiemParse:wy},_a={},sf={},vf;function My(be,ze){var Ye,Xe=Math.min(be.length,ze.length);for(Ye=0;Ye<Xe;Ye+=1)if(be[Ye]!==ze[Ye])return Ye;return Xe}function q0(be){return be&&be.toLowerCase().replace("_","-")}function Ay(be){for(var ze=0,Ye,Xe,it,Y;ze<be.length;){for(Y=q0(be[ze]).split("-"),Ye=Y.length,Xe=q0(be[ze+1]),Xe=Xe?Xe.split("-"):null;Ye>0;){if(it=Ch(Y.slice(0,Ye).join("-")),it)return it;if(Xe&&Xe.length>=Ye&&My(Y,Xe)>=Ye-1)break;Ye--}ze++}return vf}function Sy(be){return be.match("^[^/\\\\]*$")!=null}function Ch(be){var ze=null,Ye;if(_a[be]===void 0&&typeof gh<"u"&&gh&&gh.exports&&Sy(be))try{ze=vf._abbr,Ye=require,Ye("./locale/"+be),Eu(ze)}catch{_a[be]=null}return _a[be]}function Eu(be,ze){var Ye;return be&&(vs(ze)?Ye=uu(be):Ye=Zp(be,ze),Ye?vf=Ye:typeof console<"u"&&console.warn&&console.warn("Locale "+be+" not found. Did you forget to load it?")),vf._abbr}function Zp(be,ze){if(ze!==null){var Ye,Xe=H1;if(ze.abbr=be,_a[be]!=null)M1("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Xe=_a[be]._config;else if(ze.parentLocale!=null)if(_a[ze.parentLocale]!=null)Xe=_a[ze.parentLocale]._config;else if(Ye=Ch(ze.parentLocale),Ye!=null)Xe=Ye._config;else return sf[ze.parentLocale]||(sf[ze.parentLocale]=[]),sf[ze.parentLocale].push({name:be,config:ze}),null;return _a[be]=new jp(Lp(Xe,ze)),sf[be]&&sf[be].forEach(function(it){Zp(it.name,it.config)}),Eu(be),_a[be]}else return delete _a[be],null}function Ey(be,ze){if(ze!=null){var Ye,Xe,it=H1;_a[be]!=null&&_a[be].parentLocale!=null?_a[be].set(Lp(_a[be]._config,ze)):(Xe=Ch(be),Xe!=null&&(it=Xe._config),ze=Lp(it,ze),Xe==null&&(ze.abbr=be),Ye=new jp(ze),Ye.parentLocale=_a[be],_a[be]=Ye),Eu(be)}else _a[be]!=null&&(_a[be].parentLocale!=null?(_a[be]=_a[be].parentLocale,be===Eu()&&Eu(be)):_a[be]!=null&&delete _a[be]);return _a[be]}function uu(be){var ze;if(be&&be._locale&&be._locale._abbr&&(be=be._locale._abbr),!be)return vf;if(!yl(be)){if(ze=Ch(be),ze)return ze;be=[be]}return Ay(be)}function Ly(){return Cp(_a)}function Xp(be){var ze,Ye=be._a;return Ye&&Qr(be).overflow===-2&&(ze=Ye[au]<0||Ye[au]>11?au:Ye[Rl]<1||Ye[Rl]>Lh(Ye[Oo],Ye[au])?Rl:Ye[Qa]<0||Ye[Qa]>24||Ye[Qa]===24&&(Ye[ml]!==0||Ye[ou]!==0||Ye[qu]!==0)?Qa:Ye[ml]<0||Ye[ml]>59?ml:Ye[ou]<0||Ye[ou]>59?ou:Ye[qu]<0||Ye[qu]>999?qu:-1,Qr(be)._overflowDayOfYear&&(ze<Oo||ze>Rl)&&(ze=Rl),Qr(be)._overflowWeeks&&ze===-1&&(ze=Rm),Qr(be)._overflowWeekday&&ze===-1&&(ze=zm),Qr(be).overflow=ze),be}var Cy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Oy=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Py=/Z|[+-]\d\d(?::?\d\d)?/,uh=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kp=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Iy=/^\/?Date\((-?\d+)/i,Dy=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ry={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function q1(be){var ze,Ye,Xe=be._i,it=Cy.exec(Xe)||Oy.exec(Xe),Y,O,e,M,k=uh.length,a=kp.length;if(it){for(Qr(be).iso=!0,ze=0,Ye=k;ze<Ye;ze++)if(uh[ze][1].exec(it[1])){O=uh[ze][0],Y=uh[ze][2]!==!1;break}if(O==null){be._isValid=!1;return}if(it[3]){for(ze=0,Ye=a;ze<Ye;ze++)if(kp[ze][1].exec(it[3])){e=(it[2]||" ")+kp[ze][0];break}if(e==null){be._isValid=!1;return}}if(!Y&&e!=null){be._isValid=!1;return}if(it[4])if(Py.exec(it[4]))M="Z";else{be._isValid=!1;return}be._f=O+(e||"")+(M||""),Kp(be)}else be._isValid=!1}function zy(be,ze,Ye,Xe,it,Y){var O=[Fy(be),I1.indexOf(ze),parseInt(Ye,10),parseInt(Xe,10),parseInt(it,10)];return Y&&O.push(parseInt(Y,10)),O}function Fy(be){var ze=parseInt(be,10);return ze<=49?2e3+ze:ze<=999?1900+ze:ze}function By(be){return be.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ny(be,ze,Ye){if(be){var Xe=j1.indexOf(be),it=new Date(ze[0],ze[1],ze[2]).getDay();if(Xe!==it)return Qr(Ye).weekdayMismatch=!0,Ye._isValid=!1,!1}return!0}function jy(be,ze,Ye){if(be)return Ry[be];if(ze)return 0;var Xe=parseInt(Ye,10),it=Xe%100,Y=(Xe-it)/100;return Y*60+it}function G1(be){var ze=Dy.exec(By(be._i)),Ye;if(ze){if(Ye=zy(ze[4],ze[3],ze[2],ze[5],ze[6],ze[7]),!Ny(ze[1],Ye,be))return;be._a=Ye,be._tzm=jy(ze[8],ze[9],ze[10]),be._d=df.apply(null,be._a),be._d.setUTCMinutes(be._d.getUTCMinutes()-be._tzm),Qr(be).rfc2822=!0}else be._isValid=!1}function Uy(be){var ze=Iy.exec(be._i);if(ze!==null){be._d=new Date(+ze[1]);return}if(q1(be),be._isValid===!1)delete be._isValid;else return;if(G1(be),be._isValid===!1)delete be._isValid;else return;be._strict?be._isValid=!1:Cr.createFromInputFallback(be)}Cr.createFromInputFallback=Ks("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(be){be._d=new Date(be._i+(be._useUTC?" UTC":""))});function _c(be,ze,Ye){return be??ze??Ye}function Vy(be){var ze=new Date(Cr.now());return be._useUTC?[ze.getUTCFullYear(),ze.getUTCMonth(),ze.getUTCDate()]:[ze.getFullYear(),ze.getMonth(),ze.getDate()]}function Jp(be){var ze,Ye,Xe=[],it,Y,O;if(!be._d){for(it=Vy(be),be._w&&be._a[Rl]==null&&be._a[au]==null&&Hy(be),be._dayOfYear!=null&&(O=_c(be._a[Oo],it[Oo]),(be._dayOfYear>ff(O)||be._dayOfYear===0)&&(Qr(be)._overflowDayOfYear=!0),Ye=df(O,0,be._dayOfYear),be._a[au]=Ye.getUTCMonth(),be._a[Rl]=Ye.getUTCDate()),ze=0;ze<3&&be._a[ze]==null;++ze)be._a[ze]=Xe[ze]=it[ze];for(;ze<7;ze++)be._a[ze]=Xe[ze]=be._a[ze]==null?ze===2?1:0:be._a[ze];be._a[Qa]===24&&be._a[ml]===0&&be._a[ou]===0&&be._a[qu]===0&&(be._nextDay=!0,be._a[Qa]=0),be._d=(be._useUTC?df:Xm).apply(null,Xe),Y=be._useUTC?be._d.getUTCDay():be._d.getDay(),be._tzm!=null&&be._d.setUTCMinutes(be._d.getUTCMinutes()-be._tzm),be._nextDay&&(be._a[Qa]=24),be._w&&typeof be._w.d<"u"&&be._w.d!==Y&&(Qr(be).weekdayMismatch=!0)}}function Hy(be){var ze,Ye,Xe,it,Y,O,e,M,k;ze=be._w,ze.GG!=null||ze.W!=null||ze.E!=null?(Y=1,O=4,Ye=_c(ze.GG,be._a[Oo],gf(ga(),1,4).year),Xe=_c(ze.W,1),it=_c(ze.E,1),(it<1||it>7)&&(M=!0)):(Y=be._locale._week.dow,O=be._locale._week.doy,k=gf(ga(),Y,O),Ye=_c(ze.gg,be._a[Oo],k.year),Xe=_c(ze.w,k.week),ze.d!=null?(it=ze.d,(it<0||it>6)&&(M=!0)):ze.e!=null?(it=ze.e+Y,(ze.e<0||ze.e>6)&&(M=!0)):it=Y),Xe<1||Xe>su(Ye,Y,O)?Qr(be)._overflowWeeks=!0:M!=null?Qr(be)._overflowWeekday=!0:(e=N1(Ye,Xe,it,Y,O),be._a[Oo]=e.year,be._dayOfYear=e.dayOfYear)}Cr.ISO_8601=function(){};Cr.RFC_2822=function(){};function Kp(be){if(be._f===Cr.ISO_8601){q1(be);return}if(be._f===Cr.RFC_2822){G1(be);return}be._a=[],Qr(be).empty=!0;var ze=""+be._i,Ye,Xe,it,Y,O,e=ze.length,M=0,k,a;for(it=A1(be._f,be._locale).match(Up)||[],a=it.length,Ye=0;Ye<a;Ye++)Y=it[Ye],Xe=(ze.match(Pm(Y,be))||[])[0],Xe&&(O=ze.substr(0,ze.indexOf(Xe)),O.length>0&&Qr(be).unusedInput.push(O),ze=ze.slice(ze.indexOf(Xe)+Xe.length),M+=Xe.length),kc[Y]?(Xe?Qr(be).empty=!1:Qr(be).unusedTokens.push(Y),Dm(Y,Xe,be)):be._strict&&!Xe&&Qr(be).unusedTokens.push(Y);Qr(be).charsLeftOver=e-M,ze.length>0&&Qr(be).unusedInput.push(ze),be._a[Qa]<=12&&Qr(be).bigHour===!0&&be._a[Qa]>0&&(Qr(be).bigHour=void 0),Qr(be).parsedDateParts=be._a.slice(0),Qr(be).meridiem=be._meridiem,be._a[Qa]=qy(be._locale,be._a[Qa],be._meridiem),k=Qr(be).era,k!==null&&(be._a[Oo]=be._locale.erasConvertYear(k,be._a[Oo])),Jp(be),Xp(be)}function qy(be,ze,Ye){var Xe;return Ye==null?ze:be.meridiemHour!=null?be.meridiemHour(ze,Ye):(be.isPM!=null&&(Xe=be.isPM(Ye),Xe&&ze<12&&(ze+=12),!Xe&&ze===12&&(ze=0)),ze)}function Gy(be){var ze,Ye,Xe,it,Y,O,e=!1,M=be._f.length;if(M===0){Qr(be).invalidFormat=!0,be._d=new Date(NaN);return}for(it=0;it<M;it++)Y=0,O=!1,ze=Np({},be),be._useUTC!=null&&(ze._useUTC=be._useUTC),ze._f=be._f[it],Kp(ze),Bp(ze)&&(O=!0),Y+=Qr(ze).charsLeftOver,Y+=Qr(ze).unusedTokens.length*10,Qr(ze).score=Y,e?Y<Xe&&(Xe=Y,Ye=ze):(Xe==null||Y<Xe||O)&&(Xe=Y,Ye=ze,O&&(e=!0));Au(be,Ye||ze)}function Yy(be){if(!be._d){var ze=Vp(be._i),Ye=ze.day===void 0?ze.date:ze.day;be._a=T1([ze.year,ze.month,Ye,ze.hour,ze.minute,ze.second,ze.millisecond],function(Xe){return Xe&&parseInt(Xe,10)}),Jp(be)}}function Wy(be){var ze=new bf(Xp(Y1(be)));return ze._nextDay&&(ze.add(1,"d"),ze._nextDay=void 0),ze}function Y1(be){var ze=be._i,Ye=be._f;return be._locale=be._locale||uu(be._l),ze===null||Ye===void 0&&ze===""?wh({nullInput:!0}):(typeof ze=="string"&&(be._i=ze=be._locale.preparse(ze)),xl(ze)?new bf(Xp(ze)):(xf(ze)?be._d=ze:yl(Ye)?Gy(be):Ye?Kp(be):Zy(be),Bp(be)||(be._d=null),be))}function Zy(be){var ze=be._i;vs(ze)?be._d=new Date(Cr.now()):xf(ze)?be._d=new Date(ze.valueOf()):typeof ze=="string"?Uy(be):yl(ze)?(be._a=T1(ze.slice(0),function(Ye){return parseInt(Ye,10)}),Jp(be)):Gu(ze)?Yy(be):lu(ze)?be._d=new Date(ze):Cr.createFromInputFallback(be)}function W1(be,ze,Ye,Xe,it){var Y={};return(ze===!0||ze===!1)&&(Xe=ze,ze=void 0),(Ye===!0||Ye===!1)&&(Xe=Ye,Ye=void 0),(Gu(be)&&Fp(be)||yl(be)&&be.length===0)&&(be=void 0),Y._isAMomentObject=!0,Y._useUTC=Y._isUTC=it,Y._l=Ye,Y._i=be,Y._f=ze,Y._strict=Xe,Wy(Y)}function ga(be,ze,Ye,Xe){return W1(be,ze,Ye,Xe,!1)}var Xy=Ks("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var be=ga.apply(null,arguments);return this.isValid()&&be.isValid()?be<this?this:be:wh()}),Jy=Ks("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var be=ga.apply(null,arguments);return this.isValid()&&be.isValid()?be>this?this:be:wh()});function Z1(be,ze){var Ye,Xe;if(ze.length===1&&yl(ze[0])&&(ze=ze[0]),!ze.length)return ga();for(Ye=ze[0],Xe=1;Xe<ze.length;++Xe)(!ze[Xe].isValid()||ze[Xe][be](Ye))&&(Ye=ze[Xe]);return Ye}function Ky(){var be=[].slice.call(arguments,0);return Z1("isBefore",be)}function $y(){var be=[].slice.call(arguments,0);return Z1("isAfter",be)}var Qy=function(){return Date.now?Date.now():+new Date},lf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ex(be){var ze,Ye=!1,Xe,it=lf.length;for(ze in be)if(Pi(be,ze)&&!(Na.call(lf,ze)!==-1&&(be[ze]==null||!isNaN(be[ze]))))return!1;for(Xe=0;Xe<it;++Xe)if(be[lf[Xe]]){if(Ye)return!1;parseFloat(be[lf[Xe]])!==li(be[lf[Xe]])&&(Ye=!0)}return!0}function tx(){return this._isValid}function nx(){return bl(NaN)}function Oh(be){var ze=Vp(be),Ye=ze.year||0,Xe=ze.quarter||0,it=ze.month||0,Y=ze.week||ze.isoWeek||0,O=ze.day||0,e=ze.hour||0,M=ze.minute||0,k=ze.second||0,a=ze.millisecond||0;this._isValid=ex(ze),this._milliseconds=+a+k*1e3+M*6e4+e*1e3*60*60,this._days=+O+Y*7,this._months=+it+Xe*3+Ye*12,this._data={},this._locale=uu(),this._bubble()}function ph(be){return be instanceof Oh}function Pp(be){return be<0?Math.round(-1*be)*-1:Math.round(be)}function rx(be,ze,Ye){var Xe=Math.min(be.length,ze.length),it=Math.abs(be.length-ze.length),Y=0,O;for(O=0;O<Xe;O++)(Ye&&be[O]!==ze[O]||!Ye&&li(be[O])!==li(ze[O]))&&Y++;return Y+it}function X1(be,ze){Yr(be,0,0,function(){var Ye=this.utcOffset(),Xe="+";return Ye<0&&(Ye=-Ye,Xe="-"),Xe+zl(~~(Ye/60),2)+ze+zl(~~Ye%60,2)})}X1("Z",":");X1("ZZ","");Fr("Z",Eh);Fr("ZZ",Eh);Zi(["Z","ZZ"],function(be,ze,Ye){Ye._useUTC=!0,Ye._tzm=$p(Eh,be)});var ix=/([\+\-]|\d\d)/gi;function $p(be,ze){var Ye=(ze||"").match(be),Xe,it,Y;return Ye===null?null:(Xe=Ye[Ye.length-1]||[],it=(Xe+"").match(ix)||["-",0,0],Y=+(it[1]*60)+li(it[2]),Y===0?0:it[0]==="+"?Y:-Y)}function Qp(be,ze){var Ye,Xe;return ze._isUTC?(Ye=ze.clone(),Xe=(xl(be)||xf(be)?be.valueOf():ga(be).valueOf())-Ye.valueOf(),Ye._d.setTime(Ye._d.valueOf()+Xe),Cr.updateOffset(Ye,!1),Ye):ga(be).local()}function Ip(be){return-Math.round(be._d.getTimezoneOffset())}Cr.updateOffset=function(){};function ax(be,ze,Ye){var Xe=this._offset||0,it;if(!this.isValid())return be!=null?this:NaN;if(be!=null){if(typeof be=="string"){if(be=$p(Eh,be),be===null)return this}else Math.abs(be)<16&&!Ye&&(be=be*60);return!this._isUTC&&ze&&(it=Ip(this)),this._offset=be,this._isUTC=!0,it!=null&&this.add(it,"m"),Xe!==be&&(!ze||this._changeInProgress?$1(this,bl(be-Xe,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Cr.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Xe:Ip(this)}function ox(be,ze){return be!=null?(typeof be!="string"&&(be=-be),this.utcOffset(be,ze),this):-this.utcOffset()}function sx(be){return this.utcOffset(0,be)}function lx(be){return this._isUTC&&(this.utcOffset(0,be),this._isUTC=!1,be&&this.subtract(Ip(this),"m")),this}function ux(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var be=$p(Cm,this._i);be!=null?this.utcOffset(be):this.utcOffset(0,!0)}return this}function cx(be){return this.isValid()?(be=be?ga(be).utcOffset():0,(this.utcOffset()-be)%60===0):!1}function fx(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function hx(){if(!vs(this._isDSTShifted))return this._isDSTShifted;var be={},ze;return Np(be,this),be=Y1(be),be._a?(ze=be._isUTC?jl(be._a):ga(be._a),this._isDSTShifted=this.isValid()&&rx(be._a,ze.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function px(){return this.isValid()?!this._isUTC:!1}function dx(){return this.isValid()?this._isUTC:!1}function J1(){return this.isValid()?this._isUTC&&this._offset===0:!1}var gx=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,vx=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function bl(be,ze){var Ye=be,Xe=null,it,Y,O;return ph(be)?Ye={ms:be._milliseconds,d:be._days,M:be._months}:lu(be)||!isNaN(+be)?(Ye={},ze?Ye[ze]=+be:Ye.milliseconds=+be):(Xe=gx.exec(be))?(it=Xe[1]==="-"?-1:1,Ye={y:0,d:li(Xe[Rl])*it,h:li(Xe[Qa])*it,m:li(Xe[ml])*it,s:li(Xe[ou])*it,ms:li(Pp(Xe[qu]*1e3))*it}):(Xe=vx.exec(be))?(it=Xe[1]==="-"?-1:1,Ye={y:Vu(Xe[2],it),M:Vu(Xe[3],it),w:Vu(Xe[4],it),d:Vu(Xe[5],it),h:Vu(Xe[6],it),m:Vu(Xe[7],it),s:Vu(Xe[8],it)}):Ye==null?Ye={}:typeof Ye=="object"&&("from"in Ye||"to"in Ye)&&(O=mx(ga(Ye.from),ga(Ye.to)),Ye={},Ye.ms=O.milliseconds,Ye.M=O.months),Y=new Oh(Ye),ph(be)&&Pi(be,"_locale")&&(Y._locale=be._locale),ph(be)&&Pi(be,"_isValid")&&(Y._isValid=be._isValid),Y}bl.fn=Oh.prototype;bl.invalid=nx;function Vu(be,ze){var Ye=be&&parseFloat(be.replace(",","."));return(isNaN(Ye)?0:Ye)*ze}function G0(be,ze){var Ye={};return Ye.months=ze.month()-be.month()+(ze.year()-be.year())*12,be.clone().add(Ye.months,"M").isAfter(ze)&&--Ye.months,Ye.milliseconds=+ze-+be.clone().add(Ye.months,"M"),Ye}function mx(be,ze){var Ye;return be.isValid()&&ze.isValid()?(ze=Qp(ze,be),be.isBefore(ze)?Ye=G0(be,ze):(Ye=G0(ze,be),Ye.milliseconds=-Ye.milliseconds,Ye.months=-Ye.months),Ye):{milliseconds:0,months:0}}function K1(be,ze){return function(Ye,Xe){var it,Y;return Xe!==null&&!isNaN(+Xe)&&(M1(ze,"moment()."+ze+"(period, number) is deprecated. Please use moment()."+ze+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Y=Ye,Ye=Xe,Xe=Y),it=bl(Ye,Xe),$1(this,it,be),this}}function $1(be,ze,Ye,Xe){var it=ze._milliseconds,Y=Pp(ze._days),O=Pp(ze._months);be.isValid()&&(Xe=Xe??!0,O&&R1(be,vh(be,"Month")+O*Ye),Y&&E1(be,"Date",vh(be,"Date")+Y*Ye),it&&be._d.setTime(be._d.valueOf()+it*Ye),Xe&&Cr.updateOffset(be,Y||O))}var yx=K1(1,"add"),xx=K1(-1,"subtract");function Q1(be){return typeof be=="string"||be instanceof String}function bx(be){return xl(be)||xf(be)||Q1(be)||lu(be)||wx(be)||_x(be)||be===null||be===void 0}function _x(be){var ze=Gu(be)&&!Fp(be),Ye=!1,Xe=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],it,Y,O=Xe.length;for(it=0;it<O;it+=1)Y=Xe[it],Ye=Ye||Pi(be,Y);return ze&&Ye}function wx(be){var ze=yl(be),Ye=!1;return ze&&(Ye=be.filter(function(Xe){return!lu(Xe)&&Q1(be)}).length===0),ze&&Ye}function Tx(be){var ze=Gu(be)&&!Fp(be),Ye=!1,Xe=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],it,Y;for(it=0;it<Xe.length;it+=1)Y=Xe[it],Ye=Ye||Pi(be,Y);return ze&&Ye}function kx(be,ze){var Ye=be.diff(ze,"days",!0);return Ye<-6?"sameElse":Ye<-1?"lastWeek":Ye<0?"lastDay":Ye<1?"sameDay":Ye<2?"nextDay":Ye<7?"nextWeek":"sameElse"}function Mx(be,ze){arguments.length===1&&(arguments[0]?bx(arguments[0])?(be=arguments[0],ze=void 0):Tx(arguments[0])&&(ze=arguments[0],be=void 0):(be=void 0,ze=void 0));var Ye=be||ga(),Xe=Qp(Ye,this).startOf("day"),it=Cr.calendarFormat(this,Xe)||"sameElse",Y=ze&&(Ul(ze[it])?ze[it].call(this,Ye):ze[it]);return this.format(Y||this.localeData().calendar(it,this,ga(Ye)))}function Ax(){return new bf(this)}function Sx(be,ze){var Ye=xl(be)?be:ga(be);return this.isValid()&&Ye.isValid()?(ze=$s(ze)||"millisecond",ze==="millisecond"?this.valueOf()>Ye.valueOf():Ye.valueOf()<this.clone().startOf(ze).valueOf()):!1}function Ex(be,ze){var Ye=xl(be)?be:ga(be);return this.isValid()&&Ye.isValid()?(ze=$s(ze)||"millisecond",ze==="millisecond"?this.valueOf()<Ye.valueOf():this.clone().endOf(ze).valueOf()<Ye.valueOf()):!1}function Lx(be,ze,Ye,Xe){var it=xl(be)?be:ga(be),Y=xl(ze)?ze:ga(ze);return this.isValid()&&it.isValid()&&Y.isValid()?(Xe=Xe||"()",(Xe[0]==="("?this.isAfter(it,Ye):!this.isBefore(it,Ye))&&(Xe[1]===")"?this.isBefore(Y,Ye):!this.isAfter(Y,Ye))):!1}function Cx(be,ze){var Ye=xl(be)?be:ga(be),Xe;return this.isValid()&&Ye.isValid()?(ze=$s(ze)||"millisecond",ze==="millisecond"?this.valueOf()===Ye.valueOf():(Xe=Ye.valueOf(),this.clone().startOf(ze).valueOf()<=Xe&&Xe<=this.clone().endOf(ze).valueOf())):!1}function Ox(be,ze){return this.isSame(be,ze)||this.isAfter(be,ze)}function Px(be,ze){return this.isSame(be,ze)||this.isBefore(be,ze)}function Ix(be,ze,Ye){var Xe,it,Y;if(!this.isValid())return NaN;if(Xe=Qp(be,this),!Xe.isValid())return NaN;switch(it=(Xe.utcOffset()-this.utcOffset())*6e4,ze=$s(ze),ze){case"year":Y=dh(this,Xe)/12;break;case"month":Y=dh(this,Xe);break;case"quarter":Y=dh(this,Xe)/3;break;case"second":Y=(this-Xe)/1e3;break;case"minute":Y=(this-Xe)/6e4;break;case"hour":Y=(this-Xe)/36e5;break;case"day":Y=(this-Xe-it)/864e5;break;case"week":Y=(this-Xe-it)/6048e5;break;default:Y=this-Xe}return Ye?Y:Js(Y)}function dh(be,ze){if(be.date()<ze.date())return-dh(ze,be);var Ye=(ze.year()-be.year())*12+(ze.month()-be.month()),Xe=be.clone().add(Ye,"months"),it,Y;return ze-Xe<0?(it=be.clone().add(Ye-1,"months"),Y=(ze-Xe)/(Xe-it)):(it=be.clone().add(Ye+1,"months"),Y=(ze-Xe)/(it-Xe)),-(Ye+Y)||0}Cr.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Cr.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dx(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Rx(be){if(!this.isValid())return null;var ze=be!==!0,Ye=ze?this.clone().utc():this;return Ye.year()<0||Ye.year()>9999?hh(Ye,ze?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ul(Date.prototype.toISOString)?ze?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",hh(Ye,"Z")):hh(Ye,ze?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function zx(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var be="moment",ze="",Ye,Xe,it,Y;return this.isLocal()||(be=this.utcOffset()===0?"moment.utc":"moment.parseZone",ze="Z"),Ye="["+be+'("]',Xe=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",it="-MM-DD[T]HH:mm:ss.SSS",Y=ze+'[")]',this.format(Ye+Xe+it+Y)}function Fx(be){be||(be=this.isUtc()?Cr.defaultFormatUtc:Cr.defaultFormat);var ze=hh(this,be);return this.localeData().postformat(ze)}function Bx(be,ze){return this.isValid()&&(xl(be)&&be.isValid()||ga(be).isValid())?bl({to:this,from:be}).locale(this.locale()).humanize(!ze):this.localeData().invalidDate()}function Nx(be){return this.from(ga(),be)}function jx(be,ze){return this.isValid()&&(xl(be)&&be.isValid()||ga(be).isValid())?bl({from:this,to:be}).locale(this.locale()).humanize(!ze):this.localeData().invalidDate()}function Ux(be){return this.to(ga(),be)}function eg(be){var ze;return be===void 0?this._locale._abbr:(ze=uu(be),ze!=null&&(this._locale=ze),this)}var tg=Ks("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(be){return be===void 0?this.localeData():this.locale(be)});function ng(){return this._locale}var xh=1e3,Mc=60*xh,bh=60*Mc,rg=(365*400+97)*24*bh;function Ac(be,ze){return(be%ze+ze)%ze}function ig(be,ze,Ye){return be<100&&be>=0?new Date(be+400,ze,Ye)-rg:new Date(be,ze,Ye).valueOf()}function ag(be,ze,Ye){return be<100&&be>=0?Date.UTC(be+400,ze,Ye)-rg:Date.UTC(be,ze,Ye)}function Vx(be){var ze,Ye;if(be=$s(be),be===void 0||be==="millisecond"||!this.isValid())return this;switch(Ye=this._isUTC?ag:ig,be){case"year":ze=Ye(this.year(),0,1);break;case"quarter":ze=Ye(this.year(),this.month()-this.month()%3,1);break;case"month":ze=Ye(this.year(),this.month(),1);break;case"week":ze=Ye(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":ze=Ye(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":ze=Ye(this.year(),this.month(),this.date());break;case"hour":ze=this._d.valueOf(),ze-=Ac(ze+(this._isUTC?0:this.utcOffset()*Mc),bh);break;case"minute":ze=this._d.valueOf(),ze-=Ac(ze,Mc);break;case"second":ze=this._d.valueOf(),ze-=Ac(ze,xh);break}return this._d.setTime(ze),Cr.updateOffset(this,!0),this}function Hx(be){var ze,Ye;if(be=$s(be),be===void 0||be==="millisecond"||!this.isValid())return this;switch(Ye=this._isUTC?ag:ig,be){case"year":ze=Ye(this.year()+1,0,1)-1;break;case"quarter":ze=Ye(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":ze=Ye(this.year(),this.month()+1,1)-1;break;case"week":ze=Ye(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":ze=Ye(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":ze=Ye(this.year(),this.month(),this.date()+1)-1;break;case"hour":ze=this._d.valueOf(),ze+=bh-Ac(ze+(this._isUTC?0:this.utcOffset()*Mc),bh)-1;break;case"minute":ze=this._d.valueOf(),ze+=Mc-Ac(ze,Mc)-1;break;case"second":ze=this._d.valueOf(),ze+=xh-Ac(ze,xh)-1;break}return this._d.setTime(ze),Cr.updateOffset(this,!0),this}function qx(){return this._d.valueOf()-(this._offset||0)*6e4}function Gx(){return Math.floor(this.valueOf()/1e3)}function Yx(){return new Date(this.valueOf())}function Wx(){var be=this;return[be.year(),be.month(),be.date(),be.hour(),be.minute(),be.second(),be.millisecond()]}function Zx(){var be=this;return{years:be.year(),months:be.month(),date:be.date(),hours:be.hours(),minutes:be.minutes(),seconds:be.seconds(),milliseconds:be.milliseconds()}}function Xx(){return this.isValid()?this.toISOString():null}function Jx(){return Bp(this)}function Kx(){return Au({},Qr(this))}function $x(){return Qr(this).overflow}function Qx(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Yr("N",0,0,"eraAbbr");Yr("NN",0,0,"eraAbbr");Yr("NNN",0,0,"eraAbbr");Yr("NNNN",0,0,"eraName");Yr("NNNNN",0,0,"eraNarrow");Yr("y",["y",1],"yo","eraYear");Yr("y",["yy",2],0,"eraYear");Yr("y",["yyy",3],0,"eraYear");Yr("y",["yyyy",4],0,"eraYear");Fr("N",ed);Fr("NN",ed);Fr("NNN",ed);Fr("NNNN",c2);Fr("NNNNN",f2);Zi(["N","NN","NNN","NNNN","NNNNN"],function(be,ze,Ye,Xe){var it=Ye._locale.erasParse(be,Xe,Ye._strict);it?Qr(Ye).era=it:Qr(Ye).invalidEra=be});Fr("y",Lc);Fr("yy",Lc);Fr("yyy",Lc);Fr("yyyy",Lc);Fr("yo",h2);Zi(["y","yy","yyy","yyyy"],Oo);Zi(["yo"],function(be,ze,Ye,Xe){var it;Ye._locale._eraYearOrdinalRegex&&(it=be.match(Ye._locale._eraYearOrdinalRegex)),Ye._locale.eraYearOrdinalParse?ze[Oo]=Ye._locale.eraYearOrdinalParse(be,it):ze[Oo]=parseInt(be,10)});function e2(be,ze){var Ye,Xe,it,Y=this._eras||uu("en")._eras;for(Ye=0,Xe=Y.length;Ye<Xe;++Ye){switch(typeof Y[Ye].since){case"string":it=Cr(Y[Ye].since).startOf("day"),Y[Ye].since=it.valueOf();break}switch(typeof Y[Ye].until){case"undefined":Y[Ye].until=1/0;break;case"string":it=Cr(Y[Ye].until).startOf("day").valueOf(),Y[Ye].until=it.valueOf();break}}return Y}function t2(be,ze,Ye){var Xe,it,Y=this.eras(),O,e,M;for(be=be.toUpperCase(),Xe=0,it=Y.length;Xe<it;++Xe)if(O=Y[Xe].name.toUpperCase(),e=Y[Xe].abbr.toUpperCase(),M=Y[Xe].narrow.toUpperCase(),Ye)switch(ze){case"N":case"NN":case"NNN":if(e===be)return Y[Xe];break;case"NNNN":if(O===be)return Y[Xe];break;case"NNNNN":if(M===be)return Y[Xe];break}else if([O,e,M].indexOf(be)>=0)return Y[Xe]}function n2(be,ze){var Ye=be.since<=be.until?1:-1;return ze===void 0?Cr(be.since).year():Cr(be.since).year()+(ze-be.offset)*Ye}function r2(){var be,ze,Ye,Xe=this.localeData().eras();for(be=0,ze=Xe.length;be<ze;++be)if(Ye=this.clone().startOf("day").valueOf(),Xe[be].since<=Ye&&Ye<=Xe[be].until||Xe[be].until<=Ye&&Ye<=Xe[be].since)return Xe[be].name;return""}function i2(){var be,ze,Ye,Xe=this.localeData().eras();for(be=0,ze=Xe.length;be<ze;++be)if(Ye=this.clone().startOf("day").valueOf(),Xe[be].since<=Ye&&Ye<=Xe[be].until||Xe[be].until<=Ye&&Ye<=Xe[be].since)return Xe[be].narrow;return""}function a2(){var be,ze,Ye,Xe=this.localeData().eras();for(be=0,ze=Xe.length;be<ze;++be)if(Ye=this.clone().startOf("day").valueOf(),Xe[be].since<=Ye&&Ye<=Xe[be].until||Xe[be].until<=Ye&&Ye<=Xe[be].since)return Xe[be].abbr;return""}function o2(){var be,ze,Ye,Xe,it=this.localeData().eras();for(be=0,ze=it.length;be<ze;++be)if(Ye=it[be].since<=it[be].until?1:-1,Xe=this.clone().startOf("day").valueOf(),it[be].since<=Xe&&Xe<=it[be].until||it[be].until<=Xe&&Xe<=it[be].since)return(this.year()-Cr(it[be].since).year())*Ye+it[be].offset;return this.year()}function s2(be){return Pi(this,"_erasNameRegex")||td.call(this),be?this._erasNameRegex:this._erasRegex}function l2(be){return Pi(this,"_erasAbbrRegex")||td.call(this),be?this._erasAbbrRegex:this._erasRegex}function u2(be){return Pi(this,"_erasNarrowRegex")||td.call(this),be?this._erasNarrowRegex:this._erasRegex}function ed(be,ze){return ze.erasAbbrRegex(be)}function c2(be,ze){return ze.erasNameRegex(be)}function f2(be,ze){return ze.erasNarrowRegex(be)}function h2(be,ze){return ze._eraYearOrdinalRegex||Lc}function td(){var be=[],ze=[],Ye=[],Xe=[],it,Y,O=this.eras();for(it=0,Y=O.length;it<Y;++it)ze.push(zs(O[it].name)),be.push(zs(O[it].abbr)),Ye.push(zs(O[it].narrow)),Xe.push(zs(O[it].name)),Xe.push(zs(O[it].abbr)),Xe.push(zs(O[it].narrow));this._erasRegex=new RegExp("^("+Xe.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+ze.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+be.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+Ye.join("|")+")","i")}Yr(0,["gg",2],0,function(){return this.weekYear()%100});Yr(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ph(be,ze){Yr(0,[be,be.length],0,ze)}Ph("gggg","weekYear");Ph("ggggg","weekYear");Ph("GGGG","isoWeekYear");Ph("GGGGG","isoWeekYear");Po("weekYear","gg");Po("isoWeekYear","GG");Io("weekYear",1);Io("isoWeekYear",1);Fr("G",Sh);Fr("g",Sh);Fr("GG",va,Fs);Fr("gg",va,Fs);Fr("GGGG",qp,Hp);Fr("gggg",qp,Hp);Fr("GGGGG",Ah,kh);Fr("ggggg",Ah,kh);wf(["gggg","ggggg","GGGG","GGGGG"],function(be,ze,Ye,Xe){ze[Xe.substr(0,2)]=li(be)});wf(["gg","GG"],function(be,ze,Ye,Xe){ze[Xe]=Cr.parseTwoDigitYear(be)});function p2(be){return og.call(this,be,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function d2(be){return og.call(this,be,this.isoWeek(),this.isoWeekday(),1,4)}function g2(){return su(this.year(),1,4)}function v2(){return su(this.isoWeekYear(),1,4)}function m2(){var be=this.localeData()._week;return su(this.year(),be.dow,be.doy)}function y2(){var be=this.localeData()._week;return su(this.weekYear(),be.dow,be.doy)}function og(be,ze,Ye,Xe,it){var Y;return be==null?gf(this,Xe,it).year:(Y=su(be,Xe,it),ze>Y&&(ze=Y),x2.call(this,be,ze,Ye,Xe,it))}function x2(be,ze,Ye,Xe,it){var Y=N1(be,ze,Ye,Xe,it),O=df(Y.year,0,Y.dayOfYear);return this.year(O.getUTCFullYear()),this.month(O.getUTCMonth()),this.date(O.getUTCDate()),this}Yr("Q",0,"Qo","quarter");Po("quarter","Q");Io("quarter",7);Fr("Q",L1);Zi("Q",function(be,ze){ze[au]=(li(be)-1)*3});function b2(be){return be==null?Math.ceil((this.month()+1)/3):this.month((be-1)*3+this.month()%3)}Yr("D",["DD",2],"Do","date");Po("date","D");Io("date",9);Fr("D",va);Fr("DD",va,Fs);Fr("Do",function(be,ze){return be?ze._dayOfMonthOrdinalParse||ze._ordinalParse:ze._dayOfMonthOrdinalParseLenient});Zi(["D","DD"],Rl);Zi("Do",function(be,ze){ze[Rl]=li(be.match(va)[0])});var sg=Ec("Date",!0);Yr("DDD",["DDDD",3],"DDDo","dayOfYear");Po("dayOfYear","DDD");Io("dayOfYear",4);Fr("DDD",Mh);Fr("DDDD",C1);Zi(["DDD","DDDD"],function(be,ze,Ye){Ye._dayOfYear=li(be)});function _2(be){var ze=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return be==null?ze:this.add(be-ze,"d")}Yr("m",["mm",2],0,"minute");Po("minute","m");Io("minute",14);Fr("m",va);Fr("mm",va,Fs);Zi(["m","mm"],ml);var w2=Ec("Minutes",!1);Yr("s",["ss",2],0,"second");Po("second","s");Io("second",15);Fr("s",va);Fr("ss",va,Fs);Zi(["s","ss"],ou);var T2=Ec("Seconds",!1);Yr("S",0,0,function(){return~~(this.millisecond()/100)});Yr(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Yr(0,["SSS",3],0,"millisecond");Yr(0,["SSSS",4],0,function(){return this.millisecond()*10});Yr(0,["SSSSS",5],0,function(){return this.millisecond()*100});Yr(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Yr(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Yr(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Yr(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Po("millisecond","ms");Io("millisecond",16);Fr("S",Mh,L1);Fr("SS",Mh,Fs);Fr("SSS",Mh,C1);var Su,lg;for(Su="SSSS";Su.length<=9;Su+="S")Fr(Su,Lc);function k2(be,ze){ze[qu]=li(("0."+be)*1e3)}for(Su="S";Su.length<=9;Su+="S")Zi(Su,k2);lg=Ec("Milliseconds",!1);Yr("z",0,0,"zoneAbbr");Yr("zz",0,0,"zoneName");function M2(){return this._isUTC?"UTC":""}function A2(){return this._isUTC?"Coordinated Universal Time":""}var _r=bf.prototype;_r.add=yx;_r.calendar=Mx;_r.clone=Ax;_r.diff=Ix;_r.endOf=Hx;_r.format=Fx;_r.from=Bx;_r.fromNow=Nx;_r.to=jx;_r.toNow=Ux;_r.get=Em;_r.invalidAt=$x;_r.isAfter=Sx;_r.isBefore=Ex;_r.isBetween=Lx;_r.isSame=Cx;_r.isSameOrAfter=Ox;_r.isSameOrBefore=Px;_r.isValid=Jx;_r.lang=tg;_r.locale=eg;_r.localeData=ng;_r.max=Jy;_r.min=Xy;_r.parsingFlags=Kx;_r.set=Lm;_r.startOf=Vx;_r.subtract=xx;_r.toArray=Wx;_r.toObject=Zx;_r.toDate=Yx;_r.toISOString=Rx;_r.inspect=zx;typeof Symbol<"u"&&Symbol.for!=null&&(_r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});_r.toJSON=Xx;_r.toString=Dx;_r.unix=Gx;_r.valueOf=qx;_r.creationData=Qx;_r.eraName=r2;_r.eraNarrow=i2;_r.eraAbbr=a2;_r.eraYear=o2;_r.year=B1;_r.isLeapYear=Zm;_r.weekYear=p2;_r.isoWeekYear=d2;_r.quarter=_r.quarters=b2;_r.month=z1;_r.daysInMonth=Gm;_r.week=_r.weeks=ey;_r.isoWeek=_r.isoWeeks=ty;_r.weeksInYear=m2;_r.weeksInWeekYear=y2;_r.isoWeeksInYear=g2;_r.isoWeeksInISOWeekYear=v2;_r.date=sg;_r.day=_r.days=dy;_r.weekday=gy;_r.isoWeekday=vy;_r.dayOfYear=_2;_r.hour=_r.hours=Ty;_r.minute=_r.minutes=w2;_r.second=_r.seconds=T2;_r.millisecond=_r.milliseconds=lg;_r.utcOffset=ax;_r.utc=sx;_r.local=lx;_r.parseZone=ux;_r.hasAlignedHourOffset=cx;_r.isDST=fx;_r.isLocal=px;_r.isUtcOffset=dx;_r.isUtc=J1;_r.isUTC=J1;_r.zoneAbbr=M2;_r.zoneName=A2;_r.dates=Ks("dates accessor is deprecated. Use date instead.",sg);_r.months=Ks("months accessor is deprecated. Use month instead",z1);_r.years=Ks("years accessor is deprecated. Use year instead",B1);_r.zone=Ks("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ox);_r.isDSTShifted=Ks("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",hx);function S2(be){return ga(be*1e3)}function E2(){return ga.apply(null,arguments).parseZone()}function ug(be){return be}var Ii=jp.prototype;Ii.calendar=dm;Ii.longDateFormat=ym;Ii.invalidDate=bm;Ii.ordinal=Tm;Ii.preparse=ug;Ii.postformat=ug;Ii.relativeTime=Mm;Ii.pastFuture=Am;Ii.set=hm;Ii.eras=e2;Ii.erasParse=t2;Ii.erasConvertYear=n2;Ii.erasAbbrRegex=l2;Ii.erasNameRegex=s2;Ii.erasNarrowRegex=u2;Ii.months=Um;Ii.monthsShort=Vm;Ii.monthsParse=qm;Ii.monthsRegex=Wm;Ii.monthsShortRegex=Ym;Ii.week=Jm;Ii.firstDayOfYear=Qm;Ii.firstDayOfWeek=$m;Ii.weekdays=uy;Ii.weekdaysMin=fy;Ii.weekdaysShort=cy;Ii.weekdaysParse=py;Ii.weekdaysRegex=my;Ii.weekdaysShortRegex=yy;Ii.weekdaysMinRegex=xy;Ii.isPM=_y;Ii.meridiem=ky;function _h(be,ze,Ye,Xe){var it=uu(),Y=jl().set(Xe,ze);return it[Ye](Y,be)}function cg(be,ze,Ye){if(lu(be)&&(ze=be,be=void 0),be=be||"",ze!=null)return _h(be,ze,Ye,"month");var Xe,it=[];for(Xe=0;Xe<12;Xe++)it[Xe]=_h(be,Xe,Ye,"month");return it}function nd(be,ze,Ye,Xe){typeof be=="boolean"?(lu(ze)&&(Ye=ze,ze=void 0),ze=ze||""):(ze=be,Ye=ze,be=!1,lu(ze)&&(Ye=ze,ze=void 0),ze=ze||"");var it=uu(),Y=be?it._week.dow:0,O,e=[];if(Ye!=null)return _h(ze,(Ye+Y)%7,Xe,"day");for(O=0;O<7;O++)e[O]=_h(ze,(O+Y)%7,Xe,"day");return e}function L2(be,ze){return cg(be,ze,"months")}function C2(be,ze){return cg(be,ze,"monthsShort")}function O2(be,ze,Ye){return nd(be,ze,Ye,"weekdays")}function P2(be,ze,Ye){return nd(be,ze,Ye,"weekdaysShort")}function I2(be,ze,Ye){return nd(be,ze,Ye,"weekdaysMin")}Eu("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(be){var ze=be%10,Ye=li(be%100/10)===1?"th":ze===1?"st":ze===2?"nd":ze===3?"rd":"th";return be+Ye}});Cr.lang=Ks("moment.lang is deprecated. Use moment.locale instead.",Eu);Cr.langData=Ks("moment.langData is deprecated. Use moment.localeData instead.",uu);var nu=Math.abs;function D2(){var be=this._data;return this._milliseconds=nu(this._milliseconds),this._days=nu(this._days),this._months=nu(this._months),be.milliseconds=nu(be.milliseconds),be.seconds=nu(be.seconds),be.minutes=nu(be.minutes),be.hours=nu(be.hours),be.months=nu(be.months),be.years=nu(be.years),this}function fg(be,ze,Ye,Xe){var it=bl(ze,Ye);return be._milliseconds+=Xe*it._milliseconds,be._days+=Xe*it._days,be._months+=Xe*it._months,be._bubble()}function R2(be,ze){return fg(this,be,ze,1)}function z2(be,ze){return fg(this,be,ze,-1)}function Y0(be){return be<0?Math.floor(be):Math.ceil(be)}function F2(){var be=this._milliseconds,ze=this._days,Ye=this._months,Xe=this._data,it,Y,O,e,M;return be>=0&&ze>=0&&Ye>=0||be<=0&&ze<=0&&Ye<=0||(be+=Y0(Dp(Ye)+ze)*864e5,ze=0,Ye=0),Xe.milliseconds=be%1e3,it=Js(be/1e3),Xe.seconds=it%60,Y=Js(it/60),Xe.minutes=Y%60,O=Js(Y/60),Xe.hours=O%24,ze+=Js(O/24),M=Js(hg(ze)),Ye+=M,ze-=Y0(Dp(M)),e=Js(Ye/12),Ye%=12,Xe.days=ze,Xe.months=Ye,Xe.years=e,this}function hg(be){return be*4800/146097}function Dp(be){return be*146097/4800}function B2(be){if(!this.isValid())return NaN;var ze,Ye,Xe=this._milliseconds;if(be=$s(be),be==="month"||be==="quarter"||be==="year")switch(ze=this._days+Xe/864e5,Ye=this._months+hg(ze),be){case"month":return Ye;case"quarter":return Ye/3;case"year":return Ye/12}else switch(ze=this._days+Math.round(Dp(this._months)),be){case"week":return ze/7+Xe/6048e5;case"day":return ze+Xe/864e5;case"hour":return ze*24+Xe/36e5;case"minute":return ze*1440+Xe/6e4;case"second":return ze*86400+Xe/1e3;case"millisecond":return Math.floor(ze*864e5)+Xe;default:throw new Error("Unknown unit "+be)}}function N2(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+li(this._months/12)*31536e6:NaN}function cu(be){return function(){return this.as(be)}}var j2=cu("ms"),U2=cu("s"),V2=cu("m"),H2=cu("h"),q2=cu("d"),G2=cu("w"),Y2=cu("M"),W2=cu("Q"),Z2=cu("y");function X2(){return bl(this)}function J2(be){return be=$s(be),this.isValid()?this[be+"s"]():NaN}function Wu(be){return function(){return this.isValid()?this._data[be]:NaN}}var K2=Wu("milliseconds"),$2=Wu("seconds"),Q2=Wu("minutes"),eb=Wu("hours"),tb=Wu("days"),nb=Wu("months"),rb=Wu("years");function ib(){return Js(this.days()/7)}var ru=Math.round,wc={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ab(be,ze,Ye,Xe,it){return it.relativeTime(ze||1,!!Ye,be,Xe)}function ob(be,ze,Ye,Xe){var it=bl(be).abs(),Y=ru(it.as("s")),O=ru(it.as("m")),e=ru(it.as("h")),M=ru(it.as("d")),k=ru(it.as("M")),a=ru(it.as("w")),_=ru(it.as("y")),y=Y<=Ye.ss&&["s",Y]||Y<Ye.s&&["ss",Y]||O<=1&&["m"]||O<Ye.m&&["mm",O]||e<=1&&["h"]||e<Ye.h&&["hh",e]||M<=1&&["d"]||M<Ye.d&&["dd",M];return Ye.w!=null&&(y=y||a<=1&&["w"]||a<Ye.w&&["ww",a]),y=y||k<=1&&["M"]||k<Ye.M&&["MM",k]||_<=1&&["y"]||["yy",_],y[2]=ze,y[3]=+be>0,y[4]=Xe,ab.apply(null,y)}function sb(be){return be===void 0?ru:typeof be=="function"?(ru=be,!0):!1}function lb(be,ze){return wc[be]===void 0?!1:ze===void 0?wc[be]:(wc[be]=ze,be==="s"&&(wc.ss=ze-1),!0)}function ub(be,ze){if(!this.isValid())return this.localeData().invalidDate();var Ye=!1,Xe=wc,it,Y;return typeof be=="object"&&(ze=be,be=!1),typeof be=="boolean"&&(Ye=be),typeof ze=="object"&&(Xe=Object.assign({},wc,ze),ze.s!=null&&ze.ss==null&&(Xe.ss=ze.s-1)),it=this.localeData(),Y=ob(this,!Ye,Xe,it),Ye&&(Y=it.pastFuture(+this,Y)),it.postformat(Y)}var Mp=Math.abs;function xc(be){return(be>0)-(be<0)||+be}function Ih(){if(!this.isValid())return this.localeData().invalidDate();var be=Mp(this._milliseconds)/1e3,ze=Mp(this._days),Ye=Mp(this._months),Xe,it,Y,O,e=this.asSeconds(),M,k,a,_;return e?(Xe=Js(be/60),it=Js(Xe/60),be%=60,Xe%=60,Y=Js(Ye/12),Ye%=12,O=be?be.toFixed(3).replace(/\.?0+$/,""):"",M=e<0?"-":"",k=xc(this._months)!==xc(e)?"-":"",a=xc(this._days)!==xc(e)?"-":"",_=xc(this._milliseconds)!==xc(e)?"-":"",M+"P"+(Y?k+Y+"Y":"")+(Ye?k+Ye+"M":"")+(ze?a+ze+"D":"")+(it||Xe||be?"T":"")+(it?_+it+"H":"")+(Xe?_+Xe+"M":"")+(be?_+O+"S":"")):"P0D"}var bi=Oh.prototype;bi.isValid=tx;bi.abs=D2;bi.add=R2;bi.subtract=z2;bi.as=B2;bi.asMilliseconds=j2;bi.asSeconds=U2;bi.asMinutes=V2;bi.asHours=H2;bi.asDays=q2;bi.asWeeks=G2;bi.asMonths=Y2;bi.asQuarters=W2;bi.asYears=Z2;bi.valueOf=N2;bi._bubble=F2;bi.clone=X2;bi.get=J2;bi.milliseconds=K2;bi.seconds=$2;bi.minutes=Q2;bi.hours=eb;bi.days=tb;bi.weeks=ib;bi.months=nb;bi.years=rb;bi.humanize=ub;bi.toISOString=Ih;bi.toString=Ih;bi.toJSON=Ih;bi.locale=eg;bi.localeData=ng;bi.toIsoString=Ks("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ih);bi.lang=tg;Yr("X",0,0,"unix");Yr("x",0,0,"valueOf");Fr("x",Sh);Fr("X",Om);Zi("X",function(be,ze,Ye){Ye._d=new Date(parseFloat(be)*1e3)});Zi("x",function(be,ze,Ye){Ye._d=new Date(li(be))});//! moment.js
Cr.version="2.29.4";cm(ga);Cr.fn=_r;Cr.min=Ky;Cr.max=$y;Cr.now=Qy;Cr.utc=jl;Cr.unix=S2;Cr.months=L2;Cr.isDate=xf;Cr.locale=Eu;Cr.invalid=wh;Cr.duration=bl;Cr.isMoment=xl;Cr.weekdays=O2;Cr.parseZone=E2;Cr.localeData=uu;Cr.isDuration=ph;Cr.monthsShort=C2;Cr.weekdaysMin=I2;Cr.defineLocale=Zp;Cr.updateLocale=Ey;Cr.locales=Ly;Cr.weekdaysShort=P2;Cr.normalizeUnits=$s;Cr.relativeTimeRounding=sb;Cr.relativeTimeThreshold=lb;Cr.calendarFormat=kx;Cr.prototype=_r;Cr.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const cb=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"}));function W0(be,ze,Ye){const Xe=be.slice();return Xe[3]=ze[Ye],Xe}function Z0(be){let ze,Ye=ms(be[0]),Xe=[];for(let it=0;it<Ye.length;it+=1)Xe[it]=X0(W0(be,Ye,it));return{c(){ze=Gr("div");for(let it=0;it<Xe.length;it+=1)Xe[it].c();Nr(ze,"class","freq-graph svelte-12ww3ti")},m(it,Y){Oi(it,ze,Y);for(let O=0;O<Xe.length;O+=1)Xe[O]&&Xe[O].m(ze,null)},p(it,Y){if(Y&1){Ye=ms(it[0]);let O;for(O=0;O<Ye.length;O+=1){const e=W0(it,Ye,O);Xe[O]?Xe[O].p(e,Y):(Xe[O]=X0(e),Xe[O].c(),Xe[O].m(ze,null))}for(;O<Xe.length;O+=1)Xe[O].d(1);Xe.length=Ye.length}},d(it){it&&Ai(ze),Yu(Xe,it)}}}function X0(be){let ze,Ye,Xe=be[3].token+"",it,Y,O;return{c(){ze=Gr("div"),Ye=Gr("div"),it=Fi(Xe),Y=xi(),Nr(Ye,"class","bar svelte-12ww3ti"),j0(Ye,"width",be[3].width+"%"),Nr(ze,"class","token-frequency svelte-12ww3ti"),Nr(ze,"title",O=be[3].count.toLocaleString())},m(e,M){Oi(e,ze,M),br(ze,Ye),br(Ye,it),br(ze,Y)},p(e,M){M&1&&Xe!==(Xe=e[3].token+"")&&wa(it,Xe),M&1&&j0(Ye,"width",e[3].width+"%"),M&1&&O!==(O=e[3].count.toLocaleString())&&Nr(ze,"title",O)},d(e){e&&Ai(ze)}}}function fb(be){let ze,Ye=be[0]!==void 0&&Z0(be);return{c(){Ye&&Ye.c(),ze=yf()},m(Xe,it){Ye&&Ye.m(Xe,it),Oi(Xe,ze,it)},p(Xe,[it]){Xe[0]!==void 0?Ye?Ye.p(Xe,it):(Ye=Z0(Xe),Ye.c(),Ye.m(ze.parentNode,ze)):Ye&&(Ye.d(1),Ye=null)},i:sa,o:sa,d(Xe){Xe&&Ai(ze),Ye&&Ye.d(Xe)}}}const J0=10;function hb(be){let ze=[];for(let[it,Y]of Object.entries(be))ze.push({token:it,count:Y,width:0});ze.sort((it,Y)=>Y.count-it.count);let Ye=0;for(let it=J0;it<ze.length;it++)Ye+=ze[it].count;ze=ze.slice(0,J0),Ye>0&&ze.push({token:"Others",count:Ye,width:0});let Xe=0;for(let it=0;it<ze.length;it++)ze[it].count>Xe&&(Xe=ze[it].count);for(let it=0;it<ze.length;it++)ze[it].width=ze[it].count/Xe*100;return ze}function pb(be,ze,Ye){let Xe;function it(O){Ye(0,Xe=hb(O))}let{freq:Y}=ze;return be.$$set=O=>{"freq"in O&&Ye(1,Y=O.freq)},be.$$.update=()=>{be.$$.dirty&2&&Y&&it(Y)},[Xe,Y]}class db extends Nl{constructor(ze){super(),Bl(this,ze,pb,fb,Fl,{freq:1})}}var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vb(be){return be&&be.__esModule&&Object.prototype.hasOwnProperty.call(be,"default")?be.default:be}function mb(be){if(be.__esModule)return be;var ze=be.default;if(typeof ze=="function"){var Ye=function Xe(){return this instanceof Xe?Reflect.construct(ze,arguments,this.constructor):ze.apply(this,arguments)};Ye.prototype=ze.prototype}else Ye={};return Object.defineProperty(Ye,"__esModule",{value:!0}),Object.keys(be).forEach(function(Xe){var it=Object.getOwnPropertyDescriptor(be,Xe);Object.defineProperty(Ye,Xe,it.get?it:{enumerable:!0,get:function(){return be[Xe]}})}),Ye}var pg={exports:{}};const yb=mb(cb);(function(be,ze){(function(Ye,Xe){be.exports=Xe(yb)})(gb,function(Ye){return function(Xe){function it(O){if(Y[O])return Y[O].exports;var e=Y[O]={i:O,l:!1,exports:{}};return Xe[O].call(e.exports,e,e.exports,it),e.l=!0,e.exports}var Y={};return it.m=Xe,it.c=Y,it.i=function(O){return O},it.d=function(O,e,M){it.o(O,e)||Object.defineProperty(O,e,{configurable:!1,enumerable:!0,get:M})},it.n=function(O){var e=O&&O.__esModule?function(){return O.default}:function(){return O};return it.d(e,"a",e),e},it.o=function(O,e){return Object.prototype.hasOwnProperty.call(O,e)},it.p="",it(it.s=3)}([function(Xe,it,Y){var O=Y(5)();Xe.exports=function(e){return e!==O&&e!==null}},function(Xe,it,Y){Xe.exports=Y(18)()?Symbol:Y(20)},function(Xe,it){Xe.exports=Ye},function(Xe,it,Y){function O(o){return o&&o.__esModule?o:{default:o}}function e(o,u,p){return u in o?Object.defineProperty(o,u,{value:p,enumerable:!0,configurable:!0,writable:!0}):o[u]=p,o}function M(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function k(o){return o.range=function(u,p){var c=this;return typeof u=="string"&&n.hasOwnProperty(u)?new l(o(c).startOf(u),o(c).endOf(u)):new l(u,p)},o.rangeFromInterval=function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o();if(o.isMoment(c)||(c=o(c)),!c.isValid())throw new Error("Invalid date.");var b=c.clone().add(p,u),g=[];return g.push(o.min(c,b)),g.push(o.max(c,b)),new l(g)},o.rangeFromISOString=function(u){var p=a(u),c=o.parseZone(p[0]),b=o.parseZone(p[1]);return new l(c,b)},o.parseZoneRange=o.rangeFromISOString,o.fn.range=o.range,o.range.constructor=l,o.isRange=function(u){return u instanceof l},o.fn.within=function(u){return u.contains(this.toDate())},o}function a(o){return o.split("/")}Object.defineProperty(it,"__esModule",{value:!0}),it.DateRange=void 0;var _=function(){function o(u,p){var c=[],b=!0,g=!1,h=void 0;try{for(var x,v=u[Symbol.iterator]();!(b=(x=v.next()).done)&&(c.push(x.value),!p||c.length!==p);b=!0);}catch(m){g=!0,h=m}finally{try{!b&&v.return&&v.return()}finally{if(g)throw h}}return c}return function(u,p){if(Array.isArray(u))return u;if(Symbol.iterator in Object(u))return o(u,p);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},d=function(){function o(u,p){for(var c=0;c<p.length;c++){var b=p[c];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(u,b.key,b)}}return function(u,p,c){return p&&o(u.prototype,p),c&&o(u,c),u}}();it.extendMoment=k;var s=Y(2),t=O(s),i=Y(1),r=O(i),n={year:!0,quarter:!0,month:!0,week:!0,day:!0,hour:!0,minute:!0,second:!0},l=it.DateRange=function(){function o(u,p){M(this,o);var c=u,b=p;if(arguments.length===1||p===void 0){if((u===void 0?"undefined":y(u))==="object"&&u.length===2){var g=_(u,2);c=g[0],b=g[1]}else if(typeof u=="string"){var h=a(u),x=_(h,2);c=x[0],b=x[1]}}this.start=c||c===0?(0,t.default)(c):(0,t.default)(-864e13),this.end=b||b===0?(0,t.default)(b):(0,t.default)(864e13)}return d(o,[{key:"adjacent",value:function(u){var p=this.start.isSame(u.end),c=this.end.isSame(u.start);return p&&u.start.valueOf()<=this.start.valueOf()||c&&u.end.valueOf()>=this.end.valueOf()}},{key:"add",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{adjacent:!1};return this.overlaps(u,p)?new this.constructor(t.default.min(this.start,u.start),t.default.max(this.end,u.end)):null}},{key:"by",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeEnd:!1,step:1},c=this;return e({},r.default.iterator,function(){var b=p.step||1,g=Math.abs(c.start.diff(c.end,u))/b,h=p.excludeEnd||!1,x=0;return p.hasOwnProperty("exclusive")&&(h=p.exclusive),{next:function(){var v=c.start.clone().add(x*b,u),m=h?!(x<g):!(x<=g);return x++,{done:m,value:m?void 0:v}}}})}},{key:"byRange",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeEnd:!1,step:1},c=this,b=p.step||1,g=this.valueOf()/u.valueOf()/b,h=Math.floor(g),x=p.excludeEnd||!1,v=0;return p.hasOwnProperty("exclusive")&&(x=p.exclusive),e({},r.default.iterator,function(){return h===1/0?{done:!0}:{next:function(){var m=(0,t.default)(c.start.valueOf()+u.valueOf()*v*b),w=h===g&&x?!(v<h):!(v<=h);return v++,{done:w,value:w?void 0:m}}}})}},{key:"center",value:function(){var u=this.start.valueOf()+this.diff()/2;return(0,t.default)(u)}},{key:"clone",value:function(){return new this.constructor(this.start.clone(),this.end.clone())}},{key:"contains",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,excludeEnd:!1},c=this.start.valueOf(),b=this.end.valueOf(),g=u.valueOf(),h=u.valueOf(),x=p.excludeStart||!1,v=p.excludeEnd||!1;p.hasOwnProperty("exclusive")&&(x=v=p.exclusive),u instanceof o&&(g=u.start.valueOf(),h=u.end.valueOf());var m=c<g||c<=g&&!x,w=b>h||b>=h&&!v;return m&&w}},{key:"diff",value:function(u,p){return this.end.diff(this.start,u,p)}},{key:"duration",value:function(u,p){return this.diff(u,p)}},{key:"intersect",value:function(u){var p=this.start.valueOf(),c=this.end.valueOf(),b=u.start.valueOf(),g=u.end.valueOf(),h=p==c,x=b==g;if(h){var v=p;if(v==b||v==g)return null;if(v>b&&v<g)return this.clone()}else if(x){var m=b;if(m==p||m==c)return null;if(m>p&&m<c)return new this.constructor(m,m)}return p<=b&&b<c&&c<g?new this.constructor(b,c):b<p&&p<g&&g<=c?new this.constructor(p,g):b<p&&p<=c&&c<g?this.clone():p<=b&&b<=g&&g<=c?new this.constructor(b,g):null}},{key:"isEqual",value:function(u){return this.start.isSame(u.start)&&this.end.isSame(u.end)}},{key:"isSame",value:function(u){return this.isEqual(u)}},{key:"overlaps",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{adjacent:!1},c=this.intersect(u)!==null;return p.adjacent&&!c?this.adjacent(u):c}},{key:"reverseBy",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,step:1},c=this;return e({},r.default.iterator,function(){var b=p.step||1,g=Math.abs(c.start.diff(c.end,u))/b,h=p.excludeStart||!1,x=0;return p.hasOwnProperty("exclusive")&&(h=p.exclusive),{next:function(){var v=c.end.clone().subtract(x*b,u),m=h?!(x<g):!(x<=g);return x++,{done:m,value:m?void 0:v}}}})}},{key:"reverseByRange",value:function(u){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{excludeStart:!1,step:1},c=this,b=p.step||1,g=this.valueOf()/u.valueOf()/b,h=Math.floor(g),x=p.excludeStart||!1,v=0;return p.hasOwnProperty("exclusive")&&(x=p.exclusive),e({},r.default.iterator,function(){return h===1/0?{done:!0}:{next:function(){var m=(0,t.default)(c.end.valueOf()-u.valueOf()*v*b),w=h===g&&x?!(v<h):!(v<=h);return v++,{done:w,value:w?void 0:m}}}})}},{key:"snapTo",value:function(u){var p=this.clone();return p.start.isSame((0,t.default)(-864e13))||(p.start=p.start.startOf(u)),p.end.isSame((0,t.default)(864e13))||(p.end=p.end.endOf(u)),p}},{key:"subtract",value:function(u){var p=this.start.valueOf(),c=this.end.valueOf(),b=u.start.valueOf(),g=u.end.valueOf();return this.intersect(u)===null?[this]:b<=p&&p<c&&c<=g?[]:b<=p&&p<g&&g<c?[new this.constructor(g,c)]:p<b&&b<c&&c<=g?[new this.constructor(p,b)]:p<b&&b<g&&g<c?[new this.constructor(p,b),new this.constructor(g,c)]:p<b&&b<c&&g<c?[new this.constructor(p,b),new this.constructor(b,c)]:[]}},{key:"toDate",value:function(){return[this.start.toDate(),this.end.toDate()]}},{key:"toString",value:function(){return this.start.format()+"/"+this.end.format()}},{key:"valueOf",value:function(){return this.end.valueOf()-this.start.valueOf()}}]),o}()},function(Xe,it,Y){var O,e=Y(6),M=Y(13),k=Y(9),a=Y(15);O=Xe.exports=function(_,y){var d,s,t,i,r;return arguments.length<2||typeof _!="string"?(i=y,y=_,_=null):i=arguments[2],_==null?(d=t=!0,s=!1):(d=a.call(_,"c"),s=a.call(_,"e"),t=a.call(_,"w")),r={value:y,configurable:d,enumerable:s,writable:t},i?e(M(i),r):r},O.gs=function(_,y,d){var s,t,i,r;return typeof _!="string"?(i=d,d=y,y=_,_=null):i=arguments[3],y==null?y=void 0:k(y)?d==null?d=void 0:k(d)||(i=d,d=void 0):(i=y,y=d=void 0),_==null?(s=!0,t=!1):(s=a.call(_,"c"),t=a.call(_,"e")),r={get:y,set:d,configurable:s,enumerable:t},i?e(M(i),r):r}},function(Xe,it,Y){Xe.exports=function(){}},function(Xe,it,Y){Xe.exports=Y(7)()?Object.assign:Y(8)},function(Xe,it,Y){Xe.exports=function(){var O,e=Object.assign;return typeof e=="function"&&(O={foo:"raz"},e(O,{bar:"dwa"},{trzy:"trzy"}),O.foo+O.bar+O.trzy==="razdwatrzy")}},function(Xe,it,Y){var O=Y(10),e=Y(14),M=Math.max;Xe.exports=function(k,a){var _,y,d,s=M(arguments.length,2);for(k=Object(e(k)),d=function(t){try{k[t]=a[t]}catch(i){_||(_=i)}},y=1;y<s;++y)a=arguments[y],O(a).forEach(d);if(_!==void 0)throw _;return k}},function(Xe,it,Y){Xe.exports=function(O){return typeof O=="function"}},function(Xe,it,Y){Xe.exports=Y(11)()?Object.keys:Y(12)},function(Xe,it,Y){Xe.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},function(Xe,it,Y){var O=Y(0),e=Object.keys;Xe.exports=function(M){return e(O(M)?Object(M):M)}},function(Xe,it,Y){var O=Y(0),e=Array.prototype.forEach,M=Object.create,k=function(a,_){var y;for(y in a)_[y]=a[y]};Xe.exports=function(a){var _=M(null);return e.call(arguments,function(y){O(y)&&k(Object(y),_)}),_}},function(Xe,it,Y){var O=Y(0);Xe.exports=function(e){if(!O(e))throw new TypeError("Cannot use null or undefined");return e}},function(Xe,it,Y){Xe.exports=Y(16)()?String.prototype.contains:Y(17)},function(Xe,it,Y){var O="razdwatrzy";Xe.exports=function(){return typeof O.contains=="function"&&O.contains("dwa")===!0&&O.contains("foo")===!1}},function(Xe,it,Y){var O=String.prototype.indexOf;Xe.exports=function(e){return O.call(this,e,arguments[1])>-1}},function(Xe,it,Y){var O={object:!0,symbol:!0};Xe.exports=function(){var e;if(typeof Symbol!="function")return!1;e=Symbol("test symbol");try{String(e)}catch{return!1}return!!O[typeof Symbol.iterator]&&!!O[typeof Symbol.toPrimitive]&&!!O[typeof Symbol.toStringTag]}},function(Xe,it,Y){Xe.exports=function(O){return!!O&&(typeof O=="symbol"||!!O.constructor&&O.constructor.name==="Symbol"&&O[O.constructor.toStringTag]==="Symbol")}},function(Xe,it,Y){var O,e,M,k,a=Y(4),_=Y(21),y=Object.create,d=Object.defineProperties,s=Object.defineProperty,t=Object.prototype,i=y(null);if(typeof Symbol=="function"){O=Symbol;try{String(O()),k=!0}catch{}}var r=function(){var n=y(null);return function(l){for(var o,u,p=0;n[l+(p||"")];)++p;return l+=p||"",n[l]=!0,o="@@"+l,s(t,o,a.gs(null,function(c){u||(u=!0,s(this,o,a(c)),u=!1)})),o}}();M=function(n){if(this instanceof M)throw new TypeError("Symbol is not a constructor");return e(n)},Xe.exports=e=function n(l){var o;if(this instanceof n)throw new TypeError("Symbol is not a constructor");return k?O(l):(o=y(M.prototype),l=l===void 0?"":String(l),d(o,{__description__:a("",l),__name__:a("",r(l))}))},d(e,{for:a(function(n){return i[n]?i[n]:i[n]=e(String(n))}),keyFor:a(function(n){var l;_(n);for(l in i)if(i[l]===n)return l}),hasInstance:a("",O&&O.hasInstance||e("hasInstance")),isConcatSpreadable:a("",O&&O.isConcatSpreadable||e("isConcatSpreadable")),iterator:a("",O&&O.iterator||e("iterator")),match:a("",O&&O.match||e("match")),replace:a("",O&&O.replace||e("replace")),search:a("",O&&O.search||e("search")),species:a("",O&&O.species||e("species")),split:a("",O&&O.split||e("split")),toPrimitive:a("",O&&O.toPrimitive||e("toPrimitive")),toStringTag:a("",O&&O.toStringTag||e("toStringTag")),unscopables:a("",O&&O.unscopables||e("unscopables"))}),d(M.prototype,{constructor:a(e),toString:a("",function(){return this.__name__})}),d(e.prototype,{toString:a(function(){return"Symbol ("+_(this).__description__+")"}),valueOf:a(function(){return _(this)})}),s(e.prototype,e.toPrimitive,a("",function(){var n=_(this);return typeof n=="symbol"?n:n.toString()})),s(e.prototype,e.toStringTag,a("c","Symbol")),s(M.prototype,e.toStringTag,a("c",e.prototype[e.toStringTag])),s(M.prototype,e.toPrimitive,a("c",e.prototype[e.toPrimitive]))},function(Xe,it,Y){var O=Y(19);Xe.exports=function(e){if(!O(e))throw new TypeError(e+" is not a symbol");return e}}])})})(pg);var dg=pg.exports;function K0(be,ze,Ye){const Xe=be.slice();return Xe[8]=ze[Ye],Xe}function $0(be,ze,Ye){const Xe=be.slice();return Xe[11]=ze[Ye],Xe[13]=Ye,Xe}function Q0(be){let ze,Ye,Xe,it,Y=be[3][0].toLocaleString()+"",O,e,M,k=be[3][be[3].length-1].toLocaleString()+"",a,_=ms(be[0].slice(0,10)),y=[];for(let d=0;d<_.length;d+=1)y[d]=t1(K0(be,_,d));return{c(){ze=Gr("div");for(let d=0;d<y.length;d+=1)y[d].c();Ye=xi(),Xe=Gr("div"),it=Gr("div"),O=Fi(Y),e=xi(),M=Gr("div"),a=Fi(k),Nr(ze,"class","freq-graph svelte-7q8dja"),Nr(it,"class","time svelte-7q8dja"),Nr(M,"class","time max-time svelte-7q8dja"),Nr(Xe,"class","time-range svelte-7q8dja")},m(d,s){Oi(d,ze,s);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(ze,null);Oi(d,Ye,s),Oi(d,Xe,s),br(Xe,it),br(it,O),br(Xe,e),br(Xe,M),br(M,a)},p(d,s){if(s&15){_=ms(d[0].slice(0,10));let t;for(t=0;t<_.length;t+=1){const i=K0(d,_,t);y[t]?y[t].p(i,s):(y[t]=t1(i),y[t].c(),y[t].m(ze,null))}for(;t<y.length;t+=1)y[t].d(1);y.length=_.length}s&8&&Y!==(Y=d[3][0].toLocaleString()+"")&&wa(O,Y),s&8&&k!==(k=d[3][d[3].length-1].toLocaleString()+"")&&wa(a,k)},d(d){d&&(Ai(ze),Ai(Ye),Ai(Xe)),Yu(y,d)}}}function e1(be){let ze,Ye,Xe;return{c(){ze=Gr("div"),Nr(ze,"class","day svelte-7q8dja"),Nr(ze,"title",Ye=`${be[11].toLocaleString()}
${be[1][be[8].value][be[13]]} occurances`),Nr(ze,"style",Xe=be[1][be[8].value][be[13]]==0?"background: #111":`opacity: ${be[1][be[8].value][be[13]]/be[2][be[8].value]*100}%`)},m(it,Y){Oi(it,ze,Y)},p(it,Y){Y&11&&Ye!==(Ye=`${it[11].toLocaleString()}
${it[1][it[8].value][it[13]]} occurances`)&&Nr(ze,"title",Ye),Y&7&&Xe!==(Xe=it[1][it[8].value][it[13]]==0?"background: #111":`opacity: ${it[1][it[8].value][it[13]]/it[2][it[8].value]*100}%`)&&Nr(ze,"style",Xe)},d(it){it&&Ai(ze)}}}function t1(be){let ze,Ye=be[8].value+"",Xe,it,Y,O,e=ms(be[3]),M=[];for(let k=0;k<e.length;k+=1)M[k]=e1($0(be,e,k));return{c(){ze=Gr("div"),Xe=Fi(Ye),it=xi(),Y=Gr("div");for(let k=0;k<M.length;k+=1)M[k].c();O=xi(),Nr(ze,"class","value-name svelte-7q8dja"),Nr(Y,"class","days svelte-7q8dja")},m(k,a){Oi(k,ze,a),br(ze,Xe),Oi(k,it,a),Oi(k,Y,a);for(let _=0;_<M.length;_+=1)M[_]&&M[_].m(Y,null);br(Y,O)},p(k,a){if(a&1&&Ye!==(Ye=k[8].value+"")&&wa(Xe,Ye),a&15){e=ms(k[3]);let _;for(_=0;_<e.length;_+=1){const y=$0(k,e,_);M[_]?M[_].p(y,a):(M[_]=e1(y),M[_].c(),M[_].m(Y,O))}for(;_<M.length;_+=1)M[_].d(1);M.length=e.length}},d(k){k&&(Ai(ze),Ai(it),Ai(Y)),Yu(M,k)}}}function xb(be){let ze,Ye=be[2]!=null&&Q0(be);return{c(){Ye&&Ye.c(),ze=yf()},m(Xe,it){Ye&&Ye.m(Xe,it),Oi(Xe,ze,it)},p(Xe,[it]){Xe[2]!=null?Ye?Ye.p(Xe,it):(Ye=Q0(Xe),Ye.c(),Ye.m(ze.parentNode,ze)):Ye&&(Ye.d(1),Ye=null)},i:sa,o:sa,d(Xe){Xe&&Ai(ze),Ye&&Ye.d(Xe)}}}function bb(be,ze,Ye,Xe){if(Ye===null)return{};const it=Xe.map(O=>new Date(O).getTime()),Y={};for(let O=0;O<be.extraction.length;O++){const e=be.extraction[O].params;if(!(ze in e)||!(Ye in e))continue;const M=new Date(e[Ye].value).getTime(),k={index:-1,diff:Number.MAX_VALUE};for(let _=0;_<it.length;_++){const y=Math.abs(it[_]-M);if(y<k.diff)k.index=_,k.diff=y;else break}const a=e[ze].value;a in Y||(Y[a]=Array(Xe.length).fill(0)),Y[a][k.index]+=1}return Y}function _b(be){let ze=[];for(let[Ye,Xe]of Object.entries(be)){const it=Xe.reduce((Y,O)=>Y+O,0);ze.push({value:Ye,total:it})}return ze.sort((Ye,Xe)=>Xe.total-Ye.total),ze}function wb(be){const ze={};for(let Ye of Object.keys(be))ze[Ye]=Math.max(...be[Ye]);return ze}function Tb(be,ze){if(ze===null)return[null,null];let Ye=new Date(-864e13),Xe=new Date(864e13);for(let it=0;it<be.extraction.length;it++){if(!(ze in be.extraction[it].params))continue;const Y=new Date(be.extraction[it].params[ze].value);Y>Ye&&(Ye=Y),Y<Xe&&(Xe=Y)}return[Xe,Ye]}function kb(be,ze,Ye){const Xe=dg.extendMoment(Cr);let it,Y,O,e;Lu(()=>{const[_,y]=Tb(M,a);if(_===null||y===null)return;const d=Xe.range(_,y);Ye(3,e=Array.from(d.by("minutes",{step:50}))),Ye(1,Y=bb(M,k,a,e)),Ye(0,it=_b(Y)),Ye(2,O=wb(Y))});let{data:M,token:k,timestampToken:a}=ze;return be.$$set=_=>{"data"in _&&Ye(4,M=_.data),"token"in _&&Ye(5,k=_.token),"timestampToken"in _&&Ye(6,a=_.timestampToken)},[it,Y,O,e,M,k,a]}class Mb extends Nl{constructor(ze){super(),Bl(this,ze,kb,xb,Fl,{data:4,token:5,timestampToken:6})}}function n1(be){let ze,Ye,Xe,it=be[0].lq.toLocaleString()+"",Y,O,e,M,k,a,_=be[0].median.toLocaleString()+"",y,d,s,t,i,r,n=be[0].uq.toLocaleString()+"",l,o,u,p,c,b,g=be[0].p95.toLocaleString()+"",h,x,v,m,w,f,S=be[0].p99.toLocaleString()+"",T,E,L;return{c(){ze=Gr("div"),Ye=Gr("div"),Xe=Gr("div"),Y=Fi(it),O=xi(),e=Gr("div"),e.textContent="LQ",M=xi(),k=Gr("div"),a=Gr("div"),y=Fi(_),d=xi(),s=Gr("div"),s.textContent="Median",t=xi(),i=Gr("div"),r=Gr("div"),l=Fi(n),o=xi(),u=Gr("div"),u.textContent="UQ",p=xi(),c=Gr("div"),b=Gr("div"),h=Fi(g),x=xi(),v=Gr("div"),v.textContent="p95",m=xi(),w=Gr("div"),f=Gr("div"),T=Fi(S),E=xi(),L=Gr("div"),L.textContent="p99",Nr(Xe,"class","value svelte-1cmlzax"),Nr(e,"class","label svelte-1cmlzax"),Nr(Ye,"class","statistic svelte-1cmlzax"),Nr(a,"class","value svelte-1cmlzax"),Nr(s,"class","label svelte-1cmlzax"),Nr(k,"class","statistic svelte-1cmlzax"),Nr(r,"class","value svelte-1cmlzax"),Nr(u,"class","label svelte-1cmlzax"),Nr(i,"class","statistic svelte-1cmlzax"),Nr(b,"class","value svelte-1cmlzax"),Nr(v,"class","label svelte-1cmlzax"),Nr(c,"class","statistic svelte-1cmlzax"),Nr(f,"class","value svelte-1cmlzax"),Nr(L,"class","label svelte-1cmlzax"),Nr(w,"class","statistic svelte-1cmlzax"),Nr(ze,"class","container svelte-1cmlzax")},m(C,P){Oi(C,ze,P),br(ze,Ye),br(Ye,Xe),br(Xe,Y),br(Ye,O),br(Ye,e),br(ze,M),br(ze,k),br(k,a),br(a,y),br(k,d),br(k,s),br(ze,t),br(ze,i),br(i,r),br(r,l),br(i,o),br(i,u),br(ze,p),br(ze,c),br(c,b),br(b,h),br(c,x),br(c,v),br(ze,m),br(ze,w),br(w,f),br(f,T),br(w,E),br(w,L)},p(C,P){P&1&&it!==(it=C[0].lq.toLocaleString()+"")&&wa(Y,it),P&1&&_!==(_=C[0].median.toLocaleString()+"")&&wa(y,_),P&1&&n!==(n=C[0].uq.toLocaleString()+"")&&wa(l,n),P&1&&g!==(g=C[0].p95.toLocaleString()+"")&&wa(h,g),P&1&&S!==(S=C[0].p99.toLocaleString()+"")&&wa(T,S)},d(C){C&&Ai(ze)}}}function Ab(be){let ze,Ye=be[0]&&n1(be);return{c(){Ye&&Ye.c(),ze=yf()},m(Xe,it){Ye&&Ye.m(Xe,it),Oi(Xe,ze,it)},p(Xe,[it]){Xe[0]?Ye?Ye.p(Xe,it):(Ye=n1(Xe),Ye.c(),Ye.m(ze.parentNode,ze)):Ye&&(Ye.d(1),Ye=null)},i:sa,o:sa,d(Xe){Xe&&Ai(ze),Ye&&Ye.d(Xe)}}}function Sb(be){return be.sort((ze,Ye)=>ze-Ye)}function ch(be,ze){const Ye=Sb(be),Xe=(Ye.length-1)*ze,it=Math.floor(Xe),Y=Xe-it;return Ye[it+1]!=null?Ye[it]+Y*(Ye[it+1]-Ye[it]):Ye[it]!=null?Ye[it]:0}function Eb(be,ze){const Ye=[];for(let Xe=0;Xe<be.extraction.length;Xe++){if(!(ze in be.extraction[Xe].params))continue;const it=be.extraction[Xe].params[ze].value;typeof it=="number"&&Ye.push(it)}return Ye.sort()}function Lb(be,ze,Ye){let Xe;Lu(()=>{const O=Eb(it,Y);O.length!=0&&Ye(0,Xe={median:O[Math.floor(O.length/2)],lq:ch(O,.25),uq:ch(O,.75),p95:ch(O,.95),p99:ch(O,.99)})});let{data:it,token:Y}=ze;return be.$$set=O=>{"data"in O&&Ye(1,it=O.data),"token"in O&&Ye(2,Y=O.token)},[Xe,it,Y]}class Cb extends Nl{constructor(ze){super(),Bl(this,ze,Lb,Ab,Fl,{data:1,token:2})}}var gg={exports:{}};(function(be,ze){/*! For license information please see plotly.min.js.LICENSE.txt */(function(Ye,Xe){be.exports=Xe()})(self,function(){return function(){var Ye={98847:function(Y,O,e){var M=e(71828),k={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var a in k){var _=a.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");M.addStyleRule(_,k[a])}},98222:function(Y,O,e){Y.exports=e(82887)},27206:function(Y,O,e){Y.exports=e(60822)},59893:function(Y,O,e){Y.exports=e(23381)},5224:function(Y,O,e){Y.exports=e(83832)},59509:function(Y,O,e){Y.exports=e(72201)},75557:function(Y,O,e){Y.exports=e(91815)},40338:function(Y,O,e){Y.exports=e(21462)},35080:function(Y,O,e){Y.exports=e(51319)},61396:function(Y,O,e){Y.exports=e(57516)},40549:function(Y,O,e){Y.exports=e(98128)},49866:function(Y,O,e){Y.exports=e(99442)},36089:function(Y,O,e){Y.exports=e(93740)},19548:function(Y,O,e){Y.exports=e(8729)},35831:function(Y,O,e){Y.exports=e(93814)},61039:function(Y,O,e){Y.exports=e(14382)},97040:function(Y,O,e){Y.exports=e(51759)},77986:function(Y,O,e){Y.exports=e(10421)},24296:function(Y,O,e){Y.exports=e(43102)},58872:function(Y,O,e){Y.exports=e(92165)},29626:function(Y,O,e){Y.exports=e(3325)},65591:function(Y,O,e){Y.exports=e(36071)},69738:function(Y,O,e){Y.exports=e(43905)},92650:function(Y,O,e){Y.exports=e(35902)},35630:function(Y,O,e){Y.exports=e(69816)},73434:function(Y,O,e){Y.exports=e(94507)},27909:function(Y,O,e){var M=e(19548);M.register([e(27206),e(5224),e(58872),e(65591),e(69738),e(92650),e(49866),e(25743),e(6197),e(97040),e(85461),e(73434),e(54201),e(81299),e(47645),e(35630),e(77986),e(83043),e(93005),e(96881),e(4534),e(50581),e(40549),e(77900),e(47582),e(35080),e(21641),e(17280),e(5861),e(29626),e(10021),e(65317),e(96268),e(61396),e(35831),e(16122),e(46163),e(40344),e(40338),e(48131),e(36089),e(55334),e(75557),e(19440),e(99488),e(59893),e(97393),e(98222),e(61039),e(24296),e(66398),e(59509)]),Y.exports=M},46163:function(Y,O,e){Y.exports=e(15154)},96881:function(Y,O,e){Y.exports=e(64943)},50581:function(Y,O,e){Y.exports=e(21164)},55334:function(Y,O,e){Y.exports=e(54186)},65317:function(Y,O,e){Y.exports=e(94873)},10021:function(Y,O,e){Y.exports=e(67618)},54201:function(Y,O,e){Y.exports=e(58810)},5861:function(Y,O,e){Y.exports=e(20593)},16122:function(Y,O,e){Y.exports=e(29396)},83043:function(Y,O,e){Y.exports=e(13551)},48131:function(Y,O,e){Y.exports=e(46858)},47582:function(Y,O,e){Y.exports=e(17988)},21641:function(Y,O,e){Y.exports=e(68868)},96268:function(Y,O,e){Y.exports=e(20467)},19440:function(Y,O,e){Y.exports=e(91271)},99488:function(Y,O,e){Y.exports=e(21461)},97393:function(Y,O,e){Y.exports=e(85956)},25743:function(Y,O,e){Y.exports=e(52979)},66398:function(Y,O,e){Y.exports=e(32275)},17280:function(Y,O,e){Y.exports=e(6419)},77900:function(Y,O,e){Y.exports=e(61510)},81299:function(Y,O,e){Y.exports=e(87619)},93005:function(Y,O,e){Y.exports=e(93601)},40344:function(Y,O,e){Y.exports=e(96595)},47645:function(Y,O,e){Y.exports=e(70954)},6197:function(Y,O,e){Y.exports=e(47462)},4534:function(Y,O,e){Y.exports=e(17659)},85461:function(Y,O,e){Y.exports=e(19990)},82884:function(Y){Y.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(Y,O,e){var M=e(82884),k=e(41940),a=e(85555),_=e(44467).templatedArray;e(24695),Y.exports=_("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:M.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",a.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:k({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(Y,O,e){var M=e(71828),k=e(89298),a=e(92605).draw;function _(d){var s=d._fullLayout;M.filterVisible(s.annotations).forEach(function(t){var i=k.getFromId(d,t.xref),r=k.getFromId(d,t.yref),n=k.getRefType(t.xref),l=k.getRefType(t.yref);t._extremes={},n==="range"&&y(t,i),l==="range"&&y(t,r)})}function y(d,s){var t,i=s._id,r=i.charAt(0),n=d[r],l=d["a"+r],o=d[r+"ref"],u=d["a"+r+"ref"],p=d["_"+r+"padplus"],c=d["_"+r+"padminus"],b={x:1,y:-1}[r]*d[r+"shift"],g=3*d.arrowsize*d.arrowwidth||0,h=g+b,x=g-b,v=3*d.startarrowsize*d.arrowwidth||0,m=v+b,w=v-b;if(u===o){var f=k.findExtremes(s,[s.r2c(n)],{ppadplus:h,ppadminus:x}),S=k.findExtremes(s,[s.r2c(l)],{ppadplus:Math.max(p,m),ppadminus:Math.max(c,w)});t={min:[f.min[0],S.min[0]],max:[f.max[0],S.max[0]]}}else m=l?m+l:m,w=l?w-l:w,t=k.findExtremes(s,[s.r2c(n)],{ppadplus:Math.max(p,h,m),ppadminus:Math.max(c,x,w)});d._extremes[i]=t}Y.exports=function(d){var s=d._fullLayout;if(M.filterVisible(s.annotations).length&&d._fullData.length)return M.syncOrAsync([a,_],d)}},44317:function(Y,O,e){var M=e(71828),k=e(73972),a=e(44467).arrayEditor;function _(d,s){var t,i,r,n,l,o,u,p=d._fullLayout.annotations,c=[],b=[],g=[],h=(s||[]).length;for(t=0;t<p.length;t++)if(n=(r=p[t]).clicktoshow){for(i=0;i<h;i++)if(o=(l=s[i]).xaxis,u=l.yaxis,o._id===r.xref&&u._id===r.yref&&o.d2r(l.x)===y(r._xclick,o)&&u.d2r(l.y)===y(r._yclick,u)){(r.visible?n==="onout"?b:g:c).push(t);break}i===h&&r.visible&&n==="onout"&&b.push(t)}return{on:c,off:b,explicitOff:g}}function y(d,s){return s.type==="log"?s.l2r(d):s.d2r(d)}Y.exports={hasClickToShow:function(d,s){var t=_(d,s);return t.on.length>0||t.explicitOff.length>0},onClick:function(d,s){var t,i,r=_(d,s),n=r.on,l=r.off.concat(r.explicitOff),o={},u=d._fullLayout.annotations;if(n.length||l.length){for(t=0;t<n.length;t++)(i=a(d.layout,"annotations",u[n[t]])).modifyItem("visible",!0),M.extendFlat(o,i.getUpdateObj());for(t=0;t<l.length;t++)(i=a(d.layout,"annotations",u[l[t]])).modifyItem("visible",!1),M.extendFlat(o,i.getUpdateObj());return k.call("update",d,{},o)}}}},25625:function(Y,O,e){var M=e(71828),k=e(7901);Y.exports=function(a,_,y,d){d("opacity");var s=d("bgcolor"),t=d("bordercolor"),i=k.opacity(t);d("borderpad");var r=d("borderwidth"),n=d("showarrow");if(d("text",n?" ":y._dfltTitle.annotation),d("textangle"),M.coerceFont(d,"font",y.font),d("width"),d("align"),d("height")&&d("valign"),n){var l,o,u=d("arrowside");u.indexOf("end")!==-1&&(l=d("arrowhead"),o=d("arrowsize")),u.indexOf("start")!==-1&&(d("startarrowhead",l),d("startarrowsize",o)),d("arrowcolor",i?_.bordercolor:k.defaultLine),d("arrowwidth",2*(i&&r||1)),d("standoff"),d("startstandoff")}var p=d("hovertext"),c=y.hoverlabel||{};if(p){var b=d("hoverlabel.bgcolor",c.bgcolor||(k.opacity(s)?k.rgb(s):k.defaultLine)),g=d("hoverlabel.bordercolor",c.bordercolor||k.contrast(b));M.coerceFont(d,"hoverlabel.font",{family:c.font.family,size:c.font.size,color:c.font.color||g})}d("captureevents",!!p)}},94128:function(Y,O,e){var M=e(92770),k=e(58163);Y.exports=function(a,_,y,d){_=_||{};var s=y==="log"&&_.type==="linear",t=y==="linear"&&_.type==="log";if(s||t)for(var i,r,n=a._fullLayout.annotations,l=_._id.charAt(0),o=0;o<n.length;o++)i=n[o],r="annotations["+o+"].",i[l+"ref"]===_._id&&u(l),i["a"+l+"ref"]===_._id&&u("a"+l);function u(p){var c=i[p],b=null;b=s?k(c,_.range):Math.pow(10,c),M(b)||(b=null),d(r+p,b)}}},84046:function(Y,O,e){var M=e(71828),k=e(89298),a=e(85501),_=e(25625),y=e(50215);function d(s,t,i){function r(S,T){return M.coerce(s,t,y,S,T)}var n=r("visible"),l=r("clicktoshow");if(n||l){_(s,t,i,r);for(var o=t.showarrow,u=["x","y"],p=[-10,-30],c={_fullLayout:i},b=0;b<2;b++){var g=u[b],h=k.coerceRef(s,t,c,g,"","paper");if(h!=="paper"&&k.getFromId(c,h)._annIndices.push(t._index),k.coercePosition(t,c,r,h,g,.5),o){var x="a"+g,v=k.coerceRef(s,t,c,x,"pixel",["pixel","paper"]);v!=="pixel"&&v!==h&&(v=t[x]="pixel");var m=v==="pixel"?p[b]:.4;k.coercePosition(t,c,r,v,x,m)}r(g+"anchor"),r(g+"shift")}if(M.noneOrAll(s,t,["x","y"]),o&&M.noneOrAll(s,t,["ax","ay"]),l){var w=r("xclick"),f=r("yclick");t._xclick=w===void 0?t.x:k.cleanPosition(w,c,t.xref),t._yclick=f===void 0?t.y:k.cleanPosition(f,c,t.yref)}}}Y.exports=function(s,t){a(s,t,{name:"annotations",handleItemDefaults:d})}},92605:function(Y,O,e){var M=e(39898),k=e(73972),a=e(74875),_=e(71828),y=_.strTranslate,d=e(89298),s=e(7901),t=e(91424),i=e(30211),r=e(63893),n=e(6964),l=e(28569),o=e(44467).arrayEditor,u=e(13011);function p(g,h){var x=g._fullLayout.annotations[h]||{},v=d.getFromId(g,x.xref),m=d.getFromId(g,x.yref);v&&v.setScale(),m&&m.setScale(),b(g,x,h,!1,v,m)}function c(g,h,x,v,m){var w=m[x],f=m[x+"ref"],S=x.indexOf("y")!==-1,T=d.getRefType(f)==="domain",E=S?v.h:v.w;return g?T?w+(S?-h:h)/g._length:g.p2r(g.r2p(w)+h):w+(S?-h:h)/E}function b(g,h,x,v,m,w){var f,S,T=g._fullLayout,E=g._fullLayout._size,L=g._context.edits;v?(f="annotation-"+v,S=v+".annotations"):(f="annotation",S="annotations");var C=o(g.layout,S,h),P=C.modifyBase,R=C.modifyItem,G=C.getUpdateObj;T._infolayer.selectAll("."+f+'[data-index="'+x+'"]').remove();var I="clip"+T._uid+"_ann"+x;if(h._input&&h.visible!==!1){var H={x:{},y:{}},N=+h.textangle||0,B=T._infolayer.append("g").classed(f,!0).attr("data-index",String(x)).style("opacity",h.opacity),V=B.append("g").classed("annotation-text-g",!0),q=L[h.showarrow?"annotationTail":"annotationPosition"],te=h.captureevents||L.annotationText||q,$=V.append("g").style("pointer-events",te?"all":null).call(n,"pointer").on("click",function(){g._dragging=!1,g.emit("plotly_clickannotation",ge(M.event))});h.hovertext&&$.on("mouseover",function(){var ve=h.hoverlabel,Ie=ve.font,Se=this.getBoundingClientRect(),ke=g.getBoundingClientRect();i.loneHover({x0:Se.left-ke.left,x1:Se.right-ke.left,y:(Se.top+Se.bottom)/2-ke.top,text:h.hovertext,color:ve.bgcolor,borderColor:ve.bordercolor,fontFamily:Ie.family,fontSize:Ie.size,fontColor:Ie.color},{container:T._hoverlayer.node(),outerContainer:T._paper.node(),gd:g})}).on("mouseout",function(){i.loneUnhover(T._hoverlayer.node())});var K=h.borderwidth,Z=h.borderpad,X=K+Z,ee=$.append("rect").attr("class","bg").style("stroke-width",K+"px").call(s.stroke,h.bordercolor).call(s.fill,h.bgcolor),ne=h.width||h.height,re=T._topclips.selectAll("#"+I).data(ne?[0]:[]);re.enter().append("clipPath").classed("annclip",!0).attr("id",I).append("rect"),re.exit().remove();var ae=h.font,ue=T._meta?_.templateString(h.text,T._meta):h.text,pe=$.append("text").classed("annotation-text",!0).text(ue);L.annotationText?pe.call(r.makeEditable,{delegate:$,gd:g}).call(we).on("edit",function(ve){h.text=ve,this.call(we),R("text",ve),m&&m.autorange&&P(m._name+".autorange",!0),w&&w.autorange&&P(w._name+".autorange",!0),k.call("_guiRelayout",g,G())}):pe.call(we)}else M.selectAll("#"+I).remove();function ge(ve){var Ie={index:x,annotation:h._input,fullAnnotation:h,event:ve};return v&&(Ie.subplotId=v),Ie}function we(ve){return ve.call(t.font,ae).attr({"text-anchor":{left:"start",right:"end"}[h.align]||"middle"}),r.convertToTspans(ve,g,me),ve}function me(){var ve=pe.selectAll("a");ve.size()===1&&ve.text()===pe.text()&&$.insert("a",":first-child").attr({"xlink:xlink:href":ve.attr("xlink:href"),"xlink:xlink:show":ve.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(ee.node());var Ie=$.select(".annotation-text-math-group"),Se=!Ie.empty(),ke=t.bBox((Se?Ie:pe).node()),se=ke.width,oe=ke.height,he=h.width||se,Le=h.height||oe,Me=Math.round(he+2*X),_e=Math.round(Le+2*X);function De(bt,dt){return dt==="auto"&&(dt=bt<.3333333333333333?"left":bt>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[dt]}for(var Ne=!1,ce=["x","y"],Te=0;Te<ce.length;Te++){var ye,Oe,Be,Fe,Ge,Ze=ce[Te],et=h[Ze+"ref"]||Ze,ft=h["a"+Ze+"ref"],rt={x:m,y:w}[Ze],_t=(N+(Ze==="x"?0:-90))*Math.PI/180,kt=Me*Math.cos(_t),wt=_e*Math.sin(_t),lt=Math.abs(kt)+Math.abs(wt),ut=h[Ze+"anchor"],Et=h[Ze+"shift"]*(Ze==="x"?1:-1),Ot=H[Ze],zt=d.getRefType(et);if(rt&&zt!=="domain"){var Lt=rt.r2fraction(h[Ze]);(Lt<0||Lt>1)&&(ft===et?((Lt=rt.r2fraction(h["a"+Ze]))<0||Lt>1)&&(Ne=!0):Ne=!0),ye=rt._offset+rt.r2p(h[Ze]),Fe=.5}else{var Je=zt==="domain";Ze==="x"?(Be=h[Ze],ye=Je?rt._offset+rt._length*Be:ye=E.l+E.w*Be):(Be=1-h[Ze],ye=Je?rt._offset+rt._length*Be:ye=E.t+E.h*Be),Fe=h.showarrow?.5:Be}if(h.showarrow){Ot.head=ye;var Qe=h["a"+Ze];if(Ge=kt*De(.5,h.xanchor)-wt*De(.5,h.yanchor),ft===et){var qe=d.getRefType(ft);qe==="domain"?(Ze==="y"&&(Qe=1-Qe),Ot.tail=rt._offset+rt._length*Qe):qe==="paper"?Ze==="y"?(Qe=1-Qe,Ot.tail=E.t+E.h*Qe):Ot.tail=E.l+E.w*Qe:Ot.tail=rt._offset+rt.r2p(Qe),Oe=Ge}else Ot.tail=ye+Qe,Oe=Ge+Qe;Ot.text=Ot.tail+Ge;var $e=T[Ze==="x"?"width":"height"];if(et==="paper"&&(Ot.head=_.constrain(Ot.head,1,$e-1)),ft==="pixel"){var ct=-Math.max(Ot.tail-3,Ot.text),at=Math.min(Ot.tail+3,Ot.text)-$e;ct>0?(Ot.tail+=ct,Ot.text+=ct):at>0&&(Ot.tail-=at,Ot.text-=at)}Ot.tail+=Et,Ot.head+=Et}else Oe=Ge=lt*De(Fe,ut),Ot.text=ye+Ge;Ot.text+=Et,Ge+=Et,Oe+=Et,h["_"+Ze+"padplus"]=lt/2+Oe,h["_"+Ze+"padminus"]=lt/2-Oe,h["_"+Ze+"size"]=lt,h["_"+Ze+"shift"]=Ge}if(Ne)$.remove();else{var Re=0,je=0;if(h.align!=="left"&&(Re=(he-se)*(h.align==="center"?.5:1)),h.valign!=="top"&&(je=(Le-oe)*(h.valign==="middle"?.5:1)),Se)Ie.select("svg").attr({x:X+Re-1,y:X+je}).call(t.setClipUrl,ne?I:null,g);else{var st=X+je-ke.top,ot=X+Re-ke.left;pe.call(r.positionText,ot,st).call(t.setClipUrl,ne?I:null,g)}re.select("rect").call(t.setRect,X,X,he,Le),ee.call(t.setRect,K/2,K/2,Me-K,_e-K),$.call(t.setTranslate,Math.round(H.x.text-Me/2),Math.round(H.y.text-_e/2)),V.attr({transform:"rotate("+N+","+H.x.text+","+H.y.text+")"});var xt,mt=function(bt,dt){B.selectAll(".annotation-arrow-g").remove();var St=H.x.head,gt=H.y.head,vt=H.x.tail+bt,Mt=H.y.tail+dt,Bt=H.x.text+bt,Nt=H.y.text+dt,qt=_.rotationXYMatrix(N,Bt,Nt),an=_.apply2DTransform(qt),Gt=_.apply2DTransform2(qt),Yt=+ee.attr("width"),en=+ee.attr("height"),bn=Bt-.5*Yt,On=bn+Yt,gn=Nt-.5*en,Xt=gn+en,ln=[[bn,gn,bn,Xt],[bn,Xt,On,Xt],[On,Xt,On,gn],[On,gn,bn,gn]].map(Gt);if(!ln.reduce(function(tr,Jn){return tr^!!_.segmentsIntersect(St,gt,St+1e6,gt+1e6,Jn[0],Jn[1],Jn[2],Jn[3])},!1)){ln.forEach(function(tr){var Jn=_.segmentsIntersect(vt,Mt,St,gt,tr[0],tr[1],tr[2],tr[3]);Jn&&(vt=Jn.x,Mt=Jn.y)});var nn=h.arrowwidth,hn=h.arrowcolor,mn=h.arrowside,Mn=B.append("g").style({opacity:s.opacity(hn)}).classed("annotation-arrow-g",!0),Tn=Mn.append("path").attr("d","M"+vt+","+Mt+"L"+St+","+gt).style("stroke-width",nn+"px").call(s.stroke,s.rgb(hn));if(u(Tn,mn,h),L.annotationPosition&&Tn.node().parentNode&&!v){var Pn=St,yn=gt;if(h.standoff){var Rn=Math.sqrt(Math.pow(St-vt,2)+Math.pow(gt-Mt,2));Pn+=h.standoff*(vt-St)/Rn,yn+=h.standoff*(Mt-gt)/Rn}var Zn,ir,sr=Mn.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(vt-Pn)+","+(Mt-yn),transform:y(Pn,yn)}).style("stroke-width",nn+6+"px").call(s.stroke,"rgba(0,0,0,0)").call(s.fill,"rgba(0,0,0,0)");l.init({element:sr.node(),gd:g,prepFn:function(){var tr=t.getTranslate($);Zn=tr.x,ir=tr.y,m&&m.autorange&&P(m._name+".autorange",!0),w&&w.autorange&&P(w._name+".autorange",!0)},moveFn:function(tr,Jn){var pr=an(Zn,ir),Ut=pr[0]+tr,rn=pr[1]+Jn;$.call(t.setTranslate,Ut,rn),R("x",c(m,tr,"x",E,h)),R("y",c(w,Jn,"y",E,h)),h.axref===h.xref&&R("ax",c(m,tr,"ax",E,h)),h.ayref===h.yref&&R("ay",c(w,Jn,"ay",E,h)),Mn.attr("transform",y(tr,Jn)),V.attr({transform:"rotate("+N+","+Ut+","+rn+")"})},doneFn:function(){k.call("_guiRelayout",g,G());var tr=document.querySelector(".js-notes-box-panel");tr&&tr.redraw(tr.selectedObj)}})}}};h.showarrow&&mt(0,0),q&&l.init({element:$.node(),gd:g,prepFn:function(){xt=V.attr("transform")},moveFn:function(bt,dt){var St="pointer";if(h.showarrow)h.axref===h.xref?R("ax",c(m,bt,"ax",E,h)):R("ax",h.ax+bt),h.ayref===h.yref?R("ay",c(w,dt,"ay",E.w,h)):R("ay",h.ay+dt),mt(bt,dt);else{if(v)return;var gt,vt;if(m)gt=c(m,bt,"x",E,h);else{var Mt=h._xsize/E.w,Bt=h.x+(h._xshift-h.xshift)/E.w-Mt/2;gt=l.align(Bt+bt/E.w,Mt,0,1,h.xanchor)}if(w)vt=c(w,dt,"y",E,h);else{var Nt=h._ysize/E.h,qt=h.y-(h._yshift+h.yshift)/E.h-Nt/2;vt=l.align(qt-dt/E.h,Nt,0,1,h.yanchor)}R("x",gt),R("y",vt),m&&w||(St=l.getCursor(m?.5:gt,w?.5:vt,h.xanchor,h.yanchor))}V.attr({transform:y(bt,dt)+xt}),n($,St)},clickFn:function(bt,dt){h.captureevents&&g.emit("plotly_clickannotation",ge(dt))},doneFn:function(){n($),k.call("_guiRelayout",g,G());var bt=document.querySelector(".js-notes-box-panel");bt&&bt.redraw(bt.selectedObj)}})}}}Y.exports={draw:function(g){var h=g._fullLayout;h._infolayer.selectAll(".annotation").remove();for(var x=0;x<h.annotations.length;x++)h.annotations[x].visible&&p(g,x);return a.previousPromises(g)},drawOne:p,drawRaw:b}},13011:function(Y,O,e){var M=e(39898),k=e(7901),a=e(82884),_=e(71828),y=_.strScale,d=_.strRotate,s=_.strTranslate;Y.exports=function(t,i,r){var n,l,o,u,p=t.node(),c=a[r.arrowhead||0],b=a[r.startarrowhead||0],g=(r.arrowwidth||1)*(r.arrowsize||1),h=(r.arrowwidth||1)*(r.startarrowsize||1),x=i.indexOf("start")>=0,v=i.indexOf("end")>=0,m=c.backoff*g+r.standoff,w=b.backoff*h+r.startstandoff;if(p.nodeName==="line"){n={x:+t.attr("x1"),y:+t.attr("y1")},l={x:+t.attr("x2"),y:+t.attr("y2")};var f=n.x-l.x,S=n.y-l.y;if(u=(o=Math.atan2(S,f))+Math.PI,m&&w&&m+w>Math.sqrt(f*f+S*S))return void B();if(m){if(m*m>f*f+S*S)return void B();var T=m*Math.cos(o),E=m*Math.sin(o);l.x+=T,l.y+=E,t.attr({x2:l.x,y2:l.y})}if(w){if(w*w>f*f+S*S)return void B();var L=w*Math.cos(o),C=w*Math.sin(o);n.x-=L,n.y-=C,t.attr({x1:n.x,y1:n.y})}}else if(p.nodeName==="path"){var P=p.getTotalLength(),R="";if(P<m+w)return void B();var G=p.getPointAtLength(0),I=p.getPointAtLength(.1);o=Math.atan2(G.y-I.y,G.x-I.x),n=p.getPointAtLength(Math.min(w,P)),R="0px,"+w+"px,";var H=p.getPointAtLength(P),N=p.getPointAtLength(P-.1);u=Math.atan2(H.y-N.y,H.x-N.x),l=p.getPointAtLength(Math.max(0,P-m)),R+=P-(R?w+m:m)+"px,"+P+"px",t.style("stroke-dasharray",R)}function B(){t.style("stroke-dasharray","0px,100px")}function V(q,te,$,K){q.path&&(q.noRotate&&($=0),M.select(p.parentNode).append("path").attr({class:t.attr("class"),d:q.path,transform:s(te.x,te.y)+d(180*$/Math.PI)+y(K)}).style({fill:k.rgb(r.arrowcolor),"stroke-width":0}))}x&&V(b,n,o,h),v&&V(c,l,u,g)}},32745:function(Y,O,e){var M=e(92605),k=e(44317);Y.exports={moduleType:"component",name:"annotations",layoutAttributes:e(50215),supplyLayoutDefaults:e(84046),includeBasePlot:e(76325)("annotations"),calcAutorange:e(3749),draw:M.draw,drawOne:M.drawOne,drawRaw:M.drawRaw,hasClickToShow:k.hasClickToShow,onClick:k.onClick,convertCoords:e(94128)}},26997:function(Y,O,e){var M=e(50215),k=e(30962).overrideAll,a=e(44467).templatedArray;Y.exports=k(a("annotation",{visible:M.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:M.xanchor,xshift:M.xshift,yanchor:M.yanchor,yshift:M.yshift,text:M.text,textangle:M.textangle,font:M.font,width:M.width,height:M.height,opacity:M.opacity,align:M.align,valign:M.valign,bgcolor:M.bgcolor,bordercolor:M.bordercolor,borderpad:M.borderpad,borderwidth:M.borderwidth,showarrow:M.showarrow,arrowcolor:M.arrowcolor,arrowhead:M.arrowhead,startarrowhead:M.startarrowhead,arrowside:M.arrowside,arrowsize:M.arrowsize,startarrowsize:M.startarrowsize,arrowwidth:M.arrowwidth,standoff:M.standoff,startstandoff:M.startstandoff,hovertext:M.hovertext,hoverlabel:M.hoverlabel,captureevents:M.captureevents}),"calc","from-root")},5485:function(Y,O,e){var M=e(71828),k=e(89298);function a(_,y){var d=y.fullSceneLayout.domain,s=y.fullLayout._size,t={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};_._xa={},M.extendFlat(_._xa,t),k.setConvert(_._xa),_._xa._offset=s.l+d.x[0]*s.w,_._xa.l2p=function(){return .5*(1+_._pdata[0]/_._pdata[3])*s.w*(d.x[1]-d.x[0])},_._ya={},M.extendFlat(_._ya,t),k.setConvert(_._ya),_._ya._offset=s.t+(1-d.y[1])*s.h,_._ya.l2p=function(){return .5*(1-_._pdata[1]/_._pdata[3])*s.h*(d.y[1]-d.y[0])}}Y.exports=function(_){for(var y=_.fullSceneLayout.annotations,d=0;d<y.length;d++)a(y[d],_);_.fullLayout._infolayer.selectAll(".annotation-"+_.id).remove()}},20226:function(Y,O,e){var M=e(71828),k=e(89298),a=e(85501),_=e(25625),y=e(26997);function d(s,t,i,r){function n(o,u){return M.coerce(s,t,y,o,u)}function l(o){var u=o+"axis",p={_fullLayout:{}};return p._fullLayout[u]=i[u],k.coercePosition(t,p,n,o,o,.5)}n("visible")&&(_(s,t,r.fullLayout,n),l("x"),l("y"),l("z"),M.noneOrAll(s,t,["x","y","z"]),t.xref="x",t.yref="y",t.zref="z",n("xanchor"),n("yanchor"),n("xshift"),n("yshift"),t.showarrow&&(t.axref="pixel",t.ayref="pixel",n("ax",-10),n("ay",-30),M.noneOrAll(s,t,["ax","ay"])))}Y.exports=function(s,t,i){a(s,t,{name:"annotations",handleItemDefaults:d,fullLayout:i.fullLayout})}},82188:function(Y,O,e){var M=e(92605).drawRaw,k=e(63538),a=["x","y","z"];Y.exports=function(_){for(var y=_.fullSceneLayout,d=_.dataScale,s=y.annotations,t=0;t<s.length;t++){for(var i=s[t],r=!1,n=0;n<3;n++){var l=a[n],o=i[l],u=y[l+"axis"].r2fraction(o);if(u<0||u>1){r=!0;break}}r?_.fullLayout._infolayer.select(".annotation-"+_.id+'[data-index="'+t+'"]').remove():(i._pdata=k(_.glplot.cameraParams,[y.xaxis.r2l(i.x)*d[0],y.yaxis.r2l(i.y)*d[1],y.zaxis.r2l(i.z)*d[2]]),M(_.graphDiv,i,t,_.id,i._xa,i._ya))}}},2468:function(Y,O,e){var M=e(73972),k=e(71828);Y.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:e(26997)}}},layoutAttributes:e(26997),handleDefaults:e(20226),includeBasePlot:function(a,_){var y=M.subplotsRegistry.gl3d;if(y)for(var d=y.attrRegex,s=Object.keys(a),t=0;t<s.length;t++){var i=s[t];d.test(i)&&(a[i].annotations||[]).length&&(k.pushUnique(_._basePlotModules,y),k.pushUnique(_._subplots.gl3d,i))}},convert:e(5485),draw:e(82188)}},7561:function(Y,O,e){Y.exports=e(63489),e(94338),e(3961),e(38751),e(86825),e(37715),e(99384),e(43805),e(88874),e(83290),e(29108),e(55422),e(94320),e(31320),e(51367),e(21457)},72201:function(Y,O,e){var M=e(7561),k=e(71828),a=e(50606),_=a.EPOCHJD,y=a.ONEDAY,d={valType:"enumerated",values:k.sortObjectKeys(M.calendars),editType:"calc",dflt:"gregorian"},s=function(g,h,x,v){var m={};return m[x]=d,k.coerce(g,h,m,x,v)},t="##",i={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:t,w:t,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},r={};function n(g){var h=r[g];return h||(r[g]=M.instance(g))}function l(g){return k.extendFlat({},d,{description:g})}function o(g){return"Sets the calendar system to use with `"+g+"` date data."}var u={xcalendar:l(o("x"))},p=k.extendFlat({},u,{ycalendar:l(o("y"))}),c=k.extendFlat({},p,{zcalendar:l(o("z"))}),b=l(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));Y.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:p,bar:p,box:p,heatmap:p,contour:p,histogram:p,histogram2d:p,histogram2dcontour:p,scatter3d:c,surface:c,mesh3d:c,scattergl:p,ohlc:u,candlestick:u},layout:{calendar:l(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:b},yaxis:{calendar:b},scene:{xaxis:{calendar:b},yaxis:{calendar:b},zaxis:{calendar:b}},polar:{radialaxis:{calendar:b}}},transforms:{filter:{valuecalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:l(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:d,handleDefaults:s,handleTraceDefaults:function(g,h,x,v){for(var m=0;m<x.length;m++)s(g,h,x[m]+"calendar",v.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:n,worldCalFmt:function(g,h,x){for(var v,m,w,f,S,T=Math.floor((h+.05)/y)+_,E=n(x).fromJD(T),L=0;(L=g.indexOf("%",L))!==-1;)(v=g.charAt(L+1))==="0"||v==="-"||v==="_"?(w=3,m=g.charAt(L+2),v==="_"&&(v="-")):(m=v,v="0",w=2),(f=i[m])?(S=f===t?t:E.formatDate(f[v]),g=g.substr(0,L)+S+g.substr(L+w),L+=S.length):L+=w;return g}}},22399:function(Y,O){O.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],O.defaultLine="#444",O.lightLine="#eee",O.background="#fff",O.borderLine="#BEC8D9",O.lightFraction=90.9090909090909},7901:function(Y,O,e){var M=e(84267),k=e(92770),a=e(73627).isTypedArray,_=Y.exports={},y=e(22399);_.defaults=y.defaults;var d=_.defaultLine=y.defaultLine;_.lightLine=y.lightLine;var s=_.background=y.background;function t(i){if(k(i)||typeof i!="string")return i;var r=i.trim();if(r.substr(0,3)!=="rgb")return i;var n=r.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return i;var l=n[1].trim().split(/\s*[\s,]\s*/),o=r.charAt(3)==="a"&&l.length===4;if(!o&&l.length!==3)return i;for(var u=0;u<l.length;u++){if(!l[u].length||(l[u]=Number(l[u]),!(l[u]>=0)))return i;if(u===3)l[u]>1&&(l[u]=1);else if(l[u]>=1)return i}var p=Math.round(255*l[0])+", "+Math.round(255*l[1])+", "+Math.round(255*l[2]);return o?"rgba("+p+", "+l[3]+")":"rgb("+p+")"}_.tinyRGB=function(i){var r=i.toRgb();return"rgb("+Math.round(r.r)+", "+Math.round(r.g)+", "+Math.round(r.b)+")"},_.rgb=function(i){return _.tinyRGB(M(i))},_.opacity=function(i){return i?M(i).getAlpha():0},_.addOpacity=function(i,r){var n=M(i).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+r+")"},_.combine=function(i,r){var n=M(i).toRgb();if(n.a===1)return M(i).toRgbString();var l=M(r||s).toRgb(),o=l.a===1?l:{r:255*(1-l.a)+l.r*l.a,g:255*(1-l.a)+l.g*l.a,b:255*(1-l.a)+l.b*l.a},u={r:o.r*(1-n.a)+n.r*n.a,g:o.g*(1-n.a)+n.g*n.a,b:o.b*(1-n.a)+n.b*n.a};return M(u).toRgbString()},_.contrast=function(i,r,n){var l=M(i);return l.getAlpha()!==1&&(l=M(_.combine(i,s))),(l.isDark()?r?l.lighten(r):s:n?l.darken(n):d).toString()},_.stroke=function(i,r){var n=M(r);i.style({stroke:_.tinyRGB(n),"stroke-opacity":n.getAlpha()})},_.fill=function(i,r){var n=M(r);i.style({fill:_.tinyRGB(n),"fill-opacity":n.getAlpha()})},_.clean=function(i){if(i&&typeof i=="object"){var r,n,l,o,u=Object.keys(i);for(r=0;r<u.length;r++)if(o=i[l=u[r]],l.substr(l.length-5)==="color")if(Array.isArray(o))for(n=0;n<o.length;n++)o[n]=t(o[n]);else i[l]=t(o);else if(l.substr(l.length-10)==="colorscale"&&Array.isArray(o))for(n=0;n<o.length;n++)Array.isArray(o[n])&&(o[n][1]=t(o[n][1]));else if(Array.isArray(o)){var p=o[0];if(!Array.isArray(p)&&p&&typeof p=="object")for(n=0;n<o.length;n++)_.clean(o[n])}else o&&typeof o=="object"&&!a(o)&&_.clean(o)}}},63583:function(Y,O,e){var M=e(13838),k=e(41940),a=e(1426).extendFlat,_=e(30962).overrideAll;Y.exports=_({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:M.linecolor,outlinewidth:M.linewidth,bordercolor:M.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:M.minor.tickmode,nticks:M.nticks,tick0:M.tick0,dtick:M.dtick,tickvals:M.tickvals,ticktext:M.ticktext,ticks:a({},M.ticks,{dflt:""}),ticklabeloverflow:a({},M.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:M.ticklen,tickwidth:M.tickwidth,tickcolor:M.tickcolor,ticklabelstep:M.ticklabelstep,showticklabels:M.showticklabels,labelalias:M.labelalias,tickfont:k({}),tickangle:M.tickangle,tickformat:M.tickformat,tickformatstops:M.tickformatstops,tickprefix:M.tickprefix,showtickprefix:M.showtickprefix,ticksuffix:M.ticksuffix,showticksuffix:M.showticksuffix,separatethousands:M.separatethousands,exponentformat:M.exponentformat,minexponent:M.minexponent,showexponent:M.showexponent,title:{text:{valType:"string"},font:k({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:k({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(Y){Y.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(Y,O,e){var M=e(71828),k=e(44467),a=e(26218),_=e(38701),y=e(96115),d=e(89426),s=e(63583);Y.exports=function(t,i,r){var n=k.newContainer(i,"colorbar"),l=t.colorbar||{};function o(R,G){return M.coerce(l,n,s,R,G)}var u=r.margin||{t:0,b:0,l:0,r:0},p=r.width-u.l-u.r,c=r.height-u.t-u.b,b=o("orientation")==="v",g=o("thicknessmode");o("thickness",g==="fraction"?30/(b?p:c):30);var h=o("lenmode");o("len",h==="fraction"?1:b?c:p);var x,v,m,w=o("yref")==="paper",f=o("xref")==="paper",S="left";b?(m="middle",S=f?"left":"right",x=f?1.02:1,v=.5):(m=w?"bottom":"top",S="center",x=.5,v=w?1.02:1),M.coerce(l,n,{x:{valType:"number",min:f?-2:0,max:f?3:1,dflt:x}},"x"),M.coerce(l,n,{y:{valType:"number",min:w?-2:0,max:w?3:1,dflt:v}},"y"),o("xanchor",S),o("xpad"),o("yanchor",m),o("ypad"),M.noneOrAll(l,n,["x","y"]),o("outlinecolor"),o("outlinewidth"),o("bordercolor"),o("borderwidth"),o("bgcolor");var T=M.coerce(l,n,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:b?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");o("ticklabeloverflow",T.indexOf("inside")!==-1?"hide past domain":"hide past div"),a(l,n,o,"linear");var E=r.font,L={outerTicks:!1,font:E};T.indexOf("inside")!==-1&&(L.bgColor="black"),d(l,n,o,"linear",L),y(l,n,o,"linear",L),_(l,n,o,"linear",L),o("title.text",r._dfltTitle.colorbar);var C=n.showticklabels?n.tickfont:E,P=M.extendFlat({},C,{color:E.color,size:M.bigFont(C.size)});M.coerceFont(o,"title.font",P),o("title.side",b?"top":"right")}},98981:function(Y,O,e){var M=e(39898),k=e(84267),a=e(74875),_=e(73972),y=e(89298),d=e(28569),s=e(71828),t=s.strTranslate,i=e(1426).extendFlat,r=e(6964),n=e(91424),l=e(7901),o=e(92998),u=e(63893),p=e(52075).flipScale,c=e(71453),b=e(52830),g=e(13838),h=e(18783),x=h.LINE_SPACING,v=h.FROM_TL,m=h.FROM_BR,w=e(30939).cn;Y.exports={draw:function(f){var S=f._fullLayout._infolayer.selectAll("g."+w.colorbar).data(function(T){var E,L,C,P,R=T._fullLayout,G=T.calcdata,I=[];function H(ne){return i(ne,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function N(){typeof P.calc=="function"?P.calc(T,C,E):(E._fillgradient=L.reversescale?p(L.colorscale):L.colorscale,E._zrange=[L[P.min],L[P.max]])}for(var B=0;B<G.length;B++){var V=G[B];if((C=V[0].trace)._module){var q=C._module.colorbar;if(C.visible===!0&&q)for(var te=Array.isArray(q),$=te?q:[q],K=0;K<$.length;K++){var Z=(P=$[K]).container;(L=Z?C[Z]:C)&&L.showscale&&((E=H(L.colorbar))._id="cb"+C.uid+(te&&Z?"-"+Z:""),E._traceIndex=C.index,E._propPrefix=(Z?Z+".":"")+"colorbar.",E._meta=C._meta,N(),I.push(E))}}}for(var X in R._colorAxes)if((L=R[X]).showscale){var ee=R._colorAxes[X];(E=H(L.colorbar))._id="cb"+X,E._propPrefix=X+".colorbar.",E._meta=R._meta,P={min:"cmin",max:"cmax"},ee[0]!=="heatmap"&&(C=ee[1],P.calc=C._module.colorbar.calc),N(),I.push(E)}return I}(f),function(T){return T._id});S.enter().append("g").attr("class",function(T){return T._id}).classed(w.colorbar,!0),S.each(function(T){var E=M.select(this);s.ensureSingle(E,"rect",w.cbbg),s.ensureSingle(E,"g",w.cbfills),s.ensureSingle(E,"g",w.cblines),s.ensureSingle(E,"g",w.cbaxis,function(C){C.classed(w.crisp,!0)}),s.ensureSingle(E,"g",w.cbtitleunshift,function(C){C.append("g").classed(w.cbtitle,!0)}),s.ensureSingle(E,"rect",w.cboutline);var L=function(C,P,R){var G=P.orientation==="v",I=P.len,H=P.lenmode,N=P.thickness,B=P.thicknessmode,V=P.outlinewidth,q=P.borderwidth,te=P.bgcolor,$=P.xanchor,K=P.yanchor,Z=P.xpad,X=P.ypad,ee=P.x,ne=G?P.y:1-P.y,re=P.yref==="paper",ae=P.xref==="paper",ue=R._fullLayout,pe=ue._size,ge=P._fillcolor,we=P._line,me=P.title,ve=me.side,Ie=P._zrange||M.extent((typeof ge=="function"?ge:we.color).domain()),Se=typeof we.color=="function"?we.color:function(){return we.color},ke=typeof ge=="function"?ge:function(){return ge},se=P._levels,oe=function(qe,$e,ct){var at,Re,je=$e._levels,st=[],ot=[],xt=je.end+je.size/100,mt=je.size,bt=1.001*ct[0]-.001*ct[1],dt=1.001*ct[1]-.001*ct[0];for(Re=0;Re<1e5&&(at=je.start+Re*mt,!(mt>0?at>=xt:at<=xt));Re++)at>bt&&at<dt&&st.push(at);if($e._fillgradient)ot=[0];else if(typeof $e._fillcolor=="function"){var St=$e._filllevels;if(St)for(xt=St.end+St.size/100,mt=St.size,Re=0;Re<1e5&&(at=St.start+Re*mt,!(mt>0?at>=xt:at<=xt));Re++)at>ct[0]&&at<ct[1]&&ot.push(at);else(ot=st.map(function(gt){return gt-je.size/2})).push(ot[ot.length-1]+je.size)}else $e._fillcolor&&typeof $e._fillcolor=="string"&&(ot=[0]);return je.size<0&&(st.reverse(),ot.reverse()),{line:st,fill:ot}}(0,P,Ie),he=oe.fill,Le=oe.line,Me=Math.round(N*(B==="fraction"?G?pe.w:pe.h:1)),_e=Me/(G?pe.w:pe.h),De=Math.round(I*(H==="fraction"?G?pe.h:pe.w:1)),Ne=De/(G?pe.h:pe.w),ce=ae?pe.w:R._fullLayout.width,Te=re?pe.h:R._fullLayout.height,ye=Math.round(G?ee*ce+Z:ne*Te+X),Oe={center:.5,right:1}[$]||0,Be={top:1,middle:.5}[K]||0,Fe=G?ee-Oe*_e:ne-Be*_e,Ge=G?ne-Be*Ne:ee-Oe*Ne,Ze=Math.round(G?Te*(1-Ge):ce*Ge);P._lenFrac=Ne,P._thickFrac=_e,P._uFrac=Fe,P._vFrac=Ge;var et=P._axis=function(qe,$e,ct){var at=qe._fullLayout,Re=$e.orientation==="v",je={type:"linear",range:ct,tickmode:$e.tickmode,nticks:$e.nticks,tick0:$e.tick0,dtick:$e.dtick,tickvals:$e.tickvals,ticktext:$e.ticktext,ticks:$e.ticks,ticklen:$e.ticklen,tickwidth:$e.tickwidth,tickcolor:$e.tickcolor,showticklabels:$e.showticklabels,labelalias:$e.labelalias,ticklabelposition:$e.ticklabelposition,ticklabeloverflow:$e.ticklabeloverflow,ticklabelstep:$e.ticklabelstep,tickfont:$e.tickfont,tickangle:$e.tickangle,tickformat:$e.tickformat,exponentformat:$e.exponentformat,minexponent:$e.minexponent,separatethousands:$e.separatethousands,showexponent:$e.showexponent,showtickprefix:$e.showtickprefix,tickprefix:$e.tickprefix,showticksuffix:$e.showticksuffix,ticksuffix:$e.ticksuffix,title:$e.title,showline:!0,anchor:"free",side:Re?"right":"bottom",position:1},st=Re?"y":"x",ot={type:"linear",_id:st+$e._id},xt={letter:st,font:at.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,noInsideRange:!0,calendar:at.calendar};function mt(bt,dt){return s.coerce(je,ot,g,bt,dt)}return c(je,ot,mt,xt,at),b(je,ot,mt,xt),ot}(R,P,Ie);et.position=_e+(G?ee+Z/pe.w:ne+X/pe.h);var ft=["top","bottom"].indexOf(ve)!==-1;if(G&&ft&&(et.title.side=ve,et.titlex=ee+Z/pe.w,et.titley=Ge+(me.side==="top"?Ne-X/pe.h:X/pe.h)),G||ft||(et.title.side=ve,et.titley=ne+X/pe.h,et.titlex=Ge+Z/pe.w),we.color&&P.tickmode==="auto"){et.tickmode="linear",et.tick0=se.start;var rt=se.size,_t=s.constrain(De/50,4,15)+1,kt=(Ie[1]-Ie[0])/((P.nticks||_t)*rt);if(kt>1){var wt=Math.pow(10,Math.floor(Math.log(kt)/Math.LN10));rt*=wt*s.roundUp(kt/wt,[2,5,10]),(Math.abs(se.start)/se.size+1e-6)%1<2e-6&&(et.tick0=0)}et.dtick=rt}et.domain=G?[Ge+X/pe.h,Ge+Ne-X/pe.h]:[Ge+Z/pe.w,Ge+Ne-Z/pe.w],et.setScale(),C.attr("transform",t(Math.round(pe.l),Math.round(pe.t)));var lt,ut=C.select("."+w.cbtitleunshift).attr("transform",t(-Math.round(pe.l),-Math.round(pe.t))),Et=et.ticklabelposition,Ot=et.title.font.size,zt=C.select("."+w.cbaxis),Lt=0,Je=0;function Qe(qe,$e){var ct={propContainer:et,propName:P._propPrefix+"title",traceIndex:P._traceIndex,_meta:P._meta,placeholder:ue._dfltTitle.colorbar,containerGroup:C.select("."+w.cbtitle)},at=qe.charAt(0)==="h"?qe.substr(1):"h"+qe;C.selectAll("."+at+",."+at+"-math-group").remove(),o.draw(R,qe,i(ct,$e||{}))}return s.syncOrAsync([a.previousPromises,function(){var qe,$e;(G&&ft||!G&&!ft)&&(ve==="top"&&(qe=Z+pe.l+ce*ee,$e=X+pe.t+Te*(1-Ge-Ne)+3+.75*Ot),ve==="bottom"&&(qe=Z+pe.l+ce*ee,$e=X+pe.t+Te*(1-Ge)-3-.25*Ot),ve==="right"&&($e=X+pe.t+Te*ne+3+.75*Ot,qe=Z+pe.l+ce*Ge),Qe(et._id+"title",{attributes:{x:qe,y:$e,"text-anchor":G?"start":"middle"}}))},function(){if(!G&&!ft||G&&ft){var qe,$e=C.select("."+w.cbtitle),ct=$e.select("text"),at=[-V/2,V/2],Re=$e.select(".h"+et._id+"title-math-group").node(),je=15.6;if(ct.node()&&(je=parseInt(ct.node().style.fontSize,10)*x),Re?(qe=n.bBox(Re),Je=qe.width,(Lt=qe.height)>je&&(at[1]-=(Lt-je)/2)):ct.node()&&!ct.classed(w.jsPlaceholder)&&(qe=n.bBox(ct.node()),Je=qe.width,Lt=qe.height),G){if(Lt){if(Lt+=5,ve==="top")et.domain[1]-=Lt/pe.h,at[1]*=-1;else{et.domain[0]+=Lt/pe.h;var st=u.lineCount(ct);at[1]+=(1-st)*je}$e.attr("transform",t(at[0],at[1])),et.setScale()}}else Je&&(ve==="right"&&(et.domain[0]+=(Je+Ot/2)/pe.w),$e.attr("transform",t(at[0],at[1])),et.setScale())}C.selectAll("."+w.cbfills+",."+w.cblines).attr("transform",G?t(0,Math.round(pe.h*(1-et.domain[1]))):t(Math.round(pe.w*et.domain[0]),0)),zt.attr("transform",G?t(0,Math.round(-pe.t)):t(Math.round(-pe.l),0));var ot=C.select("."+w.cbfills).selectAll("rect."+w.cbfill).attr("style","").data(he);ot.enter().append("rect").classed(w.cbfill,!0).attr("style",""),ot.exit().remove();var xt=Ie.map(et.c2p).map(Math.round).sort(function(gt,vt){return gt-vt});ot.each(function(gt,vt){var Mt=[vt===0?Ie[0]:(he[vt]+he[vt-1])/2,vt===he.length-1?Ie[1]:(he[vt]+he[vt+1])/2].map(et.c2p).map(Math.round);G&&(Mt[1]=s.constrain(Mt[1]+(Mt[1]>Mt[0])?1:-1,xt[0],xt[1]));var Bt=M.select(this).attr(G?"x":"y",ye).attr(G?"y":"x",M.min(Mt)).attr(G?"width":"height",Math.max(Me,2)).attr(G?"height":"width",Math.max(M.max(Mt)-M.min(Mt),2));if(P._fillgradient)n.gradient(Bt,R,P._id,G?"vertical":"horizontalreversed",P._fillgradient,"fill");else{var Nt=ke(gt).replace("e-","");Bt.attr("fill",k(Nt).toHexString())}});var mt=C.select("."+w.cblines).selectAll("path."+w.cbline).data(we.color&&we.width?Le:[]);mt.enter().append("path").classed(w.cbline,!0),mt.exit().remove(),mt.each(function(gt){var vt=ye,Mt=Math.round(et.c2p(gt))+we.width/2%1;M.select(this).attr("d","M"+(G?vt+","+Mt:Mt+","+vt)+(G?"h":"v")+Me).call(n.lineGroupStyle,we.width,Se(gt),we.dash)}),zt.selectAll("g."+et._id+"tick,path").remove();var bt=ye+Me+(V||0)/2-(P.ticks==="outside"?1:0),dt=y.calcTicks(et),St=y.getTickSigns(et)[2];return y.drawTicks(R,et,{vals:et.ticks==="inside"?y.clipEnds(et,dt):dt,layer:zt,path:y.makeTickPath(et,bt,St),transFn:y.makeTransTickFn(et)}),y.drawLabels(R,et,{vals:dt,layer:zt,transFn:y.makeTransTickLabelFn(et),labelFns:y.makeLabelFns(et,bt)})},function(){if(G&&!ft||!G&&ft){var qe,$e,ct=et.position||0,at=et._offset+et._length/2;if(ve==="right")$e=at,qe=pe.l+ce*ct+10+Ot*(et.showticklabels?1:.5);else if(qe=at,ve==="bottom"&&($e=pe.t+Te*ct+10+(Et.indexOf("inside")===-1?et.tickfont.size:0)+(et.ticks!=="intside"&&P.ticklen||0)),ve==="top"){var Re=me.text.split("<br>").length;$e=pe.t+Te*ct+10-Me-x*Ot*Re}Qe((G?"h":"v")+et._id+"title",{avoid:{selection:M.select(R).selectAll("g."+et._id+"tick"),side:ve,offsetTop:G?0:pe.t,offsetLeft:G?pe.l:0,maxShift:G?ue.width:ue.height},attributes:{x:qe,y:$e,"text-anchor":"middle"},transform:{rotate:G?-90:0,offset:0}})}},a.previousPromises,function(){var qe,$e=Me+V/2;Et.indexOf("inside")===-1&&(qe=n.bBox(zt.node()),$e+=G?qe.width:qe.height),lt=ut.select("text");var ct=0,at=G&&ve==="top",Re=!G&&ve==="right",je=0;if(lt.node()&&!lt.classed(w.jsPlaceholder)){var st,ot=ut.select(".h"+et._id+"title-math-group").node();ot&&(G&&ft||!G&&!ft)?(ct=(qe=n.bBox(ot)).width,st=qe.height):(ct=(qe=n.bBox(ut.node())).right-pe.l-(G?ye:Ze),st=qe.bottom-pe.t-(G?Ze:ye),G||ve!=="top"||($e+=qe.height,je=qe.height)),Re&&(lt.attr("transform",t(ct/2+Ot/2,0)),ct*=2),$e=Math.max($e,G?ct:st)}var xt=2*(G?Z:X)+$e+q+V/2,mt=0;!G&&me.text&&K==="bottom"&&ne<=0&&(xt+=mt=xt/2,je+=mt),ue._hColorbarMoveTitle=mt,ue._hColorbarMoveCBTitle=je;var bt=q+V,dt=(G?ye:Ze)-bt/2-(G?Z:0),St=(G?Ze:ye)-(G?De:X+je-mt);C.select("."+w.cbbg).attr("x",dt).attr("y",St).attr(G?"width":"height",Math.max(xt-mt,2)).attr(G?"height":"width",Math.max(De+bt,2)).call(l.fill,te).call(l.stroke,P.bordercolor).style("stroke-width",q);var gt=Re?Math.max(ct-10,0):0;C.selectAll("."+w.cboutline).attr("x",(G?ye:Ze+Z)+gt).attr("y",(G?Ze+X-De:ye)+(at?Lt:0)).attr(G?"width":"height",Math.max(Me,2)).attr(G?"height":"width",Math.max(De-(G?2*X+Lt:2*Z+gt),2)).call(l.stroke,P.outlinecolor).style({fill:"none","stroke-width":V});var vt=G?Oe*xt:0,Mt=G?0:(1-Be)*xt-je;if(vt=ae?pe.l-vt:-vt,Mt=re?pe.t-Mt:-Mt,C.attr("transform",t(vt,Mt)),!G&&(q||k(te).getAlpha()&&!k.equals(ue.paper_bgcolor,te))){var Bt=zt.selectAll("text"),Nt=Bt[0].length,qt=C.select("."+w.cbbg).node(),an=n.bBox(qt),Gt=n.getTranslate(C);Bt.each(function(mn,Mn){var Tn=Nt-1;if(Mn===0||Mn===Tn){var Pn,yn=n.bBox(this),Rn=n.getTranslate(this);if(Mn===Tn){var Zn=yn.right+Rn.x;(Pn=an.right+Gt.x+Ze-q-2+ee-Zn)>0&&(Pn=0)}else if(Mn===0){var ir=yn.left+Rn.x;(Pn=an.left+Gt.x+Ze+q+2-ir)<0&&(Pn=0)}Pn&&(Nt<3?this.setAttribute("transform","translate("+Pn+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var Yt={},en=v[$],bn=m[$],On=v[K],gn=m[K],Xt=xt-Me;G?(H==="pixels"?(Yt.y=ne,Yt.t=De*On,Yt.b=De*gn):(Yt.t=Yt.b=0,Yt.yt=ne+I*On,Yt.yb=ne-I*gn),B==="pixels"?(Yt.x=ee,Yt.l=xt*en,Yt.r=xt*bn):(Yt.l=Xt*en,Yt.r=Xt*bn,Yt.xl=ee-N*en,Yt.xr=ee+N*bn)):(H==="pixels"?(Yt.x=ee,Yt.l=De*en,Yt.r=De*bn):(Yt.l=Yt.r=0,Yt.xl=ee+I*en,Yt.xr=ee-I*bn),B==="pixels"?(Yt.y=1-ne,Yt.t=xt*On,Yt.b=xt*gn):(Yt.t=Xt*On,Yt.b=Xt*gn,Yt.yt=ne-N*On,Yt.yb=ne+N*gn));var ln=P.y<.5?"b":"t",nn=P.x<.5?"l":"r";R._fullLayout._reservedMargin[P._id]={};var hn={r:ue.width-dt-vt,l:dt+Yt.r,b:ue.height-St-Mt,t:St+Yt.b};ae&&re?a.autoMargin(R,P._id,Yt):ae?R._fullLayout._reservedMargin[P._id][ln]=hn[ln]:re||G?R._fullLayout._reservedMargin[P._id][nn]=hn[nn]:R._fullLayout._reservedMargin[P._id][ln]=hn[ln]}],R)}(E,T,f);L&&L.then&&(f._promises||[]).push(L),f._context.edits.colorbarPosition&&function(C,P,R){var G,I,H,N=P.orientation==="v",B=R._fullLayout._size;d.init({element:C.node(),gd:R,prepFn:function(){G=C.attr("transform"),r(C)},moveFn:function(V,q){C.attr("transform",G+t(V,q)),I=d.align((N?P._uFrac:P._vFrac)+V/B.w,N?P._thickFrac:P._lenFrac,0,1,P.xanchor),H=d.align((N?P._vFrac:1-P._uFrac)-q/B.h,N?P._lenFrac:P._thickFrac,0,1,P.yanchor);var te=d.getCursor(I,H,P.xanchor,P.yanchor);r(C,te)},doneFn:function(){if(r(C),I!==void 0&&H!==void 0){var V={};V[P._propPrefix+"x"]=I,V[P._propPrefix+"y"]=H,P._traceIndex!==void 0?_.call("_guiRestyle",R,V,P._traceIndex):_.call("_guiRelayout",R,V)}}})}(E,T,f)}),S.exit().each(function(T){a.autoMargin(f,T._id)}).remove(),S.order()}}},76228:function(Y,O,e){var M=e(71828);Y.exports=function(k){return M.isPlainObject(k.colorbar)}},12311:function(Y,O,e){Y.exports={moduleType:"component",name:"colorbar",attributes:e(63583),supplyDefaults:e(62499),draw:e(98981).draw,hasColorbar:e(76228)}},50693:function(Y,O,e){var M=e(63583),k=e(30587).counter,a=e(78607),_=e(63282).scales;function y(d){return"`"+d+"`"}a(_),Y.exports=function(d,s){d=d||"";var t,i=(s=s||{}).cLetter||"c",r=("onlyIfNumerical"in s&&s.onlyIfNumerical,"noScale"in s?s.noScale:d==="marker.line"),n="showScaleDflt"in s?s.showScaleDflt:i==="z",l=typeof s.colorscaleDflt=="string"?_[s.colorscaleDflt]:null,o=s.editTypeOverride||"",u=d?d+".":"";"colorAttr"in s?(t=s.colorAttr,s.colorAttr):y(u+(t={z:"z",c:"color"}[i]));var p=i+"auto",c=i+"min",b=i+"max",g=i+"mid",h={};h[c]=h[b]=void 0;var x={};x[p]=!1;var v={};return t==="color"&&(v.color={valType:"color",arrayOk:!0,editType:o||"style"},s.anim&&(v.color.anim=!0)),v[p]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:h},v[c]={valType:"number",dflt:null,editType:o||"plot",impliedEdits:x},v[b]={valType:"number",dflt:null,editType:o||"plot",impliedEdits:x},v[g]={valType:"number",dflt:null,editType:"calc",impliedEdits:h},v.colorscale={valType:"colorscale",editType:"calc",dflt:l,impliedEdits:{autocolorscale:!1}},v.autocolorscale={valType:"boolean",dflt:s.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},v.reversescale={valType:"boolean",dflt:!1,editType:"plot"},r||(v.showscale={valType:"boolean",dflt:n,editType:"calc"},v.colorbar=M),s.noColorAxis||(v.coloraxis={valType:"subplotid",regex:k("coloraxis"),dflt:null,editType:"calc"}),v}},78803:function(Y,O,e){var M=e(92770),k=e(71828),a=e(52075).extractOpts;Y.exports=function(_,y,d){var s,t=_._fullLayout,i=d.vals,r=d.containerStr,n=r?k.nestedProperty(y,r).get():y,l=a(n),o=l.auto!==!1,u=l.min,p=l.max,c=l.mid,b=function(){return k.aggNums(Math.min,null,i)},g=function(){return k.aggNums(Math.max,null,i)};u===void 0?u=b():o&&(u=n._colorAx&&M(u)?Math.min(u,b()):b()),p===void 0?p=g():o&&(p=n._colorAx&&M(p)?Math.max(p,g()):g()),o&&c!==void 0&&(p-c>c-u?u=c-(p-c):p-c<c-u&&(p=c+(c-u))),u===p&&(u-=.5,p+=.5),l._sync("min",u),l._sync("max",p),l.autocolorscale&&(s=u*p<0?t.colorscale.diverging:u>=0?t.colorscale.sequential:t.colorscale.sequentialminus,l._sync("colorscale",s))}},33046:function(Y,O,e){var M=e(71828),k=e(52075).hasColorscale,a=e(52075).extractOpts;Y.exports=function(_,y){function d(o,u){var p=o["_"+u];p!==void 0&&(o[u]=p)}function s(o,u){var p=u.container?M.nestedProperty(o,u.container).get():o;if(p)if(p.coloraxis)p._colorAx=y[p.coloraxis];else{var c=a(p),b=c.auto;(b||c.min===void 0)&&d(p,u.min),(b||c.max===void 0)&&d(p,u.max),c.autocolorscale&&d(p,"colorscale")}}for(var t=0;t<_.length;t++){var i=_[t],r=i._module.colorbar;if(r)if(Array.isArray(r))for(var n=0;n<r.length;n++)s(i,r[n]);else s(i,r);k(i,"marker.line")&&s(i,{container:"marker.line",min:"cmin",max:"cmax"})}for(var l in y._colorAxes)s(y[l],{min:"cmin",max:"cmax"})}},1586:function(Y,O,e){var M=e(92770),k=e(71828),a=e(76228),_=e(62499),y=e(63282).isValid,d=e(73972).traceIs;function s(t,i){var r=i.slice(0,i.length-1);return i?k.nestedProperty(t,r).get()||{}:t}Y.exports=function t(i,r,n,l,o){var u=o.prefix,p=o.cLetter,c="_module"in r,b=s(i,u),g=s(r,u),h=s(r._template||{},u)||{},x=function(){return delete i.coloraxis,delete r.coloraxis,t(i,r,n,l,o)};if(c){var v=n._colorAxes||{},m=l(u+"coloraxis");if(m){var w=d(r,"contour")&&k.nestedProperty(r,"contours.coloring").get()||"heatmap",f=v[m];return void(f?(f[2].push(x),f[0]!==w&&(f[0]=!1,k.warn(["Ignoring coloraxis:",m,"setting","as it is linked to incompatible colorscales."].join(" ")))):v[m]=[w,r,[x]])}}var S=b[p+"min"],T=b[p+"max"],E=M(S)&&M(T)&&S<T;l(u+p+"auto",!E)?l(u+p+"mid"):(l(u+p+"min"),l(u+p+"max"));var L,C,P=b.colorscale,R=h.colorscale;P!==void 0&&(L=!y(P)),R!==void 0&&(L=!y(R)),l(u+"autocolorscale",L),l(u+"colorscale"),l(u+"reversescale"),u!=="marker.line."&&(u&&c&&(C=a(b)),l(u+"showscale",C)&&(u&&h&&(g._template=h),_(b,g,n)))}},52075:function(Y,O,e){var M=e(39898),k=e(84267),a=e(92770),_=e(71828),y=e(7901),d=e(63282).isValid,s=["showscale","autocolorscale","colorscale","reversescale","colorbar"],t=["min","max","mid","auto"];function i(u){var p,c,b,g=u._colorAx,h=g||u,x={};for(c=0;c<s.length;c++)x[b=s[c]]=h[b];if(g)for(p="c",c=0;c<t.length;c++)x[b=t[c]]=h["c"+b];else{var v;for(c=0;c<t.length;c++)((v="c"+(b=t[c]))in h||(v="z"+b)in h)&&(x[b]=h[v]);p=v.charAt(0)}return x._sync=function(m,w){var f=t.indexOf(m)!==-1?p+m:m;h[f]=h["_"+f]=w},x}function r(u){for(var p=i(u),c=p.min,b=p.max,g=p.reversescale?n(p.colorscale):p.colorscale,h=g.length,x=new Array(h),v=new Array(h),m=0;m<h;m++){var w=g[m];x[m]=c+w[0]*(b-c),v[m]=w[1]}return{domain:x,range:v}}function n(u){for(var p=u.length,c=new Array(p),b=p-1,g=0;b>=0;b--,g++){var h=u[b];c[g]=[1-h[0],h[1]]}return c}function l(u,p){p=p||{};for(var c=u.domain,b=u.range,g=b.length,h=new Array(g),x=0;x<g;x++){var v=k(b[x]).toRgb();h[x]=[v.r,v.g,v.b,v.a]}var m,w=M.scale.linear().domain(c).range(h).clamp(!0),f=p.noNumericCheck,S=p.returnArray;return(m=f&&S?w:f?function(T){return o(w(T))}:S?function(T){return a(T)?w(T):k(T).isValid()?T:y.defaultLine}:function(T){return a(T)?o(w(T)):k(T).isValid()?T:y.defaultLine}).domain=w.domain,m.range=function(){return b},m}function o(u){var p={r:u[0],g:u[1],b:u[2],a:u[3]};return k(p).toRgbString()}Y.exports={hasColorscale:function(u,p,c){var b=p?_.nestedProperty(u,p).get()||{}:u,g=b[c||"color"],h=!1;if(_.isArrayOrTypedArray(g)){for(var x=0;x<g.length;x++)if(a(g[x])){h=!0;break}}return _.isPlainObject(b)&&(h||b.showscale===!0||a(b.cmin)&&a(b.cmax)||d(b.colorscale)||_.isPlainObject(b.colorbar))},extractOpts:i,extractScale:r,flipScale:n,makeColorScaleFunc:l,makeColorScaleFuncFromTrace:function(u,p){return l(r(u),p)}}},21081:function(Y,O,e){var M=e(63282),k=e(52075);Y.exports={moduleType:"component",name:"colorscale",attributes:e(50693),layoutAttributes:e(72673),supplyLayoutDefaults:e(30959),handleDefaults:e(1586),crossTraceDefaults:e(33046),calc:e(78803),scales:M.scales,defaultScale:M.defaultScale,getScale:M.get,isValidScale:M.isValid,hasColorscale:k.hasColorscale,extractOpts:k.extractOpts,extractScale:k.extractScale,flipScale:k.flipScale,makeColorScaleFunc:k.makeColorScaleFunc,makeColorScaleFuncFromTrace:k.makeColorScaleFuncFromTrace}},72673:function(Y,O,e){var M=e(1426).extendFlat,k=e(50693),a=e(63282).scales;Y.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:a.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:a.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:a.RdBu,editType:"calc"}},coloraxis:M({_isSubplotObj:!0,editType:"calc"},k("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(Y,O,e){var M=e(71828),k=e(44467),a=e(72673),_=e(1586);Y.exports=function(y,d){function s(p,c){return M.coerce(y,d,a,p,c)}s("colorscale.sequential"),s("colorscale.sequentialminus"),s("colorscale.diverging");var t,i,r=d._colorAxes;function n(p,c){return M.coerce(t,i,a.coloraxis,p,c)}for(var l in r){var o=r[l];if(o[0])t=y[l]||{},(i=k.newContainer(d,l,"coloraxis"))._name=l,_(t,i,d,n,{prefix:"",cLetter:"c"});else{for(var u=0;u<o[2].length;u++)o[2][u]();delete d._colorAxes[l]}}}},63282:function(Y,O,e){var M=e(84267),k={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},a=k.RdBu;function _(y){var d=0;if(!Array.isArray(y)||y.length<2||!y[0]||!y[y.length-1]||+y[0][0]!=0||+y[y.length-1][0]!=1)return!1;for(var s=0;s<y.length;s++){var t=y[s];if(t.length!==2||+t[0]<d||!M(t[1]).isValid())return!1;d=+t[0]}return!0}Y.exports={scales:k,defaultScale:a,get:function(y,d){if(d||(d=a),!y)return d;function s(){try{y=k[y]||JSON.parse(y)}catch{y=d}}return typeof y=="string"&&(s(),typeof y=="string"&&s()),_(y)?y:d},isValid:function(y){return k[y]!==void 0||_(y)}}},92807:function(Y){Y.exports=function(O,e,M,k,a){var _=(O-M)/(k-M),y=_+e/(k-M),d=(_+y)/2;return a==="left"||a==="bottom"?_:a==="center"||a==="middle"?d:a==="right"||a==="top"?y:_<.6666666666666666-d?_:y>1.3333333333333333-d?y:d}},70461:function(Y,O,e){var M=e(71828),k=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];Y.exports=function(a,_,y,d){return a=y==="left"?0:y==="center"?1:y==="right"?2:M.constrain(Math.floor(3*a),0,2),_=d==="bottom"?0:d==="middle"?1:d==="top"?2:M.constrain(Math.floor(3*_),0,2),k[_][a]}},64505:function(Y,O){O.selectMode=function(e){return e==="lasso"||e==="select"},O.drawMode=function(e){return e==="drawclosedpath"||e==="drawopenpath"||e==="drawline"||e==="drawrect"||e==="drawcircle"},O.openMode=function(e){return e==="drawline"||e==="drawopenpath"},O.rectMode=function(e){return e==="select"||e==="drawline"||e==="drawrect"||e==="drawcircle"},O.freeMode=function(e){return e==="lasso"||e==="drawclosedpath"||e==="drawopenpath"},O.selectingOrDrawing=function(e){return O.freeMode(e)||O.rectMode(e)}},28569:function(Y,O,e){var M=e(48956),k=e(57035),a=e(38520),_=e(71828).removeElement,y=e(85555),d=Y.exports={};d.align=e(92807),d.getCursor=e(70461);var s=e(26041);function t(){var r=document.createElement("div");r.className="dragcover";var n=r.style;return n.position="fixed",n.left=0,n.right=0,n.top=0,n.bottom=0,n.zIndex=999999999,n.background="none",document.body.appendChild(r),r}function i(r){return M(r.changedTouches?r.changedTouches[0]:r,document.body)}d.unhover=s.wrapped,d.unhoverRaw=s.raw,d.init=function(r){var n,l,o,u,p,c,b,g,h=r.gd,x=1,v=h._context.doubleClickDelay,m=r.element;h._mouseDownTime||(h._mouseDownTime=0),m.style.pointerEvents="all",m.onmousedown=f,a?(m._ontouchstart&&m.removeEventListener("touchstart",m._ontouchstart),m._ontouchstart=f,m.addEventListener("touchstart",f,{passive:!1})):m.ontouchstart=f;var w=r.clampFn||function(E,L,C){return Math.abs(E)<C&&(E=0),Math.abs(L)<C&&(L=0),[E,L]};function f(E){h._dragged=!1,h._dragging=!0;var L=i(E);n=L[0],l=L[1],b=E.target,c=E,g=E.buttons===2||E.ctrlKey,E.clientX===void 0&&E.clientY===void 0&&(E.clientX=n,E.clientY=l),(o=new Date().getTime())-h._mouseDownTime<v?x+=1:(x=1,h._mouseDownTime=o),r.prepFn&&r.prepFn(E,n,l),k&&!g?(p=t()).style.cursor=window.getComputedStyle(m).cursor:k||(p=document,u=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(m).cursor),document.addEventListener("mouseup",T),document.addEventListener("touchend",T),r.dragmode!==!1&&(E.preventDefault(),document.addEventListener("mousemove",S),document.addEventListener("touchmove",S,{passive:!1}))}function S(E){E.preventDefault();var L=i(E),C=r.minDrag||y.MINDRAG,P=w(L[0]-n,L[1]-l,C),R=P[0],G=P[1];(R||G)&&(h._dragged=!0,d.unhover(h,E)),h._dragged&&r.moveFn&&!g&&(h._dragdata={element:m,dx:R,dy:G},r.moveFn(R,G))}function T(E){if(delete h._dragdata,r.dragmode!==!1&&(E.preventDefault(),document.removeEventListener("mousemove",S),document.removeEventListener("touchmove",S)),document.removeEventListener("mouseup",T),document.removeEventListener("touchend",T),k?_(p):u&&(p.documentElement.style.cursor=u,u=null),h._dragging){if(h._dragging=!1,new Date().getTime()-h._mouseDownTime>v&&(x=Math.max(x-1,1)),h._dragged)r.doneFn&&r.doneFn();else if(r.clickFn&&r.clickFn(x,c),!g){var L;try{L=new MouseEvent("click",E)}catch{var C=i(E);(L=document.createEvent("MouseEvents")).initMouseEvent("click",E.bubbles,E.cancelable,E.view,E.detail,E.screenX,E.screenY,C[0],C[1],E.ctrlKey,E.altKey,E.shiftKey,E.metaKey,E.button,E.relatedTarget)}b.dispatchEvent(L)}h._dragging=!1,h._dragged=!1}else h._dragged=!1}},d.coverSlip=t},26041:function(Y,O,e){var M=e(11086),k=e(79990),a=e(24401).getGraphDiv,_=e(26675),y=Y.exports={};y.wrapped=function(d,s,t){(d=a(d))._fullLayout&&k.clear(d._fullLayout._uid+_.HOVERID),y.raw(d,s,t)},y.raw=function(d,s){var t=d._fullLayout,i=d._hoverdata;s||(s={}),s.target&&!d._dragged&&M.triggerHandler(d,"plotly_beforehover",s)===!1||(t._hoverlayer.selectAll("g").remove(),t._hoverlayer.selectAll("line").remove(),t._hoverlayer.selectAll("circle").remove(),d._hoverdata=void 0,s.target&&i&&d.emit("plotly_unhover",{event:s,points:i}))}},79952:function(Y,O){O.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},O.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(Y,O,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(92770),y=e(84267),d=e(73972),s=e(7901),t=e(21081),i=k.strTranslate,r=e(63893),n=e(77922),l=e(18783).LINE_SPACING,o=e(37822).DESELECTDIM,u=e(34098),p=e(39984),c=e(23469).appendArrayPointValue,b=Y.exports={};function g(Se,ke,se){var oe=ke.fillpattern,he=oe&&b.getPatternAttr(oe.shape,0,"");if(he){var Le=b.getPatternAttr(oe.bgcolor,0,null),Me=b.getPatternAttr(oe.fgcolor,0,null),_e=oe.fgopacity,De=b.getPatternAttr(oe.size,0,8),Ne=b.getPatternAttr(oe.solidity,0,.3),ce=ke.uid;b.pattern(Se,"point",se,ce,he,De,Ne,void 0,oe.fillmode,Le,Me,_e)}else ke.fillcolor&&Se.call(s.fill,ke.fillcolor)}b.font=function(Se,ke,se,oe){k.isPlainObject(ke)&&(oe=ke.color,se=ke.size,ke=ke.family),ke&&Se.style("font-family",ke),se+1&&Se.style("font-size",se+"px"),oe&&Se.call(s.fill,oe)},b.setPosition=function(Se,ke,se){Se.attr("x",ke).attr("y",se)},b.setSize=function(Se,ke,se){Se.attr("width",ke).attr("height",se)},b.setRect=function(Se,ke,se,oe,he){Se.call(b.setPosition,ke,se).call(b.setSize,oe,he)},b.translatePoint=function(Se,ke,se,oe){var he=se.c2p(Se.x),Le=oe.c2p(Se.y);return!!(_(he)&&_(Le)&&ke.node())&&(ke.node().nodeName==="text"?ke.attr("x",he).attr("y",Le):ke.attr("transform",i(he,Le)),!0)},b.translatePoints=function(Se,ke,se){Se.each(function(oe){var he=M.select(this);b.translatePoint(oe,he,ke,se)})},b.hideOutsideRangePoint=function(Se,ke,se,oe,he,Le){ke.attr("display",se.isPtWithinRange(Se,he)&&oe.isPtWithinRange(Se,Le)?null:"none")},b.hideOutsideRangePoints=function(Se,ke){if(ke._hasClipOnAxisFalse){var se=ke.xaxis,oe=ke.yaxis;Se.each(function(he){var Le=he[0].trace,Me=Le.xcalendar,_e=Le.ycalendar,De=d.traceIs(Le,"bar-like")?".bartext":".point,.textpoint";Se.selectAll(De).each(function(Ne){b.hideOutsideRangePoint(Ne,M.select(this),se,oe,Me,_e)})})}},b.crispRound=function(Se,ke,se){return ke&&_(ke)?Se._context.staticPlot?ke:ke<1?1:Math.round(ke):se||0},b.singleLineStyle=function(Se,ke,se,oe,he){ke.style("fill","none");var Le=(((Se||[])[0]||{}).trace||{}).line||{},Me=se||Le.width||0,_e=he||Le.dash||"";s.stroke(ke,oe||Le.color),b.dashLine(ke,_e,Me)},b.lineGroupStyle=function(Se,ke,se,oe){Se.style("fill","none").each(function(he){var Le=(((he||[])[0]||{}).trace||{}).line||{},Me=ke||Le.width||0,_e=oe||Le.dash||"";M.select(this).call(s.stroke,se||Le.color).call(b.dashLine,_e,Me)})},b.dashLine=function(Se,ke,se){se=+se||0,ke=b.dashStyle(ke,se),Se.style({"stroke-dasharray":ke,"stroke-width":se+"px"})},b.dashStyle=function(Se,ke){ke=+ke||1;var se=Math.max(ke,3);return Se==="solid"?Se="":Se==="dot"?Se=se+"px,"+se+"px":Se==="dash"?Se=3*se+"px,"+3*se+"px":Se==="longdash"?Se=5*se+"px,"+5*se+"px":Se==="dashdot"?Se=3*se+"px,"+se+"px,"+se+"px,"+se+"px":Se==="longdashdot"&&(Se=5*se+"px,"+2*se+"px,"+se+"px,"+2*se+"px"),Se},b.singleFillStyle=function(Se,ke){var se=M.select(Se.node());g(Se,((se.data()[0]||[])[0]||{}).trace||{},ke)},b.fillGroupStyle=function(Se,ke){Se.style("stroke-width",0).each(function(se){var oe=M.select(this);se[0].trace&&g(oe,se[0].trace,ke)})};var h=e(90998);b.symbolNames=[],b.symbolFuncs=[],b.symbolBackOffs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolNoFill={},b.symbolList=[],Object.keys(h).forEach(function(Se){var ke=h[Se],se=ke.n;b.symbolList.push(se,String(se),Se,se+100,String(se+100),Se+"-open"),b.symbolNames[se]=Se,b.symbolFuncs[se]=ke.f,b.symbolBackOffs[se]=ke.backoff||0,ke.needLine&&(b.symbolNeedLines[se]=!0),ke.noDot?b.symbolNoDot[se]=!0:b.symbolList.push(se+200,String(se+200),Se+"-dot",se+300,String(se+300),Se+"-open-dot"),ke.noFill&&(b.symbolNoFill[se]=!0)});var x=b.symbolNames.length;function v(Se,ke,se,oe){var he=Se%100;return b.symbolFuncs[he](ke,se,oe)+(Se>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}b.symbolNumber=function(Se){if(_(Se))Se=+Se;else if(typeof Se=="string"){var ke=0;Se.indexOf("-open")>0&&(ke=100,Se=Se.replace("-open","")),Se.indexOf("-dot")>0&&(ke+=200,Se=Se.replace("-dot","")),(Se=b.symbolNames.indexOf(Se))>=0&&(Se+=ke)}return Se%100>=x||Se>=400?0:Math.floor(Math.max(Se,0))};var m={x1:1,x2:0,y1:0,y2:0},w={x1:0,x2:0,y1:1,y2:0},f=a("~f"),S={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:m},horizontalreversed:{node:"linearGradient",attrs:m,reversed:!0},vertical:{node:"linearGradient",attrs:w},verticalreversed:{node:"linearGradient",attrs:w,reversed:!0}};b.gradient=function(Se,ke,se,oe,he,Le){for(var Me=he.length,_e=S[oe],De=new Array(Me),Ne=0;Ne<Me;Ne++)_e.reversed?De[Me-1-Ne]=[f(100*(1-he[Ne][0])),he[Ne][1]]:De[Ne]=[f(100*he[Ne][0]),he[Ne][1]];var ce=ke._fullLayout,Te="g"+ce._uid+"-"+se,ye=ce._defs.select(".gradients").selectAll("#"+Te).data([oe+De.join(";")],k.identity);ye.exit().remove(),ye.enter().append(_e.node).each(function(){var Oe=M.select(this);_e.attrs&&Oe.attr(_e.attrs),Oe.attr("id",Te);var Be=Oe.selectAll("stop").data(De);Be.exit().remove(),Be.enter().append("stop"),Be.each(function(Fe){var Ge=y(Fe[1]);M.select(this).attr({offset:Fe[0]+"%","stop-color":s.tinyRGB(Ge),"stop-opacity":Ge.getAlpha()})})}),Se.style(Le,$(Te,ke)).style(Le+"-opacity",null),Se.classed("gradient_filled",!0)},b.pattern=function(Se,ke,se,oe,he,Le,Me,_e,De,Ne,ce,Te){var ye=ke==="legend";_e&&(De==="overlay"?(Ne=_e,ce=s.contrast(Ne)):(Ne=void 0,ce=_e));var Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt=se._fullLayout,wt="p"+kt._uid+"-"+oe,lt={},ut=y(ce),Et=s.tinyRGB(ut),Ot=Te*ut.getAlpha();switch(he){case"/":Oe=Le*Math.sqrt(2),Be=Le*Math.sqrt(2),et="path",lt={d:Fe="M-"+Oe/4+","+Be/4+"l"+Oe/2+",-"+Be/2+"M0,"+Be+"L"+Oe+",0M"+Oe/4*3+","+Be/4*5+"l"+Oe/2+",-"+Be/2,opacity:Ot,stroke:Et,"stroke-width":(Ge=Me*Le)+"px"};break;case"\\":Oe=Le*Math.sqrt(2),Be=Le*Math.sqrt(2),et="path",lt={d:Fe="M"+Oe/4*3+",-"+Be/4+"l"+Oe/2+","+Be/2+"M0,0L"+Oe+","+Be+"M-"+Oe/4+","+Be/4*3+"l"+Oe/2+","+Be/2,opacity:Ot,stroke:Et,"stroke-width":(Ge=Me*Le)+"px"};break;case"x":Oe=Le*Math.sqrt(2),Be=Le*Math.sqrt(2),Fe="M-"+Oe/4+","+Be/4+"l"+Oe/2+",-"+Be/2+"M0,"+Be+"L"+Oe+",0M"+Oe/4*3+","+Be/4*5+"l"+Oe/2+",-"+Be/2+"M"+Oe/4*3+",-"+Be/4+"l"+Oe/2+","+Be/2+"M0,0L"+Oe+","+Be+"M-"+Oe/4+","+Be/4*3+"l"+Oe/2+","+Be/2,Ge=Le-Le*Math.sqrt(1-Me),et="path",lt={d:Fe,opacity:Ot,stroke:Et,"stroke-width":Ge+"px"};break;case"|":et="path",et="path",lt={d:Fe="M"+(Oe=Le)/2+",0L"+Oe/2+","+(Be=Le),opacity:Ot,stroke:Et,"stroke-width":(Ge=Me*Le)+"px"};break;case"-":et="path",et="path",lt={d:Fe="M0,"+(Be=Le)/2+"L"+(Oe=Le)+","+Be/2,opacity:Ot,stroke:Et,"stroke-width":(Ge=Me*Le)+"px"};break;case"+":et="path",Fe="M"+(Oe=Le)/2+",0L"+Oe/2+","+(Be=Le)+"M0,"+Be/2+"L"+Oe+","+Be/2,Ge=Le-Le*Math.sqrt(1-Me),et="path",lt={d:Fe,opacity:Ot,stroke:Et,"stroke-width":Ge+"px"};break;case".":Oe=Le,Be=Le,Me<Math.PI/4?Ze=Math.sqrt(Me*Le*Le/Math.PI):(ft=Me,rt=Math.PI/4,Ze=(_t=Le/2)+(Le/Math.sqrt(2)-_t)*(ft-rt)/(1-rt)),et="circle",lt={cx:Oe/2,cy:Be/2,r:Ze,opacity:Ot,fill:Et}}var zt=[he||"noSh",Ne||"noBg",ce||"noFg",Le,Me].join(";"),Lt=kt._defs.select(".patterns").selectAll("#"+wt).data([zt],k.identity);Lt.exit().remove(),Lt.enter().append("pattern").each(function(){var Je=M.select(this);if(Je.attr({id:wt,width:Oe+"px",height:Be+"px",patternUnits:"userSpaceOnUse",patternTransform:ye?"scale(0.8)":""}),Ne){var Qe=y(Ne),qe=s.tinyRGB(Qe),$e=Qe.getAlpha(),ct=Je.selectAll("rect").data([0]);ct.exit().remove(),ct.enter().append("rect").attr({width:Oe+"px",height:Be+"px",fill:qe,"fill-opacity":$e})}var at=Je.selectAll(et).data([0]);at.exit().remove(),at.enter().append(et).attr(lt)}),Se.style("fill",$(wt,se)).style("fill-opacity",null),Se.classed("pattern_filled",!0)},b.initGradients=function(Se){var ke=Se._fullLayout;k.ensureSingle(ke._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),M.select(Se).selectAll(".gradient_filled").classed("gradient_filled",!1)},b.initPatterns=function(Se){var ke=Se._fullLayout;k.ensureSingle(ke._defs,"g","patterns").selectAll("pattern").remove(),M.select(Se).selectAll(".pattern_filled").classed("pattern_filled",!1)},b.getPatternAttr=function(Se,ke,se){return Se&&k.isArrayOrTypedArray(Se)?ke<Se.length?Se[ke]:se:Se},b.pointStyle=function(Se,ke,se,oe){if(Se.size()){var he=b.makePointStyleFns(ke);Se.each(function(Le){b.singlePointStyle(Le,M.select(this),ke,he,se,oe)})}},b.singlePointStyle=function(Se,ke,se,oe,he,Le){var Me=se.marker,_e=Me.line;if(Le&&Le.i>=0&&Se.i===void 0&&(Se.i=Le.i),ke.style("opacity",oe.selectedOpacityFn?oe.selectedOpacityFn(Se):Se.mo===void 0?Me.opacity:Se.mo),oe.ms2mrc){var De;De=Se.ms==="various"||Me.size==="various"?3:oe.ms2mrc(Se.ms),Se.mrc=De,oe.selectedSizeFn&&(De=Se.mrc=oe.selectedSizeFn(Se));var Ne=b.symbolNumber(Se.mx||Me.symbol)||0;Se.om=Ne%200>=100;var ce=Ie(Se,se),Te=X(Se,se);ke.attr("d",v(Ne,De,ce,Te))}var ye,Oe,Be,Fe=!1;if(Se.so)Be=_e.outlierwidth,Oe=_e.outliercolor,ye=Me.outliercolor;else{var Ge=(_e||{}).width;Be=(Se.mlw+1||Ge+1||(Se.trace?(Se.trace.marker.line||{}).width:0)+1)-1||0,Oe="mlc"in Se?Se.mlcc=oe.lineScale(Se.mlc):k.isArrayOrTypedArray(_e.color)?s.defaultLine:_e.color,k.isArrayOrTypedArray(Me.color)&&(ye=s.defaultLine,Fe=!0),ye="mc"in Se?Se.mcc=oe.markerScale(Se.mc):Me.color||Me.colors||"rgba(0,0,0,0)",oe.selectedColorFn&&(ye=oe.selectedColorFn(Se))}if(Se.om)ke.call(s.stroke,ye).style({"stroke-width":(Be||1)+"px",fill:"none"});else{ke.style("stroke-width",(Se.isBlank?0:Be)+"px");var Ze=Me.gradient,et=Se.mgt;et?Fe=!0:et=Ze&&Ze.type,k.isArrayOrTypedArray(et)&&(et=et[0],S[et]||(et=0));var ft=Me.pattern,rt=ft&&b.getPatternAttr(ft.shape,Se.i,"");if(et&&et!=="none"){var _t=Se.mgc;_t?Fe=!0:_t=Ze.color;var kt=se.uid;Fe&&(kt+="-"+Se.i),b.gradient(ke,he,kt,et,[[0,_t],[1,ye]],"fill")}else if(rt){var wt=!1,lt=ft.fgcolor;!lt&&Le&&Le.color&&(lt=Le.color,wt=!0);var ut=b.getPatternAttr(lt,Se.i,Le&&Le.color||null),Et=b.getPatternAttr(ft.bgcolor,Se.i,null),Ot=ft.fgopacity,zt=b.getPatternAttr(ft.size,Se.i,8),Lt=b.getPatternAttr(ft.solidity,Se.i,.3);wt=wt||Se.mcc||k.isArrayOrTypedArray(ft.shape)||k.isArrayOrTypedArray(ft.bgcolor)||k.isArrayOrTypedArray(ft.fgcolor)||k.isArrayOrTypedArray(ft.size)||k.isArrayOrTypedArray(ft.solidity);var Je=se.uid;wt&&(Je+="-"+Se.i),b.pattern(ke,"point",he,Je,rt,zt,Lt,Se.mcc,ft.fillmode,Et,ut,Ot)}else k.isArrayOrTypedArray(ye)?s.fill(ke,ye[Se.i]):s.fill(ke,ye);Be&&s.stroke(ke,Oe)}},b.makePointStyleFns=function(Se){var ke={},se=Se.marker;return ke.markerScale=b.tryColorscale(se,""),ke.lineScale=b.tryColorscale(se,"line"),d.traceIs(Se,"symbols")&&(ke.ms2mrc=u.isBubble(Se)?p(Se):function(){return(se.size||6)/2}),Se.selectedpoints&&k.extendFlat(ke,b.makeSelectedPointStyleFns(Se)),ke},b.makeSelectedPointStyleFns=function(Se){var ke={},se=Se.selected||{},oe=Se.unselected||{},he=Se.marker||{},Le=se.marker||{},Me=oe.marker||{},_e=he.opacity,De=Le.opacity,Ne=Me.opacity,ce=De!==void 0,Te=Ne!==void 0;(k.isArrayOrTypedArray(_e)||ce||Te)&&(ke.selectedOpacityFn=function(rt){var _t=rt.mo===void 0?he.opacity:rt.mo;return rt.selected?ce?De:_t:Te?Ne:o*_t});var ye=he.color,Oe=Le.color,Be=Me.color;(Oe||Be)&&(ke.selectedColorFn=function(rt){var _t=rt.mcc||ye;return rt.selected?Oe||_t:Be||_t});var Fe=he.size,Ge=Le.size,Ze=Me.size,et=Ge!==void 0,ft=Ze!==void 0;return d.traceIs(Se,"symbols")&&(et||ft)&&(ke.selectedSizeFn=function(rt){var _t=rt.mrc||Fe/2;return rt.selected?et?Ge/2:_t:ft?Ze/2:_t}),ke},b.makeSelectedTextStyleFns=function(Se){var ke={},se=Se.selected||{},oe=Se.unselected||{},he=Se.textfont||{},Le=se.textfont||{},Me=oe.textfont||{},_e=he.color,De=Le.color,Ne=Me.color;return ke.selectedTextColorFn=function(ce){var Te=ce.tc||_e;return ce.selected?De||Te:Ne||(De?Te:s.addOpacity(Te,o))},ke},b.selectedPointStyle=function(Se,ke){if(Se.size()&&ke.selectedpoints){var se=b.makeSelectedPointStyleFns(ke),oe=ke.marker||{},he=[];se.selectedOpacityFn&&he.push(function(Le,Me){Le.style("opacity",se.selectedOpacityFn(Me))}),se.selectedColorFn&&he.push(function(Le,Me){s.fill(Le,se.selectedColorFn(Me))}),se.selectedSizeFn&&he.push(function(Le,Me){var _e=Me.mx||oe.symbol||0,De=se.selectedSizeFn(Me);Le.attr("d",v(b.symbolNumber(_e),De,Ie(Me,ke),X(Me,ke))),Me.mrc2=De}),he.length&&Se.each(function(Le){for(var Me=M.select(this),_e=0;_e<he.length;_e++)he[_e](Me,Le)})}},b.tryColorscale=function(Se,ke){var se=ke?k.nestedProperty(Se,ke).get():Se;if(se){var oe=se.color;if((se.colorscale||se._colorAx)&&k.isArrayOrTypedArray(oe))return t.makeColorScaleFuncFromTrace(se)}return k.identity};var T,E,L={start:1,end:-1,middle:0,bottom:1,top:-1};function C(Se,ke,se,oe,he){var Le=M.select(Se.node().parentNode),Me=ke.indexOf("top")!==-1?"top":ke.indexOf("bottom")!==-1?"bottom":"middle",_e=ke.indexOf("left")!==-1?"end":ke.indexOf("right")!==-1?"start":"middle",De=oe?oe/.8+1:0,Ne=(r.lineCount(Se)-1)*l+1,ce=L[_e]*De,Te=.75*se+L[Me]*De+(L[Me]-1)*Ne*se/2;Se.attr("text-anchor",_e),he||Le.attr("transform",i(ce,Te))}function P(Se,ke){var se=Se.ts||ke.textfont.size;return _(se)&&se>0?se:0}function R(Se,ke,se){return se&&(Se=V(Se)),ke?I(Se[1]):G(Se[0])}function G(Se){var ke=M.round(Se,2);return T=ke,ke}function I(Se){var ke=M.round(Se,2);return E=ke,ke}function H(Se,ke,se,oe){var he=Se[0]-ke[0],Le=Se[1]-ke[1],Me=se[0]-ke[0],_e=se[1]-ke[1],De=Math.pow(he*he+Le*Le,.25),Ne=Math.pow(Me*Me+_e*_e,.25),ce=(Ne*Ne*he-De*De*Me)*oe,Te=(Ne*Ne*Le-De*De*_e)*oe,ye=3*Ne*(De+Ne),Oe=3*De*(De+Ne);return[[G(ke[0]+(ye&&ce/ye)),I(ke[1]+(ye&&Te/ye))],[G(ke[0]-(Oe&&ce/Oe)),I(ke[1]-(Oe&&Te/Oe))]]}b.textPointStyle=function(Se,ke,se){if(Se.size()){var oe;if(ke.selectedpoints){var he=b.makeSelectedTextStyleFns(ke);oe=he.selectedTextColorFn}var Le=ke.texttemplate,Me=se._fullLayout;Se.each(function(_e){var De=M.select(this),Ne=Le?k.extractOption(_e,ke,"txt","texttemplate"):k.extractOption(_e,ke,"tx","text");if(Ne||Ne===0){if(Le){var ce=ke._module.formatLabels,Te=ce?ce(_e,ke,Me):{},ye={};c(ye,ke,_e.i);var Oe=ke._meta||{};Ne=k.texttemplateString(Ne,Te,Me._d3locale,ye,_e,Oe)}var Be=_e.tp||ke.textposition,Fe=P(_e,ke),Ge=oe?oe(_e):_e.tc||ke.textfont.color;De.call(b.font,_e.tf||ke.textfont.family,Fe,Ge).text(Ne).call(r.convertToTspans,se).call(C,Be,Fe,_e.mrc)}else De.remove()})}},b.selectedTextStyle=function(Se,ke){if(Se.size()&&ke.selectedpoints){var se=b.makeSelectedTextStyleFns(ke);Se.each(function(oe){var he=M.select(this),Le=se.selectedTextColorFn(oe),Me=oe.tp||ke.textposition,_e=P(oe,ke);s.fill(he,Le);var De=d.traceIs(ke,"bar-like");C(he,Me,_e,oe.mrc2||oe.mrc,De)})}},b.smoothopen=function(Se,ke){if(Se.length<3)return"M"+Se.join("L");var se,oe="M"+Se[0],he=[];for(se=1;se<Se.length-1;se++)he.push(H(Se[se-1],Se[se],Se[se+1],ke));for(oe+="Q"+he[0][0]+" "+Se[1],se=2;se<Se.length-1;se++)oe+="C"+he[se-2][1]+" "+he[se-1][0]+" "+Se[se];return oe+"Q"+he[Se.length-3][1]+" "+Se[Se.length-1]},b.smoothclosed=function(Se,ke){if(Se.length<3)return"M"+Se.join("L")+"Z";var se,oe="M"+Se[0],he=Se.length-1,Le=[H(Se[he],Se[0],Se[1],ke)];for(se=1;se<he;se++)Le.push(H(Se[se-1],Se[se],Se[se+1],ke));for(Le.push(H(Se[he-1],Se[he],Se[0],ke)),se=1;se<=he;se++)oe+="C"+Le[se-1][1]+" "+Le[se][0]+" "+Se[se];return oe+"C"+Le[he][1]+" "+Le[0][0]+" "+Se[0]+"Z"};var N={hv:function(Se,ke,se){return"H"+G(ke[0])+"V"+R(ke,1,se)},vh:function(Se,ke,se){return"V"+I(ke[1])+"H"+R(ke,0,se)},hvh:function(Se,ke,se){return"H"+G((Se[0]+ke[0])/2)+"V"+I(ke[1])+"H"+R(ke,0,se)},vhv:function(Se,ke,se){return"V"+I((Se[1]+ke[1])/2)+"H"+G(ke[0])+"V"+R(ke,1,se)}},B=function(Se,ke,se){return"L"+R(ke,0,se)+","+R(ke,1,se)};function V(Se,ke){var se=Se.backoff,oe=Se.trace,he=Se.d,Le=Se.i;if(se&&oe&&oe.marker&&oe.marker.angle%360==0&&oe.line&&oe.line.shape!=="spline"){var Me=k.isArrayOrTypedArray(se),_e=Se,De=ke?ke[0]:T||0,Ne=ke?ke[1]:E||0,ce=_e[0],Te=_e[1],ye=ce-De,Oe=Te-Ne,Be=Math.atan2(Oe,ye),Fe=Me?se[Le]:se;if(Fe==="auto"){var Ge=_e.i;oe.type==="scatter"&&Ge--;var Ze=_e.marker,et=Ze.symbol;k.isArrayOrTypedArray(et)&&(et=et[Ge]);var ft=Ze.size;k.isArrayOrTypedArray(ft)&&(ft=ft[Ge]),Fe=Ze?b.symbolBackOffs[b.symbolNumber(et)]*ft:0,Fe+=b.getMarkerStandoff(he[Ge],oe)||0}var rt=ce-Fe*Math.cos(Be),_t=Te-Fe*Math.sin(Be);(rt<=ce&&rt>=De||rt>=ce&&rt<=De)&&(_t<=Te&&_t>=Ne||_t>=Te&&_t<=Ne)&&(Se=[rt,_t])}return Se}b.steps=function(Se){var ke=N[Se]||B;return function(se){for(var oe="M"+G(se[0][0])+","+I(se[0][1]),he=se.length,Le=1;Le<he;Le++)oe+=ke(se[Le-1],se[Le],Le===he-1);return oe}},b.applyBackoff=V,b.makeTester=function(){var Se=k.ensureSingleById(M.select("body"),"svg","js-plotly-tester",function(se){se.attr(n.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),ke=k.ensureSingle(Se,"path","js-reference-point",function(se){se.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});b.tester=Se,b.testref=ke},b.savedBBoxes={};var q=0;function te(Se){var ke=Se.getAttribute("data-unformatted");if(ke!==null)return ke+Se.getAttribute("data-math")+Se.getAttribute("text-anchor")+Se.getAttribute("style")}function $(Se,ke){if(!Se)return null;var se=ke._context,oe=se._exportedPlot?"":se._baseUrl||"";return oe?"url('"+oe+"#"+Se+"')":"url(#"+Se+")"}b.bBox=function(Se,ke,se){var oe,he,Le;if(se||(se=te(Se)),se){if(oe=b.savedBBoxes[se])return k.extendFlat({},oe)}else if(Se.childNodes.length===1){var Me=Se.childNodes[0];if(se=te(Me)){var _e=+Me.getAttribute("x")||0,De=+Me.getAttribute("y")||0,Ne=Me.getAttribute("transform");if(!Ne){var ce=b.bBox(Me,!1,se);return _e&&(ce.left+=_e,ce.right+=_e),De&&(ce.top+=De,ce.bottom+=De),ce}if(se+="~"+_e+"~"+De+"~"+Ne,oe=b.savedBBoxes[se])return k.extendFlat({},oe)}}ke?he=Se:(Le=b.tester.node(),he=Se.cloneNode(!0),Le.appendChild(he)),M.select(he).attr("transform",null).call(r.positionText,0,0);var Te=he.getBoundingClientRect(),ye=b.testref.node().getBoundingClientRect();ke||Le.removeChild(he);var Oe={height:Te.height,width:Te.width,left:Te.left-ye.left,top:Te.top-ye.top,right:Te.right-ye.left,bottom:Te.bottom-ye.top};return q>=1e4&&(b.savedBBoxes={},q=0),se&&(b.savedBBoxes[se]=Oe),q++,k.extendFlat({},Oe)},b.setClipUrl=function(Se,ke,se){Se.attr("clip-path",$(ke,se))},b.getTranslate=function(Se){var ke=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(se,oe,he){return[oe,he].join(" ")}).split(" ");return{x:+ke[0]||0,y:+ke[1]||0}},b.setTranslate=function(Se,ke,se){var oe=Se.attr?"attr":"getAttribute",he=Se.attr?"attr":"setAttribute",Le=Se[oe]("transform")||"";return ke=ke||0,se=se||0,Le=Le.replace(/(\btranslate\(.*?\);?)/,"").trim(),Le=(Le+=i(ke,se)).trim(),Se[he]("transform",Le),Le},b.getScale=function(Se){var ke=(Se[Se.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(se,oe,he){return[oe,he].join(" ")}).split(" ");return{x:+ke[0]||1,y:+ke[1]||1}},b.setScale=function(Se,ke,se){var oe=Se.attr?"attr":"getAttribute",he=Se.attr?"attr":"setAttribute",Le=Se[oe]("transform")||"";return ke=ke||1,se=se||1,Le=Le.replace(/(\bscale\(.*?\);?)/,"").trim(),Le=(Le+="scale("+ke+","+se+")").trim(),Se[he]("transform",Le),Le};var K=/\s*sc.*/;b.setPointGroupScale=function(Se,ke,se){if(ke=ke||1,se=se||1,Se){var oe=ke===1&&se===1?"":"scale("+ke+","+se+")";Se.each(function(){var he=(this.getAttribute("transform")||"").replace(K,"");he=(he+=oe).trim(),this.setAttribute("transform",he)})}};var Z=/translate\([^)]*\)\s*$/;function X(Se,ke){var se;return Se&&(se=Se.mf),se===void 0&&(se=ke.marker&&ke.marker.standoff||0),ke._geo||ke._xA?se:-se}b.setTextPointsScale=function(Se,ke,se){Se&&Se.each(function(){var oe,he=M.select(this),Le=he.select("text");if(Le.node()){var Me=parseFloat(Le.attr("x")||0),_e=parseFloat(Le.attr("y")||0),De=(he.attr("transform")||"").match(Z);oe=ke===1&&se===1?[]:[i(Me,_e),"scale("+ke+","+se+")",i(-Me,-_e)],De&&oe.push(De),he.attr("transform",oe.join(""))}})},b.getMarkerStandoff=X;var ee,ne,re,ae,ue,pe,ge=Math.atan2,we=Math.cos,me=Math.sin;function ve(Se,ke){var se=ke[0],oe=ke[1];return[se*we(Se)-oe*me(Se),se*me(Se)+oe*we(Se)]}function Ie(Se,ke){var se,oe,he=Se.ma;he===void 0&&(he=ke.marker.angle||0);var Le=ke.marker.angleref;if(Le==="previous"||Le==="north"){if(ke._geo){var Me=ke._geo.project(Se.lonlat);se=Me[0],oe=Me[1]}else{var _e=ke._xA,De=ke._yA;if(!_e||!De)return 90;se=_e.c2p(Se.x),oe=De.c2p(Se.y)}if(ke._geo){var Ne,ce=Se.lonlat[0],Te=Se.lonlat[1],ye=ke._geo.project([ce,Te+1e-5]),Oe=ke._geo.project([ce+1e-5,Te]),Be=ge(Oe[1]-oe,Oe[0]-se),Fe=ge(ye[1]-oe,ye[0]-se);if(Le==="north")Ne=he/180*Math.PI;else if(Le==="previous"){var Ge=ce/180*Math.PI,Ze=Te/180*Math.PI,et=ee/180*Math.PI,ft=ne/180*Math.PI,rt=et-Ge,_t=we(ft)*me(rt),kt=me(ft)*we(Ze)-we(ft)*me(Ze)*we(rt);Ne=-ge(_t,kt)-Math.PI,ee=ce,ne=Te}var wt=ve(Be,[we(Ne),0]),lt=ve(Fe,[me(Ne),0]);he=ge(wt[1]+lt[1],wt[0]+lt[0])/Math.PI*180,Le!=="previous"||pe===ke.uid&&Se.i===ue+1||(he=null)}if(Le==="previous"&&!ke._geo)if(pe===ke.uid&&Se.i===ue+1&&_(se)&&_(oe)){var ut=se-re,Et=oe-ae,Ot=ke.line&&ke.line.shape||"",zt=Ot.slice(Ot.length-1);zt==="h"&&(Et=0),zt==="v"&&(ut=0),he+=ge(Et,ut)/Math.PI*180+90}else he=null}return re=se,ae=oe,ue=Se.i,pe=ke.uid,he}b.getMarkerAngle=Ie},90998:function(Y,O,e){var M,k,a,_,y=e(95616),d=e(39898).round,s="M0,0Z",t=Math.sqrt(2),i=Math.sqrt(3),r=Math.PI,n=Math.cos,l=Math.sin;function o(p){return p===null}function u(p,c,b){if(!(p&&p%360!=0||c))return b;if(a===p&&_===c&&M===b)return k;function g(R,G){var I=n(R),H=l(R),N=G[0],B=G[1]+(c||0);return[N*I-B*H,N*H+B*I]}a=p,_=c,M=b;for(var h=p/180*r,x=0,v=0,m=y(b),w="",f=0;f<m.length;f++){var S=m[f],T=S[0],E=x,L=v;if(T==="M"||T==="L")x=+S[1],v=+S[2];else if(T==="m"||T==="l")x+=+S[1],v+=+S[2];else if(T==="H")x=+S[1];else if(T==="h")x+=+S[1];else if(T==="V")v=+S[1];else if(T==="v")v+=+S[1];else if(T==="A"){x=+S[1],v=+S[2];var C=g(h,[+S[6],+S[7]]);S[6]=C[0],S[7]=C[1],S[3]=+S[3]+p}T!=="H"&&T!=="V"||(T="L"),T!=="h"&&T!=="v"||(T="l"),T!=="m"&&T!=="l"||(x-=E,v-=L);var P=g(h,[x,v]);T!=="H"&&T!=="V"||(T="L"),T!=="M"&&T!=="L"&&T!=="m"&&T!=="l"||(S[1]=P[0],S[2]=P[1]),S[0]=T,w+=S[0]+S.slice(1).join(",")}return k=w,w}Y.exports={circle:{n:0,f:function(p,c,b){if(o(c))return s;var g=d(p,2),h="M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z";return b?u(c,b,h):h}},square:{n:1,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")}},diamond:{n:2,f:function(p,c,b){if(o(c))return s;var g=d(1.3*p,2);return u(c,b,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"Z")}},cross:{n:3,f:function(p,c,b){if(o(c))return s;var g=d(.4*p,2),h=d(1.2*p,2);return u(c,b,"M"+h+","+g+"H"+g+"V"+h+"H-"+g+"V"+g+"H-"+h+"V-"+g+"H-"+g+"V-"+h+"H"+g+"V-"+g+"H"+h+"Z")}},x:{n:4,f:function(p,c,b){if(o(c))return s;var g=d(.8*p/t,2),h="l"+g+","+g,x="l"+g+",-"+g,v="l-"+g+",-"+g,m="l-"+g+","+g;return u(c,b,"M0,"+g+h+x+v+x+v+m+v+m+h+m+h+"Z")}},"triangle-up":{n:5,f:function(p,c,b){if(o(c))return s;var g=d(2*p/i,2);return u(c,b,"M-"+g+","+d(p/2,2)+"H"+g+"L0,-"+d(p,2)+"Z")}},"triangle-down":{n:6,f:function(p,c,b){if(o(c))return s;var g=d(2*p/i,2);return u(c,b,"M-"+g+",-"+d(p/2,2)+"H"+g+"L0,"+d(p,2)+"Z")}},"triangle-left":{n:7,f:function(p,c,b){if(o(c))return s;var g=d(2*p/i,2);return u(c,b,"M"+d(p/2,2)+",-"+g+"V"+g+"L-"+d(p,2)+",0Z")}},"triangle-right":{n:8,f:function(p,c,b){if(o(c))return s;var g=d(2*p/i,2);return u(c,b,"M-"+d(p/2,2)+",-"+g+"V"+g+"L"+d(p,2)+",0Z")}},"triangle-ne":{n:9,f:function(p,c,b){if(o(c))return s;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,b,"M-"+h+",-"+g+"H"+g+"V"+h+"Z")}},"triangle-se":{n:10,f:function(p,c,b){if(o(c))return s;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,b,"M"+g+",-"+h+"V"+g+"H-"+h+"Z")}},"triangle-sw":{n:11,f:function(p,c,b){if(o(c))return s;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,b,"M"+h+","+g+"H-"+g+"V-"+h+"Z")}},"triangle-nw":{n:12,f:function(p,c,b){if(o(c))return s;var g=d(.6*p,2),h=d(1.2*p,2);return u(c,b,"M-"+g+","+h+"V-"+g+"H"+h+"Z")}},pentagon:{n:13,f:function(p,c,b){if(o(c))return s;var g=d(.951*p,2),h=d(.588*p,2),x=d(-p,2),v=d(-.309*p,2);return u(c,b,"M"+g+","+v+"L"+h+","+d(.809*p,2)+"H-"+h+"L-"+g+","+v+"L0,"+x+"Z")}},hexagon:{n:14,f:function(p,c,b){if(o(c))return s;var g=d(p,2),h=d(p/2,2),x=d(p*i/2,2);return u(c,b,"M"+x+",-"+h+"V"+h+"L0,"+g+"L-"+x+","+h+"V-"+h+"L0,-"+g+"Z")}},hexagon2:{n:15,f:function(p,c,b){if(o(c))return s;var g=d(p,2),h=d(p/2,2),x=d(p*i/2,2);return u(c,b,"M-"+h+","+x+"H"+h+"L"+g+",0L"+h+",-"+x+"H-"+h+"L-"+g+",0Z")}},octagon:{n:16,f:function(p,c,b){if(o(c))return s;var g=d(.924*p,2),h=d(.383*p,2);return u(c,b,"M-"+h+",-"+g+"H"+h+"L"+g+",-"+h+"V"+h+"L"+h+","+g+"H-"+h+"L-"+g+","+h+"V-"+h+"Z")}},star:{n:17,f:function(p,c,b){if(o(c))return s;var g=1.4*p,h=d(.225*g,2),x=d(.951*g,2),v=d(.363*g,2),m=d(.588*g,2),w=d(-g,2),f=d(-.309*g,2),S=d(.118*g,2),T=d(.809*g,2);return u(c,b,"M"+h+","+f+"H"+x+"L"+v+","+S+"L"+m+","+T+"L0,"+d(.382*g,2)+"L-"+m+","+T+"L-"+v+","+S+"L-"+x+","+f+"H-"+h+"L0,"+w+"Z")}},hexagram:{n:18,f:function(p,c,b){if(o(c))return s;var g=d(.66*p,2),h=d(.38*p,2),x=d(.76*p,2);return u(c,b,"M-"+x+",0l-"+h+",-"+g+"h"+x+"l"+h+",-"+g+"l"+h+","+g+"h"+x+"l-"+h+","+g+"l"+h+","+g+"h-"+x+"l-"+h+","+g+"l-"+h+",-"+g+"h-"+x+"Z")}},"star-triangle-up":{n:19,f:function(p,c,b){if(o(c))return s;var g=d(p*i*.8,2),h=d(.8*p,2),x=d(1.6*p,2),v=d(4*p,2),m="A "+v+","+v+" 0 0 1 ";return u(c,b,"M-"+g+","+h+m+g+","+h+m+"0,-"+x+m+"-"+g+","+h+"Z")}},"star-triangle-down":{n:20,f:function(p,c,b){if(o(c))return s;var g=d(p*i*.8,2),h=d(.8*p,2),x=d(1.6*p,2),v=d(4*p,2),m="A "+v+","+v+" 0 0 1 ";return u(c,b,"M"+g+",-"+h+m+"-"+g+",-"+h+m+"0,"+x+m+g+",-"+h+"Z")}},"star-square":{n:21,f:function(p,c,b){if(o(c))return s;var g=d(1.1*p,2),h=d(2*p,2),x="A "+h+","+h+" 0 0 1 ";return u(c,b,"M-"+g+",-"+g+x+"-"+g+","+g+x+g+","+g+x+g+",-"+g+x+"-"+g+",-"+g+"Z")}},"star-diamond":{n:22,f:function(p,c,b){if(o(c))return s;var g=d(1.4*p,2),h=d(1.9*p,2),x="A "+h+","+h+" 0 0 1 ";return u(c,b,"M-"+g+",0"+x+"0,"+g+x+g+",0"+x+"0,-"+g+x+"-"+g+",0Z")}},"diamond-tall":{n:23,f:function(p,c,b){if(o(c))return s;var g=d(.7*p,2),h=d(1.4*p,2);return u(c,b,"M0,"+h+"L"+g+",0L0,-"+h+"L-"+g+",0Z")}},"diamond-wide":{n:24,f:function(p,c,b){if(o(c))return s;var g=d(1.4*p,2),h=d(.7*p,2);return u(c,b,"M0,"+h+"L"+g+",0L0,-"+h+"L-"+g+",0Z")}},hourglass:{n:25,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+","+g+"H-"+g+"L"+g+",-"+g+"H-"+g+"Z")},noDot:!0},bowtie:{n:26,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+","+g+"V-"+g+"L-"+g+","+g+"V-"+g+"Z")},noDot:!0},"circle-cross":{n:27,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(p,c,b){if(o(c))return s;var g=d(p,2),h=d(p/t,2);return u(c,b,"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h+"M"+g+",0A"+g+","+g+" 0 1,1 0,-"+g+"A"+g+","+g+" 0 0,1 "+g+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g+"M"+g+","+g+"H-"+g+"V-"+g+"H"+g+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(p,c,b){if(o(c))return s;var g=d(1.3*p,2);return u(c,b,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM0,-"+g+"V"+g+"M-"+g+",0H"+g)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(p,c,b){if(o(c))return s;var g=d(1.3*p,2),h=d(.65*p,2);return u(c,b,"M"+g+",0L0,"+g+"L-"+g+",0L0,-"+g+"ZM-"+h+",-"+h+"L"+h+","+h+"M-"+h+","+h+"L"+h+",-"+h)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(p,c,b){if(o(c))return s;var g=d(1.4*p,2);return u(c,b,"M0,"+g+"V-"+g+"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+","+g+"L-"+g+",-"+g+"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(p,c,b){if(o(c))return s;var g=d(1.2*p,2),h=d(.85*p,2);return u(c,b,"M0,"+g+"V-"+g+"M"+g+",0H-"+g+"M"+h+","+h+"L-"+h+",-"+h+"M"+h+",-"+h+"L-"+h+","+h)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(p,c,b){if(o(c))return s;var g=d(p/2,2),h=d(p,2);return u(c,b,"M"+g+","+h+"V-"+h+"M"+(g-h)+",-"+h+"V"+h+"M"+h+","+g+"H-"+h+"M-"+h+","+(g-h)+"H"+h)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(p,c,b){if(o(c))return s;var g=d(1.2*p,2),h=d(1.6*p,2),x=d(.8*p,2);return u(c,b,"M-"+g+","+x+"L0,0M"+g+","+x+"L0,0M0,-"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(p,c,b){if(o(c))return s;var g=d(1.2*p,2),h=d(1.6*p,2),x=d(.8*p,2);return u(c,b,"M-"+g+",-"+x+"L0,0M"+g+",-"+x+"L0,0M0,"+h+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(p,c,b){if(o(c))return s;var g=d(1.2*p,2),h=d(1.6*p,2),x=d(.8*p,2);return u(c,b,"M"+x+","+g+"L0,0M"+x+",-"+g+"L0,0M-"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(p,c,b){if(o(c))return s;var g=d(1.2*p,2),h=d(1.6*p,2),x=d(.8*p,2);return u(c,b,"M-"+x+","+g+"L0,0M-"+x+",-"+g+"L0,0M"+h+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(p,c,b){if(o(c))return s;var g=d(1.4*p,2);return u(c,b,"M"+g+",0H-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(p,c,b){if(o(c))return s;var g=d(1.4*p,2);return u(c,b,"M0,"+g+"V-"+g)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+",-"+g+"L-"+g+","+g)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M"+g+","+g+"L-"+g+",-"+g)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M0,0L-"+g+","+d(2*p,2)+"H"+g+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M0,0L-"+g+",-"+d(2*p,2)+"H"+g+"Z")},noDot:!0},"arrow-left":{n:47,f:function(p,c,b){if(o(c))return s;var g=d(2*p,2),h=d(p,2);return u(c,b,"M0,0L"+g+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-right":{n:48,f:function(p,c,b){if(o(c))return s;var g=d(2*p,2),h=d(p,2);return u(c,b,"M0,0L-"+g+",-"+h+"V"+h+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M-"+g+",0H"+g+"M0,0L-"+g+","+d(2*p,2)+"H"+g+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(p,c,b){if(o(c))return s;var g=d(p,2);return u(c,b,"M-"+g+",0H"+g+"M0,0L-"+g+",-"+d(2*p,2)+"H"+g+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(p,c,b){if(o(c))return s;var g=d(2*p,2),h=d(p,2);return u(c,b,"M0,-"+h+"V"+h+"M0,0L"+g+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(p,c,b){if(o(c))return s;var g=d(2*p,2),h=d(p,2);return u(c,b,"M0,-"+h+"V"+h+"M0,0L-"+g+",-"+h+"V"+h+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(p,c,b){if(o(c))return s;var g=r/2.5,h=2*p*n(g),x=2*p*l(g);return u(c,b,"M0,0L"+-h+","+x+"L"+h+","+x+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(p,c,b){if(o(c))return s;var g=r/4,h=2*p*n(g),x=2*p*l(g);return u(c,b,"M0,0L"+-h+","+x+"A "+2*p+","+2*p+" 0 0 1 "+h+","+x+"Z")},backoff:.4,noDot:!0}}},25673:function(Y){Y.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(Y,O,e){var M=e(92770),k=e(73972),a=e(89298),_=e(71828),y=e(45827);function d(s,t,i,r){var n=t["error_"+r]||{},l=[];if(n.visible&&["linear","log"].indexOf(i.type)!==-1){for(var o=y(n),u=0;u<s.length;u++){var p=s[u],c=p.i;if(c===void 0)c=u;else if(c===null)continue;var b=p[r];if(M(i.c2l(b))){var g=o(b,c);if(M(g[0])&&M(g[1])){var h=p[r+"s"]=b-g[0],x=p[r+"h"]=b+g[1];l.push(h,x)}}}var v=i._id,m=t._extremes[v],w=a.findExtremes(i,l,_.extendFlat({tozero:m.opts.tozero},{padded:!0}));m.min=m.min.concat(w.min),m.max=m.max.concat(w.max)}}Y.exports=function(s){for(var t=s.calcdata,i=0;i<t.length;i++){var r=t[i],n=r[0].trace;if(n.visible===!0&&k.traceIs(n,"errorBarsOK")){var l=a.getFromId(s,n.xaxis),o=a.getFromId(s,n.yaxis);d(r,n,l,"x"),d(r,n,o,"y")}}}},45827:function(Y){function O(e,M){return e==="percent"?function(k){return Math.abs(k*M/100)}:e==="constant"?function(){return Math.abs(M)}:e==="sqrt"?function(k){return Math.sqrt(Math.abs(k))}:void 0}Y.exports=function(e){var M=e.type,k=e.symmetric;if(M==="data"){var a=e.array||[];if(k)return function(s,t){var i=+a[t];return[i,i]};var _=e.arrayminus||[];return function(s,t){var i=+a[t],r=+_[t];return isNaN(i)&&isNaN(r)?[NaN,NaN]:[r||0,i||0]}}var y=O(M,e.value),d=O(M,e.valueminus);return k||e.valueminus===void 0?function(s){var t=y(s);return[t,t]}:function(s){return[d(s),y(s)]}}},97587:function(Y,O,e){var M=e(92770),k=e(73972),a=e(71828),_=e(44467),y=e(25673);Y.exports=function(d,s,t,i){var r="error_"+i.axis,n=_.newContainer(s,r),l=d[r]||{};function o(b,g){return a.coerce(l,n,y,b,g)}if(o("visible",l.array!==void 0||l.value!==void 0||l.type==="sqrt")!==!1){var u=o("type","array"in l?"data":"percent"),p=!0;u!=="sqrt"&&(p=o("symmetric",!((u==="data"?"arrayminus":"valueminus")in l))),u==="data"?(o("array"),o("traceref"),p||(o("arrayminus"),o("tracerefminus"))):u!=="percent"&&u!=="constant"||(o("value"),p||o("valueminus"));var c="copy_"+i.inherit+"style";i.inherit&&(s["error_"+i.inherit]||{}).visible&&o(c,!(l.color||M(l.thickness)||M(l.width))),i.inherit&&n[c]||(o("color",t),o("thickness"),o("width",k.traceIs(s,"gl3d")?0:4))}}},37369:function(Y,O,e){var M=e(71828),k=e(30962).overrideAll,a=e(25673),_={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a)};delete _.error_x.copy_zstyle,delete _.error_y.copy_zstyle,delete _.error_y.copy_ystyle;var y={error_x:M.extendFlat({},a),error_y:M.extendFlat({},a),error_z:M.extendFlat({},a)};delete y.error_x.copy_ystyle,delete y.error_y.copy_ystyle,delete y.error_z.copy_ystyle,delete y.error_z.copy_zstyle,Y.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:_,bar:_,histogram:_,scatter3d:k(y,"calc","nested"),scattergl:k(_,"calc","nested")}},supplyDefaults:e(97587),calc:e(84532),makeComputeError:e(45827),plot:e(19398),style:e(62662),hoverInfo:function(d,s,t){(s.error_y||{}).visible&&(t.yerr=d.yh-d.y,s.error_y.symmetric||(t.yerrneg=d.y-d.ys)),(s.error_x||{}).visible&&(t.xerr=d.xh-d.x,s.error_x.symmetric||(t.xerrneg=d.x-d.xs))}}},19398:function(Y,O,e){var M=e(39898),k=e(92770),a=e(91424),_=e(34098);Y.exports=function(y,d,s,t){var i=s.xaxis,r=s.yaxis,n=t&&t.duration>0,l=y._context.staticPlot;d.each(function(o){var u,p=o[0].trace,c=p.error_x||{},b=p.error_y||{};p.ids&&(u=function(v){return v.id});var g=_.hasMarkers(p)&&p.marker.maxdisplayed>0;b.visible||c.visible||(o=[]);var h=M.select(this).selectAll("g.errorbar").data(o,u);if(h.exit().remove(),o.length){c.visible||h.selectAll("path.xerror").remove(),b.visible||h.selectAll("path.yerror").remove(),h.style("opacity",1);var x=h.enter().append("g").classed("errorbar",!0);n&&x.style("opacity",0).transition().duration(t.duration).style("opacity",1),a.setClipUrl(h,s.layerClipId,y),h.each(function(v){var m=M.select(this),w=function(C,P,R){var G={x:P.c2p(C.x),y:R.c2p(C.y)};return C.yh!==void 0&&(G.yh=R.c2p(C.yh),G.ys=R.c2p(C.ys),k(G.ys)||(G.noYS=!0,G.ys=R.c2p(C.ys,!0))),C.xh!==void 0&&(G.xh=P.c2p(C.xh),G.xs=P.c2p(C.xs),k(G.xs)||(G.noXS=!0,G.xs=P.c2p(C.xs,!0))),G}(v,i,r);if(!g||v.vis){var f,S=m.select("path.yerror");if(b.visible&&k(w.x)&&k(w.yh)&&k(w.ys)){var T=b.width;f="M"+(w.x-T)+","+w.yh+"h"+2*T+"m-"+T+",0V"+w.ys,w.noYS||(f+="m-"+T+",0h"+2*T),S.size()?n&&(S=S.transition().duration(t.duration).ease(t.easing)):S=m.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("yerror",!0),S.attr("d",f)}else S.remove();var E=m.select("path.xerror");if(c.visible&&k(w.y)&&k(w.xh)&&k(w.xs)){var L=(c.copy_ystyle?b:c).width;f="M"+w.xh+","+(w.y-L)+"v"+2*L+"m0,-"+L+"H"+w.xs,w.noXS||(f+="m0,-"+L+"v"+2*L),E.size()?n&&(E=E.transition().duration(t.duration).ease(t.easing)):E=m.append("path").style("vector-effect",l?"none":"non-scaling-stroke").classed("xerror",!0),E.attr("d",f)}else E.remove()}})}})}},62662:function(Y,O,e){var M=e(39898),k=e(7901);Y.exports=function(a){a.each(function(_){var y=_[0].trace,d=y.error_y||{},s=y.error_x||{},t=M.select(this);t.selectAll("path.yerror").style("stroke-width",d.thickness+"px").call(k.stroke,d.color),s.copy_ystyle&&(s=d),t.selectAll("path.xerror").style("stroke-width",s.thickness+"px").call(k.stroke,s.color)})}},77914:function(Y,O,e){var M=e(41940),k=e(528).hoverlabel,a=e(1426).extendFlat;Y.exports={hoverlabel:{bgcolor:a({},k.bgcolor,{arrayOk:!0}),bordercolor:a({},k.bordercolor,{arrayOk:!0}),font:M({arrayOk:!0,editType:"none"}),align:a({},k.align,{arrayOk:!0}),namelength:a({},k.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(Y,O,e){var M=e(71828),k=e(73972);function a(_,y,d,s){s=s||M.identity,Array.isArray(_)&&(y[0][d]=s(_))}Y.exports=function(_){var y=_.calcdata,d=_._fullLayout;function s(l){return function(o){return M.coerceHoverinfo({hoverinfo:o},{_module:l._module},d)}}for(var t=0;t<y.length;t++){var i=y[t],r=i[0].trace;if(!k.traceIs(r,"pie-like")){var n=k.traceIs(r,"2dMap")?a:M.fillArray;n(r.hoverinfo,i,"hi",s(r)),r.hovertemplate&&n(r.hovertemplate,i,"ht"),r.hoverlabel&&(n(r.hoverlabel.bgcolor,i,"hbg"),n(r.hoverlabel.bordercolor,i,"hbc"),n(r.hoverlabel.font.size,i,"hts"),n(r.hoverlabel.font.color,i,"htc"),n(r.hoverlabel.font.family,i,"htf"),n(r.hoverlabel.namelength,i,"hnl"),n(r.hoverlabel.align,i,"hta"))}}}},75914:function(Y,O,e){var M=e(73972),k=e(88335).hover;Y.exports=function(a,_,y){var d=M.getComponentMethod("annotations","onClick")(a,a._hoverdata);function s(){a.emit("plotly_click",{points:a._hoverdata,event:_})}y!==void 0&&k(a,_,y,!0),a._hoverdata&&_&&_.target&&(d&&d.then?d.then(s):s(),_.stopImmediatePropagation&&_.stopImmediatePropagation())}},26675:function(Y){Y.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(Y,O,e){var M=e(71828),k=e(77914),a=e(38048);Y.exports=function(_,y,d,s){var t=M.extendFlat({},s.hoverlabel);y.hovertemplate&&(t.namelength=-1),a(_,y,function(i,r){return M.coerce(_,y,k,i,r)},t)}},23469:function(Y,O,e){var M=e(71828);O.getSubplot=function(s){return s.subplot||s.xaxis+s.yaxis||s.geo},O.isTraceInSubplots=function(s,t){if(s.type==="splom"){for(var i=s.xaxes||[],r=s.yaxes||[],n=0;n<i.length;n++)for(var l=0;l<r.length;l++)if(t.indexOf(i[n]+r[l])!==-1)return!0;return!1}return t.indexOf(O.getSubplot(s))!==-1},O.flat=function(s,t){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=t;return i},O.p2c=function(s,t){for(var i=new Array(s.length),r=0;r<s.length;r++)i[r]=s[r].p2c(t);return i},O.getDistanceFunction=function(s,t,i,r){return s==="closest"?r||O.quadrature(t,i):s.charAt(0)==="x"?t:i},O.getClosest=function(s,t,i){if(i.index!==!1)i.index>=0&&i.index<s.length?i.distance=0:i.index=!1;else for(var r=0;r<s.length;r++){var n=t(s[r]);n<=i.distance&&(i.index=r,i.distance=n)}return i},O.inbox=function(s,t,i){return s*t<0||s===0?i:1/0},O.quadrature=function(s,t){return function(i){var r=s(i),n=t(i);return Math.sqrt(r*r+n*n)}},O.makeEventData=function(s,t,i){var r="index"in s?s.index:s.pointNumber,n={data:t._input,fullData:t,curveNumber:t.index,pointNumber:r};if(t._indexToPoints){var l=t._indexToPoints[r];l.length===1?n.pointIndex=l[0]:n.pointIndices=l}else n.pointIndex=r;return t._module.eventData?n=t._module.eventData(n,s,t,i,r):("xVal"in s?n.x=s.xVal:"x"in s&&(n.x=s.x),"yVal"in s?n.y=s.yVal:"y"in s&&(n.y=s.y),s.xa&&(n.xaxis=s.xa),s.ya&&(n.yaxis=s.ya),s.zLabelVal!==void 0&&(n.z=s.zLabelVal)),O.appendArrayPointValue(n,t,r),n},O.appendArrayPointValue=function(s,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var l=r[n],o=a(l);if(s[o]===void 0){var u=_(M.nestedProperty(t,l).get(),i);u!==void 0&&(s[o]=u)}}},O.appendArrayMultiPointValues=function(s,t,i){var r=t._arrayAttrs;if(r)for(var n=0;n<r.length;n++){var l=r[n],o=a(l);if(s[o]===void 0){for(var u=M.nestedProperty(t,l).get(),p=new Array(i.length),c=0;c<i.length;c++)p[c]=_(u,i[c]);s[o]=p}}};var k={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function a(s){return k[s]||s}function _(s,t){return Array.isArray(t)?Array.isArray(s)&&Array.isArray(s[t[0]])?s[t[0]][t[1]]:void 0:s[t]}var y={x:!0,y:!0},d={"x unified":!0,"y unified":!0};O.isUnifiedHover=function(s){return typeof s=="string"&&!!d[s]},O.isXYhover=function(s){return typeof s=="string"&&!!y[s]}},88335:function(Y,O,e){var M=e(39898),k=e(92770),a=e(84267),_=e(71828),y=_.strTranslate,d=_.strRotate,s=e(11086),t=e(63893),i=e(39918),r=e(91424),n=e(7901),l=e(28569),o=e(89298),u=e(73972),p=e(23469),c=e(26675),b=e(99017),g=e(43969),h=c.YANGLE,x=Math.PI*h/180,v=1/Math.sin(x),m=Math.cos(x),w=Math.sin(x),f=c.HOVERARROWSIZE,S=c.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},E={scatter:!0,scattergl:!0,splom:!0};function L(Z){return[Z.trace.index,Z.index,Z.x0,Z.y0,Z.name,Z.attr,Z.xa?Z.xa._id:"",Z.ya?Z.ya._id:""].join(",")}O.hover=function(Z,X,ee,ne){Z=_.getGraphDiv(Z);var re=X.target;_.throttle(Z._fullLayout._uid+c.HOVERID,c.HOVERMINTIME,function(){(function(ae,ue,pe,ge,we){pe||(pe="xy");var me=Array.isArray(pe)?pe:[pe],ve=ae._fullLayout,Ie=ve._plots||[],Se=Ie[pe],ke=ve._has("cartesian");if(Se){var se=Se.overlays.map(function(Ut){return Ut.id});me=me.concat(se)}for(var oe=me.length,he=new Array(oe),Le=new Array(oe),Me=!1,_e=0;_e<oe;_e++){var De=me[_e];if(Ie[De])Me=!0,he[_e]=Ie[De].xaxis,Le[_e]=Ie[De].yaxis;else{if(!ve[De]||!ve[De]._subplot)return void _.warn("Unrecognized subplot: "+De);var Ne=ve[De]._subplot;he[_e]=Ne.xaxis,Le[_e]=Ne.yaxis}}var ce=ue.hovermode||ve.hovermode;if(ce&&!Me&&(ce="closest"),["x","y","closest","x unified","y unified"].indexOf(ce)===-1||!ae.calcdata||ae.querySelector(".zoombox")||ae._dragging)return l.unhoverRaw(ae,ue);var Te=ve.hoverdistance;Te===-1&&(Te=1/0);var ye=ve.spikedistance;ye===-1&&(ye=1/0);var Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt,wt,lt,ut,Et=[],Ot=[],zt={hLinePoint:null,vLinePoint:null},Lt=!1;if(Array.isArray(ue))for(ce="array",Fe=0;Fe<ue.length;Fe++)(Ze=ae.calcdata[ue[Fe].curveNumber||0])&&(et=Ze[0].trace,Ze[0].trace.hoverinfo!=="skip"&&(Ot.push(Ze),et.orientation==="h"&&(Lt=!0)));else{for(Ge=0;Ge<ae.calcdata.length;Ge++)Ze=ae.calcdata[Ge],(et=Ze[0].trace).hoverinfo!=="skip"&&p.isTraceInSubplots(et,me)&&(Ot.push(Ze),et.orientation==="h"&&(Lt=!0));var Je,Qe;if(we){if(s.triggerHandler(ae,"plotly_beforehover",ue)===!1)return;var qe=we.getBoundingClientRect();Je=ue.clientX-qe.left,Qe=ue.clientY-qe.top,ve._calcInverseTransform(ae);var $e=_.apply3DTransform(ve._invTransform)(Je,Qe);if(Je=$e[0],Qe=$e[1],Je<0||Je>he[0]._length||Qe<0||Qe>Le[0]._length)return l.unhoverRaw(ae,ue)}else Je="xpx"in ue?ue.xpx:he[0]._length/2,Qe="ypx"in ue?ue.ypx:Le[0]._length/2;if(ue.pointerX=Je+he[0]._offset,ue.pointerY=Qe+Le[0]._offset,Oe="xval"in ue?p.flat(me,ue.xval):p.p2c(he,Je),Be="yval"in ue?p.flat(me,ue.yval):p.p2c(Le,Qe),!k(Oe[0])||!k(Be[0]))return _.warn("Fx.hover failed",ue,ae),l.unhoverRaw(ae,ue)}var ct=1/0;function at(Ut,rn){for(Ge=0;Ge<Ot.length;Ge++)if((Ze=Ot[Ge])&&Ze[0]&&Ze[0].trace&&(et=Ze[0].trace).visible===!0&&et._length!==0&&["carpet","contourcarpet"].indexOf(et._module.name)===-1){if(et.type==="splom"?ft=me[rt=0]:(ft=p.getSubplot(et),rt=me.indexOf(ft)),_t=ce,p.isUnifiedHover(_t)&&(_t=_t.charAt(0)),lt={cd:Ze,trace:et,xa:he[rt],ya:Le[rt],maxHoverDistance:Te,maxSpikeDistance:ye,index:!1,distance:Math.min(ct,Te),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:n.defaultLine,name:et.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},ve[ft]&&(lt.subplot=ve[ft]._subplot),ve._splomScenes&&ve._splomScenes[et.uid]&&(lt.scene=ve._splomScenes[et.uid]),ut=Et.length,_t==="array"){var cn=ue[Ge];"pointNumber"in cn?(lt.index=cn.pointNumber,_t="closest"):(_t="","xval"in cn&&(kt=cn.xval,_t="x"),"yval"in cn&&(wt=cn.yval,_t=_t?"closest":"y"))}else Ut!==void 0&&rn!==void 0?(kt=Ut,wt=rn):(kt=Oe[rt],wt=Be[rt]);if(Te!==0)if(et._module&&et._module.hoverPoints){var vn=et._module.hoverPoints(lt,kt,wt,_t,{finiteRange:!0,hoverLayer:ve._hoverlayer});if(vn)for(var Sn,Hn=0;Hn<vn.length;Hn++)Sn=vn[Hn],k(Sn.x0)&&k(Sn.y0)&&Et.push(H(Sn,ce))}else _.log("Unrecognized trace type in hover:",et);if(ce==="closest"&&Et.length>ut&&(Et.splice(0,ut),ct=Et[0].distance),ke&&ye!==0&&Et.length===0){lt.distance=ye,lt.index=!1;var Dn=et._module.hoverPoints(lt,kt,wt,"closest",{hoverLayer:ve._hoverlayer});if(Dn&&(Dn=Dn.filter(function(Jt){return Jt.spikeDistance<=ye})),Dn&&Dn.length){var Bn,Qn=Dn.filter(function(Jt){return Jt.xa.showspikes&&Jt.xa.spikesnap!=="hovered data"});if(Qn.length){var Wt=Qn[0];k(Wt.x0)&&k(Wt.y0)&&(Bn=je(Wt),(!zt.vLinePoint||zt.vLinePoint.spikeDistance>Bn.spikeDistance)&&(zt.vLinePoint=Bn))}var An=Dn.filter(function(Jt){return Jt.ya.showspikes&&Jt.ya.spikesnap!=="hovered data"});if(An.length){var Ct=An[0];k(Ct.x0)&&k(Ct.y0)&&(Bn=je(Ct),(!zt.hLinePoint||zt.hLinePoint.spikeDistance>Bn.spikeDistance)&&(zt.hLinePoint=Bn))}}}}}function Re(Ut,rn,cn){for(var vn,Sn=null,Hn=1/0,Dn=0;Dn<Ut.length;Dn++)vn=Ut[Dn].spikeDistance,cn&&Dn===0&&(vn=-1/0),vn<=Hn&&vn<=rn&&(Sn=Ut[Dn],Hn=vn);return Sn}function je(Ut){return Ut?{xa:Ut.xa,ya:Ut.ya,x:Ut.xSpike!==void 0?Ut.xSpike:(Ut.x0+Ut.x1)/2,y:Ut.ySpike!==void 0?Ut.ySpike:(Ut.y0+Ut.y1)/2,distance:Ut.distance,spikeDistance:Ut.spikeDistance,curveNumber:Ut.trace.index,color:Ut.color,pointNumber:Ut.index}:null}at();var st={fullLayout:ve,container:ve._hoverlayer,event:ue},ot=ae._spikepoints,xt={vLinePoint:zt.vLinePoint,hLinePoint:zt.hLinePoint};ae._spikepoints=xt;var mt=function(){Et.sort(function(Ut,rn){return Ut.distance-rn.distance}),Et=function(Ut,rn){for(var cn=rn.charAt(0),vn=[],Sn=[],Hn=[],Dn=0;Dn<Ut.length;Dn++){var Bn=Ut[Dn];u.traceIs(Bn.trace,"bar-like")||u.traceIs(Bn.trace,"box-violin")?Hn.push(Bn):Bn.trace[cn+"period"]?Sn.push(Bn):vn.push(Bn)}return vn.concat(Sn).concat(Hn)}(Et,ce)};mt();var bt=ce.charAt(0),dt=(bt==="x"||bt==="y")&&Et[0]&&E[Et[0].trace.type];if(ke&&ye!==0&&Et.length!==0){var St=Re(Et.filter(function(Ut){return Ut.ya.showspikes}),ye,dt);zt.hLinePoint=je(St);var gt=Re(Et.filter(function(Ut){return Ut.xa.showspikes}),ye,dt);zt.vLinePoint=je(gt)}if(Et.length===0){var vt=l.unhoverRaw(ae,ue);return!ke||zt.hLinePoint===null&&zt.vLinePoint===null||B(ot)&&N(ae,zt,st),vt}if(ke&&B(ot)&&N(ae,zt,st),p.isXYhover(_t)&&Et[0].length!==0&&Et[0].trace.type!=="splom"){var Mt=Et[0],Bt=(Et=T[Mt.trace.type]?Et.filter(function(Ut){return Ut.trace.index===Mt.trace.index}):[Mt]).length;at(q("x",Mt,ve),q("y",Mt,ve));var Nt,qt=[],an={},Gt=0,Yt=function(Ut){var rn=T[Ut.trace.type]?L(Ut):Ut.trace.index;if(an[rn]){var cn=an[rn]-1,vn=qt[cn];cn>0&&Math.abs(Ut.distance)<Math.abs(vn.distance)&&(qt[cn]=Ut)}else Gt++,an[rn]=Gt,qt.push(Ut)};for(Nt=0;Nt<Bt;Nt++)Yt(Et[Nt]);for(Nt=Et.length-1;Nt>Bt-1;Nt--)Yt(Et[Nt]);Et=qt,mt()}var en=ae._hoverdata,bn=[],On=te(ae),gn=$(ae);for(Fe=0;Fe<Et.length;Fe++){var Xt=Et[Fe],ln=p.makeEventData(Xt,Xt.trace,Xt.cd);if(Xt.hovertemplate!==!1){var nn=!1;Xt.cd[Xt.index]&&Xt.cd[Xt.index].ht&&(nn=Xt.cd[Xt.index].ht),Xt.hovertemplate=nn||Xt.trace.hovertemplate||!1}if(Xt.xa&&Xt.ya){var hn=Xt.x0+Xt.xa._offset,mn=Xt.x1+Xt.xa._offset,Mn=Xt.y0+Xt.ya._offset,Tn=Xt.y1+Xt.ya._offset,Pn=Math.min(hn,mn),yn=Math.max(hn,mn),Rn=Math.min(Mn,Tn),Zn=Math.max(Mn,Tn);ln.bbox={x0:Pn+gn,x1:yn+gn,y0:Rn+On,y1:Zn+On}}Xt.eventData=[ln],bn.push(ln)}ae._hoverdata=bn;var ir=ce==="y"&&(Ot.length>1||Et.length>1)||ce==="closest"&&Lt&&Et.length>1,sr=n.combine(ve.plot_bgcolor||n.background,ve.paper_bgcolor),tr=P(Et,{gd:ae,hovermode:ce,rotateLabels:ir,bgColor:sr,container:ve._hoverlayer,outerContainer:ve._paper.node(),commonLabelOpts:ve.hoverlabel,hoverdistance:ve.hoverdistance}),Jn=tr.hoverLabels;if(p.isUnifiedHover(ce)||(function(Ut,rn,cn,vn){var Sn,Hn,Dn,Bn,Qn,Wt,An,Ct=rn?"xa":"ya",Jt=rn?"ya":"xa",tn=0,wn=1,kn=Ut.size(),Cn=new Array(kn),pn=0,$t=vn.minX,Qt=vn.maxX,fn=vn.minY,dn=vn.maxY,In=function(gr){return gr*cn._invScaleX},zn=function(gr){return gr*cn._invScaleY};function Yn(gr){var Sr=gr[0],$n=gr[gr.length-1];if(Hn=Sr.pmin-Sr.pos-Sr.dp+Sr.size,Dn=$n.pos+$n.dp+$n.size-Sr.pmax,Hn>.01){for(Qn=gr.length-1;Qn>=0;Qn--)gr[Qn].dp+=Hn;Sn=!1}if(!(Dn<.01)){if(Hn<-.01){for(Qn=gr.length-1;Qn>=0;Qn--)gr[Qn].dp-=Dn;Sn=!1}if(Sn){var xr=0;for(Bn=0;Bn<gr.length;Bn++)(Wt=gr[Bn]).pos+Wt.dp+Wt.size>Sr.pmax&&xr++;for(Bn=gr.length-1;Bn>=0&&!(xr<=0);Bn--)(Wt=gr[Bn]).pos>Sr.pmax-1&&(Wt.del=!0,xr--);for(Bn=0;Bn<gr.length&&!(xr<=0);Bn++)if((Wt=gr[Bn]).pos<Sr.pmin+1)for(Wt.del=!0,xr--,Dn=2*Wt.size,Qn=gr.length-1;Qn>=0;Qn--)gr[Qn].dp-=Dn;for(Bn=gr.length-1;Bn>=0&&!(xr<=0);Bn--)(Wt=gr[Bn]).pos+Wt.dp+Wt.size>Sr.pmax&&(Wt.del=!0,xr--)}}}for(Ut.each(function(gr){var Sr=gr[Ct],$n=gr[Jt],xr=Sr._id.charAt(0)==="x",Rr=Sr.range;pn===0&&Rr&&Rr[0]>Rr[1]!==xr&&(wn=-1);var ii=0,_i=xr?cn.width:cn.height;if(cn.hovermode==="x"||cn.hovermode==="y"){var vi,Si,fi=G(gr,rn),Ui=gr.anchor,bo=Ui==="end"?-1:1;if(Ui==="middle")Si=(vi=gr.crossPos+(xr?zn(fi.y-gr.by/2):In(gr.bx/2+gr.tx2width/2)))+(xr?zn(gr.by):In(gr.bx));else if(xr)Si=(vi=gr.crossPos+zn(f+fi.y)-zn(gr.by/2-f))+zn(gr.by);else{var ja=In(bo*f+fi.x),Do=ja+In(bo*gr.bx);vi=gr.crossPos+Math.min(ja,Do),Si=gr.crossPos+Math.max(ja,Do)}xr?fn!==void 0&&dn!==void 0&&Math.min(Si,dn)-Math.max(vi,fn)>1&&($n.side==="left"?(ii=$n._mainLinePosition,_i=cn.width):_i=$n._mainLinePosition):$t!==void 0&&Qt!==void 0&&Math.min(Si,Qt)-Math.max(vi,$t)>1&&($n.side==="top"?(ii=$n._mainLinePosition,_i=cn.height):_i=$n._mainLinePosition)}Cn[pn++]=[{datum:gr,traceIndex:gr.trace.index,dp:0,pos:gr.pos,posref:gr.posref,size:gr.by*(xr?v:1)/2,pmin:ii,pmax:_i}]}),Cn.sort(function(gr,Sr){return gr[0].posref-Sr[0].posref||wn*(Sr[0].traceIndex-gr[0].traceIndex)});!Sn&&tn<=kn;){for(tn++,Sn=!0,Bn=0;Bn<Cn.length-1;){var Vn=Cn[Bn],nr=Cn[Bn+1],Xn=Vn[Vn.length-1],lr=nr[0];if((Hn=Xn.pos+Xn.dp+Xn.size-lr.pos-lr.dp+lr.size)>.01&&Xn.pmin===lr.pmin&&Xn.pmax===lr.pmax){for(Qn=nr.length-1;Qn>=0;Qn--)nr[Qn].dp+=Hn;for(Vn.push.apply(Vn,nr),Cn.splice(Bn+1,1),An=0,Qn=Vn.length-1;Qn>=0;Qn--)An+=Vn[Qn].dp;for(Dn=An/Vn.length,Qn=Vn.length-1;Qn>=0;Qn--)Vn[Qn].dp-=Dn;Sn=!1}else Bn++}Cn.forEach(Yn)}for(Bn=Cn.length-1;Bn>=0;Bn--){var ar=Cn[Bn];for(Qn=ar.length-1;Qn>=0;Qn--){var or=ar[Qn],dr=or.datum;dr.offset=or.dp,dr.del=or.del}}}(Jn,ir,ve,tr.commonLabelBoundingBox),I(Jn,ir,ve._invScaleX,ve._invScaleY)),we&&we.tagName){var pr=u.getComponentMethod("annotations","hasClickToShow")(ae,bn);i(M.select(we),pr?"pointer":"")}we&&!ge&&function(Ut,rn,cn){if(!cn||cn.length!==Ut._hoverdata.length)return!0;for(var vn=cn.length-1;vn>=0;vn--){var Sn=cn[vn],Hn=Ut._hoverdata[vn];if(Sn.curveNumber!==Hn.curveNumber||String(Sn.pointNumber)!==String(Hn.pointNumber)||String(Sn.pointNumbers)!==String(Hn.pointNumbers))return!0}return!1}(ae,0,en)&&(en&&ae.emit("plotly_unhover",{event:ue,points:en}),ae.emit("plotly_hover",{event:ue,points:ae._hoverdata,xaxes:he,yaxes:Le,xvals:Oe,yvals:Be}))})(Z,X,ee,ne,re)})},O.loneHover=function(Z,X){var ee=!0;Array.isArray(Z)||(ee=!1,Z=[Z]);var ne=X.gd,re=te(ne),ae=$(ne),ue=P(Z.map(function(we){var me=we._x0||we.x0||we.x||0,ve=we._x1||we.x1||we.x||0,Ie=we._y0||we.y0||we.y||0,Se=we._y1||we.y1||we.y||0,ke=we.eventData;if(ke){var se=Math.min(me,ve),oe=Math.max(me,ve),he=Math.min(Ie,Se),Le=Math.max(Ie,Se),Me=we.trace;if(u.traceIs(Me,"gl3d")){var _e=ne._fullLayout[Me.scene]._scene.container,De=_e.offsetLeft,Ne=_e.offsetTop;se+=De,oe+=De,he+=Ne,Le+=Ne}ke.bbox={x0:se+ae,x1:oe+ae,y0:he+re,y1:Le+re},X.inOut_bbox&&X.inOut_bbox.push(ke.bbox)}else ke=!1;return{color:we.color||n.defaultLine,x0:we.x0||we.x||0,x1:we.x1||we.x||0,y0:we.y0||we.y||0,y1:we.y1||we.y||0,xLabel:we.xLabel,yLabel:we.yLabel,zLabel:we.zLabel,text:we.text,name:we.name,idealAlign:we.idealAlign,borderColor:we.borderColor,fontFamily:we.fontFamily,fontSize:we.fontSize,fontColor:we.fontColor,nameLength:we.nameLength,textAlign:we.textAlign,trace:we.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:we.hovertemplate||!1,hovertemplateLabels:we.hovertemplateLabels||!1,eventData:ke}}),{gd:ne,hovermode:"closest",rotateLabels:!1,bgColor:X.bgColor||n.background,container:M.select(X.container),outerContainer:X.outerContainer||X.container}).hoverLabels,pe=0,ge=0;return ue.sort(function(we,me){return we.y0-me.y0}).each(function(we,me){var ve=we.y0-we.by/2;we.offset=ve-5<pe?pe-ve+5:0,pe=ve+we.by+we.offset,me===X.anchorIndex&&(ge=we.offset)}).each(function(we){we.offset-=ge}),I(ue,!1,ne._fullLayout._invScaleX,ne._fullLayout._invScaleY),ee?ue:ue.node()};var C=/<extra>([\s\S]*)<\/extra>/;function P(Z,X){var ee=X.gd,ne=ee._fullLayout,re=X.hovermode,ae=X.rotateLabels,ue=X.bgColor,pe=X.container,ge=X.outerContainer,we=X.commonLabelOpts||{};if(Z.length===0)return[[]];var me=X.fontFamily||c.HOVERFONT,ve=X.fontSize||c.HOVERFONTSIZE,Ie=Z[0],Se=Ie.xa,ke=Ie.ya,se=re.charAt(0),oe=se+"Label",he=Ie[oe];if(he===void 0&&Se.type==="multicategory")for(var Le=0;Le<Z.length&&(he=Z[Le][oe])===void 0;Le++);var Me=K(ee,ge),_e=Me.top,De=Me.width,Ne=Me.height,ce=he!==void 0&&Ie.distance<=X.hoverdistance&&(re==="x"||re==="y");if(ce){var Te,ye,Oe=!0;for(Te=0;Te<Z.length;Te++)if(Oe&&Z[Te].zLabel===void 0&&(Oe=!1),ye=Z[Te].hoverinfo||Z[Te].trace.hoverinfo){var Be=Array.isArray(ye)?ye:ye.split("+");if(Be.indexOf("all")===-1&&Be.indexOf(re)===-1){ce=!1;break}}Oe&&(ce=!1)}var Fe=pe.selectAll("g.axistext").data(ce?[0]:[]);Fe.enter().append("g").classed("axistext",!0),Fe.exit().remove();var Ge={minX:0,maxX:0,minY:0,maxY:0};if(Fe.each(function(){var vt=M.select(this),Mt=_.ensureSingle(vt,"path","",function(Rn){Rn.style({"stroke-width":"1px"})}),Bt=_.ensureSingle(vt,"text","",function(Rn){Rn.attr("data-notex",1)}),Nt=we.bgcolor||n.defaultLine,qt=we.bordercolor||n.contrast(Nt),an=n.contrast(Nt),Gt={family:we.font.family||me,size:we.font.size||ve,color:we.font.color||an};Mt.style({fill:Nt,stroke:qt}),Bt.text(he).call(r.font,Gt).call(t.positionText,0,0).call(t.convertToTspans,ee),vt.attr("transform","");var Yt,en,bn=K(ee,Bt.node());if(re==="x"){var On=Se.side==="top"?"-":"";Bt.attr("text-anchor","middle").call(t.positionText,0,Se.side==="top"?_e-bn.bottom-f-S:_e-bn.top+f+S),Yt=Se._offset+(Ie.x0+Ie.x1)/2,en=ke._offset+(Se.side==="top"?0:ke._length);var gn=bn.width/2+S;Yt<gn?(Yt=gn,Mt.attr("d","M-"+(gn-f)+",0L-"+(gn-2*f)+","+On+f+"H"+gn+"v"+On+(2*S+bn.height)+"H-"+gn+"V"+On+f+"Z")):Yt>ne.width-gn?(Yt=ne.width-gn,Mt.attr("d","M"+(gn-f)+",0L"+gn+","+On+f+"v"+On+(2*S+bn.height)+"H-"+gn+"V"+On+f+"H"+(gn-2*f)+"Z")):Mt.attr("d","M0,0L"+f+","+On+f+"H"+gn+"v"+On+(2*S+bn.height)+"H-"+gn+"V"+On+f+"H-"+f+"Z"),Ge.minX=Yt-gn,Ge.maxX=Yt+gn,Se.side==="top"?(Ge.minY=en-(2*S+bn.height),Ge.maxY=en-S):(Ge.minY=en+S,Ge.maxY=en+(2*S+bn.height))}else{var Xt,ln,nn;ke.side==="right"?(Xt="start",ln=1,nn="",Yt=Se._offset+Se._length):(Xt="end",ln=-1,nn="-",Yt=Se._offset),en=ke._offset+(Ie.y0+Ie.y1)/2,Bt.attr("text-anchor",Xt),Mt.attr("d","M0,0L"+nn+f+","+f+"V"+(S+bn.height/2)+"h"+nn+(2*S+bn.width)+"V-"+(S+bn.height/2)+"H"+nn+f+"V-"+f+"Z"),Ge.minY=en-(S+bn.height/2),Ge.maxY=en+(S+bn.height/2),ke.side==="right"?(Ge.minX=Yt+f,Ge.maxX=Yt+f+(2*S+bn.width)):(Ge.minX=Yt-f-(2*S+bn.width),Ge.maxX=Yt-f);var hn,mn=bn.height/2,Mn=_e-bn.top-mn,Tn="clip"+ne._uid+"commonlabel"+ke._id;if(Yt<bn.width+2*S+f){hn="M-"+(f+S)+"-"+mn+"h-"+(bn.width-S)+"V"+mn+"h"+(bn.width-S)+"Z";var Pn=bn.width-Yt+S;t.positionText(Bt,Pn,Mn),Xt==="end"&&Bt.selectAll("tspan").each(function(){var Rn=M.select(this),Zn=r.tester.append("text").text(Rn.text()).call(r.font,Gt),ir=K(ee,Zn.node());Math.round(ir.width)<Math.round(bn.width)&&Rn.attr("x",Pn-ir.width),Zn.remove()})}else t.positionText(Bt,ln*(S+f),Mn),hn=null;var yn=ne._topclips.selectAll("#"+Tn).data(hn?[0]:[]);yn.enter().append("clipPath").attr("id",Tn).append("path"),yn.exit().remove(),yn.select("path").attr("d",hn),r.setClipUrl(Bt,hn?Tn:null,ee)}vt.attr("transform",y(Yt,en))}),p.isUnifiedHover(re)){pe.selectAll("g.hovertext").remove();var Ze=Z.filter(function(vt){return vt.hoverinfo!=="none"});if(Ze.length===0)return[];var et=ne.hoverlabel,ft=et.font,rt={showlegend:!0,legend:{title:{text:he,font:ft},font:ft,bgcolor:et.bgcolor,bordercolor:et.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:ne.legend?ne.legend.traceorder:void 0,orientation:"v"}},_t={font:ft};b(rt,_t,ee._fullData);var kt=_t.legend;kt.entries=[];for(var wt=0;wt<Ze.length;wt++){var lt=Ze[wt];if(lt.hoverinfo!=="none"){var ut=R(lt,!0,re,ne,he),Et=ut[0],Ot=ut[1];lt.name=Ot,lt.text=Ot!==""?Ot+" : "+Et:Et;var zt=lt.cd[lt.index];zt&&(zt.mc&&(lt.mc=zt.mc),zt.mcc&&(lt.mc=zt.mcc),zt.mlc&&(lt.mlc=zt.mlc),zt.mlcc&&(lt.mlc=zt.mlcc),zt.mlw&&(lt.mlw=zt.mlw),zt.mrc&&(lt.mrc=zt.mrc),zt.dir&&(lt.dir=zt.dir)),lt._distinct=!0,kt.entries.push([lt])}}kt.entries.sort(function(vt,Mt){return vt[0].trace.index-Mt[0].trace.index}),kt.layer=pe,kt._inHover=!0,kt._groupTitleFont=et.grouptitlefont,g(ee,kt);var Lt,Je,Qe,qe,$e=pe.select("g.legend"),ct=K(ee,$e.node()),at=ct.width+2*S,Re=ct.height+2*S,je=Ze[0],st=(je.x0+je.x1)/2,ot=(je.y0+je.y1)/2,xt=!(u.traceIs(je.trace,"bar-like")||u.traceIs(je.trace,"box-violin"));se==="y"?xt?(Je=ot-S,Lt=ot+S):(Je=Math.min.apply(null,Ze.map(function(vt){return Math.min(vt.y0,vt.y1)})),Lt=Math.max.apply(null,Ze.map(function(vt){return Math.max(vt.y0,vt.y1)}))):Je=Lt=_.mean(Ze.map(function(vt){return(vt.y0+vt.y1)/2}))-Re/2,se==="x"?xt?(Qe=st+S,qe=st-S):(Qe=Math.max.apply(null,Ze.map(function(vt){return Math.max(vt.x0,vt.x1)})),qe=Math.min.apply(null,Ze.map(function(vt){return Math.min(vt.x0,vt.x1)}))):Qe=qe=_.mean(Ze.map(function(vt){return(vt.x0+vt.x1)/2}))-at/2;var mt,bt,dt=Se._offset,St=ke._offset;return qe+=dt-at,Je+=St-Re,mt=(Qe+=dt)+at<De&&Qe>=0?Qe:qe+at<De&&qe>=0?qe:dt+at<De?dt:Qe-st<st-qe+at?De-at:0,mt+=S,bt=(Lt+=St)+Re<Ne&&Lt>=0?Lt:Je+Re<Ne&&Je>=0?Je:St+Re<Ne?St:Lt-ot<ot-Je+Re?Ne-Re:0,bt+=S,$e.attr("transform",y(mt-1,bt-1)),$e}var gt=pe.selectAll("g.hovertext").data(Z,function(vt){return L(vt)});return gt.enter().append("g").classed("hovertext",!0).each(function(){var vt=M.select(this);vt.append("rect").call(n.fill,n.addOpacity(ue,.8)),vt.append("text").classed("name",!0),vt.append("path").style("stroke-width","1px"),vt.append("text").classed("nums",!0).call(r.font,me,ve)}),gt.exit().remove(),gt.each(function(vt){var Mt=M.select(this).attr("transform",""),Bt=vt.color;Array.isArray(Bt)&&(Bt=Bt[vt.eventData[0].pointNumber]);var Nt=vt.bgcolor||Bt,qt=n.combine(n.opacity(Nt)?Nt:n.defaultLine,ue),an=n.combine(n.opacity(Bt)?Bt:n.defaultLine,ue),Gt=vt.borderColor||n.contrast(qt),Yt=R(vt,ce,re,ne,he,Mt),en=Yt[0],bn=Yt[1],On=Mt.select("text.nums").call(r.font,vt.fontFamily||me,vt.fontSize||ve,vt.fontColor||Gt).text(en).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee),gn=Mt.select("text.name"),Xt=0,ln=0;if(bn&&bn!==en){gn.call(r.font,vt.fontFamily||me,vt.fontSize||ve,an).text(bn).attr("data-notex",1).call(t.positionText,0,0).call(t.convertToTspans,ee);var nn=K(ee,gn.node());Xt=nn.width+2*S,ln=nn.height+2*S}else gn.remove(),Mt.select("rect").remove();Mt.select("path").style({fill:qt,stroke:Gt});var hn=vt.xa._offset+(vt.x0+vt.x1)/2,mn=vt.ya._offset+(vt.y0+vt.y1)/2,Mn=Math.abs(vt.x1-vt.x0),Tn=Math.abs(vt.y1-vt.y0),Pn=K(ee,On.node()),yn=Pn.width/ne._invScaleX,Rn=Pn.height/ne._invScaleY;vt.ty0=(_e-Pn.top)/ne._invScaleY,vt.bx=yn+2*S,vt.by=Math.max(Rn+2*S,ln),vt.anchor="start",vt.txwidth=yn,vt.tx2width=Xt,vt.offset=0;var Zn,ir,sr=(yn+f+S+Xt)*ne._invScaleX;if(ae)vt.pos=hn,Zn=mn+Tn/2+sr<=Ne,ir=mn-Tn/2-sr>=0,vt.idealAlign!=="top"&&Zn||!ir?Zn?(mn+=Tn/2,vt.anchor="start"):vt.anchor="middle":(mn-=Tn/2,vt.anchor="end"),vt.crossPos=mn;else{if(vt.pos=mn,Zn=hn+Mn/2+sr<=De,ir=hn-Mn/2-sr>=0,vt.idealAlign!=="left"&&Zn||!ir)if(Zn)hn+=Mn/2,vt.anchor="start";else{vt.anchor="middle";var tr=sr/2,Jn=hn+tr-De,pr=hn-tr;Jn>0&&(hn-=Jn),pr<0&&(hn+=-pr)}else hn-=Mn/2,vt.anchor="end";vt.crossPos=hn}On.attr("text-anchor",vt.anchor),Xt&&gn.attr("text-anchor",vt.anchor),Mt.attr("transform",y(hn,mn)+(ae?d(h):""))}),{hoverLabels:gt,commonLabelBoundingBox:Ge}}function R(Z,X,ee,ne,re,ae){var ue="",pe="";Z.nameOverride!==void 0&&(Z.name=Z.nameOverride),Z.name&&(Z.trace._meta&&(Z.name=_.templateString(Z.name,Z.trace._meta)),ue=V(Z.name,Z.nameLength));var ge=ee.charAt(0),we=ge==="x"?"y":"x";Z.zLabel!==void 0?(Z.xLabel!==void 0&&(pe+="x: "+Z.xLabel+"<br>"),Z.yLabel!==void 0&&(pe+="y: "+Z.yLabel+"<br>"),Z.trace.type!=="choropleth"&&Z.trace.type!=="choroplethmapbox"&&(pe+=(pe?"z: ":"")+Z.zLabel)):X&&Z[ge+"Label"]===re?pe=Z[we+"Label"]||"":Z.xLabel===void 0?Z.yLabel!==void 0&&Z.trace.type!=="scattercarpet"&&(pe=Z.yLabel):pe=Z.yLabel===void 0?Z.xLabel:"("+Z.xLabel+", "+Z.yLabel+")",!Z.text&&Z.text!==0||Array.isArray(Z.text)||(pe+=(pe?"<br>":"")+Z.text),Z.extraText!==void 0&&(pe+=(pe?"<br>":"")+Z.extraText),ae&&pe===""&&!Z.hovertemplate&&(ue===""&&ae.remove(),pe=ue);var me=Z.hovertemplate||!1;if(me){var ve=Z.hovertemplateLabels||Z;Z[ge+"Label"]!==re&&(ve[ge+"other"]=ve[ge+"Val"],ve[ge+"otherLabel"]=ve[ge+"Label"]),pe=(pe=_.hovertemplateString(me,ve,ne._d3locale,Z.eventData[0]||{},Z.trace._meta)).replace(C,function(Ie,Se){return ue=V(Se,Z.nameLength),""})}return[pe,ue]}function G(Z,X){var ee=0,ne=Z.offset;return X&&(ne*=-w,ee=Z.offset*m),{x:ee,y:ne}}function I(Z,X,ee,ne){var re=function(ue){return ue*ee},ae=function(ue){return ue*ne};Z.each(function(ue){var pe=M.select(this);if(ue.del)return pe.remove();var ge,we,me,ve,Ie=pe.select("text.nums"),Se=ue.anchor,ke=Se==="end"?-1:1,se=(ve=(me=(we={start:1,end:-1,middle:0}[(ge=ue).anchor])*(f+S))+we*(ge.txwidth+S),ge.anchor==="middle"&&(me-=ge.tx2width/2,ve+=ge.txwidth/2+S),{alignShift:we,textShiftX:me,text2ShiftX:ve}),oe=G(ue,X),he=oe.x,Le=oe.y,Me=Se==="middle";pe.select("path").attr("d",Me?"M-"+re(ue.bx/2+ue.tx2width/2)+","+ae(Le-ue.by/2)+"h"+re(ue.bx)+"v"+ae(ue.by)+"h-"+re(ue.bx)+"Z":"M0,0L"+re(ke*f+he)+","+ae(f+Le)+"v"+ae(ue.by/2-f)+"h"+re(ke*ue.bx)+"v-"+ae(ue.by)+"H"+re(ke*f+he)+"V"+ae(Le-f)+"Z");var _e=he+se.textShiftX,De=Le+ue.ty0-ue.by/2+S,Ne=ue.textAlign||"auto";Ne!=="auto"&&(Ne==="left"&&Se!=="start"?(Ie.attr("text-anchor","start"),_e=Me?-ue.bx/2-ue.tx2width/2+S:-ue.bx-S):Ne==="right"&&Se!=="end"&&(Ie.attr("text-anchor","end"),_e=Me?ue.bx/2-ue.tx2width/2-S:ue.bx+S)),Ie.call(t.positionText,re(_e),ae(De)),ue.tx2width&&(pe.select("text.name").call(t.positionText,re(se.text2ShiftX+se.alignShift*S+he),ae(Le+ue.ty0-ue.by/2+S)),pe.select("rect").call(r.setRect,re(se.text2ShiftX+(se.alignShift-1)*ue.tx2width/2+he),ae(Le-ue.by/2-1),re(ue.tx2width),ae(ue.by+2)))})}function H(Z,X){var ee=Z.index,ne=Z.trace||{},re=Z.cd[0],ae=Z.cd[ee]||{};function ue(Ie){return Ie||k(Ie)&&Ie===0}var pe=Array.isArray(ee)?function(Ie,Se){var ke=_.castOption(re,ee,Ie);return ue(ke)?ke:_.extractOption({},ne,"",Se)}:function(Ie,Se){return _.extractOption(ae,ne,Ie,Se)};function ge(Ie,Se,ke){var se=pe(Se,ke);ue(se)&&(Z[Ie]=se)}if(ge("hoverinfo","hi","hoverinfo"),ge("bgcolor","hbg","hoverlabel.bgcolor"),ge("borderColor","hbc","hoverlabel.bordercolor"),ge("fontFamily","htf","hoverlabel.font.family"),ge("fontSize","hts","hoverlabel.font.size"),ge("fontColor","htc","hoverlabel.font.color"),ge("nameLength","hnl","hoverlabel.namelength"),ge("textAlign","hta","hoverlabel.align"),Z.posref=X==="y"||X==="closest"&&ne.orientation==="h"?Z.xa._offset+(Z.x0+Z.x1)/2:Z.ya._offset+(Z.y0+Z.y1)/2,Z.x0=_.constrain(Z.x0,0,Z.xa._length),Z.x1=_.constrain(Z.x1,0,Z.xa._length),Z.y0=_.constrain(Z.y0,0,Z.ya._length),Z.y1=_.constrain(Z.y1,0,Z.ya._length),Z.xLabelVal!==void 0&&(Z.xLabel="xLabel"in Z?Z.xLabel:o.hoverLabelText(Z.xa,Z.xLabelVal,ne.xhoverformat),Z.xVal=Z.xa.c2d(Z.xLabelVal)),Z.yLabelVal!==void 0&&(Z.yLabel="yLabel"in Z?Z.yLabel:o.hoverLabelText(Z.ya,Z.yLabelVal,ne.yhoverformat),Z.yVal=Z.ya.c2d(Z.yLabelVal)),Z.zLabelVal!==void 0&&Z.zLabel===void 0&&(Z.zLabel=String(Z.zLabelVal)),!(isNaN(Z.xerr)||Z.xa.type==="log"&&Z.xerr<=0)){var we=o.tickText(Z.xa,Z.xa.c2l(Z.xerr),"hover").text;Z.xerrneg!==void 0?Z.xLabel+=" +"+we+" / -"+o.tickText(Z.xa,Z.xa.c2l(Z.xerrneg),"hover").text:Z.xLabel+=" ± "+we,X==="x"&&(Z.distance+=1)}if(!(isNaN(Z.yerr)||Z.ya.type==="log"&&Z.yerr<=0)){var me=o.tickText(Z.ya,Z.ya.c2l(Z.yerr),"hover").text;Z.yerrneg!==void 0?Z.yLabel+=" +"+me+" / -"+o.tickText(Z.ya,Z.ya.c2l(Z.yerrneg),"hover").text:Z.yLabel+=" ± "+me,X==="y"&&(Z.distance+=1)}var ve=Z.hoverinfo||Z.trace.hoverinfo;return ve&&ve!=="all"&&((ve=Array.isArray(ve)?ve:ve.split("+")).indexOf("x")===-1&&(Z.xLabel=void 0),ve.indexOf("y")===-1&&(Z.yLabel=void 0),ve.indexOf("z")===-1&&(Z.zLabel=void 0),ve.indexOf("text")===-1&&(Z.text=void 0),ve.indexOf("name")===-1&&(Z.name=void 0)),Z}function N(Z,X,ee){var ne,re,ae=ee.container,ue=ee.fullLayout,pe=ue._size,ge=ee.event,we=!!X.hLinePoint,me=!!X.vLinePoint;if(ae.selectAll(".spikeline").remove(),me||we){var ve=n.combine(ue.plot_bgcolor,ue.paper_bgcolor);if(we){var Ie,Se,ke=X.hLinePoint;ne=ke&&ke.xa,(re=ke&&ke.ya).spikesnap==="cursor"?(Ie=ge.pointerX,Se=ge.pointerY):(Ie=ne._offset+ke.x,Se=re._offset+ke.y);var se,oe,he=a.readability(ke.color,ve)<1.5?n.contrast(ve):ke.color,Le=re.spikemode,Me=re.spikethickness,_e=re.spikecolor||he,De=o.getPxPosition(Z,re);if(Le.indexOf("toaxis")!==-1||Le.indexOf("across")!==-1){if(Le.indexOf("toaxis")!==-1&&(se=De,oe=Ie),Le.indexOf("across")!==-1){var Ne=re._counterDomainMin,ce=re._counterDomainMax;re.anchor==="free"&&(Ne=Math.min(Ne,re.position),ce=Math.max(ce,re.position)),se=pe.l+Ne*pe.w,oe=pe.l+ce*pe.w}ae.insert("line",":first-child").attr({x1:se,x2:oe,y1:Se,y2:Se,"stroke-width":Me,stroke:_e,"stroke-dasharray":r.dashStyle(re.spikedash,Me)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:se,x2:oe,y1:Se,y2:Se,"stroke-width":Me+2,stroke:ve}).classed("spikeline",!0).classed("crisp",!0)}Le.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:De+(re.side!=="right"?Me:-Me),cy:Se,r:Me,fill:_e}).classed("spikeline",!0)}if(me){var Te,ye,Oe=X.vLinePoint;ne=Oe&&Oe.xa,re=Oe&&Oe.ya,ne.spikesnap==="cursor"?(Te=ge.pointerX,ye=ge.pointerY):(Te=ne._offset+Oe.x,ye=re._offset+Oe.y);var Be,Fe,Ge=a.readability(Oe.color,ve)<1.5?n.contrast(ve):Oe.color,Ze=ne.spikemode,et=ne.spikethickness,ft=ne.spikecolor||Ge,rt=o.getPxPosition(Z,ne);if(Ze.indexOf("toaxis")!==-1||Ze.indexOf("across")!==-1){if(Ze.indexOf("toaxis")!==-1&&(Be=rt,Fe=ye),Ze.indexOf("across")!==-1){var _t=ne._counterDomainMin,kt=ne._counterDomainMax;ne.anchor==="free"&&(_t=Math.min(_t,ne.position),kt=Math.max(kt,ne.position)),Be=pe.t+(1-kt)*pe.h,Fe=pe.t+(1-_t)*pe.h}ae.insert("line",":first-child").attr({x1:Te,x2:Te,y1:Be,y2:Fe,"stroke-width":et,stroke:ft,"stroke-dasharray":r.dashStyle(ne.spikedash,et)}).classed("spikeline",!0).classed("crisp",!0),ae.insert("line",":first-child").attr({x1:Te,x2:Te,y1:Be,y2:Fe,"stroke-width":et+2,stroke:ve}).classed("spikeline",!0).classed("crisp",!0)}Ze.indexOf("marker")!==-1&&ae.insert("circle",":first-child").attr({cx:Te,cy:rt-(ne.side!=="top"?et:-et),r:et,fill:ft}).classed("spikeline",!0)}}}function B(Z,X){return!X||X.vLinePoint!==Z._spikepoints.vLinePoint||X.hLinePoint!==Z._spikepoints.hLinePoint}function V(Z,X){return t.plainText(Z||"",{len:X,allowedTags:["br","sub","sup","b","i","em"]})}function q(Z,X,ee){var ne=X[Z+"a"],re=X[Z+"Val"],ae=X.cd[0];if(ne.type==="category"||ne.type==="multicategory")re=ne._categoriesMap[re];else if(ne.type==="date"){var ue=X.trace[Z+"periodalignment"];if(ue){var pe=X.cd[X.index],ge=pe[Z+"Start"];ge===void 0&&(ge=pe[Z]);var we=pe[Z+"End"];we===void 0&&(we=pe[Z]);var me=we-ge;ue==="end"?re+=me:ue==="middle"&&(re+=me/2)}re=ne.d2c(re)}return ae&&ae.t&&ae.t.posLetter===ne._id&&(ee.boxmode!=="group"&&ee.violinmode!=="group"||(re+=ae.t.dPos)),re}function te(Z){return Z.offsetTop+Z.clientTop}function $(Z){return Z.offsetLeft+Z.clientLeft}function K(Z,X){var ee=Z._fullLayout,ne=X.getBoundingClientRect(),re=ne.left,ae=ne.top,ue=re+ne.width,pe=ae+ne.height,ge=_.apply3DTransform(ee._invTransform)(re,ae),we=_.apply3DTransform(ee._invTransform)(ue,pe),me=ge[0],ve=ge[1],Ie=we[0],Se=we[1];return{x:me,y:ve,width:Ie-me,height:Se-ve,top:Math.min(ve,Se),left:Math.min(me,Ie),right:Math.max(me,Ie),bottom:Math.max(ve,Se)}}},38048:function(Y,O,e){var M=e(71828),k=e(7901),a=e(23469).isUnifiedHover;Y.exports=function(_,y,d,s){s=s||{};var t=y.legend;function i(r){s.font[r]||(s.font[r]=t?y.legend.font[r]:y.font[r])}y&&a(y.hovermode)&&(s.font||(s.font={}),i("size"),i("family"),i("color"),t?(s.bgcolor||(s.bgcolor=k.combine(y.legend.bgcolor,y.paper_bgcolor)),s.bordercolor||(s.bordercolor=y.legend.bordercolor)):s.bgcolor||(s.bgcolor=y.paper_bgcolor)),d("hoverlabel.bgcolor",s.bgcolor),d("hoverlabel.bordercolor",s.bordercolor),d("hoverlabel.namelength",s.namelength),M.coerceFont(d,"hoverlabel.font",s.font),d("hoverlabel.align",s.align)}},98212:function(Y,O,e){var M=e(71828),k=e(528);Y.exports=function(a,_){function y(d,s){return _[d]!==void 0?_[d]:M.coerce(a,_,k,d,s)}return y("clickmode"),y("hovermode")}},30211:function(Y,O,e){var M=e(39898),k=e(71828),a=e(28569),_=e(23469),y=e(528),d=e(88335);Y.exports={moduleType:"component",name:"fx",constants:e(26675),schema:{layout:y},attributes:e(77914),layoutAttributes:y,supplyLayoutGlobalDefaults:e(22774),supplyDefaults:e(54268),supplyLayoutDefaults:e(34938),calc:e(30732),getDistanceFunction:_.getDistanceFunction,getClosest:_.getClosest,inbox:_.inbox,quadrature:_.quadrature,appendArrayPointValue:_.appendArrayPointValue,castHoverOption:function(s,t,i){return k.castOption(s,t,"hoverlabel."+i)},castHoverinfo:function(s,t,i){return k.castOption(s,i,"hoverinfo",function(r){return k.coerceHoverinfo({hoverinfo:r},{_module:s._module},t)})},hover:d.hover,unhover:a.unhover,loneHover:d.loneHover,loneUnhover:function(s){var t=k.isD3Selection(s)?s:M.select(s);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:e(75914)}},528:function(Y,O,e){var M=e(26675),k=e(41940),a=k({editType:"none"});a.family.dflt=M.HOVERFONT,a.size.dflt=M.HOVERFONTSIZE,Y.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,grouptitlefont:k({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(Y,O,e){var M=e(71828),k=e(528),a=e(98212),_=e(38048);Y.exports=function(y,d){function s(n,l){return M.coerce(y,d,k,n,l)}a(y,d)&&(s("hoverdistance"),s("spikedistance")),s("dragmode")==="select"&&s("selectdirection");var t=d._has("mapbox"),i=d._has("geo"),r=d._basePlotModules.length;d.dragmode==="zoom"&&((t||i)&&r===1||t&&i&&r===2)&&(d.dragmode="pan"),_(y,d,s),M.coerceFont(s,"hoverlabel.grouptitlefont",d.hoverlabel.font)}},22774:function(Y,O,e){var M=e(71828),k=e(38048),a=e(528);Y.exports=function(_,y){k(_,y,function(d,s){return M.coerce(_,y,a,d,s)})}},83312:function(Y,O,e){var M=e(71828),k=e(30587).counter,a=e(27670).Y,_=e(85555).idRegex,y=e(44467),d={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[k("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[_.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:a({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function s(r,n,l){var o=n[l+"axes"],u=Object.keys((r._splomAxes||{})[l]||{});return Array.isArray(o)?o:u.length?u:void 0}function t(r,n,l,o,u,p){var c=n(r+"gap",l),b=n("domain."+r);n(r+"side",o);for(var g=new Array(u),h=b[0],x=(b[1]-h)/(u-c),v=x*(1-c),m=0;m<u;m++){var w=h+x*m;g[p?u-1-m:m]=[w,w+v]}return g}function i(r,n,l,o,u){var p,c=new Array(l);function b(g,h){n.indexOf(h)!==-1&&o[h]===void 0?(c[g]=h,o[h]=g):c[g]=""}if(Array.isArray(r))for(p=0;p<l;p++)b(p,r[p]);else for(b(0,u),p=1;p<l;p++)b(p,u+(p+1));return c}Y.exports={moduleType:"component",name:"grid",schema:{layout:{grid:d}},layoutAttributes:d,sizeDefaults:function(r,n){var l=r.grid||{},o=s(n,l,"x"),u=s(n,l,"y");if(r.grid||o||u){var p,c,b=Array.isArray(l.subplots)&&Array.isArray(l.subplots[0]),g=Array.isArray(o),h=Array.isArray(u),x=g&&o!==l.xaxes&&h&&u!==l.yaxes;b?(p=l.subplots.length,c=l.subplots[0].length):(h&&(p=u.length),g&&(c=o.length));var v=y.newContainer(n,"grid"),m=C("rows",p),w=C("columns",c);if(m*w>1){b||g||h||C("pattern")==="independent"&&(b=!0),v._hasSubplotGrid=b;var f,S,T=C("roworder")==="top to bottom",E=b?.2:.1,L=b?.3:.1;x&&n._splomGridDflt&&(f=n._splomGridDflt.xside,S=n._splomGridDflt.yside),v._domains={x:t("x",C,E,f,w),y:t("y",C,L,S,m,T)}}else delete n.grid}function C(P,R){return M.coerce(l,v,d,P,R)}},contentDefaults:function(r,n){var l=n.grid;if(l&&l._domains){var o,u,p,c,b,g,h,x=r.grid||{},v=n._subplots,m=l._hasSubplotGrid,w=l.rows,f=l.columns,S=l.pattern==="independent",T=l._axisMap={};if(m){var E=x.subplots||[];g=l.subplots=new Array(w);var L=1;for(o=0;o<w;o++){var C=g[o]=new Array(f),P=E[o]||[];for(u=0;u<f;u++)if(S?(b=L===1?"xy":"x"+L+"y"+L,L++):b=P[u],C[u]="",v.cartesian.indexOf(b)!==-1){if(h=b.indexOf("y"),p=b.slice(0,h),c=b.slice(h),T[p]!==void 0&&T[p]!==u||T[c]!==void 0&&T[c]!==o)continue;C[u]=b,T[p]=u,T[c]=o}}}else{var R=s(n,x,"x"),G=s(n,x,"y");l.xaxes=i(R,v.xaxis,f,T,"x"),l.yaxes=i(G,v.yaxis,w,T,"y")}var I=l._anchors={},H=l.roworder==="top to bottom";for(var N in T){var B,V,q,te=N.charAt(0),$=l[te+"side"];if($.length<8)I[N]="free";else if(te==="x"){if($.charAt(0)==="t"===H?(B=0,V=1,q=w):(B=w-1,V=-1,q=-1),m){var K=T[N];for(o=B;o!==q;o+=V)if((b=g[o][K])&&(h=b.indexOf("y"),b.slice(0,h)===N)){I[N]=b.slice(h);break}}else for(o=B;o!==q;o+=V)if(c=l.yaxes[o],v.cartesian.indexOf(N+c)!==-1){I[N]=c;break}}else if($.charAt(0)==="l"?(B=0,V=1,q=f):(B=f-1,V=-1,q=-1),m){var Z=T[N];for(o=B;o!==q;o+=V)if((b=g[Z][o])&&(h=b.indexOf("y"),b.slice(h)===N)){I[N]=b.slice(0,h);break}}else for(o=B;o!==q;o+=V)if(p=l.xaxes[o],v.cartesian.indexOf(p+N)!==-1){I[N]=p;break}}}}}},69819:function(Y,O,e){var M=e(85555),k=e(44467).templatedArray;e(24695),Y.exports=k("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",M.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",M.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(Y,O,e){var M=e(92770),k=e(58163);Y.exports=function(a,_,y,d){_=_||{};var s=y==="log"&&_.type==="linear",t=y==="linear"&&_.type==="log";if(s||t){for(var i,r,n=a._fullLayout.images,l=_._id.charAt(0),o=0;o<n.length;o++)if(r="images["+o+"].",(i=n[o])[l+"ref"]===_._id){var u=i[l],p=i["size"+l],c=null,b=null;if(s){c=k(u,_.range);var g=p/Math.pow(10,c)/2;b=2*Math.log(g+Math.sqrt(1+g*g))/Math.LN10}else b=(c=Math.pow(10,u))*(Math.pow(10,p/2)-Math.pow(10,-p/2));M(c)?M(b)||(b=null):(c=null,b=null),d(r+l,c),d(r+"size"+l,b)}}}},81603:function(Y,O,e){var M=e(71828),k=e(89298),a=e(85501),_=e(69819);function y(d,s,t){function i(c,b){return M.coerce(d,s,_,c,b)}var r=i("source");if(!i("visible",!!r))return s;i("layer"),i("xanchor"),i("yanchor"),i("sizex"),i("sizey"),i("sizing"),i("opacity");for(var n={_fullLayout:t},l=["x","y"],o=0;o<2;o++){var u=l[o],p=k.coerceRef(d,s,n,u,"paper",void 0);p!=="paper"&&k.getFromId(n,p)._imgIndices.push(s._index),k.coercePosition(s,n,i,p,u,0)}return s}Y.exports=function(d,s){a(d,s,{name:"images",handleItemDefaults:y})}},80750:function(Y,O,e){var M=e(39898),k=e(91424),a=e(89298),_=e(41675),y=e(77922);Y.exports=function(d){var s,t,i=d._fullLayout,r=[],n={},l=[];for(t=0;t<i.images.length;t++){var o=i.images[t];if(o.visible)if(o.layer==="below"&&o.xref!=="paper"&&o.yref!=="paper"){s=_.ref2id(o.xref)+_.ref2id(o.yref);var u=i._plots[s];if(!u){l.push(o);continue}u.mainplot&&(s=u.mainplot.id),n[s]||(n[s]=[]),n[s].push(o)}else o.layer==="above"?r.push(o):l.push(o)}var p={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},c={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function b(f){var S=M.select(this);if(this._imgSrc!==f.source)if(S.attr("xmlns",y.svg),f.source&&f.source.slice(0,5)==="data:")S.attr("xlink:href",f.source),this._imgSrc=f.source;else{var T=new Promise((function(E){var L=new Image;function C(){S.remove(),E()}this.img=L,L.setAttribute("crossOrigin","anonymous"),L.onerror=C,L.onload=function(){var P=document.createElement("canvas");P.width=this.width,P.height=this.height,P.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var R=P.toDataURL("image/png");S.attr("xlink:href",R),E()},S.on("error",C),L.src=f.source,this._imgSrc=f.source}).bind(this));d._promises.push(T)}}function g(f){var S,T,E=M.select(this),L=a.getFromId(d,f.xref),C=a.getFromId(d,f.yref),P=a.getRefType(f.xref)==="domain",R=a.getRefType(f.yref)==="domain",G=i._size;S=L!==void 0?typeof f.xref=="string"&&P?L._length*f.sizex:Math.abs(L.l2p(f.sizex)-L.l2p(0)):f.sizex*G.w,T=C!==void 0?typeof f.yref=="string"&&R?C._length*f.sizey:Math.abs(C.l2p(f.sizey)-C.l2p(0)):f.sizey*G.h;var I,H,N=S*p[f.xanchor].offset,B=T*c[f.yanchor].offset,V=p[f.xanchor].sizing+c[f.yanchor].sizing;switch(I=L!==void 0?typeof f.xref=="string"&&P?L._length*f.x+L._offset:L.r2p(f.x)+L._offset:f.x*G.w+G.l,I+=N,H=C!==void 0?typeof f.yref=="string"&&R?C._length*(1-f.y)+C._offset:C.r2p(f.y)+C._offset:G.h-f.y*G.h+G.t,H+=B,f.sizing){case"fill":V+=" slice";break;case"stretch":V="none"}E.attr({x:I,y:H,width:S,height:T,preserveAspectRatio:V,opacity:f.opacity});var q=(L&&a.getRefType(f.xref)!=="domain"?L._id:"")+(C&&a.getRefType(f.yref)!=="domain"?C._id:"");k.setClipUrl(E,q?"clip"+i._uid+q:null,d)}var h=i._imageLowerLayer.selectAll("image").data(l),x=i._imageUpperLayer.selectAll("image").data(r);h.enter().append("image"),x.enter().append("image"),h.exit().remove(),x.exit().remove(),h.each(function(f){b.bind(this)(f),g.bind(this)(f)}),x.each(function(f){b.bind(this)(f),g.bind(this)(f)});var v=Object.keys(i._plots);for(t=0;t<v.length;t++){s=v[t];var m=i._plots[s];if(m.imagelayer){var w=m.imagelayer.selectAll("image").data(n[s]||[]);w.enter().append("image"),w.exit().remove(),w.each(function(f){b.bind(this)(f),g.bind(this)(f)})}}}},68804:function(Y,O,e){Y.exports={moduleType:"component",name:"images",layoutAttributes:e(69819),supplyLayoutDefaults:e(81603),includeBasePlot:e(76325)("images"),draw:e(80750),convertCoords:e(75378)}},33030:function(Y,O,e){var M=e(41940),k=e(22399);Y.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:M({editType:"legend"}),grouptitlefont:M({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",editType:"legend"},xref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",editType:"legend"},yref:{valType:"enumerated",dflt:"paper",values:["container","paper"],editType:"layoutstyle"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:M({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left","top center","top right"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(Y){Y.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(Y,O,e){var M=e(73972),k=e(71828),a=e(44467),_=e(9012),y=e(33030),d=e(10820),s=e(10130);function t(i,r,n,l){var o=r[i]||{},u=a.newContainer(n,i);function p(V,q){return k.coerce(o,u,y,V,q)}var c=k.coerceFont(p,"font",n.font);if(p("bgcolor",n.paper_bgcolor),p("bordercolor"),p("visible")){for(var b,g=function(V,q){var te=b._input,$=b;return k.coerce(te,$,_,V,q)},h=n.font||{},x=k.coerceFont(p,"grouptitlefont",k.extendFlat({},h,{size:Math.round(1.1*h.size)})),v=0,m=!1,w="normal",f=(n.shapes||[]).filter(function(V){return V.showlegend}),S=l.concat(f).filter(function(V){return i===(V.legend||"legend")}),T=0;T<S.length;T++)if((b=S[T]).visible){var E=b._isShape;(b.showlegend||b._dfltShowLegend&&!(b._module&&b._module.attributes&&b._module.attributes.showlegend&&b._module.attributes.showlegend.dflt===!1))&&(v++,b.showlegend&&(m=!0,(!E&&M.traceIs(b,"pie-like")||b._input.showlegend===!0)&&v++),k.coerceFont(g,"legendgrouptitle.font",x)),(!E&&M.traceIs(b,"bar")&&n.barmode==="stack"||["tonextx","tonexty"].indexOf(b.fill)!==-1)&&(w=s.isGrouped({traceorder:w})?"grouped+reversed":"reversed"),b.legendgroup!==void 0&&b.legendgroup!==""&&(w=s.isReversed({traceorder:w})?"reversed+grouped":"grouped")}var L=k.coerce(r,n,d,"showlegend",m&&v>(i==="legend"?1:0));if(L===!1&&(n[i]=void 0),(L!==!1||o.uirevision)&&(p("uirevision",n.uirevision),L!==!1)){p("borderwidth");var C,P,R,G=p("orientation")==="h",I=p("yref")==="paper",H=p("xref")==="paper",N="left";if(G?(C=0,M.getComponentMethod("rangeslider","isVisible")(r.xaxis)?I?(P=1.1,R="bottom"):(P=1,R="top"):I?(P=-.1,R="top"):(P=0,R="bottom")):(P=1,R="auto",H?C=1.02:(C=1,N="right")),k.coerce(o,u,{x:{valType:"number",editType:"legend",min:H?-2:0,max:H?3:1,dflt:C}},"x"),k.coerce(o,u,{y:{valType:"number",editType:"legend",min:I?-2:0,max:I?3:1,dflt:P}},"y"),p("traceorder",w),s.isGrouped(n[i])&&p("tracegroupgap"),p("entrywidth"),p("entrywidthmode"),p("itemsizing"),p("itemwidth"),p("itemclick"),p("itemdoubleclick"),p("groupclick"),p("xanchor",N),p("yanchor",R),p("valign"),k.noneOrAll(o,u,["x","y"]),p("title.text")){p("title.side",G?"left":"top");var B=k.extendFlat({},c,{size:k.bigFont(c.size)});k.coerceFont(p,"title.font",B)}}}}Y.exports=function(i,r,n){var l,o=n.slice(),u=r.shapes;if(u)for(l=0;l<u.length;l++){var p=u[l];if(p.showlegend){var c={_input:p._input,visible:p.visible,showlegend:p.showlegend,legend:p.legend};o.push(c)}}var b=["legend"];for(l=0;l<o.length;l++)k.pushUnique(b,o[l].legend);for(r._legends=[],l=0;l<b.length;l++){var g=b[l];t(g,i,r,o),r[g]&&r[g].visible&&(r[g]._id=g),r._legends.push(g)}}},43969:function(Y,O,e){var M=e(39898),k=e(71828),a=e(74875),_=e(73972),y=e(11086),d=e(28569),s=e(91424),t=e(7901),i=e(63893),r=e(85167),n=e(14928),l=e(18783),o=l.LINE_SPACING,u=l.FROM_TL,p=l.FROM_BR,c=e(82424),b=e(53630),g=e(10130),h=1,x=/^legend[0-9]*$/;function v(R,G){var I,H,N=G||{},B=R._fullLayout,V=P(N),q=N._inHover;if(q?(H=N.layer,I="hover"):(H=B._infolayer,I=V),H){var te;if(I+=B._uid,R._legendMouseDownTime||(R._legendMouseDownTime=0),q){if(!N.entries)return;te=c(N.entries,N)}else{for(var $=(R.calcdata||[]).slice(),K=B.shapes,Z=0;Z<K.length;Z++){var X=K[Z];if(X.showlegend){var ee={_isShape:!0,_fullInput:X,index:X._index,name:X.name||X.label.text||"shape "+X._index,legend:X.legend,legendgroup:X.legendgroup,legendgrouptitle:X.legendgrouptitle,legendrank:X.legendrank,legendwidth:X.legendwidth,showlegend:X.showlegend,visible:X.visible,opacity:X.opacity,mode:X.type==="line"?"lines":"markers",line:X.line,marker:{line:X.line,color:X.fillcolor,size:12,symbol:X.type==="rect"?"square":X.type==="circle"?"circle":"hexagon2"}};$.push([{trace:ee}])}}te=B.showlegend&&c($,N,B._legends.length>1)}var ne=B.hiddenlabels||[];if(!(q||B.showlegend&&te.length))return H.selectAll("."+V).remove(),B._topdefs.select("#"+I).remove(),a.autoMargin(R,V);var re=k.ensureSingle(H,"g",V,function(Se){q||Se.attr("pointer-events","all")}),ae=k.ensureSingleById(B._topdefs,"clipPath",I,function(Se){Se.append("rect")}),ue=k.ensureSingle(re,"rect","bg",function(Se){Se.attr("shape-rendering","crispEdges")});ue.call(t.stroke,N.bordercolor).call(t.fill,N.bgcolor).style("stroke-width",N.borderwidth+"px");var pe,ge=k.ensureSingle(re,"g","scrollbox"),we=N.title;N._titleWidth=0,N._titleHeight=0,we.text?((pe=k.ensureSingle(ge,"text",V+"titletext")).attr("text-anchor","start").call(s.font,we.font).text(we.text),E(pe,ge,R,N,h)):ge.selectAll("."+V+"titletext").remove();var me=k.ensureSingle(re,"rect","scrollbar",function(Se){Se.attr(n.scrollBarEnterAttrs).call(t.fill,n.scrollBarColor)}),ve=ge.selectAll("g.groups").data(te);ve.enter().append("g").attr("class","groups"),ve.exit().remove();var Ie=ve.selectAll("g.traces").data(k.identity);Ie.enter().append("g").attr("class","traces"),Ie.exit().remove(),Ie.style("opacity",function(Se){var ke=Se[0].trace;return _.traceIs(ke,"pie-like")?ne.indexOf(Se[0].label)!==-1?.5:1:ke.visible==="legendonly"?.5:1}).each(function(){M.select(this).call(f,R,N)}).call(b,R,N).each(function(){q||M.select(this).call(T,R,V)}),k.syncOrAsync([a.previousPromises,function(){return function(Se,ke,se,oe){var he=Se._fullLayout,Le=P(oe);oe||(oe=he[Le]);var Me=he._size,_e=g.isVertical(oe),De=g.isGrouped(oe),Ne=oe.entrywidthmode==="fraction",ce=oe.borderwidth,Te=2*ce,ye=n.itemGap,Oe=oe.itemwidth+2*ye,Be=2*(ce+ye),Fe=C(oe),Ge=oe.y<0||oe.y===0&&Fe==="top",Ze=oe.y>1||oe.y===1&&Fe==="bottom",et=oe.tracegroupgap,ft={};oe._maxHeight=Math.max(Ge||Ze?he.height/2:Me.h,30);var rt=0;oe._width=0,oe._height=0;var _t=function(mt){var bt=0,dt=0,St=mt.title.side;return St&&(St.indexOf("left")!==-1&&(bt=mt._titleWidth),St.indexOf("top")!==-1&&(dt=mt._titleHeight)),[bt,dt]}(oe);if(_e)se.each(function(mt){var bt=mt[0].height;s.setTranslate(this,ce+_t[0],ce+_t[1]+oe._height+bt/2+ye),oe._height+=bt,oe._width=Math.max(oe._width,mt[0].width)}),rt=Oe+oe._width,oe._width+=ye+Oe+Te,oe._height+=Be,De&&(ke.each(function(mt,bt){s.setTranslate(this,0,bt*oe.tracegroupgap)}),oe._height+=(oe._lgroupsLength-1)*oe.tracegroupgap);else{var kt=L(oe),wt=oe.x<0||oe.x===0&&kt==="right",lt=oe.x>1||oe.x===1&&kt==="left",ut=Ze||Ge,Et=he.width/2;oe._maxWidth=Math.max(wt?ut&&kt==="left"?Me.l+Me.w:Et:lt?ut&&kt==="right"?Me.r+Me.w:Et:Me.w,2*Oe);var Ot=0,zt=0;se.each(function(mt){var bt=m(mt,oe,Oe);Ot=Math.max(Ot,bt),zt+=bt}),rt=null;var Lt=0;if(De){var Je=0,Qe=0,qe=0;ke.each(function(){var mt=0,bt=0;M.select(this).selectAll("g.traces").each(function(St){var gt=m(St,oe,Oe),vt=St[0].height;s.setTranslate(this,_t[0],_t[1]+ce+ye+vt/2+bt),bt+=vt,mt=Math.max(mt,gt),ft[St[0].trace.legendgroup]=mt});var dt=mt+ye;Qe>0&&dt+ce+Qe>oe._maxWidth?(Lt=Math.max(Lt,Qe),Qe=0,qe+=Je+et,Je=bt):Je=Math.max(Je,bt),s.setTranslate(this,Qe,qe),Qe+=dt}),oe._width=Math.max(Lt,Qe)+ce,oe._height=qe+Je+Be}else{var $e=se.size(),ct=zt+Te+($e-1)*ye<oe._maxWidth,at=0,Re=0,je=0,st=0;se.each(function(mt){var bt=mt[0].height,dt=m(mt,oe,Oe),St=ct?dt:Ot;Ne||(St+=ye),St+ce+Re-ye>=oe._maxWidth&&(Lt=Math.max(Lt,st),Re=0,je+=at,oe._height+=at,at=0),s.setTranslate(this,_t[0]+ce+Re,_t[1]+ce+je+bt/2+ye),st=Re+dt+ye,Re+=St,at=Math.max(at,bt)}),ct?(oe._width=Re+Te,oe._height=at+Be):(oe._width=Math.max(Lt,st)+Te,oe._height+=at+Be)}}oe._width=Math.ceil(Math.max(oe._width+_t[0],oe._titleWidth+2*(ce+n.titlePad))),oe._height=Math.ceil(Math.max(oe._height+_t[1],oe._titleHeight+2*(ce+n.itemGap))),oe._effHeight=Math.min(oe._height,oe._maxHeight);var ot=Se._context.edits,xt=ot.legendText||ot.legendPosition;se.each(function(mt){var bt=M.select(this).select("."+Le+"toggle"),dt=mt[0].height,St=mt[0].trace.legendgroup,gt=m(mt,oe,Oe);De&&St!==""&&(gt=ft[St]);var vt=xt?Oe:rt||gt;_e||Ne||(vt+=ye/2),s.setRect(bt,0,-dt/2,vt,dt)})}(R,ve,Ie,N)},function(){var Se,ke,se,oe,he=B._size,Le=N.borderwidth,Me=N.xref==="paper",_e=N.yref==="paper";if(we.text&&function(ut,Et,Ot){if(Et.title.side==="top center"||Et.title.side==="top right"){var zt=Et.title.font.size*o,Lt=0,Je=ut.node(),Qe=s.bBox(Je).width;Et.title.side==="top center"?Lt=.5*(Et._width-2*Ot-2*n.titlePad-Qe):Et.title.side==="top right"&&(Lt=Et._width-2*Ot-2*n.titlePad-Qe),i.positionText(ut,Ot+n.titlePad+Lt,Ot+zt)}}(pe,N,Le),!q){var De,Ne;De=Me?he.l+he.w*N.x-u[L(N)]*N._width:B.width*N.x-u[L(N)]*N._width,Ne=_e?he.t+he.h*(1-N.y)-u[C(N)]*N._effHeight:B.height*(1-N.y)-u[C(N)]*N._effHeight;var ce=function(ut,Et,Ot,zt){var Lt=ut._fullLayout,Je=Lt[Et],Qe=L(Je),qe=C(Je),$e=Je.xref==="paper",ct=Je.yref==="paper";ut._fullLayout._reservedMargin[Et]={};var at=Je.y<.5?"b":"t",Re=Je.x<.5?"l":"r",je={r:Lt.width-Ot,l:Ot+Je._width,b:Lt.height-zt,t:zt+Je._effHeight};if($e&&ct)return a.autoMargin(ut,Et,{x:Je.x,y:Je.y,l:Je._width*u[Qe],r:Je._width*p[Qe],b:Je._effHeight*p[qe],t:Je._effHeight*u[qe]});$e?ut._fullLayout._reservedMargin[Et][at]=je[at]:ct||Je.orientation==="v"?ut._fullLayout._reservedMargin[Et][Re]=je[Re]:ut._fullLayout._reservedMargin[Et][at]=je[at]}(R,V,De,Ne);if(ce)return;if(B.margin.autoexpand){var Te=De,ye=Ne;De=Me?k.constrain(De,0,B.width-N._width):Te,Ne=_e?k.constrain(Ne,0,B.height-N._effHeight):ye,De!==Te&&k.log("Constrain "+V+".x to make legend fit inside graph"),Ne!==ye&&k.log("Constrain "+V+".y to make legend fit inside graph")}s.setTranslate(re,De,Ne)}if(me.on(".drag",null),re.on("wheel",null),q||N._height<=N._maxHeight||R._context.staticPlot){var Oe=N._effHeight;q&&(Oe=N._height),ue.attr({width:N._width-Le,height:Oe-Le,x:Le/2,y:Le/2}),s.setTranslate(ge,0,0),ae.select("rect").attr({width:N._width-2*Le,height:Oe-2*Le,x:Le,y:Le}),s.setClipUrl(ge,I,R),s.setRect(me,0,0,0,0),delete N._scrollY}else{var Be,Fe,Ge,Ze=Math.max(n.scrollBarMinHeight,N._effHeight*N._effHeight/N._height),et=N._effHeight-Ze-2*n.scrollBarMargin,ft=N._height-N._effHeight,rt=et/ft,_t=Math.min(N._scrollY||0,ft);ue.attr({width:N._width-2*Le+n.scrollBarWidth+n.scrollBarMargin,height:N._effHeight-Le,x:Le/2,y:Le/2}),ae.select("rect").attr({width:N._width-2*Le+n.scrollBarWidth+n.scrollBarMargin,height:N._effHeight-2*Le,x:Le,y:Le+_t}),s.setClipUrl(ge,I,R),lt(_t,Ze,rt),re.on("wheel",function(){lt(_t=k.constrain(N._scrollY+M.event.deltaY/et*ft,0,ft),Ze,rt),_t!==0&&_t!==ft&&M.event.preventDefault()});var kt=M.behavior.drag().on("dragstart",function(){var ut=M.event.sourceEvent;Be=ut.type==="touchstart"?ut.changedTouches[0].clientY:ut.clientY,Ge=_t}).on("drag",function(){var ut=M.event.sourceEvent;ut.buttons===2||ut.ctrlKey||(Fe=ut.type==="touchmove"?ut.changedTouches[0].clientY:ut.clientY,_t=function(Et,Ot,zt){var Lt=(zt-Ot)/rt+Et;return k.constrain(Lt,0,ft)}(Ge,Be,Fe),lt(_t,Ze,rt))});me.call(kt);var wt=M.behavior.drag().on("dragstart",function(){var ut=M.event.sourceEvent;ut.type==="touchstart"&&(Be=ut.changedTouches[0].clientY,Ge=_t)}).on("drag",function(){var ut=M.event.sourceEvent;ut.type==="touchmove"&&(Fe=ut.changedTouches[0].clientY,_t=function(Et,Ot,zt){var Lt=(Ot-zt)/rt+Et;return k.constrain(Lt,0,ft)}(Ge,Be,Fe),lt(_t,Ze,rt))});ge.call(wt)}function lt(ut,Et,Ot){N._scrollY=R._fullLayout[V]._scrollY=ut,s.setTranslate(ge,0,-ut),s.setRect(me,N._width,n.scrollBarMargin+ut*Ot,n.scrollBarWidth,Et),ae.select("rect").attr("y",Le+ut)}R._context.edits.legendPosition&&(re.classed("cursor-move",!0),d.init({element:re.node(),gd:R,prepFn:function(){var ut=s.getTranslate(re);se=ut.x,oe=ut.y},moveFn:function(ut,Et){var Ot=se+ut,zt=oe+Et;s.setTranslate(re,Ot,zt),Se=d.align(Ot,N._width,he.l,he.l+he.w,N.xanchor),ke=d.align(zt+N._height,-N._height,he.t+he.h,he.t,N.yanchor)},doneFn:function(){if(Se!==void 0&&ke!==void 0){var ut={};ut[V+".x"]=Se,ut[V+".y"]=ke,_.call("_guiRelayout",R,ut)}},clickFn:function(ut,Et){var Ot=H.selectAll("g.traces").filter(function(){var zt=this.getBoundingClientRect();return Et.clientX>=zt.left&&Et.clientX<=zt.right&&Et.clientY>=zt.top&&Et.clientY<=zt.bottom});Ot.size()>0&&w(R,re,Ot,ut,Et)}}))}],R)}}function m(R,G,I){var H=R[0],N=H.width,B=G.entrywidthmode,V=H.trace.legendwidth||G.entrywidth;return B==="fraction"?G._maxWidth*V:I+(V||N)}function w(R,G,I,H,N){var B=I.data()[0][0].trace,V={event:N,node:I.node(),curveNumber:B.index,expandedIndex:B._expandedIndex,data:R.data,layout:R.layout,frames:R._transitionData._frames,config:R._context,fullData:R._fullData,fullLayout:R._fullLayout};B._group&&(V.group=B._group),_.traceIs(B,"pie-like")&&(V.label=I.datum()[0].label);var q=y.triggerHandler(R,"plotly_legendclick",V);if(H===1){if(q===!1)return;G._clickTimeout=setTimeout(function(){R._fullLayout&&r(I,R,H)},R._context.doubleClickDelay)}else H===2&&(G._clickTimeout&&clearTimeout(G._clickTimeout),R._legendMouseDownTime=0,y.triggerHandler(R,"plotly_legenddoubleclick",V)!==!1&&q!==!1&&r(I,R,H))}function f(R,G,I){var H,N,B=P(I),V=R.data()[0][0],q=V.trace,te=_.traceIs(q,"pie-like"),$=!I._inHover&&G._context.edits.legendText&&!te,K=I._maxNameLength;V.groupTitle?(H=V.groupTitle.text,N=V.groupTitle.font):(N=I.font,I.entries?H=V.text:(H=te?V.label:q.name,q._meta&&(H=k.templateString(H,q._meta))));var Z=k.ensureSingle(R,"text",B+"text");Z.attr("text-anchor","start").call(s.font,N).text($?S(H,K):H);var X=I.itemwidth+2*n.itemGap;i.positionText(Z,X,0),$?Z.call(i.makeEditable,{gd:G,text:H}).call(E,R,G,I).on("edit",function(ee){this.text(S(ee,K)).call(E,R,G,I);var ne=V.trace._fullInput||{},re={};if(_.hasTransform(ne,"groupby")){var ae=_.getTransformIndices(ne,"groupby"),ue=ae[ae.length-1],pe=k.keyedContainer(ne,"transforms["+ue+"].styles","target","value.name");pe.set(V.trace._group,ee),re=pe.constructUpdate()}else re.name=ee;return ne._isShape?_.call("_guiRelayout",G,"shapes["+q.index+"].name",re.name):_.call("_guiRestyle",G,re,q.index)}):E(Z,R,G,I)}function S(R,G){var I=Math.max(4,G);if(R&&R.trim().length>=I/2)return R;for(var H=I-(R=R||"").length;H>0;H--)R+=" ";return R}function T(R,G,I){var H,N=G._context.doubleClickDelay,B=1,V=k.ensureSingle(R,"rect",I+"toggle",function(q){G._context.staticPlot||q.style("cursor","pointer").attr("pointer-events","all"),q.call(t.fill,"rgba(0,0,0,0)")});G._context.staticPlot||(V.on("mousedown",function(){(H=new Date().getTime())-G._legendMouseDownTime<N?B+=1:(B=1,G._legendMouseDownTime=H)}),V.on("mouseup",function(){if(!G._dragged&&!G._editing){var q=G._fullLayout[I];new Date().getTime()-G._legendMouseDownTime>N&&(B=Math.max(B-1,1)),w(G,q,R,B,M.event)}}))}function E(R,G,I,H,N){H._inHover&&R.attr("data-notex",!0),i.convertToTspans(R,I,function(){(function(B,V,q,te){var $=B.data()[0][0];if(q._inHover||!$||$.trace.showlegend){var K=B.select("g[class*=math-group]"),Z=K.node(),X=P(q);q||(q=V._fullLayout[X]);var ee,ne,re=q.borderwidth,ae=(te===h?q.title.font:$.groupTitle?$.groupTitle.font:q.font).size*o;if(Z){var ue=s.bBox(Z);ee=ue.height,ne=ue.width,te===h?s.setTranslate(K,re,re+.75*ee):s.setTranslate(K,0,.25*ee)}else{var pe="."+X+(te===h?"title":"")+"text",ge=B.select(pe),we=i.lineCount(ge),me=ge.node();if(ee=ae*we,ne=me?s.bBox(me).width:0,te===h)q.title.side==="left"&&(ne+=2*n.itemGap),i.positionText(ge,re+n.titlePad,re+ae);else{var ve=2*n.itemGap+q.itemwidth;$.groupTitle&&(ve=n.itemGap,ne-=q.itemwidth),i.positionText(ge,ve,-ae*((we-1)/2-.3))}}te===h?(q._titleWidth=ne,q._titleHeight=ee):($.lineHeight=ae,$.height=Math.max(ee,16)+3,$.width=ne)}else B.remove()})(G,I,H,N)})}function L(R){return k.isRightAnchor(R)?"right":k.isCenterAnchor(R)?"center":"left"}function C(R){return k.isBottomAnchor(R)?"bottom":k.isMiddleAnchor(R)?"middle":"top"}function P(R){return R._id||"legend"}Y.exports=function(R,G){if(G)v(R,G);else{var I=R._fullLayout,H=I._legends;I._infolayer.selectAll('[class^="legend"]').each(function(){var V=M.select(this),q=V.attr("class").split(" ")[0];q.match(x)&&H.indexOf(q)===-1&&V.remove()});for(var N=0;N<H.length;N++){var B=H[N];v(R,R._fullLayout[B])}}}},82424:function(Y,O,e){var M=e(73972),k=e(10130);Y.exports=function(a,_,y){var d,s,t=_._inHover,i=k.isGrouped(_),r=k.isReversed(_),n={},l=[],o=!1,u={},p=0,c=0;function b(H,N,B){if(_.visible!==!1&&(!y||H===_._id))if(N!==""&&k.isGrouped(_))l.indexOf(N)===-1?(l.push(N),o=!0,n[N]=[B]):n[N].push(B);else{var V="~~i"+p;l.push(V),n[V]=[B],p++}}for(d=0;d<a.length;d++){var g=a[d],h=g[0],x=h.trace,v=x.legend,m=x.legendgroup;if(t||x.visible&&x.showlegend)if(M.traceIs(x,"pie-like"))for(u[m]||(u[m]={}),s=0;s<g.length;s++){var w=g[s].label;u[m][w]||(b(v,m,{label:w,color:g[s].color,i:g[s].i,trace:x,pts:g[s].pts}),u[m][w]=!0,c=Math.max(c,(w||"").length))}else b(v,m,h),c=Math.max(c,(x.name||"").length)}if(!l.length)return[];var f=!o||!i,S=[];for(d=0;d<l.length;d++){var T=n[l[d]];f?S.push(T[0]):S.push(T)}for(f&&(S=[S]),d=0;d<S.length;d++){var E=1/0;for(s=0;s<S[d].length;s++){var L=S[d][s].trace.legendrank;E>L&&(E=L)}S[d][0]._groupMinRank=E,S[d][0]._preGroupSort=d}var C=function(H,N){return H.trace.legendrank-N.trace.legendrank||H._preSort-N._preSort};for(S.forEach(function(H,N){H[0]._preGroupSort=N}),S.sort(function(H,N){return H[0]._groupMinRank-N[0]._groupMinRank||H[0]._preGroupSort-N[0]._preGroupSort}),d=0;d<S.length;d++){S[d].forEach(function(H,N){H._preSort=N}),S[d].sort(C);var P=S[d][0].trace,R=null;for(s=0;s<S[d].length;s++){var G=S[d][s].trace.legendgrouptitle;if(G&&G.text){R=G,t&&(G.font=_._groupTitleFont);break}}if(r&&S[d].reverse(),R){var I=!1;for(s=0;s<S[d].length;s++)if(M.traceIs(S[d][s].trace,"pie-like")){I=!0;break}S[d].unshift({i:-1,groupTitle:R,noClick:I,trace:{showlegend:P.showlegend,legendgroup:P.legendgroup,visible:_.groupclick==="toggleitem"||P.visible}})}for(s=0;s<S[d].length;s++)S[d][s]=[S[d][s]]}return _._lgroupsLength=S.length,_._maxNameLength=c,S}},85167:function(Y,O,e){var M=e(73972),k=e(71828),a=k.pushUnique,_=!0;Y.exports=function(y,d,s){var t=d._fullLayout;if(!d._dragged&&!d._editing){var i,r=t.legend.itemclick,n=t.legend.itemdoubleclick,l=t.legend.groupclick;if(s===1&&r==="toggle"&&n==="toggleothers"&&_&&d.data&&d._context.showTips&&k.notifier(k._(d,"Double-click on legend to isolate one trace"),"long"),_=!1,s===1?i=r:s===2&&(i=n),i){var o=l==="togglegroup",u=t.hiddenlabels?t.hiddenlabels.slice():[],p=y.data()[0][0];if(!p.groupTitle||!p.noClick){var c=d._fullData,b=(t.shapes||[]).filter(function(ke){return ke.showlegend}),g=c.concat(b),h=p.trace;h._isShape&&(h=h._fullInput);var x,v,m,w,f,S=h.legendgroup,T={},E=[],L=[],C=[],P=(t.shapes||[]).map(function(ke){return ke._input}),R=!1,G=h.legend,I=h._fullInput;if(I&&I._isShape||!M.traceIs(h,"pie-like")){var H,N=S&&S.length,B=[];if(N)for(x=0;x<g.length;x++)(H=g[x]).visible&&H.legendgroup===S&&B.push(x);if(i==="toggle"){var V;switch(h.visible){case!0:V="legendonly";break;case!1:V=!1;break;case"legendonly":V=!0}if(N)if(o)for(x=0;x<g.length;x++){var q=g[x];q.visible!==!1&&q.legendgroup===S&&Se(q,V)}else Se(h,V);else Se(h,V)}else if(i==="toggleothers"){var te,$,K,Z,X=!0;for(x=0;x<g.length;x++)if(te=(Z=g[x])===h,$=Z.showlegend!==!0,!(te||$||N&&Z.legendgroup===S||Z.legend!==G||Z.visible!==!0||M.traceIs(Z,"notLegendIsolatable"))){X=!1;break}for(x=0;x<g.length;x++)if((Z=g[x]).visible!==!1&&Z.legend===G&&!M.traceIs(Z,"notLegendIsolatable"))switch(h.visible){case"legendonly":Se(Z,!0);break;case!0:K=!!X||"legendonly",te=Z===h,$=Z.showlegend!==!0&&!Z.legendgroup,Se(Z,!!(te||N&&Z.legendgroup===S||$)||K)}}for(x=0;x<L.length;x++)if(m=L[x]){var ee=m.constructUpdate(),ne=Object.keys(ee);for(v=0;v<ne.length;v++)w=ne[v],(T[w]=T[w]||[])[C[x]]=ee[w]}for(f=Object.keys(T),x=0;x<f.length;x++)for(w=f[x],v=0;v<E.length;v++)T[w].hasOwnProperty(v)||(T[w][v]=void 0);R?M.call("_guiUpdate",d,T,{shapes:P},E):M.call("_guiRestyle",d,T,E)}else{var re=p.label,ae=u.indexOf(re);if(i==="toggle")ae===-1?u.push(re):u.splice(ae,1);else if(i==="toggleothers"){var ue=ae!==-1,pe=[];for(x=0;x<d.calcdata.length;x++){var ge=d.calcdata[x];for(v=0;v<ge.length;v++){var we=ge[v].label;G===ge[0].trace.legend&&re!==we&&(u.indexOf(we)===-1&&(ue=!0),a(u,we),pe.push(we))}}if(!ue)for(var me=0;me<pe.length;me++){var ve=u.indexOf(pe[me]);ve!==-1&&u.splice(ve,1)}}M.call("_guiRelayout",d,"hiddenlabels",u)}}}}function Ie(ke,se){var oe=E.indexOf(ke),he=T.visible;return he||(he=T.visible=[]),E.indexOf(ke)===-1&&(E.push(ke),oe=E.length-1),he[oe]=se,oe}function Se(ke,se){if(!p.groupTitle||o){var oe,he=ke._fullInput||ke,Le=he._isShape,Me=he.index;if(Me===void 0&&(Me=he._index),M.hasTransform(he,"groupby")){var _e=L[Me];if(!_e){var De=M.getTransformIndices(he,"groupby"),Ne=De[De.length-1];_e=k.keyedContainer(he,"transforms["+Ne+"].styles","target","value.visible"),L[Me]=_e}var ce=_e.get(ke._group);ce===void 0&&(ce=!0),ce!==!1&&_e.set(ke._group,se),C[Me]=Ie(Me,he.visible!==!1)}else{var Te=he.visible!==!1&&se;Le?(oe=Te,P[Me].visible=oe,R=!0):Ie(Me,Te)}}}}},10130:function(Y,O){O.isGrouped=function(e){return(e.traceorder||"").indexOf("grouped")!==-1},O.isVertical=function(e){return e.orientation!=="h"},O.isReversed=function(e){return(e.traceorder||"").indexOf("reversed")!==-1}},2199:function(Y,O,e){Y.exports={moduleType:"component",name:"legend",layoutAttributes:e(33030),supplyLayoutDefaults:e(99017),draw:e(43969),style:e(53630)}},53630:function(Y,O,e){var M=e(39898),k=e(73972),a=e(71828),_=a.strTranslate,y=e(91424),d=e(7901),s=e(52075).extractOpts,t=e(34098),i=e(63463),r=e(53581).castOption,n=e(14928);function l(p,c){return(c?"radial":"horizontal")+(p?"":"reversed")}function o(p){var c=p[0].trace,b=c.contours,g=t.hasLines(c),h=t.hasMarkers(c),x=c.visible&&c.fill&&c.fill!=="none",v=!1,m=!1;if(b){var w=b.coloring;w==="lines"?v=!0:g=w==="none"||w==="heatmap"||b.showlines,b.type==="constraint"?x=b._operation!=="=":w!=="fill"&&w!=="heatmap"||(m=!0)}return{showMarker:h,showLine:g,showFill:x,showGradientLine:v,showGradientFill:m,anyLine:g||v,anyFill:x||m}}function u(p,c,b){return p&&a.isArrayOrTypedArray(p)?c:p>b?b:p}Y.exports=function(p,c,b){var g=c._fullLayout;b||(b=g.legend);var h=b.itemsizing==="constant",x=b.itemwidth,v=(x+2*n.itemGap)/2,m=_(v,0),w=function(T,E,L,C){var P;if(T+1)P=T;else{if(!(E&&E.width>0))return 0;P=E.width}return h?C:Math.min(P,L)};function f(T,E,L){var C=T[0].trace,P=C.marker||{},R=P.line||{},G=L?C.visible&&C.type===L:k.traceIs(C,"bar"),I=M.select(E).select("g.legendpoints").selectAll("path.legend"+L).data(G?[T]:[]);I.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),I.exit().remove(),I.each(function(H){var N=M.select(this),B=H[0],V=w(B.mlw,P.line,5,2);N.style("stroke-width",V+"px");var q=B.mcc;if(!b._inHover&&"mc"in B){var te=s(P),$=te.mid;$===void 0&&($=(te.max+te.min)/2),q=y.tryColorscale(P,"")($)}var K=q||B.mc||P.color,Z=P.pattern,X=Z&&y.getPatternAttr(Z.shape,0,"");if(X){var ee=y.getPatternAttr(Z.bgcolor,0,null),ne=y.getPatternAttr(Z.fgcolor,0,null),re=Z.fgopacity,ae=u(Z.size,8,10),ue=u(Z.solidity,.5,1),pe="legend-"+C.uid;N.call(y.pattern,"legend",c,pe,X,ae,ue,q,Z.fillmode,ee,ne,re)}else N.call(d.fill,K);V&&d.stroke(N,B.mlc||R.color)})}function S(T,E,L){var C=T[0],P=C.trace,R=L?P.visible&&P.type===L:k.traceIs(P,L),G=M.select(E).select("g.legendpoints").selectAll("path.legend"+L).data(R?[T]:[]);if(G.enter().append("path").classed("legend"+L,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),G.exit().remove(),G.size()){var I=P.marker||{},H=w(r(I.line.width,C.pts),I.line,5,2),N="pieLike",B=a.minExtend(P,{marker:{line:{width:H}}},N),V=a.minExtend(C,{trace:B},N);i(G,V,B,c)}}p.each(function(T){var E=M.select(this),L=a.ensureSingle(E,"g","layers");L.style("opacity",T[0].trace.opacity);var C=b.valign,P=T[0].lineHeight,R=T[0].height;if(C!=="middle"&&P&&R){var G={top:1,bottom:-1}[C]*(.5*(P-R+3));L.attr("transform",_(0,G))}else L.attr("transform",null);L.selectAll("g.legendfill").data([T]).enter().append("g").classed("legendfill",!0),L.selectAll("g.legendlines").data([T]).enter().append("g").classed("legendlines",!0);var I=L.selectAll("g.legendsymbols").data([T]);I.enter().append("g").classed("legendsymbols",!0),I.selectAll("g.legendpoints").data([T]).enter().append("g").classed("legendpoints",!0)}).each(function(T){var E,L=T[0].trace,C=[];if(L.visible)switch(L.type){case"histogram2d":case"heatmap":C=[["M-15,-2V4H15V-2Z"]],E=!0;break;case"choropleth":case"choroplethmapbox":C=[["M-6,-6V6H6V-6Z"]],E=!0;break;case"densitymapbox":C=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],E="radial";break;case"cone":C=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],E=!1;break;case"streamtube":C=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],E=!1;break;case"surface":C=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],E=!0;break;case"mesh3d":C=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!1;break;case"volume":C=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],E=!0;break;case"isosurface":C=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],E=!1}var P=M.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(C);P.enter().append("path").classed("legend3dandfriends",!0).attr("transform",m).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(R,G){var I,H=M.select(this),N=s(L),B=N.colorscale,V=N.reversescale;if(B){if(!E){var q=B.length;I=G===0?B[V?q-1:0][1]:G===1?B[V?0:q-1][1]:B[Math.floor((q-1)/2)][1]}}else{var te=L.vertexcolor||L.facecolor||L.color;I=a.isArrayOrTypedArray(te)?te[G]||te[0]:te}H.attr("d",R[0]),I?H.call(d.fill,I):H.call(function($){if($.size()){var K="legendfill-"+L.uid;y.gradient($,c,K,l(V,E==="radial"),B,"fill")}})})}).each(function(T){var E=T[0].trace,L=E.type==="waterfall";if(T[0]._distinct&&L){var C=T[0].trace[T[0].dir].marker;return T[0].mc=C.color,T[0].mlw=C.line.width,T[0].mlc=C.line.color,f(T,this,"waterfall")}var P=[];E.visible&&L&&(P=T[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var R=M.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(P);R.enter().append("path").classed("legendwaterfall",!0).attr("transform",m).style("stroke-miterlimit",1),R.exit().remove(),R.each(function(G){var I=M.select(this),H=E[G[0]].marker,N=w(void 0,H.line,5,2);I.attr("d",G[1]).style("stroke-width",N+"px").call(d.fill,H.color),N&&I.call(d.stroke,H.line.color)})}).each(function(T){f(T,this,"funnel")}).each(function(T){f(T,this)}).each(function(T){var E=T[0].trace,L=M.select(this).select("g.legendpoints").selectAll("path.legendbox").data(E.visible&&k.traceIs(E,"box-violin")?[T]:[]);L.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",m),L.exit().remove(),L.each(function(){var C=M.select(this);if(E.boxpoints!=="all"&&E.points!=="all"||d.opacity(E.fillcolor)!==0||d.opacity((E.line||{}).color)!==0){var P=w(void 0,E.line,5,2);C.style("stroke-width",P+"px").call(d.fill,E.fillcolor),P&&d.stroke(C,E.line.color)}else{var R=a.minExtend(E,{marker:{size:h?12:a.constrain(E.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});L.call(y.pointStyle,R,c)}})}).each(function(T){S(T,this,"funnelarea")}).each(function(T){S(T,this,"pie")}).each(function(T){var E,L,C=o(T),P=C.showFill,R=C.showLine,G=C.showGradientLine,I=C.showGradientFill,H=C.anyFill,N=C.anyLine,B=T[0],V=B.trace,q=s(V),te=q.colorscale,$=q.reversescale,K=t.hasMarkers(V)||!H?"M5,0":N?"M5,-2":"M5,-3",Z=M.select(this),X=Z.select(".legendfill").selectAll("path").data(P||I?[T]:[]);if(X.enter().append("path").classed("js-fill",!0),X.exit().remove(),X.attr("d",K+"h"+x+"v6h-"+x+"z").call(function(re){if(re.size())if(P)y.fillGroupStyle(re,c);else{var ae="legendfill-"+V.uid;y.gradient(re,c,ae,l($),te,"fill")}}),R||G){var ee=w(void 0,V.line,10,5);L=a.minExtend(V,{line:{width:ee}}),E=[a.minExtend(B,{trace:L})]}var ne=Z.select(".legendlines").selectAll("path").data(R||G?[E]:[]);ne.enter().append("path").classed("js-line",!0),ne.exit().remove(),ne.attr("d",K+(G?"l"+x+",0.0001":"h"+x)).call(R?y.lineGroupStyle:function(re){if(re.size()){var ae="legendline-"+V.uid;y.lineGroupStyle(re),y.gradient(re,c,ae,l($),te,"stroke")}})}).each(function(T){var E,L,C=o(T),P=C.anyFill,R=C.anyLine,G=C.showLine,I=C.showMarker,H=T[0],N=H.trace,B=!I&&!R&&!P&&t.hasText(N);function V(ne,re,ae,ue){var pe=a.nestedProperty(N,ne).get(),ge=a.isArrayOrTypedArray(pe)&&re?re(pe):pe;if(h&&ge&&ue!==void 0&&(ge=ue),ae){if(ge<ae[0])return ae[0];if(ge>ae[1])return ae[1]}return ge}function q(ne){return H._distinct&&H.index&&ne[H.index]?ne[H.index]:ne[0]}if(I||B||G){var te={},$={};if(I){te.mc=V("marker.color",q),te.mx=V("marker.symbol",q),te.mo=V("marker.opacity",a.mean,[.2,1]),te.mlc=V("marker.line.color",q),te.mlw=V("marker.line.width",a.mean,[0,5],2),$.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var K=V("marker.size",a.mean,[2,16],12);te.ms=K,$.marker.size=K}G&&($.line={width:V("line.width",q,[0,10],5)}),B&&(te.tx="Aa",te.tp=V("textposition",q),te.ts=10,te.tc=V("textfont.color",q),te.tf=V("textfont.family",q)),E=[a.minExtend(H,te)],(L=a.minExtend(N,$)).selectedpoints=null,L.texttemplate=null}var Z=M.select(this).select("g.legendpoints"),X=Z.selectAll("path.scatterpts").data(I?E:[]);X.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",m),X.exit().remove(),X.call(y.pointStyle,L,c),I&&(E[0].mrc=3);var ee=Z.selectAll("g.pointtext").data(B?E:[]);ee.enter().append("g").classed("pointtext",!0).append("text").attr("transform",m),ee.exit().remove(),ee.selectAll("text").call(y.textPointStyle,L,c)}).each(function(T){var E=T[0].trace,L=M.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(E.visible&&E.type==="candlestick"?[T,T]:[]);L.enter().append("path").classed("legendcandle",!0).attr("d",function(C,P){return P?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",m).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(C,P){var R=M.select(this),G=E[P?"increasing":"decreasing"],I=w(void 0,G.line,5,2);R.style("stroke-width",I+"px").call(d.fill,G.fillcolor),I&&d.stroke(R,G.line.color)})}).each(function(T){var E=T[0].trace,L=M.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(E.visible&&E.type==="ohlc"?[T,T]:[]);L.enter().append("path").classed("legendohlc",!0).attr("d",function(C,P){return P?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",m).style("stroke-miterlimit",1),L.exit().remove(),L.each(function(C,P){var R=M.select(this),G=E[P?"increasing":"decreasing"],I=w(void 0,G.line,5,2);R.style("fill","none").call(y.dashLine,G.line.dash,I),I&&d.stroke(R,G.line.color)})})}},42068:function(Y,O,e){e(93348),Y.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(Y,O,e){var M=e(73972),k=e(74875),a=e(41675),_=e(24255),y=e(34031).eraseActiveShape,d=e(71828),s=d._,t=Y.exports={};function i(g,h){var x,v,m=h.currentTarget,w=m.getAttribute("data-attr"),f=m.getAttribute("data-val")||!0,S=g._fullLayout,T={},E=a.list(g,null,!0),L=S._cartesianSpikesEnabled;if(w==="zoom"){var C,P=f==="in"?.5:2,R=(1+P)/2,G=(1-P)/2;for(v=0;v<E.length;v++)if(!(x=E[v]).fixedrange)if(C=x._name,f==="auto")T[C+".autorange"]=!0;else if(f==="reset")x._rangeInitial0===void 0&&x._rangeInitial1===void 0?T[C+".autorange"]=!0:x._rangeInitial0===void 0?(T[C+".autorange"]=x._autorangeInitial,T[C+".range"]=[null,x._rangeInitial1]):x._rangeInitial1===void 0?(T[C+".range"]=[x._rangeInitial0,null],T[C+".autorange"]=x._autorangeInitial):T[C+".range"]=[x._rangeInitial0,x._rangeInitial1],x._showSpikeInitial!==void 0&&(T[C+".showspikes"]=x._showSpikeInitial,L!=="on"||x._showSpikeInitial||(L="off"));else{var I=[x.r2l(x.range[0]),x.r2l(x.range[1])],H=[R*I[0]+G*I[1],R*I[1]+G*I[0]];T[C+".range[0]"]=x.l2r(H[0]),T[C+".range[1]"]=x.l2r(H[1])}}else w!=="hovermode"||f!=="x"&&f!=="y"||(f=S._isHoriz?"y":"x",m.setAttribute("data-val",f)),T[w]=f;S._cartesianSpikesEnabled=L,M.call("_guiRelayout",g,T)}function r(g,h){for(var x=h.currentTarget,v=x.getAttribute("data-attr"),m=x.getAttribute("data-val")||!0,w=g._fullLayout._subplots.gl3d||[],f={},S=v.split("."),T=0;T<w.length;T++)f[w[T]+"."+S[1]]=m;var E=m==="pan"?m:"zoom";f.dragmode=E,M.call("_guiRelayout",g,f)}function n(g,h){for(var x=h.currentTarget.getAttribute("data-attr"),v=x==="resetLastSave",m=x==="resetDefault",w=g._fullLayout,f=w._subplots.gl3d||[],S={},T=0;T<f.length;T++){var E,L=f[T],C=L+".camera",P=L+".aspectratio",R=L+".aspectmode",G=w[L]._scene;v?(S[C+".up"]=G.viewInitial.up,S[C+".eye"]=G.viewInitial.eye,S[C+".center"]=G.viewInitial.center,E=!0):m&&(S[C+".up"]=null,S[C+".eye"]=null,S[C+".center"]=null,E=!0),E&&(S[P+".x"]=G.viewInitial.aspectratio.x,S[P+".y"]=G.viewInitial.aspectratio.y,S[P+".z"]=G.viewInitial.aspectratio.z,S[R]=G.viewInitial.aspectmode)}M.call("_guiRelayout",g,S)}function l(g,h){var x=h.currentTarget,v=x._previousVal,m=g._fullLayout,w=m._subplots.gl3d||[],f=["xaxis","yaxis","zaxis"],S={},T={};if(v)T=v,x._previousVal=null;else{for(var E=0;E<w.length;E++){var L=w[E],C=m[L],P=L+".hovermode";S[P]=C.hovermode,T[P]=!1;for(var R=0;R<3;R++){var G=f[R],I=L+"."+G+".showspikes";T[I]=!1,S[I]=C[G].showspikes}}x._previousVal=S}return T}function o(g,h){for(var x=h.currentTarget,v=x.getAttribute("data-attr"),m=x.getAttribute("data-val")||!0,w=g._fullLayout,f=w._subplots.geo||[],S=0;S<f.length;S++){var T=f[S],E=w[T];if(v==="zoom"){var L=E.projection.scale,C=m==="in"?2*L:.5*L;M.call("_guiRelayout",g,T+".projection.scale",C)}}v==="reset"&&b(g,"geo")}function u(g){var h=g._fullLayout;return!h.hovermode&&(h._has("cartesian")?h._isHoriz?"y":"x":"closest")}function p(g){var h=u(g);M.call("_guiRelayout",g,"hovermode",h)}function c(g,h){for(var x=h.currentTarget.getAttribute("data-val"),v=g._fullLayout,m=v._subplots.mapbox||[],w={},f=0;f<m.length;f++){var S=m[f],T=v[S].zoom,E=x==="in"?1.05*T:T/1.05;w[S+".zoom"]=E}M.call("_guiRelayout",g,w)}function b(g,h){for(var x=g._fullLayout,v=x._subplots[h]||[],m={},w=0;w<v.length;w++)for(var f=v[w],S=x[f]._subplot.viewInitial,T=Object.keys(S),E=0;E<T.length;E++){var L=T[E];m[f+"."+L]=S[L]}M.call("_guiRelayout",g,m)}t.toImage={name:"toImage",title:function(g){var h=(g._context.toImageButtonOptions||{}).format||"png";return s(g,h==="png"?"Download plot as a png":"Download plot")},icon:_.camera,click:function(g){var h=g._context.toImageButtonOptions,x={format:h.format||"png"};d.notifier(s(g,"Taking snapshot - this may take a few seconds"),"long"),x.format!=="svg"&&d.isIE()&&(d.notifier(s(g,"IE only supports svg.  Changing format to svg."),"long"),x.format="svg"),["filename","width","height","scale"].forEach(function(v){v in h&&(x[v]=h[v])}),M.call("downloadImage",g,x).then(function(v){d.notifier(s(g,"Snapshot succeeded")+" - "+v,"long")}).catch(function(){d.notifier(s(g,"Sorry, there was a problem downloading your snapshot!"),"long")})}},t.sendDataToCloud={name:"sendDataToCloud",title:function(g){return s(g,"Edit in Chart Studio")},icon:_.disk,click:function(g){k.sendDataToCloud(g)}},t.editInChartStudio={name:"editInChartStudio",title:function(g){return s(g,"Edit in Chart Studio")},icon:_.pencil,click:function(g){k.sendDataToCloud(g)}},t.zoom2d={name:"zoom2d",_cat:"zoom",title:function(g){return s(g,"Zoom")},attr:"dragmode",val:"zoom",icon:_.zoombox,click:i},t.pan2d={name:"pan2d",_cat:"pan",title:function(g){return s(g,"Pan")},attr:"dragmode",val:"pan",icon:_.pan,click:i},t.select2d={name:"select2d",_cat:"select",title:function(g){return s(g,"Box Select")},attr:"dragmode",val:"select",icon:_.selectbox,click:i},t.lasso2d={name:"lasso2d",_cat:"lasso",title:function(g){return s(g,"Lasso Select")},attr:"dragmode",val:"lasso",icon:_.lasso,click:i},t.drawclosedpath={name:"drawclosedpath",title:function(g){return s(g,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:_.drawclosedpath,click:i},t.drawopenpath={name:"drawopenpath",title:function(g){return s(g,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:_.drawopenpath,click:i},t.drawline={name:"drawline",title:function(g){return s(g,"Draw line")},attr:"dragmode",val:"drawline",icon:_.drawline,click:i},t.drawrect={name:"drawrect",title:function(g){return s(g,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:_.drawrect,click:i},t.drawcircle={name:"drawcircle",title:function(g){return s(g,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:_.drawcircle,click:i},t.eraseshape={name:"eraseshape",title:function(g){return s(g,"Erase active shape")},icon:_.eraseshape,click:y},t.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:i},t.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:i},t.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(g){return s(g,"Autoscale")},attr:"zoom",val:"auto",icon:_.autoscale,click:i},t.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(g){return s(g,"Reset axes")},attr:"zoom",val:"reset",icon:_.home,click:i},t.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(g){return s(g,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:i},t.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(g){return s(g,"Compare data on hover")},attr:"hovermode",val:function(g){return g._fullLayout._isHoriz?"y":"x"},icon:_.tooltip_compare,gravity:"ne",click:i},t.zoom3d={name:"zoom3d",_cat:"zoom",title:function(g){return s(g,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:_.zoombox,click:r},t.pan3d={name:"pan3d",_cat:"pan",title:function(g){return s(g,"Pan")},attr:"scene.dragmode",val:"pan",icon:_.pan,click:r},t.orbitRotation={name:"orbitRotation",title:function(g){return s(g,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:_["3d_rotate"],click:r},t.tableRotation={name:"tableRotation",title:function(g){return s(g,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:_["z-axis"],click:r},t.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(g){return s(g,"Reset camera to default")},attr:"resetDefault",icon:_.home,click:n},t.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(g){return s(g,"Reset camera to last save")},attr:"resetLastSave",icon:_.movie,click:n},t.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(g,h){var x=l(g,h);M.call("_guiRelayout",g,x)}},t.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:o},t.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:o},t.resetGeo={name:"resetGeo",_cat:"reset",title:function(g){return s(g,"Reset")},attr:"reset",val:null,icon:_.autoscale,click:o},t.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:p},t.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:p},t.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:_.tooltip_basic,gravity:"ne",click:p},t.resetViewSankey={name:"resetSankeyGroup",title:function(g){return s(g,"Reset view")},icon:_.home,click:function(g){for(var h={"node.groups":[],"node.x":[],"node.y":[]},x=0;x<g._fullData.length;x++){var v=g._fullData[x]._viewInitial;h["node.groups"].push(v.node.groups.slice()),h["node.x"].push(v.node.x.slice()),h["node.y"].push(v.node.y.slice())}M.call("restyle",g,h)}},t.toggleHover={name:"toggleHover",title:function(g){return s(g,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:_.tooltip_basic,gravity:"ne",click:function(g,h){var x=l(g,h);x.hovermode=u(g),M.call("_guiRelayout",g,x)}},t.resetViews={name:"resetViews",title:function(g){return s(g,"Reset views")},icon:_.home,click:function(g,h){var x=h.currentTarget;x.setAttribute("data-attr","zoom"),x.setAttribute("data-val","reset"),i(g,h),x.setAttribute("data-attr","resetLastSave"),n(g,h),b(g,"geo"),b(g,"mapbox")}},t.toggleSpikelines={name:"toggleSpikelines",title:function(g){return s(g,"Toggle Spike Lines")},icon:_.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(g){var h=g._fullLayout,x=h._cartesianSpikesEnabled;h._cartesianSpikesEnabled=x==="on"?"off":"on",M.call("_guiRelayout",g,function(v){for(var m=v._fullLayout._cartesianSpikesEnabled==="on",w=a.list(v,null,!0),f={},S=0;S<w.length;S++){var T=w[S];f[T._name+".showspikes"]=!!m||T._showSpikeInitial}return f}(g))}},t.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(g){return s(g,"Reset view")},attr:"reset",icon:_.home,click:function(g){b(g,"mapbox")}},t.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(g){return s(g,"Zoom in")},attr:"zoom",val:"in",icon:_.zoom_plus,click:c},t.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(g){return s(g,"Zoom out")},attr:"zoom",val:"out",icon:_.zoom_minus,click:c}},93348:function(Y,O,e){var M=e(26023),k=Object.keys(M),a=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],_=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(a),y=[];k.forEach(function(d){(function(s){if(_.indexOf(s._cat||s.name)===-1){var t=s.name,i=(s._cat||s.name).toLowerCase();y.indexOf(t)===-1&&y.push(t),y.indexOf(i)===-1&&y.push(i)}})(M[d])}),y.sort(),Y.exports={DRAW_MODES:a,backButtons:_,foreButtons:y}},35750:function(Y,O,e){var M=e(71828),k=e(7901),a=e(44467),_=e(42068);Y.exports=function(y,d){var s=y.modebar||{},t=a.newContainer(d,"modebar");function i(n,l){return M.coerce(s,t,_,n,l)}i("orientation"),i("bgcolor",k.addOpacity(d.paper_bgcolor,.5));var r=k.contrast(k.rgb(d.modebar.bgcolor));i("color",k.addOpacity(r,.3)),i("activecolor",k.addOpacity(r,.7)),i("uirevision",d.uirevision),i("add"),i("remove")}},64168:function(Y,O,e){Y.exports={moduleType:"component",name:"modebar",layoutAttributes:e(42068),supplyLayoutDefaults:e(35750),manage:e(14192)}},14192:function(Y,O,e){var M=e(41675),k=e(34098),a=e(73972),_=e(23469).isUnifiedHover,y=e(37676),d=e(26023),s=e(93348).DRAW_MODES,t=e(71828).extendDeep;Y.exports=function(i){var r=i._fullLayout,n=i._context,l=r._modeBar;if(n.displayModeBar||n.watermark){if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var o,u=n.modeBarButtons;o=Array.isArray(u)&&u.length?function(p){for(var c=t([],p),b=0;b<c.length;b++)for(var g=c[b],h=0;h<g.length;h++){var x=g[h];if(typeof x=="string"){if(d[x]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));c[b][h]=d[x]}}return c}(u):!n.displayModeBar&&n.watermark?[]:function(p){var c=p._fullLayout,b=p._fullData,g=p._context;function h(pe,ge){if(typeof ge=="string"){if(ge.toLowerCase()===pe.toLowerCase())return!0}else{var we=ge.name,me=ge._cat||ge.name;if(we===pe||me===pe.toLowerCase())return!0}return!1}var x=c.modebar.add;typeof x=="string"&&(x=[x]);var v=c.modebar.remove;typeof v=="string"&&(v=[v]);var m=g.modeBarButtonsToAdd.concat(x.filter(function(pe){for(var ge=0;ge<g.modeBarButtonsToRemove.length;ge++)if(h(pe,g.modeBarButtonsToRemove[ge]))return!1;return!0})),w=g.modeBarButtonsToRemove.concat(v.filter(function(pe){for(var ge=0;ge<g.modeBarButtonsToAdd.length;ge++)if(h(pe,g.modeBarButtonsToAdd[ge]))return!1;return!0})),f=c._has("cartesian"),S=c._has("gl3d"),T=c._has("geo"),E=c._has("pie"),L=c._has("funnelarea"),C=c._has("gl2d"),P=c._has("ternary"),R=c._has("mapbox"),G=c._has("polar"),I=c._has("smith"),H=c._has("sankey"),N=function(pe){for(var ge=M.list({_fullLayout:pe},null,!0),we=0;we<ge.length;we++)if(!ge[we].fixedrange)return!1;return!0}(c),B=_(c.hovermode),V=[];function q(pe){if(pe.length){for(var ge=[],we=0;we<pe.length;we++){for(var me=pe[we],ve=d[me],Ie=ve.name.toLowerCase(),Se=(ve._cat||ve.name).toLowerCase(),ke=!1,se=0;se<w.length;se++){var oe=w[se].toLowerCase();if(oe===Ie||oe===Se){ke=!0;break}}ke||ge.push(d[me])}V.push(ge)}}var te=["toImage"];g.showEditInChartStudio?te.push("editInChartStudio"):g.showSendToCloud&&te.push("sendDataToCloud"),q(te);var $=[],K=[],Z=[],X=[];(f||C||E||L||P)+T+S+R+G+I>1?(K=["toggleHover"],Z=["resetViews"]):T?($=["zoomInGeo","zoomOutGeo"],K=["hoverClosestGeo"],Z=["resetGeo"]):S?(K=["hoverClosest3d"],Z=["resetCameraDefault3d","resetCameraLastSave3d"]):R?($=["zoomInMapbox","zoomOutMapbox"],K=["toggleHover"],Z=["resetViewMapbox"]):C?K=["hoverClosestGl2d"]:E?K=["hoverClosestPie"]:H?(K=["hoverClosestCartesian","hoverCompareCartesian"],Z=["resetViewSankey"]):K=["toggleHover"],f&&(K=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(pe){for(var ge=0;ge<pe.length;ge++)if(!a.traceIs(pe[ge],"noHover"))return!1;return!0}(b)||B)&&(K=[]),!f&&!C||N||($=["zoomIn2d","zoomOut2d","autoScale2d"],Z[0]!=="resetViews"&&(Z=["resetScale2d"])),S?X=["zoom3d","pan3d","orbitRotation","tableRotation"]:(f||C)&&!N||P?X=["zoom2d","pan2d"]:R||T?X=["pan2d"]:G&&(X=["zoom2d"]),function(pe){for(var ge=!1,we=0;we<pe.length&&!ge;we++){var me=pe[we];me._module&&me._module.selectPoints&&(a.traceIs(me,"scatter-like")?(k.hasMarkers(me)||k.hasText(me))&&(ge=!0):a.traceIs(me,"box-violin")&&me.boxpoints!=="all"&&me.points!=="all"||(ge=!0))}return ge}(b)&&X.push("select2d","lasso2d");var ee=[],ne=function(pe){ee.indexOf(pe)===-1&&K.indexOf(pe)!==-1&&ee.push(pe)};if(Array.isArray(m)){for(var re=[],ae=0;ae<m.length;ae++){var ue=m[ae];typeof ue=="string"?(ue=ue.toLowerCase(),s.indexOf(ue)!==-1?(c._has("mapbox")||c._has("cartesian"))&&X.push(ue):ue==="togglespikelines"?ne("toggleSpikelines"):ue==="togglehover"?ne("toggleHover"):ue==="hovercompare"?ne("hoverCompareCartesian"):ue==="hoverclosest"?(ne("hoverClosestCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie")):ue==="v1hovermode"&&(ne("toggleHover"),ne("hoverClosestCartesian"),ne("hoverCompareCartesian"),ne("hoverClosestGeo"),ne("hoverClosest3d"),ne("hoverClosestGl2d"),ne("hoverClosestPie"))):re.push(ue)}m=re}return q(X),q($.concat(Z)),q(ee),function(pe,ge){if(ge.length)if(Array.isArray(ge[0]))for(var we=0;we<ge.length;we++)pe.push(ge[we]);else pe.push(ge);return pe}(V,m)}(i),l?l.update(i,o):r._modeBar=y(i,o)}else l&&(l.destroy(),delete r._modeBar)}},37676:function(Y,O,e){var M=e(39898),k=e(92770),a=e(71828),_=e(24255),y=e(11506).version,d=new DOMParser;function s(i){this.container=i.container,this.element=document.createElement("div"),this.update(i.graphInfo,i.buttons),this.container.appendChild(this.element)}var t=s.prototype;t.update=function(i,r){this.graphInfo=i;var n=this.graphInfo._context,l=this.graphInfo._fullLayout,o="modebar-"+l._uid;this.element.setAttribute("id",o),this._uid=o,this.element.className="modebar",n.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),l.modebar.orientation==="v"&&(this.element.className+=" vertical",r=r.reverse());var u=l.modebar,p=n.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";a.deleteRelatedStyleRule(o),a.addRelatedStyleRule(o,p+"#"+o+" .modebar-group","background-color: "+u.bgcolor),a.addRelatedStyleRule(o,"#"+o+" .modebar-btn .icon path","fill: "+u.color),a.addRelatedStyleRule(o,"#"+o+" .modebar-btn:hover .icon path","fill: "+u.activecolor),a.addRelatedStyleRule(o,"#"+o+" .modebar-btn.active .icon path","fill: "+u.activecolor);var c=!this.hasButtons(r),b=this.hasLogo!==n.displaylogo,g=this.locale!==n.locale;if(this.locale=n.locale,(c||b||g)&&(this.removeAllButtons(),this.updateButtons(r),n.watermark||n.displaylogo)){var h=this.getLogo();n.watermark&&(h.className=h.className+" watermark"),l.modebar.orientation==="v"?this.element.insertBefore(h,this.element.childNodes[0]):this.element.appendChild(h),this.hasLogo=!0}this.updateActiveButton()},t.updateButtons=function(i){var r=this;this.buttons=i,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(n){var l=r.createGroup();n.forEach(function(o){var u=o.name;if(!u)throw new Error("must provide button 'name' in button config");if(r.buttonsNames.indexOf(u)!==-1)throw new Error("button name '"+u+"' is taken");r.buttonsNames.push(u);var p=r.createButton(o);r.buttonElements.push(p),l.appendChild(p)}),r.element.appendChild(l)})},t.createGroup=function(){var i=document.createElement("div");return i.className="modebar-group",i},t.createButton=function(i){var r=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var l=i.title;l===void 0?l=i.name:typeof l=="function"&&(l=l(this.graphInfo)),(l||l===0)&&n.setAttribute("data-title",l),i.attr!==void 0&&n.setAttribute("data-attr",i.attr);var o=i.val;if(o!==void 0&&(typeof o=="function"&&(o=o(this.graphInfo)),n.setAttribute("data-val",o)),typeof i.click!="function")throw new Error("must provide button 'click' function in button config");n.addEventListener("click",function(p){i.click(r.graphInfo,p),r.updateActiveButton(p.currentTarget)}),n.setAttribute("data-toggle",i.toggle||!1),i.toggle&&M.select(n).classed("active",!0);var u=i.icon;return typeof u=="function"?n.appendChild(u()):n.appendChild(this.createIcon(u||_.question)),n.setAttribute("data-gravity",i.gravity||"n"),n},t.createIcon=function(i){var r,n=k(i.height)?Number(i.height):i.ascent-i.descent,l="http://www.w3.org/2000/svg";if(i.path){(r=document.createElementNS(l,"svg")).setAttribute("viewBox",[0,0,i.width,n].join(" ")),r.setAttribute("class","icon");var o=document.createElementNS(l,"path");o.setAttribute("d",i.path),i.transform?o.setAttribute("transform",i.transform):i.ascent!==void 0&&o.setAttribute("transform","matrix(1 0 0 -1 0 "+i.ascent+")"),r.appendChild(o)}return i.svg&&(r=d.parseFromString(i.svg,"application/xml").childNodes[0]),r.setAttribute("height","1em"),r.setAttribute("width","1em"),r},t.updateActiveButton=function(i){var r=this.graphInfo._fullLayout,n=i!==void 0?i.getAttribute("data-attr"):null;this.buttonElements.forEach(function(l){var o=l.getAttribute("data-val")||!0,u=l.getAttribute("data-attr"),p=l.getAttribute("data-toggle")==="true",c=M.select(l);if(p)u===n&&c.classed("active",!c.classed("active"));else{var b=u===null?u:a.nestedProperty(r,u).get();c.classed("active",b===o)}})},t.hasButtons=function(i){var r=this.buttons;if(!r||i.length!==r.length)return!1;for(var n=0;n<i.length;++n){if(i[n].length!==r[n].length)return!1;for(var l=0;l<i[n].length;l++)if(i[n][l].name!==r[n][l].name)return!1}return!0},t.getLogo=function(){var i=this.createGroup(),r=document.createElement("a");return r.href="https://plotly.com/",r.target="_blank",r.setAttribute("data-title",a._(this.graphInfo,"Produced with Plotly.js")+" (v"+y+")"),r.className="modebar-btn plotlyjsicon modebar-btn--logo",r.appendChild(this.createIcon(_.newplotlylogo)),i.appendChild(r),i},t.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},t.destroy=function(){a.removeElement(this.container.querySelector(".modebar")),a.deleteRelatedStyleRule(this._uid)},Y.exports=function(i,r){var n=i._fullLayout,l=new s({graphInfo:i,container:n._modebardiv.node(),buttons:r});return n._privateplot&&M.select(l.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),l}},37113:function(Y,O,e){var M=e(41940),k=e(22399),a=(0,e(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});Y.exports={visible:{valType:"boolean",editType:"plot"},buttons:a,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:M({editType:"plot"}),bgcolor:{valType:"color",dflt:k.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:k.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(Y){Y.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(Y,O,e){var M=e(71828),k=e(7901),a=e(44467),_=e(85501),y=e(37113),d=e(89573);function s(t,i,r,n){var l=n.calendar;function o(p,c){return M.coerce(t,i,y.buttons,p,c)}if(o("visible")){var u=o("step");u!=="all"&&(!l||l==="gregorian"||u!=="month"&&u!=="year"?o("stepmode"):i.stepmode="backward",o("count")),o("label")}}Y.exports=function(t,i,r,n,l){var o=t.rangeselector||{},u=a.newContainer(i,"rangeselector");function p(g,h){return M.coerce(o,u,y,g,h)}if(p("visible",_(o,u,{name:"buttons",handleItemDefaults:s,calendar:l}).length>0)){var c=function(g,h,x){for(var v=x.filter(function(S){return h[S].anchor===g._id}),m=0,w=0;w<v.length;w++){var f=h[v[w]].domain;f&&(m=Math.max(f[1],m))}return[g.domain[0],m+d.yPad]}(i,r,n);p("x",c[0]),p("y",c[1]),M.noneOrAll(t,i,["x","y"]),p("xanchor"),p("yanchor"),M.coerceFont(p,"font",r.font);var b=p("bgcolor");p("activecolor",k.contrast(b,d.lightAmount,d.darkAmount)),p("bordercolor"),p("borderwidth")}}},21598:function(Y,O,e){var M=e(39898),k=e(73972),a=e(74875),_=e(7901),y=e(91424),d=e(71828),s=d.strTranslate,t=e(63893),i=e(41675),r=e(18783),n=r.LINE_SPACING,l=r.FROM_TL,o=r.FROM_BR,u=e(89573),p=e(70565);function c(h){return h._id}function b(h,x,v){var m=d.ensureSingle(h,"rect","selector-rect",function(w){w.attr("shape-rendering","crispEdges")});m.attr({rx:u.rx,ry:u.ry}),m.call(_.stroke,x.bordercolor).call(_.fill,function(w,f){return f._isActive||f._isHovered?w.activecolor:w.bgcolor}(x,v)).style("stroke-width",x.borderwidth+"px")}function g(h,x,v,m){var w,f;d.ensureSingle(h,"text","selector-text",function(S){S.attr("text-anchor","middle")}).call(y.font,x.font).text((w=v,f=m._fullLayout._meta,w.label?f?d.templateString(w.label,f):w.label:w.step==="all"?"all":w.count+w.step.charAt(0))).call(function(S){t.convertToTspans(S,m)})}Y.exports=function(h){var x=h._fullLayout._infolayer.selectAll(".rangeselector").data(function(v){for(var m=i.list(v,"x",!0),w=[],f=0;f<m.length;f++){var S=m[f];S.rangeselector&&S.rangeselector.visible&&w.push(S)}return w}(h),c);x.enter().append("g").classed("rangeselector",!0),x.exit().remove(),x.style({cursor:"pointer","pointer-events":"all"}),x.each(function(v){var m=M.select(this),w=v,f=w.rangeselector,S=m.selectAll("g.button").data(d.filterVisible(f.buttons));S.enter().append("g").classed("button",!0),S.exit().remove(),S.each(function(T){var E=M.select(this),L=p(w,T);T._isActive=function(C,P,R){if(P.step==="all")return C.autorange===!0;var G=Object.keys(R);return C.range[0]===R[G[0]]&&C.range[1]===R[G[1]]}(w,T,L),E.call(b,f,T),E.call(g,f,T,h),E.on("click",function(){h._dragged||k.call("_guiRelayout",h,L)}),E.on("mouseover",function(){T._isHovered=!0,E.call(b,f,T)}),E.on("mouseout",function(){T._isHovered=!1,E.call(b,f,T)})}),function(T,E,L,C,P){var R=0,G=0,I=L.borderwidth;E.each(function(){var te=M.select(this).select(".selector-text"),$=L.font.size*n,K=Math.max($*t.lineCount(te),16)+3;G=Math.max(G,K)}),E.each(function(){var te=M.select(this),$=te.select(".selector-rect"),K=te.select(".selector-text"),Z=K.node()&&y.bBox(K.node()).width,X=L.font.size*n,ee=t.lineCount(K),ne=Math.max(Z+10,u.minButtonWidth);te.attr("transform",s(I+R,I)),$.attr({x:0,y:0,width:ne,height:G}),t.positionText(K,ne/2,G/2-(ee-1)*X/2+3),R+=ne+5});var H=T._fullLayout._size,N=H.l+H.w*L.x,B=H.t+H.h*(1-L.y),V="left";d.isRightAnchor(L)&&(N-=R,V="right"),d.isCenterAnchor(L)&&(N-=R/2,V="center");var q="top";d.isBottomAnchor(L)&&(B-=G,q="bottom"),d.isMiddleAnchor(L)&&(B-=G/2,q="middle"),R=Math.ceil(R),G=Math.ceil(G),N=Math.round(N),B=Math.round(B),a.autoMargin(T,C+"-range-selector",{x:L.x,y:L.y,l:R*l[V],r:R*o[V],b:G*o[q],t:G*l[q]}),P.attr("transform",s(N,B))}(h,S,f,w._name,m)})}},70565:function(Y,O,e){var M=e(81041),k=e(71828).titleCase;Y.exports=function(a,_){var y=a._name,d={};if(_.step==="all")d[y+".autorange"]=!0;else{var s=function(t,i){var r,n=t.range,l=new Date(t.r2l(n[1])),o=i.step,u=M["utc"+k(o)],p=i.count;switch(i.stepmode){case"backward":r=t.l2r(+u.offset(l,-p));break;case"todate":var c=u.offset(l,-p);r=t.l2r(+u.ceil(c))}return[r,n[1]]}(a,_);d[y+".range[0]"]=s[0],d[y+".range[1]"]=s[1]}return d}},97218:function(Y,O,e){Y.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:e(37113)}}},layoutAttributes:e(37113),handleDefaults:e(28674),draw:e(21598)}},75148:function(Y,O,e){var M=e(22399);Y.exports={bgcolor:{valType:"color",dflt:M.background,editType:"plot"},bordercolor:{valType:"color",dflt:M.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(Y,O,e){var M=e(41675).list,k=e(71739).getAutoRange,a=e(73251);Y.exports=function(_){for(var y=M(_,"x",!0),d=0;d<y.length;d++){var s=y[d],t=s[a.name];t&&t.visible&&t.autorange&&(t._input.autorange=!0,t._input.range=t.range=k(_,s))}}},73251:function(Y){Y.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(Y,O,e){var M=e(71828),k=e(44467),a=e(41675),_=e(75148),y=e(47850);Y.exports=function(d,s,t){var i=d[t],r=s[t];if(i.rangeslider||s._requestRangeslider[r._id]){M.isPlainObject(i.rangeslider)||(i.rangeslider={});var n,l,o=i.rangeslider,u=k.newContainer(r,"rangeslider");if(m("visible")){m("bgcolor",s.plot_bgcolor),m("bordercolor"),m("borderwidth"),m("thickness"),m("autorange",!r.isValidRange(o.range)),m("range");var p=s._subplots;if(p)for(var c=p.cartesian.filter(function(f){return f.substr(0,f.indexOf("y"))===a.name2id(t)}).map(function(f){return f.substr(f.indexOf("y"),f.length)}),b=M.simpleMap(c,a.id2name),g=0;g<b.length;g++){var h=b[g];n=o[h]||{},l=k.newContainer(u,h,"yaxis");var x,v=s[h];n.range&&v.isValidRange(n.range)&&(x="fixed"),w("rangemode",x)!=="match"&&w("range",v.range.slice())}u._input=o}}function m(f,S){return M.coerce(o,u,_,f,S)}function w(f,S){return M.coerce(n,l,y,f,S)}}},72413:function(Y,O,e){var M=e(39898),k=e(73972),a=e(74875),_=e(71828),y=_.strTranslate,d=e(91424),s=e(7901),t=e(92998),i=e(93612),r=e(41675),n=e(28569),l=e(6964),o=e(73251);function u(x,v,m,w){var f=_.ensureSingle(x,"rect",o.bgClassName,function(L){L.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),S=w.borderwidth%2==0?w.borderwidth:w.borderwidth-1,T=-w._offsetShift,E=d.crispRound(v,w.borderwidth);f.attr({width:w._width+S,height:w._height+S,transform:y(T,T),"stroke-width":E}).call(s.stroke,w.bordercolor).call(s.fill,w.bgcolor)}function p(x,v,m,w){var f=v._fullLayout;_.ensureSingleById(f._topdefs,"clipPath",w._clipId,function(S){S.append("rect").attr({x:0,y:0})}).select("rect").attr({width:w._width,height:w._height})}function c(x,v,m,w){var f,S=v.calcdata,T=x.selectAll("g."+o.rangePlotClassName).data(m._subplotsWith,_.identity);T.enter().append("g").attr("class",function(E){return o.rangePlotClassName+" "+E}).call(d.setClipUrl,w._clipId,v),T.order(),T.exit().remove(),T.each(function(E,L){var C=M.select(this),P=L===0,R=r.getFromId(v,E,"y"),G=R._name,I=w[G],H={data:[],layout:{xaxis:{type:m.type,domain:[0,1],range:w.range.slice(),calendar:m.calendar},width:w._width,height:w._height,margin:{t:0,b:0,l:0,r:0}},_context:v._context};m.rangebreaks&&(H.layout.xaxis.rangebreaks=m.rangebreaks),H.layout[G]={type:R.type,domain:[0,1],range:I.rangemode!=="match"?I.range.slice():R.range.slice(),calendar:R.calendar},R.rangebreaks&&(H.layout[G].rangebreaks=R.rangebreaks),a.supplyDefaults(H);var N=H._fullLayout.xaxis,B=H._fullLayout[G];N.clearCalc(),N.setScale(),B.clearCalc(),B.setScale();var V={id:E,plotgroup:C,xaxis:N,yaxis:B,isRangePlot:!0};P?f=V:(V.mainplot="xy",V.mainplotinfo=f),i.rangePlot(v,V,function(q,te){for(var $=[],K=0;K<q.length;K++){var Z=q[K],X=Z[0].trace;X.xaxis+X.yaxis===te&&$.push(Z)}return $}(S,E))})}function b(x,v,m,w,f){_.ensureSingle(x,"rect",o.maskMinClassName,function(S){S.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",w._height).call(s.fill,o.maskColor),_.ensureSingle(x,"rect",o.maskMaxClassName,function(S){S.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",w._height).call(s.fill,o.maskColor),f.rangemode!=="match"&&(_.ensureSingle(x,"rect",o.maskMinOppAxisClassName,function(S){S.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",w._width).call(s.fill,o.maskOppAxisColor),_.ensureSingle(x,"rect",o.maskMaxOppAxisClassName,function(S){S.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",w._width).style("border-top",o.maskOppBorder).call(s.fill,o.maskOppAxisColor))}function g(x,v,m,w){v._context.staticPlot||_.ensureSingle(x,"rect",o.slideBoxClassName,function(f){f.attr({y:0,cursor:o.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:w._height,fill:o.slideBoxFill})}function h(x,v,m,w){var f=_.ensureSingle(x,"g",o.grabberMinClassName),S=_.ensureSingle(x,"g",o.grabberMaxClassName),T={x:0,width:o.handleWidth,rx:o.handleRadius,fill:s.background,stroke:s.defaultLine,"stroke-width":o.handleStrokeWidth,"shape-rendering":"crispEdges"},E={y:Math.round(w._height/4),height:Math.round(w._height/2)};_.ensureSingle(f,"rect",o.handleMinClassName,function(C){C.attr(T)}).attr(E),_.ensureSingle(S,"rect",o.handleMaxClassName,function(C){C.attr(T)}).attr(E);var L={width:o.grabAreaWidth,x:0,y:0,fill:o.grabAreaFill,cursor:v._context.staticPlot?void 0:o.grabAreaCursor};_.ensureSingle(f,"rect",o.grabAreaMinClassName,function(C){C.attr(L)}).attr("height",w._height),_.ensureSingle(S,"rect",o.grabAreaMaxClassName,function(C){C.attr(L)}).attr("height",w._height)}Y.exports=function(x){for(var v=x._fullLayout,m=v._rangeSliderData,w=0;w<m.length;w++){var f=m[w][o.name];f._clipId=f._id+"-"+v._uid}var S=v._infolayer.selectAll("g."+o.containerClassName).data(m,function(T){return T._name});S.exit().each(function(T){var E=T[o.name];v._topdefs.select("#"+E._clipId).remove()}).remove(),m.length!==0&&(S.enter().append("g").classed(o.containerClassName,!0).attr("pointer-events","all"),S.each(function(T){var E=M.select(this),L=T[o.name],C=v[r.id2name(T.anchor)],P=L[r.id2name(T.anchor)];if(L.range){var R,G=_.simpleMap(L.range,T.r2l),I=_.simpleMap(T.range,T.r2l);R=I[0]<I[1]?[Math.min(G[0],I[0]),Math.max(G[1],I[1])]:[Math.max(G[0],I[0]),Math.min(G[1],I[1])],L.range=L._input.range=_.simpleMap(R,T.l2r)}T.cleanRange("rangeslider.range");var H=v._size,N=T.domain;L._width=H.w*(N[1]-N[0]);var B=Math.round(H.l+H.w*N[0]),V=Math.round(H.t+H.h*(1-T._counterDomainMin)+(T.side==="bottom"?T._depth:0)+L._offsetShift+o.extraPad);E.attr("transform",y(B,V)),L._rl=_.simpleMap(L.range,T.r2l);var q=L._rl[0],te=L._rl[1],$=te-q;if(L.p2d=function(pe){return pe/L._width*$+q},L.d2p=function(pe){return(pe-q)/$*L._width},T.rangebreaks){var K=T.locateBreaks(q,te);if(K.length){var Z,X,ee=0;for(Z=0;Z<K.length;Z++)ee+=(X=K[Z]).max-X.min;var ne=L._width/(te-q-ee),re=[-ne*q];for(Z=0;Z<K.length;Z++)X=K[Z],re.push(re[re.length-1]-ne*(X.max-X.min));for(L.d2p=function(pe){for(var ge=re[0],we=0;we<K.length;we++){var me=K[we];if(pe>=me.max)ge=re[we+1];else if(pe<me.min)break}return ge+ne*pe},Z=0;Z<K.length;Z++)(X=K[Z]).pmin=L.d2p(X.min),X.pmax=L.d2p(X.max);L.p2d=function(pe){for(var ge=re[0],we=0;we<K.length;we++){var me=K[we];if(pe>=me.pmax)ge=re[we+1];else if(pe<me.pmin)break}return(pe-ge)/ne}}}if(P.rangemode!=="match"){var ae=C.r2l(P.range[0]),ue=C.r2l(P.range[1])-ae;L.d2pOppAxis=function(pe){return(pe-ae)/ue*L._height}}E.call(u,x,T,L).call(p,x,T,L).call(c,x,T,L).call(b,x,T,L,P).call(g,x,T,L).call(h,x,T,L),function(pe,ge,we,me){if(!ge._context.staticPlot){var ve=pe.select("rect."+o.slideBoxClassName).node(),Ie=pe.select("rect."+o.grabAreaMinClassName).node(),Se=pe.select("rect."+o.grabAreaMaxClassName).node();pe.on("mousedown",ke),pe.on("touchstart",ke)}function ke(){var se=M.event,oe=se.target,he=se.clientX||se.touches[0].clientX,Le=he-pe.node().getBoundingClientRect().left,Me=me.d2p(we._rl[0]),_e=me.d2p(we._rl[1]),De=n.coverSlip();function Ne(Te){var ye,Oe,Be,Fe=+(Te.clientX||Te.touches[0].clientX)-he;switch(oe){case ve:if(Be="ew-resize",Me+Fe>we._length||_e+Fe<0)return;ye=Me+Fe,Oe=_e+Fe;break;case Ie:if(Be="col-resize",Me+Fe>we._length)return;ye=Me+Fe,Oe=_e;break;case Se:if(Be="col-resize",_e+Fe<0)return;ye=Me,Oe=_e+Fe;break;default:Be="ew-resize",ye=Le,Oe=Le+Fe}if(Oe<ye){var Ge=Oe;Oe=ye,ye=Ge}me._pixelMin=ye,me._pixelMax=Oe,l(M.select(De),Be),function(Ze,et,ft,rt){function _t(lt){return ft.l2r(_.constrain(lt,rt._rl[0],rt._rl[1]))}var kt=_t(rt.p2d(rt._pixelMin)),wt=_t(rt.p2d(rt._pixelMax));window.requestAnimationFrame(function(){k.call("_guiRelayout",et,ft._name+".range",[kt,wt])})}(0,ge,we,me)}function ce(){De.removeEventListener("mousemove",Ne),De.removeEventListener("mouseup",ce),this.removeEventListener("touchmove",Ne),this.removeEventListener("touchend",ce),_.removeElement(De)}this.addEventListener("touchmove",Ne),this.addEventListener("touchend",ce),De.addEventListener("mousemove",Ne),De.addEventListener("mouseup",ce)}}(E,x,T,L),function(pe,ge,we,me,ve,Ie){var Se=o.handleWidth/2;function ke(Te){return _.constrain(Te,0,me._width)}function se(Te){return _.constrain(Te,0,me._height)}function oe(Te){return _.constrain(Te,-Se,me._width+Se)}var he=ke(me.d2p(we._rl[0])),Le=ke(me.d2p(we._rl[1]));if(pe.select("rect."+o.slideBoxClassName).attr("x",he).attr("width",Le-he),pe.select("rect."+o.maskMinClassName).attr("width",he),pe.select("rect."+o.maskMaxClassName).attr("x",Le).attr("width",me._width-Le),Ie.rangemode!=="match"){var Me=me._height-se(me.d2pOppAxis(ve._rl[1])),_e=me._height-se(me.d2pOppAxis(ve._rl[0]));pe.select("rect."+o.maskMinOppAxisClassName).attr("x",he).attr("height",Me).attr("width",Le-he),pe.select("rect."+o.maskMaxOppAxisClassName).attr("x",he).attr("y",_e).attr("height",me._height-_e).attr("width",Le-he),pe.select("rect."+o.slideBoxClassName).attr("y",Me).attr("height",_e-Me)}var De=.5,Ne=Math.round(oe(he-Se))-De,ce=Math.round(oe(Le-Se))+De;pe.select("g."+o.grabberMinClassName).attr("transform",y(Ne,De)),pe.select("g."+o.grabberMaxClassName).attr("transform",y(ce,De))}(E,0,T,L,C,P),T.side==="bottom"&&t.draw(x,T._id+"title",{propContainer:T,propName:T._name+".title",placeholder:v._dfltTitle.x,attributes:{x:T._offset+T._length/2,y:V+L._height+L._offsetShift+10+1.5*T.title.font.size,"text-anchor":"middle"}})}))}},549:function(Y,O,e){var M=e(41675),k=e(63893),a=e(73251),_=e(18783).LINE_SPACING,y=a.name;function d(s){var t=s&&s[y];return t&&t.visible}O.isVisible=d,O.makeData=function(s){var t=M.list({_fullLayout:s},"x",!0),i=s.margin,r=[];if(!s._has("gl2d"))for(var n=0;n<t.length;n++){var l=t[n];if(d(l)){r.push(l);var o=l[y];o._id=y+l._id,o._height=(s.height-i.b-i.t)*o.thickness,o._offsetShift=Math.floor(o.borderwidth/2)}}s._rangeSliderData=r},O.autoMarginOpts=function(s,t){var i=s._fullLayout,r=t[y],n=t._id.charAt(0),l=0,o=0;return t.side==="bottom"&&(l=t._depth,t.title.text!==i._dfltTitle[n]&&(o=1.5*t.title.font.size+10+r._offsetShift,o+=(t.title.text.match(k.BR_TAG_ALL)||[]).length*t.title.font.size*_)),{x:0,y:t._counterDomainMin,l:0,r:0,t:0,b:r._height+l+Math.max(i.margin.b,o),pad:a.extraPad+2*r._offsetShift}}},13137:function(Y,O,e){var M=e(71828),k=e(75148),a=e(47850),_=e(549);Y.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:M.extendFlat({},k,{yaxis:a})}}},layoutAttributes:e(75148),handleDefaults:e(26377),calcAutorange:e(88443),draw:e(72413),isVisible:_.isVisible,makeData:_.makeData,autoMarginOpts:_.autoMarginOpts}},47850:function(Y){Y.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(Y,O,e){var M=e(50215),k=e(82196).line,a=e(79952).P,_=e(1426).extendFlat,y=e(30962).overrideAll,d=e(44467).templatedArray;e(24695),Y.exports=y(d("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:_({},M.xref,{}),yref:_({},M.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:k.color,width:_({},k.width,{min:1,dflt:1}),dash:_({},a,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(Y){Y.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(Y,O,e){var M=e(71828),k=e(89298),a=e(85501),_=e(8389),y=e(30477);function d(s,t,i){function r(E,L){return M.coerce(s,t,_,E,L)}var n=r("path"),l=r("type",n?"path":"rect")!=="path";l&&delete t.path,r("opacity"),r("line.color"),r("line.width"),r("line.dash");for(var o=["x","y"],u=0;u<2;u++){var p,c,b,g=o[u],h={_fullLayout:i},x=k.coerceRef(s,t,h,g);if((p=k.getFromId(h,x))._selectionIndices.push(t._index),b=y.rangeToShapePosition(p),c=y.shapePositionToRange(p),l){var v=g+"0",m=g+"1",w=s[v],f=s[m];s[v]=c(s[v],!0),s[m]=c(s[m],!0),k.coercePosition(t,h,r,x,v),k.coercePosition(t,h,r,x,m);var S=t[v],T=t[m];S!==void 0&&T!==void 0&&(t[v]=b(S),t[m]=b(T),s[v]=w,s[m]=f)}}l&&M.noneOrAll(s,t,["x0","x1","y0","y1"])}Y.exports=function(s,t){a(s,t,{name:"selections",handleItemDefaults:d});for(var i=t.selections,r=0;r<i.length;r++){var n=i[r];n&&n.path===void 0&&(n.x0!==void 0&&n.x1!==void 0&&n.y0!==void 0&&n.y1!==void 0||(t.selections[r]=null))}}},32485:function(Y,O,e){var M=e(60165).readPaths,k=e(42359),a=e(51873).clearOutlineControllers,_=e(7901),y=e(91424),d=e(44467).arrayEditor,s=e(30477),t=s.getPathString;function i(u){var p=u._fullLayout;for(var c in a(u),p._selectionLayer.selectAll("path").remove(),p._plots){var b=p._plots[c].selectionLayer;b&&b.selectAll("path").remove()}for(var g=0;g<p.selections.length;g++)n(u,g)}function r(u){return u._context.editSelection}function n(u,p){u._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+p+'"]').remove();var c=s.makeSelectionsOptionsAndPlotinfo(u,p),b=c.options,g=c.plotinfo;b._input&&function(h){var x=t(u,b),v={"data-index":p,"fill-rule":"evenodd",d:x},m=b.opacity,w="rgba(0,0,0,0)",f=b.line.color||_.contrast(u._fullLayout.plot_bgcolor),S=b.line.width,T=b.line.dash;S||(S=5,T="solid");var E=r(u)&&u._fullLayout._activeSelectionIndex===p;E&&(w=u._fullLayout.activeselection.fillcolor,m=u._fullLayout.activeselection.opacity);for(var L=[],C=1;C>=0;C--){var P=h.append("path").attr(v).style("opacity",C?.1:m).call(_.stroke,f).call(_.fill,w).call(y.dashLine,C?"solid":T,C?4+S:S);if(l(P,u,b),E){var R=d(u.layout,"selections",b);P.style({cursor:"move"});var G={element:P.node(),plotinfo:g,gd:u,editHelpers:R,isActiveSelection:!0},I=M(x,u);k(I,P,G)}else P.style("pointer-events",C?"all":"none");L[C]=P}var H=L[0];L[1].node().addEventListener("click",function(){return function(N,B){if(r(N)){var V=+B.node().getAttribute("data-index");if(V>=0){if(V===N._fullLayout._activeSelectionIndex)return void o(N);N._fullLayout._activeSelectionIndex=V,N._fullLayout._deactivateSelection=o,i(N)}}}(u,H)})}(u._fullLayout._selectionLayer)}function l(u,p,c){var b=c.xref+c.yref;y.setClipUrl(u,"clip"+p._fullLayout._uid+b,p)}function o(u){r(u)&&u._fullLayout._activeSelectionIndex>=0&&(a(u),delete u._fullLayout._activeSelectionIndex,i(u))}Y.exports={draw:i,drawOne:n,activateLastSelection:function(u){if(r(u)){var p=u._fullLayout.selections.length-1;u._fullLayout._activeSelectionIndex=p,u._fullLayout._deactivateSelection=o,i(u)}}}},53777:function(Y,O,e){var M=e(79952).P,k=e(1426).extendFlat;Y.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:k({},M,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(Y){Y.exports=function(O,e,M){M("newselection.mode"),M("newselection.line.width")&&(M("newselection.line.color"),M("newselection.line.dash")),M("activeselection.fillcolor"),M("activeselection.opacity")}},35855:function(Y,O,e){var M=e(64505).selectMode,k=e(51873).clearOutline,a=e(60165),_=a.readPaths,y=a.writePaths,d=a.fixDatesForPaths;Y.exports=function(s,t){if(s.length){var i=s[0][0];if(i){var r=i.getAttribute("d"),n=t.gd,l=n._fullLayout.newselection,o=t.plotinfo,u=o.xaxis,p=o.yaxis,c=t.isActiveSelection,b=t.dragmode,g=(n.layout||{}).selections||[];if(!M(b)&&c!==void 0){var h=n._fullLayout._activeSelectionIndex;if(h<g.length)switch(n._fullLayout.selections[h].type){case"rect":b="select";break;case"path":b="lasso"}}var x,v=_(r,n,o,c),m={xref:u._id,yref:p._id,opacity:l.opacity,line:{color:l.line.color,width:l.line.width,dash:l.line.dash}};v.length===1&&(x=v[0]),x&&x.length===5&&b==="select"?(m.type="rect",m.x0=x[0][1],m.y0=x[0][2],m.x1=x[2][1],m.y1=x[2][2]):(m.type="path",u&&p&&d(v,u,p),m.path=y(v),x=null),k(n);for(var w=t.editHelpers,f=(w||{}).modifyItem,S=[],T=0;T<g.length;T++){var E=n._fullLayout.selections[T];if(E){if(S[T]=E._input,c!==void 0&&T===n._fullLayout._activeSelectionIndex){var L=m;switch(E.type){case"rect":f("x0",L.x0),f("x1",L.x1),f("y0",L.y0),f("y1",L.y1);break;case"path":f("path",L.path)}}}else S[T]=E}return c===void 0?(S.push(m),S):w?w.getUpdateObj():{}}}}},75549:function(Y,O,e){var M=e(71828).strTranslate;function k(a,_){switch(a.type){case"log":return a.p2d(_);case"date":return a.p2r(_,0,a.calendar);default:return a.p2r(_)}}Y.exports={p2r:k,r2p:function(a,_){switch(a.type){case"log":return a.d2p(_);case"date":return a.r2p(_,0,a.calendar);default:return a.r2p(_)}},axValue:function(a){var _=a._id.charAt(0)==="y"?1:0;return function(y){return k(a,y[_])}},getTransform:function(a){return M(a.xaxis._offset,a.yaxis._offset)}}},47322:function(Y,O,e){var M=e(32485),k=e(3937);Y.exports={moduleType:"component",name:"selections",layoutAttributes:e(8389),supplyLayoutDefaults:e(59402),supplyDrawNewSelectionDefaults:e(90849),includeBasePlot:e(76325)("selections"),draw:M.draw,drawOne:M.drawOne,reselect:k.reselect,prepSelect:k.prepSelect,clearOutline:k.clearOutline,clearSelectionsCache:k.clearSelectionsCache,selectOnClick:k.selectOnClick}},3937:function(Y,O,e){var M=e(52142),k=e(38258),a=e(73972),_=e(91424).dashStyle,y=e(7901),d=e(30211),s=e(23469).makeEventData,t=e(64505),i=t.freeMode,r=t.rectMode,n=t.drawMode,l=t.openMode,o=t.selectMode,u=e(30477),p=e(21459),c=e(42359),b=e(51873).clearOutline,g=e(60165),h=g.handleEllipse,x=g.readPaths,v=e(90551).newShapes,m=e(35855),w=e(32485).activateLastSelection,f=e(71828),S=f.sorterAsc,T=e(61082),E=e(79990),L=e(41675).getFromId,C=e(33306),P=e(61549).redrawReglTraces,R=e(34122),G=R.MINSELECT,I=T.filter,H=T.tester,N=e(75549),B=N.p2r,V=N.axValue,q=N.getTransform;function te(ce){return ce.subplot!==void 0}function $(ce,Te,ye,Oe,Be,Fe,Ge){var Ze,et,ft,rt,_t,kt,wt,lt,ut,Et=Te._hoverdata,Ot=Te._fullLayout.clickmode.indexOf("event")>-1,zt=[];if(function($e){return $e&&Array.isArray($e)&&$e[0].hoverOnBox!==!0}(Et)){ee(ce,Te,Fe);var Lt=function($e,ct){var at,Re,je=$e[0],st=-1,ot=[];for(Re=0;Re<ct.length;Re++)if(at=ct[Re],je.fullData._expandedIndex===at.cd[0].trace._expandedIndex){if(je.hoverOnBox===!0)break;je.pointNumber!==void 0?st=je.pointNumber:je.binNumber!==void 0&&(st=je.binNumber,ot=je.pointNumbers);break}return{pointNumber:st,pointNumbers:ot,searchInfo:at}}(Et,Ze=ae(Te,ye,Oe,Be));if(Lt.pointNumbers.length>0?function($e,ct){var at,Re,je,st=[];for(je=0;je<$e.length;je++)(at=$e[je]).cd[0].trace.selectedpoints&&at.cd[0].trace.selectedpoints.length>0&&st.push(at);if(st.length===1&&st[0]===ct.searchInfo&&(Re=ct.searchInfo.cd[0].trace).selectedpoints.length===ct.pointNumbers.length){for(je=0;je<ct.pointNumbers.length;je++)if(Re.selectedpoints.indexOf(ct.pointNumbers[je])<0)return!1;return!0}return!1}(Ze,Lt):function($e){var ct,at,Re=0;for(at=0;at<$e.length;at++)if((ct=$e[at].cd[0].trace).selectedpoints&&(ct.selectedpoints.length>1||(Re+=ct.selectedpoints.length)>1))return!1;return Re===1}(Ze)&&(kt=pe(Lt))){for(Ge&&Ge.remove(),ut=0;ut<Ze.length;ut++)(et=Ze[ut])._module.selectPoints(et,!1);ge(Te,Ze),ne(Fe),Ot&&Ne(Te)}else{for(wt=ce.shiftKey&&(kt!==void 0?kt:pe(Lt)),ft=function($e,ct,at){return{pointNumber:$e,searchInfo:ct,subtract:!!at}}(Lt.pointNumber,Lt.searchInfo,wt),rt=X(Fe.selectionDefs.concat([ft])),ut=0;ut<Ze.length;ut++)if(_t=me(Ze[ut]._module.selectPoints(Ze[ut],rt),Ze[ut]),zt.length)for(var Je=0;Je<_t.length;Je++)zt.push(_t[Je]);else zt=_t;if(ge(Te,Ze,lt={points:zt}),ft&&Fe&&Fe.selectionDefs.push(ft),Ge){var Qe=Fe.mergedPolygons,qe=l(Fe.dragmode);c(ve(Qe,qe),Ge,Fe)}Ot&&De(Te,lt)}}}function K(ce){return"pointNumber"in ce&&"searchInfo"in ce}function Z(ce){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Te,ye,Oe,Be){var Fe=ce.searchInfo.cd[0].trace._expandedIndex;return Be.cd[0].trace._expandedIndex===Fe&&Oe===ce.pointNumber},isRect:!1,degenerate:!1,subtract:!!ce.subtract}}function X(ce){if(ce.length){for(var Te=[],ye=K(ce[0])?0:ce[0][0][0],Oe=ye,Be=K(ce[0])?0:ce[0][0][1],Fe=Be,Ge=0;Ge<ce.length;Ge++)if(K(ce[Ge]))Te.push(Z(ce[Ge]));else{var Ze=H(ce[Ge]);Ze.subtract=!!ce[Ge].subtract,Te.push(Ze),ye=Math.min(ye,Ze.xmin),Oe=Math.max(Oe,Ze.xmax),Be=Math.min(Be,Ze.ymin),Fe=Math.max(Fe,Ze.ymax)}return{xmin:ye,xmax:Oe,ymin:Be,ymax:Fe,pts:[],contains:function(et,ft,rt,_t){for(var kt=!1,wt=0;wt<Te.length;wt++)Te[wt].contains(et,ft,rt,_t)&&(kt=!Te[wt].subtract);return kt},isRect:!1,degenerate:!1}}}function ee(ce,Te,ye){var Oe=Te._fullLayout,Be=ye.plotinfo,Fe=ye.dragmode,Ge=Oe._lastSelectedSubplot&&Oe._lastSelectedSubplot===Be.id,Ze=(ce.shiftKey||ce.altKey)&&!(n(Fe)&&l(Fe));Ge&&Ze&&Be.selection&&Be.selection.selectionDefs&&!ye.selectionDefs?(ye.selectionDefs=Be.selection.selectionDefs,ye.mergedPolygons=Be.selection.mergedPolygons):Ze&&Be.selection||ne(ye),Ge||(b(Te),Oe._lastSelectedSubplot=Be.id)}function ne(ce,Te){var ye=ce.dragmode,Oe=ce.plotinfo,Be=ce.gd;(function(_t){return _t._fullLayout._activeShapeIndex>=0})(Be)&&Be._fullLayout._deactivateShape(Be),function(_t){return _t._fullLayout._activeSelectionIndex>=0}(Be)&&Be._fullLayout._deactivateSelection(Be);var Fe=Be._fullLayout._zoomlayer,Ge=n(ye),Ze=o(ye);if(Ge||Ze){var et,ft,rt=Fe.selectAll(".select-outline-"+Oe.id);rt&&Be._fullLayout._outlining&&(Ge&&(et=v(rt,ce)),et&&a.call("_guiRelayout",Be,{shapes:et}),Ze&&!te(ce)&&(ft=m(rt,ce)),ft&&(Be._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",Be,{selections:ft}).then(function(){Te&&w(Be)})),Be._fullLayout._outlining=!1)}Oe.selection={},Oe.selection.selectionDefs=ce.selectionDefs=[],Oe.selection.mergedPolygons=ce.mergedPolygons=[]}function re(ce){return ce._id}function ae(ce,Te,ye,Oe){if(!ce.calcdata)return[];var Be,Fe,Ge,Ze=[],et=Te.map(re),ft=ye.map(re);for(Ge=0;Ge<ce.calcdata.length;Ge++)if((Fe=(Be=ce.calcdata[Ge])[0].trace).visible===!0&&Fe._module&&Fe._module.selectPoints)if(!te({subplot:Oe})||Fe.subplot!==Oe&&Fe.geo!==Oe)if(Fe.type==="splom"){if(Fe._xaxes[et[0]]&&Fe._yaxes[ft[0]]){var rt=ue(Fe._module,Be,Te[0],ye[0]);rt.scene=ce._fullLayout._splomScenes[Fe.uid],Ze.push(rt)}}else if(Fe.type==="sankey"){var _t=ue(Fe._module,Be,Te[0],ye[0]);Ze.push(_t)}else{if(et.indexOf(Fe.xaxis)===-1||ft.indexOf(Fe.yaxis)===-1)continue;Ze.push(ue(Fe._module,Be,L(ce,Fe.xaxis),L(ce,Fe.yaxis)))}else Ze.push(ue(Fe._module,Be,Te[0],ye[0]));return Ze}function ue(ce,Te,ye,Oe){return{_module:ce,cd:Te,xaxis:ye,yaxis:Oe}}function pe(ce){var Te=ce.searchInfo.cd[0].trace,ye=ce.pointNumber,Oe=ce.pointNumbers,Be=Oe.length>0?Oe[0]:ye;return!!Te.selectedpoints&&Te.selectedpoints.indexOf(Be)>-1}function ge(ce,Te,ye){var Oe,Be;for(Oe=0;Oe<Te.length;Oe++){var Fe=Te[Oe].cd[0].trace._fullInput,Ge=ce._fullLayout._tracePreGUI[Fe.uid]||{};Ge.selectedpoints===void 0&&(Ge.selectedpoints=Fe._input.selectedpoints||null)}if(ye){var Ze=ye.points||[];for(Oe=0;Oe<Te.length;Oe++)(Be=Te[Oe].cd[0].trace)._input.selectedpoints=Be._fullInput.selectedpoints=[],Be._fullInput!==Be&&(Be.selectedpoints=[]);for(var et=0;et<Ze.length;et++){var ft=Ze[et],rt=ft.data,_t=ft.fullData,kt=ft.pointIndex,wt=ft.pointIndices;wt?([].push.apply(rt.selectedpoints,wt),Be._fullInput!==Be&&[].push.apply(_t.selectedpoints,wt)):(rt.selectedpoints.push(kt),Be._fullInput!==Be&&_t.selectedpoints.push(kt))}}else for(Oe=0;Oe<Te.length;Oe++)delete(Be=Te[Oe].cd[0].trace).selectedpoints,delete Be._input.selectedpoints,Be._fullInput!==Be&&delete Be._fullInput.selectedpoints;(function(lt,ut){for(var Et=!1,Ot=0;Ot<ut.length;Ot++){var zt=ut[Ot],Lt=zt.cd;a.traceIs(Lt[0].trace,"regl")&&(Et=!0);var Je=zt._module,Qe=Je.styleOnSelect||Je.style;Qe&&(Qe(lt,Lt,Lt[0].node3),Lt[0].nodeRangePlot3&&Qe(lt,Lt,Lt[0].nodeRangePlot3))}Et&&(C(lt),P(lt))})(ce,Te)}function we(ce,Te,ye){for(var Oe=(ye?M.difference:M.union)({regions:ce},{regions:[Te]}).regions.reverse(),Be=0;Be<Oe.length;Be++){var Fe=Oe[Be];Fe.subtract=he(Fe,Oe.slice(0,Be))}return Oe}function me(ce,Te){if(Array.isArray(ce))for(var ye=Te.cd,Oe=Te.cd[0].trace,Be=0;Be<ce.length;Be++)ce[Be]=s(ce[Be],Oe,ye);return ce}function ve(ce,Te){for(var ye=[],Oe=0;Oe<ce.length;Oe++){ye[Oe]=[];for(var Be=0;Be<ce[Oe].length;Be++){ye[Oe][Be]=[],ye[Oe][Be][0]=Be?"L":"M";for(var Fe=0;Fe<ce[Oe][Be].length;Fe++)ye[Oe][Be].push(ce[Oe][Be][Fe])}Te||ye[Oe].push(["Z",ye[Oe][0][1],ye[Oe][0][2]])}return ye}function Ie(ce,Te){for(var ye,Oe,Be=[],Fe=[],Ge=0;Ge<Te.length;Ge++){var Ze=Te[Ge];Oe=Ze._module.selectPoints(Ze,ce),Fe.push(Oe),ye=me(Oe,Ze),Be=Be.concat(ye)}return Be}function Se(ce,Te,ye,Oe,Be){var Fe,Ge,Ze,et=!!Oe;Be&&(Fe=Be.plotinfo,Ge=Be.xaxes[0]._id,Ze=Be.yaxes[0]._id);var ft=[],rt=[],_t=oe(ce),kt=ce._fullLayout;if(Fe){var wt=kt._zoomlayer,lt=kt.dragmode,ut=n(lt),Et=o(lt);if(ut||Et){var Ot=L(ce,Ge,"x"),zt=L(ce,Ze,"y");if(Ot&&zt){var Lt=wt.selectAll(".select-outline-"+Fe.id);if(Lt&&ce._fullLayout._outlining&&Lt.length){for(var Je=Lt[0][0].getAttribute("d"),Qe=x(Je,ce,Fe),qe=[],$e=0;$e<Qe.length;$e++){for(var ct=Qe[$e],at=[],Re=0;Re<ct.length;Re++)at.push([Le(Ot,ct[Re][1]),Le(zt,ct[Re][2])]);at.xref=Ge,at.yref=Ze,at.subtract=he(at,qe),qe.push(at)}_t=_t.concat(qe)}}}}var je=Ge&&Ze?[Ge+Ze]:kt._subplots.cartesian;(function(Tn){var Pn=Tn.calcdata;if(Pn)for(var yn=0;yn<Pn.length;yn++){var Rn=Pn[yn][0].trace,Zn=Tn._fullLayout._splomScenes;if(Zn){var ir=Zn[Rn.uid];ir&&(ir.selectBatch=[])}}})(ce);for(var st={},ot=0;ot<je.length;ot++){var xt=je[ot],mt=xt.indexOf("y"),bt=xt.slice(0,mt),dt=xt.slice(mt),St=Ge&&Ze?ye:void 0;if(St=se(_t,bt,dt,St)){var gt=Oe;if(!et){var vt=L(ce,bt,"x"),Mt=L(ce,dt,"y");gt=ae(ce,[vt],[Mt],xt);for(var Bt=0;Bt<gt.length;Bt++){var Nt=gt[Bt],qt=Nt.cd[0],an=qt.trace;if(Nt._module.name==="scattergl"&&!qt.t.xpx){var Gt=an.x,Yt=an.y,en=an._length;qt.t.xpx=[],qt.t.ypx=[];for(var bn=0;bn<en;bn++)qt.t.xpx[bn]=vt.c2p(Gt[bn]),qt.t.ypx[bn]=Mt.c2p(Yt[bn])}Nt._module.name==="splom"&&(st[an.uid]||(st[an.uid]=!0))}}var On=Ie(St,gt);ft=ft.concat(On),rt=rt.concat(gt)}}var gn={points:ft};ge(ce,rt,gn);var Xt=kt.clickmode.indexOf("event")>-1&&Te;if(!Fe&&Te){var ln=oe(ce,!0);if(ln.length){var nn=ln[0].xref,hn=ln[0].yref;if(nn&&hn){var mn=Me(ln);_e([L(ce,nn,"x"),L(ce,hn,"y")])(gn,mn)}}ce._fullLayout._noEmitSelectedAtStart?ce._fullLayout._noEmitSelectedAtStart=!1:Xt&&De(ce,gn),kt._reselect=!1}if(!Fe&&kt._deselect){var Mn=kt._deselect;(function(Tn,Pn,yn){for(var Rn=0;Rn<yn.length;Rn++){var Zn=yn[Rn];if(Zn.xaxis&&Zn.xaxis._id===Tn&&Zn.yaxis&&Zn.yaxis._id===Pn)return!0}return!1})(Ge=Mn.xref,Ze=Mn.yref,rt)||ke(ce,Ge,Ze,Oe),Xt&&(gn.points.length?De(ce,gn):Ne(ce)),kt._deselect=!1}return{eventData:gn,selectionTesters:ye}}function ke(ce,Te,ye,Oe){Oe=ae(ce,[L(ce,Te,"x")],[L(ce,ye,"y")],Te+ye);for(var Be=0;Be<Oe.length;Be++){var Fe=Oe[Be];Fe._module.selectPoints(Fe,!1)}ge(ce,Oe)}function se(ce,Te,ye,Oe){for(var Be,Fe=0;Fe<ce.length;Fe++){var Ge=ce[Fe];Te===Ge.xref&&ye===Ge.yref&&(Be?Oe=X(Be=we(Be,Ge,!!Ge.subtract)):(Be=[Ge],Oe=H(Ge)))}return Oe}function oe(ce,Te){for(var ye=[],Oe=ce._fullLayout,Be=Oe.selections,Fe=Be.length,Ge=0;Ge<Fe;Ge++)if(!Te||Ge===Oe._activeSelectionIndex){var Ze=Be[Ge];if(Ze){var et,ft,rt,_t,kt,wt=Ze.xref,lt=Ze.yref,ut=L(ce,wt,"x"),Et=L(ce,lt,"y");if(Ze.type==="rect"){kt=[];var Ot=Le(ut,Ze.x0),zt=Le(ut,Ze.x1),Lt=Le(Et,Ze.y0),Je=Le(Et,Ze.y1);kt=[[Ot,Lt],[Ot,Je],[zt,Je],[zt,Lt]],et=Math.min(Ot,zt),ft=Math.max(Ot,zt),rt=Math.min(Lt,Je),_t=Math.max(Lt,Je),kt.xmin=et,kt.xmax=ft,kt.ymin=rt,kt.ymax=_t,kt.xref=wt,kt.yref=lt,kt.subtract=!1,kt.isRect=!0,ye.push(kt)}else if(Ze.type==="path")for(var Qe=Ze.path.split("Z"),qe=[],$e=0;$e<Qe.length;$e++){var ct=Qe[$e];if(ct){ct+="Z";var at=u.extractPathCoords(ct,p.paramIsX,"raw"),Re=u.extractPathCoords(ct,p.paramIsY,"raw");et=1/0,ft=-1/0,rt=1/0,_t=-1/0,kt=[];for(var je=0;je<at.length;je++){var st=Le(ut,at[je]),ot=Le(Et,Re[je]);kt.push([st,ot]),et=Math.min(st,et),ft=Math.max(st,ft),rt=Math.min(ot,rt),_t=Math.max(ot,_t)}kt.xmin=et,kt.xmax=ft,kt.ymin=rt,kt.ymax=_t,kt.xref=wt,kt.yref=lt,kt.subtract=he(kt,qe),qe.push(kt),ye.push(kt)}}}}return ye}function he(ce,Te){for(var ye=!1,Oe=0;Oe<Te.length;Oe++)for(var Be=Te[Oe],Fe=0;Fe<ce.length;Fe++)if(k(ce[Fe],Be)){ye=!ye;break}return ye}function Le(ce,Te){return ce.type==="date"&&(Te=Te.replace("_"," ")),ce.type==="log"?ce.c2p(Te):ce.r2p(Te,null,ce.calendar)}function Me(ce){for(var Te=ce.length,ye=[],Oe=0;Oe<Te;Oe++){var Be=ce[Oe];ye=(ye=ye.concat(Be)).concat([Be[0]])}return(Fe=ye).isRect=Fe.length===5&&Fe[0][0]===Fe[4][0]&&Fe[0][1]===Fe[4][1]&&Fe[0][0]===Fe[1][0]&&Fe[2][0]===Fe[3][0]&&Fe[0][1]===Fe[3][1]&&Fe[1][1]===Fe[2][1]||Fe[0][1]===Fe[1][1]&&Fe[2][1]===Fe[3][1]&&Fe[0][0]===Fe[3][0]&&Fe[1][0]===Fe[2][0],Fe.isRect&&(Fe.xmin=Math.min(Fe[0][0],Fe[2][0]),Fe.xmax=Math.max(Fe[0][0],Fe[2][0]),Fe.ymin=Math.min(Fe[0][1],Fe[2][1]),Fe.ymax=Math.max(Fe[0][1],Fe[2][1])),Fe;var Fe}function _e(ce){return function(Te,ye){for(var Oe,Be,Fe=0;Fe<ce.length;Fe++){var Ge=ce[Fe],Ze=Ge._id,et=Ze.charAt(0);if(ye.isRect){Oe||(Oe={});var ft=ye[et+"min"],rt=ye[et+"max"];ft!==void 0&&rt!==void 0&&(Oe[Ze]=[B(Ge,ft),B(Ge,rt)].sort(S))}else Be||(Be={}),Be[Ze]=ye.map(V(Ge))}Oe&&(Te.range=Oe),Be&&(Te.lassoPoints=Be)}}function De(ce,Te){Te&&(Te.selections=(ce.layout||{}).selections||[]),ce.emit("plotly_selected",Te)}function Ne(ce){ce.emit("plotly_deselect",null)}Y.exports={reselect:Se,prepSelect:function(ce,Te,ye,Oe,Be){var Fe=!te(Oe),Ge=i(Be),Ze=r(Be),et=l(Be),ft=n(Be),rt=o(Be),_t=Be==="drawcircle",kt=Be==="drawline"||_t,wt=Oe.gd,lt=wt._fullLayout,ut=rt&&lt.newselection.mode==="immediate"&&Fe,Et=lt._zoomlayer,Ot=Oe.element.getBoundingClientRect(),zt=Oe.plotinfo,Lt=q(zt),Je=Te-Ot.left,Qe=ye-Ot.top;lt._calcInverseTransform(wt);var qe=f.apply3DTransform(lt._invTransform)(Je,Qe);Je=qe[0],Qe=qe[1];var $e,ct,at,Re,je,st,ot,xt=lt._invScaleX,mt=lt._invScaleY,bt=Je,dt=Qe,St="M"+Je+","+Qe,gt=Oe.xaxes[0],vt=Oe.yaxes[0],Mt=gt._length,Bt=vt._length,Nt=ce.altKey&&!(n(Be)&&et);ee(ce,wt,Oe),Ge&&($e=I([[Je,Qe]],R.BENDPX));var qt=Et.selectAll("path.select-outline-"+zt.id).data([1]),an=ft?lt.newshape:lt.newselection;ft&&(Oe.hasText=an.label.text||an.label.texttemplate);var Gt=ft&&!et?an.fillcolor:"rgba(0,0,0,0)",Yt=an.line.color||(Fe?y.contrast(wt._fullLayout.plot_bgcolor):"#7f7f7f");qt.enter().append("path").attr("class","select-outline select-outline-"+zt.id).style({opacity:ft?an.opacity/2:1,"stroke-dasharray":_(an.line.dash,an.line.width),"stroke-width":an.line.width+"px","shape-rendering":"crispEdges"}).call(y.stroke,Yt).call(y.fill,Gt).attr("fill-rule","evenodd").classed("cursor-move",!!ft).attr("transform",Lt).attr("d",St+"Z");var en=Et.append("path").attr("class","zoombox-corners").style({fill:y.background,stroke:y.defaultLine,"stroke-width":1}).attr("transform",Lt).attr("d","M0,0Z");if(ft&&Oe.hasText){var bn=Et.select(".label-temp");bn.empty()&&(bn=Et.append("g").classed("label-temp",!0).classed("select-outline",!0).style({opacity:.8}))}var On=lt._uid+R.SELECTID,gn=[],Xt=ae(wt,Oe.xaxes,Oe.yaxes,Oe.subplot);ut&&!ce.shiftKey&&(Oe._clearSubplotSelections=function(){if(Fe){var nn=gt._id,hn=vt._id;ke(wt,nn,hn,Xt);for(var mn=(wt.layout||{}).selections||[],Mn=[],Tn=!1,Pn=0;Pn<mn.length;Pn++){var yn=lt.selections[Pn];yn.xref!==nn||yn.yref!==hn?Mn.push(mn[Pn]):Tn=!0}Tn&&(wt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",wt,{selections:Mn}))}});var ln=function(nn){return nn.plotinfo.fillRangeItems||_e(nn.xaxes.concat(nn.yaxes))}(Oe);Oe.moveFn=function(nn,hn){Oe._clearSubplotSelections&&(Oe._clearSubplotSelections(),Oe._clearSubplotSelections=void 0),bt=Math.max(0,Math.min(Mt,xt*nn+Je)),dt=Math.max(0,Math.min(Bt,mt*hn+Qe));var mn=Math.abs(bt-Je),Mn=Math.abs(dt-Qe);if(Ze){var Tn,Pn,yn;if(rt){var Rn=lt.selectdirection;switch(Tn=Rn==="any"?Mn<Math.min(.6*mn,G)?"h":mn<Math.min(.6*Mn,G)?"v":"d":Rn){case"h":Pn=_t?Bt/2:0,yn=Bt;break;case"v":Pn=_t?Mt/2:0,yn=Mt}}if(ft)switch(lt.newshape.drawdirection){case"vertical":Tn="h",Pn=_t?Bt/2:0,yn=Bt;break;case"horizontal":Tn="v",Pn=_t?Mt/2:0,yn=Mt;break;case"ortho":mn<Mn?(Tn="h",Pn=Qe,yn=dt):(Tn="v",Pn=Je,yn=bt);break;default:Tn="d"}Tn==="h"?((Re=kt?h(_t,[bt,Pn],[bt,yn]):[[Je,Pn],[Je,yn],[bt,yn],[bt,Pn]]).xmin=kt?bt:Math.min(Je,bt),Re.xmax=kt?bt:Math.max(Je,bt),Re.ymin=Math.min(Pn,yn),Re.ymax=Math.max(Pn,yn),en.attr("d","M"+Re.xmin+","+(Qe-G)+"h-4v"+2*G+"h4ZM"+(Re.xmax-1)+","+(Qe-G)+"h4v"+2*G+"h-4Z")):Tn==="v"?((Re=kt?h(_t,[Pn,dt],[yn,dt]):[[Pn,Qe],[Pn,dt],[yn,dt],[yn,Qe]]).xmin=Math.min(Pn,yn),Re.xmax=Math.max(Pn,yn),Re.ymin=kt?dt:Math.min(Qe,dt),Re.ymax=kt?dt:Math.max(Qe,dt),en.attr("d","M"+(Je-G)+","+Re.ymin+"v-4h"+2*G+"v4ZM"+(Je-G)+","+(Re.ymax-1)+"v4h"+2*G+"v-4Z")):Tn==="d"&&((Re=kt?h(_t,[Je,Qe],[bt,dt]):[[Je,Qe],[Je,dt],[bt,dt],[bt,Qe]]).xmin=Math.min(Je,bt),Re.xmax=Math.max(Je,bt),Re.ymin=Math.min(Qe,dt),Re.ymax=Math.max(Qe,dt),en.attr("d","M0,0Z"))}else Ge&&($e.addPt([bt,dt]),Re=$e.filtered);if(Oe.selectionDefs&&Oe.selectionDefs.length?(at=we(Oe.mergedPolygons,Re,Nt),Re.subtract=Nt,ct=X(Oe.selectionDefs.concat([Re]))):(at=[Re],ct=H(Re)),c(ve(at,et),qt,Oe),rt){var Zn,ir=Se(wt,!1),sr=ir.eventData?ir.eventData.points.slice():[];ir=Se(wt,!1,ct,Xt,Oe),ct=ir.selectionTesters,ot=ir.eventData,Zn=$e?$e.filtered:Me(at),E.throttle(On,R.SELECTDELAY,function(){for(var tr=(gn=Ie(ct,Xt)).slice(),Jn=0;Jn<sr.length;Jn++){for(var pr=sr[Jn],Ut=!1,rn=0;rn<tr.length;rn++)if(tr[rn].curveNumber===pr.curveNumber&&tr[rn].pointNumber===pr.pointNumber){Ut=!0;break}Ut||tr.push(pr)}tr.length&&(ot||(ot={}),ot.points=tr),ln(ot,Zn),function(cn,vn){cn.emit("plotly_selecting",vn)}(wt,ot)})}},Oe.clickFn=function(nn,hn){if(en.remove(),wt._fullLayout._activeShapeIndex>=0)wt._fullLayout._deactivateShape(wt);else if(!ft){var mn=lt.clickmode;E.done(On).then(function(){if(E.clear(On),nn===2){for(qt.remove(),je=0;je<Xt.length;je++)(st=Xt[je])._module.selectPoints(st,!1);if(ge(wt,Xt),ne(Oe),Ne(wt),Xt.length){var Mn=Xt[0].xaxis,Tn=Xt[0].yaxis;if(Mn&&Tn){for(var Pn=[],yn=wt._fullLayout.selections,Rn=0;Rn<yn.length;Rn++){var Zn=yn[Rn];Zn&&(Zn.xref===Mn._id&&Zn.yref===Tn._id||Pn.push(Zn))}Pn.length<yn.length&&(wt._fullLayout._noEmitSelectedAtStart=!0,a.call("_guiRelayout",wt,{selections:Pn}))}}}else mn.indexOf("select")>-1&&$(hn,wt,Oe.xaxes,Oe.yaxes,Oe.subplot,Oe,qt),mn==="event"&&De(wt,void 0);d.click(wt,hn,zt.id)}).catch(f.error)}},Oe.doneFn=function(){en.remove(),E.done(On).then(function(){E.clear(On),!ut&&Re&&Oe.selectionDefs&&(Re.subtract=Nt,Oe.selectionDefs.push(Re),Oe.mergedPolygons.length=0,[].push.apply(Oe.mergedPolygons,at)),(ut||ft)&&ne(Oe,ut),Oe.doneFnCompleted&&Oe.doneFnCompleted(gn),rt&&De(wt,ot)}).catch(f.error)}},clearOutline:b,clearSelectionsCache:ne,selectOnClick:$}},89827:function(Y,O,e){var M=e(50215),k=e(41940),a=e(82196).line,_=e(79952).P,y=e(1426).extendFlat,d=e(44467).templatedArray,s=(e(24695),e(9012)),t=e(5386).R,i=e(37281);Y.exports=d("shape",{visible:y({},s.visible,{editType:"calc+arraydraw"}),showlegend:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},legend:y({},s.legend,{editType:"calc+arraydraw"}),legendgroup:y({},s.legendgroup,{editType:"calc+arraydraw"}),legendgrouptitle:{text:y({},s.legendgrouptitle.text,{editType:"calc+arraydraw"}),font:k({editType:"calc+arraydraw"}),editType:"calc+arraydraw"},legendrank:y({},s.legendrank,{editType:"calc+arraydraw"}),legendwidth:y({},s.legendwidth,{editType:"calc+arraydraw"}),type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:y({},M.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:y({},M.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:y({},a.color,{editType:"arraydraw"}),width:y({},a.width,{editType:"calc+arraydraw"}),dash:y({},_,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:t({},{keys:Object.keys(i)}),font:k({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(Y,O,e){var M=e(71828),k=e(89298),a=e(21459),_=e(30477);function y(i){return s(i.line.width,i.xsizemode,i.x0,i.x1,i.path,!1)}function d(i){return s(i.line.width,i.ysizemode,i.y0,i.y1,i.path,!0)}function s(i,r,n,l,o,u){var p=i/2,c=u;if(r==="pixel"){var b=o?_.extractPathCoords(o,u?a.paramIsY:a.paramIsX):[n,l],g=M.aggNums(Math.max,null,b),h=M.aggNums(Math.min,null,b),x=h<0?Math.abs(h)+p:p,v=g>0?g+p:p;return{ppad:p,ppadplus:c?x:v,ppadminus:c?v:x}}return{ppad:p}}function t(i,r,n,l,o){var u=i.type==="category"||i.type==="multicategory"?i.r2c:i.d2c;if(r!==void 0)return[u(r),u(n)];if(l){var p,c,b,g,h=1/0,x=-1/0,v=l.match(a.segmentRE);for(i.type==="date"&&(u=_.decodeDate(u)),p=0;p<v.length;p++)(c=o[v[p].charAt(0)].drawn)!==void 0&&(!(b=v[p].substr(1).match(a.paramRE))||b.length<c||((g=u(b[c]))<h&&(h=g),g>x&&(x=g)));return x>=h?[h,x]:void 0}}Y.exports=function(i){var r=i._fullLayout,n=M.filterVisible(r.shapes);if(n.length&&i._fullData.length)for(var l=0;l<n.length;l++){var o,u,p=n[l];p._extremes={};var c=k.getRefType(p.xref),b=k.getRefType(p.yref);if(p.xref!=="paper"&&c!=="domain"){var g=p.xsizemode==="pixel"?p.xanchor:p.x0,h=p.xsizemode==="pixel"?p.xanchor:p.x1;(u=t(o=k.getFromId(i,p.xref),g,h,p.path,a.paramIsX))&&(p._extremes[o._id]=k.findExtremes(o,u,y(p)))}if(p.yref!=="paper"&&b!=="domain"){var x=p.ysizemode==="pixel"?p.yanchor:p.y0,v=p.ysizemode==="pixel"?p.yanchor:p.y1;(u=t(o=k.getFromId(i,p.yref),x,v,p.path,a.paramIsY))&&(p._extremes[o._id]=k.findExtremes(o,u,d(p)))}}}},21459:function(Y){Y.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(Y,O,e){var M=e(71828),k=e(89298),a=e(85501),_=e(89827),y=e(30477);function d(s,t,i){function r(N,B){return M.coerce(s,t,_,N,B)}if(t._isShape=!0,r("visible")){r("showlegend")&&(r("legend"),r("legendwidth"),r("legendgroup"),r("legendgrouptitle.text"),M.coerceFont(r,"legendgrouptitle.font"),r("legendrank"));var n=r("path"),l=r("type",n?"path":"rect"),o=l!=="path";o&&delete t.path,r("editable"),r("layer"),r("opacity"),r("fillcolor"),r("fillrule"),r("line.width")&&(r("line.color"),r("line.dash"));for(var u=r("xsizemode"),p=r("ysizemode"),c=["x","y"],b=0;b<2;b++){var g,h,x,v=c[b],m=v+"anchor",w=v==="x"?u:p,f={_fullLayout:i},S=k.coerceRef(s,t,f,v,void 0,"paper");if(k.getRefType(S)==="range"?((g=k.getFromId(f,S))._shapeIndices.push(t._index),x=y.rangeToShapePosition(g),h=y.shapePositionToRange(g)):h=x=M.identity,o){var T=v+"0",E=v+"1",L=s[T],C=s[E];s[T]=h(s[T],!0),s[E]=h(s[E],!0),w==="pixel"?(r(T,0),r(E,10)):(k.coercePosition(t,f,r,S,T,.25),k.coercePosition(t,f,r,S,E,.75)),t[T]=x(t[T]),t[E]=x(t[E]),s[T]=L,s[E]=C}if(w==="pixel"){var P=s[m];s[m]=h(s[m],!0),k.coercePosition(t,f,r,S,m,.25),t[m]=x(t[m]),s[m]=P}}o&&M.noneOrAll(s,t,["x0","x1","y0","y1"]);var R,G,I=l==="line";if(o&&(R=r("label.texttemplate")),R||(G=r("label.text")),G||R){r("label.textangle");var H=r("label.textposition",I?"middle":"middle center");r("label.xanchor"),r("label.yanchor",function(N,B){return N?"bottom":B.indexOf("top")!==-1?"top":B.indexOf("bottom")!==-1?"bottom":"middle"}(I,H)),r("label.padding"),M.coerceFont(r,"label.font",i.font)}}}Y.exports=function(s,t){a(s,t,{name:"shapes",handleItemDefaults:d})}},48100:function(Y,O,e){var M=e(71828),k=e(89298),a=e(63893),_=e(91424),y=e(60165).readPaths,d=e(30477),s=d.getPathString,t=e(37281),i=e(18783).FROM_TL;Y.exports=function(r,n,l,o){if(o.selectAll(".shape-label").remove(),l.label.text||l.label.texttemplate){var u;if(l.label.texttemplate){var p={};if(l.type!=="path"){var c=k.getFromId(r,l.xref),b=k.getFromId(r,l.yref);for(var g in t){var h=t[g](l,c,b);h!==void 0&&(p[g]=h)}}u=M.texttemplateStringForShapes(l.label.texttemplate,{},r._fullLayout._d3locale,p)}else u=l.label.text;var x,v,m,w,f={"data-index":n},S=l.label.font,T=o.append("g").attr(f).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(u);if(l.path){var E=s(r,l),L=y(E,r);x=1/0,m=1/0,v=-1/0,w=-1/0;for(var C=0;C<L.length;C++)for(var P=0;P<L[C].length;P++)for(var R=L[C][P],G=1;G<R.length;G+=2){var I=R[G],H=R[G+1];x=Math.min(x,I),v=Math.max(v,I),m=Math.min(m,H),w=Math.max(w,H)}}else{var N=k.getFromId(r,l.xref),B=k.getRefType(l.xref),V=k.getFromId(r,l.yref),q=k.getRefType(l.yref),te=d.getDataToPixel(r,N,!1,B),$=d.getDataToPixel(r,V,!0,q);x=te(l.x0),v=te(l.x1),m=$(l.y0),w=$(l.y1)}var K=l.label.textangle;K==="auto"&&(K=l.type==="line"?function(re,ae,ue,pe){var ge,we;return we=Math.abs(ue-re),ge=ue>=re?ae-pe:pe-ae,-180/Math.PI*Math.atan2(ge,we)}(x,m,v,w):0),T.call(function(re){return re.call(_.font,S).attr({}),a.convertToTspans(re,r),re});var Z=function(re,ae,ue,pe,ge,we,me){var ve,Ie,Se,ke,se=ge.label.textposition,oe=ge.label.textangle,he=ge.label.padding,Le=ge.type,Me=Math.PI/180*we,_e=Math.sin(Me),De=Math.cos(Me),Ne=ge.label.xanchor,ce=ge.label.yanchor;if(Le==="line"){se==="start"?(ve=re,Ie=ae):se==="end"?(ve=ue,Ie=pe):(ve=(re+ue)/2,Ie=(ae+pe)/2),Ne==="auto"&&(Ne=se==="start"?oe==="auto"?ue>re?"left":ue<re?"right":"center":ue>re?"right":ue<re?"left":"center":se==="end"?oe==="auto"?ue>re?"right":ue<re?"left":"center":ue>re?"left":ue<re?"right":"center":"center");var Te={bottom:-1,middle:0,top:1};if(oe==="auto"){var ye=Te[ce];Se=-he*_e*ye,ke=he*De*ye}else Se=he*{left:1,center:0,right:-1}[Ne],ke=he*Te[ce];ve+=Se,Ie+=ke}else Se=he+3,se.indexOf("right")!==-1?(ve=Math.max(re,ue)-Se,Ne==="auto"&&(Ne="right")):se.indexOf("left")!==-1?(ve=Math.min(re,ue)+Se,Ne==="auto"&&(Ne="left")):(ve=(re+ue)/2,Ne==="auto"&&(Ne="center")),Ie=se.indexOf("top")!==-1?Math.min(ae,pe):se.indexOf("bottom")!==-1?Math.max(ae,pe):(ae+pe)/2,ke=he,ce==="bottom"?Ie-=ke:ce==="top"&&(Ie+=ke);var Oe=i[ce],Be=ge.label.font.size,Fe=me.height;return{textx:ve+(Fe*Oe-Be)*_e,texty:Ie+-(Fe*Oe-Be)*De,xanchor:Ne}}(x,m,v,w,l,K,_.bBox(T.node())),X=Z.textx,ee=Z.texty,ne=Z.xanchor;T.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ne],y:ee,x:X,transform:"rotate("+K+","+X+","+ee+")"}).call(a.positionText,X,ee)}}},42359:function(Y,O,e){var M=e(71828).strTranslate,k=e(28569),a=e(64505),_=a.drawMode,y=a.selectMode,d=e(73972),s=e(7901),t=e(89995),i=t.i000,r=t.i090,n=t.i180,l=t.i270,o=e(51873).clearOutlineControllers,u=e(60165),p=u.pointsOnRectangle,c=u.pointsOnEllipse,b=u.writePaths,g=e(90551).newShapes,h=e(90551).createShapeObj,x=e(35855),v=e(48100);function m(w,f){var S,T,E,L=w[f][1],C=w[f][2],P=w.length;return T=w[S=(f+1)%P][1],E=w[S][2],T===L&&E===C&&(T=w[S=(f+2)%P][1],E=w[S][2]),[S,T,E]}Y.exports=function w(f,S,T,E){E||(E=0);var L=T.gd;function C(){w(f,S,T,E++),(c(f[0])||T.hasText)&&P({redrawing:!0})}function P(ge){var we={};T.isActiveShape!==void 0&&(T.isActiveShape=!1,we=g(S,T)),T.isActiveSelection!==void 0&&(T.isActiveSelection=!1,we=x(S,T),L._fullLayout._reselect=!0),Object.keys(we).length&&d.call((ge||{}).redrawing?"relayout":"_guiRelayout",L,we)}var R,G,I,H,N,B=L._fullLayout._zoomlayer,V=T.dragmode,q=_(V),te=y(V);if((q||te)&&(L._fullLayout._outlining=!0),o(L),S.attr("d",b(f)),E||!T.isActiveShape&&!T.isActiveSelection||(N=function(ge,we){for(var me=0;me<we.length;me++){var ve=we[me];ge[me]=[];for(var Ie=0;Ie<ve.length;Ie++){ge[me][Ie]=[];for(var Se=0;Se<ve[Ie].length;Se++)ge[me][Ie][Se]=ve[Ie][Se]}}return ge}([],f),function(ge){R=[];for(var we=0;we<f.length;we++){var me=f[we],ve=p(me),Ie=!ve&&c(me);R[we]=[];for(var Se=me.length,ke=0;ke<Se;ke++)if(me[ke][0]!=="Z"&&(!Ie||ke===i||ke===r||ke===n||ke===l)){var se,oe=ve&&T.isActiveSelection;oe&&(se=m(me,ke));var he=me[ke][1],Le=me[ke][2],Me=ge.append(oe?"rect":"circle").attr("data-i",we).attr("data-j",ke).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(oe){var _e=se[1]-he,De=se[2]-Le,Ne=De?5:Math.max(Math.min(25,Math.abs(_e)-5),5),ce=_e?5:Math.max(Math.min(25,Math.abs(De)-5),5);Me.classed(De?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",Ne).attr("height",ce).attr("x",he-Ne/2).attr("y",Le-ce/2).attr("transform",M(_e/2,De/2))}else Me.classed("cursor-grab",!0).attr("r",5).attr("cx",he).attr("cy",Le);R[we][ke]={element:Me.node(),gd:L,prepFn:Z,doneFn:ee,clickFn:ne},k.init(R[we][ke])}}}(B.append("g").attr("class","outline-controllers")),function(){G=[],f.length&&(G[0]={element:S[0][0],gd:L,prepFn:ae,doneFn:ue,clickFn:pe},k.init(G[0]))}()),q&&T.hasText){var $=B.select(".label-temp"),K=h(S,T,T.dragmode);v(L,"label-temp",K,$)}function Z(ge){I=+ge.srcElement.getAttribute("data-i"),H=+ge.srcElement.getAttribute("data-j"),R[I][H].moveFn=X}function X(ge,we){if(f.length){var me=N[I][H][1],ve=N[I][H][2],Ie=f[I],Se=Ie.length;if(p(Ie)){var ke=ge,se=we;T.isActiveSelection&&(m(Ie,H)[1]===Ie[H][1]?se=0:ke=0);for(var oe=0;oe<Se;oe++)if(oe!==H){var he=Ie[oe];he[1]===Ie[H][1]&&(he[1]=me+ke),he[2]===Ie[H][2]&&(he[2]=ve+se)}if(Ie[H][1]=me+ke,Ie[H][2]=ve+se,!p(Ie))for(var Le=0;Le<Se;Le++)for(var Me=0;Me<Ie[Le].length;Me++)Ie[Le][Me]=N[I][Le][Me]}else Ie[H][1]=me+ge,Ie[H][2]=ve+we;C()}}function ee(){P()}function ne(ge,we){if(ge===2){I=+we.srcElement.getAttribute("data-i"),H=+we.srcElement.getAttribute("data-j");var me=f[I];p(me)||c(me)||function(){if(f.length&&f[I]&&f[I].length){for(var ve=[],Ie=0;Ie<f[I].length;Ie++)Ie!==H&&ve.push(f[I][Ie]);ve.length>1&&(ve.length!==2||ve[1][0]!=="Z")&&(H===0&&(ve[0][0]="M"),f[I]=ve,C(),P())}}()}}function re(ge,we){(function(me,ve){if(f.length)for(var Ie=0;Ie<f.length;Ie++)for(var Se=0;Se<f[Ie].length;Se++)for(var ke=0;ke+2<f[Ie][Se].length;ke+=2)f[Ie][Se][ke+1]=N[Ie][Se][ke+1]+me,f[Ie][Se][ke+2]=N[Ie][Se][ke+2]+ve})(ge,we),C()}function ae(ge){(I=+ge.srcElement.getAttribute("data-i"))||(I=0),G[I].moveFn=re}function ue(){P()}function pe(ge){ge===2&&function(we){if(y(we._fullLayout.dragmode)){o(we);var me=we._fullLayout._activeSelectionIndex,ve=(we.layout||{}).selections||[];if(me<ve.length){for(var Ie=[],Se=0;Se<ve.length;Se++)Se!==me&&Ie.push(ve[Se]);delete we._fullLayout._activeSelectionIndex;var ke=we._fullLayout.selections[me];we._fullLayout._deselect={xref:ke.xref,yref:ke.yref},d.call("_guiRelayout",we,{selections:Ie})}}}(L)}}},34031:function(Y,O,e){var M=e(39898),k=e(73972),a=e(71828),_=e(89298),y=e(60165).readPaths,d=e(42359),s=e(48100),t=e(51873).clearOutlineControllers,i=e(7901),r=e(91424),n=e(44467).arrayEditor,l=e(28569),o=e(6964),u=e(21459),p=e(30477),c=p.getPathString;function b(f){var S=f._fullLayout;for(var T in S._shapeUpperLayer.selectAll("path").remove(),S._shapeLowerLayer.selectAll("path").remove(),S._shapeUpperLayer.selectAll("text").remove(),S._shapeLowerLayer.selectAll("text").remove(),S._plots){var E=S._plots[T].shapelayer;E&&(E.selectAll("path").remove(),E.selectAll("text").remove())}for(var L=0;L<S.shapes.length;L++)S.shapes[L].visible===!0&&x(f,L)}function g(f){return!!f._fullLayout._outlining}function h(f){return!f._context.edits.shapePosition}function x(f,S){f._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+S+'"]').remove();var T=p.makeShapesOptionsAndPlotinfo(f,S),E=T.options,L=T.plotinfo;function C(P){var R=c(f,E),G={"data-index":S,"fill-rule":E.fillrule,d:R},I=E.opacity,H=E.fillcolor,N=E.line.width?E.line.color:"rgba(0,0,0,0)",B=E.line.width,V=E.line.dash;B||E.editable!==!0||(B=5,V="solid");var q=R[R.length-1]!=="Z",te=h(f)&&E.editable&&f._fullLayout._activeShapeIndex===S;te&&(H=q?"rgba(0,0,0,0)":f._fullLayout.activeshape.fillcolor,I=f._fullLayout.activeshape.opacity);var $,K=P.append("g").classed("shape-group",!0).attr({"data-index":S}),Z=K.append("path").attr(G).style("opacity",I).call(i.stroke,N).call(i.fill,H).call(r.dashLine,V,B);if(v(K,f,E),s(f,S,E,K),(te||f._context.edits.shapePosition)&&($=n(f.layout,"shapes",E)),te){Z.style({cursor:"move"});var X={element:Z.node(),plotinfo:L,gd:f,editHelpers:$,hasText:E.label.text||E.label.texttemplate,isActiveShape:!0},ee=y(R,f);d(ee,Z,X)}else f._context.edits.shapePosition?function(ne,re,ae,ue,pe,ge){var we,me,ve,Ie,Se,ke,se,oe,he,Le,Me,_e,De,Ne,ce,Te,ye=10,Oe=10,Be=ae.xsizemode==="pixel",Fe=ae.ysizemode==="pixel",Ge=ae.type==="line",Ze=ae.type==="path",et=ge.modifyItem,ft=M.select(re.node().parentNode),rt=_.getFromId(ne,ae.xref),_t=_.getRefType(ae.xref),kt=_.getFromId(ne,ae.yref),wt=_.getRefType(ae.yref),lt=p.getDataToPixel(ne,rt,!1,_t),ut=p.getDataToPixel(ne,kt,!0,wt),Et=p.getPixelToData(ne,rt,!1,_t),Ot=p.getPixelToData(ne,kt,!0,wt),zt=Ge?function(){var at=10,Re=Math.max(ae.line.width,at),je=pe.append("g").attr("data-index",ue).attr("drag-helper",!0);je.append("path").attr("d",re.attr("d")).style({cursor:"move","stroke-width":Re,"stroke-opacity":"0"});var st={"fill-opacity":"0"},ot=Math.max(Re/2,at);return je.append("circle").attr({"data-line-point":"start-point",cx:Be?lt(ae.xanchor)+ae.x0:lt(ae.x0),cy:Fe?ut(ae.yanchor)-ae.y0:ut(ae.y0),r:ot}).style(st).classed("cursor-grab",!0),je.append("circle").attr({"data-line-point":"end-point",cx:Be?lt(ae.xanchor)+ae.x1:lt(ae.x1),cy:Fe?ut(ae.yanchor)-ae.y1:ut(ae.y1),r:ot}).style(st).classed("cursor-grab",!0),je}():re,Lt={element:zt.node(),gd:ne,prepFn:function(at){g(ne)||(Be&&(Se=lt(ae.xanchor)),Fe&&(ke=ut(ae.yanchor)),ae.type==="path"?ce=ae.path:(we=Be?ae.x0:lt(ae.x0),me=Fe?ae.y0:ut(ae.y0),ve=Be?ae.x1:lt(ae.x1),Ie=Fe?ae.y1:ut(ae.y1)),we<ve?(he=we,De="x0",Le=ve,Ne="x1"):(he=ve,De="x1",Le=we,Ne="x0"),!Fe&&me<Ie||Fe&&me>Ie?(se=me,Me="y0",oe=Ie,_e="y1"):(se=Ie,Me="y1",oe=me,_e="y0"),Je(at),$e(pe,ae),function(Re,je,st){var ot=je.xref,xt=je.yref,mt=_.getFromId(st,ot),bt=_.getFromId(st,xt),dt="";ot==="paper"||mt.autorange||(dt+=ot),xt==="paper"||bt.autorange||(dt+=xt),r.setClipUrl(Re,dt?"clip"+st._fullLayout._uid+dt:null,st)}(re,ae,ne),Lt.moveFn=Te==="move"?Qe:qe,Lt.altKey=at.altKey)},doneFn:function(){g(ne)||(o(re),ct(pe),v(re,ne,ae),k.call("_guiRelayout",ne,ge.getUpdateObj()))},clickFn:function(){g(ne)||ct(pe)}};function Je(at){if(g(ne))Te=null;else if(Ge)Te=at.target.tagName==="path"?"move":at.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Re=Lt.element.getBoundingClientRect(),je=Re.right-Re.left,st=Re.bottom-Re.top,ot=at.clientX-Re.left,xt=at.clientY-Re.top,mt=!Ze&&je>ye&&st>Oe&&!at.shiftKey?l.getCursor(ot/je,1-xt/st):"move";o(re,mt),Te=mt.split("-")[0]}}function Qe(at,Re){if(ae.type==="path"){var je=function(xt){return xt},st=je,ot=je;Be?et("xanchor",ae.xanchor=Et(Se+at)):(st=function(xt){return Et(lt(xt)+at)},rt&&rt.type==="date"&&(st=p.encodeDate(st))),Fe?et("yanchor",ae.yanchor=Ot(ke+Re)):(ot=function(xt){return Ot(ut(xt)+Re)},kt&&kt.type==="date"&&(ot=p.encodeDate(ot))),et("path",ae.path=m(ce,st,ot))}else Be?et("xanchor",ae.xanchor=Et(Se+at)):(et("x0",ae.x0=Et(we+at)),et("x1",ae.x1=Et(ve+at))),Fe?et("yanchor",ae.yanchor=Ot(ke+Re)):(et("y0",ae.y0=Ot(me+Re)),et("y1",ae.y1=Ot(Ie+Re)));re.attr("d",c(ne,ae)),$e(pe,ae),s(ne,ue,ae,ft)}function qe(at,Re){if(Ze){var je=function(Yt){return Yt},st=je,ot=je;Be?et("xanchor",ae.xanchor=Et(Se+at)):(st=function(Yt){return Et(lt(Yt)+at)},rt&&rt.type==="date"&&(st=p.encodeDate(st))),Fe?et("yanchor",ae.yanchor=Ot(ke+Re)):(ot=function(Yt){return Ot(ut(Yt)+Re)},kt&&kt.type==="date"&&(ot=p.encodeDate(ot))),et("path",ae.path=m(ce,st,ot))}else if(Ge){if(Te==="resize-over-start-point"){var xt=we+at,mt=Fe?me-Re:me+Re;et("x0",ae.x0=Be?xt:Et(xt)),et("y0",ae.y0=Fe?mt:Ot(mt))}else if(Te==="resize-over-end-point"){var bt=ve+at,dt=Fe?Ie-Re:Ie+Re;et("x1",ae.x1=Be?bt:Et(bt)),et("y1",ae.y1=Fe?dt:Ot(dt))}}else{var St=function(Yt){return Te.indexOf(Yt)!==-1},gt=St("n"),vt=St("s"),Mt=St("w"),Bt=St("e"),Nt=gt?se+Re:se,qt=vt?oe+Re:oe,an=Mt?he+at:he,Gt=Bt?Le+at:Le;Fe&&(gt&&(Nt=se-Re),vt&&(qt=oe-Re)),(!Fe&&qt-Nt>Oe||Fe&&Nt-qt>Oe)&&(et(Me,ae[Me]=Fe?Nt:Ot(Nt)),et(_e,ae[_e]=Fe?qt:Ot(qt))),Gt-an>ye&&(et(De,ae[De]=Be?an:Et(an)),et(Ne,ae[Ne]=Be?Gt:Et(Gt)))}re.attr("d",c(ne,ae)),$e(pe,ae),s(ne,ue,ae,ft)}function $e(at,Re){(Be||Fe)&&function(){var je=Re.type!=="path",st=at.selectAll(".visual-cue").data([0]);st.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var ot=lt(Be?Re.xanchor:a.midRange(je?[Re.x0,Re.x1]:p.extractPathCoords(Re.path,u.paramIsX))),xt=ut(Fe?Re.yanchor:a.midRange(je?[Re.y0,Re.y1]:p.extractPathCoords(Re.path,u.paramIsY)));if(ot=p.roundPositionForSharpStrokeRendering(ot,1),xt=p.roundPositionForSharpStrokeRendering(xt,1),Be&&Fe){var mt="M"+(ot-1-1)+","+(xt-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";st.attr("d",mt)}else if(Be){var bt="M"+(ot-1-1)+","+(xt-9-1)+"v18 h2 v-18 Z";st.attr("d",bt)}else{var dt="M"+(ot-9-1)+","+(xt-1-1)+"h18 v2 h-18 Z";st.attr("d",dt)}}()}function ct(at){at.selectAll(".visual-cue").remove()}l.init(Lt),zt.node().onmousemove=Je}(f,Z,E,S,P,$):E.editable===!0&&Z.style("pointer-events",q||i.opacity(H)*I<=.5?"stroke":"all");Z.node().addEventListener("click",function(){return function(ne,re){if(h(ne)){var ae=+re.node().getAttribute("data-index");if(ae>=0){if(ae===ne._fullLayout._activeShapeIndex)return void w(ne);ne._fullLayout._activeShapeIndex=ae,ne._fullLayout._deactivateShape=w,b(ne)}}}(f,Z)})}E._input&&E.visible===!0&&(E.layer!=="below"?C(f._fullLayout._shapeUpperLayer):E.xref==="paper"||E.yref==="paper"?C(f._fullLayout._shapeLowerLayer):L._hadPlotinfo?C((L.mainplotinfo||L).shapelayer):C(f._fullLayout._shapeLowerLayer))}function v(f,S,T){var E=(T.xref+T.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");r.setClipUrl(f,E?"clip"+S._fullLayout._uid+E:null,S)}function m(f,S,T){return f.replace(u.segmentRE,function(E){var L=0,C=E.charAt(0),P=u.paramIsX[C],R=u.paramIsY[C],G=u.numParams[C];return C+E.substr(1).replace(u.paramRE,function(I){return L>=G||(P[L]?I=S(I):R[L]&&(I=T(I)),L++),I})})}function w(f){h(f)&&f._fullLayout._activeShapeIndex>=0&&(t(f),delete f._fullLayout._activeShapeIndex,b(f))}Y.exports={draw:b,drawOne:x,eraseActiveShape:function(f){if(h(f)){t(f);var S=f._fullLayout._activeShapeIndex,T=(f.layout||{}).shapes||[];if(S<T.length){for(var E=[],L=0;L<T.length;L++)L!==S&&E.push(T[L]);return delete f._fullLayout._activeShapeIndex,k.call("_guiRelayout",f,{shapes:E})}}},drawLabel:s}},29241:function(Y,O,e){var M=e(30962).overrideAll,k=e(9012),a=e(41940),_=e(79952).P,y=e(1426).extendFlat,d=e(5386).R,s=e(37281);Y.exports=M({newshape:{visible:y({},k.visible,{}),showlegend:{valType:"boolean",dflt:!1},legend:y({},k.legend,{}),legendgroup:y({},k.legendgroup,{}),legendgrouptitle:{text:y({},k.legendgrouptitle.text,{}),font:a({})},legendrank:y({},k.legendrank,{}),legendwidth:y({},k.legendwidth,{}),line:{color:{valType:"color"},width:{valType:"number",min:0,dflt:4},dash:y({},_,{dflt:"solid"})},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd"},opacity:{valType:"number",min:0,max:1,dflt:1},layer:{valType:"enumerated",values:["below","above"],dflt:"above"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal"},name:y({},k.name,{}),label:{text:{valType:"string",dflt:""},texttemplate:d({newshape:!0},{keys:Object.keys(s)}),font:a({}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"]},textangle:{valType:"angle",dflt:"auto"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto"},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},padding:{valType:"number",dflt:3,min:0}}},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)"},opacity:{valType:"number",min:0,max:1,dflt:.5}}},"none","from-root")},89995:function(Y){Y.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(Y,O,e){var M=e(7901),k=e(71828);Y.exports=function(a,_,y){if(y("newshape.visible"),y("newshape.name"),y("newshape.showlegend"),y("newshape.legend"),y("newshape.legendwidth"),y("newshape.legendgroup"),y("newshape.legendgrouptitle.text"),k.coerceFont(y,"newshape.legendgrouptitle.font"),y("newshape.legendrank"),y("newshape.drawdirection"),y("newshape.layer"),y("newshape.fillcolor"),y("newshape.fillrule"),y("newshape.opacity"),y("newshape.line.width")){var d=(a||{}).plot_bgcolor||"#FFF";y("newshape.line.color",M.contrast(d)),y("newshape.line.dash")}var s=a.dragmode==="drawline",t=y("newshape.label.text"),i=y("newshape.label.texttemplate");if(t||i){y("newshape.label.textangle");var r=y("newshape.label.textposition",s?"middle":"middle center");y("newshape.label.xanchor"),y("newshape.label.yanchor",function(n,l){return n?"bottom":l.indexOf("top")!==-1?"top":l.indexOf("bottom")!==-1?"bottom":"middle"}(s,r)),y("newshape.label.padding"),k.coerceFont(y,"newshape.label.font",_.font)}y("activeshape.fillcolor"),y("activeshape.opacity")}},60165:function(Y,O,e){var M=e(95616),k=e(89995),a=k.CIRCLE_SIDES,_=k.SQRT2,y=e(75549),d=y.p2r,s=y.r2p,t=[0,3,4,5,6,1,2],i=[0,3,4,1,2];function r(l,o){return Math.abs(l-o)<=1e-6}function n(l,o){var u=o[1]-l[1],p=o[2]-l[2];return Math.sqrt(u*u+p*p)}O.writePaths=function(l){var o=l.length;if(!o)return"M0,0Z";for(var u="",p=0;p<o;p++)for(var c=l[p].length,b=0;b<c;b++){var g=l[p][b][0];if(g==="Z")u+="Z";else for(var h=l[p][b].length,x=0;x<h;x++){var v=x;g==="Q"||g==="S"?v=i[x]:g==="C"&&(v=t[x]),u+=l[p][b][v],x>0&&x<h-1&&(u+=",")}}return u},O.readPaths=function(l,o,u,p){var c,b,g,h=M(l),x=[],v=-1,m=0,w=0,f=function(){b=m,g=w};f();for(var S=0;S<h.length;S++){var T,E,L,C,P=[],R=h[S][0],G=R;switch(R){case"M":x[++v]=[],m=+h[S][1],w=+h[S][2],P.push([G,m,w]),f();break;case"Q":case"S":T=+h[S][1],L=+h[S][2],m=+h[S][3],w=+h[S][4],P.push([G,m,w,T,L]);break;case"C":T=+h[S][1],L=+h[S][2],E=+h[S][3],C=+h[S][4],m=+h[S][5],w=+h[S][6],P.push([G,m,w,T,L,E,C]);break;case"T":case"L":m=+h[S][1],w=+h[S][2],P.push([G,m,w]);break;case"H":G="L",m=+h[S][1],P.push([G,m,w]);break;case"V":G="L",w=+h[S][1],P.push([G,m,w]);break;case"A":G="L";var I=+h[S][1],H=+h[S][2];+h[S][4]||(I=-I,H=-H);var N=m-I,B=w;for(c=1;c<=a/2;c++){var V=2*Math.PI*c/a;P.push([G,N+I*Math.cos(V),B+H*Math.sin(V)])}break;case"Z":m===b&&w===g||(m=b,w=g,P.push([G,m,w]))}for(var q=(u||{}).domain,te=o._fullLayout._size,$=u&&u.xsizemode==="pixel",K=u&&u.ysizemode==="pixel",Z=p===!1,X=0;X<P.length;X++){for(c=0;c+2<7;c+=2){var ee=P[X][c+1],ne=P[X][c+2];ee!==void 0&&ne!==void 0&&(m=ee,w=ne,u&&(u.xaxis&&u.xaxis.p2r?(Z&&(ee-=u.xaxis._offset),ee=$?s(u.xaxis,u.xanchor)+ee:d(u.xaxis,ee)):(Z&&(ee-=te.l),q?ee=q.x[0]+ee/te.w:ee/=te.w),u.yaxis&&u.yaxis.p2r?(Z&&(ne-=u.yaxis._offset),ne=K?s(u.yaxis,u.yanchor)-ne:d(u.yaxis,ne)):(Z&&(ne-=te.t),ne=q?q.y[1]-ne/te.h:1-ne/te.h)),P[X][c+1]=ee,P[X][c+2]=ne)}x[v].push(P[X].slice())}}return x},O.pointsOnRectangle=function(l){if(l.length!==5)return!1;for(var o=1;o<3;o++)if(!r(l[0][o]-l[1][o],l[3][o]-l[2][o])||!r(l[0][o]-l[3][o],l[1][o]-l[2][o]))return!1;return!(!r(l[0][1],l[1][1])&&!r(l[0][1],l[3][1])||!(n(l[0],l[1])*n(l[0],l[3])))},O.pointsOnEllipse=function(l){var o=l.length;if(o!==a+1)return!1;o=a;for(var u=0;u<o;u++){var p=(2*o-u)%o,c=(o/2+p)%o,b=(o/2+u)%o;if(!r(n(l[u],l[b]),n(l[p],l[c])))return!1}return!0},O.handleEllipse=function(l,o,u){if(!l)return[o,u];var p=O.ellipseOver({x0:o[0],y0:o[1],x1:u[0],y1:u[1]}),c=(p.x1+p.x0)/2,b=(p.y1+p.y0)/2,g=(p.x1-p.x0)/2,h=(p.y1-p.y0)/2;g||(g=h/=_),h||(h=g/=_);for(var x=[],v=0;v<a;v++){var m=2*v*Math.PI/a;x.push([c+g*Math.cos(m),b+h*Math.sin(m)])}return x},O.ellipseOver=function(l){var o=l.x0,u=l.y0,p=l.x1,c=l.y1,b=p-o,g=c-u,h=((o-=b)+p)/2,x=((u-=g)+c)/2;return{x0:h-(b*=_),y0:x-(g*=_),x1:h+b,y1:x+g}},O.fixDatesForPaths=function(l,o,u){var p=o.type==="date",c=u.type==="date";if(!p&&!c)return l;for(var b=0;b<l.length;b++)for(var g=0;g<l[b].length;g++)for(var h=0;h+2<l[b][g].length;h+=2)p&&(l[b][g][h+1]=l[b][g][h+1].replace(" ","_")),c&&(l[b][g][h+2]=l[b][g][h+2].replace(" ","_"));return l}},90551:function(Y,O,e){var M=e(64505),k=M.drawMode,a=M.openMode,_=e(89995),y=_.i000,d=_.i090,s=_.i180,t=_.i270,i=_.cos45,r=_.sin45,n=e(75549),l=n.p2r,o=n.r2p,u=e(51873).clearOutline,p=e(60165),c=p.readPaths,b=p.writePaths,g=p.ellipseOver,h=p.fixDatesForPaths;function x(v,m,w){var f,S=v[0][0],T=m.gd,E=S.getAttribute("d"),L=T._fullLayout.newshape,C=m.plotinfo,P=m.isActiveShape,R=C.xaxis,G=C.yaxis,I=!!C.domain||!C.xaxis,H=!!C.domain||!C.yaxis,N=a(w),B=c(E,T,C,P),V={editable:!0,visible:L.visible,name:L.name,showlegend:L.showlegend,legend:L.legend,legendwidth:L.legendwidth,legendgroup:L.legendgroup,legendgrouptitle:{text:L.legendgrouptitle.text,font:L.legendgrouptitle.font},legendrank:L.legendrank,label:L.label,xref:I?"paper":R._id,yref:H?"paper":G._id,layer:L.layer,opacity:L.opacity,line:{color:L.line.color,width:L.line.width,dash:L.line.dash}};if(N||(V.fillcolor=L.fillcolor,V.fillrule=L.fillrule),B.length===1&&(f=B[0]),f&&f.length===5&&w==="drawrect")V.type="rect",V.x0=f[0][1],V.y0=f[0][2],V.x1=f[2][1],V.y1=f[2][2];else if(f&&w==="drawline")V.type="line",V.x0=f[0][1],V.y0=f[0][2],V.x1=f[1][1],V.y1=f[1][2];else if(f&&w==="drawcircle"){V.type="circle";var q=f[y][1],te=f[d][1],$=f[s][1],K=f[t][1],Z=f[y][2],X=f[d][2],ee=f[s][2],ne=f[t][2],re=C.xaxis&&(C.xaxis.type==="date"||C.xaxis.type==="log"),ae=C.yaxis&&(C.yaxis.type==="date"||C.yaxis.type==="log");re&&(q=o(C.xaxis,q),te=o(C.xaxis,te),$=o(C.xaxis,$),K=o(C.xaxis,K)),ae&&(Z=o(C.yaxis,Z),X=o(C.yaxis,X),ee=o(C.yaxis,ee),ne=o(C.yaxis,ne));var ue=(te+K)/2,pe=(Z+ee)/2,ge=g({x0:ue,y0:pe,x1:ue+(K-te+$-q)/2*i,y1:pe+(ne-X+ee-Z)/2*r});re&&(ge.x0=l(C.xaxis,ge.x0),ge.x1=l(C.xaxis,ge.x1)),ae&&(ge.y0=l(C.yaxis,ge.y0),ge.y1=l(C.yaxis,ge.y1)),V.x0=ge.x0,V.y0=ge.y0,V.x1=ge.x1,V.y1=ge.y1}else V.type="path",R&&G&&h(B,R,G),V.path=b(B),f=null;return V}Y.exports={newShapes:function(v,m){if(v.length&&v[0][0]){var w=m.gd,f=m.isActiveShape,S=m.dragmode,T=(w.layout||{}).shapes||[];if(!k(S)&&f!==void 0){var E=w._fullLayout._activeShapeIndex;if(E<T.length)switch(w._fullLayout.shapes[E].type){case"rect":S="drawrect";break;case"circle":S="drawcircle";break;case"line":S="drawline";break;case"path":var L=T[E].path||"";S=L[L.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var C=x(v,m,S);u(w);for(var P=m.editHelpers,R=(P||{}).modifyItem,G=[],I=0;I<T.length;I++){var H=w._fullLayout.shapes[I];if(G[I]=H._input,f!==void 0&&I===w._fullLayout._activeShapeIndex){var N=C;switch(H.type){case"line":case"rect":case"circle":R("x0",N.x0),R("x1",N.x1),R("y0",N.y0),R("y1",N.y1);break;case"path":R("path",N.path)}}}return f===void 0?(G.push(C),G):P?P.getUpdateObj():{}}},createShapeObj:x}},51873:function(Y){Y.exports={clearOutlineControllers:function(O){var e=O._fullLayout._zoomlayer;e&&e.selectAll(".outline-controllers").remove()},clearOutline:function(O){var e=O._fullLayout._zoomlayer;e&&e.selectAll(".select-outline").remove(),O._fullLayout._outlining=!1}}},30477:function(Y,O,e){var M=e(21459),k=e(71828),a=e(89298);O.rangeToShapePosition=function(_){return _.type==="log"?_.r2d:function(y){return y}},O.shapePositionToRange=function(_){return _.type==="log"?_.d2r:function(y){return y}},O.decodeDate=function(_){return function(y){return y.replace&&(y=y.replace("_"," ")),_(y)}},O.encodeDate=function(_){return function(y){return _(y).replace(" ","_")}},O.extractPathCoords=function(_,y,d){var s=[];return _.match(M.segmentRE).forEach(function(t){var i=y[t.charAt(0)].drawn;if(i!==void 0){var r=t.substr(1).match(M.paramRE);if(r&&!(r.length<i)){var n=r[i],l=d?n:k.cleanNumber(n);s.push(l)}}}),s},O.getDataToPixel=function(_,y,d,s){var t,i=_._fullLayout._size;if(y)if(s==="domain")t=function(n){return y._length*(d?1-n:n)+y._offset};else{var r=O.shapePositionToRange(y);t=function(n){return y._offset+y.r2p(r(n,!0))},y.type==="date"&&(t=O.decodeDate(t))}else t=d?function(n){return i.t+i.h*(1-n)}:function(n){return i.l+i.w*n};return t},O.getPixelToData=function(_,y,d,s){var t,i=_._fullLayout._size;if(y)if(s==="domain")t=function(n){var l=(n-y._offset)/y._length;return d?1-l:l};else{var r=O.rangeToShapePosition(y);t=function(n){return r(y.p2r(n-y._offset))}}else t=d?function(n){return 1-(n-i.t)/i.h}:function(n){return(n-i.l)/i.w};return t},O.roundPositionForSharpStrokeRendering=function(_,y){var d=Math.round(y%2)===1,s=Math.round(_);return d?s+.5:s},O.makeShapesOptionsAndPlotinfo=function(_,y){var d=_._fullLayout.shapes[y]||{},s=_._fullLayout._plots[d.xref+d.yref];return s?s._hadPlotinfo=!0:(s={},d.xref&&d.xref!=="paper"&&(s.xaxis=_._fullLayout[d.xref+"axis"]),d.yref&&d.yref!=="paper"&&(s.yaxis=_._fullLayout[d.yref+"axis"])),s.xsizemode=d.xsizemode,s.ysizemode=d.ysizemode,s.xanchor=d.xanchor,s.yanchor=d.yanchor,{options:d,plotinfo:s}},O.makeSelectionsOptionsAndPlotinfo=function(_,y){var d=_._fullLayout.selections[y]||{},s=_._fullLayout._plots[d.xref+d.yref];return s?s._hadPlotinfo=!0:(s={},d.xref&&(s.xaxis=_._fullLayout[d.xref+"axis"]),d.yref&&(s.yaxis=_._fullLayout[d.yref+"axis"])),{options:d,plotinfo:s}},O.getPathString=function(_,y){var d,s,t,i,r,n,l,o,u=y.type,p=a.getRefType(y.xref),c=a.getRefType(y.yref),b=a.getFromId(_,y.xref),g=a.getFromId(_,y.yref),h=_._fullLayout._size;if(b?p==="domain"?s=function(L){return b._offset+b._length*L}:(d=O.shapePositionToRange(b),s=function(L){return b._offset+b.r2p(d(L,!0))}):s=function(L){return h.l+h.w*L},g?c==="domain"?i=function(L){return g._offset+g._length*(1-L)}:(t=O.shapePositionToRange(g),i=function(L){return g._offset+g.r2p(t(L,!0))}):i=function(L){return h.t+h.h*(1-L)},u==="path")return b&&b.type==="date"&&(s=O.decodeDate(s)),g&&g.type==="date"&&(i=O.decodeDate(i)),function(L,C,P){var R=L.path,G=L.xsizemode,I=L.ysizemode,H=L.xanchor,N=L.yanchor;return R.replace(M.segmentRE,function(B){var V=0,q=B.charAt(0),te=M.paramIsX[q],$=M.paramIsY[q],K=M.numParams[q],Z=B.substr(1).replace(M.paramRE,function(X){return te[V]?X=G==="pixel"?C(H)+Number(X):C(X):$[V]&&(X=I==="pixel"?P(N)-Number(X):P(X)),++V>K&&(X="X"),X});return V>K&&(Z=Z.replace(/[\s,]*X.*/,""),k.log("Ignoring extra params in segment "+B)),q+Z})}(y,s,i);if(y.xsizemode==="pixel"){var x=s(y.xanchor);r=x+y.x0,n=x+y.x1}else r=s(y.x0),n=s(y.x1);if(y.ysizemode==="pixel"){var v=i(y.yanchor);l=v-y.y0,o=v-y.y1}else l=i(y.y0),o=i(y.y1);if(u==="line")return"M"+r+","+l+"L"+n+","+o;if(u==="rect")return"M"+r+","+l+"H"+n+"V"+o+"H"+r+"Z";var m=(r+n)/2,w=(l+o)/2,f=Math.abs(m-r),S=Math.abs(w-l),T="A"+f+","+S,E=m+f+","+w;return"M"+E+T+" 0 1,1 "+m+","+(w-S)+T+" 0 0,1 "+E+"Z"}},89853:function(Y,O,e){var M=e(34031);Y.exports={moduleType:"component",name:"shapes",layoutAttributes:e(89827),supplyLayoutDefaults:e(84726),supplyDrawNewShapeDefaults:e(45547),includeBasePlot:e(76325)("shapes"),calcAutorange:e(5627),draw:M.draw,drawOne:M.drawOne}},37281:function(Y){function O(a,_){return _?_.d2l(a):a}function e(a,_){return _?_.l2d(a):a}function M(a,_){return O(a.x1,_)-O(a.x0,_)}function k(a,_,y){return O(a.y1,y)-O(a.y0,y)}Y.exports={x0:function(a){return a.x0},x1:function(a){return a.x1},y0:function(a){return a.y0},y1:function(a){return a.y1},slope:function(a,_,y){return a.type!=="line"?void 0:k(a,0,y)/M(a,_)},dx:M,dy:k,width:function(a,_){return Math.abs(M(a,_))},height:function(a,_,y){return Math.abs(k(a,0,y))},length:function(a,_,y){return a.type!=="line"?void 0:Math.sqrt(Math.pow(M(a,_),2)+Math.pow(k(a,0,y),2))},xcenter:function(a,_){return e((O(a.x1,_)+O(a.x0,_))/2,_)},ycenter:function(a,_,y){return e((O(a.y1,y)+O(a.y0,y))/2,y)}}},75067:function(Y,O,e){var M=e(41940),k=e(35025),a=e(1426).extendDeepAll,_=e(30962).overrideAll,y=e(85594),d=e(44467).templatedArray,s=e(98292),t=d("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});Y.exports=_(d("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:t,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:a(k({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:y.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:M({})},font:M({}),activebgcolor:{valType:"color",dflt:s.gripBgActiveColor},bgcolor:{valType:"color",dflt:s.railBgColor},bordercolor:{valType:"color",dflt:s.railBorderColor},borderwidth:{valType:"number",min:0,dflt:s.railBorderWidth},ticklen:{valType:"number",min:0,dflt:s.tickLength},tickcolor:{valType:"color",dflt:s.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:s.minorTickLength}}),"arraydraw","from-root")},98292:function(Y){Y.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(Y,O,e){var M=e(71828),k=e(85501),a=e(75067),_=e(98292).name,y=a.steps;function d(t,i,r){function n(c,b){return M.coerce(t,i,a,c,b)}for(var l=k(t,i,{name:"steps",handleItemDefaults:s}),o=0,u=0;u<l.length;u++)l[u].visible&&o++;if(o<2?i.visible=!1:n("visible")){i._stepCount=o;var p=i._visibleSteps=M.filterVisible(l);(l[n("active")]||{}).visible||(i.active=p[0]._index),n("x"),n("y"),M.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("len"),n("lenmode"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),M.coerceFont(n,"font",r.font),n("currentvalue.visible")&&(n("currentvalue.xanchor"),n("currentvalue.prefix"),n("currentvalue.suffix"),n("currentvalue.offset"),M.coerceFont(n,"currentvalue.font",i.font)),n("transition.duration"),n("transition.easing"),n("bgcolor"),n("activebgcolor"),n("bordercolor"),n("borderwidth"),n("ticklen"),n("tickwidth"),n("tickcolor"),n("minorticklen")}}function s(t,i){function r(l,o){return M.coerce(t,i,y,l,o)}if(t.method==="skip"||Array.isArray(t.args)?r("visible"):i.visible=!1){r("method"),r("args");var n=r("label","step-"+i._index);r("value",n),r("execute")}}Y.exports=function(t,i){k(t,i,{name:_,handleItemDefaults:d})}},44504:function(Y,O,e){var M=e(39898),k=e(74875),a=e(7901),_=e(91424),y=e(71828),d=y.strTranslate,s=e(63893),t=e(44467).arrayEditor,i=e(98292),r=e(18783),n=r.LINE_SPACING,l=r.FROM_TL,o=r.FROM_BR;function u(P){return i.autoMarginIdRoot+P._index}function p(P){return P._index}function c(P,R){var G=_.tester.selectAll("g."+i.labelGroupClass).data(R._visibleSteps);G.enter().append("g").classed(i.labelGroupClass,!0);var I=0,H=0;G.each(function(X){var ee=h(M.select(this),{step:X},R).node();if(ee){var ne=_.bBox(ee);H=Math.max(H,ne.height),I=Math.max(I,ne.width)}}),G.remove();var N=R._dims={};N.inputAreaWidth=Math.max(i.railWidth,i.gripHeight);var B=P._fullLayout._size;N.lx=B.l+B.w*R.x,N.ly=B.t+B.h*(1-R.y),R.lenmode==="fraction"?N.outerLength=Math.round(B.w*R.len):N.outerLength=R.len,N.inputAreaStart=0,N.inputAreaLength=Math.round(N.outerLength-R.pad.l-R.pad.r);var V=(N.inputAreaLength-2*i.stepInset)/(R._stepCount-1),q=I+i.labelPadding;if(N.labelStride=Math.max(1,Math.ceil(q/V)),N.labelHeight=H,N.currentValueMaxWidth=0,N.currentValueHeight=0,N.currentValueTotalHeight=0,N.currentValueMaxLines=1,R.currentvalue.visible){var te=_.tester.append("g");G.each(function(X){var ee=b(te,R,X.label),ne=ee.node()&&_.bBox(ee.node())||{width:0,height:0},re=s.lineCount(ee);N.currentValueMaxWidth=Math.max(N.currentValueMaxWidth,Math.ceil(ne.width)),N.currentValueHeight=Math.max(N.currentValueHeight,Math.ceil(ne.height)),N.currentValueMaxLines=Math.max(N.currentValueMaxLines,re)}),N.currentValueTotalHeight=N.currentValueHeight+R.currentvalue.offset,te.remove()}N.height=N.currentValueTotalHeight+i.tickOffset+R.ticklen+i.labelOffset+N.labelHeight+R.pad.t+R.pad.b;var $="left";y.isRightAnchor(R)&&(N.lx-=N.outerLength,$="right"),y.isCenterAnchor(R)&&(N.lx-=N.outerLength/2,$="center");var K="top";y.isBottomAnchor(R)&&(N.ly-=N.height,K="bottom"),y.isMiddleAnchor(R)&&(N.ly-=N.height/2,K="middle"),N.outerLength=Math.ceil(N.outerLength),N.height=Math.ceil(N.height),N.lx=Math.round(N.lx),N.ly=Math.round(N.ly);var Z={y:R.y,b:N.height*o[K],t:N.height*l[K]};R.lenmode==="fraction"?(Z.l=0,Z.xl=R.x-R.len*l[$],Z.r=0,Z.xr=R.x+R.len*o[$]):(Z.x=R.x,Z.l=N.outerLength*l[$],Z.r=N.outerLength*o[$]),k.autoMargin(P,u(R),Z)}function b(P,R,G){if(R.currentvalue.visible){var I,H,N=R._dims;switch(R.currentvalue.xanchor){case"right":I=N.inputAreaLength-i.currentValueInset-N.currentValueMaxWidth,H="left";break;case"center":I=.5*N.inputAreaLength,H="middle";break;default:I=i.currentValueInset,H="left"}var B=y.ensureSingle(P,"text",i.labelClass,function(Z){Z.attr({"text-anchor":H,"data-notex":1})}),V=R.currentvalue.prefix?R.currentvalue.prefix:"";if(typeof G=="string")V+=G;else{var q=R.steps[R.active].label,te=R._gd._fullLayout._meta;te&&(q=y.templateString(q,te)),V+=q}R.currentvalue.suffix&&(V+=R.currentvalue.suffix),B.call(_.font,R.currentvalue.font).text(V).call(s.convertToTspans,R._gd);var $=s.lineCount(B),K=(N.currentValueMaxLines+1-$)*R.currentvalue.font.size*n;return s.positionText(B,I,K),B}}function g(P,R,G){y.ensureSingle(P,"rect",i.gripRectClass,function(I){I.call(w,R,P,G).style("pointer-events","all")}).attr({width:i.gripWidth,height:i.gripHeight,rx:i.gripRadius,ry:i.gripRadius}).call(a.stroke,G.bordercolor).call(a.fill,G.bgcolor).style("stroke-width",G.borderwidth+"px")}function h(P,R,G){var I=y.ensureSingle(P,"text",i.labelClass,function(B){B.attr({"text-anchor":"middle","data-notex":1})}),H=R.step.label,N=G._gd._fullLayout._meta;return N&&(H=y.templateString(H,N)),I.call(_.font,G.font).text(H).call(s.convertToTspans,G._gd),I}function x(P,R){var G=y.ensureSingle(P,"g",i.labelsClass),I=R._dims,H=G.selectAll("g."+i.labelGroupClass).data(I.labelSteps);H.enter().append("g").classed(i.labelGroupClass,!0),H.exit().remove(),H.each(function(N){var B=M.select(this);B.call(h,N,R),_.setTranslate(B,T(R,N.fraction),i.tickOffset+R.ticklen+R.font.size*n+i.labelOffset+I.currentValueTotalHeight)})}function v(P,R,G,I,H){var N=Math.round(I*(G._stepCount-1)),B=G._visibleSteps[N]._index;B!==G.active&&m(P,R,G,B,!0,H)}function m(P,R,G,I,H,N){var B=G.active;G.active=I,t(P.layout,i.name,G).applyUpdate("active",I);var V=G.steps[G.active];R.call(S,G,N),R.call(b,G),P.emit("plotly_sliderchange",{slider:G,step:G.steps[G.active],interaction:H,previousActive:B}),V&&V.method&&H&&(R._nextMethod?(R._nextMethod.step=V,R._nextMethod.doCallback=H,R._nextMethod.doTransition=N):(R._nextMethod={step:V,doCallback:H,doTransition:N},R._nextMethodRaf=window.requestAnimationFrame(function(){var q=R._nextMethod.step;q.method&&(q.execute&&k.executeAPICommand(P,q.method,q.args),R._nextMethod=null,R._nextMethodRaf=null)})))}function w(P,R,G){if(!R._context.staticPlot){var I=G.node(),H=M.select(R);P.on("mousedown",B),P.on("touchstart",B)}function N(){return G.data()[0]}function B(){var V=N();R.emit("plotly_sliderstart",{slider:V});var q=G.select("."+i.gripRectClass);M.event.stopPropagation(),M.event.preventDefault(),q.call(a.fill,V.activebgcolor);var te=E(V,M.mouse(I)[0]);function $(){var Z=N(),X=E(Z,M.mouse(I)[0]);v(R,G,Z,X,!1)}function K(){var Z=N();Z._dragging=!1,q.call(a.fill,Z.bgcolor),H.on("mouseup",null),H.on("mousemove",null),H.on("touchend",null),H.on("touchmove",null),R.emit("plotly_sliderend",{slider:Z,step:Z.steps[Z.active]})}v(R,G,V,te,!0),V._dragging=!0,H.on("mousemove",$),H.on("touchmove",$),H.on("mouseup",K),H.on("touchend",K)}}function f(P,R){var G=P.selectAll("rect."+i.tickRectClass).data(R._visibleSteps),I=R._dims;G.enter().append("rect").classed(i.tickRectClass,!0),G.exit().remove(),G.attr({width:R.tickwidth+"px","shape-rendering":"crispEdges"}),G.each(function(H,N){var B=N%I.labelStride==0,V=M.select(this);V.attr({height:B?R.ticklen:R.minorticklen}).call(a.fill,R.tickcolor),_.setTranslate(V,T(R,N/(R._stepCount-1))-.5*R.tickwidth,(B?i.tickOffset:i.minorTickOffset)+I.currentValueTotalHeight)})}function S(P,R,G){for(var I=P.select("rect."+i.gripRectClass),H=0,N=0;N<R._stepCount;N++)if(R._visibleSteps[N]._index===R.active){H=N;break}var B=T(R,H/(R._stepCount-1));if(!R._invokingCommand){var V=I;G&&R.transition.duration>0&&(V=V.transition().duration(R.transition.duration).ease(R.transition.easing)),V.attr("transform",d(B-.5*i.gripWidth,R._dims.currentValueTotalHeight))}}function T(P,R){var G=P._dims;return G.inputAreaStart+i.stepInset+(G.inputAreaLength-2*i.stepInset)*Math.min(1,Math.max(0,R))}function E(P,R){var G=P._dims;return Math.min(1,Math.max(0,(R-i.stepInset-G.inputAreaStart)/(G.inputAreaLength-2*i.stepInset-2*G.inputAreaStart)))}function L(P,R,G){var I=G._dims,H=y.ensureSingle(P,"rect",i.railTouchRectClass,function(N){N.call(w,R,P,G).style("pointer-events","all")});H.attr({width:I.inputAreaLength,height:Math.max(I.inputAreaWidth,i.tickOffset+G.ticklen+I.labelHeight)}).call(a.fill,G.bgcolor).attr("opacity",0),_.setTranslate(H,0,I.currentValueTotalHeight)}function C(P,R){var G=R._dims,I=G.inputAreaLength-2*i.railInset,H=y.ensureSingle(P,"rect",i.railRectClass);H.attr({width:I,height:i.railWidth,rx:i.railRadius,ry:i.railRadius,"shape-rendering":"crispEdges"}).call(a.stroke,R.bordercolor).call(a.fill,R.bgcolor).style("stroke-width",R.borderwidth+"px"),_.setTranslate(H,i.railInset,.5*(G.inputAreaWidth-i.railWidth)+G.currentValueTotalHeight)}Y.exports=function(P){var R=P._context.staticPlot,G=P._fullLayout,I=function(te,$){for(var K=te[i.name],Z=[],X=0;X<K.length;X++){var ee=K[X];ee.visible&&(ee._gd=$,Z.push(ee))}return Z}(G,P),H=G._infolayer.selectAll("g."+i.containerClassName).data(I.length>0?[0]:[]);function N(te){te._commandObserver&&(te._commandObserver.remove(),delete te._commandObserver),k.autoMargin(P,u(te))}if(H.enter().append("g").classed(i.containerClassName,!0).style("cursor",R?null:"ew-resize"),H.exit().each(function(){M.select(this).selectAll("g."+i.groupClassName).each(N)}).remove(),I.length!==0){var B=H.selectAll("g."+i.groupClassName).data(I,p);B.enter().append("g").classed(i.groupClassName,!0),B.exit().each(N).remove();for(var V=0;V<I.length;V++){var q=I[V];c(P,q)}B.each(function(te){var $=M.select(this);(function(K){var Z=K._dims;Z.labelSteps=[];for(var X=K._stepCount,ee=0;ee<X;ee+=Z.labelStride)Z.labelSteps.push({fraction:ee/(X-1),step:K._visibleSteps[ee]})})(te),k.manageCommandObserver(P,te,te._visibleSteps,function(K){var Z=$.data()[0];Z.active!==K.index&&(Z._dragging||m(P,$,Z,K.index,!1,!0))}),function(K,Z,X){(X.steps[X.active]||{}).visible||(X.active=X._visibleSteps[0]._index),Z.call(b,X).call(C,X).call(x,X).call(f,X).call(L,K,X).call(g,K,X);var ee=X._dims;_.setTranslate(Z,ee.lx+X.pad.l,ee.ly+X.pad.t),Z.call(S,X,!1),Z.call(b,X)}(P,M.select(this),te)})}}},23243:function(Y,O,e){var M=e(98292);Y.exports={moduleType:"component",name:M.name,layoutAttributes:e(75067),supplyLayoutDefaults:e(12343),draw:e(44504)}},92998:function(Y,O,e){var M=e(39898),k=e(92770),a=e(74875),_=e(73972),y=e(71828),d=y.strTranslate,s=e(91424),t=e(7901),i=e(63893),r=e(37822),n=e(18783).OPPOSITE_SIDE,l=/ [XY][0-9]* /;Y.exports={draw:function(o,u,p){var c,b=p.propContainer,g=p.propName,h=p.placeholder,x=p.traceIndex,v=p.avoid||{},m=p.attributes,w=p.transform,f=p.containerGroup,S=o._fullLayout,T=1,E=!1,L=b.title,C=(L&&L.text?L.text:"").trim(),P=L&&L.font?L.font:{},R=P.family,G=P.size,I=P.color;g==="title.text"?c="titleText":g.indexOf("axis")!==-1?c="axisTitleText":g.indexOf(!0)&&(c="colorbarTitleText");var H=o._context.edits[c];C===""?T=0:C.replace(l," % ")===h.replace(l," % ")&&(T=.2,E=!0,H||(C="")),p._meta?C=y.templateString(C,p._meta):S._meta&&(C=y.templateString(C,S._meta));var N,B=C||H;f||(f=y.ensureSingle(S._infolayer,"g","g-"+u),N=S._hColorbarMoveTitle);var V=f.selectAll("text").data(B?[0]:[]);if(V.enter().append("text"),V.text(C).attr("class",u),V.exit().remove(),!B)return f;function q(K){y.syncOrAsync([te,$],K)}function te(K){var Z;return!w&&N&&(w={}),w?(Z="",w.rotate&&(Z+="rotate("+[w.rotate,m.x,m.y]+")"),(w.offset||N)&&(Z+=d(0,(w.offset||0)-(N||0)))):Z=null,K.attr("transform",Z),K.style({"font-family":R,"font-size":M.round(G,2)+"px",fill:t.rgb(I),opacity:T*t.opacity(I),"font-weight":a.fontWeight}).attr(m).call(i.convertToTspans,o),a.previousPromises(o)}function $(K){var Z=M.select(K.node().parentNode);if(v&&v.selection&&v.side&&C){Z.attr("transform",null);var X=n[v.side],ee=v.side==="left"||v.side==="top"?-1:1,ne=k(v.pad)?v.pad:2,re=s.bBox(Z.node()),ae={t:0,b:0,l:0,r:0},ue=o._fullLayout._reservedMargin;for(var pe in ue)for(var ge in ue[pe]){var we=ue[pe][ge];ae[ge]=Math.max(ae[ge],we)}var me={left:ae.l,top:ae.t,right:S.width-ae.r,bottom:S.height-ae.b},ve=v.maxShift||ee*(me[v.side]-re[v.side]),Ie=0;if(ve<0)Ie=ve;else{var Se=v.offsetLeft||0,ke=v.offsetTop||0;re.left-=Se,re.right-=Se,re.top-=ke,re.bottom-=ke,v.selection.each(function(){var oe=s.bBox(this);y.bBoxIntersect(re,oe,ne)&&(Ie=Math.max(Ie,ee*(oe[v.side]-re[X])+ne))}),Ie=Math.min(ve,Ie),b._titleScoot=Math.abs(Ie)}if(Ie>0||ve<0){var se={left:[-Ie,0],right:[Ie,0],top:[0,-Ie],bottom:[0,Ie]}[v.side];Z.attr("transform",d(se[0],se[1]))}}}return V.call(q),H&&(C?V.on(".opacity",null):(T=0,E=!0,V.text(h).on("mouseover.opacity",function(){M.select(this).transition().duration(r.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){M.select(this).transition().duration(r.HIDE_PLACEHOLDER).style("opacity",0)})),V.call(i.makeEditable,{gd:o}).on("edit",function(K){x!==void 0?_.call("_guiRestyle",o,g,K,x):_.call("_guiRelayout",o,g,K)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(q)}).on("input",function(K){this.text(K||" ").call(i.positionText,m.x,m.y)})),V.classed("js-placeholder",E),f}}},7163:function(Y,O,e){var M=e(41940),k=e(22399),a=e(1426).extendFlat,_=e(30962).overrideAll,y=e(35025),d=e(44467).templatedArray,s=d("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});Y.exports=_(d("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:s,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:a(y({editType:"arraydraw"}),{}),font:M({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:k.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(Y){Y.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(Y,O,e){var M=e(71828),k=e(85501),a=e(7163),_=e(75909).name,y=a.buttons;function d(t,i,r){function n(l,o){return M.coerce(t,i,a,l,o)}n("visible",k(t,i,{name:"buttons",handleItemDefaults:s}).length>0)&&(n("active"),n("direction"),n("type"),n("showactive"),n("x"),n("y"),M.noneOrAll(t,i,["x","y"]),n("xanchor"),n("yanchor"),n("pad.t"),n("pad.r"),n("pad.b"),n("pad.l"),M.coerceFont(n,"font",r.font),n("bgcolor",r.paper_bgcolor),n("bordercolor"),n("borderwidth"))}function s(t,i){function r(n,l){return M.coerce(t,i,y,n,l)}r("visible",t.method==="skip"||Array.isArray(t.args))&&(r("method"),r("args"),r("args2"),r("label"),r("execute"))}Y.exports=function(t,i){k(t,i,{name:_,handleItemDefaults:d})}},13689:function(Y,O,e){var M=e(39898),k=e(74875),a=e(7901),_=e(91424),y=e(71828),d=e(63893),s=e(44467).arrayEditor,t=e(18783).LINE_SPACING,i=e(75909),r=e(25849);function n(T){return T._index}function l(T,E){return+T.attr(i.menuIndexAttrName)===E._index}function o(T,E,L,C,P,R,G,I){E.active=G,s(T.layout,i.name,E).applyUpdate("active",G),E.type==="buttons"?p(T,C,null,null,E):E.type==="dropdown"&&(P.attr(i.menuIndexAttrName,"-1"),u(T,C,P,R,E),I||p(T,C,P,R,E))}function u(T,E,L,C,P){var R=y.ensureSingle(E,"g",i.headerClassName,function(V){V.style("pointer-events","all")}),G=P._dims,I=P.active,H=P.buttons[I]||i.blankHeaderOpts,N={y:P.pad.t,yPad:0,x:P.pad.l,xPad:0,index:0},B={width:G.headerWidth,height:G.headerHeight};R.call(c,P,H,T).call(f,P,N,B),y.ensureSingle(E,"text",i.headerArrowClassName,function(V){V.attr("text-anchor","end").call(_.font,P.font).text(i.arrowSymbol[P.direction])}).attr({x:G.headerWidth-i.arrowOffsetX+P.pad.l,y:G.headerHeight/2+i.textOffsetY+P.pad.t}),R.on("click",function(){L.call(S,String(l(L,P)?-1:P._index)),p(T,E,L,C,P)}),R.on("mouseover",function(){R.call(x)}),R.on("mouseout",function(){R.call(v,P)}),_.setTranslate(E,G.lx,G.ly)}function p(T,E,L,C,P){L||(L=E).attr("pointer-events","all");var R=function(Z){return+Z.attr(i.menuIndexAttrName)==-1}(L)&&P.type!=="buttons"?[]:P.buttons,G=P.type==="dropdown"?i.dropdownButtonClassName:i.buttonClassName,I=L.selectAll("g."+G).data(y.filterVisible(R)),H=I.enter().append("g").classed(G,!0),N=I.exit();P.type==="dropdown"?(H.attr("opacity","0").transition().attr("opacity","1"),N.transition().attr("opacity","0").remove()):N.remove();var B=0,V=0,q=P._dims,te=["up","down"].indexOf(P.direction)!==-1;P.type==="dropdown"&&(te?V=q.headerHeight+i.gapButtonHeader:B=q.headerWidth+i.gapButtonHeader),P.type==="dropdown"&&P.direction==="up"&&(V=-i.gapButtonHeader+i.gapButton-q.openHeight),P.type==="dropdown"&&P.direction==="left"&&(B=-i.gapButtonHeader+i.gapButton-q.openWidth);var $={x:q.lx+B+P.pad.l,y:q.ly+V+P.pad.t,yPad:i.gapButton,xPad:i.gapButton,index:0},K={l:$.x+P.borderwidth,t:$.y+P.borderwidth};I.each(function(Z,X){var ee=M.select(this);ee.call(c,P,Z,T).call(f,P,$),ee.on("click",function(){M.event.defaultPrevented||(Z.execute&&(Z.args2&&P.active===X?(o(T,P,0,E,L,C,-1),k.executeAPICommand(T,Z.method,Z.args2)):(o(T,P,0,E,L,C,X),k.executeAPICommand(T,Z.method,Z.args))),T.emit("plotly_buttonclicked",{menu:P,button:Z,active:P.active}))}),ee.on("mouseover",function(){ee.call(x)}),ee.on("mouseout",function(){ee.call(v,P),I.call(h,P)})}),I.call(h,P),te?(K.w=Math.max(q.openWidth,q.headerWidth),K.h=$.y-K.t):(K.w=$.x-K.l,K.h=Math.max(q.openHeight,q.headerHeight)),K.direction=P.direction,C&&(I.size()?function(Z,X,ee,ne,re,ae){var ue,pe,ge,we=re.direction,me=we==="up"||we==="down",ve=re._dims,Ie=re.active;if(me)for(pe=0,ge=0;ge<Ie;ge++)pe+=ve.heights[ge]+i.gapButton;else for(ue=0,ge=0;ge<Ie;ge++)ue+=ve.widths[ge]+i.gapButton;ne.enable(ae,ue,pe),ne.hbar&&ne.hbar.attr("opacity","0").transition().attr("opacity","1"),ne.vbar&&ne.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,C,P,K):function(Z){var X=!!Z.hbar,ee=!!Z.vbar;X&&Z.hbar.transition().attr("opacity","0").each("end",function(){X=!1,ee||Z.disable()}),ee&&Z.vbar.transition().attr("opacity","0").each("end",function(){ee=!1,X||Z.disable()})}(C))}function c(T,E,L,C){T.call(b,E).call(g,E,L,C)}function b(T,E){y.ensureSingle(T,"rect",i.itemRectClassName,function(L){L.attr({rx:i.rx,ry:i.ry,"shape-rendering":"crispEdges"})}).call(a.stroke,E.bordercolor).call(a.fill,E.bgcolor).style("stroke-width",E.borderwidth+"px")}function g(T,E,L,C){var P=y.ensureSingle(T,"text",i.itemTextClassName,function(I){I.attr({"text-anchor":"start","data-notex":1})}),R=L.label,G=C._fullLayout._meta;G&&(R=y.templateString(R,G)),P.call(_.font,E.font).text(R).call(d.convertToTspans,C)}function h(T,E){var L=E.active;T.each(function(C,P){var R=M.select(this);P===L&&E.showactive&&R.select("rect."+i.itemRectClassName).call(a.fill,i.activeColor)})}function x(T){T.select("rect."+i.itemRectClassName).call(a.fill,i.hoverColor)}function v(T,E){T.select("rect."+i.itemRectClassName).call(a.fill,E.bgcolor)}function m(T,E){var L=E._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},C=_.tester.selectAll("g."+i.dropdownButtonClassName).data(y.filterVisible(E.buttons));C.enter().append("g").classed(i.dropdownButtonClassName,!0);var P=["up","down"].indexOf(E.direction)!==-1;C.each(function(B,V){var q=M.select(this);q.call(c,E,B,T);var te=q.select("."+i.itemTextClassName),$=te.node()&&_.bBox(te.node()).width,K=Math.max($+i.textPadX,i.minWidth),Z=E.font.size*t,X=d.lineCount(te),ee=Math.max(Z*X,i.minHeight)+i.textOffsetY;ee=Math.ceil(ee),K=Math.ceil(K),L.widths[V]=K,L.heights[V]=ee,L.height1=Math.max(L.height1,ee),L.width1=Math.max(L.width1,K),P?(L.totalWidth=Math.max(L.totalWidth,K),L.openWidth=L.totalWidth,L.totalHeight+=ee+i.gapButton,L.openHeight+=ee+i.gapButton):(L.totalWidth+=K+i.gapButton,L.openWidth+=K+i.gapButton,L.totalHeight=Math.max(L.totalHeight,ee),L.openHeight=L.totalHeight)}),P?L.totalHeight-=i.gapButton:L.totalWidth-=i.gapButton,L.headerWidth=L.width1+i.arrowPadX,L.headerHeight=L.height1,E.type==="dropdown"&&(P?(L.width1+=i.arrowPadX,L.totalHeight=L.height1):L.totalWidth=L.width1,L.totalWidth+=i.arrowPadX),C.remove();var R=L.totalWidth+E.pad.l+E.pad.r,G=L.totalHeight+E.pad.t+E.pad.b,I=T._fullLayout._size;L.lx=I.l+I.w*E.x,L.ly=I.t+I.h*(1-E.y);var H="left";y.isRightAnchor(E)&&(L.lx-=R,H="right"),y.isCenterAnchor(E)&&(L.lx-=R/2,H="center");var N="top";y.isBottomAnchor(E)&&(L.ly-=G,N="bottom"),y.isMiddleAnchor(E)&&(L.ly-=G/2,N="middle"),L.totalWidth=Math.ceil(L.totalWidth),L.totalHeight=Math.ceil(L.totalHeight),L.lx=Math.round(L.lx),L.ly=Math.round(L.ly),k.autoMargin(T,w(E),{x:E.x,y:E.y,l:R*({right:1,center:.5}[H]||0),r:R*({left:1,center:.5}[H]||0),b:G*({top:1,middle:.5}[N]||0),t:G*({bottom:1,middle:.5}[N]||0)})}function w(T){return i.autoMarginIdRoot+T._index}function f(T,E,L,C){C=C||{};var P=T.select("."+i.itemRectClassName),R=T.select("."+i.itemTextClassName),G=E.borderwidth,I=L.index,H=E._dims;_.setTranslate(T,G+L.x,G+L.y);var N=["up","down"].indexOf(E.direction)!==-1,B=C.height||(N?H.heights[I]:H.height1);P.attr({x:0,y:0,width:C.width||(N?H.width1:H.widths[I]),height:B});var V=E.font.size*t,q=(d.lineCount(R)-1)*V/2;d.positionText(R,i.textOffsetX,B/2-q+i.textOffsetY),N?L.y+=H.heights[I]+L.yPad:L.x+=H.widths[I]+L.xPad,L.index++}function S(T,E){T.attr(i.menuIndexAttrName,E||"-1").selectAll("g."+i.dropdownButtonClassName).remove()}Y.exports=function(T){var E=T._fullLayout,L=y.filterVisible(E[i.name]);function C(V){k.autoMargin(T,w(V))}var P=E._menulayer.selectAll("g."+i.containerClassName).data(L.length>0?[0]:[]);if(P.enter().append("g").classed(i.containerClassName,!0).style("cursor","pointer"),P.exit().each(function(){M.select(this).selectAll("g."+i.headerGroupClassName).each(C)}).remove(),L.length!==0){var R=P.selectAll("g."+i.headerGroupClassName).data(L,n);R.enter().append("g").classed(i.headerGroupClassName,!0);for(var G=y.ensureSingle(P,"g",i.dropdownButtonGroupClassName,function(V){V.style("pointer-events","all")}),I=0;I<L.length;I++){var H=L[I];m(T,H)}var N="updatemenus"+E._uid,B=new r(T,G,N);R.enter().size()&&(G.node().parentNode.appendChild(G.node()),G.call(S)),R.exit().each(function(V){G.call(S),C(V)}).remove(),R.each(function(V){var q=M.select(this),te=V.type==="dropdown"?G:null;k.manageCommandObserver(T,V,V.buttons,function($){o(T,V,V.buttons[$.index],q,te,B,$.index,!0)}),V.type==="dropdown"?(u(T,q,G,B,V),l(G,V)&&p(T,q,G,B,V)):p(T,q,null,null,V)})}}},20763:function(Y,O,e){var M=e(75909);Y.exports={moduleType:"component",name:M.name,layoutAttributes:e(7163),supplyLayoutDefaults:e(64897),draw:e(13689)}},25849:function(Y,O,e){Y.exports=y;var M=e(39898),k=e(7901),a=e(91424),_=e(71828);function y(d,s,t){this.gd=d,this.container=s,this.id=t,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}y.barWidth=2,y.barLength=20,y.barRadius=2,y.barPad=1,y.barColor="#808BA4",y.prototype.enable=function(d,s,t){var i=this.gd._fullLayout,r=i.width,n=i.height;this.position=d;var l,o,u,p,c=this.position.l,b=this.position.w,g=this.position.t,h=this.position.h,x=this.position.direction,v=x==="down",m=x==="left",w=x==="up",f=b,S=h;v||m||x==="right"||w||(this.position.direction="down",v=!0),v||w?(o=(l=c)+f,v?(u=g,S=(p=Math.min(u+S,n))-u):S=(p=g+S)-(u=Math.max(p-S,0))):(p=(u=g)+S,m?f=(o=c+f)-(l=Math.max(o-f,0)):(l=c,f=(o=Math.min(l+f,r))-l)),this._box={l,t:u,w:f,h:S};var T=b>f,E=y.barLength+2*y.barPad,L=y.barWidth+2*y.barPad,C=c,P=g+h;P+L>n&&(P=n-L);var R=this.container.selectAll("rect.scrollbar-horizontal").data(T?[0]:[]);R.exit().on(".drag",null).remove(),R.enter().append("rect").classed("scrollbar-horizontal",!0).call(k.fill,y.barColor),T?(this.hbar=R.attr({rx:y.barRadius,ry:y.barRadius,x:C,y:P,width:E,height:L}),this._hbarXMin=C+E/2,this._hbarTranslateMax=f-E):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var G=h>S,I=y.barWidth+2*y.barPad,H=y.barLength+2*y.barPad,N=c+b,B=g;N+I>r&&(N=r-I);var V=this.container.selectAll("rect.scrollbar-vertical").data(G?[0]:[]);V.exit().on(".drag",null).remove(),V.enter().append("rect").classed("scrollbar-vertical",!0).call(k.fill,y.barColor),G?(this.vbar=V.attr({rx:y.barRadius,ry:y.barRadius,x:N,y:B,width:I,height:H}),this._vbarYMin=B+H/2,this._vbarTranslateMax=S-H):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var q=this.id,te=l-.5,$=G?o+I+.5:o+.5,K=u-.5,Z=T?p+L+.5:p+.5,X=i._topdefs.selectAll("#"+q).data(T||G?[0]:[]);if(X.exit().remove(),X.enter().append("clipPath").attr("id",q).append("rect"),T||G?(this._clipRect=X.select("rect").attr({x:Math.floor(te),y:Math.floor(K),width:Math.ceil($)-Math.floor(te),height:Math.ceil(Z)-Math.floor(K)}),this.container.call(a.setClipUrl,q,this.gd),this.bg.attr({x:c,y:g,width:b,height:h})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),T||G){var ee=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(ee);var ne=M.behavior.drag().on("dragstart",function(){M.event.sourceEvent.preventDefault(),M.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));T&&this.hbar.on(".drag",null).call(ne),G&&this.vbar.on(".drag",null).call(ne)}this.setTranslate(s,t)},y.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(a.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},y.prototype._onBoxDrag=function(){var d=this.translateX,s=this.translateY;this.hbar&&(d-=M.event.dx),this.vbar&&(s-=M.event.dy),this.setTranslate(d,s)},y.prototype._onBoxWheel=function(){var d=this.translateX,s=this.translateY;this.hbar&&(d+=M.event.deltaY),this.vbar&&(s+=M.event.deltaY),this.setTranslate(d,s)},y.prototype._onBarDrag=function(){var d=this.translateX,s=this.translateY;if(this.hbar){var t=d+this._hbarXMin,i=t+this._hbarTranslateMax;d=(_.constrain(M.event.x,t,i)-t)/(i-t)*(this.position.w-this._box.w)}if(this.vbar){var r=s+this._vbarYMin,n=r+this._vbarTranslateMax;s=(_.constrain(M.event.y,r,n)-r)/(n-r)*(this.position.h-this._box.h)}this.setTranslate(d,s)},y.prototype.setTranslate=function(d,s){var t=this.position.w-this._box.w,i=this.position.h-this._box.h;if(d=_.constrain(d||0,0,t),s=_.constrain(s||0,0,i),this.translateX=d,this.translateY=s,this.container.call(a.setTranslate,this._box.l-this.position.l-d,this._box.t-this.position.t-s),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+d-.5),y:Math.floor(this.position.t+s-.5)}),this.hbar){var r=d/t;this.hbar.call(a.setTranslate,d+r*this._hbarTranslateMax,s)}if(this.vbar){var n=s/i;this.vbar.call(a.setTranslate,d,s+n*this._vbarTranslateMax)}}},18783:function(Y){Y.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(Y){Y.exports={axisRefDescription:function(O,e,M){return["If set to a",O,"axis id (e.g. *"+O+"* or","*"+O+"2*), the `"+O+"` position refers to a",O,"coordinate. If set to *paper*, the `"+O+"`","position refers to the distance from the",e,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",e,"("+M+"). If set to a",O,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",e,"of the domain of that axis: e.g.,","*"+O+"2 domain* refers to the domain of the second",O," axis and a",O,"position of 0.5 refers to the","point between the",e,"and the",M,"of the domain of the","second",O,"axis."].join(" ")}}},22372:function(Y){Y.exports={INCREASING:{COLOR:"#3D9970",SYMBOL:"▲"},DECREASING:{COLOR:"#FF4136",SYMBOL:"▼"}}},31562:function(Y){Y.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(Y){Y.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},29659:function(Y){Y.exports={solid:[[],0],dot:[[.5,1],200],dash:[[.5,1],50],longdash:[[.5,1],10],dashdot:[[.5,.625,.875,1],50],longdashdot:[[.5,.7,.8,1],10]}},87381:function(Y){Y.exports={circle:"●","circle-open":"○",square:"■","square-open":"□",diamond:"◆","diamond-open":"◇",cross:"+",x:"❌"}},37822:function(Y){Y.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(Y){Y.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},32396:function(Y,O){O.CSS_DECLARATIONS=[["image-rendering","optimizeSpeed"],["image-rendering","-moz-crisp-edges"],["image-rendering","-o-crisp-edges"],["image-rendering","-webkit-optimize-contrast"],["image-rendering","optimize-contrast"],["image-rendering","crisp-edges"],["image-rendering","pixelated"]],O.STYLE=O.CSS_DECLARATIONS.map(function(e){return e.join(": ")+"; "}).join("")},77922:function(Y,O){O.xmlns="http://www.w3.org/2000/xmlns/",O.svg="http://www.w3.org/2000/svg",O.xlink="http://www.w3.org/1999/xlink",O.svgAttrs={xmlns:O.svg,"xmlns:xlink":O.xlink}},8729:function(Y,O,e){O.version=e(11506).version,e(7417),e(98847);for(var M=e(73972),k=O.register=M.register,a=e(10641),_=Object.keys(a),y=0;y<_.length;y++){var d=_[y];d.charAt(0)!=="_"&&(O[d]=a[d]),k({moduleType:"apiMethod",name:d,fn:a[d]})}k(e(67368)),k([e(32745),e(2468),e(47322),e(89853),e(68804),e(20763),e(23243),e(13137),e(97218),e(83312),e(37369),e(21081),e(12311),e(2199),e(30211),e(64168)]),k([e(92177),e(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(k(window.PlotlyLocales),delete window.PlotlyLocales),O.Icons=e(24255);var s=e(30211),t=e(74875);O.Plots={resize:t.resize,graphJson:t.graphJson,sendDataToCloud:t.sendDataToCloud},O.Fx={hover:s.hover,unhover:s.unhover,loneHover:s.loneHover,loneUnhover:s.loneUnhover},O.Snapshot=e(44511),O.PlotSchema=e(86281)},24255:function(Y){Y.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(Y,O){O.isLeftAnchor=function(e){return e.xanchor==="left"||e.xanchor==="auto"&&e.x<=.3333333333333333},O.isCenterAnchor=function(e){return e.xanchor==="center"||e.xanchor==="auto"&&e.x>.3333333333333333&&e.x<.6666666666666666},O.isRightAnchor=function(e){return e.xanchor==="right"||e.xanchor==="auto"&&e.x>=.6666666666666666},O.isTopAnchor=function(e){return e.yanchor==="top"||e.yanchor==="auto"&&e.y>=.6666666666666666},O.isMiddleAnchor=function(e){return e.yanchor==="middle"||e.yanchor==="auto"&&e.y>.3333333333333333&&e.y<.6666666666666666},O.isBottomAnchor=function(e){return e.yanchor==="bottom"||e.yanchor==="auto"&&e.y<=.3333333333333333}},26348:function(Y,O,e){var M=e(64872),k=M.mod,a=M.modHalf,_=Math.PI,y=2*_;function d(r){return Math.abs(r[1]-r[0])>y-1e-14}function s(r,n){return a(n-r,y)}function t(r,n){if(d(n))return!0;var l,o;n[0]<n[1]?(l=n[0],o=n[1]):(l=n[1],o=n[0]),(l=k(l,y))>(o=k(o,y))&&(o+=y);var u=k(r,y),p=u+y;return u>=l&&u<=o||p>=l&&p<=o}function i(r,n,l,o,u,p,c){u=u||0,p=p||0;var b,g,h,x,v,m=d([l,o]);function w(E,L){return[E*Math.cos(L)+u,p-E*Math.sin(L)]}m?(b=0,g=_,h=y):l<o?(b=l,h=o):(b=o,h=l),r<n?(x=r,v=n):(x=n,v=r);var f,S=Math.abs(h-b)<=_?0:1;function T(E,L,C){return"A"+[E,E]+" "+[0,S,C]+" "+w(E,L)}return m?f=x===null?"M"+w(v,b)+T(v,g,0)+T(v,h,0)+"Z":"M"+w(x,b)+T(x,g,0)+T(x,h,0)+"ZM"+w(v,b)+T(v,g,1)+T(v,h,1)+"Z":x===null?(f="M"+w(v,b)+T(v,h,0),c&&(f+="L0,0Z")):f="M"+w(x,b)+"L"+w(v,b)+T(v,h,0)+"L"+w(x,h)+T(x,b,1)+"Z",f}Y.exports={deg2rad:function(r){return r/180*_},rad2deg:function(r){return r/_*180},angleDelta:s,angleDist:function(r,n){return Math.abs(s(r,n))},isFullCircle:d,isAngleInsideSector:t,isPtInsideSector:function(r,n,l,o){return!!t(n,o)&&(l[0]<l[1]?(u=l[0],p=l[1]):(u=l[1],p=l[0]),r>=u&&r<=p);var u,p},pathArc:function(r,n,l,o,u){return i(null,r,n,l,o,u,0)},pathSector:function(r,n,l,o,u){return i(null,r,n,l,o,u,1)},pathAnnulus:function(r,n,l,o,u,p){return i(r,n,l,o,u,p,1)}}},73627:function(Y,O){var e=Array.isArray,M=ArrayBuffer,k=DataView;function a(d){return M.isView(d)&&!(d instanceof k)}function _(d){return e(d)||a(d)}function y(d,s,t){if(_(d)){if(_(d[0])){for(var i=t,r=0;r<d.length;r++)i=s(i,d[r].length);return i}return d.length}return 0}O.isTypedArray=a,O.isArrayOrTypedArray=_,O.isArray1D=function(d){return!_(d[0])},O.ensureArray=function(d,s){return e(d)||(d=[]),d.length=s,d},O.concat=function(){var d,s,t,i,r,n,l,o,u=[],p=!0,c=0;for(t=0;t<arguments.length;t++)(n=(i=arguments[t]).length)&&(s?u.push(i):(s=i,r=n),e(i)?d=!1:(p=!1,c?d!==i.constructor&&(d=!1):d=i.constructor),c+=n);if(!c)return[];if(!u.length)return s;if(p)return s.concat.apply(s,u);if(d){for((l=new d(c)).set(s),t=0;t<u.length;t++)i=u[t],l.set(i,r),r+=i.length;return l}for(l=new Array(c),o=0;o<s.length;o++)l[o]=s[o];for(t=0;t<u.length;t++){for(i=u[t],o=0;o<i.length;o++)l[r+o]=i[o];r+=o}return l},O.maxRowLength=function(d){return y(d,Math.max,0)},O.minRowLength=function(d){return y(d,Math.min,1/0)}},95218:function(Y,O,e){var M=e(92770),k=e(50606).BADNUM,a=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;Y.exports=function(_){return typeof _=="string"&&(_=_.replace(a,"")),M(_)?Number(_):k}},33306:function(Y){Y.exports=function(O){var e=O._fullLayout;e._glcanvas&&e._glcanvas.size()&&e._glcanvas.each(function(M){M.regl&&M.regl.clear({color:!0,depth:!0})})}},86367:function(Y){Y.exports=function(O){O._responsiveChartHandler&&(window.removeEventListener("resize",O._responsiveChartHandler),delete O._responsiveChartHandler)}},96554:function(Y,O,e){var M=e(92770),k=e(84267),a=e(9012),_=e(63282),y=e(7901),d=e(37822).DESELECTDIM,s=e(65487),t=e(30587).counter,i=e(64872).modHalf,r=e(73627).isArrayOrTypedArray;function n(l,o){var u=O.valObjectMeta[o.valType];if(o.arrayOk&&r(l))return!0;if(u.validateFunction)return u.validateFunction(l,o);var p={},c=p,b={set:function(g){c=g}};return u.coerceFunction(l,b,p,o),c!==p}O.valObjectMeta={data_array:{coerceFunction:function(l,o,u){r(l)?o.set(l):u!==void 0&&o.set(u)}},enumerated:{coerceFunction:function(l,o,u,p){p.coerceNumber&&(l=+l),p.values.indexOf(l)===-1?o.set(u):o.set(l)},validateFunction:function(l,o){o.coerceNumber&&(l=+l);for(var u=o.values,p=0;p<u.length;p++){var c=String(u[p]);if(c.charAt(0)==="/"&&c.charAt(c.length-1)==="/"){if(new RegExp(c.substr(1,c.length-2)).test(l))return!0}else if(l===u[p])return!0}return!1}},boolean:{coerceFunction:function(l,o,u){l===!0||l===!1?o.set(l):o.set(u)}},number:{coerceFunction:function(l,o,u,p){!M(l)||p.min!==void 0&&l<p.min||p.max!==void 0&&l>p.max?o.set(u):o.set(+l)}},integer:{coerceFunction:function(l,o,u,p){l%1||!M(l)||p.min!==void 0&&l<p.min||p.max!==void 0&&l>p.max?o.set(u):o.set(+l)}},string:{coerceFunction:function(l,o,u,p){if(typeof l!="string"){var c=typeof l=="number";p.strict!==!0&&c?o.set(String(l)):o.set(u)}else p.noBlank&&!l?o.set(u):o.set(l)}},color:{coerceFunction:function(l,o,u){k(l).isValid()?o.set(l):o.set(u)}},colorlist:{coerceFunction:function(l,o,u){Array.isArray(l)&&l.length&&l.every(function(p){return k(p).isValid()})?o.set(l):o.set(u)}},colorscale:{coerceFunction:function(l,o,u){o.set(_.get(l,u))}},angle:{coerceFunction:function(l,o,u){l==="auto"?o.set("auto"):M(l)?o.set(i(+l,360)):o.set(u)}},subplotid:{coerceFunction:function(l,o,u,p){var c=p.regex||t(u);typeof l=="string"&&c.test(l)?o.set(l):o.set(u)},validateFunction:function(l,o){var u=o.dflt;return l===u||typeof l=="string"&&!!t(u).test(l)}},flaglist:{coerceFunction:function(l,o,u,p){if((p.extras||[]).indexOf(l)===-1)if(typeof l=="string"){for(var c=l.split("+"),b=0;b<c.length;){var g=c[b];p.flags.indexOf(g)===-1||c.indexOf(g)<b?c.splice(b,1):b++}c.length?o.set(c.join("+")):o.set(u)}else o.set(u);else o.set(l)}},any:{coerceFunction:function(l,o,u){l===void 0?o.set(u):o.set(l)}},info_array:{coerceFunction:function(l,o,u,p){function c(P,R,G){var I,H={set:function(N){I=N}};return G===void 0&&(G=R.dflt),O.valObjectMeta[R.valType].coerceFunction(P,H,G,R),I}var b=p.dimensions===2||p.dimensions==="1-2"&&Array.isArray(l)&&Array.isArray(l[0]);if(Array.isArray(l)){var g,h,x,v,m,w,f=p.items,S=[],T=Array.isArray(f),E=T&&b&&Array.isArray(f[0]),L=b&&T&&!E,C=T&&!L?f.length:l.length;if(u=Array.isArray(u)?u:[],b)for(g=0;g<C;g++)for(S[g]=[],x=Array.isArray(l[g])?l[g]:[],m=L?f.length:T?f[g].length:x.length,h=0;h<m;h++)v=L?f[h]:T?f[g][h]:f,(w=c(x[h],v,(u[g]||[])[h]))!==void 0&&(S[g][h]=w);else for(g=0;g<C;g++)(w=c(l[g],T?f[g]:f,u[g]))!==void 0&&(S[g]=w);o.set(S)}else o.set(u)},validateFunction:function(l,o){if(!Array.isArray(l))return!1;var u=o.items,p=Array.isArray(u),c=o.dimensions===2;if(!o.freeLength&&l.length!==u.length)return!1;for(var b=0;b<l.length;b++)if(c){if(!Array.isArray(l[b])||!o.freeLength&&l[b].length!==u[b].length)return!1;for(var g=0;g<l[b].length;g++)if(!n(l[b][g],p?u[b][g]:u))return!1}else if(!n(l[b],p?u[b]:u))return!1;return!0}}},O.coerce=function(l,o,u,p,c){var b=s(u,p).get(),g=s(l,p),h=s(o,p),x=g.get(),v=o._template;if(x===void 0&&v&&(x=s(v,p).get(),v=0),c===void 0&&(c=b.dflt),b.arrayOk&&r(x))return h.set(x),x;var m=O.valObjectMeta[b.valType].coerceFunction;m(x,h,c,b);var w=h.get();return v&&w===c&&!n(x,b)&&(m(x=s(v,p).get(),h,c,b),w=h.get()),w},O.coerce2=function(l,o,u,p,c){var b=s(l,p),g=O.coerce(l,o,u,p,c);return b.get()!=null&&g},O.coerceFont=function(l,o,u){var p={};return u=u||{},p.family=l(o+".family",u.family),p.size=l(o+".size",u.size),p.color=l(o+".color",u.color),p},O.coercePattern=function(l,o,u,p){if(l(o+".shape")){l(o+".solidity"),l(o+".size");var c=l(o+".fillmode")==="overlay";if(!p){var b=l(o+".bgcolor",c?u:void 0);l(o+".fgcolor",c?y.contrast(b):u)}l(o+".fgopacity",c?.5:1)}},O.coerceHoverinfo=function(l,o,u){var p,c=o._module.attributes,b=c.hoverinfo?c:a,g=b.hoverinfo;if(u._dataLength===1){var h=g.dflt==="all"?g.flags.slice():g.dflt.split("+");h.splice(h.indexOf("name"),1),p=h.join("+")}return O.coerce(l,o,b,"hoverinfo",p)},O.coerceSelectionMarkerOpacity=function(l,o){if(l.marker){var u,p,c=l.marker.opacity;c!==void 0&&(r(c)||l.selected||l.unselected||(u=c,p=d*c),o("selected.marker.opacity",u),o("unselected.marker.opacity",p))}},O.validate=n},41631:function(Y,O,e){var M,k,a=e(84096).i$,_=e(92770),y=e(47769),d=e(64872).mod,s=e(50606),t=s.BADNUM,i=s.ONEDAY,r=s.ONEHOUR,n=s.ONEMIN,l=s.ONESEC,o=s.EPOCHJD,u=e(73972),p=e(84096).g0,c=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,g=new Date().getFullYear()-70;function h(R){return R&&u.componentsRegistry.calendars&&typeof R=="string"&&R!=="gregorian"}function x(R,G){return String(R+Math.pow(10,G)).substr(1)}O.dateTick0=function(R,G){var I=function(N,B){return h(N)?B?u.getComponentMethod("calendars","CANONICAL_SUNDAY")[N]:u.getComponentMethod("calendars","CANONICAL_TICK")[N]:B?"2000-01-02":"2000-01-01"}(R,!!G);if(G<2)return I;var H=O.dateTime2ms(I,R);return H+=i*(G-1),O.ms2DateTime(H,0,R)},O.dfltRange=function(R){return h(R)?u.getComponentMethod("calendars","DFLTRANGE")[R]:["2000-01-01","2001-01-01"]},O.isJSDate=function(R){return typeof R=="object"&&R!==null&&typeof R.getTime=="function"},O.dateTime2ms=function(R,G){if(O.isJSDate(R)){var I=R.getTimezoneOffset()*n,H=(R.getUTCMinutes()-R.getMinutes())*n+(R.getUTCSeconds()-R.getSeconds())*l+(R.getUTCMilliseconds()-R.getMilliseconds());if(H){var N=3*n;I=I-N/2+d(H-I+N/2,N)}return(R=Number(R)-I)>=M&&R<=k?R:t}if(typeof R!="string"&&typeof R!="number")return t;R=String(R);var B=h(G),V=R.charAt(0);!B||V!=="G"&&V!=="g"||(R=R.substr(1),G="");var q=B&&G.substr(0,7)==="chinese",te=R.match(q?b:c);if(!te)return t;var $=te[1],K=te[3]||"1",Z=Number(te[5]||1),X=Number(te[7]||0),ee=Number(te[9]||0),ne=Number(te[11]||0);if(B){if($.length===2)return t;var re;$=Number($);try{var ae=u.getComponentMethod("calendars","getCal")(G);if(q){var ue=K.charAt(K.length-1)==="i";K=parseInt(K,10),re=ae.newDate($,ae.toMonthIndex($,K,ue),Z)}else re=ae.newDate($,Number(K),Z)}catch{return t}return re?(re.toJD()-o)*i+X*r+ee*n+ne*l:t}$=$.length===2?(Number($)+2e3-g)%100+g:Number($),K-=1;var pe=new Date(Date.UTC(2e3,K,Z,X,ee));return pe.setUTCFullYear($),pe.getUTCMonth()!==K||pe.getUTCDate()!==Z?t:pe.getTime()+ne*l},M=O.MIN_MS=O.dateTime2ms("-9999"),k=O.MAX_MS=O.dateTime2ms("9999-12-31 23:59:59.9999"),O.isDateTime=function(R,G){return O.dateTime2ms(R,G)!==t};var v=90*i,m=3*r,w=5*n;function f(R,G,I,H,N){if((G||I||H||N)&&(R+=" "+x(G,2)+":"+x(I,2),(H||N)&&(R+=":"+x(H,2),N))){for(var B=4;N%10==0;)B-=1,N/=10;R+="."+x(N,B)}return R}O.ms2DateTime=function(R,G,I){if(typeof R!="number"||!(R>=M&&R<=k))return t;G||(G=0);var H,N,B,V,q,te,$=Math.floor(10*d(R+.05,1)),K=Math.round(R-$/10);if(h(I)){var Z=Math.floor(K/i)+o,X=Math.floor(d(R,i));try{H=u.getComponentMethod("calendars","getCal")(I).fromJD(Z).formatDate("yyyy-mm-dd")}catch{H=p("G%Y-%m-%d")(new Date(K))}if(H.charAt(0)==="-")for(;H.length<11;)H="-0"+H.substr(1);else for(;H.length<10;)H="0"+H;N=G<v?Math.floor(X/r):0,B=G<v?Math.floor(X%r/n):0,V=G<m?Math.floor(X%n/l):0,q=G<w?X%l*10+$:0}else te=new Date(K),H=p("%Y-%m-%d")(te),N=G<v?te.getUTCHours():0,B=G<v?te.getUTCMinutes():0,V=G<m?te.getUTCSeconds():0,q=G<w?10*te.getUTCMilliseconds()+$:0;return f(H,N,B,V,q)},O.ms2DateTimeLocal=function(R){if(!(R>=M+i&&R<=k-i))return t;var G=Math.floor(10*d(R+.05,1)),I=new Date(Math.round(R-G/10));return f(a("%Y-%m-%d")(I),I.getHours(),I.getMinutes(),I.getSeconds(),10*I.getUTCMilliseconds()+G)},O.cleanDate=function(R,G,I){if(R===t)return G;if(O.isJSDate(R)||typeof R=="number"&&isFinite(R)){if(h(I))return y.error("JS Dates and milliseconds are incompatible with world calendars",R),G;if(!(R=O.ms2DateTimeLocal(+R))&&G!==void 0)return G}else if(!O.isDateTime(R,I))return y.error("unrecognized date",R),G;return R};var S=/%\d?f/g,T=/%h/g,E={1:"1",2:"1",3:"2",4:"2"};function L(R,G,I,H){R=R.replace(S,function(B){var V=Math.min(+B.charAt(1)||6,6);return(G/1e3%1+2).toFixed(V).substr(2).replace(/0+$/,"")||"0"});var N=new Date(Math.floor(G+.05));if(R=R.replace(T,function(){return E[I("%q")(N)]}),h(H))try{R=u.getComponentMethod("calendars","worldCalFmt")(R,G,H)}catch{return"Invalid"}return I(R)(N)}var C=[59,59.9,59.99,59.999,59.9999];O.formatDate=function(R,G,I,H,N,B){if(N=h(N)&&N,!G)if(I==="y")G=B.year;else if(I==="m")G=B.month;else{if(I!=="d")return function(V,q){var te=d(V+.05,i),$=x(Math.floor(te/r),2)+":"+x(d(Math.floor(te/n),60),2);if(q!=="M"){_(q)||(q=0);var K=(100+Math.min(d(V/l,60),C[q])).toFixed(q).substr(1);q>0&&(K=K.replace(/0+$/,"").replace(/[\.]$/,"")),$+=":"+K}return $}(R,I)+`
`+L(B.dayMonthYear,R,H,N);G=B.dayMonth+`
`+B.year}return L(G,R,H,N)};var P=3*i;O.incrementMonth=function(R,G,I){I=h(I)&&I;var H=d(R,i);if(R=Math.round(R-H),I)try{var N=Math.round(R/i)+o,B=u.getComponentMethod("calendars","getCal")(I),V=B.fromJD(N);return G%12?B.add(V,G,"m"):B.add(V,G/12,"y"),(V.toJD()-o)*i+H}catch{y.error("invalid ms "+R+" in calendar "+I)}var q=new Date(R+P);return q.setUTCMonth(q.getUTCMonth()+G)+H-P},O.findExactDates=function(R,G){for(var I,H,N=0,B=0,V=0,q=0,te=h(G)&&u.getComponentMethod("calendars","getCal")(G),$=0;$<R.length;$++)if(H=R[$],_(H)){if(!(H%i))if(te)try{(I=te.fromJD(H/i+o)).day()===1?I.month()===1?N++:B++:V++}catch{}else(I=new Date(H)).getUTCDate()===1?I.getUTCMonth()===0?N++:B++:V++}else q++;V+=B+=N;var K=R.length-q;return{exactYears:N/K,exactMonths:B/K,exactDays:V/K}}},24401:function(Y,O,e){var M=e(39898),k=e(47769),a=e(35657),_=e(79576);function y(r){var n=r&&r.parentNode;n&&n.removeChild(r)}function d(r,n,l){var o="plotly.js-style-"+r,u=document.getElementById(o);u||((u=document.createElement("style")).setAttribute("id",o),u.appendChild(document.createTextNode("")),document.head.appendChild(u));var p=u.sheet;p.insertRule?p.insertRule(n+"{"+l+"}",0):p.addRule?p.addRule(n,l,0):k.warn("addStyleRule failed")}function s(r){var n=window.getComputedStyle(r,null),l=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform");return l==="none"?null:l.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(o){return+o})}function t(r){for(var n=[];i(r);)n.push(r),r=r.parentNode;return n}function i(r){return r&&(r instanceof Element||r instanceof HTMLElement)}Y.exports={getGraphDiv:function(r){var n;if(typeof r=="string"){if((n=document.getElementById(r))===null)throw new Error("No DOM element with id '"+r+"' exists on the page.");return n}if(r==null)throw new Error("DOM element provided is null or undefined");return r},isPlotDiv:function(r){var n=M.select(r);return n.node()instanceof HTMLElement&&n.size()&&n.classed("js-plotly-plot")},removeElement:y,addStyleRule:function(r,n){d("global",r,n)},addRelatedStyleRule:d,deleteRelatedStyleRule:function(r){var n="plotly.js-style-"+r,l=document.getElementById(n);l&&y(l)},getFullTransformMatrix:function(r){var n=t(r),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return n.forEach(function(o){var u=s(o);if(u){var p=a.convertCssMatrix(u);l=_.multiply(l,l,p)}}),l},getElementTransformMatrix:s,getElementAndAncestors:t,equalDomRects:function(r,n){return r&&n&&r.top===n.top&&r.left===n.left&&r.right===n.right&&r.bottom===n.bottom}}},11086:function(Y,O,e){var M=e(15398).EventEmitter,k={init:function(a){if(a._ev instanceof M)return a;var _=new M,y=new M;return a._ev=_,a._internalEv=y,a.on=_.on.bind(_),a.once=_.once.bind(_),a.removeListener=_.removeListener.bind(_),a.removeAllListeners=_.removeAllListeners.bind(_),a._internalOn=y.on.bind(y),a._internalOnce=y.once.bind(y),a._removeInternalListener=y.removeListener.bind(y),a._removeAllInternalListeners=y.removeAllListeners.bind(y),a.emit=function(d,s){typeof jQuery<"u"&&jQuery(a).trigger(d,s),_.emit(d,s),y.emit(d,s)},a},triggerHandler:function(a,_,y){var d,s;typeof jQuery<"u"&&(d=jQuery(a).triggerHandler(_,y));var t=a._ev;if(!t)return d;var i,r=t._events[_];if(!r)return d;function n(l){return l.listener?(t.removeListener(_,l.listener),l.fired?void 0:(l.fired=!0,l.listener.apply(t,[y]))):l.apply(t,[y])}for(r=Array.isArray(r)?r:[r],i=0;i<r.length-1;i++)n(r[i]);return s=n(r[i]),d!==void 0?d:s},purge:function(a){return delete a._ev,delete a.on,delete a.once,delete a.removeListener,delete a.removeAllListeners,delete a.emit,delete a._ev,delete a._internalEv,delete a._internalOn,delete a._internalOnce,delete a._removeInternalListener,delete a._removeAllInternalListeners,a}};Y.exports=k},1426:function(Y,O,e){var M=e(41965),k=Array.isArray;function a(_,y,d,s){var t,i,r,n,l,o,u,p=_[0],c=_.length;if(c===2&&k(p)&&k(_[1])&&p.length===0){if(u=function(g,h){var x,v;for(x=0;x<g.length;x++){if((v=g[x])!==null&&typeof v=="object")return!1;v!==void 0&&(h[x]=v)}return!0}(_[1],p),u)return p;p.splice(0,p.length)}for(var b=1;b<c;b++)for(i in t=_[b])r=p[i],n=t[i],s&&k(n)?p[i]=n:y&&n&&(M(n)||(l=k(n)))?(l?(l=!1,o=r&&k(r)?r:[]):o=r&&M(r)?r:{},p[i]=a([o,n],y,d,s)):(n!==void 0||d)&&(p[i]=n);return p}O.extendFlat=function(){return a(arguments,!1,!1,!1)},O.extendDeep=function(){return a(arguments,!0,!1,!1)},O.extendDeepAll=function(){return a(arguments,!0,!0,!1)},O.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},75744:function(Y){Y.exports=function(O){for(var e={},M=[],k=0,a=0;a<O.length;a++){var _=O[a];e[_]!==1&&(e[_]=1,M[k++]=_)}return M}},76756:function(Y){function O(M){return M.visible===!0}function e(M){var k=M[0].trace;return k.visible===!0&&k._length!==0}Y.exports=function(M){for(var k,a=(k=M,Array.isArray(k)&&Array.isArray(k[0])&&k[0][0]&&k[0][0].trace?e:O),_=[],y=0;y<M.length;y++){var d=M[y];a(d)&&_.push(d)}return _}},41327:function(Y,O,e){var M=e(39898),k=e(24138),a=e(30774),_=e(29261),y=e(85268),d=e(23389),s=e(47769),t=e(41965),i=e(65487),r=e(61082),n=Object.keys(k),l={"ISO-3":d,"USA-states":d,"country names":function(u){for(var p=0;p<n.length;p++){var c=n[p];if(new RegExp(k[c]).test(u.trim().toLowerCase()))return c}return s.log("Unrecognized country name: "+u+"."),!1}};function o(u){var p=u.geojson,c=window.PlotlyGeoAssets||{},b=typeof p=="string"?c[p]:p;return t(b)?b:(s.error("Oops ... something went wrong when fetching "+p),!1)}Y.exports={locationToFeature:function(u,p,c){if(!p||typeof p!="string")return!1;var b,g,h,x=l[u](p);if(x){if(u==="USA-states")for(b=[],h=0;h<c.length;h++)(g=c[h]).properties&&g.properties.gu&&g.properties.gu==="USA"&&b.push(g);else b=c;for(h=0;h<b.length;h++)if((g=b[h]).id===x)return g;s.log(["Location with id",x,"does not have a matching topojson feature at this resolution."].join(" "))}return!1},feature2polygons:function(u){var p,c,b,g,h=u.geometry,x=h.coordinates,v=u.id,m=[];function w(f){for(var S=0;S<f.length-1;S++)if(f[S][0]>0&&f[S+1][0]<0)return S;return null}switch(p=v==="RUS"||v==="FJI"?function(f){var S;if(w(f)===null)S=f;else for(S=new Array(f.length),g=0;g<f.length;g++)S[g]=[f[g][0]<0?f[g][0]+360:f[g][0],f[g][1]];m.push(r.tester(S))}:v==="ATA"?function(f){var S=w(f);if(S===null)return m.push(r.tester(f));var T=new Array(f.length+1),E=0;for(g=0;g<f.length;g++)g>S?T[E++]=[f[g][0]+360,f[g][1]]:g===S?(T[E++]=f[g],T[E++]=[f[g][0],-90]):T[E++]=f[g];var L=r.tester(T);L.pts.pop(),m.push(L)}:function(f){m.push(r.tester(f))},h.type){case"MultiPolygon":for(c=0;c<x.length;c++)for(b=0;b<x[c].length;b++)p(x[c][b]);break;case"Polygon":for(c=0;c<x.length;c++)p(x[c])}return m},getTraceGeojson:o,extractTraceFeature:function(u){var p=u[0].trace,c=o(p);if(!c)return!1;var b,g={},h=[];for(b=0;b<p._length;b++){var x=u[b];(x.loc||x.loc===0)&&(g[x.loc]=x)}function v(f){var S=i(f,p.featureidkey||"id").get(),T=g[S];if(T){var E=f.geometry;if(E.type==="Polygon"||E.type==="MultiPolygon"){var L={type:"Feature",id:S,geometry:E,properties:{}};L.properties.ct=function(C){var P,R=C.geometry;if(R.type==="MultiPolygon")for(var G=R.coordinates,I=0,H=0;H<G.length;H++){var N={type:"Polygon",coordinates:G[H]},B=a.default(N);B>I&&(I=B,P=N)}else P=R;return _.default(P).geometry.coordinates}(L),T.fIn=f,T.fOut=L,h.push(L)}else s.log(["Location",T.loc,"does not have a valid GeoJSON geometry.","Traces with locationmode *geojson-id* only support","*Polygon* and *MultiPolygon* geometries."].join(" "))}delete g[S]}switch(c.type){case"FeatureCollection":var m=c.features;for(b=0;b<m.length;b++)v(m[b]);break;case"Feature":v(c);break;default:return s.warn(["Invalid GeoJSON type",(c.type||"none")+".","Traces with locationmode *geojson-id* only support","*FeatureCollection* and *Feature* types."].join(" ")),!1}for(var w in g)s.log(["Location *"+w+"*","does not have a matching feature with id-key","*"+p.featureidkey+"*."].join(" "));return h},fetchTraceGeoData:function(u){var p=window.PlotlyGeoAssets||{},c=[];function b(v){return new Promise(function(m,w){M.json(v,function(f,S){if(f){delete p[v];var T=f.status===404?'GeoJSON at URL "'+v+'" does not exist.':"Unexpected error while fetching from "+v;return w(new Error(T))}return p[v]=S,m(S)})})}function g(v){return new Promise(function(m,w){var f=0,S=setInterval(function(){return p[v]&&p[v]!=="pending"?(clearInterval(S),m(p[v])):f>100?(clearInterval(S),w("Unexpected error while fetching from "+v)):void f++},50)})}for(var h=0;h<u.length;h++){var x=u[h][0].trace.geojson;typeof x=="string"&&(p[x]?p[x]==="pending"&&c.push(g(x)):(p[x]="pending",c.push(b(x))))}return c},computeBbox:function(u){return y.default(u)}}},18214:function(Y,O,e){var M=e(50606).BADNUM;O.calcTraceToLineCoords=function(k){for(var a=k[0].trace.connectgaps,_=[],y=[],d=0;d<k.length;d++){var s=k[d].lonlat;s[0]!==M?y.push(s):!a&&y.length>0&&(_.push(y),y=[])}return y.length>0&&_.push(y),_},O.makeLine=function(k){return k.length===1?{type:"LineString",coordinates:k[0]}:{type:"MultiLineString",coordinates:k}},O.makePolygon=function(k){if(k.length===1)return{type:"Polygon",coordinates:k};for(var a=new Array(k.length),_=0;_<k.length;_++)a[_]=[k[_]];return{type:"MultiPolygon",coordinates:a}},O.makeBlank=function(){return{type:"Point",coordinates:[]}}},87642:function(Y,O,e){var M,k,a,_=e(64872).mod;function y(s,t,i,r,n,l,o,u){var p=i-s,c=n-s,b=o-n,g=r-t,h=l-t,x=u-l,v=p*x-b*g;if(v===0)return null;var m=(c*x-b*h)/v,w=(c*g-p*h)/v;return w<0||w>1||m<0||m>1?null:{x:s+p*m,y:t+g*m}}function d(s,t,i,r,n){var l=r*s+n*t;if(l<0)return r*r+n*n;if(l>i){var o=r-s,u=n-t;return o*o+u*u}var p=r*t-n*s;return p*p/i}O.segmentsIntersect=y,O.segmentDistance=function(s,t,i,r,n,l,o,u){if(y(s,t,i,r,n,l,o,u))return 0;var p=i-s,c=r-t,b=o-n,g=u-l,h=p*p+c*c,x=b*b+g*g,v=Math.min(d(p,c,h,n-s,l-t),d(p,c,h,o-s,u-t),d(b,g,x,s-n,t-l),d(b,g,x,i-n,r-l));return Math.sqrt(v)},O.getTextLocation=function(s,t,i,r){if(s===k&&r===a||(M={},k=s,a=r),M[i])return M[i];var n=s.getPointAtLength(_(i-r/2,t)),l=s.getPointAtLength(_(i+r/2,t)),o=Math.atan((l.y-n.y)/(l.x-n.x)),u=s.getPointAtLength(_(i,t)),p={x:(4*u.x+n.x+l.x)/6,y:(4*u.y+n.y+l.y)/6,theta:o};return M[i]=p,p},O.clearLocationCache=function(){k=null},O.getVisibleSegment=function(s,t,i){var r,n,l=t.left,o=t.right,u=t.top,p=t.bottom,c=0,b=s.getTotalLength(),g=b;function h(v){var m=s.getPointAtLength(v);v===0?r=m:v===b&&(n=m);var w=m.x<l?l-m.x:m.x>o?m.x-o:0,f=m.y<u?u-m.y:m.y>p?m.y-p:0;return Math.sqrt(w*w+f*f)}for(var x=h(c);x;){if((c+=x+i)>g)return;x=h(c)}for(x=h(g);x;){if(c>(g-=x+i))return;x=h(g)}return{min:c,max:g,len:g-c,total:b,isClosed:c===0&&g===b&&Math.abs(r.x-n.x)<.1&&Math.abs(r.y-n.y)<.1}},O.findPointOnPath=function(s,t,i,r){for(var n,l,o,u=(r=r||{}).pathLength||s.getTotalLength(),p=r.tolerance||.001,c=r.iterationLimit||30,b=s.getPointAtLength(0)[i]>s.getPointAtLength(u)[i]?-1:1,g=0,h=0,x=u;g<c;){if(n=(h+x)/2,o=(l=s.getPointAtLength(n))[i]-t,Math.abs(o)<p)return l;b*o>0?x=n:h=n,g++}return l}},81697:function(Y,O,e){var M=e(92770),k=e(84267),a=e(25075),_=e(21081),y=e(22399).defaultLine,d=e(73627).isArrayOrTypedArray,s=a(y);function t(n,l){var o=n;return o[3]*=l,o}function i(n){if(M(n))return s;var l=a(n);return l.length?l:s}function r(n){return M(n)?n:1}Y.exports={formatColor:function(n,l,o){var u,p,c,b,g,h=n.color,x=d(h),v=d(l),m=_.extractOpts(n),w=[];if(u=m.colorscale!==void 0?_.makeColorScaleFuncFromTrace(n):i,p=x?function(S,T){return S[T]===void 0?s:a(u(S[T]))}:i,c=v?function(S,T){return S[T]===void 0?1:r(S[T])}:r,x||v)for(var f=0;f<o;f++)b=p(h,f),g=c(l,f),w[f]=t(b,g);else w=t(a(h),l);return w},parseColorScale:function(n){var l=_.extractOpts(n),o=l.colorscale;return l.reversescale&&(o=_.flipScale(l.colorscale)),o.map(function(u){var p=u[0],c=k(u[1]).toRgb();return{index:p,rgb:[c.r,c.g,c.b,c.a]}})}}},28984:function(Y,O,e){var M=e(23389);function k(a){return[a]}Y.exports={keyFun:function(a){return a.key},repeat:k,descend:M,wrap:k,unwrap:function(a){return a[0]}}},23389:function(Y){Y.exports=function(O){return O}},39240:function(Y){Y.exports=function(O,e){if(!e)return O;var M=1/Math.abs(e),k=M>1?(M*O+M*e)/M:O+e,a=String(k).length;if(a>16){var _=String(e).length;if(a>=String(O).length+_){var y=parseFloat(k).toPrecision(12);y.indexOf("e+")===-1&&(k=+y)}}return k}},71828:function(Y,O,e){var M=e(39898),k=e(84096).g0,a=e(60721).WU,_=e(92770),y=e(50606),d=y.FP_SAFE,s=-d,t=y.BADNUM,i=Y.exports={};i.adjustFormat=function(X){return!X||/^\d[.]\df/.test(X)||/[.]\d%/.test(X)?X:X==="0.f"?"~f":/^\d%/.test(X)?"~%":/^\ds/.test(X)?"~s":!/^[~,.0$]/.test(X)&&/[&fps]/.test(X)?"~"+X:X};var r={};i.warnBadFormat=function(X){var ee=String(X);r[ee]||(r[ee]=1,i.warn('encountered bad format: "'+ee+'"'))},i.noFormat=function(X){return String(X)},i.numberFormat=function(X){var ee;try{ee=a(i.adjustFormat(X))}catch{return i.warnBadFormat(X),i.noFormat}return ee},i.nestedProperty=e(65487),i.keyedContainer=e(66636),i.relativeAttr=e(6962),i.isPlainObject=e(41965),i.toLogRange=e(58163),i.relinkPrivateKeys=e(51332);var n=e(73627);i.isTypedArray=n.isTypedArray,i.isArrayOrTypedArray=n.isArrayOrTypedArray,i.isArray1D=n.isArray1D,i.ensureArray=n.ensureArray,i.concat=n.concat,i.maxRowLength=n.maxRowLength,i.minRowLength=n.minRowLength;var l=e(64872);i.mod=l.mod,i.modHalf=l.modHalf;var o=e(96554);i.valObjectMeta=o.valObjectMeta,i.coerce=o.coerce,i.coerce2=o.coerce2,i.coerceFont=o.coerceFont,i.coercePattern=o.coercePattern,i.coerceHoverinfo=o.coerceHoverinfo,i.coerceSelectionMarkerOpacity=o.coerceSelectionMarkerOpacity,i.validate=o.validate;var u=e(41631);i.dateTime2ms=u.dateTime2ms,i.isDateTime=u.isDateTime,i.ms2DateTime=u.ms2DateTime,i.ms2DateTimeLocal=u.ms2DateTimeLocal,i.cleanDate=u.cleanDate,i.isJSDate=u.isJSDate,i.formatDate=u.formatDate,i.incrementMonth=u.incrementMonth,i.dateTick0=u.dateTick0,i.dfltRange=u.dfltRange,i.findExactDates=u.findExactDates,i.MIN_MS=u.MIN_MS,i.MAX_MS=u.MAX_MS;var p=e(65888);i.findBin=p.findBin,i.sorterAsc=p.sorterAsc,i.sorterDes=p.sorterDes,i.distinctVals=p.distinctVals,i.roundUp=p.roundUp,i.sort=p.sort,i.findIndexOfMin=p.findIndexOfMin,i.sortObjectKeys=e(78607);var c=e(80038);i.aggNums=c.aggNums,i.len=c.len,i.mean=c.mean,i.median=c.median,i.midRange=c.midRange,i.variance=c.variance,i.stdev=c.stdev,i.interp=c.interp;var b=e(35657);i.init2dArray=b.init2dArray,i.transposeRagged=b.transposeRagged,i.dot=b.dot,i.translationMatrix=b.translationMatrix,i.rotationMatrix=b.rotationMatrix,i.rotationXYMatrix=b.rotationXYMatrix,i.apply3DTransform=b.apply3DTransform,i.apply2DTransform=b.apply2DTransform,i.apply2DTransform2=b.apply2DTransform2,i.convertCssMatrix=b.convertCssMatrix,i.inverseTransformMatrix=b.inverseTransformMatrix;var g=e(26348);i.deg2rad=g.deg2rad,i.rad2deg=g.rad2deg,i.angleDelta=g.angleDelta,i.angleDist=g.angleDist,i.isFullCircle=g.isFullCircle,i.isAngleInsideSector=g.isAngleInsideSector,i.isPtInsideSector=g.isPtInsideSector,i.pathArc=g.pathArc,i.pathSector=g.pathSector,i.pathAnnulus=g.pathAnnulus;var h=e(99863);i.isLeftAnchor=h.isLeftAnchor,i.isCenterAnchor=h.isCenterAnchor,i.isRightAnchor=h.isRightAnchor,i.isTopAnchor=h.isTopAnchor,i.isMiddleAnchor=h.isMiddleAnchor,i.isBottomAnchor=h.isBottomAnchor;var x=e(87642);i.segmentsIntersect=x.segmentsIntersect,i.segmentDistance=x.segmentDistance,i.getTextLocation=x.getTextLocation,i.clearLocationCache=x.clearLocationCache,i.getVisibleSegment=x.getVisibleSegment,i.findPointOnPath=x.findPointOnPath;var v=e(1426);i.extendFlat=v.extendFlat,i.extendDeep=v.extendDeep,i.extendDeepAll=v.extendDeepAll,i.extendDeepNoArrays=v.extendDeepNoArrays;var m=e(47769);i.log=m.log,i.warn=m.warn,i.error=m.error;var w=e(30587);i.counterRegex=w.counter;var f=e(79990);i.throttle=f.throttle,i.throttleDone=f.done,i.clearThrottle=f.clear;var S=e(24401);function T(X){var ee={};for(var ne in X)for(var re=X[ne],ae=0;ae<re.length;ae++)ee[re[ae]]=+ne;return ee}i.getGraphDiv=S.getGraphDiv,i.isPlotDiv=S.isPlotDiv,i.removeElement=S.removeElement,i.addStyleRule=S.addStyleRule,i.addRelatedStyleRule=S.addRelatedStyleRule,i.deleteRelatedStyleRule=S.deleteRelatedStyleRule,i.getFullTransformMatrix=S.getFullTransformMatrix,i.getElementTransformMatrix=S.getElementTransformMatrix,i.getElementAndAncestors=S.getElementAndAncestors,i.equalDomRects=S.equalDomRects,i.clearResponsive=e(86367),i.preserveDrawingBuffer=e(45142),i.makeTraceGroups=e(77310),i._=e(15867),i.notifier=e(75046),i.filterUnique=e(75744),i.filterVisible=e(76756),i.pushUnique=e(75138),i.increment=e(39240),i.cleanNumber=e(95218),i.ensureNumber=function(X){return _(X)?(X=Number(X))>d||X<s?t:X:t},i.isIndex=function(X,ee){return!(ee!==void 0&&X>=ee)&&_(X)&&X>=0&&X%1==0},i.noop=e(64213),i.identity=e(23389),i.repeat=function(X,ee){for(var ne=new Array(ee),re=0;re<ee;re++)ne[re]=X;return ne},i.swapAttrs=function(X,ee,ne,re){ne||(ne="x"),re||(re="y");for(var ae=0;ae<ee.length;ae++){var ue=ee[ae],pe=i.nestedProperty(X,ue.replace("?",ne)),ge=i.nestedProperty(X,ue.replace("?",re)),we=pe.get();pe.set(ge.get()),ge.set(we)}},i.raiseToTop=function(X){X.parentNode.appendChild(X)},i.cancelTransition=function(X){return X.transition().duration(0)},i.constrain=function(X,ee,ne){return ee>ne?Math.max(ne,Math.min(ee,X)):Math.max(ee,Math.min(ne,X))},i.bBoxIntersect=function(X,ee,ne){return ne=ne||0,X.left<=ee.right+ne&&ee.left<=X.right+ne&&X.top<=ee.bottom+ne&&ee.top<=X.bottom+ne},i.simpleMap=function(X,ee,ne,re,ae){for(var ue=X.length,pe=new Array(ue),ge=0;ge<ue;ge++)pe[ge]=ee(X[ge],ne,re,ae);return pe},i.randstr=function X(ee,ne,re,ae){if(re||(re=16),ne===void 0&&(ne=24),ne<=0)return"0";var ue,pe,ge=Math.log(Math.pow(2,ne))/Math.log(re),we="";for(ue=2;ge===1/0;ue*=2)ge=Math.log(Math.pow(2,ne/ue))/Math.log(re)*ue;var me=ge-Math.floor(ge);for(ue=0;ue<Math.floor(ge);ue++)we=Math.floor(Math.random()*re).toString(re)+we;me&&(pe=Math.pow(re,me),we=Math.floor(Math.random()*pe).toString(re)+we);var ve=parseInt(we,re);return ee&&ee[we]||ve!==1/0&&ve>=Math.pow(2,ne)?ae>10?(i.warn("randstr failed uniqueness"),we):X(ee,ne,re,(ae||0)+1):we},i.OptionControl=function(X,ee){X||(X={}),ee||(ee="opt");var ne={optionList:[],_newoption:function(re){re[ee]=X,ne[re.name]=re,ne.optionList.push(re)}};return ne["_"+ee]=X,ne},i.smooth=function(X,ee){if((ee=Math.round(ee)||0)<2)return X;var ne,re,ae,ue,pe=X.length,ge=2*pe,we=2*ee-1,me=new Array(we),ve=new Array(pe);for(ne=0;ne<we;ne++)me[ne]=(1-Math.cos(Math.PI*(ne+1)/ee))/(2*ee);for(ne=0;ne<pe;ne++){for(ue=0,re=0;re<we;re++)(ae=ne+re+1-ee)<-pe?ae-=ge*Math.round(ae/ge):ae>=ge&&(ae-=ge*Math.floor(ae/ge)),ae<0?ae=-1-ae:ae>=pe&&(ae=ge-1-ae),ue+=X[ae]*me[re];ve[ne]=ue}return ve},i.syncOrAsync=function(X,ee,ne){var re;function ae(){return i.syncOrAsync(X,ee,ne)}for(;X.length;)if((re=(0,X.splice(0,1)[0])(ee))&&re.then)return re.then(ae);return ne&&ne(ee)},i.stripTrailingSlash=function(X){return X.substr(-1)==="/"?X.substr(0,X.length-1):X},i.noneOrAll=function(X,ee,ne){if(X){var re,ae=!1,ue=!0;for(re=0;re<ne.length;re++)X[ne[re]]!=null?ae=!0:ue=!1;if(ae&&!ue)for(re=0;re<ne.length;re++)X[ne[re]]=ee[ne[re]]}},i.mergeArray=function(X,ee,ne,re){var ae=typeof re=="function";if(i.isArrayOrTypedArray(X))for(var ue=Math.min(X.length,ee.length),pe=0;pe<ue;pe++){var ge=X[pe];ee[pe][ne]=ae?re(ge):ge}},i.mergeArrayCastPositive=function(X,ee,ne){return i.mergeArray(X,ee,ne,function(re){var ae=+re;return isFinite(ae)&&ae>0?ae:0})},i.fillArray=function(X,ee,ne,re){if(re=re||i.identity,i.isArrayOrTypedArray(X))for(var ae=0;ae<ee.length;ae++)ee[ae][ne]=re(X[ae])},i.castOption=function(X,ee,ne,re){re=re||i.identity;var ae=i.nestedProperty(X,ne).get();return i.isArrayOrTypedArray(ae)?Array.isArray(ee)&&i.isArrayOrTypedArray(ae[ee[0]])?re(ae[ee[0]][ee[1]]):re(ae[ee]):ae},i.extractOption=function(X,ee,ne,re){if(ne in X)return X[ne];var ae=i.nestedProperty(ee,re).get();return Array.isArray(ae)?void 0:ae},i.tagSelected=function(X,ee,ne){var re,ae,ue=ee.selectedpoints,pe=ee._indexToPoints;pe&&(re=T(pe));for(var ge=0;ge<ue.length;ge++){var we=ue[ge];if(i.isIndex(we)||i.isArrayOrTypedArray(we)&&i.isIndex(we[0])&&i.isIndex(we[1])){var me=re?re[we]:we,ve=ne?ne[me]:me;(ae=ve)!==void 0&&ae<X.length&&(X[ve].selected=1)}}},i.selIndices2selPoints=function(X){var ee=X.selectedpoints,ne=X._indexToPoints;if(ne){for(var re=T(ne),ae=[],ue=0;ue<ee.length;ue++){var pe=ee[ue];if(i.isIndex(pe)){var ge=re[pe];i.isIndex(ge)&&ae.push(ge)}}return ae}return ee},i.getTargetArray=function(X,ee){var ne=ee.target;if(typeof ne=="string"&&ne){var re=i.nestedProperty(X,ne).get();return!!Array.isArray(re)&&re}return!!Array.isArray(ne)&&ne},i.minExtend=function X(ee,ne,re){var ae={};typeof ne!="object"&&(ne={});var ue,pe,ge,we=re==="pieLike"?-1:3,me=Object.keys(ee);for(ue=0;ue<me.length;ue++)ge=ee[pe=me[ue]],pe.charAt(0)!=="_"&&typeof ge!="function"&&(pe==="module"?ae[pe]=ge:Array.isArray(ge)?ae[pe]=pe==="colorscale"||we===-1?ge.slice():ge.slice(0,we):i.isTypedArray(ge)?ae[pe]=we===-1?ge.subarray():ge.subarray(0,we):ae[pe]=ge&&typeof ge=="object"?X(ee[pe],ne[pe],re):ge);for(me=Object.keys(ne),ue=0;ue<me.length;ue++)typeof(ge=ne[pe=me[ue]])=="object"&&pe in ae&&typeof ae[pe]=="object"||(ae[pe]=ge);return ae},i.titleCase=function(X){return X.charAt(0).toUpperCase()+X.substr(1)},i.containsAny=function(X,ee){for(var ne=0;ne<ee.length;ne++)if(X.indexOf(ee[ne])!==-1)return!0;return!1},i.isIE=function(){return window.navigator.msSaveBlob!==void 0};var E=/Version\/[\d\.]+.*Safari/;i.isSafari=function(){return E.test(window.navigator.userAgent)};var L=/iPad|iPhone|iPod/;i.isIOS=function(){return L.test(window.navigator.userAgent)};var C=/Firefox\/(\d+)\.\d+/;i.getFirefoxVersion=function(){var X=C.exec(window.navigator.userAgent);if(X&&X.length===2){var ee=parseInt(X[1]);if(!isNaN(ee))return ee}return null},i.isD3Selection=function(X){return X instanceof M.selection},i.ensureSingle=function(X,ee,ne,re){var ae=X.select(ee+(ne?"."+ne:""));if(ae.size())return ae;var ue=X.append(ee);return ne&&ue.classed(ne,!0),re&&ue.call(re),ue},i.ensureSingleById=function(X,ee,ne,re){var ae=X.select(ee+"#"+ne);if(ae.size())return ae;var ue=X.append(ee).attr("id",ne);return re&&ue.call(re),ue},i.objectFromPath=function(X,ee){for(var ne,re=X.split("."),ae=ne={},ue=0;ue<re.length;ue++){var pe=re[ue],ge=null,we=re[ue].match(/(.*)\[([0-9]+)\]/);we?(pe=we[1],ge=we[2],ne=ne[pe]=[],ue===re.length-1?ne[ge]=ee:ne[ge]={},ne=ne[ge]):(ue===re.length-1?ne[pe]=ee:ne[pe]={},ne=ne[pe])}return ae};var P=/^([^\[\.]+)\.(.+)?/,R=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;function G(X){return X.slice(0,2)==="__"}i.expandObjectPaths=function(X){var ee,ne,re,ae,ue,pe,ge;if(typeof X=="object"&&!Array.isArray(X)){for(ne in X)if(X.hasOwnProperty(ne))if(ee=ne.match(P)){if(ae=X[ne],G(re=ee[1]))continue;delete X[ne],X[re]=i.extendDeepNoArrays(X[re]||{},i.objectFromPath(ne,i.expandObjectPaths(ae))[re])}else if(ee=ne.match(R)){if(ae=X[ne],G(re=ee[1]))continue;if(ue=parseInt(ee[2]),delete X[ne],X[re]=X[re]||[],ee[3]===".")ge=ee[4],pe=X[re][ue]=X[re][ue]||{},i.extendDeepNoArrays(pe,i.objectFromPath(ge,i.expandObjectPaths(ae)));else{if(G(re))continue;X[re][ue]=i.expandObjectPaths(ae)}}else{if(G(ne))continue;X[ne]=i.expandObjectPaths(X[ne])}}return X},i.numSeparate=function(X,ee,ne){if(ne||(ne=!1),typeof ee!="string"||ee.length===0)throw new Error("Separator string required for formatting!");typeof X=="number"&&(X=String(X));var re=/(\d+)(\d{3})/,ae=ee.charAt(0),ue=ee.charAt(1),pe=X.split("."),ge=pe[0],we=pe.length>1?ae+pe[1]:"";if(ue&&(pe.length>1||ge.length>4||ne))for(;re.test(ge);)ge=ge.replace(re,"$1"+ue+"$2");return ge+we},i.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var I=/^\w*$/;i.templateString=function(X,ee){var ne={};return X.replace(i.TEMPLATE_STRING_REGEX,function(re,ae){var ue;return I.test(ae)?ue=ee[ae]:(ne[ae]=ne[ae]||i.nestedProperty(ee,ae).get,ue=ne[ae]()),i.isValidTextValue(ue)?ue:""})};var H={max:10,count:0,name:"hovertemplate"};i.hovertemplateString=function(){return te.apply(H,arguments)};var N={max:10,count:0,name:"texttemplate"};i.texttemplateString=function(){return te.apply(N,arguments)};var B=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/,V={max:10,count:0,name:"texttemplate",parseMultDiv:!0};i.texttemplateStringForShapes=function(){return te.apply(V,arguments)};var q=/^[:|\|]/;function te(X,ee,ne){var re=this,ae=arguments;ee||(ee={});var ue={};return X.replace(i.TEMPLATE_STRING_REGEX,function(pe,ge,we){var me=ge==="_xother"||ge==="_yother",ve=ge==="_xother_"||ge==="_yother_",Ie=ge==="xother_"||ge==="yother_",Se=ge==="xother"||ge==="yother"||me||Ie||ve,ke=ge;(me||ve)&&(ke=ke.substring(1)),(Ie||ve)&&(ke=ke.substring(0,ke.length-1));var se,oe,he,Le=null,Me=null;if(re.parseMultDiv){var _e=function(Te){var ye=Te.match(B);return ye?{key:ye[1],op:ye[2],number:Number(ye[3])}:{key:Te,op:null,number:null}}(ke);ke=_e.key,Le=_e.op,Me=_e.number}if(Se){if((se=ee[ke])===void 0)return""}else for(he=3;he<ae.length;he++)if(oe=ae[he]){if(oe.hasOwnProperty(ke)){se=oe[ke];break}if(I.test(ke)||(se=i.nestedProperty(oe,ke).get(),(se=ue[ke]||i.nestedProperty(oe,ke).get())&&(ue[ke]=se)),se!==void 0)break}if(se!==void 0&&(Le==="*"&&(se*=Me),Le==="/"&&(se/=Me)),se===void 0&&re)return re.count<re.max&&(i.warn("Variable '"+ke+"' in "+re.name+" could not be found!"),se=pe),re.count===re.max&&i.warn("Too many "+re.name+" warnings - additional warnings will be suppressed"),re.count++,pe;if(we){var De;if(we[0]===":"&&(se=(De=ne?ne.numberFormat:i.numberFormat)(we.replace(q,""))(se)),we[0]==="|"){De=ne?ne.timeFormat:k;var Ne=i.dateTime2ms(se);se=i.formatDate(Ne,we.replace(q,""),!1,De)}}else{var ce=ke+"Label";ee.hasOwnProperty(ce)&&(se=ee[ce])}return Se&&(se="("+se+")",(me||ve)&&(se=" "+se),(Ie||ve)&&(se+=" ")),se})}i.subplotSort=function(X,ee){for(var ne=Math.min(X.length,ee.length)+1,re=0,ae=0,ue=0;ue<ne;ue++){var pe=X.charCodeAt(ue)||0,ge=ee.charCodeAt(ue)||0,we=pe>=48&&pe<=57,me=ge>=48&&ge<=57;if(we&&(re=10*re+pe-48),me&&(ae=10*ae+ge-48),!we||!me){if(re!==ae)return re-ae;if(pe!==ge)return pe-ge}}return ae-re};var $=2e9;i.seedPseudoRandom=function(){$=2e9},i.pseudoRandom=function(){var X=$;return $=(69069*$+1)%4294967296,Math.abs($-X)<429496729?i.pseudoRandom():$/4294967296},i.fillText=function(X,ee,ne){var re=Array.isArray(ne)?function(pe){ne.push(pe)}:function(pe){ne.text=pe},ae=i.extractOption(X,ee,"htx","hovertext");if(i.isValidTextValue(ae))return re(ae);var ue=i.extractOption(X,ee,"tx","text");return i.isValidTextValue(ue)?re(ue):void 0},i.isValidTextValue=function(X){return X||X===0},i.formatPercent=function(X,ee){ee=ee||0;for(var ne=(Math.round(100*X*Math.pow(10,ee))*Math.pow(.1,ee)).toFixed(ee)+"%",re=0;re<ee;re++)ne.indexOf(".")!==-1&&(ne=(ne=ne.replace("0%","%")).replace(".%","%"));return ne},i.isHidden=function(X){var ee=window.getComputedStyle(X).display;return!ee||ee==="none"},i.strTranslate=function(X,ee){return X||ee?"translate("+X+","+ee+")":""},i.strRotate=function(X){return X?"rotate("+X+")":""},i.strScale=function(X){return X!==1?"scale("+X+")":""},i.getTextTransform=function(X){var ee=X.noCenter,ne=X.textX,re=X.textY,ae=X.targetX,ue=X.targetY,pe=X.anchorX||0,ge=X.anchorY||0,we=X.rotate,me=X.scale;return me?me>1&&(me=1):me=0,i.strTranslate(ae-me*(ne+pe),ue-me*(re+ge))+i.strScale(me)+(we?"rotate("+we+(ee?"":" "+ne+" "+re)+")":"")},i.setTransormAndDisplay=function(X,ee){X.attr("transform",i.getTextTransform(ee)),X.style("display",ee.scale?null:"none")},i.ensureUniformFontSize=function(X,ee){var ne=i.extendFlat({},ee);return ne.size=Math.max(ee.size,X._fullLayout.uniformtext.minsize||0),ne},i.join2=function(X,ee,ne){var re=X.length;return re>1?X.slice(0,-1).join(ee)+ne+X[re-1]:X.join(ee)},i.bigFont=function(X){return Math.round(1.2*X)};var K=i.getFirefoxVersion(),Z=K!==null&&K<86;i.getPositionFromD3Event=function(){return Z?[M.event.layerX,M.event.layerY]:[M.event.offsetX,M.event.offsetY]}},41965:function(Y){Y.exports=function(O){return window&&window.process&&window.process.versions?Object.prototype.toString.call(O)==="[object Object]":Object.prototype.toString.call(O)==="[object Object]"&&Object.getPrototypeOf(O).hasOwnProperty("hasOwnProperty")}},66636:function(Y,O,e){var M=e(65487),k=/^\w*$/;Y.exports=function(a,_,y,d){var s,t,i;y=y||"name",d=d||"value";var r={};_&&_.length?(i=M(a,_),t=i.get()):t=a,_=_||"";var n={};if(t)for(s=0;s<t.length;s++)n[t[s][y]]=s;var l=k.test(d),o={set:function(u,p){var c=p===null?4:0;if(!t){if(!i||c===4)return;t=[],i.set(t)}var b=n[u];if(b===void 0){if(c===4)return;c|=3,b=t.length,n[u]=b}else p!==(l?t[b][d]:M(t[b],d).get())&&(c|=2);var g=t[b]=t[b]||{};return g[y]=u,l?g[d]=p:M(g,d).set(p),p!==null&&(c&=-5),r[b]=r[b]|c,o},get:function(u){if(t){var p=n[u];return p===void 0?void 0:l?t[p][d]:M(t[p],d).get()}},rename:function(u,p){var c=n[u];return c===void 0||(r[c]=1|r[c],n[p]=c,delete n[u],t[c][y]=p),o},remove:function(u){var p=n[u];if(p===void 0)return o;var c=t[p];if(Object.keys(c).length>2)return r[p]=2|r[p],o.set(u,null);if(l){for(s=p;s<t.length;s++)r[s]=3|r[s];for(s=p;s<t.length;s++)n[t[s][y]]--;t.splice(p,1),delete n[u]}else M(c,d).set(null),r[p]=6|r[p];return o},constructUpdate:function(){for(var u,p,c={},b=Object.keys(r),g=0;g<b.length;g++)p=b[g],u=_+"["+p+"]",t[p]?(1&r[p]&&(c[u+"."+y]=t[p][y]),2&r[p]&&(c[u+"."+d]=l?4&r[p]?null:t[p][d]:4&r[p]?null:M(t[p],d).get())):c[u]=null;return c}};return o}},15867:function(Y,O,e){var M=e(73972);Y.exports=function(k,a){for(var _=k._context.locale,y=0;y<2;y++){for(var d=k._context.locales,s=0;s<2;s++){var t=(d[_]||{}).dictionary;if(t){var i=t[a];if(i)return i}d=M.localeRegistry}var r=_.split("-")[0];if(r===_)break;_=r}return a}},47769:function(Y,O,e){var M=e(72075).dfltConfig,k=e(75046),a=Y.exports={};a.log=function(){var _;if(M.logging>1){var y=["LOG:"];for(_=0;_<arguments.length;_++)y.push(arguments[_]);console.trace.apply(console,y)}if(M.notifyOnLogging>1){var d=[];for(_=0;_<arguments.length;_++)d.push(arguments[_]);k(d.join("<br>"),"long")}},a.warn=function(){var _;if(M.logging>0){var y=["WARN:"];for(_=0;_<arguments.length;_++)y.push(arguments[_]);console.trace.apply(console,y)}if(M.notifyOnLogging>0){var d=[];for(_=0;_<arguments.length;_++)d.push(arguments[_]);k(d.join("<br>"),"stick")}},a.error=function(){var _;if(M.logging>0){var y=["ERROR:"];for(_=0;_<arguments.length;_++)y.push(arguments[_]);console.error.apply(console,y)}if(M.notifyOnLogging>0){var d=[];for(_=0;_<arguments.length;_++)d.push(arguments[_]);k(d.join("<br>"),"stick")}}},77310:function(Y,O,e){var M=e(39898);Y.exports=function(k,a,_){var y=k.selectAll("g."+_.replace(/\s/g,".")).data(a,function(s){return s[0].trace.uid});y.exit().remove(),y.enter().append("g").attr("class",_),y.order();var d=k.classed("rangeplot")?"nodeRangePlot3":"node3";return y.each(function(s){s[0][d]=M.select(this)}),y}},35657:function(Y,O,e){var M=e(79576);O.init2dArray=function(k,a){for(var _=new Array(k),y=0;y<k;y++)_[y]=new Array(a);return _},O.transposeRagged=function(k){var a,_,y=0,d=k.length;for(a=0;a<d;a++)y=Math.max(y,k[a].length);var s=new Array(y);for(a=0;a<y;a++)for(s[a]=new Array(d),_=0;_<d;_++)s[a][_]=k[_][a];return s},O.dot=function(k,a){if(!k.length||!a.length||k.length!==a.length)return null;var _,y,d=k.length;if(k[0].length)for(_=new Array(d),y=0;y<d;y++)_[y]=O.dot(k[y],a);else if(a[0].length){var s=O.transposeRagged(a);for(_=new Array(s.length),y=0;y<s.length;y++)_[y]=O.dot(k,s[y])}else for(_=0,y=0;y<d;y++)_+=k[y]*a[y];return _},O.translationMatrix=function(k,a){return[[1,0,k],[0,1,a],[0,0,1]]},O.rotationMatrix=function(k){var a=k*Math.PI/180;return[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]]},O.rotationXYMatrix=function(k,a,_){return O.dot(O.dot(O.translationMatrix(a,_),O.rotationMatrix(k)),O.translationMatrix(-a,-_))},O.apply3DTransform=function(k){return function(){var a=arguments,_=arguments.length===1?a[0]:[a[0],a[1],a[2]||0];return O.dot(k,[_[0],_[1],_[2],1]).slice(0,3)}},O.apply2DTransform=function(k){return function(){var a=arguments;a.length===3&&(a=a[0]);var _=arguments.length===1?a[0]:[a[0],a[1]];return O.dot(k,[_[0],_[1],1]).slice(0,2)}},O.apply2DTransform2=function(k){var a=O.apply2DTransform(k);return function(_){return a(_.slice(0,2)).concat(a(_.slice(2,4)))}},O.convertCssMatrix=function(k){if(k){var a=k.length;if(a===16)return k;if(a===6)return[k[0],k[1],0,0,k[2],k[3],0,0,0,0,1,0,k[4],k[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},O.inverseTransformMatrix=function(k){var a=[];return M.invert(a,k),[[a[0],a[1],a[2],a[3]],[a[4],a[5],a[6],a[7]],[a[8],a[9],a[10],a[11]],[a[12],a[13],a[14],a[15]]]}},64872:function(Y){Y.exports={mod:function(O,e){var M=O%e;return M<0?M+e:M},modHalf:function(O,e){return Math.abs(O)>e/2?O-Math.round(O/e)*e:O}}},65487:function(Y,O,e){var M=e(92770),k=e(73627).isArrayOrTypedArray;function a(r,n){return function(){var l,o,u,p,c,b=r;for(p=0;p<n.length-1;p++){if((l=n[p])===-1){for(o=!0,u=[],c=0;c<b.length;c++)u[c]=a(b[c],n.slice(p+1))(),u[c]!==u[0]&&(o=!1);return o?u[0]:u}if(typeof l=="number"&&!k(b)||typeof(b=b[l])!="object"||b===null)return}if(typeof b=="object"&&b!==null&&(u=b[n[p]])!==null)return u}}Y.exports=function(r,n){if(M(n))n=String(n);else if(typeof n!="string"||n.substr(n.length-4)==="[-1]")throw"bad property string";var l,o,u,p,c=n.split(".");for(p=0;p<c.length;p++)if(String(c[p]).slice(0,2)==="__")throw"bad property string";for(p=0;p<c.length;){if(l=String(c[p]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(l[1])c[p]=l[1];else{if(p!==0)throw"bad property string";c.splice(0,1)}for(o=l[2].substr(1,l[2].length-2).split("]["),u=0;u<o.length;u++)p++,c.splice(p,0,Number(o[u]))}p++}return typeof r!="object"?function(b,g,h){return{set:function(){throw"bad container"},get:function(){},astr:g,parts:h,obj:b}}(r,n,c):{set:d(r,c,n),get:a(r,c),astr:n,parts:c,obj:r}};var _=/(^|\.)args\[/;function y(r,n){return r===void 0||r===null&&!n.match(_)}function d(r,n,l){return function(o){var u,p,c=r,b="",g=y(o,l);for(p=0;p<n.length-1;p++){if(typeof(u=n[p])=="number"&&!k(c))throw"array index but container is not an array";if(u===-1){if(g=!t(c,n.slice(p+1),o,l))break;return}if(!i(c,u,n[p+1],g))break;if(typeof(c=c[u])!="object"||c===null)throw"container is not an object";b=s(b,u)}if(g){if(p===n.length-1&&(delete c[n[p]],Array.isArray(c)&&+n[p]==c.length-1))for(;c.length&&c[c.length-1]===void 0;)c.pop()}else c[n[p]]=o}}function s(r,n){var l=n;return M(n)?l="["+n+"]":r&&(l="."+n),r+l}function t(r,n,l,o){var u,p=k(l),c=!0,b=l,g=o.replace("-1",0),h=!p&&y(l,g),x=n[0];for(u=0;u<r.length;u++)g=o.replace("-1",u),p&&(h=y(b=l[u%l.length],g)),h&&(c=!1),i(r,u,x,h)&&d(r[u],n,o.replace("-1",u))(b);return c}function i(r,n,l,o){if(r[n]===void 0){if(o)return!1;r[n]=typeof l=="number"?[]:{}}return!0}},64213:function(Y){Y.exports=function(){}},75046:function(Y,O,e){var M=e(39898),k=e(92770),a=[];Y.exports=function(_,y){if(a.indexOf(_)===-1){a.push(_);var d=1e3;k(y)?d=y:y==="long"&&(d=3e3);var s=M.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(a).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(i){var r=M.select(this);r.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){r.transition().call(t)});for(var n=r.append("p"),l=i.split(/<br\s*\/?>/g),o=0;o<l.length;o++)o&&n.append("br"),n.append("span").text(l[o]);y==="stick"?r.transition().duration(350).style("opacity",1):r.transition().duration(700).style("opacity",1).transition().delay(d).call(t)})}function t(i){i.duration(700).style("opacity",0).each("end",function(r){var n=a.indexOf(r);n!==-1&&a.splice(n,1),M.select(this).remove()})}}},39918:function(Y,O,e){var M=e(6964),k="data-savedcursor";Y.exports=function(a,_){var y=a.attr(k);if(_){if(!y){for(var d=(a.attr("class")||"").split(" "),s=0;s<d.length;s++){var t=d[s];t.indexOf("cursor-")===0&&a.attr(k,t.substr(7)).classed(t,!1)}a.attr(k)||a.attr(k,"!!")}M(a,_)}else y&&(a.attr(k,null),y==="!!"?M(a):M(a,y))}},61082:function(Y,O,e){var M=e(35657).dot,k=e(50606).BADNUM,a=Y.exports={};a.tester=function(_){var y,d=_.slice(),s=d[0][0],t=s,i=d[0][1],r=i;for(d[d.length-1][0]===d[0][0]&&d[d.length-1][1]===d[0][1]||d.push(d[0]),y=1;y<d.length;y++)s=Math.min(s,d[y][0]),t=Math.max(t,d[y][0]),i=Math.min(i,d[y][1]),r=Math.max(r,d[y][1]);var n,l=!1;d.length===5&&(d[0][0]===d[1][0]?d[2][0]===d[3][0]&&d[0][1]===d[3][1]&&d[1][1]===d[2][1]&&(l=!0,n=function(p){return p[0]===d[0][0]}):d[0][1]===d[1][1]&&d[2][1]===d[3][1]&&d[0][0]===d[3][0]&&d[1][0]===d[2][0]&&(l=!0,n=function(p){return p[1]===d[0][1]}));var o=!0,u=d[0];for(y=1;y<d.length;y++)if(u[0]!==d[y][0]||u[1]!==d[y][1]){o=!1;break}return{xmin:s,xmax:t,ymin:i,ymax:r,pts:d,contains:l?function(p,c){var b=p[0],g=p[1];return!(b===k||b<s||b>t||g===k||g<i||g>r||c&&n(p))}:function(p,c){var b=p[0],g=p[1];if(b===k||b<s||b>t||g===k||g<i||g>r)return!1;var h,x,v,m,w,f=d.length,S=d[0][0],T=d[0][1],E=0;for(h=1;h<f;h++)if(x=S,v=T,S=d[h][0],T=d[h][1],!(b<(m=Math.min(x,S))||b>Math.max(x,S)||g>Math.max(v,T)))if(g<Math.min(v,T))b!==m&&E++;else{if(g===(w=S===x?g:v+(b-x)*(T-v)/(S-x)))return h!==1||!c;g<=w&&b!==m&&E++}return E%2==1},isRect:l,degenerate:o}},a.isSegmentBent=function(_,y,d,s){var t,i,r,n=_[y],l=[_[d][0]-n[0],_[d][1]-n[1]],o=M(l,l),u=Math.sqrt(o),p=[-l[1]/u,l[0]/u];for(t=y+1;t<d;t++)if(i=[_[t][0]-n[0],_[t][1]-n[1]],(r=M(i,l))<0||r>o||Math.abs(M(i,p))>s)return!0;return!1},a.filter=function(_,y){var d=[_[0]],s=0,t=0;function i(r){_.push(r);var n=d.length,l=s;d.splice(t+1);for(var o=l+1;o<_.length;o++)(o===_.length-1||a.isSegmentBent(_,l,o+1,y))&&(d.push(_[o]),d.length<n-2&&(s=o,t=d.length-1),l=o)}return _.length>1&&i(_.pop()),{addPt:i,raw:_,filtered:d}}},79749:function(Y,O,e){var M=e(58617),k=e(98580);Y.exports=function(a,_,y){var d=a._fullLayout,s=!0;return d._glcanvas.each(function(t){if(t.regl)t.regl.preloadCachedCode(y);else if(!t.pick||d._has("parcoords")){try{t.regl=k({canvas:this,attributes:{antialias:!t.pick,preserveDrawingBuffer:!0},pixelRatio:a._context.plotGlPixelRatio||e.g.devicePixelRatio,extensions:_||[],cachedCode:y||{}})}catch{s=!1}t.regl||(s=!1),s&&this.addEventListener("webglcontextlost",function(i){a&&a.emit&&a.emit("plotly_webglcontextlost",{event:i,layer:t.key})},!1)}}),s||M({container:d._glcontainer.node()}),s}},45142:function(Y,O,e){var M=e(92770),k=e(35791);Y.exports=function(a){var _;if(typeof(_=a&&a.hasOwnProperty("userAgent")?a.userAgent:function(){var n;return typeof navigator<"u"&&(n=navigator.userAgent),n&&n.headers&&typeof n.headers["user-agent"]=="string"&&(n=n.headers["user-agent"]),n}())!="string")return!0;var y=k({ua:{headers:{"user-agent":_}},tablet:!0,featureDetect:!1});if(!y){for(var d=_.split(" "),s=1;s<d.length;s++)if(d[s].indexOf("Safari")!==-1)for(var t=s-1;t>-1;t--){var i=d[t];if(i.substr(0,8)==="Version/"){var r=i.substr(8).split(".")[0];if(M(r)&&(r=+r),r>=13)return!0}}}return y}},75138:function(Y){Y.exports=function(O,e){if(e instanceof RegExp){for(var M=e.toString(),k=0;k<O.length;k++)if(O[k]instanceof RegExp&&O[k].toString()===M)return O;O.push(e)}else!e&&e!==0||O.indexOf(e)!==-1||O.push(e);return O}},10847:function(Y,O,e){var M=e(71828),k=e(72075).dfltConfig,a={add:function(_,y,d,s,t){var i,r;_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},r=_.undoQueue.index,_.autoplay?_.undoQueue.inSequence||(_.autoplay=!1):(!_.undoQueue.sequence||_.undoQueue.beginSequence?(i={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},_.undoQueue.queue.splice(r,_.undoQueue.queue.length-r,i),_.undoQueue.index+=1):i=_.undoQueue.queue[r-1],_.undoQueue.beginSequence=!1,i&&(i.undo.calls.unshift(y),i.undo.args.unshift(d),i.redo.calls.push(s),i.redo.args.push(t)),_.undoQueue.queue.length>k.queueLength&&(_.undoQueue.queue.shift(),_.undoQueue.index--))},startSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!0,_.undoQueue.beginSequence=!0},stopSequence:function(_){_.undoQueue=_.undoQueue||{index:0,queue:[],sequence:!1},_.undoQueue.sequence=!1,_.undoQueue.beginSequence=!1},undo:function(_){var y,d;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index<=0)){for(_.undoQueue.index--,y=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,d=0;d<y.undo.calls.length;d++)a.plotDo(_,y.undo.calls[d],y.undo.args[d]);_.undoQueue.inSequence=!1,_.autoplay=!1}},redo:function(_){var y,d;if(!(_.undoQueue===void 0||isNaN(_.undoQueue.index)||_.undoQueue.index>=_.undoQueue.queue.length)){for(y=_.undoQueue.queue[_.undoQueue.index],_.undoQueue.inSequence=!0,d=0;d<y.redo.calls.length;d++)a.plotDo(_,y.redo.calls[d],y.redo.args[d]);_.undoQueue.inSequence=!1,_.autoplay=!1,_.undoQueue.index++}},plotDo:function(_,y,d){_.autoplay=!0,d=function(s,t){for(var i,r=[],n=0;n<t.length;n++)i=t[n],r[n]=i===s?i:typeof i=="object"?Array.isArray(i)?M.extendDeep([],i):M.extendDeepAll({},i):i;return r}(_,d),y.apply(null,d)}};Y.exports=a},30587:function(Y,O){O.counter=function(e,M,k,a){var _=(M||"")+(k?"":"$"),y=a===!1?"":"^";return e==="xy"?new RegExp(y+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+_):new RegExp(y+e+"([2-9]|[1-9][0-9]+)?"+_)}},6962:function(Y){var O=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,e=/^[^\.\[\]]+$/;Y.exports=function(M,k){for(;k;){var a=M.match(O);if(a)M=a[1];else{if(!M.match(e))throw new Error("bad relativeAttr call:"+[M,k]);M=""}if(k.charAt(0)!=="^")break;k=k.slice(1)}return M&&k.charAt(0)!=="["?M+"."+k:M+k}},51332:function(Y,O,e){var M=e(73627).isArrayOrTypedArray,k=e(41965);Y.exports=function a(_,y){for(var d in y){var s=y[d],t=_[d];if(t!==s)if(d.charAt(0)==="_"||typeof s=="function"){if(d in _)continue;_[d]=s}else if(M(s)&&M(t)&&k(s[0])){if(d==="customdata"||d==="ids")continue;for(var i=Math.min(s.length,t.length),r=0;r<i;r++)t[r]!==s[r]&&k(s[r])&&k(t[r])&&a(t[r],s[r])}else k(s)&&k(t)&&(a(t,s),Object.keys(t).length||delete _[d])}}},65888:function(Y,O,e){var M=e(92770),k=e(47769),a=e(23389),_=e(50606).BADNUM,y=1e-9;function d(r,n){return r<n}function s(r,n){return r<=n}function t(r,n){return r>n}function i(r,n){return r>=n}O.findBin=function(r,n,l){if(M(n.start))return l?Math.ceil((r-n.start)/n.size-y)-1:Math.floor((r-n.start)/n.size+y);var o,u,p=0,c=n.length,b=0,g=c>1?(n[c-1]-n[0])/(c-1):1;for(u=g>=0?l?d:s:l?i:t,r+=g*y*(l?-1:1)*(g>=0?1:-1);p<c&&b++<100;)u(n[o=Math.floor((p+c)/2)],r)?p=o+1:c=o;return b>90&&k.log("Long binary search..."),p-1},O.sorterAsc=function(r,n){return r-n},O.sorterDes=function(r,n){return n-r},O.distinctVals=function(r){var n,l=r.slice();for(l.sort(O.sorterAsc),n=l.length-1;n>-1&&l[n]===_;n--);for(var o,u=l[n]-l[0]||1,p=u/(n||1)/1e4,c=[],b=0;b<=n;b++){var g=l[b],h=g-o;o===void 0?(c.push(g),o=g):h>p&&(u=Math.min(u,h),c.push(g),o=g)}return{vals:c,minDiff:u}},O.roundUp=function(r,n,l){for(var o,u=0,p=n.length-1,c=0,b=l?0:1,g=l?1:0,h=l?Math.ceil:Math.floor;u<p&&c++<100;)n[o=h((u+p)/2)]<=r?u=o+b:p=o-g;return n[u]},O.sort=function(r,n){for(var l=0,o=0,u=1;u<r.length;u++){var p=n(r[u],r[u-1]);if(p<0?l=1:p>0&&(o=1),l&&o)return r.sort(n)}return o?r:r.reverse()},O.findIndexOfMin=function(r,n){n=n||a;for(var l,o=1/0,u=0;u<r.length;u++){var p=n(r[u]);p<o&&(o=p,l=u)}return l}},6964:function(Y){Y.exports=function(O,e){(O.attr("class")||"").split(" ").forEach(function(M){M.indexOf("cursor-")===0&&O.classed(M,!1)}),e&&O.classed("cursor-"+e,!0)}},58617:function(Y,O,e){var M=e(7901),k=function(){};Y.exports=function(a){for(var _ in a)typeof a[_]=="function"&&(a[_]=k);a.destroy=function(){a.container.parentNode.removeChild(a.container)};var y=document.createElement("div");y.className="no-webgl",y.style.cursor="pointer",y.style.fontSize="24px",y.style.color=M.defaults[0],y.style.position="absolute",y.style.left=y.style.top="0px",y.style.width=y.style.height="100%",y.style["background-color"]=M.lightLine,y.style["z-index"]=30;var d=document.createElement("p");return d.textContent="WebGL is not supported by your browser - visit https://get.webgl.org for more info",d.style.position="relative",d.style.top="50%",d.style.left="50%",d.style.height="30%",d.style.width="50%",d.style.margin="-15% 0 0 -25%",y.appendChild(d),a.container.appendChild(y),a.container.style.background="#FFFFFF",a.container.onclick=function(){window.open("https://get.webgl.org")},!1}},78607:function(Y){Y.exports=function(O){return Object.keys(O).sort()}},80038:function(Y,O,e){var M=e(92770),k=e(73627).isArrayOrTypedArray;O.aggNums=function(a,_,y,d){var s,t;if((!d||d>y.length)&&(d=y.length),M(_)||(_=!1),k(y[0])){for(t=new Array(d),s=0;s<d;s++)t[s]=O.aggNums(a,_,y[s]);y=t}for(s=0;s<d;s++)M(_)?M(y[s])&&(_=a(+_,+y[s])):_=y[s];return _},O.len=function(a){return O.aggNums(function(_){return _+1},0,a)},O.mean=function(a,_){return _||(_=O.len(a)),O.aggNums(function(y,d){return y+d},0,a)/_},O.midRange=function(a){if(a!==void 0&&a.length!==0)return(O.aggNums(Math.max,null,a)+O.aggNums(Math.min,null,a))/2},O.variance=function(a,_,y){return _||(_=O.len(a)),M(y)||(y=O.mean(a,_)),O.aggNums(function(d,s){return d+Math.pow(s-y,2)},0,a)/_},O.stdev=function(a,_,y){return Math.sqrt(O.variance(a,_,y))},O.median=function(a){var _=a.slice().sort();return O.interp(_,.5)},O.interp=function(a,_){if(!M(_))throw"n should be a finite number";if((_=_*a.length-.5)<0)return a[0];if(_>a.length-1)return a[a.length-1];var y=_%1;return y*a[Math.ceil(_)]+(1-y)*a[Math.floor(_)]}},78614:function(Y,O,e){var M=e(25075);Y.exports=function(k){return k?M(k):[0,0,0,1]}},3883:function(Y,O,e){var M=e(32396),k=e(91424),a=e(71828),_=null;Y.exports=function(){if(_!==null)return _;_=!1;var y=a.isIE()||a.isSafari()||a.isIOS();if(window.navigator.userAgent&&!y){var d=Array.from(M.CSS_DECLARATIONS).reverse(),s=window.CSS&&window.CSS.supports||window.supportsCSS;if(typeof s=="function")_=d.some(function(r){return s.apply(null,r)});else{var t=k.tester.append("image").attr("style",M.STYLE),i=window.getComputedStyle(t.node()).imageRendering;_=d.some(function(r){var n=r[1];return i===n||i===n.toLowerCase()}),t.remove()}}return _}},63893:function(Y,O,e){var M=e(39898),k=e(71828),a=k.strTranslate,_=e(77922),y=e(18783).LINE_SPACING,d=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;O.convertToTspans=function(R,G,I){var H=R.text(),N=!R.attr("data-notex")&&G&&G._context.typesetMath&&typeof MathJax<"u"&&H.match(d),B=M.select(R.node().parentNode);if(!B.empty()){var V=R.attr("class")?R.attr("class").split(" ")[0]:"text";return V+="-math",B.selectAll("svg."+V).remove(),B.selectAll("g."+V+"-group").remove(),R.style("display",null).attr({"data-unformatted":H,"data-math":"N"}),N?(G&&G._promises||[]).push(new Promise(function(te){R.style("display","none");var $=parseInt(R.node().style.fontSize,10),K={fontSize:$};(function(Z,X,ee){var ne,re,ae,ue,pe=parseInt((MathJax.version||"").split(".")[0]);if(pe===2||pe===3){var ge=function(){var me="math-output-"+k.randstr({},64),ve=(ue=M.select("body").append("div").attr({id:me}).style({visibility:"hidden",position:"absolute","font-size":X.fontSize+"px"}).text(Z.replace(s,"\\lt ").replace(t,"\\gt "))).node();return pe===2?MathJax.Hub.Typeset(ve):MathJax.typeset([ve])},we=function(){var me=ue.select(pe===2?".MathJax_SVG":".MathJax"),ve=!me.empty()&&ue.select("svg").node();if(ve){var Ie,Se=ve.getBoundingClientRect();Ie=pe===2?M.select("body").select("#MathJax_SVG_glyphs"):me.select("defs"),ee(me,Ie,Se)}else k.log("There was an error in the tex syntax.",Z),ee();ue.remove()};pe===2?MathJax.Hub.Queue(function(){return re=k.extendDeepAll({},MathJax.Hub.config),ae=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:i},displayAlign:"left"})},function(){if((ne=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},ge,we,function(){if(ne!=="SVG")return MathJax.Hub.setRenderer(ne)},function(){return ae!==void 0&&(MathJax.Hub.processSectionDelay=ae),MathJax.Hub.Config(re)}):pe===3&&(re=k.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=i,(ne=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ge(),we(),ne!=="svg"&&(MathJax.config.startup.output=ne),MathJax.config=re}))}else k.warn("No MathJax version:",MathJax.version)})(N[2],K,function(Z,X,ee){B.selectAll("svg."+V).remove(),B.selectAll("g."+V+"-group").remove();var ne=Z&&Z.select("svg");if(!ne||!ne.node())return q(),void te();var re=B.append("g").classed(V+"-group",!0).attr({"pointer-events":"none","data-unformatted":H,"data-math":"Y"});re.node().appendChild(ne.node()),X&&X.node()&&ne.node().insertBefore(X.node().cloneNode(!0),ne.node().firstChild);var ae=ee.width,ue=ee.height;ne.attr({class:V,height:ue,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var pe=R.node().style.fill||"black",ge=ne.select("g");ge.attr({fill:pe,stroke:pe});var we=ge.node().getBoundingClientRect(),me=we.width,ve=we.height;(me>ae||ve>ue)&&(ne.style("overflow","hidden"),me=(we=ne.node().getBoundingClientRect()).width,ve=we.height);var Ie=+R.attr("x"),Se=+R.attr("y"),ke=-($||R.node().getBoundingClientRect().height)/4;if(V[0]==="y")re.attr({transform:"rotate("+[-90,Ie,Se]+")"+a(-me/2,ke-ve/2)});else if(V[0]==="l")Se=ke-ve/2;else if(V[0]==="a"&&V.indexOf("atitle")!==0)Ie=0,Se=ke;else{var se=R.attr("text-anchor");Ie-=me*(se==="middle"?.5:se==="end"?1:0),Se=Se+ke-ve/2}ne.attr({x:Ie,y:Se}),I&&I.call(R,re),te(re)})})):q(),R}function q(){B.empty()||(V=R.attr("class")+"-math",B.select("svg."+V).remove()),R.text("").style("white-space","pre");var te=function($,K){K=K.replace(p," ");var Z,X=!1,ee=[],ne=-1;function re(){ne++;var Me=document.createElementNS(_.svg,"tspan");M.select(Me).attr({class:"line",dy:ne*y+"em"}),$.appendChild(Me),Z=Me;var _e=ee;if(ee=[{node:Me}],_e.length>1)for(var De=1;De<_e.length;De++)ae(_e[De])}function ae(Me){var _e,De=Me.type,Ne={};if(De==="a"){_e="a";var ce=Me.target,Te=Me.href,ye=Me.popup;Te&&(Ne={"xlink:xlink:show":ce==="_blank"||ce.charAt(0)!=="_"?"new":"replace",target:ce,"xlink:xlink:href":Te},ye&&(Ne.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+ye+'");return false;'))}else _e="tspan";Me.style&&(Ne.style=Me.style);var Oe=document.createElementNS(_.svg,_e);if(De==="sup"||De==="sub"){ue(Z,o),Z.appendChild(Oe);var Be=document.createElementNS(_.svg,"tspan");ue(Be,o),M.select(Be).attr("dy",l[De]),Ne.dy=n[De],Z.appendChild(Oe),Z.appendChild(Be)}else Z.appendChild(Oe);M.select(Oe).attr(Ne),Z=Me.node=Oe,ee.push(Me)}function ue(Me,_e){Me.appendChild(document.createTextNode(_e))}function pe(Me){if(ee.length!==1){var _e=ee.pop();Me!==_e.type&&k.log("Start tag <"+_e.type+"> doesnt match end tag <"+Me+">. Pretending it did match.",K),Z=ee[ee.length-1].node}else k.log("Ignoring unexpected end tag </"+Me+">.",K)}g.test(K)?re():(Z=$,ee=[{node:$}]);for(var ge=K.split(c),we=0;we<ge.length;we++){var me=ge[we],ve=me.match(b),Ie=ve&&ve[2].toLowerCase(),Se=r[Ie];if(Ie==="br")re();else if(Se===void 0)ue(Z,E(me));else if(ve[1])pe(Ie);else{var ke=ve[4],se={type:Ie},oe=w(ke,h);if(oe?(oe=oe.replace(f,"$1 fill:"),Se&&(oe+=";"+Se)):Se&&(oe=Se),oe&&(se.style=oe),Ie==="a"){X=!0;var he=w(ke,x);if(he){var Le=L(he);Le&&(se.href=Le,se.target=w(ke,v)||"_blank",se.popup=w(ke,m))}}ae(se)}}return X}(R.node(),H);te&&R.style("pointer-events","all"),O.positionText(R),I&&I.call(R)}};var s=/(<|&lt;|&#60;)/g,t=/(>|&gt;|&#62;)/g,i=[["$","$"],["\\(","\\)"]],r={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},n={sub:"0.3em",sup:"-0.6em"},l={sub:"-0.21em",sup:"0.42em"},o="​",u=["http:","https:","mailto:","",void 0,":"],p=O.NEWLINES=/(\r\n?|\n)/g,c=/(<[^<>]*>)/,b=/<(\/?)([^ >]*)(\s+(.*))?>/i,g=/<br(\s+.*)?>/i;O.BR_TAG_ALL=/<br(\s+.*)?>/gi;var h=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,x=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,v=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,m=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function w(R,G){if(!R)return null;var I=R.match(G),H=I&&(I[3]||I[4]);return H&&E(H)}var f=/(^|;)\s*color:/;O.plainText=function(R,G){for(var I=(G=G||{}).len!==void 0&&G.len!==-1?G.len:1/0,H=G.allowedTags!==void 0?G.allowedTags:["br"],N=R.split(c),B=[],V="",q=0,te=0;te<N.length;te++){var $=N[te],K=$.match(b),Z=K&&K[2].toLowerCase();if(Z)H.indexOf(Z)!==-1&&(B.push($),V=Z);else{var X=$.length;if(q+X<I)B.push($),q+=X;else if(q<I){var ee=I-q;V&&(V!=="br"||ee<=3||X<=3)&&B.pop(),I>3?B.push($.substr(0,ee-3)+"..."):B.push($.substr(0,ee));break}V=""}}return B.join("")};var S={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},T=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function E(R){return R.replace(T,function(G,I){return(I.charAt(0)==="#"?function(H){if(!(H>1114111)){var N=String.fromCodePoint;if(N)return N(H);var B=String.fromCharCode;return H<=65535?B(H):B(55232+(H>>10),H%1024+56320)}}(I.charAt(1)==="x"?parseInt(I.substr(2),16):parseInt(I.substr(1),10)):S[I])||G})}function L(R){var G=encodeURI(decodeURI(R)),I=document.createElement("a"),H=document.createElement("a");I.href=R,H.href=G;var N=I.protocol,B=H.protocol;return u.indexOf(N)!==-1&&u.indexOf(B)!==-1?G:""}function C(R,G,I){var H,N,B,V=I.horizontalAlign,q=I.verticalAlign||"top",te=R.node().getBoundingClientRect(),$=G.node().getBoundingClientRect();return N=q==="bottom"?function(){return te.bottom-H.height}:q==="middle"?function(){return te.top+(te.height-H.height)/2}:function(){return te.top},B=V==="right"?function(){return te.right-H.width}:V==="center"?function(){return te.left+(te.width-H.width)/2}:function(){return te.left},function(){H=this.node().getBoundingClientRect();var K=B()-$.left,Z=N()-$.top,X=I.gd||{};if(I.gd){X._fullLayout._calcInverseTransform(X);var ee=k.apply3DTransform(X._fullLayout._invTransform)(K,Z);K=ee[0],Z=ee[1]}return this.style({top:Z+"px",left:K+"px","z-index":1e3}),this}}O.convertEntities=E,O.sanitizeHTML=function(R){R=R.replace(p," ");for(var G=document.createElement("p"),I=G,H=[],N=R.split(c),B=0;B<N.length;B++){var V=N[B],q=V.match(b),te=q&&q[2].toLowerCase();if(te in r)if(q[1])H.length&&(I=H.pop());else{var $=q[4],K=w($,h),Z=K?{style:K}:{};if(te==="a"){var X=w($,x);if(X){var ee=L(X);if(ee){Z.href=ee;var ne=w($,v);ne&&(Z.target=ne)}}}var re=document.createElement(te);I.appendChild(re),M.select(re).attr(Z),I=re,H.push(re)}else I.appendChild(document.createTextNode(E(V)))}return G.innerHTML},O.lineCount=function(R){return R.selectAll("tspan.line").size()||1},O.positionText=function(R,G,I){return R.each(function(){var H=M.select(this);function N(q,te){return te===void 0?(te=H.attr(q))===null&&(H.attr(q,0),te=0):H.attr(q,te),te}var B=N("x",G),V=N("y",I);this.nodeName==="text"&&H.selectAll("tspan.line").attr({x:B,y:V})})};var P="1px ";O.makeTextShadow=function(R){return P+P+P+R+", -"+P+"-"+P+P+R+", "+P+"-"+P+P+R+", -"+P+P+P+R},O.makeEditable=function(R,G){var I=G.gd,H=G.delegate,N=M.dispatch("edit","input","cancel"),B=H||R;if(R.style({"pointer-events":H?"none":"all"}),R.size()!==1)throw new Error("boo");function V(){var te,$,K,Z,X;te=M.select(I).select(".svg-container"),$=te.append("div"),K=R.node().style,Z=parseFloat(K.fontSize||12),(X=G.text)===void 0&&(X=R.attr("data-unformatted")),$.classed("plugin-editable editable",!0).style({position:"absolute","font-family":K.fontFamily||"Arial","font-size":Z,color:G.fill||K.fill||"black",opacity:1,"background-color":G.background||"transparent",outline:"#ffffff33 1px solid",margin:[-Z/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(X).call(C(R,te,G)).on("blur",function(){I._editing=!1,R.text(this.textContent).style({opacity:1});var re,ae=M.select(this).attr("class");(re=ae?"."+ae.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(R.node().parentNode).select(re).style({opacity:0});var ue=this.textContent;M.select(this).transition().duration(0).remove(),M.select(document).on("mouseup",null),N.edit.call(R,ue)}).on("focus",function(){var re=this;I._editing=!0,M.select(document).on("mouseup",function(){if(M.event.target===re)return!1;document.activeElement===$.node()&&$.node().blur()})}).on("keyup",function(){M.event.which===27?(I._editing=!1,R.style({opacity:1}),M.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),N.cancel.call(R,this.textContent)):(N.input.call(R,this.textContent),M.select(this).call(C(R,te,G)))}).on("keydown",function(){M.event.which===13&&this.blur()}).call(q),R.style({opacity:0});var ee,ne=B.attr("class");(ee=ne?"."+ne.split(" ")[0]+"-math-group":"[class*=-math-group]")&&M.select(R.node().parentNode).select(ee).style({opacity:0})}function q(te){var $=te.node(),K=document.createRange();K.selectNodeContents($);var Z=window.getSelection();Z.removeAllRanges(),Z.addRange(K),$.focus()}return G.immediate?V():B.on("click",V),M.rebind(R,N,"on")}},79990:function(Y,O){var e={};function M(k){k&&k.timer!==null&&(clearTimeout(k.timer),k.timer=null)}O.throttle=function(k,a,_){var y=e[k],d=Date.now();if(!y){for(var s in e)e[s].ts<d-6e4&&delete e[s];y=e[k]={ts:0,timer:null}}function t(){_(),y.ts=Date.now(),y.onDone&&(y.onDone(),y.onDone=null)}M(y),d>y.ts+a?t():y.timer=setTimeout(function(){t(),y.timer=null},a)},O.done=function(k){var a=e[k];return a&&a.timer?new Promise(function(_){var y=a.onDone;a.onDone=function(){y&&y(),_(),a.onDone=null}}):Promise.resolve()},O.clear=function(k){if(k)M(e[k]),delete e[k];else for(var a in e)O.clear(a)}},58163:function(Y,O,e){var M=e(92770);Y.exports=function(k,a){if(k>0)return Math.log(k)/Math.LN10;var _=Math.log(Math.min(a[0],a[1]))/Math.LN10;return M(_)||(_=Math.log(Math.max(a[0],a[1]))/Math.LN10-6),_}},90973:function(Y,O,e){var M=Y.exports={},k=e(78776).locationmodeToLayer,a=e(96892).zL;M.getTopojsonName=function(_){return[_.scope.replace(/ /g,"-"),"_",_.resolution.toString(),"m"].join("")},M.getTopojsonPath=function(_,y){return _+y+".json"},M.getTopojsonFeatures=function(_,y){var d=k[_.locationmode],s=y.objects[d];return a(y,s).features}},37815:function(Y){Y.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(Y){Y.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(Y,O,e){var M=e(73972);Y.exports=function(k){for(var a,_,y=M.layoutArrayContainers,d=M.layoutArrayRegexes,s=k.split("[")[0],t=0;t<d.length;t++)if((_=k.match(d[t]))&&_.index===0){a=_[0];break}if(a||(a=y[y.indexOf(s)]),!a)return!1;var i=k.substr(a.length);return i?!!(_=i.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:a,index:Number(_[1]),property:_[3]||""}:{array:a,index:"",property:""}}},30962:function(Y,O,e){var M=e(1426).extendFlat,k=e(41965),a={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},_={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},y=a.flags.slice().concat(["fullReplot"]),d=_.flags.slice().concat("layoutReplot");function s(r){for(var n={},l=0;l<r.length;l++)n[r[l]]=!1;return n}function t(r,n,l){var o=M({},r);for(var u in o){var p=o[u];k(p)&&(o[u]=i(p,n,0,u))}return l==="from-root"&&(o.editType=n),o}function i(r,n,l,o){if(r.valType){var u=M({},r);if(u.editType=n,Array.isArray(r.items)){u.items=new Array(r.items.length);for(var p=0;p<r.items.length;p++)u.items[p]=i(r.items[p],n)}return u}return t(r,n,o.charAt(0)==="_"?"nested":"from-root")}Y.exports={traces:a,layout:_,traceFlags:function(){return s(y)},layoutFlags:function(){return s(d)},update:function(r,n){var l=n.editType;if(l&&l!=="none")for(var o=l.split("+"),u=0;u<o.length;u++)r[o[u]]=!0},overrideAll:t}},58377:function(Y,O,e){var M=e(92770),k=e(27812),a=e(73972),_=e(71828),y=e(74875),d=e(41675),s=e(7901),t=d.cleanId,i=d.getFromTrace,r=a.traceIs;function n(x,v){var m=x[v],w=v.charAt(0);m&&m!=="paper"&&(x[v]=t(m,w,!0))}function l(x){function v(m,w){var f=x[m],S=x.title&&x.title[w];f&&!S&&(x.title||(x.title={}),x.title[w]=x[m],delete x[m])}x&&(typeof x.title!="string"&&typeof x.title!="number"||(x.title={text:x.title}),v("titlefont","font"),v("titleposition","position"),v("titleside","side"),v("titleoffset","offset"))}function o(x){if(!_.isPlainObject(x))return!1;var v=x.name;return delete x.name,delete x.showlegend,(typeof v=="string"||typeof v=="number")&&String(v)}function u(x,v,m,w){if(m&&!w)return x;if(w&&!m||!x.trim())return v;if(!v.trim())return x;var f,S=Math.min(x.length,v.length);for(f=0;f<S&&x.charAt(f)===v.charAt(f);f++);return x.substr(0,f).trim()}function p(x){var v="middle",m="center";return typeof x=="string"&&(x.indexOf("top")!==-1?v="top":x.indexOf("bottom")!==-1&&(v="bottom"),x.indexOf("left")!==-1?m="left":x.indexOf("right")!==-1&&(m="right")),v+" "+m}function c(x,v){return v in x&&typeof x[v]=="object"&&Object.keys(x[v]).length===0}O.clearPromiseQueue=function(x){Array.isArray(x._promises)&&x._promises.length>0&&_.log("Clearing previous rejected promises from queue."),x._promises=[]},O.cleanLayout=function(x){var v,m;x||(x={}),x.xaxis1&&(x.xaxis||(x.xaxis=x.xaxis1),delete x.xaxis1),x.yaxis1&&(x.yaxis||(x.yaxis=x.yaxis1),delete x.yaxis1),x.scene1&&(x.scene||(x.scene=x.scene1),delete x.scene1);var w=(y.subplotsRegistry.cartesian||{}).attrRegex,f=(y.subplotsRegistry.polar||{}).attrRegex,S=(y.subplotsRegistry.ternary||{}).attrRegex,T=(y.subplotsRegistry.gl3d||{}).attrRegex,E=Object.keys(x);for(v=0;v<E.length;v++){var L=E[v];if(w&&w.test(L)){var C=x[L];C.anchor&&C.anchor!=="free"&&(C.anchor=t(C.anchor)),C.overlaying&&(C.overlaying=t(C.overlaying)),C.type||(C.isdate?C.type="date":C.islog?C.type="log":C.isdate===!1&&C.islog===!1&&(C.type="linear")),C.autorange!=="withzero"&&C.autorange!=="tozero"||(C.autorange=!0,C.rangemode="tozero"),C.insiderange&&delete C.range,delete C.islog,delete C.isdate,delete C.categories,c(C,"domain")&&delete C.domain,C.autotick!==void 0&&(C.tickmode===void 0&&(C.tickmode=C.autotick?"auto":"linear"),delete C.autotick),l(C)}else if(f&&f.test(L))l(x[L].radialaxis);else if(S&&S.test(L)){var P=x[L];l(P.aaxis),l(P.baxis),l(P.caxis)}else if(T&&T.test(L)){var R=x[L],G=R.cameraposition;if(Array.isArray(G)&&G[0].length===4){var I=G[0],H=G[1],N=G[2],B=k([],I),V=[];for(m=0;m<3;++m)V[m]=H[m]+N*B[2+4*m];R.camera={eye:{x:V[0],y:V[1],z:V[2]},center:{x:H[0],y:H[1],z:H[2]},up:{x:0,y:0,z:1}},delete R.cameraposition}l(R.xaxis),l(R.yaxis),l(R.zaxis)}}var q=Array.isArray(x.annotations)?x.annotations.length:0;for(v=0;v<q;v++){var te=x.annotations[v];_.isPlainObject(te)&&(te.ref&&(te.ref==="paper"?(te.xref="paper",te.yref="paper"):te.ref==="data"&&(te.xref="x",te.yref="y"),delete te.ref),n(te,"xref"),n(te,"yref"))}var $=Array.isArray(x.shapes)?x.shapes.length:0;for(v=0;v<$;v++){var K=x.shapes[v];_.isPlainObject(K)&&(n(K,"xref"),n(K,"yref"))}var Z=Array.isArray(x.images)?x.images.length:0;for(v=0;v<Z;v++){var X=x.images[v];_.isPlainObject(X)&&(n(X,"xref"),n(X,"yref"))}var ee=x.legend;return ee&&(ee.x>3?(ee.x=1.02,ee.xanchor="left"):ee.x<-2&&(ee.x=-.02,ee.xanchor="right"),ee.y>3?(ee.y=1.02,ee.yanchor="bottom"):ee.y<-2&&(ee.y=-.02,ee.yanchor="top")),l(x),x.dragmode==="rotate"&&(x.dragmode="orbit"),s.clean(x),x.template&&x.template.layout&&O.cleanLayout(x.template.layout),x},O.cleanData=function(x){for(var v=0;v<x.length;v++){var m,w=x[v];if(w.type==="histogramy"&&"xbins"in w&&!("ybins"in w)&&(w.ybins=w.xbins,delete w.xbins),w.error_y&&"opacity"in w.error_y){var f=s.defaults,S=w.error_y.color||(r(w,"bar")?s.defaultLine:f[v%f.length]);w.error_y.color=s.addOpacity(s.rgb(S),s.opacity(S)*w.error_y.opacity),delete w.error_y.opacity}if("bardir"in w&&(w.bardir!=="h"||!r(w,"bar")&&w.type.substr(0,9)!=="histogram"||(w.orientation="h",O.swapXYData(w)),delete w.bardir),w.type==="histogramy"&&O.swapXYData(w),w.type!=="histogramx"&&w.type!=="histogramy"||(w.type="histogram"),"scl"in w&&!("colorscale"in w)&&(w.colorscale=w.scl,delete w.scl),"reversescl"in w&&!("reversescale"in w)&&(w.reversescale=w.reversescl,delete w.reversescl),w.xaxis&&(w.xaxis=t(w.xaxis,"x")),w.yaxis&&(w.yaxis=t(w.yaxis,"y")),r(w,"gl3d")&&w.scene&&(w.scene=y.subplotsRegistry.gl3d.cleanId(w.scene)),!r(w,"pie-like")&&!r(w,"bar-like"))if(Array.isArray(w.textposition))for(m=0;m<w.textposition.length;m++)w.textposition[m]=p(w.textposition[m]);else w.textposition&&(w.textposition=p(w.textposition));var T=a.getModule(w);if(T&&T.colorbar){var E=T.colorbar.container,L=E?w[E]:w;L&&L.colorscale&&(L.colorscale==="YIGnBu"&&(L.colorscale="YlGnBu"),L.colorscale==="YIOrRd"&&(L.colorscale="YlOrRd"))}if(w.type==="surface"&&_.isPlainObject(w.contours)){var C=["x","y","z"];for(m=0;m<C.length;m++){var P=w.contours[C[m]];_.isPlainObject(P)&&(P.highlightColor&&(P.highlightcolor=P.highlightColor,delete P.highlightColor),P.highlightWidth&&(P.highlightwidth=P.highlightWidth,delete P.highlightWidth))}}if(w.type==="candlestick"||w.type==="ohlc"){var R=(w.increasing||{}).showlegend!==!1,G=(w.decreasing||{}).showlegend!==!1,I=o(w.increasing),H=o(w.decreasing);if(I!==!1&&H!==!1){var N=u(I,H,R,G);N&&(w.name=N)}else!I&&!H||w.name||(w.name=I||H)}if(Array.isArray(w.transforms)){var B=w.transforms;for(m=0;m<B.length;m++){var V=B[m];if(_.isPlainObject(V))switch(V.type){case"filter":V.filtersrc&&(V.target=V.filtersrc,delete V.filtersrc),V.calendar&&(V.valuecalendar||(V.valuecalendar=V.calendar),delete V.calendar);break;case"groupby":if(V.styles=V.styles||V.style,V.styles&&!Array.isArray(V.styles)){var q=V.styles,te=Object.keys(q);V.styles=[];for(var $=0;$<te.length;$++)V.styles.push({target:te[$],value:q[te[$]]})}}}}c(w,"line")&&delete w.line,"marker"in w&&(c(w.marker,"line")&&delete w.marker.line,c(w,"marker")&&delete w.marker),s.clean(w),w.autobinx&&(delete w.autobinx,delete w.xbins),w.autobiny&&(delete w.autobiny,delete w.ybins),l(w),w.colorbar&&l(w.colorbar),w.marker&&w.marker.colorbar&&l(w.marker.colorbar),w.line&&w.line.colorbar&&l(w.line.colorbar),w.aaxis&&l(w.aaxis),w.baxis&&l(w.baxis)}},O.swapXYData=function(x){var v;if(_.swapAttrs(x,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(x.z)&&Array.isArray(x.z[0])&&(x.transpose?delete x.transpose:x.transpose=!0),x.error_x&&x.error_y){var m=x.error_y,w="copy_ystyle"in m?m.copy_ystyle:!(m.color||m.thickness||m.width);_.swapAttrs(x,["error_?.copy_ystyle"]),w&&_.swapAttrs(x,["error_?.color","error_?.thickness","error_?.width"])}if(typeof x.hoverinfo=="string"){var f=x.hoverinfo.split("+");for(v=0;v<f.length;v++)f[v]==="x"?f[v]="y":f[v]==="y"&&(f[v]="x");x.hoverinfo=f.join("+")}},O.coerceTraceIndices=function(x,v){if(M(v))return[v];if(!Array.isArray(v)||!v.length)return x.data.map(function(f,S){return S});if(Array.isArray(v)){for(var m=[],w=0;w<v.length;w++)_.isIndex(v[w],x.data.length)?m.push(v[w]):_.warn("trace index (",v[w],") is not a number or is out of bounds");return m}return v},O.manageArrayContainers=function(x,v,m){var w=x.obj,f=x.parts,S=f.length,T=f[S-1],E=M(T);if(E&&v===null){var L=f.slice(0,S-1).join(".");_.nestedProperty(w,L).get().splice(T,1)}else E&&x.get()===void 0&&x.get()===void 0&&(m[x.astr]=null),x.set(v)};var b=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function g(x){var v=x.search(b);if(v>0)return x.substr(0,v)}O.hasParent=function(x,v){for(var m=g(v);m;){if(m in x)return!0;m=g(m)}return!1};var h=["x","y","z"];O.clearAxisTypes=function(x,v,m){for(var w=0;w<v.length;w++)for(var f=x._fullData[w],S=0;S<3;S++){var T=i(x,f,h[S]);if(T&&T.type!=="log"){var E=T._name,L=T._id.substr(1);if(L.substr(0,5)==="scene"){if(m[L]!==void 0)continue;E=L+"."+E}var C=E+".type";m[E]===void 0&&m[C]===void 0&&_.nestedProperty(x.layout,C).set(null)}}}},10641:function(Y,O,e){var M=e(72391);O._doPlot=M._doPlot,O.newPlot=M.newPlot,O.restyle=M.restyle,O.relayout=M.relayout,O.redraw=M.redraw,O.update=M.update,O._guiRestyle=M._guiRestyle,O._guiRelayout=M._guiRelayout,O._guiUpdate=M._guiUpdate,O._storeDirectGUIEdit=M._storeDirectGUIEdit,O.react=M.react,O.extendTraces=M.extendTraces,O.prependTraces=M.prependTraces,O.addTraces=M.addTraces,O.deleteTraces=M.deleteTraces,O.moveTraces=M.moveTraces,O.purge=M.purge,O.addFrames=M.addFrames,O.deleteFrames=M.deleteFrames,O.animate=M.animate,O.setPlotConfig=M.setPlotConfig;var k=e(24401).getGraphDiv,a=e(34031).eraseActiveShape;O.deleteActiveShape=function(y){return a(k(y))},O.toImage=e(403),O.validate=e(84936),O.downloadImage=e(7239);var _=e(96318);O.makeTemplate=_.makeTemplate,O.validateTemplate=_.validateTemplate},6611:function(Y,O,e){var M=e(41965),k=e(64213),a=e(47769),_=e(65888).sorterAsc,y=e(73972);O.containerArrayMatch=e(14458);var d=O.isAddVal=function(t){return t==="add"||M(t)},s=O.isRemoveVal=function(t){return t===null||t==="remove"};O.applyContainerArrayChanges=function(t,i,r,n,l){var o=i.astr,u=y.getComponentMethod(o,"supplyLayoutDefaults"),p=y.getComponentMethod(o,"draw"),c=y.getComponentMethod(o,"drawOne"),b=n.replot||n.recalc||u===k||p===k,g=t.layout,h=t._fullLayout;if(r[""]){Object.keys(r).length>1&&a.warn("Full array edits are incompatible with other edits",o);var x=r[""][""];if(s(x))i.set(null);else{if(!Array.isArray(x))return a.warn("Unrecognized full array edit value",o,x),!0;i.set(x)}return!b&&(u(g,h),p(t),!0)}var v,m,w,f,S,T,E,L,C=Object.keys(r).map(Number).sort(_),P=i.get(),R=P||[],G=l(h,o).get(),I=[],H=-1,N=R.length;for(v=0;v<C.length;v++)if(f=r[w=C[v]],S=Object.keys(f),T=f[""],E=d(T),w<0||w>R.length-(E?0:1))a.warn("index out of range",o,w);else if(T!==void 0)S.length>1&&a.warn("Insertion & removal are incompatible with edits to the same index.",o,w),s(T)?I.push(w):E?(T==="add"&&(T={}),R.splice(w,0,T),G&&G.splice(w,0,{})):a.warn("Unrecognized full object edit value",o,w,T),H===-1&&(H=w);else for(m=0;m<S.length;m++)L=o+"["+w+"].",l(R[w],S[m],L).set(f[S[m]]);for(v=I.length-1;v>=0;v--)R.splice(I[v],1),G&&G.splice(I[v],1);if(R.length?P||i.set(R):i.set(null),b)return!1;if(u(g,h),c!==k){var B;if(H===-1)B=C;else{for(N=Math.max(R.length,N),B=[],v=0;v<C.length&&!((w=C[v])>=H);v++)B.push(w);for(v=H;v<N;v++)B.push(v)}for(v=0;v<B.length;v++)c(t,B[v])}else p(t);return!0}},72391:function(Y,O,e){var M=e(39898),k=e(92770),a=e(57035),_=e(71828),y=_.nestedProperty,d=e(11086),s=e(10847),t=e(73972),i=e(86281),r=e(74875),n=e(89298),l=e(23608),o=e(13838),u=e(91424),p=e(7901),c=e(4305).initInteractions,b=e(77922),g=e(47322).clearOutline,h=e(72075).dfltConfig,x=e(6611),v=e(58377),m=e(61549),w=e(30962),f=e(85555).AX_NAME_PATTERN,S=0;function T(Me){var _e=Me._fullLayout;_e._redrawFromAutoMarginCount?_e._redrawFromAutoMarginCount--:Me.emit("plotly_afterplot")}function E(Me,_e){try{Me._fullLayout._paper.style("background",_e)}catch(De){_.error(De)}}function L(Me,_e){E(Me,p.combine(_e,"white"))}function C(Me,_e){if(!Me._context){Me._context=_.extendDeep({},h);var De=M.select("base");Me._context._baseUrl=De.size()&&De.attr("href")?window.location.href.split("#")[0]:""}var Ne,ce,Te,ye=Me._context;if(_e){for(ce=Object.keys(_e),Ne=0;Ne<ce.length;Ne++)(Te=ce[Ne])!=="editable"&&Te!=="edits"&&Te in ye&&(Te==="setBackground"&&_e[Te]==="opaque"?ye[Te]=L:ye[Te]=_e[Te]);_e.plot3dPixelRatio&&!ye.plotGlPixelRatio&&(ye.plotGlPixelRatio=ye.plot3dPixelRatio);var Oe=_e.editable;if(Oe!==void 0)for(ye.editable=Oe,ce=Object.keys(ye.edits),Ne=0;Ne<ce.length;Ne++)ye.edits[ce[Ne]]=Oe;if(_e.edits)for(ce=Object.keys(_e.edits),Ne=0;Ne<ce.length;Ne++)(Te=ce[Ne])in ye.edits&&(ye.edits[Te]=_e.edits[Te]);ye._exportedPlot=_e._exportedPlot}ye.staticPlot&&(ye.editable=!1,ye.edits={},ye.autosizable=!1,ye.scrollZoom=!1,ye.doubleClick=!1,ye.showTips=!1,ye.showLink=!1,ye.displayModeBar=!1),ye.displayModeBar!=="hover"||a||(ye.displayModeBar=!0),ye.setBackground!=="transparent"&&typeof ye.setBackground=="function"||(ye.setBackground=E),ye._hasZeroHeight=ye._hasZeroHeight||Me.clientHeight===0,ye._hasZeroWidth=ye._hasZeroWidth||Me.clientWidth===0;var Be=ye.scrollZoom,Fe=ye._scrollZoom={};if(Be===!0)Fe.cartesian=1,Fe.gl3d=1,Fe.geo=1,Fe.mapbox=1;else if(typeof Be=="string"){var Ge=Be.split("+");for(Ne=0;Ne<Ge.length;Ne++)Fe[Ge[Ne]]=1}else Be!==!1&&(Fe.gl3d=1,Fe.geo=1,Fe.mapbox=1)}function P(Me,_e){var De,Ne,ce=_e+1,Te=[];for(De=0;De<Me.length;De++)(Ne=Me[De])<0?Te.push(ce+Ne):Te.push(Ne);return Te}function R(Me,_e,De){var Ne,ce;for(Ne=0;Ne<_e.length;Ne++){if((ce=_e[Ne])!==parseInt(ce,10))throw new Error("all values in "+De+" must be integers");if(ce>=Me.data.length||ce<-Me.data.length)throw new Error(De+" must be valid indices for gd.data.");if(_e.indexOf(ce,Ne+1)>-1||ce>=0&&_e.indexOf(-Me.data.length+ce)>-1||ce<0&&_e.indexOf(Me.data.length+ce)>-1)throw new Error("each index in "+De+" must be unique.")}}function G(Me,_e,De){if(!Array.isArray(Me.data))throw new Error("gd.data must be an array.");if(_e===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(_e)||(_e=[_e]),R(Me,_e,"currentIndices"),De===void 0||Array.isArray(De)||(De=[De]),De!==void 0&&R(Me,De,"newIndices"),De!==void 0&&_e.length!==De.length)throw new Error("current and new indices must be of equal length.")}function I(Me,_e,De,Ne,ce){(function(et,ft,rt,_t){var kt=_.isPlainObject(_t);if(!Array.isArray(et.data))throw new Error("gd.data must be an array");if(!_.isPlainObject(ft))throw new Error("update must be a key:value object");if(rt===void 0)throw new Error("indices must be an integer or array of integers");for(var wt in R(et,rt,"indices"),ft){if(!Array.isArray(ft[wt])||ft[wt].length!==rt.length)throw new Error("attribute "+wt+" must be an array of length equal to indices array length");if(kt&&(!(wt in _t)||!Array.isArray(_t[wt])||_t[wt].length!==ft[wt].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(Me,_e,De,Ne);for(var Te=function(et,ft,rt,_t){var kt,wt,lt,ut,Et,Ot=_.isPlainObject(_t),zt=[];for(var Lt in Array.isArray(rt)||(rt=[rt]),rt=P(rt,et.data.length-1),ft)for(var Je=0;Je<rt.length;Je++){if(kt=et.data[rt[Je]],wt=(lt=y(kt,Lt)).get(),ut=ft[Lt][Je],!_.isArrayOrTypedArray(ut))throw new Error("attribute: "+Lt+" index: "+Je+" must be an array");if(!_.isArrayOrTypedArray(wt))throw new Error("cannot extend missing or non-array attribute: "+Lt);if(wt.constructor!==ut.constructor)throw new Error("cannot extend array with an array of a different type: "+Lt);Et=Ot?_t[Lt][Je]:_t,k(Et)||(Et=-1),zt.push({prop:lt,target:wt,insert:ut,maxp:Math.floor(Et)})}return zt}(Me,_e,De,Ne),ye={},Oe={},Be=0;Be<Te.length;Be++){var Fe=Te[Be].prop,Ge=Te[Be].maxp,Ze=ce(Te[Be].target,Te[Be].insert,Ge);Fe.set(Ze[0]),Array.isArray(ye[Fe.astr])||(ye[Fe.astr]=[]),ye[Fe.astr].push(Ze[1]),Array.isArray(Oe[Fe.astr])||(Oe[Fe.astr]=[]),Oe[Fe.astr].push(Te[Be].target.length)}return{update:ye,maxPoints:Oe}}function H(Me,_e){var De=new Me.constructor(Me.length+_e.length);return De.set(Me),De.set(_e,Me.length),De}function N(Me,_e,De,Ne){Me=_.getGraphDiv(Me),v.clearPromiseQueue(Me);var ce={};if(typeof _e=="string")ce[_e]=De;else{if(!_.isPlainObject(_e))return _.warn("Restyle fail.",_e,De,Ne),Promise.reject();ce=_.extendFlat({},_e),Ne===void 0&&(Ne=De)}Object.keys(ce).length&&(Me.changed=!0);var Te=v.coerceTraceIndices(Me,Ne),ye=te(Me,ce,Te),Oe=ye.flags;Oe.calc&&(Me.calcdata=void 0),Oe.clearAxisTypes&&v.clearAxisTypes(Me,Te,{});var Be=[];Oe.fullReplot?Be.push(O._doPlot):(Be.push(r.previousPromises),r.supplyDefaults(Me),Oe.markerSize&&(r.doCalcdata(Me),X(Be)),Oe.style&&Be.push(m.doTraceStyle),Oe.colorbars&&Be.push(m.doColorBars),Be.push(T)),Be.push(r.rehover,r.redrag,r.reselect),s.add(Me,N,[Me,ye.undoit,ye.traces],N,[Me,ye.redoit,ye.traces]);var Fe=_.syncOrAsync(Be,Me);return Fe&&Fe.then||(Fe=Promise.resolve()),Fe.then(function(){return Me.emit("plotly_restyle",ye.eventData),Me})}function B(Me){return Me===void 0?null:Me}function V(Me,_e){return _e?function(De,Ne,ce){var Te=y(De,Ne),ye=Te.set;return Te.set=function(Oe){q((ce||"")+Ne,Te.get(),Oe,Me),ye(Oe)},Te}:y}function q(Me,_e,De,Ne){if(Array.isArray(_e)||Array.isArray(De))for(var ce=Array.isArray(_e)?_e:[],Te=Array.isArray(De)?De:[],ye=Math.max(ce.length,Te.length),Oe=0;Oe<ye;Oe++)q(Me+"["+Oe+"]",ce[Oe],Te[Oe],Ne);else if(_.isPlainObject(_e)||_.isPlainObject(De)){var Be=_.isPlainObject(_e)?_e:{},Fe=_.isPlainObject(De)?De:{},Ge=_.extendFlat({},Be,Fe);for(var Ze in Ge)q(Me+"."+Ze,Be[Ze],Fe[Ze],Ne)}else Ne[Me]===void 0&&(Ne[Me]=B(_e))}function te(Me,_e,De){var Ne,ce=Me._fullLayout,Te=Me._fullData,ye=Me.data,Oe=ce._guiEditing,Be=V(ce._preGUI,Oe),Fe=_.extendDeepAll({},_e);$(_e);var Ge,Ze=w.traceFlags(),et={},ft={};function rt(){return De.map(function(){})}function _t(Gt){var Yt=n.id2name(Gt);Ge.indexOf(Yt)===-1&&Ge.push(Yt)}function kt(Gt){return"LAYOUT"+Gt+".autorange"}function wt(Gt){return"LAYOUT"+Gt+".range"}function lt(Gt){for(var Yt=Gt;Yt<Te.length;Yt++)if(Te[Yt]._input===ye[Gt])return Te[Yt]}function ut(Gt,Yt,en){if(Array.isArray(Gt))Gt.forEach(function(gn){ut(gn,Yt,en)});else if(!(Gt in _e)&&!v.hasParent(_e,Gt)){var bn;if(Gt.substr(0,6)==="LAYOUT")bn=Be(Me.layout,Gt.replace("LAYOUT",""));else{var On=De[en];bn=V(ce._tracePreGUI[lt(On)._fullInput.uid],Oe)(ye[On],Gt)}Gt in ft||(ft[Gt]=rt()),ft[Gt][en]===void 0&&(ft[Gt][en]=B(bn.get())),Yt!==void 0&&bn.set(Yt)}}function Et(Gt){return function(Yt){return Te[Yt][Gt]}}function Ot(Gt){return function(Yt,en){return Yt===!1?Te[De[en]][Gt]:null}}for(var zt in _e){if(v.hasParent(_e,zt))throw new Error("cannot set "+zt+" and a parent attribute simultaneously");var Lt,Je,Qe,qe,$e,ct,at=_e[zt];if(zt!=="autobinx"&&zt!=="autobiny"||(zt=zt.charAt(zt.length-1)+"bins",at=Array.isArray(at)?at.map(Ot(zt)):at===!1?De.map(Et(zt)):null),et[zt]=at,zt.substr(0,6)!=="LAYOUT"){for(ft[zt]=rt(),Ne=0;Ne<De.length;Ne++)if(Lt=ye[De[Ne]],Je=lt(De[Ne]),qe=(Qe=V(ce._tracePreGUI[Je._fullInput.uid],Oe)(Lt,zt)).get(),($e=Array.isArray(at)?at[Ne%at.length]:at)!==void 0){var Re=Qe.parts[Qe.parts.length-1],je=zt.substr(0,zt.length-Re.length-1),st=je?je+".":"",ot=je?y(Je,je).get():Je;if((ct=i.getTraceValObject(Je,Qe.parts))&&ct.impliedEdits&&$e!==null)for(var xt in ct.impliedEdits)ut(_.relativeAttr(zt,xt),ct.impliedEdits[xt],Ne);else if(Re!=="thicknessmode"&&Re!=="lenmode"||qe===$e||$e!=="fraction"&&$e!=="pixels"||!ot){if(zt==="type"&&($e==="pie"!=(qe==="pie")||$e==="funnelarea"!=(qe==="funnelarea"))){var mt="x",bt="y";$e!=="bar"&&qe!=="bar"||Lt.orientation!=="h"||(mt="y",bt="x"),_.swapAttrs(Lt,["?","?src"],"labels",mt),_.swapAttrs(Lt,["d?","?0"],"label",mt),_.swapAttrs(Lt,["?","?src"],"values",bt),qe==="pie"||qe==="funnelarea"?(y(Lt,"marker.color").set(y(Lt,"marker.colors").get()),ce._pielayer.selectAll("g.trace").remove()):t.traceIs(Lt,"cartesian")&&y(Lt,"marker.colors").set(y(Lt,"marker.color").get())}}else{var dt=ce._size,St=ot.orient,gt=St==="top"||St==="bottom";if(Re==="thicknessmode"){var vt=gt?dt.h:dt.w;ut(st+"thickness",ot.thickness*($e==="fraction"?1/vt:vt),Ne)}else{var Mt=gt?dt.w:dt.h;ut(st+"len",ot.len*($e==="fraction"?1/Mt:Mt),Ne)}}if(ft[zt][Ne]=B(qe),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(zt)!==-1){if(zt==="orientation"){Qe.set($e);var Bt=Lt.x&&!Lt.y?"h":"v";if((Qe.get()||Bt)===Je.orientation)continue}else zt==="orientationaxes"&&(Lt.orientation={v:"h",h:"v"}[Je.orientation]);v.swapXYData(Lt),Ze.calc=Ze.clearAxisTypes=!0}else r.dataArrayContainers.indexOf(Qe.parts[0])!==-1?(v.manageArrayContainers(Qe,$e,ft),Ze.calc=!0):(ct?ct.arrayOk&&!t.traceIs(Je,"regl")&&(_.isArrayOrTypedArray($e)||_.isArrayOrTypedArray(qe))?Ze.calc=!0:w.update(Ze,ct):Ze.calc=!0,Qe.set($e))}if(["swapxyaxes","orientationaxes"].indexOf(zt)!==-1&&n.swap(Me,De),zt==="orientationaxes"){var Nt=y(Me.layout,"hovermode"),qt=Nt.get();qt==="x"?Nt.set("y"):qt==="y"?Nt.set("x"):qt==="x unified"?Nt.set("y unified"):qt==="y unified"&&Nt.set("x unified")}if(["orientation","type"].indexOf(zt)!==-1){for(Ge=[],Ne=0;Ne<De.length;Ne++){var an=ye[De[Ne]];t.traceIs(an,"cartesian")&&(_t(an.xaxis||"x"),_t(an.yaxis||"y"))}ut(Ge.map(kt),!0,0),ut(Ge.map(wt),[0,1],0)}}else Qe=Be(Me.layout,zt.replace("LAYOUT","")),ft[zt]=[B(Qe.get())],Qe.set(Array.isArray(at)?at[0]:at),Ze.calc=!0}return(Ze.calc||Ze.plot)&&(Ze.fullReplot=!0),{flags:Ze,undoit:ft,redoit:et,traces:De,eventData:_.extendDeepNoArrays([],[Fe,De])}}function $(Me){var _e,De,Ne,ce=_.counterRegex("axis",".title",!1,!1),Te=/colorbar\.title$/,ye=Object.keys(Me);for(_e=0;_e<ye.length;_e++)De=ye[_e],Ne=Me[De],De!=="title"&&!ce.test(De)&&!Te.test(De)||typeof Ne!="string"&&typeof Ne!="number"?De.indexOf("titlefont")>-1&&De.indexOf("grouptitlefont")===-1?Oe(De,De.replace("titlefont","title.font")):De.indexOf("titleposition")>-1?Oe(De,De.replace("titleposition","title.position")):De.indexOf("titleside")>-1?Oe(De,De.replace("titleside","title.side")):De.indexOf("titleoffset")>-1&&Oe(De,De.replace("titleoffset","title.offset")):Oe(De,De.replace("title","title.text"));function Oe(Be,Fe){Me[Fe]=Me[Be],delete Me[Be]}}function K(Me,_e,De){Me=_.getGraphDiv(Me),v.clearPromiseQueue(Me);var Ne={};if(typeof _e=="string")Ne[_e]=De;else{if(!_.isPlainObject(_e))return _.warn("Relayout fail.",_e,De),Promise.reject();Ne=_.extendFlat({},_e)}Object.keys(Ne).length&&(Me.changed=!0);var ce=ae(Me,Ne),Te=ce.flags;Te.calc&&(Me.calcdata=void 0);var ye=[r.previousPromises];Te.layoutReplot?ye.push(m.layoutReplot):Object.keys(Ne).length&&(Z(Me,Te,ce)||r.supplyDefaults(Me),Te.legend&&ye.push(m.doLegend),Te.layoutstyle&&ye.push(m.layoutStyles),Te.axrange&&X(ye,ce.rangesAltered),Te.ticks&&ye.push(m.doTicksRelayout),Te.modebar&&ye.push(m.doModeBar),Te.camera&&ye.push(m.doCamera),Te.colorbars&&ye.push(m.doColorBars),ye.push(T)),ye.push(r.rehover,r.redrag,r.reselect),s.add(Me,K,[Me,ce.undoit],K,[Me,ce.redoit]);var Oe=_.syncOrAsync(ye,Me);return Oe&&Oe.then||(Oe=Promise.resolve(Me)),Oe.then(function(){return Me.emit("plotly_relayout",ce.eventData),Me})}function Z(Me,_e,De){var Ne,ce,Te=Me._fullLayout;if(!_e.axrange)return!1;for(var ye in _e)if(ye!=="axrange"&&_e[ye])return!1;var Oe=function(ft,rt){return _.coerce(Ne,ce,o,ft,rt)},Be={};for(var Fe in De.rangesAltered){var Ge=n.id2name(Fe);if(Ne=Me.layout[Ge],ce=Te[Ge],l(Ne,ce,Oe,Be),ce._matchGroup){for(var Ze in ce._matchGroup)if(Ze!==Fe){var et=Te[n.id2name(Ze)];et.autorange=ce.autorange,et.range=ce.range.slice(),et._input.range=ce.range.slice()}}}return!0}function X(Me,_e){var De=_e?function(Ne){var ce=[];for(var Te in _e){var ye=n.getFromId(Ne,Te);if(ce.push(Te),(ye.ticklabelposition||"").indexOf("inside")!==-1&&ye._anchorAxis&&ce.push(ye._anchorAxis._id),ye._matchGroup)for(var Oe in ye._matchGroup)_e[Oe]||ce.push(Oe)}return n.draw(Ne,ce,{skipTitle:!0})}:function(Ne){return n.draw(Ne,"redraw")};Me.push(g,m.doAutoRangeAndConstraints,De,m.drawData,m.finalDraw)}var ee=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,ne=/^[xyz]axis[0-9]*\.autorange$/,re=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function ae(Me,_e){var De,Ne,ce,Te=Me.layout,ye=Me._fullLayout,Oe=ye._guiEditing,Be=V(ye._preGUI,Oe),Fe=Object.keys(_e),Ge=n.list(Me),Ze=_.extendDeepAll({},_e),et={};for($(_e),Fe=Object.keys(_e),Ne=0;Ne<Fe.length;Ne++)if(Fe[Ne].indexOf("allaxes")===0){for(ce=0;ce<Ge.length;ce++){var ft=Ge[ce]._id.substr(1),rt=ft.indexOf("scene")!==-1?ft+".":"",_t=Fe[Ne].replace("allaxes",rt+Ge[ce]._name);_e[_t]||(_e[_t]=_e[Fe[Ne]])}delete _e[Fe[Ne]]}var kt=w.layoutFlags(),wt={},lt={};function ut(gn,Xt){if(Array.isArray(gn))gn.forEach(function(nn){ut(nn,Xt)});else if(!(gn in _e)&&!v.hasParent(_e,gn)){var ln=Be(Te,gn);gn in lt||(lt[gn]=B(ln.get())),Xt!==void 0&&ln.set(Xt)}}var Et,Ot={};function zt(gn){var Xt=n.name2id(gn.split(".")[0]);return Ot[Xt]=1,Xt}for(var Lt in _e){if(v.hasParent(_e,Lt))throw new Error("cannot set "+Lt+" and a parent attribute simultaneously");for(var Je=Be(Te,Lt),Qe=_e[Lt],qe=Je.parts.length-1;qe>0&&typeof Je.parts[qe]!="string";)qe--;var $e=Je.parts[qe],ct=Je.parts[qe-1]+"."+$e,at=Je.parts.slice(0,qe).join("."),Re=y(Me.layout,at).get(),je=y(ye,at).get(),st=Je.get();if(Qe!==void 0){wt[Lt]=Qe,lt[Lt]=$e==="reverse"?Qe:B(st);var ot=i.getLayoutValObject(ye,Je.parts);if(ot&&ot.impliedEdits&&Qe!==null)for(var xt in ot.impliedEdits)ut(_.relativeAttr(Lt,xt),ot.impliedEdits[xt]);if(["width","height"].indexOf(Lt)!==-1)if(Qe){ut("autosize",null);var mt=Lt==="height"?"width":"height";ut(mt,ye[mt])}else ye[Lt]=Me._initialAutoSize[Lt];else if(Lt==="autosize")ut("width",Qe?null:ye.width),ut("height",Qe?null:ye.height);else if(ct.match(ee))zt(ct),y(ye,at+"._inputRange").set(null);else if(ct.match(ne)){zt(ct),y(ye,at+"._inputRange").set(null);var bt=y(ye,at).get();bt._inputDomain&&(bt._input.domain=bt._inputDomain.slice())}else ct.match(re)&&y(ye,at+"._inputDomain").set(null);if($e==="type"){Et=Re;var dt=je.type==="linear"&&Qe==="log",St=je.type==="log"&&Qe==="linear";if(dt||St){if(Et&&Et.range)if(je.autorange)dt&&(Et.range=Et.range[1]>Et.range[0]?[1,2]:[2,1]);else{var gt=Et.range[0],vt=Et.range[1];dt?(gt<=0&&vt<=0&&ut(at+".autorange",!0),gt<=0?gt=vt/1e6:vt<=0&&(vt=gt/1e6),ut(at+".range[0]",Math.log(gt)/Math.LN10),ut(at+".range[1]",Math.log(vt)/Math.LN10)):(ut(at+".range[0]",Math.pow(10,gt)),ut(at+".range[1]",Math.pow(10,vt)))}else ut(at+".autorange",!0);Array.isArray(ye._subplots.polar)&&ye._subplots.polar.length&&ye[Je.parts[0]]&&Je.parts[1]==="radialaxis"&&delete ye[Je.parts[0]]._subplot.viewInitial["radialaxis.range"],t.getComponentMethod("annotations","convertCoords")(Me,je,Qe,ut),t.getComponentMethod("images","convertCoords")(Me,je,Qe,ut)}else ut(at+".autorange",!0),ut(at+".range",null);y(ye,at+"._inputRange").set(null)}else if($e.match(f)){var Mt=y(ye,Lt).get(),Bt=(Qe||{}).type;Bt&&Bt!=="-"||(Bt="linear"),t.getComponentMethod("annotations","convertCoords")(Me,Mt,Bt,ut),t.getComponentMethod("images","convertCoords")(Me,Mt,Bt,ut)}var Nt=x.containerArrayMatch(Lt);if(Nt){De=Nt.array,Ne=Nt.index;var qt=Nt.property,an=ot||{editType:"calc"};Ne!==""&&qt===""&&(x.isAddVal(Qe)?lt[Lt]=null:x.isRemoveVal(Qe)?lt[Lt]=(y(Te,De).get()||[])[Ne]:_.warn("unrecognized full object value",_e)),w.update(kt,an),et[De]||(et[De]={});var Gt=et[De][Ne];Gt||(Gt=et[De][Ne]={}),Gt[qt]=Qe,delete _e[Lt]}else $e==="reverse"?(Re.range?Re.range.reverse():(ut(at+".autorange",!0),Re.range=[1,0]),je.autorange?kt.calc=!0:kt.plot=!0):(Lt==="dragmode"&&(Qe===!1&&st!==!1||Qe!==!1&&st===!1)||ye._has("scatter-like")&&ye._has("regl")&&Lt==="dragmode"&&(Qe==="lasso"||Qe==="select")&&st!=="lasso"&&st!=="select"||ye._has("gl2d")?kt.plot=!0:ot?w.update(kt,ot):kt.calc=!0,Je.set(Qe))}}for(De in et)x.applyContainerArrayChanges(Me,Be(Te,De),et[De],kt,Be)||(kt.plot=!0);for(var Yt in Ot){var en=(Et=n.getFromId(Me,Yt))&&Et._constraintGroup;if(en)for(var bn in kt.calc=!0,en)Ot[bn]||(n.getFromId(Me,bn)._constraintShrinkable=!0)}(ue(Me)||_e.height||_e.width)&&(kt.plot=!0);var On=ye.shapes;for(Ne=0;Ne<On.length;Ne++)if(On[Ne].showlegend){kt.calc=!0;break}return(kt.plot||kt.calc)&&(kt.layoutReplot=!0),{flags:kt,rangesAltered:Ot,undoit:lt,redoit:wt,eventData:Ze}}function ue(Me){var _e=Me._fullLayout,De=_e.width,Ne=_e.height;return Me.layout.autosize&&r.plotAutoSize(Me,Me.layout,_e),_e.width!==De||_e.height!==Ne}function pe(Me,_e,De,Ne){Me=_.getGraphDiv(Me),v.clearPromiseQueue(Me),_.isPlainObject(_e)||(_e={}),_.isPlainObject(De)||(De={}),Object.keys(_e).length&&(Me.changed=!0),Object.keys(De).length&&(Me.changed=!0);var ce=v.coerceTraceIndices(Me,Ne),Te=te(Me,_.extendFlat({},_e),ce),ye=Te.flags,Oe=ae(Me,_.extendFlat({},De)),Be=Oe.flags;(ye.calc||Be.calc)&&(Me.calcdata=void 0),ye.clearAxisTypes&&v.clearAxisTypes(Me,ce,De);var Fe=[];Be.layoutReplot?Fe.push(m.layoutReplot):ye.fullReplot?Fe.push(O._doPlot):(Fe.push(r.previousPromises),Z(Me,Be,Oe)||r.supplyDefaults(Me),ye.style&&Fe.push(m.doTraceStyle),(ye.colorbars||Be.colorbars)&&Fe.push(m.doColorBars),Be.legend&&Fe.push(m.doLegend),Be.layoutstyle&&Fe.push(m.layoutStyles),Be.axrange&&X(Fe,Oe.rangesAltered),Be.ticks&&Fe.push(m.doTicksRelayout),Be.modebar&&Fe.push(m.doModeBar),Be.camera&&Fe.push(m.doCamera),Fe.push(T)),Fe.push(r.rehover,r.redrag,r.reselect),s.add(Me,pe,[Me,Te.undoit,Oe.undoit,Te.traces],pe,[Me,Te.redoit,Oe.redoit,Te.traces]);var Ge=_.syncOrAsync(Fe,Me);return Ge&&Ge.then||(Ge=Promise.resolve(Me)),Ge.then(function(){return Me.emit("plotly_update",{data:Te.eventData,layout:Oe.eventData}),Me})}function ge(Me){return function(_e){_e._fullLayout._guiEditing=!0;var De=Me.apply(null,arguments);return _e._fullLayout._guiEditing=!1,De}}var we=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],me=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function ve(Me,_e){for(var De=0;De<_e.length;De++){var Ne=_e[De],ce=Me.match(Ne.pattern);if(ce){var Te=ce[1]||"";return{head:Te,tail:Me.substr(Te.length+1),attr:Ne.attr}}}}function Ie(Me,_e){var De=y(_e,Me).get();if(De!==void 0)return De;var Ne=Me.split(".");for(Ne.pop();Ne.length>1;)if(Ne.pop(),(De=y(_e,Ne.join(".")+".uirevision").get())!==void 0)return De;return _e.uirevision}function Se(Me,_e){for(var De=0;De<_e.length;De++)if(_e[De]._fullInput.uid===Me)return De;return-1}function ke(Me,_e,De){for(var Ne=0;Ne<_e.length;Ne++)if(_e[Ne].uid===Me)return Ne;return!_e[De]||_e[De].uid?-1:De}function se(Me,_e){var De=_.isPlainObject(Me),Ne=Array.isArray(Me);return De||Ne?(De&&_.isPlainObject(_e)||Ne&&Array.isArray(_e))&&JSON.stringify(Me)===JSON.stringify(_e):Me===_e}function oe(Me,_e,De,Ne){var ce,Te,ye,Oe=Ne.getValObject,Be=Ne.flags,Fe=Ne.immutable,Ge=Ne.inArray,Ze=Ne.arrayIndex;function et(){var Re=ce.editType;Ge&&Re.indexOf("arraydraw")!==-1?_.pushUnique(Be.arrays[Ge],Ze):(w.update(Be,ce),Re!=="none"&&Be.nChanges++,Ne.transition&&ce.anim&&Be.nChangesAnim++,(ee.test(ye)||ne.test(ye))&&(Be.rangesAltered[De[0]]=1),re.test(ye)&&y(_e,"_inputDomain").set(null),Te==="datarevision"&&(Be.newDataRevision=1))}function ft(Re){return Re.valType==="data_array"||Re.arrayOk}for(Te in Me){if(Be.calc&&!Ne.transition)return;var rt=Me[Te],_t=_e[Te],kt=De.concat(Te);if(ye=kt.join("."),Te.charAt(0)!=="_"&&typeof rt!="function"&&rt!==_t){if((Te==="tick0"||Te==="dtick")&&De[0]!=="geo"){var wt=_e.tickmode;if(wt==="auto"||wt==="array"||!wt)continue}if((Te!=="range"||!_e.autorange)&&(Te!=="zmin"&&Te!=="zmax"||_e.type!=="contourcarpet")&&(ce=Oe(kt))&&(!ce._compareAsJSON||JSON.stringify(rt)!==JSON.stringify(_t))){var lt,ut=ce.valType,Et=ft(ce),Ot=Array.isArray(rt),zt=Array.isArray(_t);if(Ot&&zt){var Lt="_input_"+Te,Je=Me[Lt],Qe=_e[Lt];if(Array.isArray(Je)&&Je===Qe)continue}if(_t===void 0)Et&&Ot?Be.calc=!0:et();else if(ce._isLinkedToArray){var qe=[],$e=!1;Ge||(Be.arrays[Te]=qe);var ct=Math.min(rt.length,_t.length),at=Math.max(rt.length,_t.length);if(ct!==at){if(ce.editType!=="arraydraw"){et();continue}$e=!0}for(lt=0;lt<ct;lt++)oe(rt[lt],_t[lt],kt.concat(lt),_.extendFlat({inArray:Te,arrayIndex:lt},Ne));if($e)for(lt=ct;lt<at;lt++)qe.push(lt)}else!ut&&_.isPlainObject(rt)?oe(rt,_t,kt,Ne):Et?Ot&&zt?(Fe&&(Be.calc=!0),(Fe||Ne.newDataRevision)&&et()):Ot!==zt?Be.calc=!0:et():Ot&&zt&&rt.length===_t.length&&String(rt)===String(_t)||et()}}}for(Te in _e)if(!(Te in Me)&&Te.charAt(0)!=="_"&&typeof _e[Te]!="function"){if(ft(ce=Oe(De.concat(Te)))&&Array.isArray(_e[Te]))return void(Be.calc=!0);et()}}function he(Me,_e){var De;for(De in Me)if(De.charAt(0)!=="_"){var Ne=Me[De],ce=_e[De];if(Ne!==ce)if(_.isPlainObject(Ne)&&_.isPlainObject(ce)){if(he(Ne,ce))return!0}else{if(!Array.isArray(Ne)||!Array.isArray(ce)||Ne.length!==ce.length)return!0;for(var Te=0;Te<Ne.length;Te++)if(Ne[Te]!==ce[Te]&&(!_.isPlainObject(Ne[Te])||!_.isPlainObject(ce[Te])||he(Ne[Te],ce[Te])))return!0}}}function Le(Me){var _e=Me._fullLayout,De=Me.getBoundingClientRect();if(!_.equalDomRects(De,_e._lastBBox)){var Ne=_e._invTransform=_.inverseTransformMatrix(_.getFullTransformMatrix(Me));_e._invScaleX=Math.sqrt(Ne[0][0]*Ne[0][0]+Ne[0][1]*Ne[0][1]+Ne[0][2]*Ne[0][2]),_e._invScaleY=Math.sqrt(Ne[1][0]*Ne[1][0]+Ne[1][1]*Ne[1][1]+Ne[1][2]*Ne[1][2]),_e._lastBBox=De}}O.animate=function(Me,_e,De){if(Me=_.getGraphDiv(Me),!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var Ne=Me._transitionData;Ne._frameQueue||(Ne._frameQueue=[]);var ce=(De=r.supplyAnimationDefaults(De)).transition,Te=De.frame;function ye(Fe){return Array.isArray(ce)?Fe>=ce.length?ce[0]:ce[Fe]:ce}function Oe(Fe){return Array.isArray(Te)?Fe>=Te.length?Te[0]:Te[Fe]:Te}function Be(Fe,Ge){var Ze=0;return function(){if(Fe&&++Ze===Ge)return Fe()}}return Ne._frameWaitingCnt===void 0&&(Ne._frameWaitingCnt=0),new Promise(function(Fe,Ge){function Ze(){Me.emit("plotly_animating"),Ne._lastFrameAt=-1/0,Ne._timeToNext=0,Ne._runningTransitions=0,Ne._currentFrame=null;var Lt=function(){Ne._animationRaf=window.requestAnimationFrame(Lt),Date.now()-Ne._lastFrameAt>Ne._timeToNext&&function(){Ne._currentFrame&&Ne._currentFrame.onComplete&&Ne._currentFrame.onComplete();var Je=Ne._currentFrame=Ne._frameQueue.shift();if(Je){var Qe=Je.name?Je.name.toString():null;Me._fullLayout._currentFrame=Qe,Ne._lastFrameAt=Date.now(),Ne._timeToNext=Je.frameOpts.duration,r.transition(Me,Je.frame.data,Je.frame.layout,v.coerceTraceIndices(Me,Je.frame.traces),Je.frameOpts,Je.transitionOpts).then(function(){Je.onComplete&&Je.onComplete()}),Me.emit("plotly_animatingframe",{name:Qe,frame:Je.frame,animation:{frame:Je.frameOpts,transition:Je.transitionOpts}})}else Me.emit("plotly_animated"),window.cancelAnimationFrame(Ne._animationRaf),Ne._animationRaf=null}()};Lt()}var et,ft,rt=0;function _t(Lt){return Array.isArray(ce)?rt>=ce.length?Lt.transitionOpts=ce[rt]:Lt.transitionOpts=ce[0]:Lt.transitionOpts=ce,rt++,Lt}var kt=[],wt=_e==null,lt=Array.isArray(_e);if(wt||lt||!_.isPlainObject(_e)){if(wt||["string","number"].indexOf(typeof _e)!==-1)for(et=0;et<Ne._frames.length;et++)(ft=Ne._frames[et])&&(wt||String(ft.group)===String(_e))&&kt.push({type:"byname",name:String(ft.name),data:_t({name:ft.name})});else if(lt)for(et=0;et<_e.length;et++){var ut=_e[et];["number","string"].indexOf(typeof ut)!==-1?(ut=String(ut),kt.push({type:"byname",name:ut,data:_t({name:ut})})):_.isPlainObject(ut)&&kt.push({type:"object",data:_t(_.extendFlat({},ut))})}}else kt.push({type:"object",data:_t(_.extendFlat({},_e))});for(et=0;et<kt.length;et++)if((ft=kt[et]).type==="byname"&&!Ne._frameHash[ft.data.name])return _.warn('animate failure: frame not found: "'+ft.data.name+'"'),void Ge();["next","immediate"].indexOf(De.mode)!==-1&&function(){if(Ne._frameQueue.length!==0){for(;Ne._frameQueue.length;){var Lt=Ne._frameQueue.pop();Lt.onInterrupt&&Lt.onInterrupt()}Me.emit("plotly_animationinterrupted",[])}}(),De.direction==="reverse"&&kt.reverse();var Et=Me._fullLayout._currentFrame;if(Et&&De.fromcurrent){var Ot=-1;for(et=0;et<kt.length;et++)if((ft=kt[et]).type==="byname"&&ft.name===Et){Ot=et;break}if(Ot>0&&Ot<kt.length-1){var zt=[];for(et=0;et<kt.length;et++)ft=kt[et],(kt[et].type!=="byname"||et>Ot)&&zt.push(ft);kt=zt}}kt.length>0?function(Lt){if(Lt.length!==0){for(var Je=0;Je<Lt.length;Je++){var Qe;Qe=Lt[Je].type==="byname"?r.computeFrame(Me,Lt[Je].name):Lt[Je].data;var qe=Oe(Je),$e=ye(Je);$e.duration=Math.min($e.duration,qe.duration);var ct={frame:Qe,name:Lt[Je].name,frameOpts:qe,transitionOpts:$e};Je===Lt.length-1&&(ct.onComplete=Be(Fe,2),ct.onInterrupt=Ge),Ne._frameQueue.push(ct)}De.mode==="immediate"&&(Ne._lastFrameAt=-1/0),Ne._animationRaf||Ze()}}(kt):(Me.emit("plotly_animated"),Fe())})},O.addFrames=function(Me,_e,De){if(Me=_.getGraphDiv(Me),_e==null)return Promise.resolve();if(!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var Ne,ce,Te,ye,Oe=Me._transitionData._frames,Be=Me._transitionData._frameHash;if(!Array.isArray(_e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+_e);var Fe=Oe.length+2*_e.length,Ge=[],Ze={};for(Ne=_e.length-1;Ne>=0;Ne--)if(_.isPlainObject(_e[Ne])){var et=_e[Ne].name,ft=(Be[et]||Ze[et]||{}).name,rt=_e[Ne].name,_t=Be[ft]||Ze[ft];ft&&rt&&typeof rt=="number"&&_t&&S<5&&(S++,_.warn('addFrames: overwriting frame "'+(Be[ft]||Ze[ft]).name+'" with a frame whose name of type "number" also equates to "'+ft+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&_.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Ze[et]={name:et},Ge.push({frame:r.supplyFrameDefaults(_e[Ne]),index:De&&De[Ne]!==void 0&&De[Ne]!==null?De[Ne]:Fe+Ne})}Ge.sort(function(Lt,Je){return Lt.index>Je.index?-1:Lt.index<Je.index?1:0});var kt=[],wt=[],lt=Oe.length;for(Ne=Ge.length-1;Ne>=0;Ne--){if(typeof(ce=Ge[Ne].frame).name=="number"&&_.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!ce.name)for(;Be[ce.name="frame "+Me._transitionData._counter++];);if(Be[ce.name]){for(Te=0;Te<Oe.length&&(Oe[Te]||{}).name!==ce.name;Te++);kt.push({type:"replace",index:Te,value:ce}),wt.unshift({type:"replace",index:Te,value:Oe[Te]})}else ye=Math.max(0,Math.min(Ge[Ne].index,lt)),kt.push({type:"insert",index:ye,value:ce}),wt.unshift({type:"delete",index:ye}),lt++}var ut=r.modifyFrames,Et=r.modifyFrames,Ot=[Me,wt],zt=[Me,kt];return s&&s.add(Me,ut,Ot,Et,zt),r.modifyFrames(Me,kt)},O.deleteFrames=function(Me,_e){if(Me=_.getGraphDiv(Me),!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);var De,Ne,ce=Me._transitionData._frames,Te=[],ye=[];if(!_e)for(_e=[],De=0;De<ce.length;De++)_e.push(De);for((_e=_e.slice()).sort(),De=_e.length-1;De>=0;De--)Ne=_e[De],Te.push({type:"delete",index:Ne}),ye.unshift({type:"insert",index:Ne,value:ce[Ne]});var Oe=r.modifyFrames,Be=r.modifyFrames,Fe=[Me,ye],Ge=[Me,Te];return s&&s.add(Me,Oe,Fe,Be,Ge),r.modifyFrames(Me,Te)},O.addTraces=function Me(_e,De,Ne){_e=_.getGraphDiv(_e);var ce,Te,ye=[],Oe=O.deleteTraces,Be=Me,Fe=[_e,ye],Ge=[_e,De];for(function(Ze,et,ft){var rt,_t;if(!Array.isArray(Ze.data))throw new Error("gd.data must be an array.");if(et===void 0)throw new Error("traces must be defined.");for(Array.isArray(et)||(et=[et]),rt=0;rt<et.length;rt++)if(typeof(_t=et[rt])!="object"||Array.isArray(_t)||_t===null)throw new Error("all values in traces array must be non-array objects");if(ft===void 0||Array.isArray(ft)||(ft=[ft]),ft!==void 0&&ft.length!==et.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(_e,De,Ne),Array.isArray(De)||(De=[De]),De=De.map(function(Ze){return _.extendFlat({},Ze)}),v.cleanData(De),ce=0;ce<De.length;ce++)_e.data.push(De[ce]);for(ce=0;ce<De.length;ce++)ye.push(-De.length+ce);if(Ne===void 0)return Te=O.redraw(_e),s.add(_e,Oe,Fe,Be,Ge),Te;Array.isArray(Ne)||(Ne=[Ne]);try{G(_e,ye,Ne)}catch(Ze){throw _e.data.splice(_e.data.length-De.length,De.length),Ze}return s.startSequence(_e),s.add(_e,Oe,Fe,Be,Ge),Te=O.moveTraces(_e,ye,Ne),s.stopSequence(_e),Te},O.deleteTraces=function Me(_e,De){_e=_.getGraphDiv(_e);var Ne,ce,Te=[],ye=O.addTraces,Oe=Me,Be=[_e,Te,De],Fe=[_e,De];if(De===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(De)||(De=[De]),R(_e,De,"indices"),(De=P(De,_e.data.length-1)).sort(_.sorterDes),Ne=0;Ne<De.length;Ne+=1)ce=_e.data.splice(De[Ne],1)[0],Te.push(ce);var Ge=O.redraw(_e);return s.add(_e,ye,Be,Oe,Fe),Ge},O.extendTraces=function Me(_e,De,Ne,ce){var Te=I(_e=_.getGraphDiv(_e),De,Ne,ce,function(Be,Fe,Ge){var Ze,et;if(_.isTypedArray(Be))if(Ge<0){var ft=new Be.constructor(0),rt=H(Be,Fe);Ge<0?(Ze=rt,et=ft):(Ze=ft,et=rt)}else if(Ze=new Be.constructor(Ge),et=new Be.constructor(Be.length+Fe.length-Ge),Ge===Fe.length)Ze.set(Fe),et.set(Be);else if(Ge<Fe.length){var _t=Fe.length-Ge;Ze.set(Fe.subarray(_t)),et.set(Be),et.set(Fe.subarray(0,_t),Be.length)}else{var kt=Ge-Fe.length,wt=Be.length-kt;Ze.set(Be.subarray(wt)),Ze.set(Fe,kt),et.set(Be.subarray(0,wt))}else Ze=Be.concat(Fe),et=Ge>=0&&Ge<Ze.length?Ze.splice(0,Ze.length-Ge):[];return[Ze,et]}),ye=O.redraw(_e),Oe=[_e,Te.update,Ne,Te.maxPoints];return s.add(_e,O.prependTraces,Oe,Me,arguments),ye},O.moveTraces=function Me(_e,De,Ne){var ce,Te=[],ye=[],Oe=Me,Be=Me,Fe=[_e=_.getGraphDiv(_e),Ne,De],Ge=[_e,De,Ne];if(G(_e,De,Ne),De=Array.isArray(De)?De:[De],Ne===void 0)for(Ne=[],ce=0;ce<De.length;ce++)Ne.push(-De.length+ce);for(Ne=Array.isArray(Ne)?Ne:[Ne],De=P(De,_e.data.length-1),Ne=P(Ne,_e.data.length-1),ce=0;ce<_e.data.length;ce++)De.indexOf(ce)===-1&&Te.push(_e.data[ce]);for(ce=0;ce<De.length;ce++)ye.push({newIndex:Ne[ce],trace:_e.data[De[ce]]});for(ye.sort(function(et,ft){return et.newIndex-ft.newIndex}),ce=0;ce<ye.length;ce+=1)Te.splice(ye[ce].newIndex,0,ye[ce].trace);_e.data=Te;var Ze=O.redraw(_e);return s.add(_e,Oe,Fe,Be,Ge),Ze},O.prependTraces=function Me(_e,De,Ne,ce){var Te=I(_e=_.getGraphDiv(_e),De,Ne,ce,function(Be,Fe,Ge){var Ze,et;if(_.isTypedArray(Be))if(Ge<=0){var ft=new Be.constructor(0),rt=H(Fe,Be);Ge<0?(Ze=rt,et=ft):(Ze=ft,et=rt)}else if(Ze=new Be.constructor(Ge),et=new Be.constructor(Be.length+Fe.length-Ge),Ge===Fe.length)Ze.set(Fe),et.set(Be);else if(Ge<Fe.length){var _t=Fe.length-Ge;Ze.set(Fe.subarray(0,_t)),et.set(Fe.subarray(_t)),et.set(Be,_t)}else{var kt=Ge-Fe.length;Ze.set(Fe),Ze.set(Be.subarray(0,kt),Fe.length),et.set(Be.subarray(kt))}else Ze=Fe.concat(Be),et=Ge>=0&&Ge<Ze.length?Ze.splice(Ge,Ze.length):[];return[Ze,et]}),ye=O.redraw(_e),Oe=[_e,Te.update,Ne,Te.maxPoints];return s.add(_e,O.extendTraces,Oe,Me,arguments),ye},O.newPlot=function(Me,_e,De,Ne){return Me=_.getGraphDiv(Me),r.cleanPlot([],{},Me._fullData||[],Me._fullLayout||{}),r.purge(Me),O._doPlot(Me,_e,De,Ne)},O._doPlot=function(Me,_e,De,Ne){var ce;if(Me=_.getGraphDiv(Me),d.init(Me),_.isPlainObject(_e)){var Te=_e;_e=Te.data,De=Te.layout,Ne=Te.config,ce=Te.frames}if(d.triggerHandler(Me,"plotly_beforeplot",[_e,De,Ne])===!1)return Promise.reject();_e||De||_.isPlotDiv(Me)||_.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",Me),C(Me,Ne),De||(De={}),M.select(Me).classed("js-plotly-plot",!0),u.makeTester(),Array.isArray(Me._promises)||(Me._promises=[]);var ye=(Me.data||[]).length===0&&Array.isArray(_e);Array.isArray(_e)&&(v.cleanData(_e),ye?Me.data=_e:Me.data.push.apply(Me.data,_e),Me.empty=!1),Me.layout&&!ye||(Me.layout=v.cleanLayout(De)),r.supplyDefaults(Me);var Oe=Me._fullLayout,Be=Oe._has("cartesian");Oe._replotting=!0,(ye||Oe._shouldCreateBgLayer)&&(function(wt){var lt=M.select(wt),ut=wt._fullLayout;if(ut._calcInverseTransform=Le,ut._calcInverseTransform(wt),ut._container=lt.selectAll(".plot-container").data([0]),ut._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),ut._paperdiv=ut._container.selectAll(".svg-container").data([0]),ut._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),ut._glcontainer=ut._paperdiv.selectAll(".gl-container").data([{}]),ut._glcontainer.enter().append("div").classed("gl-container",!0),ut._paperdiv.selectAll(".main-svg").remove(),ut._paperdiv.select(".modebar-container").remove(),ut._paper=ut._paperdiv.insert("svg",":first-child").classed("main-svg",!0),ut._toppaper=ut._paperdiv.append("svg").classed("main-svg",!0),ut._modebardiv=ut._paperdiv.append("div"),delete ut._modeBar,ut._hoverpaper=ut._paperdiv.append("svg").classed("main-svg",!0),!ut._uid){var Et={};M.selectAll("defs").each(function(){this.id&&(Et[this.id.split("-")[1]]=1)}),ut._uid=_.randstr(Et)}ut._paperdiv.selectAll(".main-svg").attr(b.svgAttrs),ut._defs=ut._paper.append("defs").attr("id","defs-"+ut._uid),ut._clips=ut._defs.append("g").classed("clips",!0),ut._topdefs=ut._toppaper.append("defs").attr("id","topdefs-"+ut._uid),ut._topclips=ut._topdefs.append("g").classed("clips",!0),ut._bgLayer=ut._paper.append("g").classed("bglayer",!0),ut._draggers=ut._paper.append("g").classed("draglayer",!0);var Ot=ut._paper.append("g").classed("layer-below",!0);ut._imageLowerLayer=Ot.append("g").classed("imagelayer",!0),ut._shapeLowerLayer=Ot.append("g").classed("shapelayer",!0),ut._cartesianlayer=ut._paper.append("g").classed("cartesianlayer",!0),ut._polarlayer=ut._paper.append("g").classed("polarlayer",!0),ut._smithlayer=ut._paper.append("g").classed("smithlayer",!0),ut._ternarylayer=ut._paper.append("g").classed("ternarylayer",!0),ut._geolayer=ut._paper.append("g").classed("geolayer",!0),ut._funnelarealayer=ut._paper.append("g").classed("funnelarealayer",!0),ut._pielayer=ut._paper.append("g").classed("pielayer",!0),ut._iciclelayer=ut._paper.append("g").classed("iciclelayer",!0),ut._treemaplayer=ut._paper.append("g").classed("treemaplayer",!0),ut._sunburstlayer=ut._paper.append("g").classed("sunburstlayer",!0),ut._indicatorlayer=ut._toppaper.append("g").classed("indicatorlayer",!0),ut._glimages=ut._paper.append("g").classed("glimages",!0);var zt=ut._toppaper.append("g").classed("layer-above",!0);ut._imageUpperLayer=zt.append("g").classed("imagelayer",!0),ut._shapeUpperLayer=zt.append("g").classed("shapelayer",!0),ut._selectionLayer=ut._toppaper.append("g").classed("selectionlayer",!0),ut._infolayer=ut._toppaper.append("g").classed("infolayer",!0),ut._menulayer=ut._toppaper.append("g").classed("menulayer",!0),ut._zoomlayer=ut._toppaper.append("g").classed("zoomlayer",!0),ut._hoverlayer=ut._hoverpaper.append("g").classed("hoverlayer",!0),ut._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),wt.emit("plotly_framework")}(Me),Oe._shouldCreateBgLayer&&delete Oe._shouldCreateBgLayer),u.initGradients(Me),u.initPatterns(Me),ye&&n.saveShowSpikeInitial(Me);var Fe=!Me.calcdata||Me.calcdata.length!==(Me._fullData||[]).length;Fe&&r.doCalcdata(Me);for(var Ge=0;Ge<Me.calcdata.length;Ge++)Me.calcdata[Ge][0].trace=Me._fullData[Ge];Me._context.responsive?Me._responsiveChartHandler||(Me._responsiveChartHandler=function(){_.isHidden(Me)||r.resize(Me)},window.addEventListener("resize",Me._responsiveChartHandler)):_.clearResponsive(Me);var Ze=_.extendFlat({},Oe._size),et=0;function ft(){if(r.clearAutoMarginIds(Me),m.drawMarginPushers(Me),n.allowAutoMargin(Me),Me._fullLayout.title.text&&Me._fullLayout.title.automargin&&r.allowAutoMargin(Me,"title.automargin"),Oe._has("pie"))for(var wt=Me._fullData,lt=0;lt<wt.length;lt++){var ut=wt[lt];ut.type==="pie"&&ut.automargin&&r.allowAutoMargin(Me,"pie."+ut.uid+".automargin")}return r.doAutoMargin(Me),r.previousPromises(Me)}function rt(){Me._transitioning||(m.doAutoRangeAndConstraints(Me),ye&&n.saveRangeInitial(Me),t.getComponentMethod("rangeslider","calcAutorange")(Me))}var _t=[r.previousPromises,function(){if(ce)return O.addFrames(Me,ce)},function wt(){for(var lt=Oe._basePlotModules,ut=0;ut<lt.length;ut++)lt[ut].drawFramework&&lt[ut].drawFramework(Me);!Oe._glcanvas&&Oe._has("gl")&&(Oe._glcanvas=Oe._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Lt){return Lt.key}),Oe._glcanvas.enter().append("canvas").attr("class",function(Lt){return"gl-canvas gl-canvas-"+Lt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Et=Me._context.plotGlPixelRatio;if(Oe._glcanvas){Oe._glcanvas.attr("width",Oe.width*Et).attr("height",Oe.height*Et).style("width",Oe.width+"px").style("height",Oe.height+"px");var Ot=Oe._glcanvas.data()[0].regl;if(Ot&&(Math.floor(Oe.width*Et)!==Ot._gl.drawingBufferWidth||Math.floor(Oe.height*Et)!==Ot._gl.drawingBufferHeight)){var zt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!et)return _.log(zt+" Clearing graph and plotting again."),r.cleanPlot([],{},Me._fullData,Oe),r.supplyDefaults(Me),Oe=Me._fullLayout,r.doCalcdata(Me),et++,wt();_.error(zt)}}return Oe.modebar.orientation==="h"?Oe._modebardiv.style("height",null).style("width","100%"):Oe._modebardiv.style("width",null).style("height",Oe.height+"px"),r.previousPromises(Me)},ft,function(){if(r.didMarginChange(Ze,Oe._size))return _.syncOrAsync([ft,m.layoutStyles],Me)}];Be&&_t.push(function(){if(Fe)return _.syncOrAsync([t.getComponentMethod("shapes","calcAutorange"),t.getComponentMethod("annotations","calcAutorange"),rt],Me);rt()}),_t.push(m.layoutStyles),Be&&_t.push(function(){return n.draw(Me,ye?"":"redraw")},function(wt){var lt=wt._fullLayout._insideTickLabelsUpdaterange;if(lt)return wt._fullLayout._insideTickLabelsUpdaterange=void 0,K(wt,lt).then(function(){n.saveRangeInitial(wt,!0)})}),_t.push(m.drawData,m.finalDraw,c,r.addLinks,r.rehover,r.redrag,r.reselect,r.doAutoMargin,r.previousPromises);var kt=_.syncOrAsync(_t,Me);return kt&&kt.then||(kt=Promise.resolve()),kt.then(function(){return T(Me),Me})},O.purge=function(Me){var _e=(Me=_.getGraphDiv(Me))._fullLayout||{},De=Me._fullData||[];return r.cleanPlot([],{},De,_e),r.purge(Me),d.purge(Me),_e._container&&_e._container.remove(),delete Me._context,Me},O.react=function(Me,_e,De,Ne){var ce,Te;Me=_.getGraphDiv(Me),v.clearPromiseQueue(Me);var ye=Me._fullData,Oe=Me._fullLayout;if(_.isPlotDiv(Me)&&ye&&Oe){if(_.isPlainObject(_e)){var Be=_e;_e=Be.data,De=Be.layout,Ne=Be.config,ce=Be.frames}var Fe=!1;if(Ne){var Ge=_.extendDeep({},Me._context);Me._context=void 0,C(Me,Ne),Fe=he(Ge,Me._context)}Me.data=_e||[],v.cleanData(Me.data),Me.layout=De||{},v.cleanLayout(Me.layout),function(at,Re,je,st){var ot,xt,mt,bt,dt,St,gt,vt,Mt,Bt,Nt=st._preGUI,qt=[],an={},Gt={};for(ot in Nt){if(dt=ve(ot,we)){if(Mt=dt.head,Bt=dt.tail,xt=dt.attr||Mt+".uirevision",(bt=(mt=y(st,xt).get())&&Ie(xt,Re))&&bt===mt){if((St=Nt[ot])===null&&(St=void 0),se(vt=(gt=y(Re,ot)).get(),St)){vt===void 0&&Bt==="autorange"&&qt.push(Mt),gt.set(B(y(st,ot).get()));continue}if(Bt==="autorange"||Bt.substr(0,6)==="range["){var Yt=Nt[Mt+".range[0]"],en=Nt[Mt+".range[1]"],bn=Nt[Mt+".autorange"];if(bn||bn===null&&Yt===null&&en===null){if(!(Mt in an)){var On=y(Re,Mt).get();an[Mt]=On&&(On.autorange||On.autorange!==!1&&(!On.range||On.range.length!==2))}if(an[Mt]){gt.set(B(y(st,ot).get()));continue}}}}}else _.warn("unrecognized GUI edit: "+ot);delete Nt[ot],dt&&dt.tail.substr(0,6)==="range["&&(Gt[dt.head]=1)}for(var gn=0;gn<qt.length;gn++){var Xt=qt[gn];if(Gt[Xt]){var ln=y(Re,Xt).get();ln&&delete ln.autorange}}var nn=st._tracePreGUI;for(var hn in nn){var mn,Mn=nn[hn],Tn=null;for(ot in Mn){if(!Tn){var Pn=Se(hn,je);if(Pn<0){delete nn[hn];break}var yn=ke(hn,at,(mn=je[Pn]._fullInput).index);if(yn<0){delete nn[hn];break}Tn=at[yn]}if(dt=ve(ot,me)){if(dt.attr?bt=(mt=y(st,dt.attr).get())&&Ie(dt.attr,Re):(mt=mn.uirevision,(bt=Tn.uirevision)===void 0&&(bt=Re.uirevision)),bt&&bt===mt&&((St=Mn[ot])===null&&(St=void 0),se(vt=(gt=y(Tn,ot)).get(),St))){gt.set(B(y(mn,ot).get()));continue}}else _.warn("unrecognized GUI edit: "+ot+" in trace uid "+hn);delete Mn[ot]}}}(Me.data,Me.layout,ye,Oe),r.supplyDefaults(Me,{skipUpdateCalc:!0});var Ze=Me._fullData,et=Me._fullLayout,ft=et.datarevision===void 0,rt=et.transition,_t=function(at,Re,je,st,ot){var xt=w.layoutFlags();return xt.arrays={},xt.rangesAltered={},xt.nChanges=0,xt.nChangesAnim=0,oe(Re,je,[],{getValObject:function(mt){return i.getLayoutValObject(je,mt)},flags:xt,immutable:st,transition:ot,gd:at}),(xt.plot||xt.calc)&&(xt.layoutReplot=!0),ot&&xt.nChanges&&xt.nChangesAnim&&(xt.anim=xt.nChanges===xt.nChangesAnim?"all":"some"),xt}(Me,Oe,et,ft,rt),kt=_t.newDataRevision,wt=function(at,Re,je,st,ot,xt){var mt=Re.length===je.length;if(!ot&&!mt)return{fullReplot:!0,calc:!0};var bt,dt,St=w.traceFlags();St.arrays={},St.nChanges=0,St.nChangesAnim=0;var gt={getValObject:function(Mt){var Bt=i.getTraceValObject(dt,Mt);return!dt._module.animatable&&Bt.anim&&(Bt.anim=!1),Bt},flags:St,immutable:st,transition:ot,newDataRevision:xt,gd:at},vt={};for(bt=0;bt<Re.length;bt++)if(je[bt]){if(dt=je[bt]._fullInput,r.hasMakesDataTransform(dt)&&(dt=je[bt]),vt[dt.uid])continue;vt[dt.uid]=1,oe(Re[bt]._fullInput,dt,[],gt)}return(St.calc||St.plot)&&(St.fullReplot=!0),ot&&St.nChanges&&St.nChangesAnim&&(St.anim=St.nChanges===St.nChangesAnim&&mt?"all":"some"),St}(Me,ye,Ze,ft,rt,kt);if(ue(Me)&&(_t.layoutReplot=!0),wt.calc||_t.calc){Me.calcdata=void 0;for(var lt=Object.getOwnPropertyNames(et),ut=0;ut<lt.length;ut++){var Et=lt[ut],Ot=Et.substring(0,5);if(Ot==="xaxis"||Ot==="yaxis"){var zt=et[Et]._emptyCategories;zt&&zt()}}}else r.supplyDefaultsUpdateCalc(Me.calcdata,Ze);var Lt=[];if(ce&&(Me._transitionData={},r.createTransitionData(Me),Lt.push(function(){return O.addFrames(Me,ce)})),et.transition&&!Fe&&(wt.anim||_t.anim))_t.ticks&&Lt.push(m.doTicksRelayout),r.doCalcdata(Me),m.doAutoRangeAndConstraints(Me),Lt.push(function(){return r.transitionFromReact(Me,wt,_t,Oe)});else if(wt.fullReplot||_t.layoutReplot||Fe)Me._fullLayout._skipDefaults=!0,Lt.push(O._doPlot);else{for(var Je in _t.arrays){var Qe=_t.arrays[Je];if(Qe.length){var qe=t.getComponentMethod(Je,"drawOne");if(qe!==_.noop)for(var $e=0;$e<Qe.length;$e++)qe(Me,Qe[$e]);else{var ct=t.getComponentMethod(Je,"draw");if(ct===_.noop)throw new Error("cannot draw components: "+Je);ct(Me)}}}Lt.push(r.previousPromises),wt.style&&Lt.push(m.doTraceStyle),(wt.colorbars||_t.colorbars)&&Lt.push(m.doColorBars),_t.legend&&Lt.push(m.doLegend),_t.layoutstyle&&Lt.push(m.layoutStyles),_t.axrange&&X(Lt),_t.ticks&&Lt.push(m.doTicksRelayout),_t.modebar&&Lt.push(m.doModeBar),_t.camera&&Lt.push(m.doCamera),Lt.push(T)}Lt.push(r.rehover,r.redrag,r.reselect),(Te=_.syncOrAsync(Lt,Me))&&Te.then||(Te=Promise.resolve(Me))}else Te=O.newPlot(Me,_e,De,Ne);return Te.then(function(){return Me.emit("plotly_react",{data:_e,layout:De}),Me})},O.redraw=function(Me){if(Me=_.getGraphDiv(Me),!_.isPlotDiv(Me))throw new Error("This element is not a Plotly plot: "+Me);return v.cleanData(Me.data),v.cleanLayout(Me.layout),Me.calcdata=void 0,O._doPlot(Me).then(function(){return Me.emit("plotly_redraw"),Me})},O.relayout=K,O.restyle=N,O.setPlotConfig=function(Me){return _.extendFlat(h,Me)},O.update=pe,O._guiRelayout=ge(K),O._guiRestyle=ge(N),O._guiUpdate=ge(pe),O._storeDirectGUIEdit=function(Me,_e,De){for(var Ne in De)q(Ne,y(Me,Ne).get(),De[Ne],_e)}},72075:function(Y){var O={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},e={};(function M(k,a){for(var _ in k){var y=k[_];y.valType?a[_]=y.dflt:(a[_]||(a[_]={}),M(y,a[_]))}})(O,e),Y.exports={configAttributes:O,dfltConfig:e}},86281:function(Y,O,e){var M=e(73972),k=e(71828),a=e(9012),_=e(10820),y=e(31391),d=e(85594),s=e(72075).configAttributes,t=e(30962),i=k.extendDeepAll,r=k.isPlainObject,n=k.isArrayOrTypedArray,l=k.nestedProperty,o=k.valObjectMeta,u="_isSubplotObj",p="_isLinkedToArray",c="_deprecated",b=[u,p,"_arrayAttrRegexps",c];function g(f,S,T){if(!f)return!1;if(f._isLinkedToArray){if(h(S[T]))T++;else if(T<S.length)return!1}for(;T<S.length;T++){var E=f[S[T]];if(!r(E)||(f=E,T===S.length-1))break;if(f._isLinkedToArray){if(!h(S[++T]))return!1}else if(f.valType==="info_array"){var L=S[++T];if(!h(L))return!1;var C=f.items;if(Array.isArray(C)){if(L>=C.length)return!1;if(f.dimensions===2){if(T++,S.length===T)return f;var P=S[T];if(!h(P))return!1;f=C[L][P]}else f=C[L]}else f=C}}return f}function h(f){return f===Math.round(f)&&f>=0}function x(){var f,S,T={};for(f in i(T,_),M.subplotsRegistry)if((S=M.subplotsRegistry[f]).layoutAttributes)if(Array.isArray(S.attr))for(var E=0;E<S.attr.length;E++)m(T,S,S.attr[E]);else m(T,S,S.attr==="subplot"?S.name:S.attr);for(f in M.componentsRegistry){var L=(S=M.componentsRegistry[f]).schema;if(L&&(L.subplots||L.layout)){var C=L.subplots;if(C&&C.xaxis&&!C.yaxis)for(var P in C.xaxis)delete T.yaxis[P];delete T.xaxis.shift,delete T.xaxis.autoshift}else S.name==="colorscale"?i(T,S.layoutAttributes):S.layoutAttributes&&w(T,S.layoutAttributes,S.name)}return{layoutAttributes:v(T)}}function v(f){return function(S){O.crawl(S,function(T,E,L){O.isValObject(T)?T.arrayOk!==!0&&T.valType!=="data_array"||(L[E+"src"]={valType:"string",editType:"none"}):r(T)&&(T.role="object")})}(f),function(S){O.crawl(S,function(T,E,L){if(T){var C=T[p];C&&(delete T[p],L[E]={items:{}},L[E].items[C]=T,L[E].role="object")}})}(f),function(S){(function T(E){for(var L in E)if(r(E[L]))T(E[L]);else if(Array.isArray(E[L]))for(var C=0;C<E[L].length;C++)T(E[L][C]);else E[L]instanceof RegExp&&(E[L]=E[L].toString())})(S)}(f),f}function m(f,S,T){var E=l(f,T),L=i({},S.layoutAttributes);L[u]=!0,E.set(L)}function w(f,S,T){var E=l(f,T);E.set(i(E.get()||{},S))}O.IS_SUBPLOT_OBJ=u,O.IS_LINKED_TO_ARRAY=p,O.DEPRECATED=c,O.UNDERSCORE_ATTRS=b,O.get=function(){var f={};M.allTypes.forEach(function(E){f[E]=function(L){var C,P;P=(C=M.modules[L]._module).basePlotModule;var R={type:null},G=i({},a),I=i({},C.attributes);O.crawl(I,function(B,V,q,te,$){l(G,$).set(void 0),B===void 0&&l(I,$).set(void 0)}),i(R,G),M.traceIs(L,"noOpacity")&&delete R.opacity,M.traceIs(L,"showLegend")||(delete R.showlegend,delete R.legendgroup),M.traceIs(L,"noHover")&&(delete R.hoverinfo,delete R.hoverlabel),C.selectPoints||delete R.selectedpoints,i(R,I),P.attributes&&i(R,P.attributes),R.type=L;var H={meta:C.meta||{},categories:C.categories||{},animatable:!!C.animatable,type:L,attributes:v(R)};if(C.layoutAttributes){var N={};i(N,C.layoutAttributes),H.layoutAttributes=v(N)}return C.animatable||O.crawl(H,function(B){O.isValObject(B)&&"anim"in B&&delete B.anim}),H}(E)});var S,T={};return Object.keys(M.transformsRegistry).forEach(function(E){T[E]=function(L){var C=M.transformsRegistry[L],P=i({},C.attributes);return Object.keys(M.componentsRegistry).forEach(function(R){var G=M.componentsRegistry[R];G.schema&&G.schema.transforms&&G.schema.transforms[L]&&Object.keys(G.schema.transforms[L]).forEach(function(I){w(P,G.schema.transforms[L][I],I)})}),{attributes:v(P)}}(E)}),{defs:{valObjects:o,metaKeys:b.concat(["description","role","editType","impliedEdits"]),editType:{traces:t.traces,layout:t.layout},impliedEdits:{}},traces:f,layout:x(),transforms:T,frames:(S={frames:i({},y)},v(S),S.frames),animation:v(d),config:v(s)}},O.crawl=function(f,S,T,E){var L=T||0;E=E||"",Object.keys(f).forEach(function(C){var P=f[C];if(b.indexOf(C)===-1){var R=(E?E+".":"")+C;S(P,C,f,L,R),O.isValObject(P)||r(P)&&C!=="impliedEdits"&&O.crawl(P,S,L+1,R)}})},O.isValObject=function(f){return f&&f.valType!==void 0},O.findArrayAttributes=function(f){var S,T,E=[],L=[],C=[];function P(B,V,q,te){L=L.slice(0,te).concat([V]),C=C.slice(0,te).concat([B&&B._isLinkedToArray]),B&&(B.valType==="data_array"||B.arrayOk===!0)&&(L[te-1]!=="colorbar"||V!=="ticktext"&&V!=="tickvals")&&R(S,0,"")}function R(B,V,q){var te=B[L[V]],$=q+L[V];if(V===L.length-1)n(te)&&E.push(T+$);else if(C[V]){if(Array.isArray(te))for(var K=0;K<te.length;K++)r(te[K])&&R(te[K],V+1,$+"["+K+"].")}else r(te)&&R(te,V+1,$+".")}S=f,T="",O.crawl(a,P),f._module&&f._module.attributes&&O.crawl(f._module.attributes,P);var G=f.transforms;if(G)for(var I=0;I<G.length;I++){var H=G[I],N=H._module;N&&(T="transforms["+I+"].",S=H,O.crawl(N.attributes,P))}return E},O.getTraceValObject=function(f,S){var T,E,L=S[0],C=1;if(L==="transforms"){if(S.length===1)return a.transforms;var P=f.transforms;if(!Array.isArray(P)||!P.length)return!1;var R=S[1];if(!h(R)||R>=P.length)return!1;E=(T=(M.transformsRegistry[P[R].type]||{}).attributes)&&T[S[2]],C=3}else{var G=f._module;if(G||(G=(M.modules[f.type||a.type.dflt]||{})._module),!G)return!1;if(!(E=(T=G.attributes)&&T[L])){var I=G.basePlotModule;I&&I.attributes&&(E=I.attributes[L])}E||(E=a[L])}return g(E,S,C)},O.getLayoutValObject=function(f,S){var T=function(E,L){var C,P,R,G,I=E._basePlotModules;if(I){var H;for(C=0;C<I.length;C++){if((R=I[C]).attrRegex&&R.attrRegex.test(L)){if(R.layoutAttrOverrides)return R.layoutAttrOverrides;!H&&R.layoutAttributes&&(H=R.layoutAttributes)}var N=R.baseLayoutAttrOverrides;if(N&&L in N)return N[L]}if(H)return H}var B=E._modules;if(B){for(C=0;C<B.length;C++)if((G=B[C].layoutAttributes)&&L in G)return G[L]}for(P in M.componentsRegistry){if((R=M.componentsRegistry[P]).name==="colorscale"&&L.indexOf("coloraxis")===0)return R.layoutAttributes[L];if(!R.schema&&L===R.name)return R.layoutAttributes}return L in _&&_[L]}(f,S[0]);return g(T,S,1)}},44467:function(Y,O,e){var M=e(71828),k=e(9012),a="templateitemname",_={name:{valType:"string",editType:"none"}};function y(s){return s&&typeof s=="string"}function d(s){var t=s.length-1;return s.charAt(t)!=="s"&&M.warn("bad argument to arrayDefaultKey: "+s),s.substr(0,s.length-1)+"defaults"}_[a]={valType:"string",editType:"calc"},O.templatedArray=function(s,t){return t._isLinkedToArray=s,t.name=_.name,t[a]=_[a],t},O.traceTemplater=function(s){var t,i,r={};for(t in s)i=s[t],Array.isArray(i)&&i.length&&(r[t]=0);return{newTrace:function(n){var l={type:t=M.coerce(n,{},k,"type"),_template:null};if(t in r){i=s[t];var o=r[t]%i.length;r[t]++,l._template=i[o]}return l}}},O.newContainer=function(s,t,i){var r=s._template,n=r&&(r[t]||i&&r[i]);return M.isPlainObject(n)||(n=null),s[t]={_template:n}},O.arrayTemplater=function(s,t,i){var r=s._template,n=r&&r[d(t)],l=r&&r[t];Array.isArray(l)&&l.length||(l=[]);var o={};return{newItem:function(u){var p={name:u.name,_input:u},c=p[a]=u[a];if(!y(c))return p._template=n,p;for(var b=0;b<l.length;b++){var g=l[b];if(g.name===c)return o[c]=1,p._template=g,p}return p[i]=u[i]||!1,p._template=!1,p},defaultItems:function(){for(var u=[],p=0;p<l.length;p++){var c=l[p],b=c.name;if(y(b)&&!o[b]){var g={_template:c,name:b,_input:{_templateitemname:b}};g[a]=c[a],u.push(g),o[b]=1}}return u}}},O.arrayDefaultKey=d,O.arrayEditor=function(s,t,i){var r=(M.nestedProperty(s,t).get()||[]).length,n=i._index,l=n>=r&&(i._input||{})._templateitemname;l&&(n=r);var o,u=t+"["+n+"]";function p(){o={},l&&(o[u]={},o[u][a]=l)}function c(g,h){l?M.nestedProperty(o[u],g).set(h):o[u+"."+g]=h}function b(){var g=o;return p(),g}return p(),{modifyBase:function(g,h){o[g]=h},modifyItem:c,getUpdateObj:b,applyUpdate:function(g,h){g&&c(g,h);var x=b();for(var v in x)M.nestedProperty(s,v).set(x[v])}}}},61549:function(Y,O,e){var M=e(39898),k=e(73972),a=e(74875),_=e(71828),y=e(63893),d=e(33306),s=e(7901),t=e(91424),i=e(92998),r=e(64168),n=e(89298),l=e(18783),o=e(99082),u=o.enforce,p=o.clean,c=e(71739).doAutoRange,b="start";function g(w,f,S){for(var T=0;T<S.length;T++){var E=S[T][0],L=S[T][1];if(!(E[0]>=w[1]||E[1]<=w[0])&&L[0]<f[1]&&L[1]>f[0])return!0}return!1}function h(w){var f,S,T,E,L,C,P=w._fullLayout,R=P._size,G=R.p,I=n.list(w,"",!0);if(P._paperdiv.style({width:w._context.responsive&&P.autosize&&!w._context._hasZeroWidth&&!w.layout.width?"100%":P.width+"px",height:w._context.responsive&&P.autosize&&!w._context._hasZeroHeight&&!w.layout.height?"100%":P.height+"px"}).selectAll(".main-svg").call(t.setSize,P.width,P.height),w._context.setBackground(w,P.paper_bgcolor),O.drawMainTitle(w),r.manage(w),!P._has("cartesian"))return a.previousPromises(w);function H(Fe,Ge,Ze){var et=Fe._lw/2;return Fe._id.charAt(0)==="x"?Ge?Ze==="top"?Ge._offset-G-et:Ge._offset+Ge._length+G+et:R.t+R.h*(1-(Fe.position||0))+et%1:Ge?Ze==="right"?Ge._offset+Ge._length+G+et:Ge._offset-G-et:R.l+R.w*(Fe.position||0)+et%1}for(f=0;f<I.length;f++){var N=(E=I[f])._anchorAxis;E._linepositions={},E._lw=t.crispRound(w,E.linewidth,1),E._mainLinePosition=H(E,N,E.side),E._mainMirrorPosition=E.mirror&&N?H(E,N,l.OPPOSITE_SIDE[E.side]):null}var B=[],V=[],q=[],te=s.opacity(P.paper_bgcolor)===1&&s.opacity(P.plot_bgcolor)===1&&P.paper_bgcolor===P.plot_bgcolor;for(S in P._plots)if((T=P._plots[S]).mainplot)T.bg&&T.bg.remove(),T.bg=void 0;else{var $=T.xaxis.domain,K=T.yaxis.domain,Z=T.plotgroup;if(g($,K,q)){var X=Z.node(),ee=T.bg=_.ensureSingle(Z,"rect","bg");X.insertBefore(ee.node(),X.childNodes[0]),V.push(S)}else Z.select("rect.bg").remove(),q.push([$,K]),te||(B.push(S),V.push(S))}var ne,re,ae,ue,pe,ge,we,me,ve,Ie,Se,ke,se,oe=P._bgLayer.selectAll(".bg").data(B);for(oe.enter().append("rect").classed("bg",!0),oe.exit().remove(),oe.each(function(Fe){P._plots[Fe].bg=M.select(this)}),f=0;f<V.length;f++)T=P._plots[V[f]],L=T.xaxis,C=T.yaxis,T.bg&&L._offset!==void 0&&C._offset!==void 0&&T.bg.call(t.setRect,L._offset-G,C._offset-G,L._length+2*G,C._length+2*G).call(s.fill,P.plot_bgcolor).style("stroke-width",0);if(!P._hasOnlyLargeSploms)for(S in P._plots){T=P._plots[S],L=T.xaxis,C=T.yaxis;var he,Le,Me=T.clipId="clip"+P._uid+S+"plot",_e=_.ensureSingleById(P._clips,"clipPath",Me,function(Fe){Fe.classed("plotclip",!0).append("rect")});T.clipRect=_e.select("rect").attr({width:L._length,height:C._length}),t.setTranslate(T.plot,L._offset,C._offset),T._hasClipOnAxisFalse?(he=null,Le=Me):(he=Me,Le=null),t.setClipUrl(T.plot,he,w),T.layerClipId=Le}function De(Fe){return"M"+ne+","+Fe+"H"+re}function Ne(Fe){return"M"+L._offset+","+Fe+"h"+L._length}function ce(Fe){return"M"+Fe+","+me+"V"+we}function Te(Fe){return C._shift!==void 0&&(Fe+=C._shift),"M"+Fe+","+C._offset+"v"+C._length}function ye(Fe,Ge,Ze){if(!Fe.showline||S!==Fe._mainSubplot)return"";if(!Fe._anchorAxis)return Ze(Fe._mainLinePosition);var et=Ge(Fe._mainLinePosition);return Fe.mirror&&(et+=Ge(Fe._mainMirrorPosition)),et}for(S in P._plots){T=P._plots[S],L=T.xaxis,C=T.yaxis;var Oe="M0,0";x(L,S)&&(pe=m(L,"left",C,I),ne=L._offset-(pe?G+pe:0),ge=m(L,"right",C,I),re=L._offset+L._length+(ge?G+ge:0),ae=H(L,C,"bottom"),ue=H(L,C,"top"),!(se=!L._anchorAxis||S!==L._mainSubplot)||L.mirror!=="allticks"&&L.mirror!=="all"||(L._linepositions[S]=[ae,ue]),Oe=ye(L,De,Ne),se&&L.showline&&(L.mirror==="all"||L.mirror==="allticks")&&(Oe+=De(ae)+De(ue)),T.xlines.style("stroke-width",L._lw+"px").call(s.stroke,L.showline?L.linecolor:"rgba(0,0,0,0)")),T.xlines.attr("d",Oe);var Be="M0,0";x(C,S)&&(Se=m(C,"bottom",L,I),we=C._offset+C._length+(Se?G:0),ke=m(C,"top",L,I),me=C._offset-(ke?G:0),ve=H(C,L,"left"),Ie=H(C,L,"right"),!(se=!C._anchorAxis||S!==C._mainSubplot)||C.mirror!=="allticks"&&C.mirror!=="all"||(C._linepositions[S]=[ve,Ie]),Be=ye(C,ce,Te),se&&C.showline&&(C.mirror==="all"||C.mirror==="allticks")&&(Be+=ce(ve)+ce(Ie)),T.ylines.style("stroke-width",C._lw+"px").call(s.stroke,C.showline?C.linecolor:"rgba(0,0,0,0)")),T.ylines.attr("d",Be)}return n.makeClipPaths(w),a.previousPromises(w)}function x(w,f){return(w.ticks||w.showline)&&(f===w._mainSubplot||w.mirror==="all"||w.mirror==="allticks")}function v(w,f,S){if(!S.showline||!S._lw)return!1;if(S.mirror==="all"||S.mirror==="allticks")return!0;var T=S._anchorAxis;if(!T)return!1;var E=l.FROM_BL[f];return S.side===f?T.domain[E]===w.domain[E]:S.mirror&&T.domain[1-E]===w.domain[1-E]}function m(w,f,S,T){if(v(w,f,S))return S._lw;for(var E=0;E<T.length;E++){var L=T[E];if(L._mainAxis===S._mainAxis&&v(w,f,L))return L._lw}return 0}O.layoutStyles=function(w){return _.syncOrAsync([a.doAutoMargin,h],w)},O.drawMainTitle=function(w){var f,S=w._fullLayout.title,T=w._fullLayout,E=function(H){var N=H.title,B="middle";return _.isRightAnchor(N)?B="end":_.isLeftAnchor(N)&&(B=b),B}(T),L=function(H){var N=H.title,B="0em";return _.isTopAnchor(N)?B=l.CAP_SHIFT+"em":_.isMiddleAnchor(N)&&(B=l.MID_SHIFT+"em"),B}(T),C=function(H,N){var B=H.title,V=H._size,q=0;return N!=="0em"&&N?N===l.CAP_SHIFT+"em"&&(q=B.pad.t):q=-B.pad.b,B.y==="auto"?V.t/2:B.yref==="paper"?V.t+V.h-V.h*B.y+q:H.height-H.height*B.y+q}(T,L),P=function(H,N){var B=H.title,V=H._size,q=0;return N===b?q=B.pad.l:N==="end"&&(q=-B.pad.r),B.xref==="paper"?V.l+V.w*B.x+q:H.width*B.x+q}(T,E);if(i.draw(w,"gtitle",{propContainer:T,propName:"title.text",placeholder:T._dfltTitle.plot,attributes:{x:P,y:C,"text-anchor":E,dy:L}}),S.text&&S.automargin){var R=M.selectAll(".gtitle"),G=t.bBox(R.node()).height,I=function(H,N,B){var V=N.y,q=N.yanchor,te=V>.5?"t":"b",$=H._fullLayout.margin[te],K=0;return N.yref==="paper"?K=B+N.pad.t+N.pad.b:N.yref==="container"&&(K=function(Z,X,ee,ne,re){var ae=0;return ee==="middle"&&(ae+=re/2),Z==="t"?(ee==="top"&&(ae+=re),ae+=ne-X*ne):(ee==="bottom"&&(ae+=re),ae+=X*ne),ae}(te,V,q,H._fullLayout.height,B)+N.pad.t+N.pad.b),K>$?K:0}(w,S,G);I>0&&(function(H,N,B,V){var q="title.automargin",te=H._fullLayout.title,$=te.y>.5?"t":"b",K={x:te.x,y:te.y,t:0,b:0},Z={};te.yref==="paper"&&function(X,ee,ne,re,ae){var ue=ee.yref==="paper"?X._fullLayout._size.h:X._fullLayout.height,pe=_.isTopAnchor(ee)?re:re-ae,ge=ne==="b"?ue-pe:pe;return!(_.isTopAnchor(ee)&&ne==="t"||_.isBottomAnchor(ee)&&ne==="b")&&ge<ae}(H,te,$,N,V)?K[$]=B:te.yref==="container"&&(Z[$]=B,H._fullLayout._reservedMargin[q]=Z),a.allowAutoMargin(H,q),a.autoMargin(H,q,K)}(w,C,I,G),R.attr({x:P,y:C,"text-anchor":E,dy:(f=S.yanchor,f==="top"?l.CAP_SHIFT+.3+"em":f==="bottom"?"-0.3em":l.MID_SHIFT+"em")}).call(y.positionText,P,C))}},O.doTraceStyle=function(w){var f,S=w.calcdata,T=[];for(f=0;f<S.length;f++){var E=S[f],L=E[0]||{},C=L.trace||{},P=C._module||{},R=P.arraysToCalcdata;R&&R(E,C);var G=P.editStyle;G&&T.push({fn:G,cd0:L})}if(T.length){for(f=0;f<T.length;f++){var I=T[f];I.fn(w,I.cd0)}d(w),O.redrawReglTraces(w)}return a.style(w),k.getComponentMethod("legend","draw")(w),a.previousPromises(w)},O.doColorBars=function(w){return k.getComponentMethod("colorbar","draw")(w),a.previousPromises(w)},O.layoutReplot=function(w){var f=w.layout;return w.layout=void 0,k.call("_doPlot",w,"",f)},O.doLegend=function(w){return k.getComponentMethod("legend","draw")(w),a.previousPromises(w)},O.doTicksRelayout=function(w){return n.draw(w,"redraw"),w._fullLayout._hasOnlyLargeSploms&&(k.subplotsRegistry.splom.updateGrid(w),d(w),O.redrawReglTraces(w)),O.drawMainTitle(w),a.previousPromises(w)},O.doModeBar=function(w){var f=w._fullLayout;r.manage(w);for(var S=0;S<f._basePlotModules.length;S++){var T=f._basePlotModules[S].updateFx;T&&T(w)}return a.previousPromises(w)},O.doCamera=function(w){for(var f=w._fullLayout,S=f._subplots.gl3d,T=0;T<S.length;T++){var E=f[S[T]];E._scene.setViewport(E)}},O.drawData=function(w){var f=w._fullLayout;d(w);for(var S=f._basePlotModules,T=0;T<S.length;T++)S[T].plot(w);return O.redrawReglTraces(w),a.style(w),k.getComponentMethod("selections","draw")(w),k.getComponentMethod("shapes","draw")(w),k.getComponentMethod("annotations","draw")(w),k.getComponentMethod("images","draw")(w),f._replotting=!1,a.previousPromises(w)},O.redrawReglTraces=function(w){var f=w._fullLayout;if(f._has("regl")){var S,T,E=w._fullData,L=[],C=[];for(f._hasOnlyLargeSploms&&f._splomGrid.draw(),S=0;S<E.length;S++){var P=E[S];P.visible===!0&&P._length!==0&&(P.type==="splom"?f._splomScenes[P.uid].draw():P.type==="scattergl"?_.pushUnique(L,P.xaxis+P.yaxis):P.type==="scatterpolargl"&&_.pushUnique(C,P.subplot))}for(S=0;S<L.length;S++)(T=f._plots[L[S]])._scene&&T._scene.draw();for(S=0;S<C.length;S++)(T=f[C[S]]._subplot)._scene&&T._scene.draw()}},O.doAutoRangeAndConstraints=function(w){for(var f,S=n.list(w,"",!0),T={},E=0;E<S.length;E++)if(!T[(f=S[E])._id]){T[f._id]=1,p(w,f),c(w,f);var L=f._matchGroup;if(L)for(var C in L){var P=n.getFromId(w,C);c(w,P,f.range),T[C]=1}}u(w)},O.finalDraw=function(w){k.getComponentMethod("rangeslider","draw")(w),k.getComponentMethod("rangeselector","draw")(w)},O.drawMarginPushers=function(w){k.getComponentMethod("legend","draw")(w),k.getComponentMethod("rangeselector","draw")(w),k.getComponentMethod("sliders","draw")(w),k.getComponentMethod("updatemenus","draw")(w),k.getComponentMethod("colorbar","draw")(w)}},96318:function(Y,O,e){var M=e(71828),k=M.isPlainObject,a=e(86281),_=e(74875),y=e(9012),d=e(44467),s=e(72075).dfltConfig;function t(c,b){c=M.extendDeep({},c);var g,h,x=Object.keys(c).sort();function v(T,E,L){if(k(E)&&k(T))t(T,E);else if(Array.isArray(E)&&Array.isArray(T)){var C=d.arrayTemplater({_template:c},L);for(h=0;h<E.length;h++){var P=E[h],R=C.newItem(P)._template;R&&t(R,P)}var G=C.defaultItems();for(h=0;h<G.length;h++)E.push(G[h]._template);for(h=0;h<E.length;h++)delete E[h].templateitemname}}for(g=0;g<x.length;g++){var m=x[g],w=c[m];if(m in b?v(w,b[m],m):b[m]=w,i(m)===m)for(var f in b){var S=i(f);f===S||S!==m||f in c||v(w,b[f],m)}}}function i(c){return c.replace(/[0-9]+$/,"")}function r(c,b,g,h,x){var v=x&&g(x);for(var m in c){var w=c[m],f=o(c,m,h),S=o(c,m,x),T=g(S);if(!T){var E=i(m);E!==m&&(T=g(S=o(c,E,x)))}if(!(v&&v===T||!T||T._noTemplating||T.valType==="data_array"||T.arrayOk&&Array.isArray(w)))if(!T.valType&&k(w))r(w,b,g,f,S);else if(T._isLinkedToArray&&Array.isArray(w))for(var L=!1,C=0,P={},R=0;R<w.length;R++){var G=w[R];if(k(G)){var I=G.name;if(I)P[I]||(r(G,b,g,o(w,C,f),o(w,C,S)),C++,P[I]=1);else if(!L){var H=o(c,d.arrayDefaultKey(m),h),N=o(w,C,f);r(G,b,g,N,o(w,C,S));var B=M.nestedProperty(b,N);M.nestedProperty(b,H).set(B.get()),B.set(null),L=!0}}}else M.nestedProperty(b,f).set(w)}}function n(c,b){return a.getLayoutValObject(c,M.nestedProperty({},b).parts)}function l(c,b){return a.getTraceValObject(c,M.nestedProperty({},b).parts)}function o(c,b,g){return g?Array.isArray(c)?g+"["+b+"]":g+"."+b:b}function u(c){for(var b=0;b<c.length;b++)if(k(c[b]))return!0}function p(c){var b;switch(c.code){case"data":b="The template has no key data.";break;case"layout":b="The template has no key layout.";break;case"missing":b=c.path?"There are no templates for item "+c.path+" with name "+c.templateitemname:"There are no templates for trace "+c.index+", of type "+c.traceType+".";break;case"unused":b=c.path?"The template item at "+c.path+" was not used in constructing the plot.":c.dataCount?"Some of the templates of type "+c.traceType+" were not used. The template has "+c.templateCount+" traces, the data only has "+c.dataCount+" of this type.":"The template has "+c.templateCount+" traces of type "+c.traceType+" but there are none in the data.";break;case"reused":b="Some of the templates of type "+c.traceType+" were used more than once. The template has "+c.templateCount+" traces, the data has "+c.dataCount+" of this type."}return c.msg=b,c}O.makeTemplate=function(c){c=M.isPlainObject(c)?c:M.getGraphDiv(c),c=M.extendDeep({_context:s},{data:c.data,layout:c.layout}),_.supplyDefaults(c);var b=c.data||[],g=c.layout||{};g._basePlotModules=c._fullLayout._basePlotModules,g._modules=c._fullLayout._modules;var h={data:{},layout:{}};b.forEach(function(C){var P={};r(C,P,l.bind(null,C));var R=M.coerce(C,{},y,"type"),G=h.data[R];G||(G=h.data[R]=[]),G.push(P)}),r(g,h.layout,n.bind(null,g)),delete h.layout.template;var x=g.template;if(k(x)){var v,m,w,f,S,T,E=x.layout;k(E)&&t(E,h.layout);var L=x.data;if(k(L)){for(m in h.data)if(w=L[m],Array.isArray(w)){for(T=(S=h.data[m]).length,f=w.length,v=0;v<T;v++)t(w[v%f],S[v]);for(v=T;v<f;v++)S.push(M.extendDeep({},w[v]))}for(m in L)m in h.data||(h.data[m]=M.extendDeep([],L[m]))}}return h},O.validateTemplate=function(c,b){var g=M.extendDeep({},{_context:s,data:c.data,layout:c.layout}),h=g.layout||{};k(b)||(b=h.template||{});var x=b.layout,v=b.data,m=[];g.layout=h,g.layout.template=b,_.supplyDefaults(g);var w=g._fullLayout,f=g._fullData,S={};if(k(x)?(function G(I,H){for(var N in I)if(N.charAt(0)!=="_"&&k(I[N])){var B,V=i(N),q=[];for(B=0;B<H.length;B++)q.push(o(I,N,H[B])),V!==N&&q.push(o(I,V,H[B]));for(B=0;B<q.length;B++)S[q[B]]=1;G(I[N],q)}}(w,["layout"]),function G(I,H){for(var N in I)if(N.indexOf("defaults")===-1&&k(I[N])){var B=o(I,N,H);S[B]?G(I[N],B):m.push({code:"unused",path:B})}}(x,"layout")):m.push({code:"layout"}),k(v)){for(var T,E={},L=0;L<f.length;L++){var C=f[L];E[T=C.type]=(E[T]||0)+1,C._fullInput._template||m.push({code:"missing",index:C._fullInput.index,traceType:T})}for(T in v){var P=v[T].length,R=E[T]||0;P>R?m.push({code:"unused",traceType:T,templateCount:P,dataCount:R}):R>P&&m.push({code:"reused",traceType:T,templateCount:P,dataCount:R})}}else m.push({code:"data"});if(function G(I,H){for(var N in I)if(N.charAt(0)!=="_"){var B=I[N],V=o(I,N,H);k(B)?(Array.isArray(I)&&B._template===!1&&B.templateitemname&&m.push({code:"missing",path:V,templateitemname:B.templateitemname}),G(B,V)):Array.isArray(B)&&u(B)&&G(B,V)}}({data:f,layout:w},""),m.length)return m.map(p)}},403:function(Y,O,e){var M=e(92770),k=e(72391),a=e(74875),_=e(71828),y=e(25095),d=e(5900),s=e(70942),t=e(11506).version,i={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};Y.exports=function(r,n){var l,o,u,p;function c(R){return!(R in n)||_.validate(n[R],i[R])}if(n=n||{},_.isPlainObject(r)?(l=r.data||[],o=r.layout||{},u=r.config||{},p={}):(r=_.getGraphDiv(r),l=_.extendDeep([],r.data),o=_.extendDeep({},r.layout),u=r._context,p=r._fullLayout||{}),!c("width")&&n.width!==null||!c("height")&&n.height!==null)throw new Error("Height and width should be pixel values.");if(!c("format"))throw new Error("Export format is not "+_.join2(i.format.values,", "," or ")+".");var b={};function g(R,G){return _.coerce(n,b,i,R,G)}var h=g("format"),x=g("width"),v=g("height"),m=g("scale"),w=g("setBackground"),f=g("imageDataOnly"),S=document.createElement("div");S.style.position="absolute",S.style.left="-5000px",document.body.appendChild(S);var T=_.extendFlat({},o);x?T.width=x:n.width===null&&M(p.width)&&(T.width=p.width),v?T.height=v:n.height===null&&M(p.height)&&(T.height=p.height);var E=_.extendFlat({},u,{_exportedPlot:!0,staticPlot:!0,setBackground:w}),L=y.getRedrawFunc(S);function C(){return new Promise(function(R){setTimeout(R,y.getDelay(S._fullLayout))})}function P(){return new Promise(function(R,G){var I=d(S,h,m),H=S._fullLayout.width,N=S._fullLayout.height;function B(){k.purge(S),document.body.removeChild(S)}if(h==="full-json"){var V=a.graphJson(S,!1,"keepdata","object",!0,!0);return V.version=t,V=JSON.stringify(V),B(),R(f?V:y.encodeJSON(V))}if(B(),h==="svg")return R(f?I:y.encodeSVG(I));var q=document.createElement("canvas");q.id=_.randstr(),s({format:h,width:H,height:N,scale:m,canvas:q,svg:I,promise:!0}).then(R).catch(G)})}return new Promise(function(R,G){k.newPlot(S,l,T,E).then(L).then(C).then(P).then(function(I){R(function(H){return f?H.replace(y.IMAGE_URL_PREFIX,""):H}(I))}).catch(function(I){G(I)})})}},84936:function(Y,O,e){var M=e(71828),k=e(74875),a=e(86281),_=e(72075).dfltConfig,y=M.isPlainObject,d=Array.isArray,s=M.isArrayOrTypedArray;function t(c,b,g,h,x,v){v=v||[];for(var m=Object.keys(c),w=0;w<m.length;w++){var f=m[w];if(f!=="transforms"){var S=v.slice();S.push(f);var T=c[f],E=b[f],L=o(g,f),C=(L||{}).valType,P=C==="info_array",R=C==="colorscale",G=(L||{}).items;if(l(g,f))if(y(T)&&y(E)&&C!=="any")t(T,E,L,h,x,S);else if(P&&d(T)){T.length>E.length&&h.push(n("unused",x,S.concat(E.length)));var I,H,N,B,V,q=E.length,te=Array.isArray(G);if(te&&(q=Math.min(q,G.length)),L.dimensions===2)for(H=0;H<q;H++)if(d(T[H])){T[H].length>E[H].length&&h.push(n("unused",x,S.concat(H,E[H].length)));var $=E[H].length;for(I=0;I<(te?Math.min($,G[H].length):$);I++)N=te?G[H][I]:G,B=T[H][I],V=E[H][I],M.validate(B,N)?V!==B&&V!==+B&&h.push(n("dynamic",x,S.concat(H,I),B,V)):h.push(n("value",x,S.concat(H,I),B))}else h.push(n("array",x,S.concat(H),T[H]));else for(H=0;H<q;H++)N=te?G[H]:G,B=T[H],V=E[H],M.validate(B,N)?V!==B&&V!==+B&&h.push(n("dynamic",x,S.concat(H),B,V)):h.push(n("value",x,S.concat(H),B))}else if(L.items&&!P&&d(T)){var K,Z,X=G[Object.keys(G)[0]],ee=[];for(K=0;K<E.length;K++){var ne=E[K]._index||K;if((Z=S.slice()).push(ne),y(T[ne])&&y(E[K])){ee.push(ne);var re=T[ne],ae=E[K];y(re)&&re.visible!==!1&&ae.visible===!1?h.push(n("invisible",x,Z)):t(re,ae,X,h,x,Z)}}for(K=0;K<T.length;K++)(Z=S.slice()).push(K),y(T[K])?ee.indexOf(K)===-1&&h.push(n("unused",x,Z)):h.push(n("object",x,Z,T[K]))}else!y(T)&&y(E)?h.push(n("object",x,S,T)):s(T)||!s(E)||P||R?f in b?M.validate(T,L)?L.valType==="enumerated"&&(L.coerceNumber&&T!==+E||T!==E)&&h.push(n("dynamic",x,S,T,E)):h.push(n("value",x,S,T)):h.push(n("unused",x,S,T)):h.push(n("array",x,S,T));else h.push(n("schema",x,S))}}return h}Y.exports=function(c,b){c===void 0&&(c=[]),b===void 0&&(b={});var g,h,x=a.get(),v=[],m={_context:M.extendFlat({},_)};d(c)?(m.data=M.extendDeep([],c),g=c):(m.data=[],g=[],v.push(n("array","data"))),y(b)?(m.layout=M.extendDeep({},b),h=b):(m.layout={},h={},arguments.length>1&&v.push(n("object","layout"))),k.supplyDefaults(m);for(var w=m._fullData,f=g.length,S=0;S<f;S++){var T=g[S],E=["data",S];if(y(T)){var L=w[S],C=L.type,P=x.traces[C].attributes;P.type={valType:"enumerated",values:[C]},L.visible===!1&&T.visible!==!1&&v.push(n("invisible",E)),t(T,L,P,v,E);var R=T.transforms,G=L.transforms;if(R){d(R)||v.push(n("array",E,["transforms"])),E.push("transforms");for(var I=0;I<R.length;I++){var H=["transforms",I],N=R[I].type;if(y(R[I])){var B=x.transforms[N]?x.transforms[N].attributes:{};B.type={valType:"enumerated",values:Object.keys(x.transforms)},t(R[I],G[I],B,v,E,H)}else v.push(n("object",E,H))}}}else v.push(n("object",E))}var V=m._fullLayout,q=function(te,$){for(var K=te.layout.layoutAttributes,Z=0;Z<$.length;Z++){var X=$[Z],ee=te.traces[X.type],ne=ee.layoutAttributes;ne&&(X.subplot?M.extendFlat(K[ee.attributes.subplot.dflt],ne):M.extendFlat(K,ne))}return K}(x,w);return t(h,V,q,v,"layout"),v.length===0?void 0:v};var i={object:function(c,b){return(c==="layout"&&b===""?"The layout argument":c[0]==="data"&&b===""?"Trace "+c[1]+" in the data argument":r(c)+"key "+b)+" must be linked to an object container"},array:function(c,b){return(c==="data"?"The data argument":r(c)+"key "+b)+" must be linked to an array container"},schema:function(c,b){return r(c)+"key "+b+" is not part of the schema"},unused:function(c,b,g){var h=y(g)?"container":"key";return r(c)+h+" "+b+" did not get coerced"},dynamic:function(c,b,g,h){return[r(c)+"key",b,"(set to '"+g+"')","got reset to","'"+h+"'","during defaults."].join(" ")},invisible:function(c,b){return(b?r(c)+"item "+b:"Trace "+c[1])+" got defaulted to be not visible"},value:function(c,b,g){return[r(c)+"key "+b,"is set to an invalid value ("+g+")"].join(" ")}};function r(c){return d(c)?"In data trace "+c[1]+", ":"In "+c+", "}function n(c,b,g,h,x){var v,m;g=g||"",d(b)?(v=b[0],m=b[1]):(v=b,m=null);var w=function(S){if(!d(S))return String(S);for(var T="",E=0;E<S.length;E++){var L=S[E];typeof L=="number"?T=T.substr(0,T.length-1)+"["+L+"]":T+=L,E<S.length-1&&(T+=".")}return T}(g),f=i[c](b,w,h,x);return M.log(f),{code:c,container:v,trace:m,path:g,astr:w,msg:f}}function l(c,b){var g=p(b),h=g.keyMinusId,x=g.id;return!!(h in c&&c[h]._isSubplotObj&&x)||b in c}function o(c,b){return b in c?c[b]:c[p(b).keyMinusId]}var u=M.counterRegex("([a-z]+)");function p(c){var b=c.match(u);return{keyMinusId:b&&b[1],id:b&&b[2]}}},85594:function(Y){Y.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(Y,O,e){var M=e(71828),k=e(44467);Y.exports=function(a,_,y){var d,s,t=y.name,i=y.inclusionAttr||"visible",r=_[t],n=M.isArrayOrTypedArray(a[t])?a[t]:[],l=_[t]=[],o=k.arrayTemplater(_,t,i);for(d=0;d<n.length;d++){var u=n[d];M.isPlainObject(u)?s=o.newItem(u):(s=o.newItem({}))[i]=!1,s._index=d,s[i]!==!1&&y.handleItemDefaults(u,s,_,y),l.push(s)}var p=o.defaultItems();for(d=0;d<p.length;d++)(s=p[d])._index=l.length,y.handleItemDefaults({},s,_,y,{}),l.push(s);if(M.isArrayOrTypedArray(r)){var c=Math.min(r.length,l.length);for(d=0;d<c;d++)M.relinkPrivateKeys(l[d],r[d])}return l}},9012:function(Y,O,e){var M=e(41940),k=e(77914);Y.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:M({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:k.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(Y,O,e){var M=e(92770),k=e(71828),a=k.dateTime2ms,_=k.incrementMonth,y=e(50606).ONEAVGMONTH;Y.exports=function(d,s,t,i){if(s.type!=="date")return{vals:i};var r=d[t+"periodalignment"];if(!r)return{vals:i};var n,l=d[t+"period"];if(M(l)){if((l=+l)<=0)return{vals:i}}else if(typeof l=="string"&&l.charAt(0)==="M"){var o=+l.substring(1);if(!(o>0&&Math.round(o)===o))return{vals:i};n=o}for(var u=s.calendar,p=r==="start",c=r==="end",b=d[t+"period0"],g=a(b,u)||0,h=[],x=[],v=[],m=i.length,w=0;w<m;w++){var f,S,T,E=i[w];if(n){for(f=Math.round((E-g)/(n*y)),T=_(g,n*f,u);T>E;)T=_(T,-n,u);for(;T<=E;)T=_(T,n,u);S=_(T,-n,u)}else{for(T=g+(f=Math.round((E-g)/l))*l;T>E;)T-=l;for(;T<=E;)T+=l;S=T-l}h[w]=p?S:c?T:(S+T)/2,x[w]=S,v[w]=T}return{vals:h,starts:x,ends:v}}},89502:function(Y){Y.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(Y,O,e){var M=e(39898),k=e(92770),a=e(71828),_=e(50606).FP_SAFE,y=e(73972),d=e(91424),s=e(41675),t=s.getFromId,i=s.isLinked;function r(w,f){var S,T,E=[],L=w._fullLayout,C=l(L,f,0),P=l(L,f,1),R=u(w,f),G=R.min,I=R.max;if(G.length===0||I.length===0)return a.simpleMap(f.range,f.r2l);var H=G[0].val,N=I[0].val;for(S=1;S<G.length&&H===N;S++)H=Math.min(H,G[S].val);for(S=1;S<I.length&&H===N;S++)N=Math.max(N,I[S].val);var B=f.autorange,V=B==="reversed"||B==="min reversed"||B==="max reversed";if(!V&&f.range){var q=a.simpleMap(f.range,f.r2l);V=q[1]<q[0]}f.autorange==="reversed"&&(f.autorange=!0);var te,$,K,Z,X,ee,ne=f.rangemode,re=ne==="tozero",ae=ne==="nonnegative",ue=f._length,pe=ue/10,ge=0;for(S=0;S<G.length;S++)for(te=G[S],T=0;T<I.length;T++)(ee=($=I[T]).val-te.val-n(f,te.val,$.val))>0&&((X=ue-C(te)-P($))>pe?ee/X>ge&&(K=te,Z=$,ge=ee/X):ee/ue>ge&&(K={val:te.val,nopad:1},Z={val:$.val,nopad:1},ge=ee/ue));if(H===N){var we=H-1,me=H+1;if(re)if(H===0)E=[0,1];else{var ve=(H>0?I:G).reduce(function(Se,ke){return Math.max(Se,P(ke))},0),Ie=H/(1-Math.min(.5,ve/ue));E=H>0?[0,Ie]:[Ie,0]}else E=ae?[Math.max(0,we),Math.max(1,me)]:[we,me]}else re?(K.val>=0&&(K={val:0,nopad:1}),Z.val<=0&&(Z={val:0,nopad:1})):ae&&(K.val-ge*C(K)<0&&(K={val:0,nopad:1}),Z.val<=0&&(Z={val:1,nopad:1})),ge=(Z.val-K.val-n(f,te.val,$.val))/(ue-C(K)-P(Z)),E=[K.val-ge*C(K),Z.val+ge*P(Z)];return E=m(E,f),f.limitRange&&f.limitRange(),V&&E.reverse(),a.simpleMap(E,f.l2r||Number)}function n(w,f,S){var T=0;if(w.rangebreaks)for(var E=w.locateBreaks(f,S),L=0;L<E.length;L++){var C=E[L];T+=C.max-C.min}return T}function l(w,f,S){var T=.05*f._length,E=f._anchorAxis||{};if((f.ticklabelposition||"").indexOf("inside")!==-1||(E.ticklabelposition||"").indexOf("inside")!==-1){var L=f.isReversed();if(!L){var C=a.simpleMap(f.range,f.r2l);L=C[1]<C[0]}L&&(S=!S)}var P=0;return i(w,f._id)||(P=function(R,G,I){var H=0,N=G._id.charAt(0)==="x";for(var B in R._plots){var V=R._plots[B];if(G._id===V.xaxis._id||G._id===V.yaxis._id){var q=(N?V.yaxis:V.xaxis)||{};if((q.ticklabelposition||"").indexOf("inside")!==-1&&(!I&&(q.side==="left"||q.side==="bottom")||I&&(q.side==="top"||q.side==="right"))){if(q._vals){var te=a.deg2rad(q._tickAngles[q._id+"tick"]||0),$=Math.abs(Math.cos(te)),K=Math.abs(Math.sin(te));if(!q._vals[0].bb){var Z=q._id+"tick";q._selections[Z].each(function(ae){var ue=M.select(this);ue.select(".text-math-group").empty()&&(ae.bb=d.bBox(ue.node()))})}for(var X=0;X<q._vals.length;X++){var ee=q._vals[X].bb;if(ee){var ne=2*o+ee.width,re=2*o+ee.height;H=Math.max(H,N?Math.max(ne*$,re*K):Math.max(re*$,ne*K))}}}q.ticks==="inside"&&q.ticklabelposition==="inside"&&(H+=q.ticklen||0)}}}return H}(w,f,S)),T=Math.max(P,T),f.constrain==="domain"&&f._inputDomain&&(T*=(f._inputDomain[1]-f._inputDomain[0])/(f.domain[1]-f.domain[0])),function(R){return R.nopad?0:R.pad+(R.extrapad?T:P)}}Y.exports={applyAutorangeOptions:m,getAutoRange:r,makePadFn:l,doAutoRange:function(w,f,S){if(f.setScale(),f.autorange){f.range=S?S.slice():r(w,f),f._r=f.range.slice(),f._rl=a.simpleMap(f._r,f.r2l);var T=f._input,E={};E[f._attr+".range"]=f.range,E[f._attr+".autorange"]=f.autorange,y.call("_storeDirectGUIEdit",w.layout,w._fullLayout._preGUI,E),T.range=f.range.slice(),T.autorange=f.autorange}var L=f._anchorAxis;if(L&&L.rangeslider){var C=L.rangeslider[f._name];C&&C.rangemode==="auto"&&(C.range=r(w,f)),L._input.rangeslider[f._name]=a.extendFlat({},C)}},findExtremes:function(w,f,S){S||(S={}),w._m||w.setScale();var T,E,L,C,P,R,G,I,H,N=[],B=[],V=f.length,q=S.padded||!1,te=S.tozero&&(w.type==="linear"||w.type==="-"),$=w.type==="log",K=!1,Z=S.vpadLinearized||!1;function X(we){if(Array.isArray(we))return K=!0,function(ve){return Math.max(Number(we[ve]||0),0)};var me=Math.max(Number(we||0),0);return function(){return me}}var ee=X((w._m>0?S.ppadplus:S.ppadminus)||S.ppad||0),ne=X((w._m>0?S.ppadminus:S.ppadplus)||S.ppad||0),re=X(S.vpadplus||S.vpad),ae=X(S.vpadminus||S.vpad);if(!K){if(I=1/0,H=-1/0,$)for(T=0;T<V;T++)(E=f[T])<I&&E>0&&(I=E),E>H&&E<_&&(H=E);else for(T=0;T<V;T++)(E=f[T])<I&&E>-_&&(I=E),E>H&&E<_&&(H=E);f=[I,H],V=2}var ue={tozero:te,extrapad:q};function pe(we){L=f[we],k(L)&&(R=ee(we),G=ne(we),Z?(C=w.c2l(L)-ae(we),P=w.c2l(L)+re(we)):(I=L-ae(we),H=L+re(we),$&&I<H/10&&(I=H/10),C=w.c2l(I),P=w.c2l(H)),te&&(C=Math.min(0,C),P=Math.max(0,P)),g(C)&&p(N,C,G,ue),g(P)&&c(B,P,R,ue))}var ge=Math.min(6,V);for(T=0;T<ge;T++)pe(T);for(T=V-1;T>=ge;T--)pe(T);return{min:N,max:B,opts:S}},concatExtremes:u};var o=3;function u(w,f,S){var T,E,L,C=f._id,P=w._fullData,R=w._fullLayout,G=[],I=[];function H(te,$){for(T=0;T<$.length;T++){var K=te[$[T]],Z=(K._extremes||{})[C];if(K.visible===!0&&Z){for(E=0;E<Z.min.length;E++)L=Z.min[E],p(G,L.val,L.pad,{extrapad:L.extrapad});for(E=0;E<Z.max.length;E++)L=Z.max[E],c(I,L.val,L.pad,{extrapad:L.extrapad})}}}if(H(P,f._traceIndices),H(R.annotations||[],f._annIndices||[]),H(R.shapes||[],f._shapeIndices||[]),f._matchGroup&&!S){for(var N in f._matchGroup)if(N!==f._id){var B=t(w,N),V=u(w,B,!0),q=f._length/B._length;for(E=0;E<V.min.length;E++)L=V.min[E],p(G,L.val,L.pad*q,{extrapad:L.extrapad});for(E=0;E<V.max.length;E++)L=V.max[E],c(I,L.val,L.pad*q,{extrapad:L.extrapad})}}return{min:G,max:I}}function p(w,f,S,T){b(w,f,S,T,h)}function c(w,f,S,T){b(w,f,S,T,x)}function b(w,f,S,T,E){for(var L=T.tozero,C=T.extrapad,P=!0,R=0;R<w.length&&P;R++){var G=w[R];if(E(G.val,f)&&G.pad>=S&&(G.extrapad||!C)){P=!1;break}E(f,G.val)&&G.pad<=S&&(C||!G.extrapad)&&(w.splice(R,1),R--)}if(P){var I=L&&f===0;w.push({val:f,pad:I?0:S,extrapad:!I&&C})}}function g(w){return k(w)&&Math.abs(w)<_}function h(w,f){return w<=f}function x(w,f){return w>=f}function v(w,f,S){return f===void 0||S===void 0||(f=w.d2l(f))<w.d2l(S)}function m(w,f){if(!f||!f.autorangeoptions)return w;var S=w[0],T=w[1],E=f.autorangeoptions.include;if(E!==void 0){var L=f.d2l(S),C=f.d2l(T);a.isArrayOrTypedArray(E)||(E=[E]);for(var P=0;P<E.length;P++){var R=f.d2l(E[P]);L>=R&&(L=R,S=R),C<=R&&(C=R,T=R)}}return S=function(G,I){var H=I.autorangeoptions;return H&&H.minallowed!==void 0&&v(I,H.minallowed,H.maxallowed)?H.minallowed:H&&H.clipmin!==void 0&&v(I,H.clipmin,H.clipmax)?Math.max(G,I.d2l(H.clipmin)):G}(S,f),T=function(G,I){var H=I.autorangeoptions;return H&&H.maxallowed!==void 0&&v(I,H.minallowed,H.maxallowed)?H.maxallowed:H&&H.clipmax!==void 0&&v(I,H.clipmin,H.clipmax)?Math.min(G,I.d2l(H.clipmax)):G}(T,f),[S,T]}},23074:function(Y){Y.exports=function(O,e,M){var k,a;if(M){var _=e==="reversed"||e==="min reversed"||e==="max reversed";k=M[_?1:0],a=M[_?0:1]}var y=O("autorangeoptions.minallowed",a===null?k:void 0),d=O("autorangeoptions.maxallowed",k===null?a:void 0);y===void 0&&O("autorangeoptions.clipmin"),d===void 0&&O("autorangeoptions.clipmax"),O("autorangeoptions.include")}},89298:function(Y,O,e){var M=e(39898),k=e(92770),a=e(74875),_=e(73972),y=e(71828),d=y.strTranslate,s=e(63893),t=e(92998),i=e(7901),r=e(91424),n=e(13838),l=e(66287),o=e(50606),u=o.ONEMAXYEAR,p=o.ONEAVGYEAR,c=o.ONEMINYEAR,b=o.ONEMAXQUARTER,g=o.ONEAVGQUARTER,h=o.ONEMINQUARTER,x=o.ONEMAXMONTH,v=o.ONEAVGMONTH,m=o.ONEMINMONTH,w=o.ONEWEEK,f=o.ONEDAY,S=f/2,T=o.ONEHOUR,E=o.ONEMIN,L=o.ONESEC,C=o.MINUS_SIGN,P=o.BADNUM,R={K:"zeroline"},G={K:"gridline",L:"path"},I={K:"minor-gridline",L:"path"},H={K:"tick",L:"path"},N={K:"tick",L:"text"},B={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},V=e(18783),q=V.MID_SHIFT,te=V.CAP_SHIFT,$=V.LINE_SPACING,K=V.OPPOSITE_SIDE,Z=Y.exports={};Z.setConvert=e(21994);var X=e(4322),ee=e(41675),ne=ee.idSort,re=ee.isLinked;Z.id2name=ee.id2name,Z.name2id=ee.name2id,Z.cleanId=ee.cleanId,Z.list=ee.list,Z.listIds=ee.listIds,Z.getFromId=ee.getFromId,Z.getFromTrace=ee.getFromTrace;var ae=e(71739);Z.getAutoRange=ae.getAutoRange,Z.findExtremes=ae.findExtremes;var ue=1e-4;function pe(Re){var je=(Re[1]-Re[0])*ue;return[Re[0]-je,Re[1]+je]}Z.coerceRef=function(Re,je,st,ot,xt,mt){var bt=ot.charAt(ot.length-1),dt=st._fullLayout._subplots[bt+"axis"],St=ot+"ref",gt={};return xt||(xt=dt[0]||(typeof mt=="string"?mt:mt[0])),mt||(mt=xt),dt=dt.concat(dt.map(function(vt){return vt+" domain"})),gt[St]={valType:"enumerated",values:dt.concat(mt?typeof mt=="string"?[mt]:mt:[]),dflt:xt},y.coerce(Re,je,gt,St)},Z.getRefType=function(Re){return Re===void 0?Re:Re==="paper"?"paper":Re==="pixel"?"pixel":/( domain)$/.test(Re)?"domain":"range"},Z.coercePosition=function(Re,je,st,ot,xt,mt){var bt,dt;if(Z.getRefType(ot)!=="range")bt=y.ensureNumber,dt=st(xt,mt);else{var St=Z.getFromId(je,ot);dt=st(xt,mt=St.fraction2r(mt)),bt=St.cleanPos}Re[xt]=bt(dt)},Z.cleanPosition=function(Re,je,st){return(st==="paper"||st==="pixel"?y.ensureNumber:Z.getFromId(je,st).cleanPos)(Re)},Z.redrawComponents=function(Re,je){je=je||Z.listIds(Re);var st=Re._fullLayout;function ot(xt,mt,bt,dt){for(var St=_.getComponentMethod(xt,mt),gt={},vt=0;vt<je.length;vt++)for(var Mt=st[Z.id2name(je[vt])][bt],Bt=0;Bt<Mt.length;Bt++){var Nt=Mt[Bt];if(!gt[Nt]&&(St(Re,Nt),gt[Nt]=1,dt))return}}ot("annotations","drawOne","_annIndices"),ot("shapes","drawOne","_shapeIndices"),ot("images","draw","_imgIndices",!0),ot("selections","drawOne","_selectionIndices")};var ge=Z.getDataConversions=function(Re,je,st,ot){var xt,mt=st==="x"||st==="y"||st==="z"?st:ot;if(Array.isArray(mt)){if(xt={type:X(ot,void 0,{autotypenumbers:Re._fullLayout.autotypenumbers}),_categories:[]},Z.setConvert(xt),xt.type==="category")for(var bt=0;bt<ot.length;bt++)xt.d2c(ot[bt])}else xt=Z.getFromTrace(Re,je,mt);return xt?{d2c:xt.d2c,c2d:xt.c2d}:mt==="ids"?{d2c:me,c2d:me}:{d2c:we,c2d:we}};function we(Re){return+Re}function me(Re){return String(Re)}function ve(Re,je){return Math.abs((Re/je+.5)%1-.5)<.001}function Ie(Re,je){return Math.abs(Re/je-1)<.001}function Se(Re){return+Re.substring(1)}function ke(Re,je){return Re.rangebreaks&&(je=je.filter(function(st){return Re.maskBreaks(st.x)!==P})),je}function se(Re){var je=Re._mainAxis,st=[];if(je._vals){for(var ot=0;ot<je._vals.length;ot++)if(!je._vals[ot].noTick){var xt=je.l2p(je._vals[ot].x),mt=Re.p2l(xt),bt=Z.tickText(Re,mt);je._vals[ot].minor&&(bt.minor=!0,bt.text=""),st.push(bt)}}return ke(Re,st)}function oe(Re){var je=pe(y.simpleMap(Re.range,Re.r2l)),st=Math.min(je[0],je[1]),ot=Math.max(je[0],je[1]),xt=Re.type==="category"?Re.d2l_noadd:Re.d2l;Re.type==="log"&&String(Re.dtick).charAt(0)!=="L"&&(Re.dtick="L"+Math.pow(10,Math.floor(Math.min(Re.range[0],Re.range[1]))-1));for(var mt=[],bt=0;bt<=1;bt++)if(!bt||Re.minor){var dt=bt?Re.minor.tickvals:Re.tickvals,St=bt?[]:Re.ticktext;if(dt){Array.isArray(St)||(St=[]);for(var gt=0;gt<dt.length;gt++){var vt=xt(dt[gt]);if(vt>st&&vt<ot){var Mt=St[gt]===void 0?Z.tickText(Re,vt):Oe(Re,vt,String(St[gt]));bt&&(Mt.minor=!0,Mt.text=""),mt.push(Mt)}}}}return ke(Re,mt)}Z.getDataToCoordFunc=function(Re,je,st,ot){return ge(Re,je,st,ot).d2c},Z.counterLetter=function(Re){var je=Re.charAt(0);return je==="x"?"y":je==="y"?"x":void 0},Z.minDtick=function(Re,je,st,ot){["log","category","multicategory"].indexOf(Re.type)===-1&&ot?Re._minDtick===void 0?(Re._minDtick=je,Re._forceTick0=st):Re._minDtick&&((Re._minDtick/je+1e-6)%1<2e-6&&((st-Re._forceTick0)/je%1+1.000001)%1<2e-6?(Re._minDtick=je,Re._forceTick0=st):((je/Re._minDtick+1e-6)%1>2e-6||((st-Re._forceTick0)/Re._minDtick%1+1.000001)%1>2e-6)&&(Re._minDtick=0)):Re._minDtick=0},Z.saveRangeInitial=function(Re,je){for(var st=Z.list(Re,"",!0),ot=!1,xt=0;xt<st.length;xt++){var mt=st[xt],bt=mt._rangeInitial0===void 0&&mt._rangeInitial1===void 0,dt=bt||mt.range[0]!==mt._rangeInitial0||mt.range[1]!==mt._rangeInitial1,St=mt.autorange;(bt&&St!==!0||je&&dt)&&(mt._rangeInitial0=St==="min"||St==="max reversed"?void 0:mt.range[0],mt._rangeInitial1=St==="max"||St==="min reversed"?void 0:mt.range[1],mt._autorangeInitial=St,ot=!0)}return ot},Z.saveShowSpikeInitial=function(Re,je){for(var st=Z.list(Re,"",!0),ot=!1,xt="on",mt=0;mt<st.length;mt++){var bt=st[mt],dt=bt._showSpikeInitial===void 0,St=dt||bt.showspikes!==bt._showspikes;(dt||je&&St)&&(bt._showSpikeInitial=bt.showspikes,ot=!0),xt!=="on"||bt.showspikes||(xt="off")}return Re._fullLayout._cartesianSpikesEnabled=xt,ot},Z.autoBin=function(Re,je,st,ot,xt,mt){var bt,dt=y.aggNums(Math.min,null,Re),St=y.aggNums(Math.max,null,Re);if(je.type==="category"||je.type==="multicategory")return{start:dt-.5,end:St+.5,size:Math.max(1,Math.round(mt)||1),_dataSpan:St-dt};if(xt||(xt=je.calendar),bt=je.type==="log"?{type:"linear",range:[dt,St]}:{type:je.type,range:y.simpleMap([dt,St],je.c2r,0,xt),calendar:xt},Z.setConvert(bt),mt=mt&&l.dtick(mt,bt.type))bt.dtick=mt,bt.tick0=l.tick0(void 0,bt.type,xt);else{var gt;if(st)gt=(St-dt)/st;else{var vt=y.distinctVals(Re),Mt=Math.pow(10,Math.floor(Math.log(vt.minDiff)/Math.LN10)),Bt=Mt*y.roundUp(vt.minDiff/Mt,[.9,1.9,4.9,9.9],!0);gt=Math.max(Bt,2*y.stdev(Re)/Math.pow(Re.length,ot?.25:.4)),k(gt)||(gt=1)}Z.autoTicks(bt,gt)}var Nt,qt=bt.dtick,an=Z.tickIncrement(Z.tickFirst(bt),qt,"reverse",xt);if(typeof qt=="number")an=function(Gt,Yt,en,bn,On){var gn=0,Xt=0,ln=0,nn=0;function hn(Pn){return(1+100*(Pn-Gt)/en.dtick)%100<2}for(var mn=0;mn<Yt.length;mn++)Yt[mn]%1==0?ln++:k(Yt[mn])||nn++,hn(Yt[mn])&&gn++,hn(Yt[mn]+en.dtick/2)&&Xt++;var Mn=Yt.length-nn;if(ln===Mn&&en.type!=="date")en.dtick<1?Gt=bn-.5*en.dtick:(Gt-=.5)+en.dtick<bn&&(Gt+=en.dtick);else if(Xt<.1*Mn&&(gn>.3*Mn||hn(bn)||hn(On))){var Tn=en.dtick/2;Gt+=Gt+Tn<bn?Tn:-Tn}return Gt}(an,Re,bt,dt,St),Nt=an+(1+Math.floor((St-an)/qt))*qt;else for(bt.dtick.charAt(0)==="M"&&(an=function(Gt,Yt,en,bn,On){var gn=y.findExactDates(Yt,On);if(gn.exactDays>.8){var Xt=Number(en.substr(1));gn.exactYears>.8&&Xt%12==0?Gt=Z.tickIncrement(Gt,"M6","reverse")+1.5*f:gn.exactMonths>.8?Gt=Z.tickIncrement(Gt,"M1","reverse")+15.5*f:Gt-=S;var ln=Z.tickIncrement(Gt,en);if(ln<=bn)return ln}return Gt}(an,Re,qt,dt,xt)),Nt=an;Nt<=St;)Nt=Z.tickIncrement(Nt,qt,!1,xt);return{start:je.c2r(an,0,xt),end:je.c2r(Nt,0,xt),size:qt,_dataSpan:St-dt}},Z.prepMinorTicks=function(Re,je,st){if(!je.minor.dtick){delete Re.dtick;var ot,xt=je.dtick&&k(je._tmin);if(xt){var mt=Z.tickIncrement(je._tmin,je.dtick,!0);ot=[je._tmin,.99*mt+.01*je._tmin]}else{var bt=y.simpleMap(je.range,je.r2l);ot=[bt[0],.8*bt[0]+.2*bt[1]]}if(Re.range=y.simpleMap(ot,je.l2r),Re._isMinor=!0,Z.prepTicks(Re,st),xt){var dt=k(je.dtick),St=k(Re.dtick),gt=dt?je.dtick:+je.dtick.substring(1),vt=St?Re.dtick:+Re.dtick.substring(1);dt&&St?ve(gt,vt)?gt===2*w&&vt===2*f&&(Re.dtick=w):gt===2*w&&vt===3*f?Re.dtick=w:gt!==w||(je._input.minor||{}).nticks?Ie(gt/vt,2.5)?Re.dtick=gt/2:Re.dtick=gt:Re.dtick=f:String(je.dtick).charAt(0)==="M"?St?Re.dtick="M1":ve(gt,vt)?gt>=12&&vt===2&&(Re.dtick="M3"):Re.dtick=je.dtick:String(Re.dtick).charAt(0)==="L"?String(je.dtick).charAt(0)==="L"?ve(gt,vt)||(Re.dtick=Ie(gt/vt,2.5)?je.dtick/2:je.dtick):Re.dtick="D1":Re.dtick==="D2"&&+je.dtick>1&&(Re.dtick=1)}Re.range=je.range}je.minor._tick0Init===void 0&&(Re.tick0=je.tick0)},Z.prepTicks=function(Re,je){var st=y.simpleMap(Re.range,Re.r2l,void 0,void 0,je);if(Re.tickmode==="auto"||!Re.dtick){var ot,xt=Re.nticks;xt||(Re.type==="category"||Re.type==="multicategory"?(ot=Re.tickfont?y.bigFont(Re.tickfont.size||12):15,xt=Re._length/ot):(ot=Re._id.charAt(0)==="y"?40:80,xt=y.constrain(Re._length/ot,4,9)+1),Re._name==="radialaxis"&&(xt*=2)),Re.minor&&Re.minor.tickmode!=="array"||Re.tickmode==="array"&&(xt*=100),Re._roughDTick=Math.abs(st[1]-st[0])/xt,Z.autoTicks(Re,Re._roughDTick),Re._minDtick>0&&Re.dtick<2*Re._minDtick&&(Re.dtick=Re._minDtick,Re.tick0=Re.l2r(Re._forceTick0))}Re.ticklabelmode==="period"&&function(mt){var bt;function dt(){return!(k(mt.dtick)||mt.dtick.charAt(0)!=="M")}var St=dt(),gt=Z.getTickFormat(mt);if(gt){var vt=mt._dtickInit!==mt.dtick;/%[fLQsSMX]/.test(gt)||(/%[HI]/.test(gt)?(bt=T,vt&&!St&&mt.dtick<T&&(mt.dtick=T)):/%p/.test(gt)?(bt=S,vt&&!St&&mt.dtick<S&&(mt.dtick=S)):/%[Aadejuwx]/.test(gt)?(bt=f,vt&&!St&&mt.dtick<f&&(mt.dtick=f)):/%[UVW]/.test(gt)?(bt=w,vt&&!St&&mt.dtick<w&&(mt.dtick=w)):/%[Bbm]/.test(gt)?(bt=v,vt&&(St?Se(mt.dtick)<1:mt.dtick<m)&&(mt.dtick="M1")):/%[q]/.test(gt)?(bt=g,vt&&(St?Se(mt.dtick)<3:mt.dtick<h)&&(mt.dtick="M3")):/%[Yy]/.test(gt)&&(bt=p,vt&&(St?Se(mt.dtick)<12:mt.dtick<c)&&(mt.dtick="M12")))}(St=dt())&&mt.tick0===mt._dowTick0&&(mt.tick0=mt._rawTick0),mt._definedDelta=bt}(Re),Re.tick0||(Re.tick0=Re.type==="date"?"2000-01-01":0),Re.type==="date"&&Re.dtick<.1&&(Re.dtick=.1),ye(Re)},Z.calcTicks=function(Re,je){for(var st,ot,xt=Re.type,mt=Re.calendar,bt=Re.ticklabelstep,dt=Re.ticklabelmode==="period",St=y.simpleMap(Re.range,Re.r2l,void 0,void 0,je),gt=St[1]<St[0],vt=Math.min(St[0],St[1]),Mt=Math.max(St[0],St[1]),Bt=Math.max(1e3,Re._length||0),Nt=[],qt=[],an=[],Gt=[],Yt=Re.minor&&(Re.minor.ticks||Re.minor.showgrid),en=1;en>=(Yt?0:1);en--){var bn=!en;en?(Re._dtickInit=Re.dtick,Re._tick0Init=Re.tick0):(Re.minor._dtickInit=Re.minor.dtick,Re.minor._tick0Init=Re.minor.tick0);var On=en?Re:y.extendFlat({},Re,Re.minor);if(bn?Z.prepMinorTicks(On,Re,je):Z.prepTicks(On,je),On.tickmode!=="array")if(On.tickmode!=="sync"){var gn=pe(St),Xt=gn[0],ln=gn[1],nn=k(On.dtick),hn=xt==="log"&&!(nn||On.dtick.charAt(0)==="L"),mn=Z.tickFirst(On,je);if(en){if(Re._tmin=mn,mn<Xt!==gt)break;xt!=="category"&&xt!=="multicategory"||(ln=gt?Math.max(-.5,ln):Math.min(Re._categories.length-.5,ln))}var Mn,Tn,Pn=null,yn=mn;en&&(nn?Tn=Re.dtick:xt==="date"?typeof Re.dtick=="string"&&Re.dtick.charAt(0)==="M"&&(Tn=v*Re.dtick.substring(1)):Tn=Re._roughDTick,Mn=Math.round((Re.r2l(yn)-Re.r2l(Re.tick0))/Tn)-1);var Rn=On.dtick;for(On.rangebreaks&&On._tick0Init!==On.tick0&&(yn=qe(yn,Re),gt||(yn=Z.tickIncrement(yn,Rn,!gt,mt))),en&&dt&&(yn=Z.tickIncrement(yn,Rn,!gt,mt),Mn--);gt?yn>=ln:yn<=ln;yn=Z.tickIncrement(yn,Rn,gt,mt)){if(en&&Mn++,On.rangebreaks&&!gt){if(yn<Xt)continue;if(On.maskBreaks(yn)===P&&qe(yn,On)>=Mt)break}if(an.length>Bt||yn===Pn)break;Pn=yn;var Zn={value:yn};en?(hn&&yn!==(0|yn)&&(Zn.simpleLabel=!0),bt>1&&Mn%bt&&(Zn.skipLabel=!0),an.push(Zn)):(Zn.minor=!0,Gt.push(Zn))}}else an=[],Nt=se(Re);else en?(an=[],Nt=oe(Re)):(Gt=[],qt=oe(Re))}if(Yt&&!(Re.minor.ticks==="inside"&&Re.ticks==="outside"||Re.minor.ticks==="outside"&&Re.ticks==="inside")){for(var ir=an.map(function(Ct){return Ct.value}),sr=[],tr=0;tr<Gt.length;tr++){var Jn=Gt[tr],pr=Jn.value;if(ir.indexOf(pr)===-1){for(var Ut=!1,rn=0;!Ut&&rn<an.length;rn++)1e7+an[rn].value===1e7+pr&&(Ut=!0);Ut||sr.push(Jn)}}Gt=sr}if(dt&&function(Ct,Jt,tn){for(var wn=0;wn<Ct.length;wn++){var kn=Ct[wn].value,Cn=wn,pn=wn+1;wn<Ct.length-1?(Cn=wn,pn=wn+1):wn>0?(Cn=wn-1,pn=wn):(Cn=wn,pn=wn);var $t,Qt=Ct[Cn].value,fn=Ct[pn].value,dn=Math.abs(fn-Qt),In=tn||dn,zn=0;In>=c?zn=dn>=c&&dn<=u?dn:p:tn===g&&In>=h?zn=dn>=h&&dn<=b?dn:g:In>=m?zn=dn>=m&&dn<=x?dn:v:tn===w&&In>=w?zn=w:In>=f?zn=f:tn===S&&In>=S?zn=S:tn===T&&In>=T&&(zn=T),zn>=dn&&(zn=dn,$t=!0);var Yn=kn+zn;if(Jt.rangebreaks&&zn>0){for(var Vn=0,nr=0;nr<84;nr++){var Xn=(nr+.5)/84;Jt.maskBreaks(kn*(1-Xn)+Xn*Yn)!==P&&Vn++}(zn*=Vn/84)||(Ct[wn].drop=!0),$t&&dn>w&&(zn=dn)}(zn>0||wn===0)&&(Ct[wn].periodX=kn+zn/2)}}(an,Re,Re._definedDelta),Re.rangebreaks){var cn=Re._id.charAt(0)==="y",vn=1;Re.tickmode==="auto"&&(vn=Re.tickfont?Re.tickfont.size:12);var Sn=NaN;for(st=an.length-1;st>-1;st--)if(an[st].drop)an.splice(st,1);else{an[st].value=qe(an[st].value,Re);var Hn=Re.c2p(an[st].value);(cn?Sn>Hn-vn:Sn<Hn+vn)?an.splice(gt?st+1:st,1):Sn=Hn}}Qe(Re)&&Math.abs(St[1]-St[0])===360&&an.pop(),Re._tmax=(an[an.length-1]||{}).value,Re._prevDateHead="",Re._inCalcTicks=!0;var Dn,Bn,Qn=function(Ct){Ct.text="",Re._prevDateHead=ot};for(an=an.concat(Gt),st=0;st<an.length;st++){var Wt=an[st].minor,An=an[st].value;Wt?qt.push({x:An,minor:!0}):(ot=Re._prevDateHead,Dn=Z.tickText(Re,An,!1,an[st].simpleLabel),(Bn=an[st].periodX)!==void 0&&(Dn.periodX=Bn,(Bn>Mt||Bn<vt)&&(Bn>Mt&&(Dn.periodX=Mt),Bn<vt&&(Dn.periodX=vt),Qn(Dn))),an[st].skipLabel&&Qn(Dn),Nt.push(Dn))}return Nt=Nt.concat(qt),Re._inCalcTicks=!1,dt&&Nt.length&&(Nt[0].noTick=!0),Nt};var he=[2,5,10],Le=[1,2,3,6,12],Me=[1,2,5,10,15,30],_e=[1,2,3,7,14],De=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],Ne=[-.301,0,.301,.699,1],ce=[15,30,45,90,180];function Te(Re,je,st){return je*y.roundUp(Re/je,st)}function ye(Re){var je=Re.dtick;if(Re._tickexponent=0,k(je)||typeof je=="string"||(je=1),Re.type!=="category"&&Re.type!=="multicategory"||(Re._tickround=null),Re.type==="date"){var st=Re.r2l(Re.tick0),ot=Re.l2r(st).replace(/(^-|i)/g,""),xt=ot.length;if(String(je).charAt(0)==="M")xt>10||ot.substr(5)!=="01-01"?Re._tickround="d":Re._tickround=+je.substr(1)%12==0?"y":"m";else if(je>=f&&xt<=10||je>=15*f)Re._tickround="d";else if(je>=E&&xt<=16||je>=T)Re._tickround="M";else if(je>=L&&xt<=19||je>=E)Re._tickround="S";else{var mt=Re.l2r(st+je).replace(/^-/,"").length;Re._tickround=Math.max(xt,mt)-20,Re._tickround<0&&(Re._tickround=4)}}else if(k(je)||je.charAt(0)==="L"){var bt=Re.range.map(Re.r2d||Number);k(je)||(je=Number(je.substr(1))),Re._tickround=2-Math.floor(Math.log(je)/Math.LN10+.01);var dt=Math.max(Math.abs(bt[0]),Math.abs(bt[1])),St=Math.floor(Math.log(dt)/Math.LN10+.01),gt=Re.minexponent===void 0?3:Re.minexponent;Math.abs(St)>gt&&(Fe(Re.exponentformat)&&!Ge(St)?Re._tickexponent=3*Math.round((St-1)/3):Re._tickexponent=St)}else Re._tickround=null}function Oe(Re,je,st){var ot=Re.tickfont||{};return{x:je,dx:0,dy:0,text:st||"",fontSize:ot.size,font:ot.family,fontColor:ot.color}}Z.autoTicks=function(Re,je,st){var ot;function xt(Mt){return Math.pow(Mt,Math.floor(Math.log(je)/Math.LN10))}if(Re.type==="date"){Re.tick0=y.dateTick0(Re.calendar,0);var mt=2*je;if(mt>p)je/=p,ot=xt(10),Re.dtick="M"+12*Te(je,ot,he);else if(mt>v)je/=v,Re.dtick="M"+Te(je,1,Le);else if(mt>f){if(Re.dtick=Te(je,f,Re._hasDayOfWeekBreaks?[1,2,7,14]:_e),!st){var bt=Z.getTickFormat(Re),dt=Re.ticklabelmode==="period";dt&&(Re._rawTick0=Re.tick0),/%[uVW]/.test(bt)?Re.tick0=y.dateTick0(Re.calendar,2):Re.tick0=y.dateTick0(Re.calendar,1),dt&&(Re._dowTick0=Re.tick0)}}else mt>T?Re.dtick=Te(je,T,Le):mt>E?Re.dtick=Te(je,E,Me):mt>L?Re.dtick=Te(je,L,Me):(ot=xt(10),Re.dtick=Te(je,ot,he))}else if(Re.type==="log"){Re.tick0=0;var St=y.simpleMap(Re.range,Re.r2l);if(Re._isMinor&&(je*=1.5),je>.7)Re.dtick=Math.ceil(je);else if(Math.abs(St[1]-St[0])<1){var gt=1.5*Math.abs((St[1]-St[0])/je);je=Math.abs(Math.pow(10,St[1])-Math.pow(10,St[0]))/gt,ot=xt(10),Re.dtick="L"+Te(je,ot,he)}else Re.dtick=je>.3?"D2":"D1"}else Re.type==="category"||Re.type==="multicategory"?(Re.tick0=0,Re.dtick=Math.ceil(Math.max(je,1))):Qe(Re)?(Re.tick0=0,ot=1,Re.dtick=Te(je,ot,ce)):(Re.tick0=0,ot=xt(10),Re.dtick=Te(je,ot,he));if(Re.dtick===0&&(Re.dtick=1),!k(Re.dtick)&&typeof Re.dtick!="string"){var vt=Re.dtick;throw Re.dtick=1,"ax.dtick error: "+String(vt)}},Z.tickIncrement=function(Re,je,st,ot){var xt=st?-1:1;if(k(je))return y.increment(Re,xt*je);var mt=je.charAt(0),bt=xt*Number(je.substr(1));if(mt==="M")return y.incrementMonth(Re,bt,ot);if(mt==="L")return Math.log(Math.pow(10,Re)+bt)/Math.LN10;if(mt==="D"){var dt=je==="D2"?Ne:De,St=Re+.01*xt,gt=y.roundUp(y.mod(St,1),dt,st);return Math.floor(St)+Math.log(M.round(Math.pow(10,gt),1))/Math.LN10}throw"unrecognized dtick "+String(je)},Z.tickFirst=function(Re,je){var st=Re.r2l||Number,ot=y.simpleMap(Re.range,st,void 0,void 0,je),xt=ot[1]<ot[0],mt=xt?Math.floor:Math.ceil,bt=pe(ot)[0],dt=Re.dtick,St=st(Re.tick0);if(k(dt)){var gt=mt((bt-St)/dt)*dt+St;return Re.type!=="category"&&Re.type!=="multicategory"||(gt=y.constrain(gt,0,Re._categories.length-1)),gt}var vt=dt.charAt(0),Mt=Number(dt.substr(1));if(vt==="M"){for(var Bt,Nt,qt,an=0,Gt=St;an<10;){if(((Bt=Z.tickIncrement(Gt,dt,xt,Re.calendar))-bt)*(Gt-bt)<=0)return xt?Math.min(Gt,Bt):Math.max(Gt,Bt);Nt=(bt-(Gt+Bt)/2)/(Bt-Gt),qt=vt+(Math.abs(Math.round(Nt))||1)*Mt,Gt=Z.tickIncrement(Gt,qt,Nt<0?!xt:xt,Re.calendar),an++}return y.error("tickFirst did not converge",Re),Gt}if(vt==="L")return Math.log(mt((Math.pow(10,bt)-St)/Mt)*Mt+St)/Math.LN10;if(vt==="D"){var Yt=dt==="D2"?Ne:De,en=y.roundUp(y.mod(bt,1),Yt,xt);return Math.floor(bt)+Math.log(M.round(Math.pow(10,en),1))/Math.LN10}throw"unrecognized dtick "+String(dt)},Z.tickText=function(Re,je,st,ot){var xt,mt=Oe(Re,je),bt=Re.tickmode==="array",dt=st||bt,St=Re.type,gt=St==="category"?Re.d2l_noadd:Re.d2l;if(bt&&Array.isArray(Re.ticktext)){var vt=y.simpleMap(Re.range,Re.r2l),Mt=(Math.abs(vt[1]-vt[0])-(Re._lBreaks||0))/1e4;for(xt=0;xt<Re.ticktext.length&&!(Math.abs(je-gt(Re.tickvals[xt]))<Mt);xt++);if(xt<Re.ticktext.length)return mt.text=String(Re.ticktext[xt]),mt}function Bt(Gt){if(Gt===void 0)return!0;if(st)return Gt==="none";var Yt={first:Re._tmin,last:Re._tmax}[Gt];return Gt!=="all"&&je!==Yt}var Nt=st?"never":Re.exponentformat!=="none"&&Bt(Re.showexponent)?"hide":"";if(St==="date"?function(Gt,Yt,en,bn){var On=Gt._tickround,gn=en&&Gt.hoverformat||Z.getTickFormat(Gt);(bn=!gn&&bn)&&(On=k(On)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[On]);var Xt,ln=y.formatDate(Yt.x,gn,On,Gt._dateFormat,Gt.calendar,Gt._extraFormat),nn=ln.indexOf(`
`);if(nn!==-1&&(Xt=ln.substr(nn+1),ln=ln.substr(0,nn)),bn&&(Xt===void 0||ln!=="00:00:00"&&ln!=="00:00"?ln.length===8&&(ln=ln.replace(/:00$/,"")):(ln=Xt,Xt="")),Xt)if(en)On==="d"?ln+=", "+Xt:ln=Xt+(ln?", "+ln:"");else if(Gt._inCalcTicks&&Gt._prevDateHead===Xt){var hn=$e(Gt),mn=Gt._trueSide||Gt.side;(!hn&&mn==="top"||hn&&mn==="bottom")&&(ln+="<br> ")}else Gt._prevDateHead=Xt,ln+="<br>"+Xt;Yt.text=ln}(Re,mt,st,dt):St==="log"?function(Gt,Yt,en,bn,On){var gn=Gt.dtick,Xt=Yt.x,ln=Gt.tickformat,nn=typeof gn=="string"&&gn.charAt(0);if(On==="never"&&(On=""),bn&&nn!=="L"&&(gn="L3",nn="L"),ln||nn==="L")Yt.text=Ze(Math.pow(10,Xt),Gt,On,bn);else if(k(gn)||nn==="D"&&y.mod(Xt+.01,1)<.1){var hn=Math.round(Xt),mn=Math.abs(hn),Mn=Gt.exponentformat;Mn==="power"||Fe(Mn)&&Ge(hn)?(Yt.text=hn===0?1:hn===1?"10":"10<sup>"+(hn>1?"":C)+mn+"</sup>",Yt.fontSize*=1.25):(Mn==="e"||Mn==="E")&&mn>2?Yt.text="1"+Mn+(hn>0?"+":C)+mn:(Yt.text=Ze(Math.pow(10,Xt),Gt,"","fakehover"),gn==="D1"&&Gt._id.charAt(0)==="y"&&(Yt.dy-=Yt.fontSize/6))}else{if(nn!=="D")throw"unrecognized dtick "+String(gn);Yt.text=String(Math.round(Math.pow(10,y.mod(Xt,1)))),Yt.fontSize*=.75}if(Gt.dtick==="D1"){var Tn=String(Yt.text).charAt(0);Tn!=="0"&&Tn!=="1"||(Gt._id.charAt(0)==="y"?Yt.dx-=Yt.fontSize/4:(Yt.dy+=Yt.fontSize/2,Yt.dx+=(Gt.range[1]>Gt.range[0]?1:-1)*Yt.fontSize*(Xt<0?.5:.25)))}}(Re,mt,0,dt,Nt):St==="category"?function(Gt,Yt){var en=Gt._categories[Math.round(Yt.x)];en===void 0&&(en=""),Yt.text=String(en)}(Re,mt):St==="multicategory"?function(Gt,Yt,en){var bn=Math.round(Yt.x),On=Gt._categories[bn]||[],gn=On[1]===void 0?"":String(On[1]),Xt=On[0]===void 0?"":String(On[0]);en?Yt.text=Xt+" - "+gn:(Yt.text=gn,Yt.text2=Xt)}(Re,mt,st):Qe(Re)?function(Gt,Yt,en,bn,On){if(Gt.thetaunit!=="radians"||en)Yt.text=Ze(Yt.x,Gt,On,bn);else{var gn=Yt.x/180;if(gn===0)Yt.text="0";else{var Xt=function(nn){function hn(Pn,yn){return Math.abs(Pn-yn)<=1e-6}var mn=function(Pn){for(var yn=1;!hn(Math.round(Pn*yn)/yn,Pn);)yn*=10;return yn}(nn),Mn=nn*mn,Tn=Math.abs(function Pn(yn,Rn){return hn(Rn,0)?yn:Pn(Rn,yn%Rn)}(Mn,mn));return[Math.round(Mn/Tn),Math.round(mn/Tn)]}(gn);if(Xt[1]>=100)Yt.text=Ze(y.deg2rad(Yt.x),Gt,On,bn);else{var ln=Yt.x<0;Xt[1]===1?Xt[0]===1?Yt.text="π":Yt.text=Xt[0]+"π":Yt.text=["<sup>",Xt[0],"</sup>","⁄","<sub>",Xt[1],"</sub>","π"].join(""),ln&&(Yt.text=C+Yt.text)}}}}(Re,mt,st,dt,Nt):function(Gt,Yt,en,bn,On){On==="never"?On="":Gt.showexponent==="all"&&Math.abs(Yt.x/Gt.dtick)<1e-6&&(On="hide"),Yt.text=Ze(Yt.x,Gt,On,bn)}(Re,mt,0,dt,Nt),ot||(Re.tickprefix&&!Bt(Re.showtickprefix)&&(mt.text=Re.tickprefix+mt.text),Re.ticksuffix&&!Bt(Re.showticksuffix)&&(mt.text+=Re.ticksuffix)),Re.labelalias&&Re.labelalias.hasOwnProperty(mt.text)){var qt=Re.labelalias[mt.text];typeof qt=="string"&&(mt.text=qt)}if(Re.tickson==="boundaries"||Re.showdividers){var an=function(Gt){var Yt=Re.l2p(Gt);return Yt>=0&&Yt<=Re._length?Gt:null};mt.xbnd=[an(mt.x-.5),an(mt.x+Re.dtick-.5)]}return mt},Z.hoverLabelText=function(Re,je,st){st&&(Re=y.extendFlat({},Re,{hoverformat:st}));var ot=Array.isArray(je)?je[0]:je,xt=Array.isArray(je)?je[1]:void 0;if(xt!==void 0&&xt!==ot)return Z.hoverLabelText(Re,ot,st)+" - "+Z.hoverLabelText(Re,xt,st);var mt=Re.type==="log"&&ot<=0,bt=Z.tickText(Re,Re.c2l(mt?-ot:ot),"hover").text;return mt?ot===0?"0":C+bt:bt};var Be=["f","p","n","μ","m","","k","M","G","T"];function Fe(Re){return Re==="SI"||Re==="B"}function Ge(Re){return Re>14||Re<-15}function Ze(Re,je,st,ot){var xt=Re<0,mt=je._tickround,bt=st||je.exponentformat||"B",dt=je._tickexponent,St=Z.getTickFormat(je),gt=je.separatethousands;if(ot){var vt={exponentformat:bt,minexponent:je.minexponent,dtick:je.showexponent==="none"?je.dtick:k(Re)&&Math.abs(Re)||1,range:je.showexponent==="none"?je.range.map(je.r2d):[0,Re||1]};ye(vt),mt=(Number(vt._tickround)||0)+4,dt=vt._tickexponent,je.hoverformat&&(St=je.hoverformat)}if(St)return je._numFormat(St)(Re).replace(/-/g,C);var Mt,Bt=Math.pow(10,-mt)/2;if(bt==="none"&&(dt=0),(Re=Math.abs(Re))<Bt)Re="0",xt=!1;else{if(Re+=Bt,dt&&(Re*=Math.pow(10,-dt),mt+=dt),mt===0)Re=String(Math.floor(Re));else if(mt<0){Re=(Re=String(Math.round(Re))).substr(0,Re.length+mt);for(var Nt=mt;Nt<0;Nt++)Re+="0"}else{var qt=(Re=String(Re)).indexOf(".")+1;qt&&(Re=Re.substr(0,qt+mt).replace(/\.?0+$/,""))}Re=y.numSeparate(Re,je._separators,gt)}return dt&&bt!=="hide"&&(Fe(bt)&&Ge(dt)&&(bt="power"),Mt=dt<0?C+-dt:bt!=="power"?"+"+dt:String(dt),bt==="e"||bt==="E"?Re+=bt+Mt:bt==="power"?Re+="×10<sup>"+Mt+"</sup>":bt==="B"&&dt===9?Re+="B":Fe(bt)&&(Re+=Be[dt/3+5])),xt?C+Re:Re}function et(Re,je){if(Re){var st=Object.keys(B).reduce(function(ot,xt){return je.indexOf(xt)!==-1&&B[xt].forEach(function(mt){ot[mt]=1}),ot},{});Object.keys(Re).forEach(function(ot){st[ot]||(ot.length===1?Re[ot]=0:delete Re[ot])})}}function ft(Re,je){for(var st=[],ot={},xt=0;xt<je.length;xt++){var mt=je[xt];ot[mt.text2]?ot[mt.text2].push(mt.x):ot[mt.text2]=[mt.x]}for(var bt in ot)st.push(Oe(Re,y.interp(ot[bt],.5),bt));return st}function rt(Re){return Re.periodX!==void 0?Re.periodX:Re.x}function _t(Re){return[Re.text,Re.x,Re.axInfo,Re.font,Re.fontSize,Re.fontColor].join("_")}function kt(Re){var je=Re.title.font.size,st=(Re.title.text.match(s.BR_TAG_ALL)||[]).length;return Re.title.hasOwnProperty("standoff")?st?je*(te+st*$):je*te:st?je*(st+1)*$:je}function wt(Re,je){var st=Re.l2p(je);return st>1&&st<Re._length-1}function lt(Re){var je=M.select(Re),st=je.select(".text-math-group");return st.empty()?je.select("text"):st}function ut(Re){return Re._id+".automargin"}function Et(Re){return ut(Re)+".mirror"}function Ot(Re){return Re._id+".rangeslider"}function zt(Re,je){for(var st=0;st<je.length;st++)Re.indexOf(je[st])===-1&&Re.push(je[st])}function Lt(Re,je,st){var ot,xt,mt=[],bt=[],dt=Re.layout;for(ot=0;ot<je.length;ot++)mt.push(Z.getFromId(Re,je[ot]));for(ot=0;ot<st.length;ot++)bt.push(Z.getFromId(Re,st[ot]));var St=Object.keys(n),gt=["anchor","domain","overlaying","position","side","tickangle","editType"],vt=["linear","log"];for(ot=0;ot<St.length;ot++){var Mt=St[ot],Bt=mt[0][Mt],Nt=bt[0][Mt],qt=!0,an=!1,Gt=!1;if(Mt.charAt(0)!=="_"&&typeof Bt!="function"&&gt.indexOf(Mt)===-1){for(xt=1;xt<mt.length&&qt;xt++){var Yt=mt[xt][Mt];Mt==="type"&&vt.indexOf(Bt)!==-1&&vt.indexOf(Yt)!==-1&&Bt!==Yt?an=!0:Yt!==Bt&&(qt=!1)}for(xt=1;xt<bt.length&&qt;xt++){var en=bt[xt][Mt];Mt==="type"&&vt.indexOf(Nt)!==-1&&vt.indexOf(en)!==-1&&Nt!==en?Gt=!0:bt[xt][Mt]!==Nt&&(qt=!1)}qt&&(an&&(dt[mt[0]._name].type="linear"),Gt&&(dt[bt[0]._name].type="linear"),Je(dt,Mt,mt,bt,Re._fullLayout._dfltTitle))}}for(ot=0;ot<Re._fullLayout.annotations.length;ot++){var bn=Re._fullLayout.annotations[ot];je.indexOf(bn.xref)!==-1&&st.indexOf(bn.yref)!==-1&&y.swapAttrs(dt.annotations[ot],["?"])}}function Je(Re,je,st,ot,xt){var mt,bt=y.nestedProperty,dt=bt(Re[st[0]._name],je).get(),St=bt(Re[ot[0]._name],je).get();for(je==="title"&&(dt&&dt.text===xt.x&&(dt.text=xt.y),St&&St.text===xt.y&&(St.text=xt.x)),mt=0;mt<st.length;mt++)bt(Re,st[mt]._name+"."+je).set(St);for(mt=0;mt<ot.length;mt++)bt(Re,ot[mt]._name+"."+je).set(dt)}function Qe(Re){return Re._id==="angularaxis"}function qe(Re,je){for(var st=je._rangebreaks.length,ot=0;ot<st;ot++){var xt=je._rangebreaks[ot];if(Re>=xt.min&&Re<xt.max)return xt.max}return Re}function $e(Re){return(Re.ticklabelposition||"").indexOf("inside")!==-1}function ct(Re,je){$e(Re._anchorAxis||{})&&Re._hideCounterAxisInsideTickLabels&&Re._hideCounterAxisInsideTickLabels(je)}function at(Re,je,st,ot){var xt,mt=Re.anchor==="free"||Re.overlaying!==void 0&&Re.overlaying!==!1?Re.overlaying:Re._id;xt=ot?Re.side==="right"?je:-je:je,mt in st||(st[mt]={}),Re.side in st[mt]||(st[mt][Re.side]=0),st[mt][Re.side]+=xt}Z.getTickFormat=function(Re){var je,st,ot,xt,mt,bt,dt,St;function gt(Bt){return typeof Bt!="string"?Bt:Number(Bt.replace("M",""))*v}function vt(Bt,Nt){var qt=["L","D"];if(typeof Bt==typeof Nt){if(typeof Bt=="number")return Bt-Nt;var an=qt.indexOf(Bt.charAt(0)),Gt=qt.indexOf(Nt.charAt(0));return an===Gt?Number(Bt.replace(/(L|D)/g,""))-Number(Nt.replace(/(L|D)/g,"")):an-Gt}return typeof Bt=="number"?1:-1}function Mt(Bt,Nt){var qt=Nt[0]===null,an=Nt[1]===null,Gt=vt(Bt,Nt[0])>=0,Yt=vt(Bt,Nt[1])<=0;return(qt||Gt)&&(an||Yt)}if(Re.tickformatstops&&Re.tickformatstops.length>0)switch(Re.type){case"date":case"linear":for(je=0;je<Re.tickformatstops.length;je++)if((ot=Re.tickformatstops[je]).enabled&&(xt=Re.dtick,mt=ot.dtickrange,bt=void 0,dt=void 0,St=void 0,bt=gt||function(Bt){return Bt},dt=mt[0],St=mt[1],(!dt&&typeof dt!="number"||bt(dt)<=bt(xt))&&(!St&&typeof St!="number"||bt(St)>=bt(xt)))){st=ot;break}break;case"log":for(je=0;je<Re.tickformatstops.length;je++)if((ot=Re.tickformatstops[je]).enabled&&Mt(Re.dtick,ot.dtickrange)){st=ot;break}}return st?st.value:Re.tickformat},Z.getSubplots=function(Re,je){var st=Re._fullLayout._subplots,ot=st.cartesian.concat(st.gl2d||[]),xt=je?Z.findSubplotsWithAxis(ot,je):ot;return xt.sort(function(mt,bt){var dt=mt.substr(1).split("y"),St=bt.substr(1).split("y");return dt[0]===St[0]?+dt[1]-+St[1]:+dt[0]-+St[0]}),xt},Z.findSubplotsWithAxis=function(Re,je){for(var st=new RegExp(je._id.charAt(0)==="x"?"^"+je._id+"y":je._id+"$"),ot=[],xt=0;xt<Re.length;xt++){var mt=Re[xt];st.test(mt)&&ot.push(mt)}return ot},Z.makeClipPaths=function(Re){var je=Re._fullLayout;if(!je._hasOnlyLargeSploms){var st,ot,xt={_offset:0,_length:je.width,_id:""},mt={_offset:0,_length:je.height,_id:""},bt=Z.list(Re,"x",!0),dt=Z.list(Re,"y",!0),St=[];for(st=0;st<bt.length;st++)for(St.push({x:bt[st],y:mt}),ot=0;ot<dt.length;ot++)st===0&&St.push({x:xt,y:dt[ot]}),St.push({x:bt[st],y:dt[ot]});var gt=je._clips.selectAll(".axesclip").data(St,function(vt){return vt.x._id+vt.y._id});gt.enter().append("clipPath").classed("axesclip",!0).attr("id",function(vt){return"clip"+je._uid+vt.x._id+vt.y._id}).append("rect"),gt.exit().remove(),gt.each(function(vt){M.select(this).select("rect").attr({x:vt.x._offset||0,y:vt.y._offset||0,width:vt.x._length||1,height:vt.y._length||1})})}},Z.draw=function(Re,je,st){var ot=Re._fullLayout;je==="redraw"&&ot._paper.selectAll("g.subplot").each(function(dt){var St=dt[0],gt=ot._plots[St];if(gt){var vt=gt.xaxis,Mt=gt.yaxis;gt.xaxislayer.selectAll("."+vt._id+"tick").remove(),gt.yaxislayer.selectAll("."+Mt._id+"tick").remove(),gt.xaxislayer.selectAll("."+vt._id+"tick2").remove(),gt.yaxislayer.selectAll("."+Mt._id+"tick2").remove(),gt.xaxislayer.selectAll("."+vt._id+"divider").remove(),gt.yaxislayer.selectAll("."+Mt._id+"divider").remove(),gt.minorGridlayer&&gt.minorGridlayer.selectAll("path").remove(),gt.gridlayer&&gt.gridlayer.selectAll("path").remove(),gt.zerolinelayer&&gt.zerolinelayer.selectAll("path").remove(),ot._infolayer.select(".g-"+vt._id+"title").remove(),ot._infolayer.select(".g-"+Mt._id+"title").remove()}});var xt=je&&je!=="redraw"?je:Z.listIds(Re),mt=Z.list(Re).filter(function(dt){return dt.autoshift}).map(function(dt){return dt.overlaying});xt.map(function(dt){var St=Z.getFromId(Re,dt);if(St.tickmode==="sync"&&St.overlaying){var gt=xt.findIndex(function(vt){return vt===St.overlaying});gt>=0&&xt.unshift(xt.splice(gt,1).shift())}});var bt={false:{left:0,right:0}};return y.syncOrAsync(xt.map(function(dt){return function(){if(dt){var St=Z.getFromId(Re,dt);st||(st={}),st.axShifts=bt,st.overlayingShiftedAx=mt;var gt=Z.drawOne(Re,St,st);return St._shiftPusher&&at(St,St._fullDepth||0,bt,!0),St._r=St.range.slice(),St._rl=y.simpleMap(St._r,St.r2l),gt}}}))},Z.drawOne=function(Re,je,st){var ot,xt,mt,bt=(st=st||{}).axShifts||{},dt=st.overlayingShiftedAx||[];je.setScale();var St=Re._fullLayout,gt=je._id,vt=gt.charAt(0),Mt=Z.counterLetter(gt),Bt=St._plots[je._mainSubplot];if(Bt){if(je._shiftPusher=je.autoshift||dt.indexOf(je._id)!==-1||dt.indexOf(je.overlaying)!==-1,je._shiftPusher&je.anchor==="free"){var Nt=je.linewidth/2||0;je.ticks==="inside"&&(Nt+=je.ticklen),at(je,Nt,bt,!0),at(je,je.shift||0,bt,!1)}st.skipTitle===!0&&je._shift!==void 0||(je._shift=function(pn,$t){return pn.autoshift?$t[pn.overlaying][pn.side]:pn.shift||0}(je,bt));var qt=Bt[vt+"axislayer"],an=je._mainLinePosition,Gt=an+=je._shift,Yt=je._mainMirrorPosition,en=je._vals=Z.calcTicks(je),bn=[je.mirror,Gt,Yt].join("_");for(ot=0;ot<en.length;ot++)en[ot].axInfo=bn;je._selections={},je._tickAngles&&(je._prevTickAngles=je._tickAngles),je._tickAngles={},je._depth=null;var On={};if(je.visible){var gn,Xt,ln=Z.makeTransTickFn(je),nn=Z.makeTransTickLabelFn(je),hn=je.ticks==="inside",mn=je.ticks==="outside";if(je.tickson==="boundaries"){var Mn=function(pn,$t){var Qt,fn=[],dn=function(In,zn){var Yn=In.xbnd[zn];Yn!==null&&fn.push(y.extendFlat({},In,{x:Yn}))};if($t.length){for(Qt=0;Qt<$t.length;Qt++)dn($t[Qt],0);dn($t[Qt-1],1)}return fn}(0,en);Xt=Z.clipEnds(je,Mn),gn=hn?Xt:Mn}else Xt=Z.clipEnds(je,en),gn=hn&&je.ticklabelmode!=="period"?Xt:en;var Tn,Pn=je._gridVals=Xt,yn=function(pn,$t){var Qt,fn,dn=[],In=$t.length&&$t[$t.length-1].x<$t[0].x,zn=function(Vn,nr){var Xn=Vn.xbnd[nr];Xn!==null&&dn.push(y.extendFlat({},Vn,{x:Xn}))};if(pn.showdividers&&$t.length){for(Qt=0;Qt<$t.length;Qt++){var Yn=$t[Qt];Yn.text2!==fn&&zn(Yn,In?1:0),fn=Yn.text2}zn($t[Qt-1],In?0:1)}return dn}(je,en);if(!St._hasOnlyLargeSploms){var Rn=je._subplotsWith,Zn={};for(ot=0;ot<Rn.length;ot++){xt=Rn[ot];var ir=(mt=St._plots[xt])[Mt+"axis"],sr=ir._mainAxis._id;if(!Zn[sr]){Zn[sr]=1;var tr=vt==="x"?"M0,"+ir._offset+"v"+ir._length:"M"+ir._offset+",0h"+ir._length;Z.drawGrid(Re,je,{vals:Pn,counterAxis:ir,layer:mt.gridlayer.select("."+gt),minorLayer:mt.minorGridlayer.select("."+gt),path:tr,transFn:ln}),Z.drawZeroLine(Re,je,{counterAxis:ir,layer:mt.zerolinelayer,path:tr,transFn:ln})}}}var Jn=Z.getTickSigns(je),pr=Z.getTickSigns(je,"minor");if(je.ticks||je.minor&&je.minor.ticks){var Ut,rn,cn,vn,Sn=Z.makeTickPath(je,Gt,Jn[2]),Hn=Z.makeTickPath(je,Gt,pr[2],{minor:!0});if(je._anchorAxis&&je.mirror&&je.mirror!==!0?(Ut=Z.makeTickPath(je,Yt,Jn[3]),rn=Z.makeTickPath(je,Yt,pr[3],{minor:!0}),cn=Sn+Ut,vn=Hn+rn):(Ut="",rn="",cn=Sn,vn=Hn),je.showdividers&&mn&&je.tickson==="boundaries"){var Dn={};for(ot=0;ot<yn.length;ot++)Dn[yn[ot].x]=1;Tn=function(pn){return Dn[pn.x]?Ut:cn}}else Tn=function(pn){return pn.minor?vn:cn}}if(Z.drawTicks(Re,je,{vals:gn,layer:qt,path:Tn,transFn:ln}),je.mirror==="allticks"){var Bn=Object.keys(je._linepositions||{});for(ot=0;ot<Bn.length;ot++){xt=Bn[ot],mt=St._plots[xt];var Qn=je._linepositions[xt]||[],Wt=Qn[0],An=Qn[1],Ct=Qn[2],Jt=Z.makeTickPath(je,Wt,Ct?Jn[0]:pr[0],{minor:Ct})+Z.makeTickPath(je,An,Ct?Jn[1]:pr[1],{minor:Ct});Z.drawTicks(Re,je,{vals:gn,layer:mt[vt+"axislayer"],path:Jt,transFn:ln})}}var tn=[];if(tn.push(function(){return Z.drawLabels(Re,je,{vals:en,layer:qt,plotinfo:mt,transFn:nn,labelFns:Z.makeLabelFns(je,Gt)})}),je.type==="multicategory"){var wn={x:2,y:10}[vt];tn.push(function(){var pn={x:"height",y:"width"}[vt],$t=Cn()[pn]+wn+(je._tickAngles[gt+"tick"]?je.tickfont.size*$:0);return Z.drawLabels(Re,je,{vals:ft(je,en),layer:qt,cls:gt+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ln,labelFns:Z.makeLabelFns(je,Gt+$t*Jn[4])})}),tn.push(function(){return je._depth=Jn[4]*(Cn("tick2")[je.side]-Gt),function(pn,$t,Qt){var fn=$t._id+"divider",dn=Qt.vals,In=Qt.layer.selectAll("path."+fn).data(dn,_t);In.exit().remove(),In.enter().insert("path",":first-child").classed(fn,1).classed("crisp",1).call(i.stroke,$t.dividercolor).style("stroke-width",r.crispRound(pn,$t.dividerwidth,1)+"px"),In.attr("transform",Qt.transFn).attr("d",Qt.path)}(Re,je,{vals:yn,layer:qt,path:Z.makeTickPath(je,Gt,Jn[4],{len:je._depth}),transFn:ln})})}else je.title.hasOwnProperty("standoff")&&tn.push(function(){je._depth=Jn[4]*(Cn()[je.side]-Gt)});var kn=_.getComponentMethod("rangeslider","isVisible")(je);return st.skipTitle||kn&&je.side==="bottom"||tn.push(function(){return function(pn,$t){var Qt,fn=pn._fullLayout,dn=$t._id,In=dn.charAt(0),zn=$t.title.font.size;if($t.title.hasOwnProperty("standoff"))Qt=$t._depth+$t.title.standoff+kt($t);else{var Yn=$e($t);if($t.type==="multicategory")Qt=$t._depth;else{var Vn=1.5*zn;Yn&&(Vn=.5*zn,$t.ticks==="outside"&&(Vn+=$t.ticklen)),Qt=10+Vn+($t.linewidth?$t.linewidth-1:0)}Yn||(Qt+=In==="x"?$t.side==="top"?zn*($t.showticklabels?1:0):zn*($t.showticklabels?1.5:.5):$t.side==="right"?zn*($t.showticklabels?1:.5):zn*($t.showticklabels?.5:0))}var nr,Xn,lr,ar,or=Z.getPxPosition(pn,$t);if(In==="x"?(Xn=$t._offset+$t._length/2,lr=$t.side==="top"?or-Qt:or+Qt):(lr=$t._offset+$t._length/2,Xn=$t.side==="right"?or+Qt:or-Qt,nr={rotate:"-90",offset:0}),$t.type!=="multicategory"){var dr=$t._selections[$t._id+"tick"];if(ar={selection:dr,side:$t.side},dr&&dr.node()&&dr.node().parentNode){var gr=r.getTranslate(dr.node().parentNode);ar.offsetLeft=gr.x,ar.offsetTop=gr.y}$t.title.hasOwnProperty("standoff")&&(ar.pad=0)}return $t._titleStandoff=Qt,t.draw(pn,dn+"title",{propContainer:$t,propName:$t._name+".title.text",placeholder:fn._dfltTitle[In],avoid:ar,transform:nr,attributes:{x:Xn,y:lr,"text-anchor":"middle"}})}(Re,je)}),tn.push(function(){var pn,$t,Qt,fn,dn=je.side.charAt(0),In=K[je.side].charAt(0),zn=Z.getPxPosition(Re,je),Yn=mn?je.ticklen:0;(je.automargin||kn||je._shiftPusher)&&(je.type==="multicategory"?pn=Cn("tick2"):(pn=Cn(),vt==="x"&&dn==="b"&&(je._depth=Math.max(pn.width>0?pn.bottom-zn:0,Yn))));var Vn=0,nr=0;if(je._shiftPusher&&(Vn=Math.max(Yn,pn.height>0?dn==="l"?zn-pn.left:pn.right-zn:0),je.title.text!==St._dfltTitle[vt]&&(nr=(je._titleStandoff||0)+(je._titleScoot||0),dn==="l"&&(nr+=kt(je))),je._fullDepth=Math.max(Vn,nr)),je.automargin){$t={x:0,y:0,r:0,l:0,t:0,b:0};var Xn=[0,1],lr=typeof je._shift=="number"?je._shift:0;if(vt==="x"){if(dn==="b"?$t[dn]=je._depth:($t[dn]=je._depth=Math.max(pn.width>0?zn-pn.top:0,Yn),Xn.reverse()),pn.width>0){var ar=pn.right-(je._offset+je._length);ar>0&&($t.xr=1,$t.r=ar);var or=je._offset-pn.left;or>0&&($t.xl=0,$t.l=or)}}else if(dn==="l"?(je._depth=Math.max(pn.height>0?zn-pn.left:0,Yn),$t[dn]=je._depth-lr):(je._depth=Math.max(pn.height>0?pn.right-zn:0,Yn),$t[dn]=je._depth+lr,Xn.reverse()),pn.height>0){var dr=pn.bottom-(je._offset+je._length);dr>0&&($t.yb=0,$t.b=dr);var gr=je._offset-pn.top;gr>0&&($t.yt=1,$t.t=gr)}$t[Mt]=je.anchor==="free"?je.position:je._anchorAxis.domain[Xn[0]],je.title.text!==St._dfltTitle[vt]&&($t[dn]+=kt(je)+(je.title.standoff||0)),je.mirror&&je.anchor!=="free"&&((Qt={x:0,y:0,r:0,l:0,t:0,b:0})[In]=je.linewidth,je.mirror&&je.mirror!==!0&&(Qt[In]+=Yn),je.mirror===!0||je.mirror==="ticks"?Qt[Mt]=je._anchorAxis.domain[Xn[1]]:je.mirror!=="all"&&je.mirror!=="allticks"||(Qt[Mt]=[je._counterDomainMin,je._counterDomainMax][Xn[1]]))}kn&&(fn=_.getComponentMethod("rangeslider","autoMarginOpts")(Re,je)),typeof je.automargin=="string"&&(et($t,je.automargin),et(Qt,je.automargin)),a.autoMargin(Re,ut(je),$t),a.autoMargin(Re,Et(je),Qt),a.autoMargin(Re,Ot(je),fn)}),y.syncOrAsync(tn)}}function Cn(pn){var $t=gt+(pn||"tick");return On[$t]||(On[$t]=function(Qt,fn){var dn,In,zn,Yn;return Qt._selections[fn].size()?(dn=1/0,In=-1/0,zn=1/0,Yn=-1/0,Qt._selections[fn].each(function(){var Vn=lt(this),nr=r.bBox(Vn.node().parentNode);dn=Math.min(dn,nr.top),In=Math.max(In,nr.bottom),zn=Math.min(zn,nr.left),Yn=Math.max(Yn,nr.right)})):(dn=0,In=0,zn=0,Yn=0),{top:dn,bottom:In,left:zn,right:Yn,height:In-dn,width:Yn-zn}}(je,$t)),On[$t]}},Z.getTickSigns=function(Re,je){var st=Re._id.charAt(0),ot={x:"top",y:"right"}[st],xt=Re.side===ot?1:-1,mt=[-1,1,xt,-xt];return(je?(Re.minor||{}).ticks:Re.ticks)!=="inside"==(st==="x")&&(mt=mt.map(function(bt){return-bt})),Re.side&&mt.push({l:-1,t:-1,r:1,b:1}[Re.side.charAt(0)]),mt},Z.makeTransTickFn=function(Re){return Re._id.charAt(0)==="x"?function(je){return d(Re._offset+Re.l2p(je.x),0)}:function(je){return d(0,Re._offset+Re.l2p(je.x))}},Z.makeTransTickLabelFn=function(Re){var je=function(xt){var mt=xt.ticklabelposition||"",bt=function(Yt){return mt.indexOf(Yt)!==-1},dt=bt("top"),St=bt("left"),gt=bt("right"),vt=bt("bottom"),Mt=bt("inside"),Bt=vt||St||dt||gt;if(!Bt&&!Mt)return[0,0];var Nt=xt.side,qt=Bt?(xt.tickwidth||0)/2:0,an=3,Gt=xt.tickfont?xt.tickfont.size:12;return(vt||dt)&&(qt+=Gt*te,an+=(xt.linewidth||0)/2),(St||gt)&&(qt+=(xt.linewidth||0)/2,an+=3),Mt&&Nt==="top"&&(an-=Gt*(1-te)),(St||dt)&&(qt=-qt),Nt!=="bottom"&&Nt!=="right"||(an=-an),[Bt?qt:0,Mt?an:0]}(Re),st=je[0],ot=je[1];return Re._id.charAt(0)==="x"?function(xt){return d(st+Re._offset+Re.l2p(rt(xt)),ot)}:function(xt){return d(ot,st+Re._offset+Re.l2p(rt(xt)))}},Z.makeTickPath=function(Re,je,st,ot){ot||(ot={});var xt=ot.minor;if(xt&&!Re.minor)return"";var mt=ot.len!==void 0?ot.len:xt?Re.minor.ticklen:Re.ticklen,bt=Re._id.charAt(0),dt=(Re.linewidth||1)/2;return bt==="x"?"M0,"+(je+dt*st)+"v"+mt*st:"M"+(je+dt*st)+",0h"+mt*st},Z.makeLabelFns=function(Re,je,st){var ot=Re.ticklabelposition||"",xt=function(Mn){return ot.indexOf(Mn)!==-1},mt=xt("top"),bt=xt("left"),dt=xt("right"),St=xt("bottom")||bt||mt||dt,gt=xt("inside"),vt=ot==="inside"&&Re.ticks==="inside"||!gt&&Re.ticks==="outside"&&Re.tickson!=="boundaries",Mt=0,Bt=0,Nt=vt?Re.ticklen:0;if(gt?Nt*=-1:St&&(Nt=0),vt&&(Mt+=Nt,st)){var qt=y.deg2rad(st);Mt=Nt*Math.cos(qt)+1,Bt=Nt*Math.sin(qt)}Re.showticklabels&&(vt||Re.showline)&&(Mt+=.2*Re.tickfont.size);var an,Gt,Yt,en,bn,On={labelStandoff:Mt+=(Re.linewidth||1)/2*(gt?-1:1),labelShift:Bt},gn=0,Xt=Re.side,ln=Re._id.charAt(0),nn=Re.tickangle;if(ln==="x")en=(bn=!gt&&Xt==="bottom"||gt&&Xt==="top")?1:-1,gt&&(en*=-1),an=Bt*en,Gt=je+Mt*en,Yt=bn?1:-.2,Math.abs(nn)===90&&(gt?Yt+=q:Yt=nn===-90&&Xt==="bottom"?te:nn===90&&Xt==="top"?q:.5,gn=q/2*(nn/90)),On.xFn=function(Mn){return Mn.dx+an+gn*Mn.fontSize},On.yFn=function(Mn){return Mn.dy+Gt+Mn.fontSize*Yt},On.anchorFn=function(Mn,Tn){if(St){if(bt)return"end";if(dt)return"start"}return k(Tn)&&Tn!==0&&Tn!==180?Tn*en<0!==gt?"end":"start":"middle"},On.heightFn=function(Mn,Tn,Pn){return Tn<-60||Tn>60?-.5*Pn:Re.side==="top"!==gt?-Pn:0};else if(ln==="y"){if(en=(bn=!gt&&Xt==="left"||gt&&Xt==="right")?1:-1,gt&&(en*=-1),an=Mt,Gt=Bt*en,Yt=0,gt||Math.abs(nn)!==90||(Yt=nn===-90&&Xt==="left"||nn===90&&Xt==="right"?te:.5),gt){var hn=k(nn)?+nn:0;if(hn!==0){var mn=y.deg2rad(hn);gn=Math.abs(Math.sin(mn))*te*en,Yt=0}}On.xFn=function(Mn){return Mn.dx+je-(an+Mn.fontSize*Yt)*en+gn*Mn.fontSize},On.yFn=function(Mn){return Mn.dy+Gt+Mn.fontSize*q},On.anchorFn=function(Mn,Tn){return k(Tn)&&Math.abs(Tn)===90?"middle":bn?"end":"start"},On.heightFn=function(Mn,Tn,Pn){return Re.side==="right"&&(Tn*=-1),Tn<-30?-Pn:Tn<30?-.5*Pn:0}}return On},Z.drawTicks=function(Re,je,st){st=st||{};var ot=je._id+"tick",xt=[].concat(je.minor&&je.minor.ticks?st.vals.filter(function(bt){return bt.minor&&!bt.noTick}):[]).concat(je.ticks?st.vals.filter(function(bt){return!bt.minor&&!bt.noTick}):[]),mt=st.layer.selectAll("path."+ot).data(xt,_t);mt.exit().remove(),mt.enter().append("path").classed(ot,1).classed("ticks",1).classed("crisp",st.crisp!==!1).each(function(bt){return i.stroke(M.select(this),bt.minor?je.minor.tickcolor:je.tickcolor)}).style("stroke-width",function(bt){return r.crispRound(Re,bt.minor?je.minor.tickwidth:je.tickwidth,1)+"px"}).attr("d",st.path).style("display",null),ct(je,[H]),mt.attr("transform",st.transFn)},Z.drawGrid=function(Re,je,st){if(st=st||{},je.tickmode!=="sync"){var ot=je._id+"grid",xt=je.minor&&je.minor.showgrid,mt=xt?st.vals.filter(function(Yt){return Yt.minor}):[],bt=je.showgrid?st.vals.filter(function(Yt){return!Yt.minor}):[],dt=st.counterAxis;if(dt&&Z.shouldShowZeroLine(Re,je,dt))for(var St=je.tickmode==="array",gt=0;gt<bt.length;gt++){var vt=bt[gt].x;if(St?!vt:Math.abs(vt)<je.dtick/100){if(bt=bt.slice(0,gt).concat(bt.slice(gt+1)),!St)break;gt--}}je._gw=r.crispRound(Re,je.gridwidth,1);for(var Mt=xt?r.crispRound(Re,je.minor.gridwidth,1):0,Bt=st.layer,Nt=st.minorLayer,qt=1;qt>=0;qt--){var an=qt?Bt:Nt;if(an){var Gt=an.selectAll("path."+ot).data(qt?bt:mt,_t);Gt.exit().remove(),Gt.enter().append("path").classed(ot,1).classed("crisp",st.crisp!==!1),Gt.attr("transform",st.transFn).attr("d",st.path).each(function(Yt){return i.stroke(M.select(this),Yt.minor?je.minor.gridcolor:je.gridcolor||"#ddd")}).style("stroke-dasharray",function(Yt){return r.dashStyle(Yt.minor?je.minor.griddash:je.griddash,Yt.minor?je.minor.gridwidth:je.gridwidth)}).style("stroke-width",function(Yt){return(Yt.minor?Mt:je._gw)+"px"}).style("display",null),typeof st.path=="function"&&Gt.attr("d",st.path)}}ct(je,[G,I])}},Z.drawZeroLine=function(Re,je,st){st=st||st;var ot=je._id+"zl",xt=Z.shouldShowZeroLine(Re,je,st.counterAxis),mt=st.layer.selectAll("path."+ot).data(xt?[{x:0,id:je._id}]:[]);mt.exit().remove(),mt.enter().append("path").classed(ot,1).classed("zl",1).classed("crisp",st.crisp!==!1).each(function(){st.layer.selectAll("path").sort(function(bt,dt){return ne(bt.id,dt.id)})}),mt.attr("transform",st.transFn).attr("d",st.path).call(i.stroke,je.zerolinecolor||i.defaultLine).style("stroke-width",r.crispRound(Re,je.zerolinewidth,je._gw||1)+"px").style("display",null),ct(je,[R])},Z.drawLabels=function(Re,je,st){st=st||{};var ot=Re._fullLayout,xt=je._id,mt=xt.charAt(0),bt=st.cls||xt+"tick",dt=st.vals.filter(function(Tn){return Tn.text}),St=st.labelFns,gt=st.secondary?0:je.tickangle,vt=(je._prevTickAngles||{})[bt],Mt=st.layer.selectAll("g."+bt).data(je.showticklabels?dt:[],_t),Bt=[];function Nt(Tn,Pn){Tn.each(function(yn){var Rn=M.select(this),Zn=Rn.select(".text-math-group"),ir=St.anchorFn(yn,Pn),sr=st.transFn.call(Rn.node(),yn)+(k(Pn)&&+Pn!=0?" rotate("+Pn+","+St.xFn(yn)+","+(St.yFn(yn)-yn.fontSize/2)+")":""),tr=s.lineCount(Rn),Jn=$*yn.fontSize,pr=St.heightFn(yn,k(Pn)?+Pn:0,(tr-1)*Jn);if(pr&&(sr+=d(0,pr)),Zn.empty()){var Ut=Rn.select("text");Ut.attr({transform:sr,"text-anchor":ir}),Ut.style("opacity",1),je._adjustTickLabelsOverflow&&je._adjustTickLabelsOverflow()}else{var rn=r.bBox(Zn.node()).width*{end:-.5,start:.5}[ir];Zn.attr("transform",sr+d(rn,0))}})}Mt.enter().append("g").classed(bt,1).append("text").attr("text-anchor","middle").each(function(Tn){var Pn=M.select(this),yn=Re._promises.length;Pn.call(s.positionText,St.xFn(Tn),St.yFn(Tn)).call(r.font,Tn.font,Tn.fontSize,Tn.fontColor).text(Tn.text).call(s.convertToTspans,Re),Re._promises[yn]?Bt.push(Re._promises.pop().then(function(){Nt(Pn,gt)})):Nt(Pn,gt)}),ct(je,[N]),Mt.exit().remove(),st.repositionOnUpdate&&Mt.each(function(Tn){M.select(this).select("text").call(s.positionText,St.xFn(Tn),St.yFn(Tn))}),je._adjustTickLabelsOverflow=function(){var Tn=je.ticklabeloverflow;if(Tn&&Tn!=="allow"){var Pn=Tn.indexOf("hide")!==-1,yn=je._id.charAt(0)==="x",Rn=0,Zn=yn?Re._fullLayout.width:Re._fullLayout.height;if(Tn.indexOf("domain")!==-1){var ir=y.simpleMap(je.range,je.r2l);Rn=je.l2p(ir[0])+je._offset,Zn=je.l2p(ir[1])+je._offset}var sr=Math.min(Rn,Zn),tr=Math.max(Rn,Zn),Jn=je.side,pr=1/0,Ut=-1/0;for(var rn in Mt.each(function(Sn){var Hn=M.select(this);if(Hn.select(".text-math-group").empty()){var Dn=r.bBox(Hn.node()),Bn=0;yn?(Dn.right>tr||Dn.left<sr)&&(Bn=1):(Dn.bottom>tr||Dn.top+(je.tickangle?0:Sn.fontSize/4)<sr)&&(Bn=1);var Qn=Hn.select("text");Bn?Pn&&Qn.style("opacity",0):(Qn.style("opacity",1),pr=Jn==="bottom"||Jn==="right"?Math.min(pr,yn?Dn.top:Dn.left):-1/0,Ut=Jn==="top"||Jn==="left"?Math.max(Ut,yn?Dn.bottom:Dn.right):1/0)}}),ot._plots){var cn=ot._plots[rn];if(je._id===cn.xaxis._id||je._id===cn.yaxis._id){var vn=yn?cn.yaxis:cn.xaxis;vn&&(vn["_visibleLabelMin_"+je._id]=pr,vn["_visibleLabelMax_"+je._id]=Ut)}}}},je._hideCounterAxisInsideTickLabels=function(Tn){var Pn=je._id.charAt(0)==="x",yn=[];for(var Rn in ot._plots){var Zn=ot._plots[Rn];je._id!==Zn.xaxis._id&&je._id!==Zn.yaxis._id||yn.push(Pn?Zn.yaxis:Zn.xaxis)}yn.forEach(function(ir,sr){ir&&$e(ir)&&(Tn||[R,I,G,H,N]).forEach(function(tr){var Jn=tr.K==="tick"&&tr.L==="text"&&je.ticklabelmode==="period",pr=ot._plots[je._mainSubplot];(tr.K===R.K?pr.zerolinelayer.selectAll("."+je._id+"zl"):tr.K===I.K?pr.minorGridlayer.selectAll("."+je._id):tr.K===G.K?pr.gridlayer.selectAll("."+je._id):pr[je._id.charAt(0)+"axislayer"]).each(function(){var Ut=M.select(this);tr.L&&(Ut=Ut.selectAll(tr.L)),Ut.each(function(rn){var cn=je.l2p(Jn?rt(rn):rn.x)+je._offset,vn=M.select(this);cn<je["_visibleLabelMax_"+ir._id]&&cn>je["_visibleLabelMin_"+ir._id]?vn.style("display","none"):tr.K!=="tick"||sr||vn.style("display",null)})})})})},Nt(Mt,vt+1?vt:gt);var qt=null;je._selections&&(je._selections[bt]=Mt);var an=[function(){return Bt.length&&Promise.all(Bt)}];je.automargin&&ot._redrawFromAutoMarginCount&&vt===90?(qt=90,an.push(function(){Nt(Mt,vt)})):an.push(function(){if(Nt(Mt,gt),dt.length&&mt==="x"&&!k(gt)&&(je.type!=="log"||String(je.dtick).charAt(0)!=="D")){qt=0;var Tn,Pn=0,yn=[];if(Mt.each(function(Hn){Pn=Math.max(Pn,Hn.fontSize);var Dn=je.l2p(Hn.x),Bn=lt(this),Qn=r.bBox(Bn.node());yn.push({top:0,bottom:10,height:10,left:Dn-Qn.width/2,right:Dn+Qn.width/2+2,width:Qn.width+2})}),je.tickson!=="boundaries"&&!je.showdividers||st.secondary){var Rn=dt.length,Zn=Math.abs((dt[Rn-1].x-dt[0].x)*je._m)/(Rn-1),ir=je.ticklabelposition||"",sr=function(Hn){return ir.indexOf(Hn)!==-1},tr=sr("top"),Jn=sr("left"),pr=sr("right"),Ut=sr("bottom")||Jn||tr||pr?(je.tickwidth||0)+6:0,rn=Zn<2.5*Pn||je.type==="multicategory"||je._name==="realaxis";for(Tn=0;Tn<yn.length-1;Tn++)if(y.bBoxIntersect(yn[Tn],yn[Tn+1],Ut)){qt=rn?90:30;break}}else{var cn=2;for(je.ticks&&(cn+=je.tickwidth/2),Tn=0;Tn<yn.length;Tn++){var vn=dt[Tn].xbnd,Sn=yn[Tn];if(vn[0]!==null&&Sn.left-je.l2p(vn[0])<cn||vn[1]!==null&&je.l2p(vn[1])-Sn.right<cn){qt=90;break}}}qt&&Nt(Mt,qt)}}),je._tickAngles&&an.push(function(){je._tickAngles[bt]=qt===null?k(gt)?gt:0:qt});var Gt=function(){var Tn=0,Pn=0;return Mt.each(function(yn,Rn){var Zn,ir=lt(this);ir.select(".text-math-group").empty()&&(je._vals[Rn]&&(Zn=je._vals[Rn].bb||r.bBox(ir.node()),je._vals[Rn].bb=Zn),Tn=Math.max(Tn,Zn.width),Pn=Math.max(Pn,Zn.height))}),{labelsMaxW:Tn,labelsMaxH:Pn}},Yt=je._anchorAxis;if(Yt&&(Yt.autorange||Yt.insiderange)&&$e(je)&&!re(ot,je._id)&&(ot._insideTickLabelsUpdaterange||(ot._insideTickLabelsUpdaterange={}),Yt.autorange&&(ot._insideTickLabelsUpdaterange[Yt._name+".autorange"]=Yt.autorange,an.push(Gt)),Yt.insiderange)){var en=Gt(),bn=je._id.charAt(0)==="y"?en.labelsMaxW:en.labelsMaxH;bn+=6,je.ticklabelposition==="inside"&&(bn+=je.ticklen||0);var On=je.side==="right"||je.side==="top"?1:-1,gn=On===1?1:0,Xt=On===1?0:1,ln=[];ln[Xt]=Yt.range[Xt];var nn=Yt.d2p(Yt.range[gn]),hn=Yt.d2p(Yt.range[Xt]),mn=Math.abs(hn-nn);mn-bn>0?bn*=1+bn/(mn-=bn):bn=0,je._id.charAt(0)!=="y"&&(bn=-bn),ln[gn]=Yt.p2d(Yt.d2p(Yt.range[gn])+On*bn),Yt.autorange==="min"||Yt.autorange==="max reversed"?(ln[0]=null,Yt._rangeInitial0=void 0,Yt._rangeInitial1=void 0):Yt.autorange!=="max"&&Yt.autorange!=="min reversed"||(ln[1]=null,Yt._rangeInitial0=void 0,Yt._rangeInitial1=void 0),ot._insideTickLabelsUpdaterange[Yt._name+".range"]=ln}var Mn=y.syncOrAsync(an);return Mn&&Mn.then&&Re._promises.push(Mn),Mn},Z.getPxPosition=function(Re,je){var st,ot=Re._fullLayout._size,xt=je._id.charAt(0),mt=je.side;return je.anchor!=="free"?st=je._anchorAxis:xt==="x"?st={_offset:ot.t+(1-(je.position||0))*ot.h,_length:0}:xt==="y"&&(st={_offset:ot.l+(je.position||0)*ot.w+je._shift,_length:0}),mt==="top"||mt==="left"?st._offset:mt==="bottom"||mt==="right"?st._offset+st._length:void 0},Z.shouldShowZeroLine=function(Re,je,st){var ot=y.simpleMap(je.range,je.r2l);return ot[0]*ot[1]<=0&&je.zeroline&&(je.type==="linear"||je.type==="-")&&!(je.rangebreaks&&je.maskBreaks(0)===P)&&(wt(je,0)||!function(xt,mt,bt,dt){var St=bt._mainAxis;if(St){var gt=xt._fullLayout,vt=mt._id.charAt(0),Mt=Z.counterLetter(mt._id),Bt=mt._offset+(Math.abs(dt[0])<Math.abs(dt[1])==(vt==="x")?0:mt._length),Nt=gt._plots[bt._mainSubplot];if(!(Nt.mainplotinfo||Nt).overlays.length)return Yt(bt);for(var qt=Z.list(xt,Mt),an=0;an<qt.length;an++){var Gt=qt[an];if(Gt._mainAxis===St&&Yt(Gt))return!0}}function Yt(en){if(!en.showline||!en.linewidth)return!1;var bn=Math.max((en.linewidth+mt.zerolinewidth)/2,1);function On(ln){return typeof ln=="number"&&Math.abs(ln-Bt)<bn}if(On(en._mainLinePosition)||On(en._mainMirrorPosition))return!0;var gn=en._linepositions||{};for(var Xt in gn)if(On(gn[Xt][0])||On(gn[Xt][1]))return!0}}(Re,je,st,ot)||function(xt,mt){for(var bt=xt._fullData,dt=mt._mainSubplot,St=mt._id.charAt(0),gt=0;gt<bt.length;gt++){var vt=bt[gt];if(vt.visible===!0&&vt.xaxis+vt.yaxis===dt&&(_.traceIs(vt,"bar-like")&&vt.orientation==={x:"h",y:"v"}[St]||vt.fill&&vt.fill.charAt(vt.fill.length-1)===St))return!0}return!1}(Re,je))},Z.clipEnds=function(Re,je){return je.filter(function(st){return wt(Re,st.x)})},Z.allowAutoMargin=function(Re){for(var je=Z.list(Re,"",!0),st=0;st<je.length;st++){var ot=je[st];ot.automargin&&(a.allowAutoMargin(Re,ut(ot)),ot.mirror&&a.allowAutoMargin(Re,Et(ot))),_.getComponentMethod("rangeslider","isVisible")(ot)&&a.allowAutoMargin(Re,Ot(ot))}},Z.swap=function(Re,je){for(var st=function(xt,mt){var bt,dt,St=[];for(bt=0;bt<mt.length;bt++){var gt=[],vt=xt._fullData[mt[bt]].xaxis,Mt=xt._fullData[mt[bt]].yaxis;if(vt&&Mt){for(dt=0;dt<St.length;dt++)St[dt].x.indexOf(vt)===-1&&St[dt].y.indexOf(Mt)===-1||gt.push(dt);if(gt.length){var Bt,Nt=St[gt[0]];if(gt.length>1)for(dt=1;dt<gt.length;dt++)Bt=St[gt[dt]],zt(Nt.x,Bt.x),zt(Nt.y,Bt.y);zt(Nt.x,[vt]),zt(Nt.y,[Mt])}else St.push({x:[vt],y:[Mt]})}}return St}(Re,je),ot=0;ot<st.length;ot++)Lt(Re,st[ot].x,st[ot].y)}},4322:function(Y,O,e){var M=e(92770),k=e(71828),a=e(50606).BADNUM,_=k.isArrayOrTypedArray,y=k.isDateTime,d=k.cleanNumber,s=Math.round;function t(r,n){return n?M(r):typeof r=="number"}function i(r){return Math.max(1,(r-1)/1e3)}Y.exports=function(r,n,l){var o=r,u=l.noMultiCategory;if(_(o)&&!o.length)return"-";if(!u&&function(h){return _(h[0])&&_(h[1])}(o))return"multicategory";if(u&&Array.isArray(o[0])){for(var p=[],c=0;c<o.length;c++)if(_(o[c]))for(var b=0;b<o[c].length;b++)p.push(o[c][b]);o=p}if(function(h,x){for(var v=h.length,m=i(v),w=0,f=0,S={},T=0;T<v;T+=m){var E=h[s(T)],L=String(E);S[L]||(S[L]=1,y(E,x)&&w++,M(E)&&f++)}return w>2*f}(o,n))return"date";var g=l.autotypenumbers!=="strict";return function(h,x){for(var v=h.length,m=i(v),w=0,f=0,S={},T=0;T<v;T+=m){var E=h[s(T)],L=String(E);if(!S[L]){S[L]=1;var C=typeof E;C==="boolean"?f++:(x?d(E)!==a:C==="number")?w++:C==="string"&&f++}}return f>2*w}(o,g)?"category":function(h,x){for(var v=h.length,m=0;m<v;m++)if(t(h[m],x))return!0;return!1}(o,g)?"linear":"-"}},71453:function(Y,O,e){var M=e(92770),k=e(73972),a=e(71828),_=e(44467),y=e(85501),d=e(13838),s=e(26218),t=e(38701),i=e(96115),r=e(89426),n=e(15258),l=e(92128),o=e(23608),u=e(21994),p=e(85555).WEEKDAY_PATTERN,c=e(85555).HOUR_PATTERN;function b(x,v,m){function w(R,G){return a.coerce(x,v,d.rangebreaks,R,G)}if(w("enabled")){var f=w("bounds");if(f&&f.length>=2){var S,T,E="";if(f.length===2){for(S=0;S<2;S++)if(T=h(f[S])){E=p;break}}var L=w("pattern",E);if(L===p)for(S=0;S<2;S++)(T=h(f[S]))&&(v.bounds[S]=f[S]=T-1);if(L)for(S=0;S<2;S++)switch(T=f[S],L){case p:if(!M(T)||(T=+T)!==Math.floor(T)||T<0||T>=7)return void(v.enabled=!1);v.bounds[S]=f[S]=T;break;case c:if(!M(T)||(T=+T)<0||T>24)return void(v.enabled=!1);v.bounds[S]=f[S]=T}if(m.autorange===!1){var C=m.range;if(C[0]<C[1]){if(f[0]<C[0]&&f[1]>C[1])return void(v.enabled=!1)}else if(f[0]>C[0]&&f[1]<C[1])return void(v.enabled=!1)}}else{var P=w("values");if(!P||!P.length)return void(v.enabled=!1);w("dvalue")}}}Y.exports=function(x,v,m,w,f){var S,T=w.letter,E=w.font||{},L=w.splomStash||{},C=m("visible",!w.visibleDflt),P=v._template||{},R=v.type||P.type||"-";R==="date"&&(k.getComponentMethod("calendars","handleDefaults")(x,v,"calendar",w.calendar),w.noTicklabelmode||(S=m("ticklabelmode")));var G="";w.noTicklabelposition&&R!=="multicategory"||(G=a.coerce(x,v,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:S==="period"?["outside","inside"]:T==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),w.noTicklabeloverflow||m("ticklabeloverflow",G.indexOf("inside")!==-1?"hide past domain":R==="category"||R==="multicategory"?"allow":"hide past div"),u(v,f),o(x,v,m,w),n(x,v,m,w),R==="category"||w.noHover||m("hoverformat");var I=m("color"),H=I!==d.color.dflt?I:E.color,N=L.label||f._dfltTitle[T];if(r(x,v,m,R,w),!C)return v;m("title.text",N),a.coerceFont(m,"title.font",{family:E.family,size:a.bigFont(E.size),color:H}),s(x,v,m,R);var B=w.hasMinor;if(B&&(_.newContainer(v,"minor"),s(x,v,m,R,{isMinor:!0})),i(x,v,m,R,w),t(x,v,m,w),B){var V=w.isMinor;w.isMinor=!0,t(x,v,m,w),w.isMinor=V}l(x,v,m,{dfltColor:I,bgColor:w.bgColor,showGrid:w.showGrid,hasMinor:B,attributes:d}),!B||v.minor.ticks||v.minor.showgrid||delete v.minor,(v.showline||v.ticks)&&m("mirror");var q,te=R==="multicategory";if(w.noTickson||R!=="category"&&!te||!v.ticks&&!v.showgrid||(te&&(q="boundaries"),m("tickson",q)==="boundaries"&&delete v.ticklabelposition),te&&m("showdividers")&&(m("dividercolor"),m("dividerwidth")),R==="date")if(y(x,v,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),v.rangebreaks.length){for(var $=0;$<v.rangebreaks.length;$++)if(v.rangebreaks[$].pattern===p){v._hasDayOfWeekBreaks=!0;break}if(u(v,f),f._has("scattergl")||f._has("splom"))for(var K=0;K<w.data.length;K++){var Z=w.data[K];Z.type!=="scattergl"&&Z.type!=="splom"||(Z.visible=!1,a.warn(Z.type+" traces do not work on axes with rangebreaks. Setting trace "+Z.index+" to `visible: false`."))}}else delete v.rangebreaks;return v};var g={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function h(x){if(typeof x=="string")return g[x.substr(0,3).toLowerCase()]}},12663:function(Y,O,e){var M=e(31562),k=M.FORMAT_LINK,a=M.DATE_FORMAT_LINK;function _(d,s){return["Sets the "+d+" formatting rule"+(s?"for `"+s+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+k+"."].join(" ")}function y(d,s){return _(d,s)+[" And for dates see: "+a+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}Y.exports={axisHoverFormat:function(d,s){return{valType:"string",dflt:"",editType:"none",description:(s?_:y)("hover text",d)+["By default the values are formatted using "+(s?"generic number format":"`"+d+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:_,descriptionWithDates:y}},41675:function(Y,O,e){var M=e(73972),k=e(85555);function a(_,y){if(y&&y.length){for(var d=0;d<y.length;d++)if(y[d][_])return!0}return!1}O.id2name=function(_){if(typeof _=="string"&&_.match(k.AX_ID_PATTERN)){var y=_.split(" ")[0].substr(1);return y==="1"&&(y=""),_.charAt(0)+"axis"+y}},O.name2id=function(_){if(_.match(k.AX_NAME_PATTERN)){var y=_.substr(5);return y==="1"&&(y=""),_.charAt(0)+y}},O.cleanId=function(_,y,d){var s=/( domain)$/.test(_);if(typeof _=="string"&&_.match(k.AX_ID_PATTERN)&&(!y||_.charAt(0)===y)&&(!s||d)){var t=_.split(" ")[0].substr(1).replace(/^0+/,"");return t==="1"&&(t=""),_.charAt(0)+t+(s&&d?" domain":"")}},O.list=function(_,y,d){var s=_._fullLayout;if(!s)return[];var t,i=O.listIds(_,y),r=new Array(i.length);for(t=0;t<i.length;t++){var n=i[t];r[t]=s[n.charAt(0)+"axis"+n.substr(1)]}if(!d){var l=s._subplots.gl3d||[];for(t=0;t<l.length;t++){var o=s[l[t]];y?r.push(o[y+"axis"]):r.push(o.xaxis,o.yaxis,o.zaxis)}}return r},O.listIds=function(_,y){var d=_._fullLayout;if(!d)return[];var s=d._subplots;return y?s[y+"axis"]:s.xaxis.concat(s.yaxis)},O.getFromId=function(_,y,d){var s=_._fullLayout;return y=y===void 0||typeof y!="string"?y:y.replace(" domain",""),d==="x"?y=y.replace(/y[0-9]*/,""):d==="y"&&(y=y.replace(/x[0-9]*/,"")),s[O.id2name(y)]},O.getFromTrace=function(_,y,d){var s=_._fullLayout,t=null;if(M.traceIs(y,"gl3d")){var i=y.scene;i.substr(0,5)==="scene"&&(t=s[i][d+"axis"])}else t=O.getFromId(_,y[d+"axis"]||d);return t},O.idSort=function(_,y){var d=_.charAt(0),s=y.charAt(0);return d!==s?d>s?1:-1:+(_.substr(1)||1)-+(y.substr(1)||1)},O.ref2id=function(_){return!!/^[xyz]/.test(_)&&_.split(" ")[0]},O.isLinked=function(_,y){return a(y,_._axisMatchGroups)||a(y,_._axisConstraintGroups)}},15258:function(Y){Y.exports=function(O,e,M,k){if(e.type==="category"){var a,_=O.categoryarray,y=Array.isArray(_)&&_.length>0;y&&(a="array");var d,s=M("categoryorder",a);s==="array"&&(d=M("categoryarray")),y||s!=="array"||(s=e.categoryorder="trace"),s==="trace"?e._initialCategories=[]:s==="array"?e._initialCategories=d.slice():(d=function(t,i){var r,n,l,o=i.dataAttr||t._id.charAt(0),u={};if(i.axData)r=i.axData;else for(r=[],n=0;n<i.data.length;n++){var p=i.data[n];p[o+"axis"]===t._id&&r.push(p)}for(n=0;n<r.length;n++){var c=r[n][o];for(l=0;l<c.length;l++){var b=c[l];b!=null&&(u[b]=1)}}return Object.keys(u)}(e,k).sort(),s==="category ascending"?e._initialCategories=d:s==="category descending"&&(e._initialCategories=d.reverse()))}}},66287:function(Y,O,e){var M=e(92770),k=e(71828),a=e(50606),_=a.ONEDAY,y=a.ONEWEEK;O.dtick=function(d,s){var t=s==="log",i=s==="date",r=s==="category",n=i?_:1;if(!d)return n;if(M(d))return(d=Number(d))<=0?n:r?Math.max(1,Math.round(d)):i?Math.max(.1,d):d;if(typeof d!="string"||!i&&!t)return n;var l=d.charAt(0),o=d.substr(1);return(o=M(o)?Number(o):0)<=0||!(i&&l==="M"&&o===Math.round(o)||t&&l==="L"||t&&l==="D"&&(o===1||o===2))?n:d},O.tick0=function(d,s,t,i){return s==="date"?k.cleanDate(d,k.dateTick0(t,i%y==0?1:0)):i!=="D1"&&i!=="D2"?M(d)?Number(d):0:void 0}},85555:function(Y,O,e){var M=e(30587).counter;Y.exports={idRegex:{x:M("x","( domain)?"),y:M("y","( domain)?")},attrRegex:M("[xy]axis"),xAxisMatch:M("xaxis"),yAxisMatch:M("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(Y,O,e){var M=e(71828),k=e(71739),a=e(41675).id2name,_=e(13838),y=e(42449),d=e(21994),s=e(50606).ALMOST_EQUAL,t=e(18783).FROM_BL;function i(c,b,g){var h=g.axIds,x=g.layoutOut,v=g.hasImage,m=x._axisConstraintGroups,w=x._axisMatchGroups,f=b._id,S=f.charAt(0),T=((x._splomAxes||{})[S]||{})[f]||{},E=b._id,L=E.charAt(0)==="x";function C(X,ee){return M.coerce(c,b,_,X,ee)}b._matchGroup=null,b._constraintGroup=null,C("constrain",v?"domain":"range"),M.coerce(c,b,{constraintoward:{valType:"enumerated",values:L?["left","center","right"]:["bottom","middle","top"],dflt:L?"center":"middle"}},"constraintoward");var P,R,G=b.type,I=[];for(P=0;P<h.length;P++)(R=h[P])!==E&&x[a(R)].type===G&&I.push(R);var H=n(m,E);if(H){var N=[];for(P=0;P<I.length;P++)H[R=I[P]]||N.push(R);I=N}var B,V,q=I.length;q&&(c.matches||T.matches)&&(B=M.coerce(c,b,{matches:{valType:"enumerated",values:I,dflt:I.indexOf(T.matches)!==-1?T.matches:void 0}},"matches"));var te=v&&!L?b.anchor:void 0;if(q&&!B&&(c.scaleanchor||te)&&(V=M.coerce(c,b,{scaleanchor:{valType:"enumerated",values:I.concat([!1])}},"scaleanchor",te)),B){b._matchGroup=l(w,E,B,1);var $=x[a(B)],K=r(x,b)/r(x,$);L!==(B.charAt(0)==="x")&&(K=(L?"x":"y")+K),l(m,E,B,K)}else c.matches&&h.indexOf(c.matches)!==-1&&M.warn("ignored "+b._name+'.matches: "'+c.matches+'" to avoid an infinite loop');if(V){var Z=C("scaleratio");Z||(Z=b.scaleratio=1),l(m,E,V,Z)}else c.scaleanchor&&h.indexOf(c.scaleanchor)!==-1&&M.warn("ignored "+b._name+'.scaleanchor: "'+c.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function r(c,b){var g=b.domain;return g||(g=c[a(b.overlaying)].domain),g[1]-g[0]}function n(c,b){for(var g=0;g<c.length;g++)if(c[g][b])return c[g];return null}function l(c,b,g,h){var x,v,m,w,f,S=n(c,b);S===null?((S={})[b]=1,f=c.length,c.push(S)):f=c.indexOf(S);var T=Object.keys(S);for(x=0;x<c.length;x++)if(m=c[x],x!==f&&m[g]){var E=m[g];for(v=0;v<T.length;v++)m[w=T[v]]=o(E,o(h,S[w]));return void c.splice(f,1)}if(h!==1)for(v=0;v<T.length;v++){var L=T[v];S[L]=o(h,S[L])}S[g]=1}function o(c,b){var g,h,x="",v="";typeof c=="string"&&(g=(x=c.match(/^[xy]*/)[0]).length,c=+c.substr(g)),typeof b=="string"&&(h=(v=b.match(/^[xy]*/)[0]).length,b=+b.substr(h));var m=c*b;return g||h?g&&h&&x.charAt(0)!==v.charAt(0)?g===h?m:(g>h?x.substr(h):v.substr(g))+m:x+v+c*b:m}function u(c,b){for(var g=b._size,h=g.h/g.w,x={},v=Object.keys(c),m=0;m<v.length;m++){var w=v[m],f=c[w];if(typeof f=="string"){var S=f.match(/^[xy]*/)[0],T=S.length;f=+f.substr(T);for(var E=S.charAt(0)==="y"?h:1/h,L=0;L<T;L++)f*=E}x[w]=f}return x}function p(c,b){var g=c._inputDomain,h=t[c.constraintoward],x=g[0]+(g[1]-g[0])*h;c.domain=c._input.domain=[x+(g[0]-x)/b,x+(g[1]-x)/b],c.setScale()}O.handleDefaults=function(c,b,g){var h,x,v,m,w,f,S,T,E=g.axIds,L=g.axHasImage,C=b._axisConstraintGroups=[],P=b._axisMatchGroups=[];for(h=0;h<E.length;h++)i(w=c[m=a(E[h])],f=b[m],{axIds:E,layoutOut:b,hasImage:L[m]});function R($,K){for(h=0;h<$.length;h++)for(v in x=$[h])b[a(v)][K]=x}for(R(P,"_matchGroup"),h=0;h<C.length;h++)for(v in x=C[h])if((f=b[a(v)]).fixedrange){for(var G in x){var I=a(G);(c[I]||{}).fixedrange===!1&&M.warn("fixedrange was specified as false for axis "+I+" but was overridden because another axis in its constraint group has fixedrange true"),b[I].fixedrange=!0}break}for(h=0;h<C.length;){for(v in x=C[h]){(f=b[a(v)])._matchGroup&&Object.keys(f._matchGroup).length===Object.keys(x).length&&(C.splice(h,1),h--);break}h++}R(C,"_constraintGroup");var H=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],N=!1,B=!1;function V(){T=f[S],S==="rangebreaks"&&(B=f._hasDayOfWeekBreaks)}for(h=0;h<P.length;h++){x=P[h];for(var q=0;q<H.length;q++){var te;for(v in S=H[q],T=null,x)if(w=c[m=a(v)],f=b[m],S in f){if(!f.matches&&(te=f,S in w)){V();break}T===null&&S in w&&V()}if(S==="range"&&T&&w.range&&w.range.length===2&&w.range[0]!==null&&w.range[1]!==null&&(N=!0),S==="autorange"&&T===null&&N&&(T=!1),T===null&&S in te&&(T=te[S]),T!==null)for(v in x)(f=b[a(v)])[S]=S==="range"?T.slice():T,S==="rangebreaks"&&(f._hasDayOfWeekBreaks=B,d(f,b))}}},O.enforce=function(c){var b,g,h,x,v,m,w,f,S=c._fullLayout,T=S._axisConstraintGroups||[];for(b=0;b<T.length;b++){h=u(T[b],S);var E=Object.keys(h),L=1/0,C=0,P=1/0,R={},G={},I=!1;for(g=0;g<E.length;g++)G[x=E[g]]=v=S[a(x)],v._inputDomain?v.domain=v._inputDomain.slice():v._inputDomain=v.domain.slice(),v._inputRange||(v._inputRange=v.range.slice()),v.setScale(),R[x]=m=Math.abs(v._m)/h[x],L=Math.min(L,m),v.constrain!=="domain"&&v._constraintShrinkable||(P=Math.min(P,m)),delete v._constraintShrinkable,C=Math.max(C,m),v.constrain==="domain"&&(I=!0);if(!(L>s*C)||I){for(g=0;g<E.length;g++)if(m=R[x=E[g]],w=(v=G[x]).constrain,m!==P||w==="domain")if(f=m/P,w==="range")y(v,f);else{var H=v._inputDomain,N=(v.domain[1]-v.domain[0])/(H[1]-H[0]),B=(v.r2l(v.range[1])-v.r2l(v.range[0]))/(v.r2l(v._inputRange[1])-v.r2l(v._inputRange[0]));if((f/=N)*B<1){v.domain=v._input.domain=H.slice(),y(v,f);continue}if(B<1&&(v.range=v._input.range=v._inputRange.slice(),f*=B),v.autorange){var V=v.r2l(v.range[0]),q=v.r2l(v.range[1]),te=(V+q)/2,$=te,K=te,Z=Math.abs(q-te),X=te-Z*f*1.0001,ee=te+Z*f*1.0001,ne=k.makePadFn(S,v,0),re=k.makePadFn(S,v,1);p(v,f);var ae,ue,pe=Math.abs(v._m),ge=k.concatExtremes(c,v),we=ge.min,me=ge.max;for(ue=0;ue<we.length;ue++)(ae=we[ue].val-ne(we[ue])/pe)>X&&ae<$&&($=ae);for(ue=0;ue<me.length;ue++)(ae=me[ue].val+re(me[ue])/pe)<ee&&ae>K&&(K=ae);f/=(K-$)/(2*Z),$=v.l2r($),K=v.l2r(K),v.range=v._input.range=V<q?[$,K]:[K,$]}p(v,f)}}}},O.getAxisGroup=function(c,b){for(var g=c._axisMatchGroups,h=0;h<g.length;h++)if(g[h][b])return"g"+h;return b},O.clean=function(c,b){if(b._inputDomain){for(var g=!1,h=b._id,x=c._fullLayout._axisConstraintGroups,v=0;v<x.length;v++)if(x[v][h]){g=!0;break}g&&b.constrain==="domain"||(b._input.domain=b.domain=b._inputDomain,delete b._inputDomain)}}},29323:function(Y,O,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(84267),y=e(38520),d=e(73972),s=k.strTranslate,t=e(63893),i=e(7901),r=e(91424),n=e(30211),l=e(89298),o=e(6964),u=e(28569),p=e(64505),c=p.selectingOrDrawing,b=p.freeMode,g=e(18783).FROM_TL,h=e(33306),x=e(61549).redrawReglTraces,v=e(74875),m=e(41675).getFromId,w=e(47322).prepSelect,f=e(47322).clearOutline,S=e(47322).selectOnClick,T=e(42449),E=e(85555),L=E.MINDRAG,C=E.MINZOOM,P=!0;function R(ae,ue,pe,ge){var we=k.ensureSingle(ae.draglayer,ue,pe,function(me){me.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",ae.id)});return we.call(o,ge),we.node()}function G(ae,ue,pe,ge,we,me,ve){var Ie=R(ae,"rect",ue,pe);return M.select(Ie).call(r.setRect,ge,we,me,ve),Ie}function I(ae,ue){for(var pe=0;pe<ae.length;pe++)if(!ae[pe].fixedrange)return ue;return""}function H(ae,ue,pe,ge,we){for(var me=0;me<ae.length;me++){var ve=ae[me];if(!ve.fixedrange)if(ve.rangebreaks){var Ie=ve._id.charAt(0)==="y",Se=Ie?1-ue:ue,ke=Ie?1-pe:pe;ge[ve._name+".range[0]"]=ve.l2r(ve.p2l(Se*ve._length)),ge[ve._name+".range[1]"]=ve.l2r(ve.p2l(ke*ve._length))}else{var se=ve._rl[0],oe=ve._rl[1]-se;ge[ve._name+".range[0]"]=ve.l2r(se+oe*ue),ge[ve._name+".range[1]"]=ve.l2r(se+oe*pe)}}if(we&&we.length){var he=(ue+(1-pe))/2;H(we,he,1-he,ge,[])}}function N(ae,ue){for(var pe=0;pe<ae.length;pe++){var ge=ae[pe];if(!ge.fixedrange){if(ge.rangebreaks){var we=ge._length,me=(ge.p2l(0+ue)-ge.p2l(0)+(ge.p2l(we+ue)-ge.p2l(we)))/2;ge.range=[ge.l2r(ge._rl[0]-me),ge.l2r(ge._rl[1]-me)]}else ge.range=[ge.l2r(ge._rl[0]-ue/ge._m),ge.l2r(ge._rl[1]-ue/ge._m)];ge.limitRange&&ge.limitRange()}}}function B(ae){return 1-(ae>=0?Math.min(ae,.9):1/(1/Math.max(ae,-.3)+3.222))}function V(ae,ue,pe,ge,we){return ae.append("path").attr("class","zoombox").style({fill:ue>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",s(pe,ge)).attr("d",we+"Z")}function q(ae,ue,pe){return ae.append("path").attr("class","zoombox-corners").style({fill:i.background,stroke:i.defaultLine,"stroke-width":1,opacity:0}).attr("transform",s(ue,pe)).attr("d","M0,0Z")}function te(ae,ue,pe,ge,we,me){ae.attr("d",ge+"M"+pe.l+","+pe.t+"v"+pe.h+"h"+pe.w+"v-"+pe.h+"h-"+pe.w+"Z"),$(ae,ue,we,me)}function $(ae,ue,pe,ge){pe||(ae.transition().style("fill",ge>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ue.transition().style("opacity",1).duration(200))}function K(ae){M.select(ae).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function Z(ae){P&&ae.data&&ae._context.showTips&&(k.notifier(k._(ae,"Double-click to zoom back out"),"long"),P=!1)}function X(ae){var ue=Math.floor(Math.min(ae.b-ae.t,ae.r-ae.l,C)/2);return"M"+(ae.l-3.5)+","+(ae.t-.5+ue)+"h3v"+-ue+"h"+ue+"v-3h-"+(ue+3)+"ZM"+(ae.r+3.5)+","+(ae.t-.5+ue)+"h-3v"+-ue+"h"+-ue+"v-3h"+(ue+3)+"ZM"+(ae.r+3.5)+","+(ae.b+.5-ue)+"h-3v"+ue+"h"+-ue+"v3h"+(ue+3)+"ZM"+(ae.l-3.5)+","+(ae.b+.5-ue)+"h3v"+ue+"h"+ue+"v3h-"+(ue+3)+"Z"}function ee(ae,ue,pe,ge,we){for(var me,ve,Ie,Se,ke=!1,se={},oe={},he=(we||{}).xaHash,Le=(we||{}).yaHash,Me=0;Me<ue.length;Me++){var _e=ue[Me];for(me in pe)if(_e[me]){for(Ie in _e)we&&(he[Ie]||Le[Ie])||(Ie.charAt(0)==="x"?pe:ge)[Ie]||(se[Ie]=me);for(ve in ge)we&&(he[ve]||Le[ve])||!_e[ve]||(ke=!0)}for(ve in ge)if(_e[ve])for(Se in _e)we&&(he[Se]||Le[Se])||(Se.charAt(0)==="x"?pe:ge)[Se]||(oe[Se]=ve)}ke&&(k.extendFlat(se,oe),oe={});var De={},Ne=[];for(Ie in se){var ce=m(ae,Ie);Ne.push(ce),De[ce._id]=ce}var Te={},ye=[];for(Se in oe){var Oe=m(ae,Se);ye.push(Oe),Te[Oe._id]=Oe}return{xaHash:De,yaHash:Te,xaxes:Ne,yaxes:ye,xLinks:se,yLinks:oe,isSubplotConstrained:ke}}function ne(ae,ue){if(y){var pe=ae.onwheel!==void 0?"wheel":"mousewheel";ae._onwheel&&ae.removeEventListener(pe,ae._onwheel),ae._onwheel=ue,ae.addEventListener(pe,ue,{passive:!1})}else ae.onwheel!==void 0?ae.onwheel=ue:ae.onmousewheel!==void 0?ae.onmousewheel=ue:ae.isAddedWheelEvent||(ae.isAddedWheelEvent=!0,ae.addEventListener("wheel",ue,{passive:!1}))}function re(ae){var ue=[];for(var pe in ae)ue.push(ae[pe]);return ue}Y.exports={makeDragBox:function(ae,ue,pe,ge,we,me,ve,Ie){var Se,ke,se,oe,he,Le,Me,_e,De,Ne,ce,Te,ye,Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt,wt=ae._fullLayout._zoomlayer,lt=ve+Ie==="nsew",ut=(ve+Ie).length===1;function Et(){if(Se=ue.xaxis,ke=ue.yaxis,De=Se._length,Ne=ke._length,Me=Se._offset,_e=ke._offset,(se={})[Se._id]=Se,(oe={})[ke._id]=ke,ve&&Ie)for(var Xt=ue.overlays,ln=0;ln<Xt.length;ln++){var nn=Xt[ln].xaxis;se[nn._id]=nn;var hn=Xt[ln].yaxis;oe[hn._id]=hn}he=re(se),Le=re(oe),ye=I(he,Ie),Oe=I(Le,ve),Be=!Oe&&!ye,Te=ee(ae,ae._fullLayout._axisMatchGroups,se,oe);var mn=(ce=ee(ae,ae._fullLayout._axisConstraintGroups,se,oe,Te)).isSubplotConstrained||Te.isSubplotConstrained;Fe=Ie||mn,Ge=ve||mn;var Mn=ae._fullLayout;Ze=Mn._has("scattergl"),et=Mn._has("splom"),ft=Mn._has("svg")}pe+=ue.yaxis._shift,Et();var Ot=function(Xt,ln,nn){return Xt?Xt==="nsew"?nn?"":ln==="pan"?"move":"crosshair":Xt.toLowerCase()+"-resize":"pointer"}(Oe+ye,ae._fullLayout.dragmode,lt),zt=G(ue,ve+Ie+"drag",Ot,pe,ge,we,me);if(Be&&!lt)return zt.onmousedown=null,zt.style.pointerEvents="none",zt;var Lt,Je,Qe,qe,$e,ct,at,Re,je,st,ot={element:zt,gd:ae,plotinfo:ue};function xt(){ot.plotinfo.selection=!1,f(ae)}function mt(Xt,ln){var nn=ot.gd;if(nn._fullLayout._activeShapeIndex>=0)nn._fullLayout._deactivateShape(nn);else{var hn=nn._fullLayout.clickmode;if(K(nn),Xt!==2||ut||Gt(),lt)hn.indexOf("select")>-1&&S(ln,nn,he,Le,ue.id,ot),hn.indexOf("event")>-1&&n.click(nn,ln,ue.id);else if(Xt===1&&ut){var mn=ve?ke:Se,Mn=ve==="s"||Ie==="w"?0:1,Tn=mn._name+".range["+Mn+"]",Pn=function(Zn,ir){var sr,tr=Zn.range[ir],Jn=Math.abs(tr-Zn.range[1-ir]);return Zn.type==="date"?tr:Zn.type==="log"?(sr=Math.ceil(Math.max(0,-Math.log(Jn)/Math.LN10))+3,a("."+sr+"g")(Math.pow(10,tr))):(sr=Math.floor(Math.log(Math.abs(tr))/Math.LN10)-Math.floor(Math.log(Jn)/Math.LN10)+4,a("."+String(sr)+"g")(tr))}(mn,Mn),yn="left",Rn="middle";if(mn.fixedrange)return;ve?(Rn=ve==="n"?"top":"bottom",mn.side==="right"&&(yn="right")):Ie==="e"&&(yn="right"),nn._context.showAxisRangeEntryBoxes&&M.select(zt).call(t.makeEditable,{gd:nn,immediate:!0,background:nn._fullLayout.paper_bgcolor,text:String(Pn),fill:mn.tickfont?mn.tickfont.color:"#444",horizontalAlign:yn,verticalAlign:Rn}).on("edit",function(Zn){var ir=mn.d2r(Zn);ir!==void 0&&d.call("_guiRelayout",nn,Tn,ir)})}}}function bt(Xt,ln){if(ae._transitioningWithDuration)return!1;var nn=Math.max(0,Math.min(De,_t*Xt+Lt)),hn=Math.max(0,Math.min(Ne,kt*ln+Je)),mn=Math.abs(nn-Lt),Mn=Math.abs(hn-Je);function Tn(){at="",Qe.r=Qe.l,Qe.t=Qe.b,je.attr("d","M0,0Z")}if(Qe.l=Math.min(Lt,nn),Qe.r=Math.max(Lt,nn),Qe.t=Math.min(Je,hn),Qe.b=Math.max(Je,hn),ce.isSubplotConstrained)mn>C||Mn>C?(at="xy",mn/De>Mn/Ne?(Mn=mn*Ne/De,Je>hn?Qe.t=Je-Mn:Qe.b=Je+Mn):(mn=Mn*De/Ne,Lt>nn?Qe.l=Lt-mn:Qe.r=Lt+mn),je.attr("d",X(Qe))):Tn();else if(Te.isSubplotConstrained)if(mn>C||Mn>C){at="xy";var Pn=Math.min(Qe.l/De,(Ne-Qe.b)/Ne),yn=Math.max(Qe.r/De,(Ne-Qe.t)/Ne);Qe.l=Pn*De,Qe.r=yn*De,Qe.b=(1-Pn)*Ne,Qe.t=(1-yn)*Ne,je.attr("d",X(Qe))}else Tn();else!Oe||Mn<Math.min(Math.max(.6*mn,L),C)?mn<L||!ye?Tn():(Qe.t=0,Qe.b=Ne,at="x",je.attr("d",function(Rn,Zn){return"M"+(Rn.l-.5)+","+(Zn-C-.5)+"h-3v"+(2*C+1)+"h3ZM"+(Rn.r+.5)+","+(Zn-C-.5)+"h3v"+(2*C+1)+"h-3Z"}(Qe,Je))):!ye||mn<Math.min(.6*Mn,C)?(Qe.l=0,Qe.r=De,at="y",je.attr("d",function(Rn,Zn){return"M"+(Zn-C-.5)+","+(Rn.t-.5)+"v-3h"+(2*C+1)+"v3ZM"+(Zn-C-.5)+","+(Rn.b+.5)+"v3h"+(2*C+1)+"v-3Z"}(Qe,Lt))):(at="xy",je.attr("d",X(Qe)));Qe.w=Qe.r-Qe.l,Qe.h=Qe.b-Qe.t,at&&(st=!0),ae._dragged=st,te(Re,je,Qe,$e,ct,qe),dt(),ae.emit("plotly_relayouting",rt),ct=!0}function dt(){rt={},at!=="xy"&&at!=="x"||(H(he,Qe.l/De,Qe.r/De,rt,ce.xaxes),qt("x",rt)),at!=="xy"&&at!=="y"||(H(Le,(Ne-Qe.b)/Ne,(Ne-Qe.t)/Ne,rt,ce.yaxes),qt("y",rt))}function St(){dt(),K(ae),Yt(),Z(ae)}ot.prepFn=function(Xt,ln,nn){var hn=ot.dragmode,mn=ae._fullLayout.dragmode;mn!==hn&&(ot.dragmode=mn),Et(),_t=ae._fullLayout._invScaleX,kt=ae._fullLayout._invScaleY,Be||(lt?Xt.shiftKey?mn==="pan"?mn="zoom":c(mn)||(mn="pan"):Xt.ctrlKey&&(mn="pan"):mn="pan"),b(mn)?ot.minDrag=1:ot.minDrag=void 0,c(mn)?(ot.xaxes=he,ot.yaxes=Le,w(Xt,ln,nn,ot,mn)):(ot.clickFn=mt,c(hn)&&xt(),Be||(mn==="zoom"?(ot.moveFn=bt,ot.doneFn=St,ot.minDrag=1,function(Mn,Tn,Pn){var yn=zt.getBoundingClientRect();Lt=Tn-yn.left,Je=Pn-yn.top,ae._fullLayout._calcInverseTransform(ae);var Rn=k.apply3DTransform(ae._fullLayout._invTransform)(Lt,Je);Lt=Rn[0],Je=Rn[1],Qe={l:Lt,r:Lt,w:0,t:Je,b:Je,h:0},qe=ae._hmpixcount?ae._hmlumcount/ae._hmpixcount:_(ae._fullLayout.plot_bgcolor).getLuminance(),ct=!1,at="xy",st=!1,Re=V(wt,qe,Me,_e,$e="M0,0H"+De+"V"+Ne+"H0V0"),je=q(wt,Me,_e)}(0,ln,nn)):mn==="pan"&&(ot.moveFn=Nt,ot.doneFn=Yt))),ae._fullLayout._redrag=function(){var Mn=ae._dragdata;if(Mn&&Mn.element===zt){var Tn=ae._fullLayout.dragmode;c(Tn)||(Et(),en([0,0,De,Ne]),ot.moveFn(Mn.dx,Mn.dy))}}},u.init(ot);var gt=[0,0,De,Ne],vt=null,Mt=E.REDRAWDELAY,Bt=ue.mainplot?ae._fullLayout._plots[ue.mainplot]:ue;function Nt(Xt,ln){if(Xt*=_t,ln*=kt,!ae._transitioningWithDuration){if(ae._fullLayout._replotting=!0,ye==="ew"||Oe==="ns"){var nn=ye?-Xt:0,hn=Oe?-ln:0;if(Te.isSubplotConstrained){if(ye&&Oe){var mn=(Xt/De-ln/Ne)/2;nn=-(Xt=mn*De),hn=-(ln=-mn*Ne)}Oe?nn=-hn*De/Ne:hn=-nn*Ne/De}return ye&&(N(he,Xt),qt("x")),Oe&&(N(Le,ln),qt("y")),en([nn,hn,De,Ne]),an(),void ae.emit("plotly_relayouting",rt)}var Mn,Tn,Pn=ye==="w"==(Oe==="n")?1:-1;if(ye&&Oe&&(ce.isSubplotConstrained||Te.isSubplotConstrained)){var yn=(Xt/De+Pn*ln/Ne)/2;Xt=yn*De,ln=Pn*yn*Ne}if(ye==="w"?Xt=sr(he,0,Xt):ye==="e"?Xt=sr(he,1,-Xt):ye||(Xt=0),Oe==="n"?ln=sr(Le,1,ln):Oe==="s"?ln=sr(Le,0,-ln):Oe||(ln=0),Mn=ye==="w"?Xt:0,Tn=Oe==="n"?ln:0,ce.isSubplotConstrained&&!Te.isSubplotConstrained||Te.isSubplotConstrained&&ye&&Oe&&Pn>0){var Rn;if(Te.isSubplotConstrained||!ye&&Oe.length===1){for(Rn=0;Rn<he.length;Rn++)he[Rn].range=he[Rn]._r.slice(),T(he[Rn],1-ln/Ne);Mn=(Xt=ln*De/Ne)/2}if(Te.isSubplotConstrained||!Oe&&ye.length===1){for(Rn=0;Rn<Le.length;Rn++)Le[Rn].range=Le[Rn]._r.slice(),T(Le[Rn],1-Xt/De);Tn=(ln=Xt*Ne/De)/2}}Te.isSubplotConstrained&&Oe||qt("x"),Te.isSubplotConstrained&&ye||qt("y");var Zn=De-Xt,ir=Ne-ln;!Te.isSubplotConstrained||ye&&Oe||(ye?(Tn=Mn?0:Xt*Ne/De,ir=Zn*Ne/De):(Mn=Tn?0:ln*De/Ne,Zn=ir*De/Ne)),en([Mn,Tn,Zn,ir]),an(),ae.emit("plotly_relayouting",rt)}function sr(tr,Jn,pr){for(var Ut,rn,cn=1-Jn,vn=0;vn<tr.length;vn++){var Sn=tr[vn];if(!Sn.fixedrange){Ut=Sn,rn=Sn._rl[cn]+(Sn._rl[Jn]-Sn._rl[cn])/B(pr/Sn._length);var Hn=Sn.l2r(rn);Hn!==!1&&Hn!==void 0&&(Sn.range[Jn]=Hn)}}return Ut._length*(Ut._rl[Jn]-rn)/(Ut._rl[Jn]-Ut._rl[cn])}}function qt(Xt,ln){for(var nn=Te.isSubplotConstrained?{x:Le,y:he}[Xt]:Te[Xt+"axes"],hn=Te.isSubplotConstrained?{x:he,y:Le}[Xt]:[],mn=0;mn<nn.length;mn++){var Mn=nn[mn],Tn=Mn._id,Pn=Te.xLinks[Tn]||Te.yLinks[Tn],yn=hn[0]||se[Pn]||oe[Pn];yn&&(ln?(ln[Mn._name+".range[0]"]=ln[yn._name+".range[0]"],ln[Mn._name+".range[1]"]=ln[yn._name+".range[1]"]):Mn.range=yn.range.slice())}}function an(){var Xt,ln=[];function nn(Tn){for(Xt=0;Xt<Tn.length;Xt++)Tn[Xt].fixedrange||ln.push(Tn[Xt]._id)}function hn(Tn,Pn){for(Xt=0;Xt<Tn.length;Xt++){var yn=Tn[Xt],Rn=yn[Pn];yn.fixedrange||Rn.tickmode!=="sync"||ln.push(Rn._id)}}for(Fe&&(nn(he),nn(ce.xaxes),nn(Te.xaxes),hn(ue.overlays,"xaxis")),Ge&&(nn(Le),nn(ce.yaxes),nn(Te.yaxes),hn(ue.overlays,"yaxis")),rt={},Xt=0;Xt<ln.length;Xt++){var mn=ln[Xt],Mn=m(ae,mn);l.drawOne(ae,Mn,{skipTitle:!0}),rt[Mn._name+".range[0]"]=Mn.range[0],rt[Mn._name+".range[1]"]=Mn.range[1]}l.redrawComponents(ae,ln)}function Gt(){if(!ae._transitioningWithDuration){var Xt=ae._context.doubleClick,ln=[];ye&&(ln=ln.concat(he)),Oe&&(ln=ln.concat(Le)),Te.xaxes&&(ln=ln.concat(Te.xaxes)),Te.yaxes&&(ln=ln.concat(Te.yaxes));var nn,hn,mn={};if(Xt==="reset+autosize")for(Xt="autosize",hn=0;hn<ln.length;hn++){var Mn=(nn=ln[hn])._rangeInitial0,Tn=nn._rangeInitial1,Pn=Mn!==void 0||Tn!==void 0;if(Pn&&(Mn!==void 0&&Mn!==nn.range[0]||Tn!==void 0&&Tn!==nn.range[1])||!Pn&&nn.autorange!==!0){Xt="reset";break}}if(Xt==="autosize")for(hn=0;hn<ln.length;hn++)(nn=ln[hn]).fixedrange||(mn[nn._name+".autorange"]=!0);else if(Xt==="reset"){for((ye||ce.isSubplotConstrained)&&(ln=ln.concat(ce.xaxes)),Oe&&!ce.isSubplotConstrained&&(ln=ln.concat(ce.yaxes)),ce.isSubplotConstrained&&(ye?Oe||(ln=ln.concat(Le)):ln=ln.concat(he)),hn=0;hn<ln.length;hn++)if(!(nn=ln[hn]).fixedrange){var yn=nn._name,Rn=nn._autorangeInitial;nn._rangeInitial0===void 0&&nn._rangeInitial1===void 0?mn[yn+".autorange"]=!0:nn._rangeInitial0===void 0?(mn[yn+".autorange"]=Rn,mn[yn+".range"]=[null,nn._rangeInitial1]):nn._rangeInitial1===void 0?(mn[yn+".range"]=[nn._rangeInitial0,null],mn[yn+".autorange"]=Rn):mn[yn+".range"]=[nn._rangeInitial0,nn._rangeInitial1]}}ae.emit("plotly_doubleclick",null),d.call("_guiRelayout",ae,mn)}}function Yt(){en([0,0,De,Ne]),k.syncOrAsync([v.previousPromises,function(){ae._fullLayout._replotting=!1,d.call("_guiRelayout",ae,rt)}],ae)}function en(Xt){var ln,nn,hn,mn,Mn=ae._fullLayout,Tn=Mn._plots,Pn=Mn._subplots.cartesian;if(et&&d.subplotsRegistry.splom.drag(ae),Ze){for(ln=0;ln<Pn.length;ln++)if(hn=(nn=Tn[Pn[ln]]).xaxis,mn=nn.yaxis,nn._scene){var yn=k.simpleMap(hn.range,hn.r2l),Rn=k.simpleMap(mn.range,mn.r2l);hn.limitRange&&hn.limitRange(),mn.limitRange&&mn.limitRange(),yn=hn.range,Rn=mn.range,nn._scene.update({range:[yn[0],Rn[0],yn[1],Rn[1]]})}}if((et||Ze)&&(h(ae),x(ae)),ft){var Zn=Xt[2]/Se._length,ir=Xt[3]/ke._length;for(ln=0;ln<Pn.length;ln++){hn=(nn=Tn[Pn[ln]]).xaxis,mn=nn.yaxis;var sr,tr,Jn,pr,Ut=(Fe||Te.isSubplotConstrained)&&!hn.fixedrange&&se[hn._id],rn=(Ge||Te.isSubplotConstrained)&&!mn.fixedrange&&oe[mn._id];if(Ut?(sr=Zn,Jn=Ie||Te.isSubplotConstrained?Xt[0]:gn(hn,sr)):Te.xaHash[hn._id]?(sr=Zn,Jn=Xt[0]*hn._length/Se._length):Te.yaHash[hn._id]?(sr=ir,Jn=Oe==="ns"?-Xt[1]*hn._length/ke._length:gn(hn,sr,{n:"top",s:"bottom"}[Oe])):Jn=On(hn,sr=bn(hn,Zn,ir)),sr>1&&(hn.maxallowed!==void 0&&Fe===(hn.range[0]<hn.range[1]?"e":"w")||hn.minallowed!==void 0&&Fe===(hn.range[0]<hn.range[1]?"w":"e"))&&(sr=1,Jn=0),rn?(tr=ir,pr=ve||Te.isSubplotConstrained?Xt[1]:gn(mn,tr)):Te.yaHash[mn._id]?(tr=ir,pr=Xt[1]*mn._length/ke._length):Te.xaHash[mn._id]?(tr=Zn,pr=ye==="ew"?-Xt[0]*mn._length/Se._length:gn(mn,tr,{e:"right",w:"left"}[ye])):pr=On(mn,tr=bn(mn,Zn,ir)),tr>1&&(mn.maxallowed!==void 0&&Ge===(mn.range[0]<mn.range[1]?"n":"s")||mn.minallowed!==void 0&&Ge===(mn.range[0]<mn.range[1]?"s":"n"))&&(tr=1,pr=0),sr||tr){sr||(sr=1),tr||(tr=1);var cn=hn._offset-Jn/sr,vn=mn._offset-pr/tr;nn.clipRect.call(r.setTranslate,Jn,pr).call(r.setScale,sr,tr),nn.plot.call(r.setTranslate,cn,vn).call(r.setScale,1/sr,1/tr),sr===nn.xScaleFactor&&tr===nn.yScaleFactor||(r.setPointGroupScale(nn.zoomScalePts,sr,tr),r.setTextPointsScale(nn.zoomScaleTxt,sr,tr)),r.hideOutsideRangePoints(nn.clipOnAxisFalseTraces,nn),nn.xScaleFactor=sr,nn.yScaleFactor=tr}}}}function bn(Xt,ln,nn){return Xt.fixedrange?0:Fe&&ce.xaHash[Xt._id]?ln:Ge&&(ce.isSubplotConstrained?ce.xaHash:ce.yaHash)[Xt._id]?nn:0}function On(Xt,ln){return ln?(Xt.range=Xt._r.slice(),T(Xt,ln),gn(Xt,ln)):0}function gn(Xt,ln,nn){return Xt._length*(1-ln)*g[nn||Xt.constraintoward||"middle"]}return ve.length*Ie.length!=1&&ne(zt,function(Xt){if(ae._context._scrollZoom.cartesian||ae._fullLayout._enablescrollzoom){if(xt(),ae._transitioningWithDuration)return Xt.preventDefault(),void Xt.stopPropagation();Et(),clearTimeout(vt);var ln=-Xt.deltaY;if(isFinite(ln)||(ln=Xt.wheelDelta/10),isFinite(ln)){var nn,hn=Math.exp(-Math.min(Math.max(ln,-20),20)/200),mn=Bt.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Mn=(Xt.clientX-mn.left)/mn.width,Tn=(mn.bottom-Xt.clientY)/mn.height;if(Fe){for(Ie||(Mn=.5),nn=0;nn<he.length;nn++)Pn(he[nn],Mn,hn);qt("x"),gt[2]*=hn,gt[0]+=gt[2]*Mn*(1/hn-1)}if(Ge){for(ve||(Tn=.5),nn=0;nn<Le.length;nn++)Pn(Le[nn],Tn,hn);qt("y"),gt[3]*=hn,gt[1]+=gt[3]*(1-Tn)*(1/hn-1)}en(gt),an(),ae.emit("plotly_relayouting",rt),vt=setTimeout(function(){ae._fullLayout&&(gt=[0,0,De,Ne],Yt())},Mt),Xt.preventDefault()}else k.log("Did not find wheel motion attributes: ",Xt)}function Pn(yn,Rn,Zn){if(!yn.fixedrange){var ir=k.simpleMap(yn.range,yn.r2l),sr=ir[0]+(ir[1]-ir[0])*Rn;yn.range=ir.map(function(tr){return yn.l2r(sr+(tr-sr)*Zn)})}}}),zt},makeDragger:R,makeRectDragger:G,makeZoombox:V,makeCorners:q,updateZoombox:te,xyCorners:X,transitionZoombox:$,removeZoombox:K,showDoubleClickNotifier:Z,attachWheelEventHandler:ne}},4305:function(Y,O,e){var M=e(39898),k=e(30211),a=e(28569),_=e(6964),y=e(29323).makeDragBox,d=e(85555).DRAGGERSIZE;O.initInteractions=function(s){var t=s._fullLayout;if(s._context.staticPlot)M.select(s).selectAll(".drag").remove();else if(t._has("cartesian")||t._has("splom")){Object.keys(t._plots||{}).sort(function(r,n){if((t._plots[r].mainplot&&!0)===(t._plots[n].mainplot&&!0)){var l=r.split("y"),o=n.split("y");return l[0]===o[0]?Number(l[1]||1)-Number(o[1]||1):Number(l[0]||1)-Number(o[0]||1)}return t._plots[r].mainplot?1:-1}).forEach(function(r){var n=t._plots[r],l=n.xaxis,o=n.yaxis;if(!n.mainplot){var u=y(s,n,l._offset,o._offset,l._length,o._length,"ns","ew");u.onmousemove=function(b){s._fullLayout._rehover=function(){s._fullLayout._hoversubplot===r&&s._fullLayout._plots[r]&&k.hover(s,b,r)},k.hover(s,b,r),s._fullLayout._lasthover=u,s._fullLayout._hoversubplot=r},u.onmouseout=function(b){s._dragging||(s._fullLayout._hoversubplot=null,a.unhover(s,b))},s._context.showAxisDragHandles&&(y(s,n,l._offset-d,o._offset-d,d,d,"n","w"),y(s,n,l._offset+l._length,o._offset-d,d,d,"n","e"),y(s,n,l._offset-d,o._offset+o._length,d,d,"s","w"),y(s,n,l._offset+l._length,o._offset+o._length,d,d,"s","e"))}if(s._context.showAxisDragHandles){if(r===l._mainSubplot){var p=l._mainLinePosition;l.side==="top"&&(p-=d),y(s,n,l._offset+.1*l._length,p,.8*l._length,d,"","ew"),y(s,n,l._offset,p,.1*l._length,d,"","w"),y(s,n,l._offset+.9*l._length,p,.1*l._length,d,"","e")}if(r===o._mainSubplot){var c=o._mainLinePosition;o.side!=="right"&&(c-=d),y(s,n,c,o._offset+.1*o._length,d,.8*o._length,"ns",""),y(s,n,c,o._offset+.9*o._length,d,.1*o._length,"s",""),y(s,n,c,o._offset,d,.1*o._length,"n","")}}});var i=t._hoverlayer.node();i.onmousemove=function(r){r.target=s._fullLayout._lasthover,k.hover(s,r,t._hoversubplot)},i.onclick=function(r){r.target=s._fullLayout._lasthover,k.click(s,r)},i.onmousedown=function(r){s._fullLayout._lasthover.onmousedown(r)},O.updateFx(s)}},O.updateFx=function(s){var t=s._fullLayout,i=t.dragmode==="pan"?"move":"crosshair";_(t._draggers,i)}},76325:function(Y,O,e){var M=e(73972),k=e(71828),a=e(41675);Y.exports=function(_){return function(y,d){var s=y[_];if(Array.isArray(s))for(var t=M.subplotsRegistry.cartesian,i=t.idRegex,r=d._subplots,n=r.xaxis,l=r.yaxis,o=r.cartesian,u=d._has("cartesian")||d._has("gl2d"),p=0;p<s.length;p++){var c=s[p];if(k.isPlainObject(c)){var b=a.cleanId(c.xref,"x",!1),g=a.cleanId(c.yref,"y",!1),h=i.x.test(b),x=i.y.test(g);if(h||x){u||k.pushUnique(d._basePlotModules,t);var v=!1;h&&n.indexOf(b)===-1&&(n.push(b),v=!0),x&&l.indexOf(g)===-1&&(l.push(g),v=!0),v&&h&&x&&o.push(b+g)}}}}}},93612:function(Y,O,e){var M=e(39898),k=e(73972),a=e(71828),_=e(74875),y=e(91424),d=e(27659).a0,s=e(41675),t=e(85555),i=e(77922),r=a.ensureSingle;function n(c,b,g){return a.ensureSingle(c,b,g,function(h){h.datum(g)})}function l(c,b,g,h,x){for(var v,m,w,f=t.traceLayerClasses,S=c._fullLayout,T=S._modules,E=[],L=[],C=0;C<T.length;C++){var P=(v=T[C]).name,R=k.modules[P].categories;if(R.svg){var G=v.layerName||P+"layer",I=v.plot;w=(m=d(g,I))[0],g=m[1],w.length&&E.push({i:f.indexOf(G),className:G,plotMethod:I,cdModule:w}),R.zoomScale&&L.push("."+G)}}E.sort(function(B,V){return B.i-V.i});var H=b.plot.selectAll("g.mlayer").data(E,function(B){return B.className});if(H.enter().append("g").attr("class",function(B){return B.className}).classed("mlayer",!0).classed("rangeplot",b.isRangePlot),H.exit().remove(),H.order(),H.each(function(B){var V=M.select(this),q=B.className;B.plotMethod(c,b,B.cdModule,V,h,x),t.clipOnAxisFalseQuery.indexOf("."+q)===-1&&y.setClipUrl(V,b.layerClipId,c)}),S._has("scattergl")&&(v=k.getModule("scattergl"),w=d(g,v)[0],v.plot(c,b,w)),!c._context.staticPlot&&(b._hasClipOnAxisFalse&&(b.clipOnAxisFalseTraces=b.plot.selectAll(t.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),L.length)){var N=b.plot.selectAll(L.join(",")).selectAll(".trace");b.zoomScalePts=N.selectAll("path.point"),b.zoomScaleTxt=N.selectAll(".textpoint")}}function o(c,b){var g=b.plotgroup,h=b.id,x=t.layerValue2layerClass[b.xaxis.layer],v=t.layerValue2layerClass[b.yaxis.layer],m=c._fullLayout._hasOnlyLargeSploms;if(b.mainplot){var w=b.mainplotinfo,f=w.plotgroup,S=h+"-x",T=h+"-y";b.minorGridlayer=w.minorGridlayer,b.gridlayer=w.gridlayer,b.zerolinelayer=w.zerolinelayer,r(w.overlinesBelow,"path",S),r(w.overlinesBelow,"path",T),r(w.overaxesBelow,"g",S),r(w.overaxesBelow,"g",T),b.plot=r(w.overplot,"g",h),r(w.overlinesAbove,"path",S),r(w.overlinesAbove,"path",T),r(w.overaxesAbove,"g",S),r(w.overaxesAbove,"g",T),b.xlines=f.select(".overlines-"+x).select("."+S),b.ylines=f.select(".overlines-"+v).select("."+T),b.xaxislayer=f.select(".overaxes-"+x).select("."+S),b.yaxislayer=f.select(".overaxes-"+v).select("."+T)}else if(m)b.xlines=r(g,"path","xlines-above"),b.ylines=r(g,"path","ylines-above"),b.xaxislayer=r(g,"g","xaxislayer-above"),b.yaxislayer=r(g,"g","yaxislayer-above");else{var E=r(g,"g","layer-subplot");b.shapelayer=r(E,"g","shapelayer"),b.imagelayer=r(E,"g","imagelayer"),b.minorGridlayer=r(g,"g","minor-gridlayer"),b.gridlayer=r(g,"g","gridlayer"),b.zerolinelayer=r(g,"g","zerolinelayer"),r(g,"path","xlines-below"),r(g,"path","ylines-below"),b.overlinesBelow=r(g,"g","overlines-below"),r(g,"g","xaxislayer-below"),r(g,"g","yaxislayer-below"),b.overaxesBelow=r(g,"g","overaxes-below"),b.plot=r(g,"g","plot"),b.overplot=r(g,"g","overplot"),b.xlines=r(g,"path","xlines-above"),b.ylines=r(g,"path","ylines-above"),b.overlinesAbove=r(g,"g","overlines-above"),r(g,"g","xaxislayer-above"),r(g,"g","yaxislayer-above"),b.overaxesAbove=r(g,"g","overaxes-above"),b.xlines=g.select(".xlines-"+x),b.ylines=g.select(".ylines-"+v),b.xaxislayer=g.select(".xaxislayer-"+x),b.yaxislayer=g.select(".yaxislayer-"+v)}m||(n(b.minorGridlayer,"g",b.xaxis._id),n(b.minorGridlayer,"g",b.yaxis._id),b.minorGridlayer.selectAll("g").map(function(L){return L[0]}).sort(s.idSort),n(b.gridlayer,"g",b.xaxis._id),n(b.gridlayer,"g",b.yaxis._id),b.gridlayer.selectAll("g").map(function(L){return L[0]}).sort(s.idSort)),b.xlines.style("fill","none").classed("crisp",!0),b.ylines.style("fill","none").classed("crisp",!0)}function u(c,b){if(c){var g={};for(var h in c.each(function(w){var f=w[0];M.select(this).remove(),p(f,b),g[f]=!0}),b._plots)for(var x=b._plots[h].overlays||[],v=0;v<x.length;v++){var m=x[v];g[m.id]&&m.plot.selectAll(".trace").remove()}}}function p(c,b){b._draggers.selectAll("g."+c).remove(),b._defs.select("#clip"+b._uid+c+"plot").remove()}O.name="cartesian",O.attr=["xaxis","yaxis"],O.idRoot=["x","y"],O.idRegex=t.idRegex,O.attrRegex=t.attrRegex,O.attributes=e(89502),O.layoutAttributes=e(13838),O.supplyLayoutDefaults=e(86763),O.transitionAxes=e(66847),O.finalizeSubplots=function(c,b){var g,h,x,v=b._subplots,m=v.xaxis,w=v.yaxis,f=v.cartesian,S=f.concat(v.gl2d||[]),T={},E={};for(g=0;g<S.length;g++){var L=S[g].split("y");T[L[0]]=1,E["y"+L[1]]=1}for(g=0;g<m.length;g++)T[h=m[g]]||(x=(c[s.id2name(h)]||{}).anchor,t.idRegex.y.test(x)||(x="y"),f.push(h+x),S.push(h+x),E[x]||(E[x]=1,a.pushUnique(w,x)));for(g=0;g<w.length;g++)E[x=w[g]]||(h=(c[s.id2name(x)]||{}).anchor,t.idRegex.x.test(h)||(h="x"),f.push(h+x),S.push(h+x),T[h]||(T[h]=1,a.pushUnique(m,h)));if(!S.length){for(var C in h="",x="",c)t.attrRegex.test(C)&&(C.charAt(0)==="x"?(!h||+C.substr(5)<+h.substr(5))&&(h=C):(!x||+C.substr(5)<+x.substr(5))&&(x=C));h=h?s.name2id(h):"x",x=x?s.name2id(x):"y",m.push(h),w.push(x),f.push(h+x)}},O.plot=function(c,b,g,h){var x,v=c._fullLayout,m=v._subplots.cartesian,w=c.calcdata;if(!Array.isArray(b))for(b=[],x=0;x<w.length;x++)b.push(x);for(x=0;x<m.length;x++){for(var f,S=m[x],T=v._plots[S],E=[],L=0;L<w.length;L++){var C=w[L],P=C[0].trace;P.xaxis+P.yaxis===S&&((b.indexOf(P.index)!==-1||P.carpet)&&(f&&f[0].trace.xaxis+f[0].trace.yaxis===S&&["tonextx","tonexty","tonext"].indexOf(P.fill)!==-1&&E.indexOf(f)===-1&&E.push(f),E.push(C)),f=C)}l(c,T,E,g,h)}},O.clean=function(c,b,g,h){var x,v,m,w=h._plots||{},f=b._plots||{},S=h._subplots||{};if(h._hasOnlyLargeSploms&&!b._hasOnlyLargeSploms)for(m in w)(x=w[m]).plotgroup&&x.plotgroup.remove();var T=h._has&&h._has("gl"),E=b._has&&b._has("gl");if(T&&!E)for(m in w)(x=w[m])._scene&&x._scene.destroy();if(S.xaxis&&S.yaxis){var L=s.listIds({_fullLayout:h});for(v=0;v<L.length;v++){var C=L[v];b[s.id2name(C)]||h._infolayer.selectAll(".g-"+C+"title").remove()}}var P=h._has&&h._has("cartesian"),R=b._has&&b._has("cartesian");if(P&&!R)u(h._cartesianlayer.selectAll(".subplot"),h),h._defs.selectAll(".axesclip").remove(),delete h._axisConstraintGroups,delete h._axisMatchGroups;else if(S.cartesian)for(v=0;v<S.cartesian.length;v++){var G=S.cartesian[v];if(!f[G]){var I="."+G+",."+G+"-x,."+G+"-y";h._cartesianlayer.selectAll(I).remove(),p(G,h)}}},O.drawFramework=function(c){var b=c._fullLayout,g=function(x){var v,m,w,f,S,T,E=x._fullLayout,L=E._subplots.cartesian,C=L.length,P=[],R=[];for(v=0;v<C;v++){w=L[v],S=(f=E._plots[w]).xaxis,T=f.yaxis;var G=S._mainAxis,I=T._mainAxis,H=G._id+I._id,N=E._plots[H];f.overlays=[],H!==w&&N?(f.mainplot=H,f.mainplotinfo=N,R.push(w)):(f.mainplot=void 0,f.mainplotinfo=void 0,P.push(w))}for(v=0;v<R.length;v++)w=R[v],(f=E._plots[w]).mainplotinfo.overlays.push(f);var B=P.concat(R),V=new Array(C);for(v=0;v<C;v++){w=B[v],S=(f=E._plots[w]).xaxis,T=f.yaxis;var q=[w,S.layer,T.layer,S.overlaying||"",T.overlaying||""];for(m=0;m<f.overlays.length;m++)q.push(f.overlays[m].id);V[v]=q}return V}(c),h=b._cartesianlayer.selectAll(".subplot").data(g,String);h.enter().append("g").attr("class",function(x){return"subplot "+x[0]}),h.order(),h.exit().call(u,b),h.each(function(x){var v=x[0],m=b._plots[v];m.plotgroup=M.select(this),o(c,m),m.draglayer=r(b._draggers,"g",v)})},O.rangePlot=function(c,b,g){o(c,b),l(c,b,g),_.style(c)},O.toSVG=function(c){var b=c._fullLayout._glimages,g=M.select(c).selectAll(".svg-container");g.filter(function(h,x){return x===g.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var h=this,x=h.toDataURL("image/png");b.append("svg:image").attr({xmlns:i.svg,"xlink:href":x,preserveAspectRatio:"none",x:0,y:0,width:h.style.width,height:h.style.height})})},O.updateFx=e(4305).updateFx},13838:function(Y,O,e){var M=e(41940),k=e(22399),a=e(79952).P,_=e(1426).extendFlat,y=e(44467).templatedArray,d=e(12663).descriptionWithDates,s=e(50606).ONEDAY,t=e(85555),i=t.HOUR_PATTERN,r=t.WEEKDAY_PATTERN,n={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},l=_({},n,{values:n.values.slice().concat(["sync"])});function o(S){return{valType:"integer",min:0,dflt:S?5:0,editType:"ticks"}}var u={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},p={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},c={valType:"data_array",editType:"ticks"},b={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function g(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=5),T}function h(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var x={valType:"color",dflt:k.defaultLine,editType:"ticks"},v={valType:"color",dflt:k.lightLine,editType:"ticks"};function m(S){var T={valType:"number",min:0,editType:"ticks"};return S||(T.dflt=1),T}var w=_({},a,{editType:"ticks"}),f={valType:"boolean",editType:"ticks"};Y.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:k.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:M({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed","min reversed","max reversed","min","max"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},autorangeoptions:{minallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmin:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},clipmax:{valType:"any",editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},include:{valType:"any",arrayOk:!0,editType:"plot",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},editType:"plot"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},minallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},maxallowed:{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},insiderange:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},scaleanchor:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString(),!1],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"calc"},rangebreaks:y("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[r,i,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:s},editType:"calc"}),tickmode:l,nticks:o(),tick0:u,dtick:p,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:c,ticktext:{valType:"data_array",editType:"ticks"},ticks:b,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:g(),tickwidth:h(),tickcolor:x,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:_({},a,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:M({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:d("tick label")},tickformatstops:y("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:d("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:f,gridcolor:v,gridwidth:m(),griddash:w,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:k.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",t.idRegex.x.toString(),t.idRegex.y.toString()],editType:"plot"},minor:{tickmode:n,nticks:o("minor"),tick0:u,dtick:p,tickvals:c,ticks:b,ticklen:g("minor"),tickwidth:h("minor"),tickcolor:x,gridcolor:v,gridwidth:m("minor"),griddash:w,showgrid:f,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:M({editType:"ticks"})}}},86763:function(Y,O,e){var M=e(71828),k=e(7901),a=e(23469).isUnifiedHover,_=e(98212),y=e(44467),d=e(10820),s=e(13838),t=e(951),i=e(71453),r=e(99082),n=e(52830),l=e(41675),o=l.id2name,u=l.name2id,p=e(85555).AX_ID_PATTERN,c=e(73972),b=c.traceIs,g=c.getComponentMethod;function h(x,v,m){Array.isArray(x[v])?x[v].push(m):x[v]=[m]}Y.exports=function(x,v,m){var w,f,S=v.autotypenumbers,T={},E={},L={},C={},P={},R={},G={},I={},H={},N={};for(w=0;w<m.length;w++){var B=m[w];if(b(B,"cartesian")||b(B,"gl2d")){var V,q;if(B.xaxis)V=o(B.xaxis),h(T,V,B);else if(B.xaxes)for(f=0;f<B.xaxes.length;f++)h(T,o(B.xaxes[f]),B);if(B.yaxis)q=o(B.yaxis),h(T,q,B);else if(B.yaxes)for(f=0;f<B.yaxes.length;f++)h(T,o(B.yaxes[f]),B);B.type==="funnel"?B.orientation==="h"?(V&&(E[V]=!0),q&&(G[q]=!0)):q&&(L[q]=!0):B.type==="image"?(q&&(I[q]=!0),V&&(I[V]=!0)):(q&&(P[q]=!0,R[q]=!0),b(B,"carpet")&&(B.type!=="carpet"||B._cheater)||V&&(C[V]=!0)),B.type==="carpet"&&B._cheater&&V&&(E[V]=!0),b(B,"2dMap")&&(H[V]=!0,H[q]=!0),b(B,"oriented")&&(N[B.orientation==="h"?q:V]=!0)}}var te=v._subplots,$=te.xaxis,K=te.yaxis,Z=M.simpleMap($,o),X=M.simpleMap(K,o),ee=Z.concat(X),ne=k.background;$.length&&K.length&&(ne=M.coerce(x,v,d,"plot_bgcolor"));var re,ae,ue,pe,ge,we=k.combine(ne,v.paper_bgcolor);function me(){var ut=T[re]||[];ge._traceIndices=ut.map(function(Et){return Et._expandedIndex}),ge._annIndices=[],ge._shapeIndices=[],ge._selectionIndices=[],ge._imgIndices=[],ge._subplotsWith=[],ge._counterAxes=[],ge._name=ge._attr=re,ge._id=ae}function ve(ut,Et){return M.coerce(pe,ge,s,ut,Et)}function Ie(ut,Et){return M.coerce2(pe,ge,s,ut,Et)}function Se(ut){return ut==="x"?K:$}function ke(ut,Et){for(var Ot=ut==="x"?Z:X,zt=[],Lt=0;Lt<Ot.length;Lt++){var Je=Ot[Lt];Je===Et||(x[Je]||{}).overlaying||zt.push(u(Je))}return zt}var se={x:Se("x"),y:Se("y")},oe=se.x.concat(se.y),he={},Le=[];function Me(){var ut=pe.matches;p.test(ut)&&oe.indexOf(ut)===-1&&(he[ut]=pe.type,Le=Object.keys(he))}var _e=_(x,v),De=a(_e);for(w=0;w<ee.length;w++){re=ee[w],ae=u(re),ue=re.charAt(0),M.isPlainObject(x[re])||(x[re]={}),pe=x[re],ge=y.newContainer(v,re,ue+"axis"),me();var Ne=ue==="x"&&!C[re]&&E[re]||ue==="y"&&!P[re]&&L[re],ce=ue==="y"&&(!R[re]&&G[re]||I[re]),Te={hasMinor:!0,letter:ue,font:v.font,outerTicks:H[re],showGrid:!N[re],data:T[re]||[],bgColor:we,calendar:v.calendar,automargin:!0,visibleDflt:Ne,reverseDflt:ce,autotypenumbersDflt:S,splomStash:((v._splomAxes||{})[ue]||{})[ae]};ve("uirevision",v.uirevision),t(pe,ge,ve,Te),i(pe,ge,ve,Te,v);var ye=De&&ue===_e.charAt(0),Oe=Ie("spikecolor",De?ge.color:void 0),Be=Ie("spikethickness",De?1.5:void 0),Fe=Ie("spikedash",De?"dot":void 0),Ge=Ie("spikemode",De?"across":void 0),Ze=Ie("spikesnap");ve("showspikes",!!(ye||Oe||Be||Fe||Ge||Ze))||(delete ge.spikecolor,delete ge.spikethickness,delete ge.spikedash,delete ge.spikemode,delete ge.spikesnap);var et=o(pe.overlaying),ft=[0,1];if(v[et]!==void 0){var rt=o(v[et].anchor);v[rt]!==void 0&&(ft=v[rt].domain)}n(pe,ge,ve,{letter:ue,counterAxes:se[ue],overlayableAxes:ke(ue,re),grid:v.grid,overlayingDomain:ft}),ve("title.standoff"),Me(),ge._input=pe}for(w=0;w<Le.length;){ae=Le[w++],ue=(re=o(ae)).charAt(0),M.isPlainObject(x[re])||(x[re]={}),pe=x[re],ge=y.newContainer(v,re,ue+"axis"),me();var _t={letter:ue,font:v.font,outerTicks:H[re],showGrid:!N[re],data:[],bgColor:we,calendar:v.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:S,splomStash:((v._splomAxes||{})[ue]||{})[ae]};ve("uirevision",v.uirevision),ge.type=he[ae]||"linear",i(pe,ge,ve,_t,v),n(pe,ge,ve,{letter:ue,counterAxes:se[ue],overlayableAxes:ke(ue,re),grid:v.grid}),ve("fixedrange"),Me(),ge._input=pe}var kt=g("rangeslider","handleDefaults"),wt=g("rangeselector","handleDefaults");for(w=0;w<Z.length;w++)re=Z[w],pe=x[re],ge=v[re],kt(x,v,re),ge.type==="date"&&wt(pe,ge,v,X,ge.calendar),ve("fixedrange");for(w=0;w<X.length;w++){re=X[w],pe=x[re],ge=v[re];var lt=v[o(ge.anchor)];ve("fixedrange",g("rangeslider","isVisible")(lt))}r.handleDefaults(x,v,{axIds:oe.concat(Le).sort(l.idSort),axHasImage:I})}},92128:function(Y,O,e){var M=e(84267).mix,k=e(22399),a=e(71828);Y.exports=function(_,y,d,s){var t=(s=s||{}).dfltColor;function i(x,v){return a.coerce2(_,y,s.attributes,x,v)}var r=i("linecolor",t),n=i("linewidth");d("showline",s.showLine||!!r||!!n)||(delete y.linecolor,delete y.linewidth);var l=i("gridcolor",M(t,s.bgColor,s.blend||k.lightFraction).toRgbString()),o=i("gridwidth"),u=i("griddash");if(d("showgrid",s.showGrid||!!l||!!o||!!u)||(delete y.gridcolor,delete y.gridwidth,delete y.griddash),s.hasMinor){var p=i("minor.gridcolor",M(y.gridcolor,s.bgColor,67).toRgbString()),c=i("minor.gridwidth",y.gridwidth||1),b=i("minor.griddash",y.griddash||"solid");d("minor.showgrid",!!p||!!c||!!b)||(delete y.minor.gridcolor,delete y.minor.gridwidth,delete y.minor.griddash)}if(!s.noZeroLine){var g=i("zerolinecolor",t),h=i("zerolinewidth");d("zeroline",s.showGrid||!!g||!!h)||(delete y.zerolinecolor,delete y.zerolinewidth)}}},52830:function(Y,O,e){var M=e(92770),k=e(71828);Y.exports=function(a,_,y,d){var s,t,i,r,n,l,o=d.counterAxes||[],u=d.overlayableAxes||[],p=d.letter,c=d.grid,b=d.overlayingDomain;c&&(t=c._domains[p][c._axisMap[_._id]],s=c._anchors[_._id],t&&(i=c[p+"side"].split(" ")[0],r=c.domain[p][i==="right"||i==="top"?1:0])),t=t||[0,1],s=s||(M(a.position)?"free":o[0]||"free"),i=i||(p==="x"?"bottom":"left"),r=r||0,n=0,l=!1;var g=k.coerce(a,_,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:s}},"anchor"),h=k.coerce(a,_,{side:{valType:"enumerated",values:p==="x"?["bottom","top"]:["left","right"],dflt:i}},"side");g==="free"&&(p==="y"&&(y("autoshift")&&(r=h==="left"?b[0]:b[1],l=!_.automargin||_.automargin,n=h==="left"?-3:3),y("shift",n)),y("position",r)),y("automargin",l);var x=!1;if(u.length&&(x=k.coerce(a,_,{overlaying:{valType:"enumerated",values:[!1].concat(u),dflt:!1}},"overlaying")),!x){var v=y("domain",t);v[0]>v[1]-.000244140625&&(_.domain=t),k.noneOrAll(a.domain,_.domain,t),_.tickmode==="sync"&&(_.tickmode="auto")}return y("layer"),_}},89426:function(Y,O,e){var M=e(59652);Y.exports=function(k,a,_,y,d){d||(d={});var s=d.tickSuffixDflt,t=M(k);_("tickprefix")&&_("showtickprefix",t),_("ticksuffix",s)&&_("showticksuffix",t)}},23608:function(Y,O,e){var M=e(23074);Y.exports=function(k,a,_,y){var d=a._template||{},s=a.type||d.type||"-";_("minallowed"),_("maxallowed");var t,i=_("range");i||y.noInsiderange||s==="log"||(!(t=_("insiderange"))||t[0]!==null&&t[1]!==null||(a.insiderange=!1,t=void 0),t&&(i=_("range",t)));var r,n=a.getAutorangeDflt(i,y),l=_("autorange",n);!i||(i[0]!==null||i[1]!==null)&&(i[0]!==null&&i[1]!==null||l!=="reversed"&&l!==!0)&&(i[0]===null||l!=="min"&&l!=="max reversed")&&(i[1]===null||l!=="max"&&l!=="min reversed")||(i=void 0,delete a.range,a.autorange=!0,r=!0),r||(l=_("autorange",n=a.getAutorangeDflt(i,y))),l&&(M(_,l,i),s!=="linear"&&s!=="-"||_("rangemode")),a.cleanRange()}},42449:function(Y,O,e){var M=e(18783).FROM_BL;Y.exports=function(k,a,_){_===void 0&&(_=M[k.constraintoward||"center"]);var y=[k.r2l(k.range[0]),k.r2l(k.range[1])],d=y[0]+(y[1]-y[0])*_;k.range=k._input.range=[k.l2r(d+(y[0]-d)*a),k.l2r(d+(y[1]-d)*a)],k.setScale()}},21994:function(Y,O,e){var M=e(39898),k=e(84096).g0,a=e(71828),_=a.numberFormat,y=e(92770),d=a.cleanNumber,s=a.ms2DateTime,t=a.dateTime2ms,i=a.ensureNumber,r=a.isArrayOrTypedArray,n=e(50606),l=n.FP_SAFE,o=n.BADNUM,u=n.LOG_CLIP,p=n.ONEWEEK,c=n.ONEDAY,b=n.ONEHOUR,g=n.ONEMIN,h=n.ONESEC,x=e(41675),v=e(85555),m=v.HOUR_PATTERN,w=v.WEEKDAY_PATTERN;function f(T){return Math.pow(10,T)}function S(T){return T!=null}Y.exports=function(T,E){E=E||{};var L=T._id||"x",C=L.charAt(0);function P(ee,ne){if(ee>0)return Math.log(ee)/Math.LN10;if(ee<=0&&ne&&T.range&&T.range.length===2){var re=T.range[0],ae=T.range[1];return .5*(re+ae-2*u*Math.abs(re-ae))}return o}function R(ee,ne,re,ae){if((ae||{}).msUTC&&y(ee))return+ee;var ue=t(ee,re||T.calendar);if(ue===o){if(!y(ee))return o;ee=+ee;var pe=Math.floor(10*a.mod(ee+.05,1)),ge=Math.round(ee-pe/10);ue=t(new Date(ge))+pe/10}return ue}function G(ee,ne,re){return s(ee,ne,re||T.calendar)}function I(ee){return T._categories[Math.round(ee)]}function H(ee){if(S(ee)){if(T._categoriesMap===void 0&&(T._categoriesMap={}),T._categoriesMap[ee]!==void 0)return T._categoriesMap[ee];T._categories.push(typeof ee=="number"?String(ee):ee);var ne=T._categories.length-1;return T._categoriesMap[ee]=ne,ne}return o}function N(ee){if(T._categoriesMap)return T._categoriesMap[ee]}function B(ee){var ne=N(ee);return ne!==void 0?ne:y(ee)?+ee:void 0}function V(ee){return y(ee)?+ee:N(ee)}function q(ee,ne,re){return M.round(re+ne*ee,2)}function te(ee,ne,re){return(ee-re)/ne}var $=function(ee){return y(ee)?q(ee,T._m,T._b):o},K=function(ee){return te(ee,T._m,T._b)};if(T.rangebreaks){var Z=C==="y";$=function(ee){if(!y(ee))return o;var ne=T._rangebreaks.length;if(!ne)return q(ee,T._m,T._b);var re=Z;T.range[0]>T.range[1]&&(re=!re);for(var ae=re?-1:1,ue=ae*ee,pe=0,ge=0;ge<ne;ge++){var we=ae*T._rangebreaks[ge].min,me=ae*T._rangebreaks[ge].max;if(ue<we)break;if(!(ue>me)){pe=ue<(we+me)/2?ge:ge+1;break}pe=ge+1}var ve=T._B[pe]||0;return isFinite(ve)?q(ee,T._m2,ve):0},K=function(ee){var ne=T._rangebreaks.length;if(!ne)return te(ee,T._m,T._b);for(var re=0,ae=0;ae<ne&&!(ee<T._rangebreaks[ae].pmin);ae++)ee>T._rangebreaks[ae].pmax&&(re=ae+1);return te(ee,T._m2,T._B[re])}}T.c2l=T.type==="log"?P:i,T.l2c=T.type==="log"?f:i,T.l2p=$,T.p2l=K,T.c2p=T.type==="log"?function(ee,ne){return $(P(ee,ne))}:$,T.p2c=T.type==="log"?function(ee){return f(K(ee))}:K,["linear","-"].indexOf(T.type)!==-1?(T.d2r=T.r2d=T.d2c=T.r2c=T.d2l=T.r2l=d,T.c2d=T.c2r=T.l2d=T.l2r=i,T.d2p=T.r2p=function(ee){return T.l2p(d(ee))},T.p2d=T.p2r=K,T.cleanPos=i):T.type==="log"?(T.d2r=T.d2l=function(ee,ne){return P(d(ee),ne)},T.r2d=T.r2c=function(ee){return f(d(ee))},T.d2c=T.r2l=d,T.c2d=T.l2r=i,T.c2r=P,T.l2d=f,T.d2p=function(ee,ne){return T.l2p(T.d2r(ee,ne))},T.p2d=function(ee){return f(K(ee))},T.r2p=function(ee){return T.l2p(d(ee))},T.p2r=K,T.cleanPos=i):T.type==="date"?(T.d2r=T.r2d=a.identity,T.d2c=T.r2c=T.d2l=T.r2l=R,T.c2d=T.c2r=T.l2d=T.l2r=G,T.d2p=T.r2p=function(ee,ne,re){return T.l2p(R(ee,0,re))},T.p2d=T.p2r=function(ee,ne,re){return G(K(ee),ne,re)},T.cleanPos=function(ee){return a.cleanDate(ee,o,T.calendar)}):T.type==="category"?(T.d2c=T.d2l=H,T.r2d=T.c2d=T.l2d=I,T.d2r=T.d2l_noadd=B,T.r2c=function(ee){var ne=V(ee);return ne!==void 0?ne:T.fraction2r(.5)},T.l2r=T.c2r=i,T.r2l=V,T.d2p=function(ee){return T.l2p(T.r2c(ee))},T.p2d=function(ee){return I(K(ee))},T.r2p=T.d2p,T.p2r=K,T.cleanPos=function(ee){return typeof ee=="string"&&ee!==""?ee:i(ee)}):T.type==="multicategory"&&(T.r2d=T.c2d=T.l2d=I,T.d2r=T.d2l_noadd=B,T.r2c=function(ee){var ne=B(ee);return ne!==void 0?ne:T.fraction2r(.5)},T.r2c_just_indices=N,T.l2r=T.c2r=i,T.r2l=B,T.d2p=function(ee){return T.l2p(T.r2c(ee))},T.p2d=function(ee){return I(K(ee))},T.r2p=T.d2p,T.p2r=K,T.cleanPos=function(ee){return Array.isArray(ee)||typeof ee=="string"&&ee!==""?ee:i(ee)},T.setupMultiCategory=function(ee){var ne,re,ae=T._traceIndices,ue=T._matchGroup;if(ue&&T._categories.length===0){for(var pe in ue)if(pe!==L){var ge=E[x.id2name(pe)];ae=ae.concat(ge._traceIndices)}}var we=[[0,{}],[0,{}]],me=[];for(ne=0;ne<ae.length;ne++){var ve=ee[ae[ne]];if(C in ve){var Ie=ve[C],Se=ve._length||a.minRowLength(Ie);if(r(Ie[0])&&r(Ie[1]))for(re=0;re<Se;re++){var ke=Ie[0][re],se=Ie[1][re];S(ke)&&S(se)&&(me.push([ke,se]),ke in we[0][1]||(we[0][1][ke]=we[0][0]++),se in we[1][1]||(we[1][1][se]=we[1][0]++))}}}for(me.sort(function(oe,he){var Le=we[0][1],Me=Le[oe[0]]-Le[he[0]];if(Me)return Me;var _e=we[1][1];return _e[oe[1]]-_e[he[1]]}),ne=0;ne<me.length;ne++)H(me[ne])}),T.fraction2r=function(ee){var ne=T.r2l(T.range[0]),re=T.r2l(T.range[1]);return T.l2r(ne+ee*(re-ne))},T.r2fraction=function(ee){var ne=T.r2l(T.range[0]),re=T.r2l(T.range[1]);return(T.r2l(ee)-ne)/(re-ne)},T.limitRange=function(ee){var ne=T.minallowed,re=T.maxallowed;if(ne!==void 0||re!==void 0){ee||(ee="range");var ae=a.nestedProperty(T,ee).get(),ue=a.simpleMap(ae,T.r2l),pe=ue[1]<ue[0];pe&&ue.reverse();var ge=a.simpleMap([ne,re],T.r2l);ne!==void 0&&ue[0]<ge[0]&&(ae[pe?1:0]=ne),re!==void 0&&ue[1]>ge[1]&&(ae[pe?0:1]=re)}},T.cleanRange=function(ee,ne){T._cleanRange(ee,ne),T.limitRange(ee)},T._cleanRange=function(ee,ne){ne||(ne={}),ee||(ee="range");var re,ae,ue=a.nestedProperty(T,ee).get();if(ae=(ae=T.type==="date"?a.dfltRange(T.calendar):C==="y"?v.DFLTRANGEY:T._name==="realaxis"?[0,1]:ne.dfltRange||v.DFLTRANGEX).slice(),T.rangemode!=="tozero"&&T.rangemode!=="nonnegative"||(ae[0]=0),ue&&ue.length===2){var pe=ue[0]===null,ge=ue[1]===null;for(T.type!=="date"||T.autorange||(ue[0]=a.cleanDate(ue[0],o,T.calendar),ue[1]=a.cleanDate(ue[1],o,T.calendar)),re=0;re<2;re++)if(T.type==="date"){if(!a.isDateTime(ue[re],T.calendar)){T[ee]=ae;break}if(T.r2l(ue[0])===T.r2l(ue[1])){var we=a.constrain(T.r2l(ue[0]),a.MIN_MS+1e3,a.MAX_MS-1e3);ue[0]=T.l2r(we-1e3),ue[1]=T.l2r(we+1e3);break}}else{if(!y(ue[re])){if(pe||ge||!y(ue[1-re])){T[ee]=ae;break}ue[re]=ue[1-re]*(re?10:.1)}if(ue[re]<-l?ue[re]=-l:ue[re]>l&&(ue[re]=l),ue[0]===ue[1]){var me=Math.max(1,Math.abs(1e-6*ue[0]));ue[0]-=me,ue[1]+=me}}}else a.nestedProperty(T,ee).set(ae)},T.setScale=function(ee){var ne=E._size;if(T.overlaying){var re=x.getFromId({_fullLayout:E},T.overlaying);T.domain=re.domain}var ae=ee&&T._r?"_r":"range",ue=T.calendar;T.cleanRange(ae);var pe,ge,we=T.r2l(T[ae][0],ue),me=T.r2l(T[ae][1],ue),ve=C==="y";if(ve?(T._offset=ne.t+(1-T.domain[1])*ne.h,T._length=ne.h*(T.domain[1]-T.domain[0]),T._m=T._length/(we-me),T._b=-T._m*me):(T._offset=ne.l+T.domain[0]*ne.w,T._length=ne.w*(T.domain[1]-T.domain[0]),T._m=T._length/(me-we),T._b=-T._m*we),T._rangebreaks=[],T._lBreaks=0,T._m2=0,T._B=[],T.rangebreaks&&(T._rangebreaks=T.locateBreaks(Math.min(we,me),Math.max(we,me)),T._rangebreaks.length)){for(pe=0;pe<T._rangebreaks.length;pe++)ge=T._rangebreaks[pe],T._lBreaks+=Math.abs(ge.max-ge.min);var Ie=ve;we>me&&(Ie=!Ie),Ie&&T._rangebreaks.reverse();var Se=Ie?-1:1;for(T._m2=Se*T._length/(Math.abs(me-we)-T._lBreaks),T._B.push(-T._m2*(ve?me:we)),pe=0;pe<T._rangebreaks.length;pe++)ge=T._rangebreaks[pe],T._B.push(T._B[T._B.length-1]-Se*T._m2*(ge.max-ge.min));for(pe=0;pe<T._rangebreaks.length;pe++)(ge=T._rangebreaks[pe]).pmin=$(ge.min),ge.pmax=$(ge.max)}if(!isFinite(T._m)||!isFinite(T._b)||T._length<0)throw E._replotting=!1,new Error("Something went wrong with axis scaling")},T.maskBreaks=function(ee){var ne,re,ae,ue,pe,ge=T.rangebreaks||[];ge._cachedPatterns||(ge._cachedPatterns=ge.map(function(ke){return ke.enabled&&ke.bounds?a.simpleMap(ke.bounds,ke.pattern?d:T.d2c):null})),ge._cachedValues||(ge._cachedValues=ge.map(function(ke){return ke.enabled&&ke.values?a.simpleMap(ke.values,T.d2c).sort(a.sorterAsc):null}));for(var we=0;we<ge.length;we++){var me=ge[we];if(me.enabled){if(me.bounds){var ve=me.pattern;switch(re=(ne=ge._cachedPatterns[we])[0],ae=ne[1],ve){case w:ue=(pe=new Date(ee)).getUTCDay(),re>ae&&(ae+=7,ue<re&&(ue+=7));break;case m:ue=(pe=new Date(ee)).getUTCHours()+(pe.getUTCMinutes()/60+pe.getUTCSeconds()/3600+pe.getUTCMilliseconds()/36e5),re>ae&&(ae+=24,ue<re&&(ue+=24));break;case"":ue=ee}if(ue>=re&&ue<ae)return o}else for(var Ie=ge._cachedValues[we],Se=0;Se<Ie.length;Se++)if(ae=(re=Ie[Se])+me.dvalue,ee>=re&&ee<ae)return o}}return ee},T.locateBreaks=function(ee,ne){var re,ae,ue,pe,ge=[];if(!T.rangebreaks)return ge;var we=T.rangebreaks.slice().sort(function(_e,De){return _e.pattern===w&&De.pattern===m?-1:De.pattern===w&&_e.pattern===m?1:0}),me=function(_e,De){if((_e=a.constrain(_e,ee,ne))!==(De=a.constrain(De,ee,ne))){for(var Ne=!0,ce=0;ce<ge.length;ce++){var Te=ge[ce];_e<Te.max&&De>=Te.min&&(_e<Te.min&&(Te.min=_e),De>Te.max&&(Te.max=De),Ne=!1)}Ne&&ge.push({min:_e,max:De})}};for(re=0;re<we.length;re++){var ve=we[re];if(ve.enabled)if(ve.bounds){var Ie=ee,Se=ne;ve.pattern&&(Ie=Math.floor(Ie)),ue=(ae=a.simpleMap(ve.bounds,ve.pattern?d:T.r2l))[0],pe=ae[1];var ke,se,oe=new Date(Ie);switch(ve.pattern){case w:se=p,ke=(pe-ue+(pe<ue?7:0))*c,Ie+=ue*c-(oe.getUTCDay()*c+oe.getUTCHours()*b+oe.getUTCMinutes()*g+oe.getUTCSeconds()*h+oe.getUTCMilliseconds());break;case m:se=c,ke=(pe-ue+(pe<ue?24:0))*b,Ie+=ue*b-(oe.getUTCHours()*b+oe.getUTCMinutes()*g+oe.getUTCSeconds()*h+oe.getUTCMilliseconds());break;default:Ie=Math.min(ae[0],ae[1]),ke=se=(Se=Math.max(ae[0],ae[1]))-Ie}for(var he=Ie;he<Se;he+=se)me(he,he+ke)}else for(var Le=a.simpleMap(ve.values,T.d2c),Me=0;Me<Le.length;Me++)me(ue=Le[Me],pe=ue+ve.dvalue)}return ge.sort(function(_e,De){return _e.min-De.min}),ge},T.makeCalcdata=function(ee,ne,re){var ae,ue,pe,ge,we=T.type,me=we==="date"&&ee[ne+"calendar"];if(ne in ee){if(ae=ee[ne],ge=ee._length||a.minRowLength(ae),a.isTypedArray(ae)&&(we==="linear"||we==="log")){if(ge===ae.length)return ae;if(ae.subarray)return ae.subarray(0,ge)}if(we==="multicategory")return function(Se,ke){for(var se=new Array(ke),oe=0;oe<ke;oe++){var he=(Se[0]||[])[oe],Le=(Se[1]||[])[oe];se[oe]=N([he,Le])}return se}(ae,ge);for(ue=new Array(ge),pe=0;pe<ge;pe++)ue[pe]=T.d2c(ae[pe],0,me,re)}else{var ve=ne+"0"in ee?T.d2c(ee[ne+"0"],0,me):0,Ie=ee["d"+ne]?Number(ee["d"+ne]):1;for(ae=ee[{x:"y",y:"x"}[ne]],ge=ee._length||ae.length,ue=new Array(ge),pe=0;pe<ge;pe++)ue[pe]=ve+pe*Ie}if(T.rangebreaks)for(pe=0;pe<ge;pe++)ue[pe]=T.maskBreaks(ue[pe]);return ue},T.isValidRange=function(ee,ne){return Array.isArray(ee)&&ee.length===2&&(ne&&ee[0]===null||y(T.r2l(ee[0])))&&(ne&&ee[1]===null||y(T.r2l(ee[1])))},T.getAutorangeDflt=function(ee,ne){var re=!T.isValidRange(ee,"nullOk");return re&&ne&&ne.reverseDflt?re="reversed":ee&&(ee[0]===null&&ee[1]===null?re=!0:ee[0]===null&&ee[1]!==null?re="min":ee[0]!==null&&ee[1]===null&&(re="max")),re},T.isReversed=function(){var ee=T.autorange;return ee==="reversed"||ee==="min reversed"||ee==="max reversed"},T.isPtWithinRange=function(ee,ne){var re=T.c2l(ee[C],null,ne),ae=T.r2l(T.range[0]),ue=T.r2l(T.range[1]);return ae<ue?ae<=re&&re<=ue:ue<=re&&re<=ae},T._emptyCategories=function(){T._categories=[],T._categoriesMap={}},T.clearCalc=function(){var ee=T._matchGroup;if(ee){var ne=null,re=null;for(var ae in ee){var ue=E[x.id2name(ae)];if(ue._categories){ne=ue._categories,re=ue._categoriesMap;break}}ne&&re?(T._categories=ne,T._categoriesMap=re):T._emptyCategories()}else T._emptyCategories();if(T._initialCategories)for(var pe=0;pe<T._initialCategories.length;pe++)H(T._initialCategories[pe])},T.sortByInitialCategories=function(){var ee=[];if(T._emptyCategories(),T._initialCategories)for(var ne=0;ne<T._initialCategories.length;ne++)H(T._initialCategories[ne]);ee=ee.concat(T._traceIndices);var re=T._matchGroup;for(var ae in re)if(L!==ae){var ue=E[x.id2name(ae)];ue._categories=T._categories,ue._categoriesMap=T._categoriesMap,ee=ee.concat(ue._traceIndices)}return ee};var X=E._d3locale;T.type==="date"&&(T._dateFormat=X?X.timeFormat:k,T._extraFormat=E._extraFormat),T._separators=E.separators,T._numFormat=X?X.numberFormat:_,delete T._minDtick,delete T._forceTick0}},59652:function(Y){Y.exports=function(O){var e=["showexponent","showtickprefix","showticksuffix"].filter(function(M){return O[M]!==void 0});if(e.every(function(M){return O[M]===O[e[0]]})||e.length===1)return O[e[0]]}},96115:function(Y,O,e){var M=e(71828),k=e(7901).contrast,a=e(13838),_=e(59652),y=e(85501);function d(s,t){function i(r,n){return M.coerce(s,t,a.tickformatstops,r,n)}i("enabled")&&(i("dtickrange"),i("value"))}Y.exports=function(s,t,i,r,n){n||(n={});var l=i("labelalias");M.isPlainObject(l)||delete t.labelalias;var o=_(s);if(i("showticklabels")){var u=n.font||{},p=t.color,c=(t.ticklabelposition||"").indexOf("inside")!==-1?k(n.bgColor):p&&p!==a.color.dflt?p:u.color;if(M.coerceFont(i,"tickfont",{family:u.family,size:u.size,color:c}),n.noTicklabelstep||r==="multicategory"||r==="log"||i("ticklabelstep"),n.noAng||i("tickangle"),r!=="category"){var b=i("tickformat");y(s,t,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:d}),t.tickformatstops.length||delete t.tickformatstops,n.noExp||b||r==="date"||(i("showexponent",o),i("exponentformat"),i("minexponent"),i("separatethousands"))}}}},38701:function(Y,O,e){var M=e(71828),k=e(13838);Y.exports=function(a,_,y,d){var s=d.isMinor,t=s?a.minor||{}:a,i=s?_.minor:_,r=s?k.minor:k,n=s?"minor.":"",l=M.coerce2(t,i,r,"ticklen",s?.6*(_.ticklen||5):void 0),o=M.coerce2(t,i,r,"tickwidth",s?_.tickwidth||1:void 0),u=M.coerce2(t,i,r,"tickcolor",(s?_.tickcolor:void 0)||i.color);y(n+"ticks",!s&&d.outerTicks||l||o||u?"outside":"")||(delete i.ticklen,delete i.tickwidth,delete i.tickcolor)}},26218:function(Y,O,e){var M=e(66287),k=e(71828).isArrayOrTypedArray;Y.exports=function(a,_,y,d,s){s||(s={});var t=s.isMinor,i=t?a.minor||{}:a,r=t?_.minor:_,n=t?"minor.":"";function l(g){var h=i[g];return h!==void 0?h:(r._template||{})[g]}var o=l("tick0"),u=l("dtick"),p=l("tickvals"),c=y(n+"tickmode",k(p)?"array":u?"linear":"auto");if(c==="auto"||c==="sync")y(n+"nticks");else if(c==="linear"){var b=r.dtick=M.dtick(u,d);r.tick0=M.tick0(o,d,_.calendar,b)}else d!=="multicategory"&&(y(n+"tickvals")===void 0?r.tickmode="auto":t||y("ticktext"))}},66847:function(Y,O,e){var M=e(39898),k=e(73972),a=e(71828),_=e(91424),y=e(89298);Y.exports=function(d,s,t,i){var r=d._fullLayout;if(s.length!==0){var n,l,o,u;i&&(n=i());var p=M.ease(t.easing);return d._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(u),u=null,function(){for(var g={},h=0;h<s.length;h++){var x=s[h],v=x.plotinfo.xaxis,m=x.plotinfo.yaxis;x.xr0&&(g[v._name+".range"]=x.xr0.slice()),x.yr0&&(g[m._name+".range"]=x.yr0.slice())}return k.call("relayout",d,g).then(function(){for(var w=0;w<s.length;w++)c(s[w].plotinfo)})}()}),l=Date.now(),u=window.requestAnimationFrame(function g(){o=Date.now();for(var h=Math.min(1,(o-l)/t.duration),x=p(h),v=0;v<s.length;v++)b(s[v],x);o-l>t.duration?(function(){for(var m={},w=0;w<s.length;w++){var f=s[w],S=f.plotinfo.xaxis,T=f.plotinfo.yaxis;f.xr1&&(m[S._name+".range"]=f.xr1.slice()),f.yr1&&(m[T._name+".range"]=f.yr1.slice())}n&&n(),k.call("relayout",d,m).then(function(){for(var E=0;E<s.length;E++)c(s[E].plotinfo)})}(),u=window.cancelAnimationFrame(g)):u=window.requestAnimationFrame(g)}),Promise.resolve()}function c(g){var h=g.xaxis,x=g.yaxis;r._defs.select("#"+g.clipId+"> rect").call(_.setTranslate,0,0).call(_.setScale,1,1),g.plot.call(_.setTranslate,h._offset,x._offset).call(_.setScale,1,1);var v=g.plot.selectAll(".scatterlayer .trace");v.selectAll(".point").call(_.setPointGroupScale,1,1),v.selectAll(".textpoint").call(_.setTextPointsScale,1,1),v.call(_.hideOutsideRangePoints,g)}function b(g,h){var x=g.plotinfo,v=x.xaxis,m=x.yaxis,w=v._length,f=m._length,S=!!g.xr1,T=!!g.yr1,E=[];if(S){var L=a.simpleMap(g.xr0,v.r2l),C=a.simpleMap(g.xr1,v.r2l),P=L[1]-L[0],R=C[1]-C[0];E[0]=(L[0]*(1-h)+h*C[0]-L[0])/(L[1]-L[0])*w,E[2]=w*(1-h+h*R/P),v.range[0]=v.l2r(L[0]*(1-h)+h*C[0]),v.range[1]=v.l2r(L[1]*(1-h)+h*C[1])}else E[0]=0,E[2]=w;if(T){var G=a.simpleMap(g.yr0,m.r2l),I=a.simpleMap(g.yr1,m.r2l),H=G[1]-G[0],N=I[1]-I[0];E[1]=(G[1]*(1-h)+h*I[1]-G[1])/(G[0]-G[1])*f,E[3]=f*(1-h+h*N/H),m.range[0]=v.l2r(G[0]*(1-h)+h*I[0]),m.range[1]=m.l2r(G[1]*(1-h)+h*I[1])}else E[1]=0,E[3]=f;y.drawOne(d,v,{skipTitle:!0}),y.drawOne(d,m,{skipTitle:!0}),y.redrawComponents(d,[v._id,m._id]);var B=S?w/E[2]:1,V=T?f/E[3]:1,q=S?E[0]:0,te=T?E[1]:0,$=S?E[0]/E[2]*w:0,K=T?E[1]/E[3]*f:0,Z=v._offset-$,X=m._offset-K;x.clipRect.call(_.setTranslate,q,te).call(_.setScale,1/B,1/V),x.plot.call(_.setTranslate,Z,X).call(_.setScale,B,V),_.setPointGroupScale(x.zoomScalePts,1/B,1/V),_.setTextPointsScale(x.zoomScaleTxt,1/B,1/V)}y.redrawComponents(d)}},951:function(Y,O,e){var M=e(73972).traceIs,k=e(4322);function a(y){return{v:"x",h:"y"}[y.orientation||"v"]}function _(y,d){var s=a(y),t=M(y,"box-violin"),i=M(y._fullInput||{},"candlestick");return t&&!i&&d===s&&y[s]===void 0&&y[s+"0"]===void 0}Y.exports=function(y,d,s,t){s("autotypenumbers",t.autotypenumbersDflt),s("type",(t.splomStash||{}).type)==="-"&&(function(i,r){if(i.type==="-"){var n,l=i._id,o=l.charAt(0);l.indexOf("scene")!==-1&&(l=o);var u=function(m,w,f){for(var S=0;S<m.length;S++){var T=m[S];if(T.type==="splom"&&T._length>0&&(T["_"+f+"axes"]||{})[w]||(T[f+"axis"]||f)===w&&(_(T,f)||(T[f]||[]).length||T[f+"0"]))return T}}(r,l,o);if(u)if(u.type!=="histogram"||o!=={v:"y",h:"x"}[u.orientation||"v"]){var p=o+"calendar",c=u[p],b={noMultiCategory:!M(u,"cartesian")||M(u,"noMultiCategory")};if(u.type==="box"&&u._hasPreCompStats&&o==={h:"x",v:"y"}[u.orientation||"v"]&&(b.noMultiCategory=!0),b.autotypenumbers=i.autotypenumbers,_(u,o)){var g=a(u),h=[];for(n=0;n<r.length;n++){var x=r[n];M(x,"box-violin")&&(x[o+"axis"]||o)===l&&(x[g]!==void 0?h.push(x[g][0]):x.name!==void 0?h.push(x.name):h.push("text"),x[p]!==c&&(c=void 0))}i.type=k(h,c,b)}else if(u.type==="splom"){var v=u.dimensions[u._axesDim[l]];v.visible&&(i.type=k(v.values,c,b))}else i.type=k(u[o]||[u[o+"0"]],c,b)}else i.type="linear"}}(d,t.data),d.type==="-"?d.type="linear":y.type=d.type)}},31137:function(Y,O,e){var M=e(73972),k=e(71828);function a(s,t,i){var r,n,l,o=!1;if(t.type==="data")r=s._fullData[t.traces!==null?t.traces[0]:0];else{if(t.type!=="layout")return!1;r=s._fullLayout}return n=k.nestedProperty(r,t.prop).get(),(l=i[t.type]=i[t.type]||{}).hasOwnProperty(t.prop)&&l[t.prop]!==n&&(o=!0),l[t.prop]=n,{changed:o,value:n}}function _(s,t){var i=[],r=t[0],n={};if(typeof r=="string")n[r]=t[1];else{if(!k.isPlainObject(r))return i;n=r}return d(n,function(l,o,u){i.push({type:"layout",prop:l,value:u})},"",0),i}function y(s,t){var i,r,n,l,o=[];if(r=t[0],n=t[1],i=t[2],l={},typeof r=="string")l[r]=n;else{if(!k.isPlainObject(r))return o;l=r,i===void 0&&(i=n)}return i===void 0&&(i=null),d(l,function(u,p,c){var b,g;if(Array.isArray(c)){g=c.slice();var h=Math.min(g.length,s.data.length);i&&(h=Math.min(h,i.length)),b=[];for(var x=0;x<h;x++)b[x]=i?i[x]:x}else g=c,b=i?i.slice():null;if(b===null)Array.isArray(g)&&(g=g[0]);else if(Array.isArray(b)){if(!Array.isArray(g)){var v=g;g=[];for(var m=0;m<b.length;m++)g[m]=v}g.length=Math.min(b.length,g.length)}o.push({type:"data",prop:u,traces:b,value:g})},"",0),o}function d(s,t,i,r){Object.keys(s).forEach(function(n){var l=s[n];if(n[0]!=="_"){var o=i+(r>0?".":"")+n;k.isPlainObject(l)?d(l,t,o,r+1):t(o,n,l)}})}O.manageCommandObserver=function(s,t,i,r){var n={},l=!0;t&&t._commandObserver&&(n=t._commandObserver),n.cache||(n.cache={}),n.lookupTable={};var o=O.hasSimpleAPICommandBindings(s,i,n.lookupTable);if(t&&t._commandObserver){if(o)return n;if(t._commandObserver.remove)return t._commandObserver.remove(),t._commandObserver=null,n}if(o){a(s,o,n.cache),n.check=function(){if(l){var c=a(s,o,n.cache);return c.changed&&r&&n.lookupTable[c.value]!==void 0&&(n.disable(),Promise.resolve(r({value:c.value,type:o.type,prop:o.prop,traces:o.traces,index:n.lookupTable[c.value]})).then(n.enable,n.enable)),c.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],p=0;p<u.length;p++)s._internalOn(u[p],n.check);n.remove=function(){for(var c=0;c<u.length;c++)s._removeInternalListener(u[c],n.check)}}else k.log("Unable to automatically bind plot updates to API command"),n.lookupTable={},n.remove=function(){};return n.disable=function(){l=!1},n.enable=function(){l=!0},t&&(t._commandObserver=n),n},O.hasSimpleAPICommandBindings=function(s,t,i){var r,n,l=t.length;for(r=0;r<l;r++){var o,u=t[r],p=u.method,c=u.args;if(Array.isArray(c)||(c=[]),!p)return!1;var b=O.computeAPICommandBindings(s,p,c);if(b.length!==1)return!1;if(n){if((o=b[0]).type!==n.type||o.prop!==n.prop)return!1;if(Array.isArray(n.traces)){if(!Array.isArray(o.traces))return!1;o.traces.sort();for(var g=0;g<n.traces.length;g++)if(n.traces[g]!==o.traces[g])return!1}else if(o.prop!==n.prop)return!1}else n=b[0],Array.isArray(n.traces)&&n.traces.sort();var h=(o=b[0]).value;if(Array.isArray(h)){if(h.length!==1)return!1;h=h[0]}i&&(i[h]=r)}return n},O.executeAPICommand=function(s,t,i){if(t==="skip")return Promise.resolve();var r=M.apiMethodRegistry[t],n=[s];Array.isArray(i)||(i=[]);for(var l=0;l<i.length;l++)n.push(i[l]);return r.apply(null,n).catch(function(o){return k.warn("API call to Plotly."+t+" rejected.",o),Promise.reject(o)})},O.computeAPICommandBindings=function(s,t,i){var r;switch(Array.isArray(i)||(i=[]),t){case"restyle":r=y(s,i);break;case"relayout":r=_(0,i);break;case"update":r=y(s,[i[0],i[2]]).concat(_(0,[i[1]]));break;case"animate":r=function(n,l){return Array.isArray(l[0])&&l[0].length===1&&["string","number"].indexOf(typeof l[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:l[0][0].toString()}]:[]}(0,i);break;default:r=[]}return r}},27670:function(Y,O,e){var M=e(1426).extendFlat;O.Y=function(k,a){a=a||{};var _={valType:"info_array",editType:(k=k||{}).editType,items:[{valType:"number",min:0,max:1,editType:k.editType},{valType:"number",min:0,max:1,editType:k.editType}],dflt:[0,1]},y=(k.name&&k.name,k.trace,a.description&&a.description,{x:M({},_,{}),y:M({},_,{}),editType:k.editType});return k.noGridCell||(y.row={valType:"integer",min:0,dflt:0,editType:k.editType},y.column={valType:"integer",min:0,dflt:0,editType:k.editType}),y},O.c=function(k,a,_,y){var d=y&&y.x||[0,1],s=y&&y.y||[0,1],t=a.grid;if(t){var i=_("domain.column");i!==void 0&&(i<t.columns?d=t._domains.x[i]:delete k.domain.column);var r=_("domain.row");r!==void 0&&(r<t.rows?s=t._domains.y[r]:delete k.domain.row)}var n=_("domain.x",d),l=_("domain.y",s);n[0]<n[1]||(k.domain.x=d.slice()),l[0]<l[1]||(k.domain.y=s.slice())}},41940:function(Y){Y.exports=function(O){var e=O.editType,M=O.colorEditType;M===void 0&&(M=e);var k={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:M},editType:e};return O.autoSize&&(k.size.dflt="auto"),O.autoColor&&(k.color.dflt="auto"),O.arrayOk&&(k.family.arrayOk=!0,k.size.arrayOk=!0,k.color.arrayOk=!0),k}},31391:function(Y){Y.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},78776:function(Y,O){O.projNames={airy:"airy",aitoff:"aitoff","albers usa":"albersUsa",albers:"albers",august:"august","azimuthal equal area":"azimuthalEqualArea","azimuthal equidistant":"azimuthalEquidistant",baker:"baker",bertin1953:"bertin1953",boggs:"boggs",bonne:"bonne",bottomley:"bottomley",bromley:"bromley",collignon:"collignon","conic conformal":"conicConformal","conic equal area":"conicEqualArea","conic equidistant":"conicEquidistant",craig:"craig",craster:"craster","cylindrical equal area":"cylindricalEqualArea","cylindrical stereographic":"cylindricalStereographic",eckert1:"eckert1",eckert2:"eckert2",eckert3:"eckert3",eckert4:"eckert4",eckert5:"eckert5",eckert6:"eckert6",eisenlohr:"eisenlohr","equal earth":"equalEarth",equirectangular:"equirectangular",fahey:"fahey","foucaut sinusoidal":"foucautSinusoidal",foucaut:"foucaut",ginzburg4:"ginzburg4",ginzburg5:"ginzburg5",ginzburg6:"ginzburg6",ginzburg8:"ginzburg8",ginzburg9:"ginzburg9",gnomonic:"gnomonic","gringorten quincuncial":"gringortenQuincuncial",gringorten:"gringorten",guyou:"guyou",hammer:"hammer",hill:"hill",homolosine:"homolosine",hufnagel:"hufnagel",hyperelliptical:"hyperelliptical",kavrayskiy7:"kavrayskiy7",lagrange:"lagrange",larrivee:"larrivee",laskowski:"laskowski",loximuthal:"loximuthal",mercator:"mercator",miller:"miller",mollweide:"mollweide","mt flat polar parabolic":"mtFlatPolarParabolic","mt flat polar quartic":"mtFlatPolarQuartic","mt flat polar sinusoidal":"mtFlatPolarSinusoidal","natural earth":"naturalEarth","natural earth1":"naturalEarth1","natural earth2":"naturalEarth2","nell hammer":"nellHammer",nicolosi:"nicolosi",orthographic:"orthographic",patterson:"patterson","peirce quincuncial":"peirceQuincuncial",polyconic:"polyconic","rectangular polyconic":"rectangularPolyconic",robinson:"robinson",satellite:"satellite","sinu mollweide":"sinuMollweide",sinusoidal:"sinusoidal",stereographic:"stereographic",times:"times","transverse mercator":"transverseMercator","van der grinten":"vanDerGrinten","van der grinten2":"vanDerGrinten2","van der grinten3":"vanDerGrinten3","van der grinten4":"vanDerGrinten4",wagner4:"wagner4",wagner6:"wagner6",wiechel:"wiechel","winkel tripel":"winkel3",winkel3:"winkel3"},O.axesNames=["lonaxis","lataxis"],O.lonaxisSpan={orthographic:180,"azimuthal equal area":360,"azimuthal equidistant":360,"conic conformal":180,gnomonic:160,stereographic:180,"transverse mercator":180,"*":360},O.lataxisSpan={"conic conformal":150,stereographic:179.5,"*":180},O.scopeDefaults={world:{lonaxisRange:[-180,180],lataxisRange:[-90,90],projType:"equirectangular",projRotate:[0,0,0]},usa:{lonaxisRange:[-180,-50],lataxisRange:[15,80],projType:"albers usa"},europe:{lonaxisRange:[-30,60],lataxisRange:[30,85],projType:"conic conformal",projRotate:[15,0,0],projParallels:[0,60]},asia:{lonaxisRange:[22,160],lataxisRange:[-15,55],projType:"mercator",projRotate:[0,0,0]},africa:{lonaxisRange:[-30,60],lataxisRange:[-40,40],projType:"mercator",projRotate:[0,0,0]},"north america":{lonaxisRange:[-180,-45],lataxisRange:[5,85],projType:"conic conformal",projRotate:[-100,0,0],projParallels:[29.5,45.5]},"south america":{lonaxisRange:[-100,-30],lataxisRange:[-60,15],projType:"mercator",projRotate:[0,0,0]}},O.clipPad=.001,O.precision=.1,O.landColor="#F0DC82",O.waterColor="#3399FF",O.locationmodeToLayer={"ISO-3":"countries","USA-states":"subunits","country names":"countries"},O.sphereSVG={type:"Sphere"},O.fillLayers={ocean:1,land:1,lakes:1},O.lineLayers={subunits:1,countries:1,coastlines:1,rivers:1,frame:1},O.layers=["bg","ocean","land","lakes","subunits","countries","coastlines","rivers","lataxis","lonaxis","frame","backplot","frontplot"],O.layersForChoropleth=["bg","ocean","land","subunits","countries","coastlines","lataxis","lonaxis","frame","backplot","rivers","lakes","frontplot"],O.layerNameToAdjective={ocean:"ocean",land:"land",lakes:"lake",subunits:"subunit",countries:"country",coastlines:"coastline",rivers:"river",frame:"frame"}},69082:function(Y,O,e){var M=e(39898),k=e(27362),a=k.geoPath,_=k.geoDistance,y=e(65704),d=e(73972),s=e(71828),t=s.strTranslate,i=e(7901),r=e(91424),n=e(30211),l=e(74875),o=e(89298),u=e(71739).getAutoRange,p=e(28569),c=e(47322).prepSelect,b=e(47322).clearOutline,g=e(47322).selectOnClick,h=e(74455),x=e(78776),v=e(41327),m=e(90973),w=e(96892).zL;function f(E){this.id=E.id,this.graphDiv=E.graphDiv,this.container=E.container,this.topojsonURL=E.topojsonURL,this.isStatic=E.staticPlot,this.topojsonName=null,this.topojson=null,this.projection=null,this.scope=null,this.viewInitial=null,this.fitScale=null,this.bounds=null,this.midPt=null,this.hasChoropleth=!1,this.traceHash={},this.layers={},this.basePaths={},this.dataPaths={},this.dataPoints={},this.clipDef=null,this.clipRect=null,this.bgRect=null,this.makeFramework()}var S=f.prototype;function T(E,L){var C=x.clipPad,P=E[0]+C,R=E[1]-C,G=L[0]+C,I=L[1]-C;P>0&&R<0&&(R+=360);var H=(R-P)/4;return{type:"Polygon",coordinates:[[[P,G],[P,I],[P+H,I],[P+2*H,I],[P+3*H,I],[R,I],[R,G],[R-H,G],[R-2*H,G],[R-3*H,G],[P,G]]]}}Y.exports=function(E){return new f(E)},S.plot=function(E,L,C,P){var R=this;if(P)return R.update(E,L,!0);R._geoCalcData=E,R._fullLayout=L;var G=L[this.id],I=[],H=!1;for(var N in x.layerNameToAdjective)if(N!=="frame"&&G["show"+N]){H=!0;break}for(var B=!1,V=0;V<E.length;V++){var q=E[0][0].trace;q._geo=R,q.locationmode&&(H=!0);var te=q.marker;if(te){var $=te.angle,K=te.angleref;($||K==="north"||K==="previous")&&(B=!0)}}if(this._hasMarkerAngles=B,H){var Z=m.getTopojsonName(G);R.topojson!==null&&Z===R.topojsonName||(R.topojsonName=Z,PlotlyGeoAssets.topojson[R.topojsonName]===void 0&&I.push(R.fetchTopojson()))}I=I.concat(v.fetchTraceGeoData(E)),C.push(new Promise(function(X,ee){Promise.all(I).then(function(){R.topojson=PlotlyGeoAssets.topojson[R.topojsonName],R.update(E,L),X()}).catch(ee)}))},S.fetchTopojson=function(){var E=this,L=m.getTopojsonPath(E.topojsonURL,E.topojsonName);return new Promise(function(C,P){M.json(L,function(R,G){if(R)return R.status===404?P(new Error(["plotly.js could not find topojson file at",L+".","Make sure the *topojsonURL* plot config option","is set properly."].join(" "))):P(new Error(["unexpected error while fetching topojson file at",L].join(" ")));PlotlyGeoAssets.topojson[E.topojsonName]=G,C()})})},S.update=function(E,L,C){var P=L[this.id];this.hasChoropleth=!1;for(var R=0;R<E.length;R++){var G=E[R],I=G[0].trace;I.type==="choropleth"&&(this.hasChoropleth=!0),I.visible===!0&&I._length>0&&I._module.calcGeoJSON(G,L)}if(!C){if(this.updateProjection(E,L))return;this.viewInitial&&this.scope===P.scope||this.saveViewInitial(P)}this.scope=P.scope,this.updateBaseLayers(L,P),this.updateDims(L,P),this.updateFx(L,P),l.generalUpdatePerTraceModule(this.graphDiv,this,E,P);var H=this.layers.frontplot.select(".scatterlayer");this.dataPoints.point=H.selectAll(".point"),this.dataPoints.text=H.selectAll("text"),this.dataPaths.line=H.selectAll(".js-line");var N=this.layers.backplot.select(".choroplethlayer");this.dataPaths.choropleth=N.selectAll("path"),this._render()},S.updateProjection=function(E,L){var C=this.graphDiv,P=L[this.id],R=L._size,G=P.domain,I=P.projection,H=P.lonaxis,N=P.lataxis,B=H._ax,V=N._ax,q=this.projection=function(oe){var he=oe.projection,Le=he.type,Me=x.projNames[Le];Me="geo"+s.titleCase(Me);for(var _e=(k[Me]||y[Me])(),De=oe._isSatellite?180*Math.acos(1/he.distance)/Math.PI:oe._isClipped?x.lonaxisSpan[Le]/2:null,Ne=["center","rotate","parallels","clipExtent"],ce=function(Oe){return Oe?_e:[]},Te=0;Te<Ne.length;Te++){var ye=Ne[Te];typeof _e[ye]!="function"&&(_e[ye]=ce)}return _e.isLonLatOverEdges=function(Oe){if(_e(Oe)===null)return!0;if(De){var Be=_e.rotate();return _(Oe,[-Be[0],-Be[1]])>De*Math.PI/180}return!1},_e.getPath=function(){return a().projection(_e)},_e.getBounds=function(Oe){return _e.getPath().bounds(Oe)},_e.precision(x.precision),oe._isSatellite&&_e.tilt(he.tilt).distance(he.distance),De&&_e.clipAngle(De-x.clipPad),_e}(P),te=[[R.l+R.w*G.x[0],R.t+R.h*(1-G.y[1])],[R.l+R.w*G.x[1],R.t+R.h*(1-G.y[0])]],$=P.center||{},K=I.rotation||{},Z=H.range||[],X=N.range||[];if(P.fitbounds){B._length=te[1][0]-te[0][0],V._length=te[1][1]-te[0][1],B.range=u(C,B),V.range=u(C,V);var ee=(B.range[0]+B.range[1])/2,ne=(V.range[0]+V.range[1])/2;if(P._isScoped)$={lon:ee,lat:ne};else if(P._isClipped){$={lon:ee,lat:ne},K={lon:ee,lat:ne,roll:K.roll};var re=I.type,ae=x.lonaxisSpan[re]/2||180,ue=x.lataxisSpan[re]/2||90;Z=[ee-ae,ee+ae],X=[ne-ue,ne+ue]}else $={lon:ee,lat:ne},K={lon:ee,lat:K.lat,roll:K.roll}}q.center([$.lon-K.lon,$.lat-K.lat]).rotate([-K.lon,-K.lat,K.roll]).parallels(I.parallels);var pe=T(Z,X);q.fitExtent(te,pe);var ge=this.bounds=q.getBounds(pe),we=this.fitScale=q.scale(),me=q.translate();if(P.fitbounds){var ve=q.getBounds(T(B.range,V.range)),Ie=Math.min((ge[1][0]-ge[0][0])/(ve[1][0]-ve[0][0]),(ge[1][1]-ge[0][1])/(ve[1][1]-ve[0][1]));isFinite(Ie)?q.scale(Ie*we):s.warn("Something went wrong during"+this.id+"fitbounds computations.")}else q.scale(I.scale*we);var Se=this.midPt=[(ge[0][0]+ge[1][0])/2,(ge[0][1]+ge[1][1])/2];if(q.translate([me[0]+(Se[0]-me[0]),me[1]+(Se[1]-me[1])]).clipExtent(ge),P._isAlbersUsa){var ke=q([$.lon,$.lat]),se=q.translate();q.translate([se[0]-(ke[0]-se[0]),se[1]-(ke[1]-se[1])])}},S.updateBaseLayers=function(E,L){var C=this,P=C.topojson,R=C.layers,G=C.basePaths;function I(q){return q==="lonaxis"||q==="lataxis"}function H(q){return!!x.lineLayers[q]}function N(q){return!!x.fillLayers[q]}var B=(this.hasChoropleth?x.layersForChoropleth:x.layers).filter(function(q){return H(q)||N(q)?L["show"+q]:!I(q)||L[q].showgrid}),V=C.framework.selectAll(".layer").data(B,String);V.exit().each(function(q){delete R[q],delete G[q],M.select(this).remove()}),V.enter().append("g").attr("class",function(q){return"layer "+q}).each(function(q){var te=R[q]=M.select(this);q==="bg"?C.bgRect=te.append("rect").style("pointer-events","all"):I(q)?G[q]=te.append("path").style("fill","none"):q==="backplot"?te.append("g").classed("choroplethlayer",!0):q==="frontplot"?te.append("g").classed("scatterlayer",!0):H(q)?G[q]=te.append("path").style("fill","none").style("stroke-miterlimit",2):N(q)&&(G[q]=te.append("path").style("stroke","none"))}),V.order(),V.each(function(q){var te=G[q],$=x.layerNameToAdjective[q];q==="frame"?te.datum(x.sphereSVG):H(q)||N(q)?te.datum(w(P,P.objects[q])):I(q)&&te.datum(function(K,Z,X){var ee,ne,re,ae=Z[K],ue=x.scopeDefaults[Z.scope];K==="lonaxis"?(ee=ue.lonaxisRange,ne=ue.lataxisRange,re=function(se,oe){return[se,oe]}):K==="lataxis"&&(ee=ue.lataxisRange,ne=ue.lonaxisRange,re=function(se,oe){return[oe,se]});var pe={type:"linear",range:[ee[0],ee[1]-1e-6],tick0:ae.tick0,dtick:ae.dtick};o.setConvert(pe,X);var ge=o.calcTicks(pe);Z.isScoped||K!=="lonaxis"||ge.pop();for(var we=ge.length,me=new Array(we),ve=0;ve<we;ve++)for(var Ie=ge[ve].x,Se=me[ve]=[],ke=ne[0];ke<ne[1]+2.5;ke+=2.5)Se.push(re(Ie,ke));return{type:"MultiLineString",coordinates:me}}(q,L,E)).call(i.stroke,L[q].gridcolor).call(r.dashLine,L[q].griddash,L[q].gridwidth),H(q)?te.call(i.stroke,L[$+"color"]).call(r.dashLine,"",L[$+"width"]):N(q)&&te.call(i.fill,L[$+"color"])})},S.updateDims=function(E,L){var C=this.bounds,P=(L.framewidth||0)/2,R=C[0][0]-P,G=C[0][1]-P,I=C[1][0]-R+P,H=C[1][1]-G+P;r.setRect(this.clipRect,R,G,I,H),this.bgRect.call(r.setRect,R,G,I,H).call(i.fill,L.bgcolor),this.xaxis._offset=R,this.xaxis._length=I,this.yaxis._offset=G,this.yaxis._length=H},S.updateFx=function(E,L){var C=this,P=C.graphDiv,R=C.bgRect,G=E.dragmode,I=E.clickmode;if(!C.isStatic){var H={element:C.bgRect.node(),gd:P,plotinfo:{id:C.id,xaxis:C.xaxis,yaxis:C.yaxis,fillRangeItems:function(B,V){V.isRect?(B.range={})[C.id]=[N([V.xmin,V.ymin]),N([V.xmax,V.ymax])]:(B.lassoPoints={})[C.id]=V.map(N)}},xaxes:[C.xaxis],yaxes:[C.yaxis],subplot:C.id,clickFn:function(B){B===2&&b(P)}};G==="pan"?(R.node().onmousedown=null,R.call(h(C,L)),R.on("dblclick.zoom",function(){var B=C.viewInitial,V={};for(var q in B)V[C.id+"."+q]=B[q];d.call("_guiRelayout",P,V),P.emit("plotly_doubleclick",null)}),P._context._scrollZoom.geo||R.on("wheel.zoom",null)):G!=="select"&&G!=="lasso"||(R.on(".zoom",null),H.prepFn=function(B,V,q){c(B,V,q,H,G)},p.init(H)),R.on("mousemove",function(){var B=C.projection.invert(s.getPositionFromD3Event());if(!B)return p.unhover(P,M.event);C.xaxis.p2c=function(){return B[0]},C.yaxis.p2c=function(){return B[1]},n.hover(P,M.event,C.id)}),R.on("mouseout",function(){P._dragging||p.unhover(P,M.event)}),R.on("click",function(){G!=="select"&&G!=="lasso"&&(I.indexOf("select")>-1&&g(M.event,P,[C.xaxis],[C.yaxis],C.id,H),I.indexOf("event")>-1&&n.click(P,M.event))})}function N(B){return C.projection.invert([B[0]+C.xaxis._offset,B[1]+C.yaxis._offset])}},S.makeFramework=function(){var E=this,L=E.graphDiv,C=L._fullLayout,P="clip"+C._uid+E.id;E.clipDef=C._clips.append("clipPath").attr("id",P),E.clipRect=E.clipDef.append("rect"),E.framework=M.select(E.container).append("g").attr("class","geo "+E.id).call(r.setClipUrl,P,L),E.project=function(R){var G=E.projection(R);return G?[G[0]-E.xaxis._offset,G[1]-E.yaxis._offset]:[null,null]},E.xaxis={_id:"x",c2p:function(R){return E.project(R)[0]}},E.yaxis={_id:"y",c2p:function(R){return E.project(R)[1]}},E.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},o.setConvert(E.mockAxis,C)},S.saveViewInitial=function(E){var L,C=E.center||{},P=E.projection,R=P.rotation||{};this.viewInitial={fitbounds:E.fitbounds,"projection.scale":P.scale},L=E._isScoped?{"center.lon":C.lon,"center.lat":C.lat}:E._isClipped?{"projection.rotation.lon":R.lon,"projection.rotation.lat":R.lat}:{"center.lon":C.lon,"center.lat":C.lat,"projection.rotation.lon":R.lon},s.extendFlat(this.viewInitial,L)},S.render=function(E){this._hasMarkerAngles&&E?this.plot(this._geoCalcData,this._fullLayout,[],!0):this._render()},S._render=function(){var E,L=this.projection,C=L.getPath();function P(G){var I=L(G.lonlat);return I?t(I[0],I[1]):null}function R(G){return L.isLonLatOverEdges(G.lonlat)?"none":null}for(E in this.basePaths)this.basePaths[E].attr("d",C);for(E in this.dataPaths)this.dataPaths[E].attr("d",function(G){return C(G.geojson)});for(E in this.dataPoints)this.dataPoints[E].attr("display",R).attr("transform",P)}},44622:function(Y,O,e){var M=e(27659).AU,k=e(71828).counterRegex,a=e(69082),_="geo",y=k(_),d={};d[_]={valType:"subplotid",dflt:_,editType:"calc"},Y.exports={attr:_,name:_,idRoot:_,idRegex:y,attrRegex:y,attributes:d,layoutAttributes:e(77519),supplyLayoutDefaults:e(82161),plot:function(s){for(var t=s._fullLayout,i=s.calcdata,r=t._subplots[_],n=0;n<r.length;n++){var l=r[n],o=M(i,_,l),u=t[l]._subplot;u||(u=a({id:l,graphDiv:s,container:t._geolayer.node(),topojsonURL:s._context.topojsonURL,staticPlot:s._context.staticPlot}),t[l]._subplot=u),u.plot(o,t,s._promises)}},updateFx:function(s){for(var t=s._fullLayout,i=t._subplots[_],r=0;r<i.length;r++){var n=t[i[r]];n._subplot.updateFx(t,n)}},clean:function(s,t,i,r){for(var n=r._subplots[_]||[],l=0;l<n.length;l++){var o=n[l],u=r[o]._subplot;!t[o]&&u&&(u.framework.remove(),u.clipDef.remove())}}}},77519:function(Y,O,e){var M=e(22399),k=e(27670).Y,a=e(79952).P,_=e(78776),y=e(30962).overrideAll,d=e(78607),s={range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},showgrid:{valType:"boolean",dflt:!1},tick0:{valType:"number",dflt:0},dtick:{valType:"number"},gridcolor:{valType:"color",dflt:M.lightLine},gridwidth:{valType:"number",min:0,dflt:1},griddash:a};(Y.exports=y({domain:k({name:"geo"},{}),fitbounds:{valType:"enumerated",values:[!1,"locations","geojson"],dflt:!1,editType:"plot"},resolution:{valType:"enumerated",values:[110,50],dflt:110,coerceNumber:!0},scope:{valType:"enumerated",values:d(_.scopeDefaults),dflt:"world"},projection:{type:{valType:"enumerated",values:d(_.projNames)},rotation:{lon:{valType:"number"},lat:{valType:"number"},roll:{valType:"number"}},tilt:{valType:"number",dflt:0},distance:{valType:"number",min:1.001,dflt:2},parallels:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},scale:{valType:"number",min:0,dflt:1}},center:{lon:{valType:"number"},lat:{valType:"number"}},visible:{valType:"boolean",dflt:!0},showcoastlines:{valType:"boolean"},coastlinecolor:{valType:"color",dflt:M.defaultLine},coastlinewidth:{valType:"number",min:0,dflt:1},showland:{valType:"boolean",dflt:!1},landcolor:{valType:"color",dflt:_.landColor},showocean:{valType:"boolean",dflt:!1},oceancolor:{valType:"color",dflt:_.waterColor},showlakes:{valType:"boolean",dflt:!1},lakecolor:{valType:"color",dflt:_.waterColor},showrivers:{valType:"boolean",dflt:!1},rivercolor:{valType:"color",dflt:_.waterColor},riverwidth:{valType:"number",min:0,dflt:1},showcountries:{valType:"boolean"},countrycolor:{valType:"color",dflt:M.defaultLine},countrywidth:{valType:"number",min:0,dflt:1},showsubunits:{valType:"boolean"},subunitcolor:{valType:"color",dflt:M.defaultLine},subunitwidth:{valType:"number",min:0,dflt:1},showframe:{valType:"boolean"},framecolor:{valType:"color",dflt:M.defaultLine},framewidth:{valType:"number",min:0,dflt:1},bgcolor:{valType:"color",dflt:M.background},lonaxis:s,lataxis:s},"plot","from-root")).uirevision={valType:"any",editType:"none"}},82161:function(Y,O,e){var M=e(71828),k=e(49119),a=e(27659).NG,_=e(78776),y=e(77519),d=_.axesNames;function s(t,i,r,n){var l=a(n.fullData,"geo",n.id).map(function(K){return K._expandedIndex}),o=r("resolution"),u=r("scope"),p=_.scopeDefaults[u],c=r("projection.type",p.projType),b=i._isAlbersUsa=c==="albers usa";b&&(u=i.scope="usa");var g=i._isScoped=u!=="world",h=i._isSatellite=c==="satellite",x=i._isConic=c.indexOf("conic")!==-1||c==="albers",v=i._isClipped=!!_.lonaxisSpan[c];if(t.visible===!1){var m=M.extendDeep({},i._template);m.showcoastlines=!1,m.showcountries=!1,m.showframe=!1,m.showlakes=!1,m.showland=!1,m.showocean=!1,m.showrivers=!1,m.showsubunits=!1,m.lonaxis&&(m.lonaxis.showgrid=!1),m.lataxis&&(m.lataxis.showgrid=!1),i._template=m}for(var w=r("visible"),f=0;f<d.length;f++){var S,T=d[f],E=[30,10][f];if(g)S=p[T+"Range"];else{var L=_[T+"Span"],C=(L[c]||L["*"])/2,P=r("projection.rotation."+T.substr(0,3),p.projRotate[f]);S=[P-C,P+C]}var R=r(T+".range",S);r(T+".tick0"),r(T+".dtick",E),r(T+".showgrid",!!w&&void 0)&&(r(T+".gridcolor"),r(T+".gridwidth"),r(T+".griddash")),i[T]._ax={type:"linear",_id:T.slice(0,3),_traceIndices:l,setScale:M.identity,c2l:M.identity,r2l:M.identity,autorange:!0,range:R.slice(),_m:1,_input:{}}}var G=i.lonaxis.range,I=i.lataxis.range,H=G[0],N=G[1];H>0&&N<0&&(N+=360);var B,V,q,te=(H+N)/2;if(!b){var $=g?p.projRotate:[te,0,0];B=r("projection.rotation.lon",$[0]),r("projection.rotation.lat",$[1]),r("projection.rotation.roll",$[2]),r("showcoastlines",!g&&w)&&(r("coastlinecolor"),r("coastlinewidth")),r("showocean",!!w&&void 0)&&r("oceancolor")}b?(V=-96.6,q=38.7):(V=g?te:B,q=(I[0]+I[1])/2),r("center.lon",V),r("center.lat",q),h&&(r("projection.tilt"),r("projection.distance")),x&&r("projection.parallels",p.projParallels||[0,60]),r("projection.scale"),r("showland",!!w&&void 0)&&r("landcolor"),r("showlakes",!!w&&void 0)&&r("lakecolor"),r("showrivers",!!w&&void 0)&&(r("rivercolor"),r("riverwidth")),r("showcountries",g&&u!=="usa"&&w)&&(r("countrycolor"),r("countrywidth")),(u==="usa"||u==="north america"&&o===50)&&(r("showsubunits",w),r("subunitcolor"),r("subunitwidth")),g||r("showframe",w)&&(r("framecolor"),r("framewidth")),r("bgcolor"),r("fitbounds")&&(delete i.projection.scale,g?(delete i.center.lon,delete i.center.lat):v?(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon,delete i.projection.rotation.lat,delete i.lonaxis.range,delete i.lataxis.range):(delete i.center.lon,delete i.center.lat,delete i.projection.rotation.lon))}Y.exports=function(t,i,r){k(t,i,r,{type:"geo",attributes:y,handleDefaults:s,fullData:r,partition:"y"})}},74455:function(Y,O,e){var M=e(39898),k=e(71828),a=e(73972),_=Math.PI/180,y=180/Math.PI,d={cursor:"pointer"},s={cursor:"auto"};function t(g,h){return M.behavior.zoom().translate(h.translate()).scale(h.scale())}function i(g,h,x){var v=g.id,m=g.graphDiv,w=m.layout,f=w[v],S=m._fullLayout,T=S[v],E={},L={};function C(P,R){E[v+"."+P]=k.nestedProperty(f,P).get(),a.call("_storeDirectGUIEdit",w,S._preGUI,E);var G=k.nestedProperty(T,P);G.get()!==R&&(G.set(R),k.nestedProperty(f,P).set(R),L[v+"."+P]=R)}x(C),C("projection.scale",h.scale()/g.fitScale),C("fitbounds",!1),m.emit("plotly_relayout",L)}function r(g,h){var x=t(0,h);function v(m){var w=h.invert(g.midPt);m("center.lon",w[0]),m("center.lat",w[1])}return x.on("zoomstart",function(){M.select(this).style(d)}).on("zoom",function(){h.scale(M.event.scale).translate(M.event.translate),g.render(!0);var m=h.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.center.lon":m[0],"geo.center.lat":m[1]})}).on("zoomend",function(){M.select(this).style(s),i(g,h,v)}),x}function n(g,h){var x,v,m,w,f,S,T,E,L,C=t(0,h);function P(G){return h.invert(G)}function R(G){var I=h.rotate(),H=h.invert(g.midPt);G("projection.rotation.lon",-I[0]),G("center.lon",H[0]),G("center.lat",H[1])}return C.on("zoomstart",function(){M.select(this).style(d),x=M.mouse(this),v=h.rotate(),m=h.translate(),w=v,f=P(x)}).on("zoom",function(){if(S=M.mouse(this),function(H){var N=P(H);if(!N)return!0;var B=h(N);return Math.abs(B[0]-H[0])>2||Math.abs(B[1]-H[1])>2}(x))return C.scale(h.scale()),void C.translate(h.translate());h.scale(M.event.scale),h.translate([m[0],M.event.translate[1]]),f?P(S)&&(E=P(S),T=[w[0]+(E[0]-f[0]),v[1],v[2]],h.rotate(T),w=T):f=P(x=S),L=!0,g.render(!0);var G=h.rotate(),I=h.invert(g.midPt);g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.center.lon":I[0],"geo.center.lat":I[1],"geo.projection.rotation.lon":-G[0]})}).on("zoomend",function(){M.select(this).style(s),L&&i(g,h,R)}),C}function l(g,h){var x;h.rotate(),h.scale();var v=t(0,h),m=function(T){for(var E=0,L=arguments.length,C=[];++E<L;)C.push(arguments[E]);var P=M.dispatch.apply(null,C);return P.of=function(R,G){return function(I){var H;try{H=I.sourceEvent=M.event,I.target=T,M.event=I,P[I.type].apply(R,G)}finally{M.event=H}}},P}(v,"zoomstart","zoom","zoomend"),w=0,f=v.on;function S(T){var E=h.rotate();T("projection.rotation.lon",-E[0]),T("projection.rotation.lat",-E[1])}return v.on("zoomstart",function(){M.select(this).style(d);var T,E,L,C,P,R,G,I,H,N,B,V=M.mouse(this),q=h.rotate(),te=q,$=h.translate(),K=(E=.5*(T=q)[0]*_,L=.5*T[1]*_,C=.5*T[2]*_,P=Math.sin(E),R=Math.cos(E),G=Math.sin(L),I=Math.cos(L),H=Math.sin(C),[R*I*(N=Math.cos(C))+P*G*H,P*I*N-R*G*H,R*G*N+P*I*H,R*I*H-P*G*N]);x=o(h,V),f.call(v,"zoom",function(){var Z,X,ee,ne,re,ae,ue,pe,ge,we,me=M.mouse(this);if(h.scale(M.event.scale),x){if(o(h,me)){h.rotate(q).translate($);var ve=o(h,me),Ie=function(se,oe){if(se&&oe){var he=function(De,Ne){return[De[1]*Ne[2]-De[2]*Ne[1],De[2]*Ne[0]-De[0]*Ne[2],De[0]*Ne[1]-De[1]*Ne[0]]}(se,oe),Le=Math.sqrt(b(he,he)),Me=.5*Math.acos(Math.max(-1,Math.min(1,b(se,oe)))),_e=Math.sin(Me)/Le;return Le&&[Math.cos(Me),he[2]*_e,-he[1]*_e,he[0]*_e]}}(x,ve),Se=function(se){return[Math.atan2(2*(se[0]*se[1]+se[2]*se[3]),1-2*(se[1]*se[1]+se[2]*se[2]))*y,Math.asin(Math.max(-1,Math.min(1,2*(se[0]*se[2]-se[3]*se[1]))))*y,Math.atan2(2*(se[0]*se[3]+se[1]*se[2]),1-2*(se[2]*se[2]+se[3]*se[3]))*y]}((ee=(Z=K)[0],ne=Z[1],re=Z[2],ae=Z[3],[ee*(ue=(X=Ie)[0])-ne*(pe=X[1])-re*(ge=X[2])-ae*(we=X[3]),ee*pe+ne*ue+re*we-ae*ge,ee*ge-ne*we+re*ue+ae*pe,ee*we+ne*ge-re*pe+ae*ue])),ke=function(se,oe,he){var Le=c(oe,2,se[0]);Le=c(Le,1,se[1]),Le=c(Le,0,se[2]-he[2]);var Me,_e,De=oe[0],Ne=oe[1],ce=oe[2],Te=Le[0],ye=Le[1],Oe=Le[2],Be=Math.atan2(Ne,De)*y,Fe=Math.sqrt(De*De+Ne*Ne);Math.abs(ye)>Fe?(_e=(ye>0?90:-90)-Be,Me=0):(_e=Math.asin(ye/Fe)*y-Be,Me=Math.sqrt(Fe*Fe-ye*ye));var Ge=180-_e-2*Be,Ze=(Math.atan2(Oe,Te)-Math.atan2(ce,Me))*y,et=(Math.atan2(Oe,Te)-Math.atan2(ce,-Me))*y;return u(he[0],he[1],_e,Ze)<=u(he[0],he[1],Ge,et)?[_e,Ze,he[2]]:[Ge,et,he[2]]}(Se,x,te);isFinite(ke[0])&&isFinite(ke[1])&&isFinite(ke[2])||(ke=te),h.rotate(ke),te=ke}}else x=o(h,V=me);m.of(this,arguments)({type:"zoom"})}),B=m.of(this,arguments),w++||B({type:"zoomstart"})}).on("zoomend",function(){var T;M.select(this).style(s),f.call(v,"zoom",null),T=m.of(this,arguments),--w||T({type:"zoomend"}),i(g,h,S)}).on("zoom.redraw",function(){g.render(!0);var T=h.rotate();g.graphDiv.emit("plotly_relayouting",{"geo.projection.scale":h.scale()/g.fitScale,"geo.projection.rotation.lon":-T[0],"geo.projection.rotation.lat":-T[1]})}),M.rebind(v,m,"on")}function o(g,h){var x=g.invert(h);return x&&isFinite(x[0])&&isFinite(x[1])&&function(v){var m=v[0]*_,w=v[1]*_,f=Math.cos(w);return[f*Math.cos(m),f*Math.sin(m),Math.sin(w)]}(x)}function u(g,h,x,v){var m=p(x-g),w=p(v-h);return Math.sqrt(m*m+w*w)}function p(g){return(g%360+540)%360-180}function c(g,h,x){var v=x*_,m=g.slice(),w=h===0?1:0,f=h===2?1:2,S=Math.cos(v),T=Math.sin(v);return m[w]=g[w]*S-g[f]*T,m[f]=g[f]*S+g[w]*T,m}function b(g,h){for(var x=0,v=0,m=g.length;v<m;++v)x+=g[v]*h[v];return x}Y.exports=function(g,h){var x=g.projection;return(h._isScoped?r:h._isClipped?l:n)(g,x)}},27659:function(Y,O,e){var M=e(73972),k=e(85555).SUBPLOT_PATTERN;O.AU=function(a,_,y){var d=M.subplotsRegistry[_];if(!d)return[];for(var s=d.attr,t=[],i=0;i<a.length;i++){var r=a[i];r[0].trace[s]===y&&t.push(r)}return t},O.a0=function(a,_){var y,d=[],s=[];if(!(y=typeof _=="string"?M.getModule(_).plot:typeof _=="function"?_:_.plot))return[d,a];for(var t=0;t<a.length;t++){var i=a[t],r=i[0].trace;r.visible===!0&&r._length!==0&&(r._module&&r._module.plot===y?d.push(i):s.push(i))}return[d,s]},O.NG=function(a,_,y){if(!M.subplotsRegistry[_])return[];var d,s,t,i=M.subplotsRegistry[_].attr,r=[];if(_==="gl2d"){var n=y.match(k);s="x"+n[1],t="y"+n[2]}for(var l=0;l<a.length;l++)d=a[l],_==="gl2d"&&M.traceIs(d,"gl2d")?d[i[0]]===s&&d[i[1]]===t&&r.push(d):d[i]===y&&r.push(d);return r}},75071:function(Y,O,e){var M=e(16825),k=e(1195),a=e(48956),_=e(85555),y=e(38520);function d(s,t){this.element=s,this.plot=t,this.mouseListener=null,this.wheelListener=null,this.lastInputTime=Date.now(),this.lastPos=[0,0],this.boxEnabled=!1,this.boxInited=!1,this.boxStart=[0,0],this.boxEnd=[0,0],this.dragStart=[0,0]}Y.exports=function(s){var t=s.mouseContainer,i=s.glplot,r=new d(t,i);function n(){s.xaxis.autorange=!1,s.yaxis.autorange=!1}function l(o,u,p){var c,b,g=s.calcDataBox(),h=i.viewBox,x=r.lastPos[0],v=r.lastPos[1],m=_.MINDRAG*i.pixelRatio,w=_.MINZOOM*i.pixelRatio;function f(P,R,G){var I=Math.min(R,G),H=Math.max(R,G);I!==H?(g[P]=I,g[P+2]=H,r.dataBox=g,s.setRanges(g)):(s.selectBox.selectBox=[0,0,1,1],s.glplot.setDirty())}switch(u*=i.pixelRatio,p*=i.pixelRatio,p=h[3]-h[1]-p,s.fullLayout.dragmode){case"zoom":if(o){var S=u/(h[2]-h[0])*(g[2]-g[0])+g[0],T=p/(h[3]-h[1])*(g[3]-g[1])+g[1];r.boxInited||(r.boxStart[0]=S,r.boxStart[1]=T,r.dragStart[0]=u,r.dragStart[1]=p),r.boxEnd[0]=S,r.boxEnd[1]=T,r.boxInited=!0,r.boxEnabled||r.boxStart[0]===r.boxEnd[0]&&r.boxStart[1]===r.boxEnd[1]||(r.boxEnabled=!0);var E=Math.abs(r.dragStart[0]-u)<w,L=Math.abs(r.dragStart[1]-p)<w;if(!function(){for(var P=s.graphDiv._fullLayout._axisConstraintGroups,R=s.xaxis._id,G=s.yaxis._id,I=0;I<P.length;I++)if(P[I][R]!==-1){if(P[I][G]!==-1)return!0;break}return!1}()||E&&L)E&&(r.boxEnd[0]=r.boxStart[0]),L&&(r.boxEnd[1]=r.boxStart[1]);else{c=r.boxEnd[0]-r.boxStart[0],b=r.boxEnd[1]-r.boxStart[1];var C=(g[3]-g[1])/(g[2]-g[0]);Math.abs(c*C)>Math.abs(b)?(r.boxEnd[1]=r.boxStart[1]+Math.abs(c)*C*(b>=0?1:-1),r.boxEnd[1]<g[1]?(r.boxEnd[1]=g[1],r.boxEnd[0]=r.boxStart[0]+(g[1]-r.boxStart[1])/Math.abs(C)):r.boxEnd[1]>g[3]&&(r.boxEnd[1]=g[3],r.boxEnd[0]=r.boxStart[0]+(g[3]-r.boxStart[1])/Math.abs(C))):(r.boxEnd[0]=r.boxStart[0]+Math.abs(b)/C*(c>=0?1:-1),r.boxEnd[0]<g[0]?(r.boxEnd[0]=g[0],r.boxEnd[1]=r.boxStart[1]+(g[0]-r.boxStart[0])*Math.abs(C)):r.boxEnd[0]>g[2]&&(r.boxEnd[0]=g[2],r.boxEnd[1]=r.boxStart[1]+(g[2]-r.boxStart[0])*Math.abs(C)))}}else r.boxEnabled?(c=r.boxStart[0]!==r.boxEnd[0],b=r.boxStart[1]!==r.boxEnd[1],c||b?(c&&(f(0,r.boxStart[0],r.boxEnd[0]),s.xaxis.autorange=!1),b&&(f(1,r.boxStart[1],r.boxEnd[1]),s.yaxis.autorange=!1),s.relayoutCallback()):s.glplot.setDirty(),r.boxEnabled=!1,r.boxInited=!1):r.boxInited&&(r.boxInited=!1);break;case"pan":r.boxEnabled=!1,r.boxInited=!1,o?(r.panning||(r.dragStart[0]=u,r.dragStart[1]=p),Math.abs(r.dragStart[0]-u)<m&&(u=r.dragStart[0]),Math.abs(r.dragStart[1]-p)<m&&(p=r.dragStart[1]),c=(x-u)*(g[2]-g[0])/(i.viewBox[2]-i.viewBox[0]),b=(v-p)*(g[3]-g[1])/(i.viewBox[3]-i.viewBox[1]),g[0]+=c,g[2]+=c,g[1]+=b,g[3]+=b,s.setRanges(g),r.panning=!0,r.lastInputTime=Date.now(),n(),s.cameraChanged(),s.handleAnnotations()):r.panning&&(r.panning=!1,s.relayoutCallback())}r.lastPos[0]=u,r.lastPos[1]=p}return r.mouseListener=M(t,l),t.addEventListener("touchstart",function(o){var u=a(o.changedTouches[0],t);l(0,u[0],u[1]),l(1,u[0],u[1]),o.preventDefault()},!!y&&{passive:!1}),t.addEventListener("touchmove",function(o){o.preventDefault();var u=a(o.changedTouches[0],t);l(1,u[0],u[1]),o.preventDefault()},!!y&&{passive:!1}),t.addEventListener("touchend",function(o){l(0,r.lastPos[0],r.lastPos[1]),o.preventDefault()},!!y&&{passive:!1}),r.wheelListener=k(t,function(o,u){if(!s.scrollZoom)return!1;var p=s.calcDataBox(),c=i.viewBox,b=r.lastPos[0],g=r.lastPos[1],h=Math.exp(5*u/(c[3]-c[1])),x=b/(c[2]-c[0])*(p[2]-p[0])+p[0],v=g/(c[3]-c[1])*(p[3]-p[1])+p[1];return p[0]=(p[0]-x)*h+x,p[2]=(p[2]-x)*h+x,p[1]=(p[1]-v)*h+v,p[3]=(p[3]-v)*h+v,s.setRanges(p),r.lastInputTime=Date.now(),n(),s.cameraChanged(),s.handleAnnotations(),s.relayoutCallback(),!0},!0),r}},82961:function(Y,O,e){var M=e(89298),k=e(78614);function a(d){this.scene=d,this.gl=d.gl,this.pixelRatio=d.pixelRatio,this.screenBox=[0,0,1,1],this.viewBox=[0,0,1,1],this.dataBox=[-1,-1,1,1],this.borderLineEnable=[!1,!1,!1,!1],this.borderLineWidth=[1,1,1,1],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.ticks=[[],[]],this.tickEnable=[!0,!0,!1,!1],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labels=["x","y"],this.labelEnable=[!0,!0,!1,!1],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelPad=[15,15,15,15],this.labelSize=[12,12],this.labelFont=["sans-serif","sans-serif"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.title="",this.titleEnable=!0,this.titleCenter=[0,0,0,0],this.titleAngle=0,this.titleColor=[0,0,0,1],this.titleFont="sans-serif",this.titleSize=18,this.gridLineEnable=[!0,!0],this.gridLineColor=[[0,0,0,.5],[0,0,0,.5]],this.gridLineWidth=[1,1],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[1,1],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.static=this.scene.staticPlot}var _=a.prototype,y=["xaxis","yaxis"];_.merge=function(d){var s,t,i,r,n,l,o,u,p,c,b;for(this.titleEnable=!1,this.backgroundColor=k(d.plot_bgcolor),c=0;c<2;++c){var g=(s=y[c]).charAt(0);for(i=(t=d[this.scene[s]._name]).title.text===this.scene.fullLayout._dfltTitle[g]?"":t.title.text,b=0;b<=2;b+=2)this.labelEnable[c+b]=!1,this.labels[c+b]=i,this.labelColor[c+b]=k(t.title.font.color),this.labelFont[c+b]=t.title.font.family,this.labelSize[c+b]=t.title.font.size,this.labelPad[c+b]=this.getLabelPad(s,t),this.tickEnable[c+b]=!1,this.tickColor[c+b]=k((t.tickfont||{}).color),this.tickAngle[c+b]=t.tickangle==="auto"?0:Math.PI*-t.tickangle/180,this.tickPad[c+b]=this.getTickPad(t),this.tickMarkLength[c+b]=0,this.tickMarkWidth[c+b]=t.tickwidth||0,this.tickMarkColor[c+b]=k(t.tickcolor),this.borderLineEnable[c+b]=!1,this.borderLineColor[c+b]=k(t.linecolor),this.borderLineWidth[c+b]=t.linewidth||0;o=this.hasSharedAxis(t),n=this.hasAxisInDfltPos(s,t)&&!o,l=this.hasAxisInAltrPos(s,t)&&!o,r=t.mirror||!1,u=o?String(r).indexOf("all")!==-1:!!r,p=o?r==="allticks":String(r).indexOf("ticks")!==-1,n?this.labelEnable[c]=!0:l&&(this.labelEnable[c+2]=!0),n?this.tickEnable[c]=t.showticklabels:l&&(this.tickEnable[c+2]=t.showticklabels),(n||u)&&(this.borderLineEnable[c]=t.showline),(l||u)&&(this.borderLineEnable[c+2]=t.showline),(n||p)&&(this.tickMarkLength[c]=this.getTickMarkLength(t)),(l||p)&&(this.tickMarkLength[c+2]=this.getTickMarkLength(t)),this.gridLineEnable[c]=t.showgrid,this.gridLineColor[c]=k(t.gridcolor),this.gridLineWidth[c]=t.gridwidth,this.zeroLineEnable[c]=t.zeroline,this.zeroLineColor[c]=k(t.zerolinecolor),this.zeroLineWidth[c]=t.zerolinewidth}},_.hasSharedAxis=function(d){var s=this.scene,t=s.fullLayout._subplots.gl2d;return M.findSubplotsWithAxis(t,d).indexOf(s.id)!==0},_.hasAxisInDfltPos=function(d,s){var t=s.side;return d==="xaxis"?t==="bottom":d==="yaxis"?t==="left":void 0},_.hasAxisInAltrPos=function(d,s){var t=s.side;return d==="xaxis"?t==="top":d==="yaxis"?t==="right":void 0},_.getLabelPad=function(d,s){var t=1.5,i=s.title.font.size,r=s.showticklabels;return d==="xaxis"?s.side==="top"?i*(t+(r?1:0))-10:i*(t+(r?.5:0))-10:d==="yaxis"?s.side==="right"?10+i*(t+(r?1:.5)):10+i*(t+(r?.5:0)):void 0},_.getTickPad=function(d){return d.ticks==="outside"?10+d.ticklen:15},_.getTickMarkLength=function(d){if(!d.ticks)return 0;var s=d.ticklen;return d.ticks==="inside"?-s:s},Y.exports=function(d){return new a(d)}},4796:function(Y,O,e){var M=e(30962).overrideAll,k=e(92918),a=e(10820),_=e(77922),y=e(85555),d=e(93612),s=e(528),t=e(27659).NG;O.name="gl2d",O.attr=["xaxis","yaxis"],O.idRoot=["x","y"],O.idRegex=y.idRegex,O.attrRegex=y.attrRegex,O.attributes=e(89502),O.supplyLayoutDefaults=function(i,r,n){r._has("cartesian")||d.supplyLayoutDefaults(i,r,n)},O.layoutAttrOverrides=M(d.layoutAttributes,"plot","from-root"),O.baseLayoutAttrOverrides=M({plot_bgcolor:a.plot_bgcolor,hoverlabel:s.hoverlabel},"plot","nested"),O.plot=function(i){for(var r=i._fullLayout,n=i._fullData,l=r._subplots.gl2d,o=0;o<l.length;o++){var u=l[o],p=r._plots[u],c=t(n,"gl2d",u),b=p._scene2d;b===void 0&&(b=new k({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio},r),p._scene2d=b),b.plot(c,i.calcdata,r,i.layout)}},O.clean=function(i,r,n,l){for(var o=l._subplots.gl2d||[],u=0;u<o.length;u++){var p=o[u],c=l._plots[p];c._scene2d&&t(i,"gl2d",p).length===0&&(c._scene2d.destroy(),delete l._plots[p])}d.clean.apply(this,arguments)},O.drawFramework=function(i){i._context.staticPlot||d.drawFramework(i)},O.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,l=0;l<n.length;l++){var o=r._plots[n[l]]._scene2d,u=o.toImage("png");r._glimages.append("svg:image").attr({xmlns:_.svg,"xlink:href":u,x:0,y:0,width:"100%",height:"100%",preserveAspectRatio:"none"}),o.destroy()}},O.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots.gl2d,l=0;l<n.length;l++)r._plots[n[l]]._scene2d.updateFx(r.dragmode)}},92918:function(Y,O,e){var M,k,a=e(73972),_=e(89298),y=e(30211),d=e(9330).gl_plot2d,s=e(9330).gl_spikes2d,t=e(9330).gl_select_box,i=e(40372),r=e(82961),n=e(75071),l=e(58617),o=e(99082),u=o.enforce,p=o.clean,c=e(71739).doAutoRange,b=e(64505),g=b.drawMode,h=b.selectMode,x=["xaxis","yaxis"],v=e(85555).SUBPLOT_PATTERN;function m(f,S){this.container=f.container,this.graphDiv=f.graphDiv,this.pixelRatio=f.plotGlPixelRatio||window.devicePixelRatio,this.id=f.id,this.staticPlot=!!f.staticPlot,this.scrollZoom=this.graphDiv._context._scrollZoom.cartesian,this.fullData=null,this.updateRefs(S),this.makeFramework(),this.stopped||(this.glplotOptions=r(this),this.glplotOptions.merge(S),this.glplot=d(this.glplotOptions),this.camera=n(this),this.traces={},this.spikes=s(this.glplot),this.selectBox=t(this.glplot,{innerFill:!1,outerFill:!0}),this.lastButtonState=0,this.pickResult=null,this.isMouseOver=!0,this.stopped=!1,this.redraw=this.draw.bind(this),this.redraw())}Y.exports=m;var w=m.prototype;w.makeFramework=function(){if(this.staticPlot){if(!(k||(M=document.createElement("canvas"),k=i({canvas:M,preserveDrawingBuffer:!1,premultipliedAlpha:!0,antialias:!0}))))throw new Error("Error creating static canvas/context for image server");this.canvas=M,this.gl=k}else{var f=this.container.querySelector(".gl-canvas-focus"),S=i({canvas:f,preserveDrawingBuffer:!0,premultipliedAlpha:!0});if(!S)return l(this),void(this.stopped=!0);this.canvas=f,this.gl=S}var T=this.canvas;T.style.width="100%",T.style.height="100%",T.style.position="absolute",T.style.top="0px",T.style.left="0px",T.style["pointer-events"]="none",this.updateSize(T);var E=this.svgContainer=document.createElementNS("http://www.w3.org/2000/svg","svg");E.style.position="absolute",E.style.top=E.style.left="0px",E.style.width=E.style.height="100%",E.style["z-index"]=20,E.style["pointer-events"]="none";var L=this.mouseContainer=document.createElement("div");L.style.position="absolute",L.style["pointer-events"]="auto",this.pickCanvas=this.container.querySelector(".gl-canvas-pick");var C=this.container;C.appendChild(E),C.appendChild(L);var P=this;L.addEventListener("mouseout",function(){P.isMouseOver=!1,P.unhover()}),L.addEventListener("mouseover",function(){P.isMouseOver=!0})},w.toImage=function(f){f||(f="png"),this.stopped=!0,this.staticPlot&&this.container.appendChild(M),this.updateSize(this.canvas);var S=this.glplot.gl,T=S.drawingBufferWidth,E=S.drawingBufferHeight;S.clearColor(1,1,1,0),S.clear(S.COLOR_BUFFER_BIT|S.DEPTH_BUFFER_BIT),this.glplot.setDirty(),this.glplot.draw(),S.bindFramebuffer(S.FRAMEBUFFER,null);var L=new Uint8Array(T*E*4);S.readPixels(0,0,T,E,S.RGBA,S.UNSIGNED_BYTE,L);for(var C=0,P=E-1;C<P;++C,--P)for(var R=0;R<T;++R)for(var G=0;G<4;++G){var I=L[4*(T*C+R)+G];L[4*(T*C+R)+G]=L[4*(T*P+R)+G],L[4*(T*P+R)+G]=I}var H=document.createElement("canvas");H.width=T,H.height=E;var N,B=H.getContext("2d",{willReadFrequently:!0}),V=B.createImageData(T,E);switch(V.data.set(L),B.putImageData(V,0,0),f){case"jpeg":N=H.toDataURL("image/jpeg");break;case"webp":N=H.toDataURL("image/webp");break;default:N=H.toDataURL("image/png")}return this.staticPlot&&this.container.removeChild(M),N},w.updateSize=function(f){f||(f=this.canvas);var S=this.pixelRatio,T=this.fullLayout,E=T.width,L=T.height,C=0|Math.ceil(S*E),P=0|Math.ceil(S*L);return f.width===C&&f.height===P||(f.width=C,f.height=P),f},w.computeTickMarks=function(){this.xaxis.setScale(),this.yaxis.setScale();for(var f=[_.calcTicks(this.xaxis),_.calcTicks(this.yaxis)],S=0;S<2;++S)for(var T=0;T<f[S].length;++T)f[S][T].text=f[S][T].text+"";return f},w.updateRefs=function(f){this.fullLayout=f;var S=this.id.match(v),T="xaxis"+S[1],E="yaxis"+S[2];this.xaxis=this.fullLayout[T],this.yaxis=this.fullLayout[E]},w.relayoutCallback=function(){var f=this.graphDiv,S=this.xaxis,T=this.yaxis,E=f.layout,L={},C=L[S._name+".range"]=S.range.slice(),P=L[T._name+".range"]=T.range.slice();L[S._name+".autorange"]=S.autorange,L[T._name+".autorange"]=T.autorange,a.call("_storeDirectGUIEdit",f.layout,f._fullLayout._preGUI,L);var R=E[S._name];R.range=C,R.autorange=S.autorange;var G=E[T._name];G.range=P,G.autorange=T.autorange,L.lastInputTime=this.camera.lastInputTime,f.emit("plotly_relayout",L)},w.cameraChanged=function(){var f=this.camera;this.glplot.setDataBox(this.calcDataBox());var S=this.computeTickMarks();(function(T,E){for(var L=0;L<2;++L){var C=T[L],P=E[L];if(C.length!==P.length)return!0;for(var R=0;R<C.length;++R)if(C[R].x!==P[R].x)return!0}return!1})(S,this.glplotOptions.ticks)&&(this.glplotOptions.ticks=S,this.glplotOptions.dataBox=f.dataBox,this.glplot.update(this.glplotOptions),this.handleAnnotations())},w.handleAnnotations=function(){for(var f=this.graphDiv,S=this.fullLayout.annotations,T=0;T<S.length;T++){var E=S[T];E.xref===this.xaxis._id&&E.yref===this.yaxis._id&&a.getComponentMethod("annotations","drawOne")(f,T)}},w.destroy=function(){if(this.glplot){var f=this.traces;f&&Object.keys(f).map(function(S){f[S].dispose(),delete f[S]}),this.glplot.dispose(),this.container.removeChild(this.svgContainer),this.container.removeChild(this.mouseContainer),this.fullData=null,this.glplot=null,this.stopped=!0,this.camera.mouseListener.enabled=!1,this.mouseContainer.removeEventListener("wheel",this.camera.wheelListener),this.camera=null}},w.plot=function(f,S,T){var E=this.glplot;this.updateRefs(T),this.xaxis.clearCalc(),this.yaxis.clearCalc(),this.updateTraces(f,S),this.updateFx(T.dragmode);var L=T.width,C=T.height;this.updateSize(this.canvas);var P=this.glplotOptions;P.merge(T),P.screenBox=[0,0,L,C];var R={_fullLayout:{_axisConstraintGroups:T._axisConstraintGroups,xaxis:this.xaxis,yaxis:this.yaxis,_size:T._size}};p(R,this.xaxis),p(R,this.yaxis);var G,I,H=T._size,N=this.xaxis.domain,B=this.yaxis.domain;for(P.viewBox=[H.l+N[0]*H.w,H.b+B[0]*H.h,L-H.r-(1-N[1])*H.w,C-H.t-(1-B[1])*H.h],this.mouseContainer.style.width=H.w*(N[1]-N[0])+"px",this.mouseContainer.style.height=H.h*(B[1]-B[0])+"px",this.mouseContainer.height=H.h*(B[1]-B[0]),this.mouseContainer.style.left=H.l+N[0]*H.w+"px",this.mouseContainer.style.top=H.t+(1-B[1])*H.h+"px",I=0;I<2;++I)(G=this[x[I]])._length=P.viewBox[I+2]-P.viewBox[I],c(this.graphDiv,G),G.setScale();u(R),P.ticks=this.computeTickMarks(),P.dataBox=this.calcDataBox(),P.merge(T),E.update(P),this.glplot.draw()},w.calcDataBox=function(){var f=this.xaxis,S=this.yaxis,T=f.range,E=S.range,L=f.r2l,C=S.r2l;return[L(T[0]),C(E[0]),L(T[1]),C(E[1])]},w.setRanges=function(f){var S=this.xaxis,T=this.yaxis,E=S.l2r,L=T.l2r;S.range=[E(f[0]),E(f[2])],T.range=[L(f[1]),L(f[3])]},w.updateTraces=function(f,S){var T,E,L,C=Object.keys(this.traces);this.fullData=f;e:for(T=0;T<C.length;T++){var P=C[T],R=this.traces[P];for(E=0;E<f.length;E++)if((L=f[E]).uid===P&&L.type===R.type)continue e;R.dispose(),delete this.traces[P]}for(T=0;T<f.length;T++){L=f[T];var G=S[T],I=this.traces[L.uid];I?I.update(L,G):(I=L._module.plot(this,L,G),this.traces[L.uid]=I)}this.glplot.objects.sort(function(H,N){return H._trace.index-N._trace.index})},w.updateFx=function(f){h(f)||g(f)?(this.pickCanvas.style["pointer-events"]="none",this.mouseContainer.style["pointer-events"]="none"):(this.pickCanvas.style["pointer-events"]="auto",this.mouseContainer.style["pointer-events"]="auto"),this.mouseContainer.style.cursor=f==="pan"?"move":f==="zoom"?"crosshair":null},w.emitPointAction=function(f,S){for(var T,E=f.trace.uid,L=f.pointIndex,C=0;C<this.fullData.length;C++)this.fullData[C].uid===E&&(T=this.fullData[C]);var P={x:f.traceCoord[0],y:f.traceCoord[1],curveNumber:T.index,pointNumber:L,data:T._input,fullData:this.fullData,xaxis:this.xaxis,yaxis:this.yaxis};y.appendArrayPointValue(P,T,L),this.graphDiv.emit(S,{points:[P]})},w.draw=function(){if(!this.stopped){requestAnimationFrame(this.redraw);var f=this.glplot,S=this.camera,T=S.mouseListener,E=this.lastButtonState===1&&T.buttons===0,L=this.fullLayout;this.lastButtonState=T.buttons,this.cameraChanged();var C,P=T.x*f.pixelRatio,R=this.canvas.height-f.pixelRatio*T.y;if(S.boxEnabled&&L.dragmode==="zoom"){this.selectBox.enabled=!0;for(var G=this.selectBox.selectBox=[Math.min(S.boxStart[0],S.boxEnd[0]),Math.min(S.boxStart[1],S.boxEnd[1]),Math.max(S.boxStart[0],S.boxEnd[0]),Math.max(S.boxStart[1],S.boxEnd[1])],I=0;I<2;I++)S.boxStart[I]===S.boxEnd[I]&&(G[I]=f.dataBox[I],G[I+2]=f.dataBox[I+2]);f.setDirty()}else if(!S.panning&&this.isMouseOver){this.selectBox.enabled=!1;var H=L._size,N=this.xaxis.domain,B=this.yaxis.domain,V=(C=f.pick(P/f.pixelRatio+H.l+N[0]*H.w,R/f.pixelRatio-(H.t+(1-B[1])*H.h)))&&C.object._trace.handlePick(C);if(V&&E&&this.emitPointAction(V,"plotly_click"),C&&C.object._trace.hoverinfo!=="skip"&&L.hovermode&&V&&(!this.lastPickResult||this.lastPickResult.traceUid!==V.trace.uid||this.lastPickResult.dataCoord[0]!==V.dataCoord[0]||this.lastPickResult.dataCoord[1]!==V.dataCoord[1])){var q=V;this.lastPickResult={traceUid:V.trace?V.trace.uid:null,dataCoord:V.dataCoord.slice()},this.spikes.update({center:C.dataCoord}),q.screenCoord=[((f.viewBox[2]-f.viewBox[0])*(C.dataCoord[0]-f.dataBox[0])/(f.dataBox[2]-f.dataBox[0])+f.viewBox[0])/f.pixelRatio,(this.canvas.height-(f.viewBox[3]-f.viewBox[1])*(C.dataCoord[1]-f.dataBox[1])/(f.dataBox[3]-f.dataBox[1])-f.viewBox[1])/f.pixelRatio],this.emitPointAction(V,"plotly_hover");var te=this.fullData[q.trace.index]||{},$=q.pointIndex,K=y.castHoverinfo(te,L,$);if(K&&K!=="all"){var Z=K.split("+");Z.indexOf("x")===-1&&(q.traceCoord[0]=void 0),Z.indexOf("y")===-1&&(q.traceCoord[1]=void 0),Z.indexOf("z")===-1&&(q.traceCoord[2]=void 0),Z.indexOf("text")===-1&&(q.textLabel=void 0),Z.indexOf("name")===-1&&(q.name=void 0)}y.loneHover({x:q.screenCoord[0],y:q.screenCoord[1],xLabel:this.hoverFormatter("xaxis",q.traceCoord[0]),yLabel:this.hoverFormatter("yaxis",q.traceCoord[1]),zLabel:q.traceCoord[2],text:q.textLabel,name:q.name,color:y.castHoverOption(te,$,"bgcolor")||q.color,borderColor:y.castHoverOption(te,$,"bordercolor"),fontFamily:y.castHoverOption(te,$,"font.family"),fontSize:y.castHoverOption(te,$,"font.size"),fontColor:y.castHoverOption(te,$,"font.color"),nameLength:y.castHoverOption(te,$,"namelength"),textAlign:y.castHoverOption(te,$,"align")},{container:this.svgContainer,gd:this.graphDiv})}}C||this.unhover(),f.draw()}},w.unhover=function(){this.lastPickResult&&(this.spikes.update({}),this.lastPickResult=null,this.graphDiv.emit("plotly_unhover"),y.loneUnhover(this.svgContainer))},w.hoverFormatter=function(f,S){if(S!==void 0){var T=this[f];return _.tickText(T,T.c2l(S),"hover").text}}},58547:function(Y,O,e){var M=e(30962).overrideAll,k=e(528),a=e(33539),_=e(27659).NG,y=e(71828),d=e(77922),s="gl3d",t="scene";O.name=s,O.attr=t,O.idRoot=t,O.idRegex=O.attrRegex=y.counterRegex("scene"),O.attributes=e(59084),O.layoutAttributes=e(65500),O.baseLayoutAttrOverrides=M({hoverlabel:k.hoverlabel},"plot","nested"),O.supplyLayoutDefaults=e(24682),O.plot=function(i){for(var r=i._fullLayout,n=i._fullData,l=r._subplots[s],o=0;o<l.length;o++){var u=l[o],p=_(n,s,u),c=r[u],b=c.camera,g=c._scene;g||(g=new a({id:u,graphDiv:i,container:i.querySelector(".gl-container"),staticPlot:i._context.staticPlot,plotGlPixelRatio:i._context.plotGlPixelRatio,camera:b},r),c._scene=g),g.viewInitial||(g.viewInitial={up:{x:b.up.x,y:b.up.y,z:b.up.z},eye:{x:b.eye.x,y:b.eye.y,z:b.eye.z},center:{x:b.center.x,y:b.center.y,z:b.center.z}}),g.plot(p,r,i.layout)}},O.clean=function(i,r,n,l){for(var o=l._subplots[s]||[],u=0;u<o.length;u++){var p=o[u];!r[p]&&l[p]._scene&&(l[p]._scene.destroy(),l._infolayer&&l._infolayer.selectAll(".annotation-"+p).remove())}},O.toSVG=function(i){for(var r=i._fullLayout,n=r._subplots[s],l=r._size,o=0;o<n.length;o++){var u=r[n[o]],p=u.domain,c=u._scene,b=c.toImage("png");r._glimages.append("svg:image").attr({xmlns:d.svg,"xlink:href":b,x:l.l+l.w*p.x[0],y:l.t+l.h*(1-p.y[1]),width:l.w*(p.x[1]-p.x[0]),height:l.h*(p.y[1]-p.y[0]),preserveAspectRatio:"none"}),c.destroy()}},O.cleanId=function(i){if(i.match(/^scene[0-9]*$/)){var r=i.substr(5);return r==="1"&&(r=""),t+r}},O.updateFx=function(i){for(var r=i._fullLayout,n=r._subplots[s],l=0;l<n.length;l++)r[n[l]]._scene.updateFx(r.dragmode,r.hovermode)}},59084:function(Y){Y.exports={scene:{valType:"subplotid",dflt:"scene",editType:"calc+clearAxisTypes"}}},77894:function(Y,O,e){var M=e(7901),k=e(13838),a=e(1426).extendFlat,_=e(30962).overrideAll;Y.exports=_({visible:k.visible,showspikes:{valType:"boolean",dflt:!0},spikesides:{valType:"boolean",dflt:!0},spikethickness:{valType:"number",min:0,dflt:2},spikecolor:{valType:"color",dflt:M.defaultLine},showbackground:{valType:"boolean",dflt:!1},backgroundcolor:{valType:"color",dflt:"rgba(204, 204, 204, 0.5)"},showaxeslabels:{valType:"boolean",dflt:!0},color:k.color,categoryorder:k.categoryorder,categoryarray:k.categoryarray,title:{text:k.title.text,font:k.title.font},type:a({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorange:k.autorange,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},rangemode:k.rangemode,minallowed:k.minallowed,maxallowed:k.maxallowed,range:a({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],anim:!1}),tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,mirror:k.mirror,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,tickfont:k.tickfont,tickangle:k.tickangle,tickprefix:k.tickprefix,showtickprefix:k.showtickprefix,ticksuffix:k.ticksuffix,showticksuffix:k.showticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickformat:k.tickformat,tickformatstops:k.tickformatstops,hoverformat:k.hoverformat,showline:k.showline,linecolor:k.linecolor,linewidth:k.linewidth,showgrid:k.showgrid,gridcolor:a({},k.gridcolor,{dflt:"rgb(204, 204, 204)"}),gridwidth:k.gridwidth,zeroline:k.zeroline,zerolinecolor:k.zerolinecolor,zerolinewidth:k.zerolinewidth,_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}},"plot","from-root")},3277:function(Y,O,e){var M=e(84267).mix,k=e(71828),a=e(44467),_=e(77894),y=e(951),d=e(71453),s=["xaxis","yaxis","zaxis"];Y.exports=function(t,i,r){var n,l;function o(c,b){return k.coerce(n,l,_,c,b)}for(var u=0;u<s.length;u++){var p=s[u];n=t[p]||{},(l=a.newContainer(i,p))._id=p[0]+r.scene,l._name=p,y(n,l,o,r),d(n,l,o,{font:r.font,letter:p[0],data:r.data,showGrid:!0,noTickson:!0,noTicklabelmode:!0,noTicklabelstep:!0,noTicklabelposition:!0,noTicklabeloverflow:!0,noInsiderange:!0,bgColor:r.bgColor,calendar:r.calendar},r.fullLayout),o("gridcolor",M(l.color,r.bgColor,72.72727272727273).toRgbString()),o("title.text",p[0]),l.setScale=k.noop,o("showspikes")&&(o("spikesides"),o("spikethickness"),o("spikecolor",l.color)),o("showaxeslabels"),o("showbackground")&&o("backgroundcolor")}}},30422:function(Y,O,e){var M=e(78614),k=e(71828),a=["xaxis","yaxis","zaxis"];function _(){this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[18,18,18],this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont=["Open Sans","Open Sans","Open Sans"],this.labelSize=[20,20,20],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[30,30,30],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[10,10,10],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!0,!0,!0],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._defaultTickPad=this.tickPad.slice(),this._defaultLabelPad=this.labelPad.slice(),this._defaultLineTickLength=this.lineTickLength.slice()}_.prototype.merge=function(y,d){for(var s=this,t=0;t<3;++t){var i=d[a[t]];i.visible?(s.labels[t]=y._meta?k.templateString(i.title.text,y._meta):i.title.text,"font"in i.title&&(i.title.font.color&&(s.labelColor[t]=M(i.title.font.color)),i.title.font.family&&(s.labelFont[t]=i.title.font.family),i.title.font.size&&(s.labelSize[t]=i.title.font.size)),"showline"in i&&(s.lineEnable[t]=i.showline),"linecolor"in i&&(s.lineColor[t]=M(i.linecolor)),"linewidth"in i&&(s.lineWidth[t]=i.linewidth),"showgrid"in i&&(s.gridEnable[t]=i.showgrid),"gridcolor"in i&&(s.gridColor[t]=M(i.gridcolor)),"gridwidth"in i&&(s.gridWidth[t]=i.gridwidth),i.type==="log"?s.zeroEnable[t]=!1:"zeroline"in i&&(s.zeroEnable[t]=i.zeroline),"zerolinecolor"in i&&(s.zeroLineColor[t]=M(i.zerolinecolor)),"zerolinewidth"in i&&(s.zeroLineWidth[t]=i.zerolinewidth),"ticks"in i&&i.ticks?s.lineTickEnable[t]=!0:s.lineTickEnable[t]=!1,"ticklen"in i&&(s.lineTickLength[t]=s._defaultLineTickLength[t]=i.ticklen),"tickcolor"in i&&(s.lineTickColor[t]=M(i.tickcolor)),"tickwidth"in i&&(s.lineTickWidth[t]=i.tickwidth),"tickangle"in i&&(s.tickAngle[t]=i.tickangle==="auto"?-3600:Math.PI*-i.tickangle/180),"showticklabels"in i&&(s.tickEnable[t]=i.showticklabels),"tickfont"in i&&(i.tickfont.color&&(s.tickColor[t]=M(i.tickfont.color)),i.tickfont.family&&(s.tickFont[t]=i.tickfont.family),i.tickfont.size&&(s.tickSize[t]=i.tickfont.size)),"mirror"in i?["ticks","all","allticks"].indexOf(i.mirror)!==-1?(s.lineTickMirror[t]=!0,s.lineMirror[t]=!0):i.mirror===!0?(s.lineTickMirror[t]=!1,s.lineMirror[t]=!0):(s.lineTickMirror[t]=!1,s.lineMirror[t]=!1):s.lineMirror[t]=!1,"showbackground"in i&&i.showbackground!==!1?(s.backgroundEnable[t]=!0,s.backgroundColor[t]=M(i.backgroundcolor)):s.backgroundEnable[t]=!1):(s.tickEnable[t]=!1,s.labelEnable[t]=!1,s.lineEnable[t]=!1,s.lineTickEnable[t]=!1,s.gridEnable[t]=!1,s.zeroEnable[t]=!1,s.backgroundEnable[t]=!1)}},Y.exports=function(y,d){var s=new _;return s.merge(y,d),s}},24682:function(Y,O,e){var M=e(71828),k=e(7901),a=e(73972),_=e(49119),y=e(3277),d=e(65500),s=e(27659).NG,t="gl3d";function i(r,n,l,o){for(var u=l("bgcolor"),p=k.combine(u,o.paper_bgcolor),c=["up","center","eye"],b=0;b<c.length;b++)l("camera."+c[b]+".x"),l("camera."+c[b]+".y"),l("camera."+c[b]+".z");l("camera.projection.type");var g=!!l("aspectratio.x")&&!!l("aspectratio.y")&&!!l("aspectratio.z"),h=l("aspectmode",g?"manual":"auto");g||(r.aspectratio=n.aspectratio={x:1,y:1,z:1},h==="manual"&&(n.aspectmode="auto"),r.aspectmode=n.aspectmode);var x=s(o.fullData,t,o.id);y(r,n,{font:o.font,scene:o.id,data:x,bgColor:p,calendar:o.calendar,autotypenumbersDflt:o.autotypenumbersDflt,fullLayout:o.fullLayout}),a.getComponentMethod("annotations3d","handleDefaults")(r,n,o);var v=o.getDfltFromLayout("dragmode");if(v!==!1&&!v)if(v="orbit",r.camera&&r.camera.up){var m=r.camera.up.x,w=r.camera.up.y,f=r.camera.up.z;f!==0&&(m&&w&&f?f/Math.sqrt(m*m+w*w+f*f)>.999&&(v="turntable"):v="turntable")}else v="turntable";l("dragmode",v),l("hovermode",o.getDfltFromLayout("hovermode"))}Y.exports=function(r,n,l){var o=n._basePlotModules.length>1;_(r,n,l,{type:t,attributes:d,handleDefaults:i,fullLayout:n,font:n.font,fullData:l,getDfltFromLayout:function(u){if(!o)return M.validate(r[u],d[u])?r[u]:void 0},autotypenumbersDflt:n.autotypenumbers,paper_bgcolor:n.paper_bgcolor,calendar:n.calendar})}},65500:function(Y,O,e){var M=e(77894),k=e(27670).Y,a=e(1426).extendFlat,_=e(71828).counterRegex;function y(d,s,t){return{x:{valType:"number",dflt:d,editType:"camera"},y:{valType:"number",dflt:s,editType:"camera"},z:{valType:"number",dflt:t,editType:"camera"},editType:"camera"}}Y.exports={_arrayAttrRegexps:[_("scene",".annotations",!0)],bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"plot"},camera:{up:a(y(0,0,1),{}),center:a(y(0,0,0),{}),eye:a(y(1.25,1.25,1.25),{}),projection:{type:{valType:"enumerated",values:["perspective","orthographic"],dflt:"perspective",editType:"calc"},editType:"calc"},editType:"camera"},domain:k({name:"scene",editType:"plot"}),aspectmode:{valType:"enumerated",values:["auto","cube","data","manual"],dflt:"auto",editType:"plot",impliedEdits:{"aspectratio.x":void 0,"aspectratio.y":void 0,"aspectratio.z":void 0}},aspectratio:{x:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},y:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},z:{valType:"number",min:0,editType:"plot",impliedEdits:{"^aspectmode":"manual"}},editType:"plot",impliedEdits:{aspectmode:"manual"}},xaxis:M,yaxis:M,zaxis:M,dragmode:{valType:"enumerated",values:["orbit","turntable","zoom","pan",!1],editType:"plot"},hovermode:{valType:"enumerated",values:["closest",!1],dflt:"closest",editType:"modebar"},uirevision:{valType:"any",editType:"none"},editType:"plot",_deprecated:{cameraposition:{valType:"info_array",editType:"camera"}}}},13133:function(Y,O,e){var M=e(78614),k=["xaxis","yaxis","zaxis"];function a(){this.enabled=[!0,!0,!0],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.drawSides=[!0,!0,!0],this.lineWidth=[1,1,1]}a.prototype.merge=function(_){for(var y=0;y<3;++y){var d=_[k[y]];d.visible?(this.enabled[y]=d.showspikes,this.colors[y]=M(d.spikecolor),this.drawSides[y]=d.spikesides,this.lineWidth[y]=d.spikethickness):(this.enabled[y]=!1,this.drawSides[y]=!1)}},Y.exports=function(_){var y=new a;return y.merge(_),y}},96085:function(Y,O,e){Y.exports=function(y){for(var d=y.axesOptions,s=y.glplot.axesPixels,t=y.fullSceneLayout,i=[[],[],[]],r=0;r<3;++r){var n=t[a[r]];if(n._length=(s[r].hi-s[r].lo)*s[r].pixelsPerDataUnit/y.dataScale[r],Math.abs(n._length)===1/0||isNaN(n._length))i[r]=[];else{n._input_range=n.range.slice(),n.range[0]=s[r].lo/y.dataScale[r],n.range[1]=s[r].hi/y.dataScale[r],n._m=1/(y.dataScale[r]*s[r].pixelsPerDataUnit),n.range[0]===n.range[1]&&(n.range[0]-=1,n.range[1]+=1);var l=n.tickmode;if(n.tickmode==="auto"){n.tickmode="linear";var o=n.nticks||k.constrain(n._length/40,4,9);M.autoTicks(n,Math.abs(n.range[1]-n.range[0])/o)}for(var u=M.calcTicks(n,{msUTC:!0}),p=0;p<u.length;++p)u[p].x=u[p].x*y.dataScale[r],n.type==="date"&&(u[p].text=u[p].text.replace(/\<br\>/g," "));i[r]=u,n.tickmode=l}}for(d.ticks=i,r=0;r<3;++r)for(_[r]=.5*(y.glplot.bounds[0][r]+y.glplot.bounds[1][r]),p=0;p<2;++p)d.bounds[p][r]=y.glplot.bounds[p][r];y.contourLevels=function(c){for(var b=new Array(3),g=0;g<3;++g){for(var h=c[g],x=new Array(h.length),v=0;v<h.length;++v)x[v]=h[v].x;b[g]=x}return b}(i)};var M=e(89298),k=e(71828),a=["xaxis","yaxis","zaxis"],_=[0,0,0]},63538:function(Y){function O(e,M){var k,a,_=[0,0,0,0];for(k=0;k<4;++k)for(a=0;a<4;++a)_[a]+=e[4*k+a]*M[k];return _}Y.exports=function(e,M){return O(e.projection,O(e.view,O(e.model,[M[0],M[1],M[2],1])))}},33539:function(Y,O,e){var M,k,a=e(9330).gl_plot3d,_=a.createCamera,y=a.createScene,d=e(40372),s=e(38520),t=e(73972),i=e(71828),r=i.preserveDrawingBuffer(),n=e(89298),l=e(30211),o=e(78614),u=e(58617),p=e(63538),c=e(30422),b=e(13133),g=e(96085),h=e(71739).applyAutorangeOptions,x=!1;function v(T,E){var L=document.createElement("div"),C=T.container;this.graphDiv=T.graphDiv;var P=document.createElementNS("http://www.w3.org/2000/svg","svg");P.style.position="absolute",P.style.top=P.style.left="0px",P.style.width=P.style.height="100%",P.style["z-index"]=20,P.style["pointer-events"]="none",L.appendChild(P),this.svgContainer=P,L.id=T.id,L.style.position="absolute",L.style.top=L.style.left="0px",L.style.width=L.style.height="100%",C.appendChild(L),this.fullLayout=E,this.id=T.id||"scene",this.fullSceneLayout=E[this.id],this.plotArgs=[[],{},{}],this.axesOptions=c(E,E[this.id]),this.spikeOptions=b(E[this.id]),this.container=L,this.staticMode=!!T.staticPlot,this.pixelRatio=this.pixelRatio||T.plotGlPixelRatio||2,this.dataScale=[1,1,1],this.contourLevels=[[],[],[]],this.convertAnnotations=t.getComponentMethod("annotations3d","convert"),this.drawAnnotations=t.getComponentMethod("annotations3d","draw"),this.initializeGLPlot()}var m=v.prototype;m.prepareOptions=function(){var T=this,E={canvas:T.canvas,gl:T.gl,glOptions:{preserveDrawingBuffer:r,premultipliedAlpha:!0,antialias:!0},container:T.container,axes:T.axesOptions,spikes:T.spikeOptions,pickRadius:10,snapToData:!0,autoScale:!0,autoBounds:!1,cameraObject:T.camera,pixelRatio:T.pixelRatio};if(T.staticMode){if(!(k||(M=document.createElement("canvas"),k=d({canvas:M,preserveDrawingBuffer:!0,premultipliedAlpha:!0,antialias:!0}))))throw new Error("error creating static canvas/context for image server");E.gl=k,E.canvas=M}return E};var w=!0;m.tryCreatePlot=function(){var T=this,E=T.prepareOptions(),L=!0;try{T.glplot=y(E)}catch{if(T.staticMode||!w||r)L=!1;else{i.warn(["webgl setup failed possibly due to","false preserveDrawingBuffer config.","The mobile/tablet device may not be detected by is-mobile module.","Enabling preserveDrawingBuffer in second attempt to create webgl scene..."].join(" "));try{r=E.glOptions.preserveDrawingBuffer=!0,T.glplot=y(E)}catch{r=E.glOptions.preserveDrawingBuffer=!1,L=!1}}}return w=!1,L},m.initializeGLCamera=function(){var T=this,E=T.fullSceneLayout.camera,L=E.projection.type==="orthographic";T.camera=_(T.container,{center:[E.center.x,E.center.y,E.center.z],eye:[E.eye.x,E.eye.y,E.eye.z],up:[E.up.x,E.up.y,E.up.z],_ortho:L,zoomMin:.01,zoomMax:100,mode:"orbit"})},m.initializeGLPlot=function(){var T=this;if(T.initializeGLCamera(),!T.tryCreatePlot())return u(T);T.traces={},T.make4thDimension();var E=T.graphDiv,L=E.layout,C=function(){var R={};return T.isCameraChanged(L)&&(R[T.id+".camera"]=T.getCamera()),T.isAspectChanged(L)&&(R[T.id+".aspectratio"]=T.glplot.getAspectratio(),L[T.id].aspectmode!=="manual"&&(T.fullSceneLayout.aspectmode=L[T.id].aspectmode=R[T.id+".aspectmode"]="manual")),R},P=function(R){if(R.fullSceneLayout.dragmode!==!1){var G=C();R.saveLayout(L),R.graphDiv.emit("plotly_relayout",G)}};return T.glplot.canvas&&(T.glplot.canvas.addEventListener("mouseup",function(){P(T)}),T.glplot.canvas.addEventListener("touchstart",function(){x=!0}),T.glplot.canvas.addEventListener("wheel",function(R){if(E._context._scrollZoom.gl3d){if(T.camera._ortho){var G=R.deltaX>R.deltaY?1.1:.9090909090909091,I=T.glplot.getAspectratio();T.glplot.setAspectratio({x:G*I.x,y:G*I.y,z:G*I.z})}P(T)}},!!s&&{passive:!1}),T.glplot.canvas.addEventListener("mousemove",function(){if(T.fullSceneLayout.dragmode!==!1&&T.camera.mouseListener.buttons!==0){var R=C();T.graphDiv.emit("plotly_relayouting",R)}}),T.staticMode||T.glplot.canvas.addEventListener("webglcontextlost",function(R){E&&E.emit&&E.emit("plotly_webglcontextlost",{event:R,layer:T.id})},!1)),T.glplot.oncontextloss=function(){T.recoverContext()},T.glplot.onrender=function(){T.render()},!0},m.render=function(){var T,E=this,L=E.graphDiv,C=E.svgContainer,P=E.container.getBoundingClientRect();L._fullLayout._calcInverseTransform(L);var R=L._fullLayout._invScaleX,G=L._fullLayout._invScaleY,I=P.width*R,H=P.height*G;C.setAttributeNS(null,"viewBox","0 0 "+I+" "+H),C.setAttributeNS(null,"width",I),C.setAttributeNS(null,"height",H),g(E),E.glplot.axes.update(E.axesOptions);for(var N=Object.keys(E.traces),B=null,V=E.glplot.selection,q=0;q<N.length;++q)(T=E.traces[N[q]]).data.hoverinfo!=="skip"&&T.handlePick(V)&&(B=T),T.setContourLevels&&T.setContourLevels();function te(me,ve,Ie){var Se=E.fullSceneLayout[me+"axis"];return Se.type!=="log"&&(ve=Se.d2l(ve)),n.hoverLabelText(Se,ve,Ie)}if(B!==null){var $=p(E.glplot.cameraParams,V.dataCoordinate);T=B.data;var K,Z=L._fullData[T.index],X=V.index,ee={xLabel:te("x",V.traceCoordinate[0],T.xhoverformat),yLabel:te("y",V.traceCoordinate[1],T.yhoverformat),zLabel:te("z",V.traceCoordinate[2],T.zhoverformat)},ne=l.castHoverinfo(Z,E.fullLayout,X),re=(ne||"").split("+"),ae=ne&&ne==="all";Z.hovertemplate||ae||(re.indexOf("x")===-1&&(ee.xLabel=void 0),re.indexOf("y")===-1&&(ee.yLabel=void 0),re.indexOf("z")===-1&&(ee.zLabel=void 0),re.indexOf("text")===-1&&(V.textLabel=void 0),re.indexOf("name")===-1&&(B.name=void 0));var ue=[];T.type==="cone"||T.type==="streamtube"?(ee.uLabel=te("x",V.traceCoordinate[3],T.uhoverformat),(ae||re.indexOf("u")!==-1)&&ue.push("u: "+ee.uLabel),ee.vLabel=te("y",V.traceCoordinate[4],T.vhoverformat),(ae||re.indexOf("v")!==-1)&&ue.push("v: "+ee.vLabel),ee.wLabel=te("z",V.traceCoordinate[5],T.whoverformat),(ae||re.indexOf("w")!==-1)&&ue.push("w: "+ee.wLabel),ee.normLabel=V.traceCoordinate[6].toPrecision(3),(ae||re.indexOf("norm")!==-1)&&ue.push("norm: "+ee.normLabel),T.type==="streamtube"&&(ee.divergenceLabel=V.traceCoordinate[7].toPrecision(3),(ae||re.indexOf("divergence")!==-1)&&ue.push("divergence: "+ee.divergenceLabel)),V.textLabel&&ue.push(V.textLabel),K=ue.join("<br>")):T.type==="isosurface"||T.type==="volume"?(ee.valueLabel=n.hoverLabelText(E._mockAxis,E._mockAxis.d2l(V.traceCoordinate[3]),T.valuehoverformat),ue.push("value: "+ee.valueLabel),V.textLabel&&ue.push(V.textLabel),K=ue.join("<br>")):K=V.textLabel;var pe={x:V.traceCoordinate[0],y:V.traceCoordinate[1],z:V.traceCoordinate[2],data:Z._input,fullData:Z,curveNumber:Z.index,pointNumber:X};l.appendArrayPointValue(pe,Z,X),T._module.eventData&&(pe=Z._module.eventData(pe,V,Z,{},X));var ge={points:[pe]};if(E.fullSceneLayout.hovermode){var we=[];l.loneHover({trace:Z,x:(.5+.5*$[0]/$[3])*I,y:(.5-.5*$[1]/$[3])*H,xLabel:ee.xLabel,yLabel:ee.yLabel,zLabel:ee.zLabel,text:K,name:B.name,color:l.castHoverOption(Z,X,"bgcolor")||B.color,borderColor:l.castHoverOption(Z,X,"bordercolor"),fontFamily:l.castHoverOption(Z,X,"font.family"),fontSize:l.castHoverOption(Z,X,"font.size"),fontColor:l.castHoverOption(Z,X,"font.color"),nameLength:l.castHoverOption(Z,X,"namelength"),textAlign:l.castHoverOption(Z,X,"align"),hovertemplate:i.castOption(Z,X,"hovertemplate"),hovertemplateLabels:i.extendFlat({},pe,ee),eventData:[pe]},{container:C,gd:L,inOut_bbox:we}),pe.bbox=we[0]}V.distance<5&&(V.buttons||x)?L.emit("plotly_click",ge):L.emit("plotly_hover",ge),this.oldEventData=ge}else l.loneUnhover(C),this.oldEventData&&L.emit("plotly_unhover",this.oldEventData),this.oldEventData=void 0;E.drawAnnotations(E)},m.recoverContext=function(){var T=this;T.glplot.dispose();var E=function(){T.glplot.gl.isContextLost()?requestAnimationFrame(E):T.initializeGLPlot()?T.plot.apply(T,T.plotArgs):i.error("Catastrophic and unrecoverable WebGL error. Context lost.")};requestAnimationFrame(E)};var f=["xaxis","yaxis","zaxis"];function S(T,E,L){for(var C=T.fullSceneLayout,P=0;P<3;P++){var R=f[P],G=R.charAt(0),I=C[R],H=E[G],N=E[G+"calendar"],B=E["_"+G+"length"];if(i.isArrayOrTypedArray(H))for(var V,q=0;q<(B||H.length);q++)if(i.isArrayOrTypedArray(H[q]))for(var te=0;te<H[q].length;++te)V=I.d2l(H[q][te],0,N),!isNaN(V)&&isFinite(V)&&(L[0][P]=Math.min(L[0][P],V),L[1][P]=Math.max(L[1][P],V));else V=I.d2l(H[q],0,N),!isNaN(V)&&isFinite(V)&&(L[0][P]=Math.min(L[0][P],V),L[1][P]=Math.max(L[1][P],V));else L[0][P]=Math.min(L[0][P],0),L[1][P]=Math.max(L[1][P],B-1)}}m.plot=function(T,E,L){var C=this;if(C.plotArgs=[T,E,L],!C.glplot.contextLost){var P,R,G,I,H,N,B=E[C.id],V=L[C.id];C.fullLayout=E,C.fullSceneLayout=B,C.axesOptions.merge(E,B),C.spikeOptions.merge(B),C.setViewport(B),C.updateFx(B.dragmode,B.hovermode),C.camera.enableWheel=C.graphDiv._context._scrollZoom.gl3d,C.glplot.setClearColor(o(B.bgcolor)),C.setConvert(H),T?Array.isArray(T)||(T=[T]):T=[];var q=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(G=0;G<T.length;++G)(P=T[G]).visible===!0&&P._length!==0&&S(this,P,q);(function(De,Ne){for(var ce=De.fullSceneLayout,Te=ce.annotations||[],ye=0;ye<3;ye++)for(var Oe=f[ye],Be=Oe.charAt(0),Fe=ce[Oe],Ge=0;Ge<Te.length;Ge++){var Ze=Te[Ge];if(Ze.visible){var et=Fe.r2l(Ze[Be]);!isNaN(et)&&isFinite(et)&&(Ne[0][ye]=Math.min(Ne[0][ye],et),Ne[1][ye]=Math.max(Ne[1][ye],et))}}})(this,q);var te=[1,1,1];for(I=0;I<3;++I)q[1][I]===q[0][I]?te[I]=1:te[I]=1/(q[1][I]-q[0][I]);for(C.dataScale=te,C.convertAnnotations(this),G=0;G<T.length;++G)(P=T[G]).visible===!0&&P._length!==0&&((R=C.traces[P.uid])?R.data.type===P.type?R.update(P):(R.dispose(),R=P._module.plot(this,P),C.traces[P.uid]=R):(R=P._module.plot(this,P),C.traces[P.uid]=R),R.name=P.name);var $=Object.keys(C.traces);e:for(G=0;G<$.length;++G){for(I=0;I<T.length;++I)if(T[I].uid===$[G]&&T[I].visible===!0&&T[I]._length!==0)continue e;(R=C.traces[$[G]]).dispose(),delete C.traces[$[G]]}C.glplot.objects.sort(function(De,Ne){return De._trace.data.index-Ne._trace.data.index});var K,Z=[[0,0,0],[0,0,0]],X=[],ee={};for(G=0;G<3;++G){var ne;if((N=(H=B[f[G]]).type)in ee?(ee[N].acc*=te[G],ee[N].count+=1):ee[N]={acc:te[G],count:1},H.autorange){Z[0][G]=1/0,Z[1][G]=-1/0;var re=C.glplot.objects,ae=C.fullSceneLayout.annotations||[],ue=H._name.charAt(0);for(I=0;I<re.length;I++){var pe=re[I],ge=pe.bounds,we=pe._trace.data._pad||0;pe.constructor.name==="ErrorBars"&&H._lowerLogErrorBound?Z[0][G]=Math.min(Z[0][G],H._lowerLogErrorBound):Z[0][G]=Math.min(Z[0][G],ge[0][G]/te[G]-we),Z[1][G]=Math.max(Z[1][G],ge[1][G]/te[G]+we)}for(I=0;I<ae.length;I++){var me=ae[I];if(me.visible){var ve=H.r2l(me[ue]);Z[0][G]=Math.min(Z[0][G],ve),Z[1][G]=Math.max(Z[1][G],ve)}}if("rangemode"in H&&H.rangemode==="tozero"&&(Z[0][G]=Math.min(Z[0][G],0),Z[1][G]=Math.max(Z[1][G],0)),Z[0][G]>Z[1][G])Z[0][G]=-1,Z[1][G]=1;else{var Ie=Z[1][G]-Z[0][G];Z[0][G]-=Ie/32,Z[1][G]+=Ie/32}if(ne=[Z[0][G],Z[1][G]],ne=h(ne,H),Z[0][G]=ne[0],Z[1][G]=ne[1],H.isReversed()){var Se=Z[0][G];Z[0][G]=Z[1][G],Z[1][G]=Se}}else ne=H.range,Z[0][G]=H.r2l(ne[0]),Z[1][G]=H.r2l(ne[1]);Z[0][G]===Z[1][G]&&(Z[0][G]-=1,Z[1][G]+=1),X[G]=Z[1][G]-Z[0][G],H.range=[Z[0][G],Z[1][G]],H.limitRange(),C.glplot.setBounds(G,{min:H.range[0]*te[G],max:H.range[1]*te[G]})}var ke=B.aspectmode;if(ke==="cube")K=[1,1,1];else if(ke==="manual"){var se=B.aspectratio;K=[se.x,se.y,se.z]}else{if(ke!=="auto"&&ke!=="data")throw new Error("scene.js aspectRatio was not one of the enumerated types");var oe=[1,1,1];for(G=0;G<3;++G){var he=ee[N=(H=B[f[G]]).type];oe[G]=Math.pow(he.acc,1/he.count)/te[G]}K=ke==="data"||Math.max.apply(null,oe)/Math.min.apply(null,oe)<=4?oe:[1,1,1]}B.aspectratio.x=V.aspectratio.x=K[0],B.aspectratio.y=V.aspectratio.y=K[1],B.aspectratio.z=V.aspectratio.z=K[2],C.glplot.setAspectratio(B.aspectratio),C.viewInitial.aspectratio||(C.viewInitial.aspectratio={x:B.aspectratio.x,y:B.aspectratio.y,z:B.aspectratio.z}),C.viewInitial.aspectmode||(C.viewInitial.aspectmode=B.aspectmode);var Le=B.domain||null,Me=E._size||null;if(Le&&Me){var _e=C.container.style;_e.position="absolute",_e.left=Me.l+Le.x[0]*Me.w+"px",_e.top=Me.t+(1-Le.y[1])*Me.h+"px",_e.width=Me.w*(Le.x[1]-Le.x[0])+"px",_e.height=Me.h*(Le.y[1]-Le.y[0])+"px"}C.glplot.redraw()}},m.destroy=function(){var T=this;T.glplot&&(T.camera.mouseListener.enabled=!1,T.container.removeEventListener("wheel",T.camera.wheelListener),T.camera=null,T.glplot.dispose(),T.container.parentNode.removeChild(T.container),T.glplot=null)},m.getCamera=function(){var T,E=this;return E.camera.view.recalcMatrix(E.camera.view.lastT()),{up:{x:(T=E.camera).up[0],y:T.up[1],z:T.up[2]},center:{x:T.center[0],y:T.center[1],z:T.center[2]},eye:{x:T.eye[0],y:T.eye[1],z:T.eye[2]},projection:{type:T._ortho===!0?"orthographic":"perspective"}}},m.setViewport=function(T){var E,L=this,C=T.camera;L.camera.lookAt.apply(this,[[(E=C).eye.x,E.eye.y,E.eye.z],[E.center.x,E.center.y,E.center.z],[E.up.x,E.up.y,E.up.z]]),L.glplot.setAspectratio(T.aspectratio),C.projection.type==="orthographic"!==L.camera._ortho&&(L.glplot.redraw(),L.glplot.clearRGBA(),L.glplot.dispose(),L.initializeGLPlot())},m.isCameraChanged=function(T){var E=this.getCamera(),L=i.nestedProperty(T,this.id+".camera").get();function C(I,H,N,B){var V=["up","center","eye"],q=["x","y","z"];return H[V[N]]&&I[V[N]][q[B]]===H[V[N]][q[B]]}var P=!1;if(L===void 0)P=!0;else{for(var R=0;R<3;R++)for(var G=0;G<3;G++)if(!C(E,L,R,G)){P=!0;break}(!L.projection||E.projection&&E.projection.type!==L.projection.type)&&(P=!0)}return P},m.isAspectChanged=function(T){var E=this.glplot.getAspectratio(),L=i.nestedProperty(T,this.id+".aspectratio").get();return L===void 0||L.x!==E.x||L.y!==E.y||L.z!==E.z},m.saveLayout=function(T){var E,L,C,P,R,G,I=this,H=I.fullLayout,N=I.isCameraChanged(T),B=I.isAspectChanged(T),V=N||B;if(V){var q={};N&&(E=I.getCamera(),C=(L=i.nestedProperty(T,I.id+".camera")).get(),q[I.id+".camera"]=C),B&&(P=I.glplot.getAspectratio(),G=(R=i.nestedProperty(T,I.id+".aspectratio")).get(),q[I.id+".aspectratio"]=G),t.call("_storeDirectGUIEdit",T,H._preGUI,q),N&&(L.set(E),i.nestedProperty(H,I.id+".camera").set(E)),B&&(R.set(P),i.nestedProperty(H,I.id+".aspectratio").set(P),I.glplot.redraw())}return V},m.updateFx=function(T,E){var L=this,C=L.camera;if(C)if(T==="orbit")C.mode="orbit",C.keyBindingMode="rotate";else if(T==="turntable"){C.up=[0,0,1],C.mode="turntable",C.keyBindingMode="rotate";var P=L.graphDiv,R=P._fullLayout,G=L.fullSceneLayout.camera,I=G.up.x,H=G.up.y,N=G.up.z;if(N/Math.sqrt(I*I+H*H+N*N)<.999){var B=L.id+".camera.up",V={x:0,y:0,z:1},q={};q[B]=V;var te=P.layout;t.call("_storeDirectGUIEdit",te,R._preGUI,q),G.up=V,i.nestedProperty(te,B).set(V)}}else C.keyBindingMode=T;L.fullSceneLayout.hovermode=E},m.toImage=function(T){var E=this;T||(T="png"),E.staticMode&&E.container.appendChild(M),E.glplot.redraw();var L=E.glplot.gl,C=L.drawingBufferWidth,P=L.drawingBufferHeight;L.bindFramebuffer(L.FRAMEBUFFER,null);var R=new Uint8Array(C*P*4);L.readPixels(0,0,C,P,L.RGBA,L.UNSIGNED_BYTE,R),function(B,V,q){for(var te=0,$=q-1;te<$;++te,--$)for(var K=0;K<V;++K)for(var Z=0;Z<4;++Z){var X=4*(V*te+K)+Z,ee=4*(V*$+K)+Z,ne=B[X];B[X]=B[ee],B[ee]=ne}}(R,C,P),function(B,V,q){for(var te=0;te<q;++te)for(var $=0;$<V;++$){var K=4*(V*te+$),Z=B[K+3];if(Z>0)for(var X=255/Z,ee=0;ee<3;++ee)B[K+ee]=Math.min(X*B[K+ee],255)}}(R,C,P);var G=document.createElement("canvas");G.width=C,G.height=P;var I,H=G.getContext("2d",{willReadFrequently:!0}),N=H.createImageData(C,P);switch(N.data.set(R),H.putImageData(N,0,0),T){case"jpeg":I=G.toDataURL("image/jpeg");break;case"webp":I=G.toDataURL("image/webp");break;default:I=G.toDataURL("image/png")}return E.staticMode&&E.container.removeChild(M),I},m.setConvert=function(){for(var T=0;T<3;T++){var E=this.fullSceneLayout[f[T]];n.setConvert(E,this.fullLayout),E.setScale=i.noop}},m.make4thDimension=function(){var T=this,E=T.graphDiv._fullLayout;T._mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},n.setConvert(T._mockAxis,E)},Y.exports=v},90060:function(Y){Y.exports=function(O,e,M,k){k=k||O.length;for(var a=new Array(k),_=0;_<k;_++)a[_]=[O[_],e[_],M[_]];return a}},10820:function(Y,O,e){var M=e(41940),k=e(85594),a=e(22399),_=e(29241),y=e(53777),d=e(35025),s=e(1426).extendFlat,t=M({editType:"calc"});t.family.dflt='"Open Sans", verdana, arial, sans-serif',t.size.dflt=12,t.color.dflt=a.defaultLine,Y.exports={font:t,title:{text:{valType:"string",editType:"layoutstyle"},font:M({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:s(d({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:a.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:_.newshape,activeshape:_.activeshape,newselection:y.newselection,activeselection:y.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:s({},k.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:M({editType:"layoutstyle"})}}},77734:function(Y,O,e){var M=e(78607),k="1.10.1",a='© <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',_=['© <a target="_blank" href="https://carto.com/">Carto</a>',a].join(" "),y=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),d={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:a,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:_,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:y,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:y,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}],glyphs:"https://fonts.openmaptiles.org/{fontstack}/{range}.pbf"}},s=M(d);Y.exports={requiredVersion:k,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:d,styleValuesNonMapbox:s,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+k+"."].join(`
`),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join(`
`),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",s.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join(`
`),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join(`
`),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":`content: ""; cursor: pointer; position: absolute; background-image: url('data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;`,"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":`display:block; width: 21px; height: 21px; background-image: url('data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E')`}}},13056:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){var _=k.split(" "),y=_[0],d=_[1],s=M.isArrayOrTypedArray(a)?M.mean(a):a,t=.5+s/100,i=1.5+s/100,r=["",""],n=[0,0];switch(y){case"top":r[0]="top",n[1]=-i;break;case"bottom":r[0]="bottom",n[1]=i}switch(d){case"left":r[1]="right",n[0]=-t;break;case"right":r[1]="left",n[0]=t}return{anchor:r[0]&&r[1]?r.join("-"):r[0]?r[0]:r[1]?r[1]:"center",offset:n}}},50101:function(Y,O,e){var M=e(44517),k=e(71828),a=k.strTranslate,_=k.strScale,y=e(27659).AU,d=e(77922),s=e(39898),t=e(91424),i=e(63893),r=e(10481),n="mapbox",l=O.constants=e(77734);function o(u){return typeof u=="string"&&(l.styleValuesMapbox.indexOf(u)!==-1||u.indexOf("mapbox://")===0)}O.name=n,O.attr="subplot",O.idRoot=n,O.idRegex=O.attrRegex=k.counterRegex(n),O.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc"}},O.layoutAttributes=e(23585),O.supplyLayoutDefaults=e(77882),O.plot=function(u){var p=u._fullLayout,c=u.calcdata,b=p._subplots[n];if(M.version!==l.requiredVersion)throw new Error(l.wrongVersionErrorMsg);var g=function(f,S){var T=f._fullLayout;if(f._context.mapboxAccessToken==="")return"";for(var E=[],L=[],C=!1,P=!1,R=0;R<S.length;R++){var G=T[S[R]],I=G.accesstoken;o(G.style)&&(I?k.pushUnique(E,I):(o(G._input.style)&&(k.error("Uses Mapbox map style, but did not set an access token."),C=!0),P=!0)),I&&k.pushUnique(L,I)}if(P){var H=C?l.noAccessTokenErrorMsg:l.missingStyleErrorMsg;throw k.error(H),new Error(H)}return E.length?(E.length>1&&k.warn(l.multipleTokensErrorMsg),E[0]):(L.length&&k.log(["Listed mapbox access token(s)",L.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(u,b);M.accessToken=g;for(var h=0;h<b.length;h++){var x=b[h],v=y(c,n,x),m=p[x],w=m._subplot;w||(w=new r(u,x),p[x]._subplot=w),w.viewInitial||(w.viewInitial={center:k.extendFlat({},m.center),zoom:m.zoom,bearing:m.bearing,pitch:m.pitch}),w.plot(v,p,u._promises)}},O.clean=function(u,p,c,b){for(var g=b._subplots[n]||[],h=0;h<g.length;h++){var x=g[h];!p[x]&&b[x]._subplot&&b[x]._subplot.destroy()}},O.toSVG=function(u){for(var p=u._fullLayout,c=p._subplots[n],b=p._size,g=0;g<c.length;g++){var h=p[c[g]],x=h.domain,v=h._subplot.toImage("png");p._glimages.append("svg:image").attr({xmlns:d.svg,"xlink:href":v,x:b.l+b.w*x.x[0],y:b.t+b.h*(1-x.y[1]),width:b.w*(x.x[1]-x.x[0]),height:b.h*(x.y[1]-x.y[0]),preserveAspectRatio:"none"});var m=s.select(h._subplot.div);if(m.select(".mapboxgl-ctrl-logo").node().offsetParent!==null){var w=p._glimages.append("g");w.attr("transform",a(b.l+b.w*x.x[0]+10,b.t+b.h*(1-x.y[0])-31)),w.append("path").attr("d",l.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),w.append("path").attr("d",l.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),w.append("path").attr("d",l.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),w.append("polygon").attr("points",l.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var f=m.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),S=p._glimages.append("g"),T=S.append("text");T.text(f).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":f});var E=t.bBox(T.node()),L=b.w*(x.x[1]-x.x[0]);if(E.width>L/2){var C=f.split("|").join("<br>");T.text(C).attr("data-unformatted",C).call(i.convertToTspans,u),E=t.bBox(T.node())}T.attr("transform",a(-3,8-E.height)),S.insert("rect",".static-attribution").attr({x:-E.width-6,y:-E.height-3,width:E.width+6,height:E.height+3,fill:"rgba(255, 255, 255, 0.75)"});var P=1;E.width+6>L&&(P=L/(E.width+6));var R=[b.l+b.w*x.x[1],b.t+b.h*(1-x.y[0])];S.attr("transform",a(R[0],R[1])+_(P))}},O.updateFx=function(u){for(var p=u._fullLayout,c=p._subplots[n],b=0;b<c.length;b++)p[c[b]]._subplot.updateFx(p)}},67911:function(Y,O,e){var M=e(71828),k=e(63893).sanitizeHTML,a=e(13056),_=e(77734);function y(i,r){this.subplot=i,this.uid=i.uid+"-"+r,this.index=r,this.idSource="source-"+this.uid,this.idLayer=_.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var d=y.prototype;function s(i){if(!i.visible)return!1;var r=i.source;if(Array.isArray(r)&&r.length>0){for(var n=0;n<r.length;n++)if(typeof r[n]!="string"||r[n].length===0)return!1;return!0}return M.isPlainObject(r)||typeof r=="string"&&r.length>0}function t(i){var r={},n={};switch(i.type){case"circle":M.extendFlat(n,{"circle-radius":i.circle.radius,"circle-color":i.color,"circle-opacity":i.opacity});break;case"line":M.extendFlat(n,{"line-width":i.line.width,"line-color":i.color,"line-opacity":i.opacity,"line-dasharray":i.line.dash});break;case"fill":M.extendFlat(n,{"fill-color":i.color,"fill-outline-color":i.fill.outlinecolor,"fill-opacity":i.opacity});break;case"symbol":var l=i.symbol,o=a(l.textposition,l.iconsize);M.extendFlat(r,{"icon-image":l.icon+"-15","icon-size":l.iconsize/10,"text-field":l.text,"text-size":l.textfont.size,"text-anchor":o.anchor,"text-offset":o.offset,"symbol-placement":l.placement}),M.extendFlat(n,{"icon-color":i.color,"text-color":l.textfont.color,"text-opacity":i.opacity});break;case"raster":M.extendFlat(n,{"raster-fade-duration":0,"raster-opacity":i.opacity})}return{layout:r,paint:n}}d.update=function(i){this.visible?this.needsNewImage(i)?this.updateImage(i):this.needsNewSource(i)?(this.removeLayer(),this.updateSource(i),this.updateLayer(i)):this.needsNewLayer(i)?this.updateLayer(i):this.updateStyle(i):(this.updateSource(i),this.updateLayer(i)),this.visible=s(i)},d.needsNewImage=function(i){return this.subplot.map.getSource(this.idSource)&&this.sourceType==="image"&&i.sourcetype==="image"&&(this.source!==i.source||JSON.stringify(this.coordinates)!==JSON.stringify(i.coordinates))},d.needsNewSource=function(i){return this.sourceType!==i.sourcetype||JSON.stringify(this.source)!==JSON.stringify(i.source)||this.layerType!==i.type},d.needsNewLayer=function(i){return this.layerType!==i.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},d.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},d.updateImage=function(i){this.subplot.map.getSource(this.idSource).updateImage({url:i.source,coordinates:i.coordinates});var r=this.findFollowingMapboxLayerId(this.lookupBelow());r!==null&&this.subplot.map.moveLayer(this.idLayer,r)},d.updateSource=function(i){var r=this.subplot.map;if(r.getSource(this.idSource)&&r.removeSource(this.idSource),this.sourceType=i.sourcetype,this.source=i.source,s(i)){var n=function(l){var o,u=l.sourcetype,p=l.source,c={type:u};return u==="geojson"?o="data":u==="vector"?o=typeof p=="string"?"url":"tiles":u==="raster"?(o="tiles",c.tileSize=256):u==="image"&&(o="url",c.coordinates=l.coordinates),c[o]=p,l.sourceattribution&&(c.attribution=k(l.sourceattribution)),c}(i);r.addSource(this.idSource,n)}},d.findFollowingMapboxLayerId=function(i){if(i==="traces")for(var r=this.subplot.getMapLayers(),n=0;n<r.length;n++){var l=r[n].id;if(typeof l=="string"&&l.indexOf(_.traceLayerPrefix)===0){i=l;break}}return i},d.updateLayer=function(i){var r=this.subplot,n=t(i),l=this.lookupBelow(),o=this.findFollowingMapboxLayerId(l);this.removeLayer(),s(i)&&r.addLayer({id:this.idLayer,source:this.idSource,"source-layer":i.sourcelayer||"",type:i.type,minzoom:i.minzoom,maxzoom:i.maxzoom,layout:n.layout,paint:n.paint},o),this.layerType=i.type,this.below=l},d.updateStyle=function(i){if(s(i)){var r=t(i);this.subplot.setOptions(this.idLayer,"setLayoutProperty",r.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",r.paint)}},d.removeLayer=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer)},d.dispose=function(){var i=this.subplot.map;i.getLayer(this.idLayer)&&i.removeLayer(this.idLayer),i.getSource(this.idSource)&&i.removeSource(this.idSource)},Y.exports=function(i,r,n){var l=new y(i,r);return l.update(n),l}},23585:function(Y,O,e){var M=e(71828),k=e(7901).defaultLine,a=e(27670).Y,_=e(41940),y=e(82196).textposition,d=e(30962).overrideAll,s=e(44467).templatedArray,t=e(77734),i=_({});i.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(Y.exports=d({_arrayAttrRegexps:[M.counterRegex("mapbox",".layers",!0)],domain:a({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0},style:{valType:"any",values:t.styleValuesMapbox.concat(t.styleValuesNonMapbox),dflt:t.styleValueDflt},center:{lon:{valType:"number",dflt:0},lat:{valType:"number",dflt:0}},zoom:{valType:"number",dflt:1},bearing:{valType:"number",dflt:0},pitch:{valType:"number",dflt:0},bounds:{west:{valType:"number"},east:{valType:"number"},south:{valType:"number"},north:{valType:"number"}},layers:s("layer",{visible:{valType:"boolean",dflt:!0},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson"},source:{valType:"any"},sourcelayer:{valType:"string",dflt:""},sourceattribution:{valType:"string"},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle"},coordinates:{valType:"any"},below:{valType:"string"},color:{valType:"color",dflt:k},opacity:{valType:"number",min:0,max:1,dflt:1},minzoom:{valType:"number",min:0,max:24,dflt:0},maxzoom:{valType:"number",min:0,max:24,dflt:24},circle:{radius:{valType:"number",dflt:15}},line:{width:{valType:"number",dflt:2},dash:{valType:"data_array"}},fill:{outlinecolor:{valType:"color",dflt:k}},symbol:{icon:{valType:"string",dflt:"marker"},iconsize:{valType:"number",dflt:10},text:{valType:"string",dflt:""},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point"},textfont:i,textposition:M.extendFlat({},y,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none"}},77882:function(Y,O,e){var M=e(71828),k=e(49119),a=e(85501),_=e(23585);function y(s,t,i,r){i("accesstoken",r.accessToken),i("style"),i("center.lon"),i("center.lat"),i("zoom"),i("bearing"),i("pitch");var n=i("bounds.west"),l=i("bounds.east"),o=i("bounds.south"),u=i("bounds.north");n!==void 0&&l!==void 0&&o!==void 0&&u!==void 0||delete t.bounds,a(s,t,{name:"layers",handleItemDefaults:d}),t._input=s}function d(s,t){function i(u,p){return M.coerce(s,t,_.layers,u,p)}if(i("visible")){var r,n=i("sourcetype"),l=n==="raster"||n==="image";i("source"),i("sourceattribution"),n==="vector"&&i("sourcelayer"),n==="image"&&i("coordinates"),l&&(r="raster");var o=i("type",r);l&&o!=="raster"&&(o=t.type="raster",M.log("Source types *raster* and *image* must drawn *raster* layer type.")),i("below"),i("color"),i("opacity"),i("minzoom"),i("maxzoom"),o==="circle"&&i("circle.radius"),o==="line"&&(i("line.width"),i("line.dash")),o==="fill"&&i("fill.outlinecolor"),o==="symbol"&&(i("symbol.icon"),i("symbol.iconsize"),i("symbol.text"),M.coerceFont(i,"symbol.textfont"),i("symbol.textposition"),i("symbol.placement"))}}Y.exports=function(s,t,i){k(s,t,i,{type:"mapbox",attributes:_,handleDefaults:y,partition:"y",accessToken:t._mapboxAccessToken})}},10481:function(Y,O,e){var M=e(44517),k=e(71828),a=e(41327),_=e(73972),y=e(89298),d=e(28569),s=e(30211),t=e(64505),i=t.drawMode,r=t.selectMode,n=e(47322).prepSelect,l=e(47322).clearOutline,o=e(47322).clearSelectionsCache,u=e(47322).selectOnClick,p=e(77734),c=e(67911);function b(w,f){this.id=f,this.gd=w;var S=w._fullLayout,T=w._context;this.container=S._glcontainer.node(),this.isStatic=T.staticPlot,this.uid=S._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(S),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var g=b.prototype;g.plot=function(w,f,S){var T,E=this,L=f[E.id];E.map&&L.accesstoken!==E.accessToken&&(E.map.remove(),E.map=null,E.styleObj=null,E.traceHash={},E.layerList=[]),T=E.map?new Promise(function(C,P){E.updateMap(w,f,C,P)}):new Promise(function(C,P){E.createMap(w,f,C,P)}),S.push(T)},g.createMap=function(w,f,S,T){var E=this,L=f[E.id],C=E.styleObj=x(L.style);E.accessToken=L.accesstoken;var P=L.bounds,R=P?[[P.west,P.south],[P.east,P.north]]:null,G=E.map=new M.Map({container:E.div,style:C.style,center:m(L.center),zoom:L.zoom,bearing:L.bearing,pitch:L.pitch,maxBounds:R,interactive:!E.isStatic,preserveDrawingBuffer:E.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new M.AttributionControl({compact:!0}));G._canvas.style.left="0px",G._canvas.style.top="0px",E.rejectOnError(T),E.isStatic||E.initFx(w,f);var I=[];I.push(new Promise(function(H){G.once("load",H)})),I=I.concat(a.fetchTraceGeoData(w)),Promise.all(I).then(function(){E.fillBelowLookup(w,f),E.updateData(w),E.updateLayout(f),E.resolveOnRender(S)}).catch(T)},g.updateMap=function(w,f,S,T){var E=this,L=E.map,C=f[this.id];E.rejectOnError(T);var P=[],R=x(C.style);JSON.stringify(E.styleObj)!==JSON.stringify(R)&&(E.styleObj=R,L.setStyle(R.style),E.traceHash={},P.push(new Promise(function(G){L.once("styledata",G)}))),P=P.concat(a.fetchTraceGeoData(w)),Promise.all(P).then(function(){E.fillBelowLookup(w,f),E.updateData(w),E.updateLayout(f),E.resolveOnRender(S)}).catch(T)},g.fillBelowLookup=function(w,f){var S,T,E=f[this.id].layers,L=this.belowLookup={},C=!1;for(S=0;S<w.length;S++){var P=w[S][0].trace,R=P._module;typeof P.below=="string"?T=P.below:R.getBelow&&(T=R.getBelow(P,this)),T===""&&(C=!0),L["trace-"+P.uid]=T||""}for(S=0;S<E.length;S++){var G=E[S];T=typeof G.below=="string"?G.below:C?"traces":"",L["layout-"+S]=T}var I,H,N={};for(I in L)N[T=L[I]]?N[T].push(I):N[T]=[I];for(T in N){var B=N[T];if(B.length>1)for(S=0;S<B.length;S++)(I=B[S]).indexOf("trace-")===0?(H=I.split("trace-")[1],this.traceHash[H]&&(this.traceHash[H].below=null)):I.indexOf("layout-")===0&&(H=I.split("layout-")[1],this.layerList[H]&&(this.layerList[H].below=null))}};var h={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function x(w){var f={};return k.isPlainObject(w)?(f.id=w.id,f.style=w):typeof w=="string"?(f.id=w,p.styleValuesMapbox.indexOf(w)!==-1?f.style=v(w):p.stylesNonMapbox[w]?f.style=p.stylesNonMapbox[w]:f.style=w):(f.id=p.styleValueDflt,f.style=v(p.styleValueDflt)),f.transition={duration:0,delay:0},f}function v(w){return p.styleUrlPrefix+w+"-"+p.styleUrlSuffix}function m(w){return[w.lon,w.lat]}g.updateData=function(w){var f,S,T,E,L=this.traceHash,C=w.slice().sort(function(H,N){return h[H[0].trace.type]-h[N[0].trace.type]});for(T=0;T<C.length;T++){var P=C[T],R=!1;(f=L[(S=P[0].trace).uid])&&(f.type===S.type?(f.update(P),R=!0):f.dispose()),!R&&S._module&&(L[S.uid]=S._module.plot(this,P))}var G=Object.keys(L);e:for(T=0;T<G.length;T++){var I=G[T];for(E=0;E<w.length;E++)if(I===(S=w[E][0].trace).uid)continue e;(f=L[I]).dispose(),delete L[I]}},g.updateLayout=function(w){var f=this.map,S=w[this.id];this.dragging||this.wheeling||(f.setCenter(m(S.center)),f.setZoom(S.zoom),f.setBearing(S.bearing),f.setPitch(S.pitch)),this.updateLayers(w),this.updateFramework(w),this.updateFx(w),this.map.resize(),this.gd._context._scrollZoom.mapbox?f.scrollZoom.enable():f.scrollZoom.disable()},g.resolveOnRender=function(w){var f=this.map;f.on("render",function S(){f.loaded()&&(f.off("render",S),setTimeout(w,10))})},g.rejectOnError=function(w){var f=this.map;function S(){w(new Error(p.mapOnErrorMsg))}f.once("error",S),f.once("style.error",S),f.once("source.error",S),f.once("tile.error",S),f.once("layer.error",S)},g.createFramework=function(w){var f=this,S=f.div=document.createElement("div");S.id=f.uid,S.style.position="absolute",f.container.appendChild(S),f.xaxis={_id:"x",c2p:function(T){return f.project(T).x}},f.yaxis={_id:"y",c2p:function(T){return f.project(T).y}},f.updateFramework(w),f.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},y.setConvert(f.mockAxis,w)},g.initFx=function(w,f){var S=this,T=S.gd,E=S.map;function L(){s.loneUnhover(f._hoverlayer)}function C(){var P=S.getView();T.emit("plotly_relayouting",S.getViewEditsWithDerived(P))}E.on("moveend",function(P){if(S.map){var R=T._fullLayout;if(P.originalEvent||S.wheeling){var G=R[S.id];_.call("_storeDirectGUIEdit",T.layout,R._preGUI,S.getViewEdits(G));var I=S.getView();G._input.center=G.center=I.center,G._input.zoom=G.zoom=I.zoom,G._input.bearing=G.bearing=I.bearing,G._input.pitch=G.pitch=I.pitch,T.emit("plotly_relayout",S.getViewEditsWithDerived(I))}P.originalEvent&&P.originalEvent.type==="mouseup"?S.dragging=!1:S.wheeling&&(S.wheeling=!1),R._rehover&&R._rehover()}}),E.on("wheel",function(){S.wheeling=!0}),E.on("mousemove",function(P){var R=S.div.getBoundingClientRect(),G=[P.originalEvent.offsetX,P.originalEvent.offsetY];P.target.getBoundingClientRect=function(){return R},S.xaxis.p2c=function(){return E.unproject(G).lng},S.yaxis.p2c=function(){return E.unproject(G).lat},T._fullLayout._rehover=function(){T._fullLayout._hoversubplot===S.id&&T._fullLayout[S.id]&&s.hover(T,P,S.id)},s.hover(T,P,S.id),T._fullLayout._hoversubplot=S.id}),E.on("dragstart",function(){S.dragging=!0,L()}),E.on("zoomstart",L),E.on("mouseout",function(){T._fullLayout._hoversubplot=null}),E.on("drag",C),E.on("zoom",C),E.on("dblclick",function(){var P=T._fullLayout[S.id];_.call("_storeDirectGUIEdit",T.layout,T._fullLayout._preGUI,S.getViewEdits(P));var R=S.viewInitial;E.setCenter(m(R.center)),E.setZoom(R.zoom),E.setBearing(R.bearing),E.setPitch(R.pitch);var G=S.getView();P._input.center=P.center=G.center,P._input.zoom=P.zoom=G.zoom,P._input.bearing=P.bearing=G.bearing,P._input.pitch=P.pitch=G.pitch,T.emit("plotly_doubleclick",null),T.emit("plotly_relayout",S.getViewEditsWithDerived(G))}),S.clearOutline=function(){o(S.dragOptions),l(S.dragOptions.gd)},S.onClickInPanFn=function(P){return function(R){var G=T._fullLayout.clickmode;G.indexOf("select")>-1&&u(R.originalEvent,T,[S.xaxis],[S.yaxis],S.id,P),G.indexOf("event")>-1&&s.click(T,R.originalEvent)}}},g.updateFx=function(w){var f=this,S=f.map,T=f.gd;if(!f.isStatic){var E,L=w.dragmode;E=function(R,G){G.isRect?(R.range={})[f.id]=[P([G.xmin,G.ymin]),P([G.xmax,G.ymax])]:(R.lassoPoints={})[f.id]=G.map(P)};var C=f.dragOptions;f.dragOptions=k.extendDeep(C||{},{dragmode:w.dragmode,element:f.div,gd:T,plotinfo:{id:f.id,domain:w[f.id].domain,xaxis:f.xaxis,yaxis:f.yaxis,fillRangeItems:E},xaxes:[f.xaxis],yaxes:[f.yaxis],subplot:f.id}),S.off("click",f.onClickInPanHandler),r(L)||i(L)?(S.dragPan.disable(),S.on("zoomstart",f.clearOutline),f.dragOptions.prepFn=function(R,G,I){n(R,G,I,f.dragOptions,L)},d.init(f.dragOptions)):(S.dragPan.enable(),S.off("zoomstart",f.clearOutline),f.div.onmousedown=null,f.div.ontouchstart=null,f.div.removeEventListener("touchstart",f.div._ontouchstart),f.onClickInPanHandler=f.onClickInPanFn(f.dragOptions),S.on("click",f.onClickInPanHandler))}function P(R){var G=f.map.unproject(R);return[G.lng,G.lat]}},g.updateFramework=function(w){var f=w[this.id].domain,S=w._size,T=this.div.style;T.width=S.w*(f.x[1]-f.x[0])+"px",T.height=S.h*(f.y[1]-f.y[0])+"px",T.left=S.l+f.x[0]*S.w+"px",T.top=S.t+(1-f.y[1])*S.h+"px",this.xaxis._offset=S.l+f.x[0]*S.w,this.xaxis._length=S.w*(f.x[1]-f.x[0]),this.yaxis._offset=S.t+(1-f.y[1])*S.h,this.yaxis._length=S.h*(f.y[1]-f.y[0])},g.updateLayers=function(w){var f,S=w[this.id].layers,T=this.layerList;if(S.length!==T.length){for(f=0;f<T.length;f++)T[f].dispose();for(T=this.layerList=[],f=0;f<S.length;f++)T.push(c(this,f,S[f]))}else for(f=0;f<S.length;f++)T[f].update(S[f])},g.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},g.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},g.setOptions=function(w,f,S){for(var T in S)this.map[f](w,T,S[T])},g.getMapLayers=function(){return this.map.getStyle().layers},g.addLayer=function(w,f){var S=this.map;if(typeof f=="string"){if(f==="")return void S.addLayer(w,f);for(var T=this.getMapLayers(),E=0;E<T.length;E++)if(f===T[E].id)return void S.addLayer(w,f);k.warn(["Trying to add layer with *below* value",f,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}S.addLayer(w)},g.project=function(w){return this.map.project(new M.LngLat(w[0],w[1]))},g.getView=function(){var w=this.map,f=w.getCenter(),S={lon:f.lng,lat:f.lat},T=w.getCanvas(),E=parseInt(T.style.width),L=parseInt(T.style.height);return{center:S,zoom:w.getZoom(),bearing:w.getBearing(),pitch:w.getPitch(),_derived:{coordinates:[w.unproject([0,0]).toArray(),w.unproject([E,0]).toArray(),w.unproject([E,L]).toArray(),w.unproject([0,L]).toArray()]}}},g.getViewEdits=function(w){for(var f=this.id,S=["center","zoom","bearing","pitch"],T={},E=0;E<S.length;E++){var L=S[E];T[f+"."+L]=w[L]}return T},g.getViewEditsWithDerived=function(w){var f=this.id,S=this.getViewEdits(w);return S[f+"._derived"]=w._derived,S},Y.exports=b},35025:function(Y){Y.exports=function(O){var e=O.editType;return{t:{valType:"number",dflt:0,editType:e},r:{valType:"number",dflt:0,editType:e},b:{valType:"number",dflt:0,editType:e},l:{valType:"number",dflt:0,editType:e},editType:e}}},74875:function(Y,O,e){var M=e(39898),k=e(84096).Dq,a=e(60721).FF,_=e(92770),y=e(73972),d=e(86281),s=e(44467),t=e(71828),i=e(7901),r=e(50606).BADNUM,n=e(41675),l=e(51873).clearOutline,o=e(21479),u=e(85594),p=e(31391),c=e(27659).a0,b=t.relinkPrivateKeys,g=t._,h=Y.exports={};t.extendFlat(h,y),h.attributes=e(9012),h.attributes.type.values=h.allTypes,h.fontAttrs=e(41940),h.layoutAttributes=e(10820),h.fontWeight="normal";var x=h.transformsRegistry,v=e(31137);h.executeAPICommand=v.executeAPICommand,h.computeAPICommandBindings=v.computeAPICommandBindings,h.manageCommandObserver=v.manageCommandObserver,h.hasSimpleAPICommandBindings=v.hasSimpleAPICommandBindings,h.redrawText=function(N){return N=t.getGraphDiv(N),new Promise(function(B){setTimeout(function(){N._fullLayout&&(y.getComponentMethod("annotations","draw")(N),y.getComponentMethod("legend","draw")(N),y.getComponentMethod("colorbar","draw")(N),B(h.previousPromises(N)))},300)})},h.resize=function(N){var B;N=t.getGraphDiv(N);var V=new Promise(function(q,te){N&&!t.isHidden(N)||te(new Error("Resize must be passed a displayed plot div element.")),N._redrawTimer&&clearTimeout(N._redrawTimer),N._resolveResize&&(B=N._resolveResize),N._resolveResize=q,N._redrawTimer=setTimeout(function(){if(!N.layout||N.layout.width&&N.layout.height||t.isHidden(N))q(N);else{delete N.layout.width,delete N.layout.height;var $=N.changed;N.autoplay=!0,y.call("relayout",N,{autosize:!0}).then(function(){N.changed=$,N._resolveResize===q&&(delete N._resolveResize,q(N))})}},100)});return B&&B(V),V},h.previousPromises=function(N){if((N._promises||[]).length)return Promise.all(N._promises).then(function(){N._promises=[]})},h.addLinks=function(N){if(N._context.showLink||N._context.showSources){var B=N._fullLayout,V=t.ensureSingle(B._paper,"text","js-plot-link-container",function(X){X.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:i.defaultLine,"pointer-events":"all"}).each(function(){var ee=M.select(this);ee.append("tspan").classed("js-link-to-tool",!0),ee.append("tspan").classed("js-link-spacer",!0),ee.append("tspan").classed("js-sourcelinks",!0)})}),q=V.node(),te={y:B._paper.attr("height")-9};document.body.contains(q)&&q.getComputedTextLength()>=B.width-20?(te["text-anchor"]="start",te.x=5):(te["text-anchor"]="end",te.x=B._paper.attr("width")-7),V.attr(te);var $=V.select(".js-link-to-tool"),K=V.select(".js-link-spacer"),Z=V.select(".js-sourcelinks");N._context.showSources&&N._context.showSources(N),N._context.showLink&&function(X,ee){ee.text("");var ne=ee.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(X._context.linkText+" "+String.fromCharCode(187));if(X._context.sendData)ne.on("click",function(){h.sendDataToCloud(X)});else{var re=window.location.pathname.split("/"),ae=window.location.search;ne.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+re[2].split(".")[0]+"/"+re[1]+ae})}}(N,$),K.text($.text()&&Z.text()?" - ":"")}},h.sendDataToCloud=function(N){var B=(window.PLOTLYENV||{}).BASE_URL||N._context.plotlyServerURL;if(B){N.emit("plotly_beforeexport");var V=M.select(N).append("div").attr("id","hiddenform").style("display","none"),q=V.append("form").attr({action:B+"/external",method:"post",target:"_blank"});return q.append("input").attr({type:"text",name:"data"}).node().value=h.graphJson(N,!1,"keepdata"),q.node().submit(),V.remove(),N.emit("plotly_afterexport"),!1}};var m=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],w=["year","month","dayMonth","dayMonthYear"];function f(N,B){var V=N._context.locale;V||(V="en-US");var q=!1,te={};function $(re){for(var ae=!0,ue=0;ue<B.length;ue++){var pe=B[ue];te[pe]||(re[pe]?te[pe]=re[pe]:ae=!1)}ae&&(q=!0)}for(var K=0;K<2;K++){for(var Z=N._context.locales,X=0;X<2;X++){var ee=(Z[V]||{}).format;if(ee&&($(ee),q))break;Z=y.localeRegistry}var ne=V.split("-")[0];if(q||ne===V)break;V=ne}return q||$(y.localeRegistry.en.format),te}function S(N,B){var V={_fullLayout:B},q=N._id.charAt(0)==="x",te=N._mainAxis._anchorAxis,$="",K="",Z="";if(te&&(Z=te._mainAxis._id,$=q?N._id+Z:Z+N._id),!$||!B._plots[$]){$="";for(var X=N._counterAxes,ee=0;ee<X.length;ee++){var ne=X[ee],re=q?N._id+ne:ne+N._id;K||(K=re);var ae=n.getFromId(V,ne);if(Z&&ae.overlaying===Z){$=re;break}}}return $||K}function T(N){var B=N.transforms;if(Array.isArray(B)&&B.length)for(var V=0;V<B.length;V++){var q=B[V],te=q._module||x[q.type];if(te&&te.makesData)return!0}return!1}function E(N,B,V,q){for(var te=N.transforms,$=[N],K=0;K<te.length;K++){var Z=te[K],X=x[Z.type];X&&X.transform&&($=X.transform($,{transform:Z,fullTrace:N,fullData:B,layout:V,fullLayout:q,transformIndex:K}))}return $}function L(N){return typeof N=="string"&&N.substr(N.length-2)==="px"&&parseFloat(N)}function C(N){var B=N.margin;if(!N._size){var V=N._size={l:Math.round(B.l),r:Math.round(B.r),t:Math.round(B.t),b:Math.round(B.b),p:Math.round(B.pad)};V.w=Math.round(N.width)-V.l-V.r,V.h=Math.round(N.height)-V.t-V.b}N._pushmargin||(N._pushmargin={}),N._pushmarginIds||(N._pushmarginIds={}),N._reservedMargin||(N._reservedMargin={})}h.supplyDefaults=function(N,B){var V=B&&B.skipUpdateCalc,q=N._fullLayout||{};if(q._skipDefaults)delete q._skipDefaults;else{var te,$=N._fullLayout={},K=N.layout||{},Z=N._fullData||[],X=N._fullData=[],ee=N.data||[],ne=N.calcdata||[],re=N._context||{};N._transitionData||h.createTransitionData(N),$._dfltTitle={plot:g(N,"Click to enter Plot title"),x:g(N,"Click to enter X axis title"),y:g(N,"Click to enter Y axis title"),colorbar:g(N,"Click to enter Colorscale title"),annotation:g(N,"new text")},$._traceWord=g(N,"trace");var ae=f(N,m);if($._mapboxAccessToken=re.mapboxAccessToken,q._initialAutoSizeIsDone){var ue=q.width,pe=q.height;h.supplyLayoutGlobalDefaults(K,$,ae),K.width||($.width=ue),K.height||($.height=pe),h.sanitizeMargins($)}else{h.supplyLayoutGlobalDefaults(K,$,ae);var ge=!K.width||!K.height,we=$.autosize,me=re.autosizable;ge&&(we||me)?h.plotAutoSize(N,K,$):ge&&h.sanitizeMargins($),!we&&ge&&(K.width=$.width,K.height=$.height)}$._d3locale=function(Be,Fe){return Be.decimal=Fe.charAt(0),Be.thousands=Fe.charAt(1),{numberFormat:function(Ge){try{Ge=a(Be).format(t.adjustFormat(Ge))}catch{return t.warnBadFormat(Ge),t.noFormat}return Ge},timeFormat:k(Be).utcFormat}}(ae,$.separators),$._extraFormat=f(N,w),$._initialAutoSizeIsDone=!0,$._dataLength=ee.length,$._modules=[],$._visibleModules=[],$._basePlotModules=[];var ve=$._subplots=function(){var Be,Fe,Ge=y.collectableSubplotTypes,Ze={};if(!Ge){Ge=[];var et=y.subplotsRegistry;for(var ft in et){var rt=et[ft].attr;if(rt&&(Ge.push(ft),Array.isArray(rt)))for(Fe=0;Fe<rt.length;Fe++)t.pushUnique(Ge,rt[Fe])}}for(Be=0;Be<Ge.length;Be++)Ze[Ge[Be]]=[];return Ze}(),Ie=$._splomAxes={x:{},y:{}},Se=$._splomSubplots={};$._splomGridDflt={},$._scatterStackOpts={},$._firstScatter={},$._alignmentOpts={},$._colorAxes={},$._requestRangeslider={},$._traceUids=function(Be,Fe){var Ge,Ze,et=Fe.length,ft=[];for(Ge=0;Ge<Be.length;Ge++){var rt=Be[Ge]._fullInput;rt!==Ze&&ft.push(rt),Ze=rt}var _t=ft.length,kt=new Array(et),wt={};function lt(Ot,zt){kt[zt]=Ot,wt[Ot]=1}function ut(Ot,zt){if(Ot&&typeof Ot=="string"&&!wt[Ot])return lt(Ot,zt),!0}for(Ge=0;Ge<et;Ge++){var Et=Fe[Ge].uid;typeof Et=="number"&&(Et=String(Et)),ut(Et,Ge)||Ge<_t&&ut(ft[Ge].uid,Ge)||lt(t.randstr(wt),Ge)}return kt}(Z,ee),$._globalTransforms=(N._context||{}).globalTransforms,h.supplyDataDefaults(ee,X,K,$);var ke=Object.keys(Ie.x),se=Object.keys(Ie.y);if(ke.length>1&&se.length>1){for(y.getComponentMethod("grid","sizeDefaults")(K,$),te=0;te<ke.length;te++)t.pushUnique(ve.xaxis,ke[te]);for(te=0;te<se.length;te++)t.pushUnique(ve.yaxis,se[te]);for(var oe in Se)t.pushUnique(ve.cartesian,oe)}if($._has=h._hasPlotType.bind($),Z.length===X.length)for(te=0;te<X.length;te++)b(X[te],Z[te]);h.supplyLayoutModuleDefaults(K,$,X,N._transitionData);var he=$._visibleModules,Le=[];for(te=0;te<he.length;te++){var Me=he[te].crossTraceDefaults;Me&&t.pushUnique(Le,Me)}for(te=0;te<Le.length;te++)Le[te](X,$);$._hasOnlyLargeSploms=$._basePlotModules.length===1&&$._basePlotModules[0].name==="splom"&&ke.length>15&&se.length>15&&$.shapes.length===0&&$.images.length===0,h.linkSubplots(X,$,Z,q),h.cleanPlot(X,$,Z,q);var _e=!(!q._has||!q._has("gl2d")),De=!(!$._has||!$._has("gl2d")),Ne=!(!q._has||!q._has("cartesian"))||_e,ce=!(!$._has||!$._has("cartesian"))||De;Ne&&!ce?q._bgLayer.remove():ce&&!Ne&&($._shouldCreateBgLayer=!0),q._zoomlayer&&!N._dragging&&l({_fullLayout:q}),function(Be,Fe){var Ge,Ze=[];Fe.meta&&(Ge=Fe._meta={meta:Fe.meta,layout:{meta:Fe.meta}});for(var et=0;et<Be.length;et++){var ft=Be[et];ft.meta?Ze[ft.index]=ft._meta={meta:ft.meta}:Fe.meta&&(ft._meta={meta:Fe.meta}),Fe.meta&&(ft._meta.layout={meta:Fe.meta})}Ze.length&&(Ge||(Ge=Fe._meta={}),Ge.data=Ze)}(X,$),b($,q),y.getComponentMethod("colorscale","crossTraceDefaults")(X,$),$._preGUI||($._preGUI={}),$._tracePreGUI||($._tracePreGUI={});var Te,ye=$._tracePreGUI,Oe={};for(Te in ye)Oe[Te]="old";for(te=0;te<X.length;te++)Oe[Te=X[te]._fullInput.uid]||(ye[Te]={}),Oe[Te]="new";for(Te in Oe)Oe[Te]==="old"&&delete ye[Te];C($),y.getComponentMethod("rangeslider","makeData")($),V||ne.length!==X.length||h.supplyDefaultsUpdateCalc(ne,X)}},h.supplyDefaultsUpdateCalc=function(N,B){for(var V=0;V<B.length;V++){var q=B[V],te=(N[V]||[])[0];if(te&&te.trace){var $=te.trace;if($._hasCalcTransform){var K,Z,X,ee=$._arrayAttrs;for(K=0;K<ee.length;K++)Z=ee[K],X=t.nestedProperty($,Z).get().slice(),t.nestedProperty(q,Z).set(X)}te.trace=q}}},h.createTransitionData=function(N){N._transitionData||(N._transitionData={}),N._transitionData._frames||(N._transitionData._frames=[]),N._transitionData._frameHash||(N._transitionData._frameHash={}),N._transitionData._counter||(N._transitionData._counter=0),N._transitionData._interruptCallbacks||(N._transitionData._interruptCallbacks=[])},h._hasPlotType=function(N){var B,V=this._basePlotModules||[];for(B=0;B<V.length;B++)if(V[B].name===N)return!0;var q=this._modules||[];for(B=0;B<q.length;B++){var te=q[B].name;if(te===N)return!0;var $=y.modules[te];if($&&$.categories[N])return!0}return!1},h.cleanPlot=function(N,B,V,q){var te,$,K=q._basePlotModules||[];for(te=0;te<K.length;te++){var Z=K[te];Z.clean&&Z.clean(N,B,V,q)}var X=q._has&&q._has("gl"),ee=B._has&&B._has("gl");X&&!ee&&q._glcontainer!==void 0&&(q._glcontainer.selectAll(".gl-canvas").remove(),q._glcontainer.selectAll(".no-webgl").remove(),q._glcanvas=null);var ne=!!q._infolayer;e:for(te=0;te<V.length;te++){var re=V[te].uid;for($=0;$<N.length;$++)if(re===N[$].uid)continue e;ne&&q._infolayer.select(".cb"+re).remove()}},h.linkSubplots=function(N,B,V,q){var te,$,K=q._plots||{},Z=B._plots={},X=B._subplots,ee={_fullData:N,_fullLayout:B},ne=X.cartesian.concat(X.gl2d||[]);for(te=0;te<ne.length;te++){var re,ae=ne[te],ue=K[ae],pe=n.getFromId(ee,ae,"x"),ge=n.getFromId(ee,ae,"y");for(ue?re=Z[ae]=ue:(re=Z[ae]={}).id=ae,pe._counterAxes.push(ge._id),ge._counterAxes.push(pe._id),pe._subplotsWith.push(ae),ge._subplotsWith.push(ae),re.xaxis=pe,re.yaxis=ge,re._hasClipOnAxisFalse=!1,$=0;$<N.length;$++){var we=N[$];if(we.xaxis===re.xaxis._id&&we.yaxis===re.yaxis._id&&we.cliponaxis===!1){re._hasClipOnAxisFalse=!0;break}}}var me,ve=n.list(ee,null,!0);for(te=0;te<ve.length;te++){var Ie=null;(me=ve[te]).overlaying&&(Ie=n.getFromId(ee,me.overlaying))&&Ie.overlaying&&(me.overlaying=!1,Ie=null),me._mainAxis=Ie||me,Ie&&(me.domain=Ie.domain.slice()),me._anchorAxis=me.anchor==="free"?null:n.getFromId(ee,me.anchor)}for(te=0;te<ve.length;te++)if((me=ve[te])._counterAxes.sort(n.idSort),me._subplotsWith.sort(t.subplotSort),me._mainSubplot=S(me,B),me._counterAxes.length&&(me.spikemode&&me.spikemode.indexOf("across")!==-1||me.automargin&&me.mirror&&me.anchor!=="free"||y.getComponentMethod("rangeslider","isVisible")(me))){var Se=1,ke=0;for($=0;$<me._counterAxes.length;$++){var se=n.getFromId(ee,me._counterAxes[$]);Se=Math.min(Se,se.domain[0]),ke=Math.max(ke,se.domain[1])}Se<ke&&(me._counterDomainMin=Se,me._counterDomainMax=ke)}},h.clearExpandedTraceDefaultColors=function(N){var B,V,q;for(V=[],(B=N._module._colorAttrs)||(N._module._colorAttrs=B=[],d.crawl(N._module.attributes,function(te,$,K,Z){V[Z]=$,V.length=Z+1,te.valType==="color"&&te.dflt===void 0&&B.push(V.join("."))})),q=0;q<B.length;q++)t.nestedProperty(N,"_input."+B[q]).get()||t.nestedProperty(N,B[q]).set(null)},h.supplyDataDefaults=function(N,B,V,q){var te,$,K,Z=q._modules,X=q._visibleModules,ee=q._basePlotModules,ne=0,re=0;function ae(oe){B.push(oe);var he=oe._module;he&&(t.pushUnique(Z,he),oe.visible===!0&&t.pushUnique(X,he),t.pushUnique(ee,oe._module.basePlotModule),ne++,oe._input.visible!==!1&&re++)}q._transformModules=[];var ue={},pe=[],ge=(V.template||{}).data||{},we=s.traceTemplater(ge);for(te=0;te<N.length;te++){if(K=N[te],($=we.newTrace(K)).uid=q._traceUids[te],h.supplyTraceDefaults(K,$,re,q,te),$.index=te,$._input=K,$._expandedIndex=ne,$.transforms&&$.transforms.length)for(var me=K.visible!==!1&&$.visible===!1,ve=E($,B,V,q),Ie=0;Ie<ve.length;Ie++){var Se=ve[Ie],ke={_template:$._template,type:$.type,uid:$.uid+Ie};me&&Se.visible===!1&&delete Se.visible,h.supplyTraceDefaults(Se,ke,ne,q,te),b(ke,Se),ke.index=te,ke._input=K,ke._fullInput=$,ke._expandedIndex=ne,ke._expandedInput=Se,ae(ke)}else $._fullInput=$,$._expandedInput=$,ae($);y.traceIs($,"carpetAxis")&&(ue[$.carpet]=$),y.traceIs($,"carpetDependent")&&pe.push(te)}for(te=0;te<pe.length;te++)if(($=B[pe[te]]).visible){var se=ue[$.carpet];$._carpet=se,se&&se.visible?($.xaxis=se.xaxis,$.yaxis=se.yaxis):$.visible=!1}},h.supplyAnimationDefaults=function(N){var B;N=N||{};var V={};function q(te,$){return t.coerce(N||{},V,u,te,$)}if(q("mode"),q("direction"),q("fromcurrent"),Array.isArray(N.frame))for(V.frame=[],B=0;B<N.frame.length;B++)V.frame[B]=h.supplyAnimationFrameDefaults(N.frame[B]||{});else V.frame=h.supplyAnimationFrameDefaults(N.frame||{});if(Array.isArray(N.transition))for(V.transition=[],B=0;B<N.transition.length;B++)V.transition[B]=h.supplyAnimationTransitionDefaults(N.transition[B]||{});else V.transition=h.supplyAnimationTransitionDefaults(N.transition||{});return V},h.supplyAnimationFrameDefaults=function(N){var B={};function V(q,te){return t.coerce(N||{},B,u.frame,q,te)}return V("duration"),V("redraw"),B},h.supplyAnimationTransitionDefaults=function(N){var B={};function V(q,te){return t.coerce(N||{},B,u.transition,q,te)}return V("duration"),V("easing"),B},h.supplyFrameDefaults=function(N){var B={};function V(q,te){return t.coerce(N,B,p,q,te)}return V("group"),V("name"),V("traces"),V("baseframe"),V("data"),V("layout"),B},h.supplyTraceDefaults=function(N,B,V,q,te){var $,K=q.colorway||i.defaults,Z=K[V%K.length];function X(ve,Ie){return t.coerce(N,B,h.attributes,ve,Ie)}var ee=X("visible");X("type"),X("name",q._traceWord+" "+te),X("uirevision",q.uirevision);var ne=h.getModule(B);if(B._module=ne,ne){var re=ne.basePlotModule,ae=re.attr,ue=re.attributes;if(ae&&ue){var pe=q._subplots,ge="";if(ee||re.name!=="gl2d"){if(Array.isArray(ae))for($=0;$<ae.length;$++){var we=ae[$],me=t.coerce(N,B,ue,we);pe[we]&&t.pushUnique(pe[we],me),ge+=me}else ge=t.coerce(N,B,ue,ae);pe[re.name]&&t.pushUnique(pe[re.name],ge)}}}return ee&&(X("customdata"),X("ids"),X("meta"),y.traceIs(B,"showLegend")?(t.coerce(N,B,ne.attributes.showlegend?ne.attributes:h.attributes,"showlegend"),X("legend"),X("legendwidth"),X("legendgroup"),X("legendgrouptitle.text"),X("legendrank"),B._dfltShowLegend=!0):B._dfltShowLegend=!1,ne&&ne.supplyDefaults(N,B,Z,q),y.traceIs(B,"noOpacity")||X("opacity"),y.traceIs(B,"notLegendIsolatable")&&(B.visible=!!B.visible),y.traceIs(B,"noHover")||(B.hovertemplate||t.coerceHoverinfo(N,B,q),B.type!=="parcats"&&y.getComponentMethod("fx","supplyDefaults")(N,B,Z,q)),ne&&ne.selectPoints&&X("selectedpoints"),h.supplyTransformDefaults(N,B,q)),B},h.hasMakesDataTransform=T,h.supplyTransformDefaults=function(N,B,V){if(B._length||T(N)){var q=V._globalTransforms||[],te=V._transformModules||[];if(Array.isArray(N.transforms)||q.length!==0)for(var $=N.transforms||[],K=q.concat($),Z=B.transforms=[],X=0;X<K.length;X++){var ee,ne=K[X],re=ne.type,ae=x[re],ue=!(ne._module&&ne._module===ae),pe=ae&&typeof ae.transform=="function";ae||t.warn("Unrecognized transform type "+re+"."),ae&&ae.supplyDefaults&&(ue||pe)?((ee=ae.supplyDefaults(ne,B,V,N)).type=re,ee._module=ae,t.pushUnique(te,ae)):ee=t.extendFlat({},ne),Z.push(ee)}}},h.supplyLayoutGlobalDefaults=function(N,B,V){function q(ne,re){return t.coerce(N,B,h.layoutAttributes,ne,re)}var te=N.template;t.isPlainObject(te)&&(B.template=te,B._template=te.layout,B._dataTemplate=te.data),q("autotypenumbers");var $=t.coerceFont(q,"font"),K=$.size;t.coerceFont(q,"title.font",t.extendFlat({},$,{size:Math.round(1.4*K)})),q("title.text",B._dfltTitle.plot),q("title.xref");var Z=q("title.yref");q("title.pad.t"),q("title.pad.r"),q("title.pad.b"),q("title.pad.l");var X=q("title.automargin");q("title.x"),q("title.xanchor"),q("title.y"),q("title.yanchor"),X&&(Z==="paper"&&(B.title.y!==0&&(B.title.y=1),B.title.yanchor==="auto"&&(B.title.yanchor=B.title.y===0?"top":"bottom")),Z==="container"&&(B.title.y==="auto"&&(B.title.y=1),B.title.yanchor==="auto"&&(B.title.yanchor=B.title.y<.5?"bottom":"top"))),q("uniformtext.mode")&&q("uniformtext.minsize"),q("autosize",!(N.width&&N.height)),q("width"),q("height"),q("minreducedwidth"),q("minreducedheight"),q("margin.l"),q("margin.r"),q("margin.t"),q("margin.b"),q("margin.pad"),q("margin.autoexpand"),N.width&&N.height&&h.sanitizeMargins(B),y.getComponentMethod("grid","sizeDefaults")(N,B),q("paper_bgcolor"),q("separators",V.decimal+V.thousands),q("hidesources"),q("colorway"),q("datarevision");var ee=q("uirevision");q("editrevision",ee),q("selectionrevision",ee),y.getComponentMethod("modebar","supplyLayoutDefaults")(N,B),y.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(N,B,q),y.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(N,B,q),q("meta"),t.isPlainObject(N.transition)&&(q("transition.duration"),q("transition.easing"),q("transition.ordering")),y.getComponentMethod("calendars","handleDefaults")(N,B,"calendar"),y.getComponentMethod("fx","supplyLayoutGlobalDefaults")(N,B,q),t.coerce(N,B,o,"scattermode")},h.plotAutoSize=function(N,B,V){var q,te,$=N._context||{},K=$.frameMargins,Z=t.isPlotDiv(N);if(Z&&N.emit("plotly_autosize"),$.fillFrame)q=window.innerWidth,te=window.innerHeight,document.body.style.overflow="hidden";else{var X=Z?window.getComputedStyle(N):{};if(q=L(X.width)||L(X.maxWidth)||V.width,te=L(X.height)||L(X.maxHeight)||V.height,_(K)&&K>0){var ee=1-2*K;q=Math.round(ee*q),te=Math.round(ee*te)}}var ne=h.layoutAttributes.width.min,re=h.layoutAttributes.height.min;q<ne&&(q=ne),te<re&&(te=re);var ae=!B.width&&Math.abs(V.width-q)>1,ue=!B.height&&Math.abs(V.height-te)>1;(ue||ae)&&(ae&&(V.width=q),ue&&(V.height=te)),N._initialAutoSize||(N._initialAutoSize={width:q,height:te}),h.sanitizeMargins(V)},h.supplyLayoutModuleDefaults=function(N,B,V,q){var te,$,K,Z=y.componentsRegistry,X=B._basePlotModules,ee=y.subplotsRegistry.cartesian;for(te in Z)(K=Z[te]).includeBasePlot&&K.includeBasePlot(N,B);for(var ne in X.length||X.push(ee),B._has("cartesian")&&(y.getComponentMethod("grid","contentDefaults")(N,B),ee.finalizeSubplots(N,B)),B._subplots)B._subplots[ne].sort(t.subplotSort);for($=0;$<X.length;$++)(K=X[$]).supplyLayoutDefaults&&K.supplyLayoutDefaults(N,B,V);var re=B._modules;for($=0;$<re.length;$++)(K=re[$]).supplyLayoutDefaults&&K.supplyLayoutDefaults(N,B,V);var ae=B._transformModules;for($=0;$<ae.length;$++)(K=ae[$]).supplyLayoutDefaults&&K.supplyLayoutDefaults(N,B,V,q);for(te in Z)(K=Z[te]).supplyLayoutDefaults&&K.supplyLayoutDefaults(N,B,V)},h.purge=function(N){var B=N._fullLayout||{};B._glcontainer!==void 0&&(B._glcontainer.selectAll(".gl-canvas").remove(),B._glcontainer.remove(),B._glcanvas=null),B._modeBar&&B._modeBar.destroy(),N._transitionData&&(N._transitionData._interruptCallbacks&&(N._transitionData._interruptCallbacks.length=0),N._transitionData._animationRaf&&window.cancelAnimationFrame(N._transitionData._animationRaf)),t.clearThrottle(),t.clearResponsive(N),delete N.data,delete N.layout,delete N._fullData,delete N._fullLayout,delete N.calcdata,delete N.empty,delete N.fid,delete N.undoqueue,delete N.undonum,delete N.autoplay,delete N.changed,delete N._promises,delete N._redrawTimer,delete N._hmlumcount,delete N._hmpixcount,delete N._transitionData,delete N._transitioning,delete N._initialAutoSize,delete N._transitioningWithDuration,delete N._dragging,delete N._dragged,delete N._dragdata,delete N._hoverdata,delete N._snapshotInProgress,delete N._editing,delete N._mouseDownTime,delete N._legendMouseDownTime,N.removeAllListeners&&N.removeAllListeners()},h.style=function(N){var B,V=N._fullLayout._visibleModules,q=[];for(B=0;B<V.length;B++){var te=V[B];te.style&&t.pushUnique(q,te.style)}for(B=0;B<q.length;B++)q[B](N)},h.sanitizeMargins=function(N){if(N&&N.margin){var B,V=N.width,q=N.height,te=N.margin,$=V-(te.l+te.r),K=q-(te.t+te.b);$<0&&(B=(V-1)/(te.l+te.r),te.l=Math.floor(B*te.l),te.r=Math.floor(B*te.r)),K<0&&(B=(q-1)/(te.t+te.b),te.t=Math.floor(B*te.t),te.b=Math.floor(B*te.b))}},h.clearAutoMarginIds=function(N){N._fullLayout._pushmarginIds={}},h.allowAutoMargin=function(N,B){N._fullLayout._pushmarginIds[B]=1},h.autoMargin=function(N,B,V){var q=N._fullLayout,te=q.width,$=q.height,K=q.margin,Z=q.minreducedwidth,X=q.minreducedheight,ee=t.constrain(te-K.l-K.r,2,Z),ne=t.constrain($-K.t-K.b,2,X),re=Math.max(0,te-ee),ae=Math.max(0,$-ne),ue=q._pushmargin,pe=q._pushmarginIds;if(K.autoexpand!==!1){if(V){var ge=V.pad;if(ge===void 0&&(ge=Math.min(12,K.l,K.r,K.t,K.b)),re){var we=(V.l+V.r)/re;we>1&&(V.l/=we,V.r/=we)}if(ae){var me=(V.t+V.b)/ae;me>1&&(V.t/=me,V.b/=me)}var ve=V.xl!==void 0?V.xl:V.x,Ie=V.xr!==void 0?V.xr:V.x,Se=V.yt!==void 0?V.yt:V.y,ke=V.yb!==void 0?V.yb:V.y;ue[B]={l:{val:ve,size:V.l+ge},r:{val:Ie,size:V.r+ge},b:{val:ke,size:V.b+ge},t:{val:Se,size:V.t+ge}},pe[B]=1}else delete ue[B],delete pe[B];if(!q._replotting)return h.doAutoMargin(N)}},h.doAutoMargin=function(N){var B=N._fullLayout,V=B.width,q=B.height;B._size||(B._size={}),C(B);var te=B._size,$=B.margin,K={t:0,b:0,l:0,r:0},Z=t.extendFlat({},te),X=$.l,ee=$.r,ne=$.t,re=$.b,ae=B._pushmargin,ue=B._pushmarginIds,pe=B.minreducedwidth,ge=B.minreducedheight;if($.autoexpand!==!1){for(var we in ae)ue[we]||delete ae[we];var me=N._fullLayout._reservedMargin;for(var ve in me)for(var Ie in me[ve]){var Se=me[ve][Ie];K[Ie]=Math.max(K[Ie],Se)}for(var ke in ae.base={l:{val:0,size:X},r:{val:1,size:ee},t:{val:1,size:ne},b:{val:0,size:re}},K){var se=0;for(var oe in ae)oe!=="base"&&_(ae[oe][ke].size)&&(se=ae[oe][ke].size>se?ae[oe][ke].size:se);var he=Math.max(0,$[ke]-se);K[ke]=Math.max(0,K[ke]-he)}for(var Le in ae){var Me=ae[Le].l||{},_e=ae[Le].b||{},De=Me.val,Ne=Me.size,ce=_e.val,Te=_e.size,ye=V-K.r-K.l,Oe=q-K.t-K.b;for(var Be in ae){if(_(Ne)&&ae[Be].r){var Fe=ae[Be].r.val,Ge=ae[Be].r.size;if(Fe>De){var Ze=(Ne*Fe+(Ge-ye)*De)/(Fe-De),et=(Ge*(1-De)+(Ne-ye)*(1-Fe))/(Fe-De);Ze+et>X+ee&&(X=Ze,ee=et)}}if(_(Te)&&ae[Be].t){var ft=ae[Be].t.val,rt=ae[Be].t.size;if(ft>ce){var _t=(Te*ft+(rt-Oe)*ce)/(ft-ce),kt=(rt*(1-ce)+(Te-Oe)*(1-ft))/(ft-ce);_t+kt>re+ne&&(re=_t,ne=kt)}}}}}var wt=t.constrain(V-$.l-$.r,2,pe),lt=t.constrain(q-$.t-$.b,2,ge),ut=Math.max(0,V-wt),Et=Math.max(0,q-lt);if(ut){var Ot=(X+ee)/ut;Ot>1&&(X/=Ot,ee/=Ot)}if(Et){var zt=(re+ne)/Et;zt>1&&(re/=zt,ne/=zt)}if(te.l=Math.round(X)+K.l,te.r=Math.round(ee)+K.r,te.t=Math.round(ne)+K.t,te.b=Math.round(re)+K.b,te.p=Math.round($.pad),te.w=Math.round(V)-te.l-te.r,te.h=Math.round(q)-te.t-te.b,!B._replotting&&(h.didMarginChange(Z,te)||function(Je){if("_redrawFromAutoMarginCount"in Je._fullLayout)return!1;var Qe=n.list(Je,"",!0);for(var qe in Qe)if(Qe[qe].autoshift||Qe[qe].shift)return!0;return!1}(N))){"_redrawFromAutoMarginCount"in B?B._redrawFromAutoMarginCount++:B._redrawFromAutoMarginCount=1;var Lt=3*(1+Object.keys(ue).length);if(B._redrawFromAutoMarginCount<Lt)return y.call("_doPlot",N);B._size=Z,t.warn("Too many auto-margin redraws.")}(function(Je){var Qe=n.list(Je,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(qe){for(var $e=0;$e<Qe.length;$e++){var ct=Qe[$e][qe];ct&&ct()}})})(N)};var P=["l","r","t","b","p","w","h"];function R(N,B,V){var q=!1,te=[h.previousPromises,function(){if(N._transitionData)return N._transitioning=!1,function(K){var Z=Promise.resolve();if(!K)return Z;for(;K.length;)Z=Z.then(K.shift());return Z}(N._transitionData._interruptCallbacks)},V.prepareFn,h.rehover,h.reselect,function(){return N.emit("plotly_transitioning",[]),new Promise(function(K){N._transitioning=!0,B.duration>0&&(N._transitioningWithDuration=!0),N._transitionData._interruptCallbacks.push(function(){q=!0}),V.redraw&&N._transitionData._interruptCallbacks.push(function(){return y.call("redraw",N)}),N._transitionData._interruptCallbacks.push(function(){N.emit("plotly_transitioninterrupted",[])});var Z=0,X=0;function ee(){return Z++,function(){var ne;X++,q||X!==Z||(ne=K,N._transitionData&&(function(re){if(re)for(;re.length;)re.shift()}(N._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(V.redraw)return y.call("redraw",N)}).then(function(){N._transitioning=!1,N._transitioningWithDuration=!1,N.emit("plotly_transitioned",[])}).then(ne)))}}V.runFn(ee),setTimeout(ee())})}],$=t.syncOrAsync(te,N);return $&&$.then||($=Promise.resolve()),$.then(function(){return N})}h.didMarginChange=function(N,B){for(var V=0;V<P.length;V++){var q=P[V],te=N[q],$=B[q];if(!_(te)||Math.abs($-te)>1)return!0}return!1},h.graphJson=function(N,B,V,q,te,$){(te&&B&&!N._fullData||te&&!B&&!N._fullLayout)&&h.supplyDefaults(N);var K=te?N._fullData:N.data,Z=te?N._fullLayout:N.layout,X=(N._transitionData||{})._frames;function ee(ae,ue){if(typeof ae=="function")return ue?"_function_":null;if(t.isPlainObject(ae)){var pe,ge={};return Object.keys(ae).sort().forEach(function(we){if(["_","["].indexOf(we.charAt(0))===-1)if(typeof ae[we]!="function"){if(V==="keepdata"){if(we.substr(we.length-3)==="src")return}else if(V==="keepstream"){if(typeof(pe=ae[we+"src"])=="string"&&pe.indexOf(":")>0&&!t.isPlainObject(ae.stream))return}else if(V!=="keepall"&&typeof(pe=ae[we+"src"])=="string"&&pe.indexOf(":")>0)return;ge[we]=ee(ae[we],ue)}else ue&&(ge[we]="_function")}),ge}return Array.isArray(ae)?ae.map(function(we){return ee(we,ue)}):t.isTypedArray(ae)?t.simpleMap(ae,t.identity):t.isJSDate(ae)?t.ms2DateTimeLocal(+ae):ae}var ne={data:(K||[]).map(function(ae){var ue=ee(ae);return B&&delete ue.fit,ue})};if(!B&&(ne.layout=ee(Z),te)){var re=Z._size;ne.layout.computed={margin:{b:re.b,l:re.l,r:re.r,t:re.t}}}return X&&(ne.frames=ee(X)),$&&(ne.config=ee(N._context,!0)),q==="object"?ne:JSON.stringify(ne)},h.modifyFrames=function(N,B){var V,q,te,$=N._transitionData._frames,K=N._transitionData._frameHash;for(V=0;V<B.length;V++)switch((q=B[V]).type){case"replace":te=q.value;var Z=($[q.index]||{}).name,X=te.name;$[q.index]=K[X]=te,X!==Z&&(delete K[Z],K[X]=te);break;case"insert":K[(te=q.value).name]=te,$.splice(q.index,0,te);break;case"delete":delete K[(te=$[q.index]).name],$.splice(q.index,1)}return Promise.resolve()},h.computeFrame=function(N,B){var V,q,te,$,K=N._transitionData._frameHash;if(!B)throw new Error("computeFrame must be given a string frame name");var Z=K[B.toString()];if(!Z)return!1;for(var X=[Z],ee=[Z.name];Z.baseframe&&(Z=K[Z.baseframe.toString()])&&ee.indexOf(Z.name)===-1;)X.push(Z),ee.push(Z.name);for(var ne={};Z=X.pop();)if(Z.layout&&(ne.layout=h.extendLayout(ne.layout,Z.layout)),Z.data){if(ne.data||(ne.data=[]),!(q=Z.traces))for(q=[],V=0;V<Z.data.length;V++)q[V]=V;for(ne.traces||(ne.traces=[]),V=0;V<Z.data.length;V++)(te=q[V])!=null&&(($=ne.traces.indexOf(te))===-1&&($=ne.data.length,ne.traces[$]=te),ne.data[$]=h.extendTrace(ne.data[$],Z.data[V]))}return ne},h.recomputeFrameHash=function(N){for(var B=N._transitionData._frameHash={},V=N._transitionData._frames,q=0;q<V.length;q++){var te=V[q];te&&te.name&&(B[te.name]=te)}},h.extendObjectWithContainers=function(N,B,V){var q,te,$,K,Z,X,ee,ne=t.extendDeepNoArrays({},B||{}),re=t.expandObjectPaths(ne),ae={};if(V&&V.length)for($=0;$<V.length;$++)(te=(q=t.nestedProperty(re,V[$])).get())===void 0?t.nestedProperty(ae,V[$]).set(null):(q.set(null),t.nestedProperty(ae,V[$]).set(te));if(N=t.extendDeepNoArrays(N||{},re),V&&V.length){for($=0;$<V.length;$++)if(X=t.nestedProperty(ae,V[$]).get()){for(ee=(Z=t.nestedProperty(N,V[$])).get(),Array.isArray(ee)||(ee=[],Z.set(ee)),K=0;K<X.length;K++){var ue=X[K];ee[K]=ue===null?null:h.extendObjectWithContainers(ee[K],ue)}Z.set(ee)}}return N},h.dataArrayContainers=["transforms","dimensions"],h.layoutArrayContainers=y.layoutArrayContainers,h.extendTrace=function(N,B){return h.extendObjectWithContainers(N,B,h.dataArrayContainers)},h.extendLayout=function(N,B){return h.extendObjectWithContainers(N,B,h.layoutArrayContainers)},h.transition=function(N,B,V,q,te,$){var K={redraw:te.redraw},Z={},X=[];return K.prepareFn=function(){for(var ee=Array.isArray(B)?B.length:0,ne=q.slice(0,ee),re=0;re<ne.length;re++){var ae=ne[re],ue=N._fullData[ae]._module;if(ue){if(ue.animatable){var pe=ue.basePlotModule.name;Z[pe]||(Z[pe]=[]),Z[pe].push(ae)}N.data[ne[re]]=h.extendTrace(N.data[ne[re]],B[re])}}var ge=t.expandObjectPaths(t.extendDeepNoArrays({},V)),we=/^[xy]axis[0-9]*$/;for(var me in ge)we.test(me)&&delete ge[me].range;h.extendLayout(N.layout,ge),delete N.calcdata,h.supplyDefaults(N),h.doCalcdata(N);var ve=t.expandObjectPaths(V);if(ve){var Ie=N._fullLayout._plots;for(var Se in Ie){var ke=Ie[Se],se=ke.xaxis,oe=ke.yaxis,he=se.range.slice(),Le=oe.range.slice(),Me=null,_e=null,De=null,Ne=null;Array.isArray(ve[se._name+".range"])?Me=ve[se._name+".range"].slice():Array.isArray((ve[se._name]||{}).range)&&(Me=ve[se._name].range.slice()),Array.isArray(ve[oe._name+".range"])?_e=ve[oe._name+".range"].slice():Array.isArray((ve[oe._name]||{}).range)&&(_e=ve[oe._name].range.slice()),he&&Me&&(se.r2l(he[0])!==se.r2l(Me[0])||se.r2l(he[1])!==se.r2l(Me[1]))&&(De={xr0:he,xr1:Me}),Le&&_e&&(oe.r2l(Le[0])!==oe.r2l(_e[0])||oe.r2l(Le[1])!==oe.r2l(_e[1]))&&(Ne={yr0:Le,yr1:_e}),(De||Ne)&&X.push(t.extendFlat({plotinfo:ke},De,Ne))}}return Promise.resolve()},K.runFn=function(ee){var ne,re,ae=N._fullLayout._basePlotModules,ue=X.length;if(V)for(re=0;re<ae.length;re++)ae[re].transitionAxes&&ae[re].transitionAxes(N,X,$,ee);for(var pe in ue?((ne=t.extendFlat({},$)).duration=0,delete Z.cartesian):ne=$,Z){var ge=Z[pe];N._fullData[ge[0]]._module.basePlotModule.plot(N,ge,ne,ee)}},R(N,$,K)},h.transitionFromReact=function(N,B,V,q){var te=N._fullLayout,$=te.transition,K={},Z=[];return K.prepareFn=function(){var X=te._plots;for(var ee in K.redraw=!1,B.anim==="some"&&(K.redraw=!0),V.anim==="some"&&(K.redraw=!0),X){var ne=X[ee],re=ne.xaxis,ae=ne.yaxis,ue=q[re._name].range.slice(),pe=q[ae._name].range.slice(),ge=re.range.slice(),we=ae.range.slice();re.setScale(),ae.setScale();var me=null,ve=null;re.r2l(ue[0])===re.r2l(ge[0])&&re.r2l(ue[1])===re.r2l(ge[1])||(me={xr0:ue,xr1:ge}),ae.r2l(pe[0])===ae.r2l(we[0])&&ae.r2l(pe[1])===ae.r2l(we[1])||(ve={yr0:pe,yr1:we}),(me||ve)&&Z.push(t.extendFlat({plotinfo:ne},me,ve))}return Promise.resolve()},K.runFn=function(X){for(var ee,ne,re,ae=N._fullData,ue=N._fullLayout._basePlotModules,pe=[],ge=0;ge<ae.length;ge++)pe.push(ge);function we(){if(N._fullLayout)for(var ve=0;ve<ue.length;ve++)ue[ve].transitionAxes&&ue[ve].transitionAxes(N,Z,ee,X)}function me(){if(N._fullLayout)for(var ve=0;ve<ue.length;ve++)ue[ve].plot(N,re,ne,X)}Z.length&&B.anim?$.ordering==="traces first"?(ee=t.extendFlat({},$,{duration:0}),re=pe,ne=$,setTimeout(we,$.duration),me()):(ee=$,re=null,ne=t.extendFlat({},$,{duration:0}),setTimeout(me,ee.duration),we()):Z.length?(ee=$,we()):B.anim&&(re=pe,ne=$,me())},R(N,$,K)},h.doCalcdata=function(N,B){var V,q,te,$,K=n.list(N),Z=N._fullData,X=N._fullLayout,ee=new Array(Z.length),ne=(N.calcdata||[]).slice();for(N.calcdata=ee,X._numBoxes=0,X._numViolins=0,X._violinScaleGroupStats={},N._hmpixcount=0,N._hmlumcount=0,X._piecolormap={},X._sunburstcolormap={},X._treemapcolormap={},X._iciclecolormap={},X._funnelareacolormap={},te=0;te<Z.length;te++)Array.isArray(B)&&B.indexOf(te)===-1&&(ee[te]=ne[te]);for(te=0;te<Z.length;te++)(V=Z[te])._arrayAttrs=d.findArrayAttributes(V),V._extremes={};var re=X._subplots.polar||[];for(te=0;te<re.length;te++)K.push(X[re[te]].radialaxis,X[re[te]].angularaxis);for(var ae in X._colorAxes){var ue=X[ae];ue.cauto!==!1&&(delete ue.cmin,delete ue.cmax)}var pe=!1;function ge(ve){if(V=Z[ve],q=V._module,V.visible===!0&&V.transforms){if(q&&q.calc){var Ie=q.calc(N,V);Ie[0]&&Ie[0].t&&Ie[0].t._scene&&delete Ie[0].t._scene.dirty}for($=0;$<V.transforms.length;$++){var Se=V.transforms[$];(q=x[Se.type])&&q.calcTransform&&(V._hasCalcTransform=!0,pe=!0,q.calcTransform(N,V,Se))}}}function we(ve,Ie){if(V=Z[ve],!!(q=V._module).isContainer===Ie){var Se=[];if(V.visible===!0&&V._length!==0){delete V._indexToPoints;var ke=V.transforms||[];for($=ke.length-1;$>=0;$--)if(ke[$].enabled){V._indexToPoints=ke[$]._indexToPoints;break}q&&q.calc&&(Se=q.calc(N,V))}Array.isArray(Se)&&Se[0]||(Se=[{x:r,y:r}]),Se[0].t||(Se[0].t={}),Se[0].trace=V,ee[ve]=Se}}for(I(K,Z,X),te=0;te<Z.length;te++)we(te,!0);for(te=0;te<Z.length;te++)ge(te);for(pe&&I(K,Z,X),te=0;te<Z.length;te++)we(te,!0);for(te=0;te<Z.length;te++)we(te,!1);H(N);var me=function(ve,Ie){var Se,ke,se,oe,he,Le=[];function Me(qe,$e,ct){var at=$e._id.charAt(0);if(qe==="histogram2dcontour"){var Re=$e._counterAxes[0],je=n.getFromId(Ie,Re),st=at==="x"||Re==="x"&&je.type==="category",ot=at==="y"||Re==="y"&&je.type==="category";return function(xt,mt){return xt===0||mt===0||st&&xt===ct[mt].length-1||ot&&mt===ct.length-1?-1:(at==="y"?mt:xt)-1}}return function(xt,mt){return at==="y"?mt:xt}}var _e={min:function(qe){return t.aggNums(Math.min,null,qe)},max:function(qe){return t.aggNums(Math.max,null,qe)},sum:function(qe){return t.aggNums(function($e,ct){return $e+ct},null,qe)},total:function(qe){return t.aggNums(function($e,ct){return $e+ct},null,qe)},mean:function(qe){return t.mean(qe)},median:function(qe){return t.median(qe)}};function De(qe,$e){return qe[1]-$e[1]}function Ne(qe,$e){return $e[1]-qe[1]}for(Se=0;Se<ve.length;Se++){var ce=ve[Se];if(ce.type==="category"){var Te=ce.categoryorder.match(G);if(Te){var ye=Te[1],Oe=Te[2],Be=ce._id.charAt(0),Fe=Be==="x",Ge=[];for(ke=0;ke<ce._categories.length;ke++)Ge.push([ce._categories[ke],[]]);for(ke=0;ke<ce._traceIndices.length;ke++){var Ze=ce._traceIndices[ke],et=Ie._fullData[Ze];if(et.visible===!0){var ft=et.type;y.traceIs(et,"histogram")&&(delete et._xautoBinFinished,delete et._yautoBinFinished);var rt=ft==="splom",_t=ft==="scattergl",kt=Ie.calcdata[Ze];for(se=0;se<kt.length;se++){var wt,lt,ut=kt[se];if(rt){var Et=et._axesDim[ce._id];if(!Fe){var Ot=et._diag[Et][0];Ot&&(ce=Ie._fullLayout[n.id2name(Ot)])}var zt=ut.trace.dimensions[Et].values;for(oe=0;oe<zt.length;oe++)for(wt=ce._categoriesMap[zt[oe]],he=0;he<ut.trace.dimensions.length;he++)if(he!==Et){var Lt=ut.trace.dimensions[he];Ge[wt][1].push(Lt.values[oe])}}else if(_t){for(oe=0;oe<ut.t.x.length;oe++)Fe?(wt=ut.t.x[oe],lt=ut.t.y[oe]):(wt=ut.t.y[oe],lt=ut.t.x[oe]),Ge[wt][1].push(lt);ut.t&&ut.t._scene&&delete ut.t._scene.dirty}else if(ut.hasOwnProperty("z")){lt=ut.z;var Je=Me(et.type,ce,lt);for(oe=0;oe<lt.length;oe++)for(he=0;he<lt[oe].length;he++)(wt=Je(he,oe))+1&&Ge[wt][1].push(lt[oe][he])}else for((wt=ut.p)===void 0&&(wt=ut[Be]),(lt=ut.s)===void 0&&(lt=ut.v),lt===void 0&&(lt=Fe?ut.y:ut.x),Array.isArray(lt)||(lt=lt===void 0?[]:[lt]),oe=0;oe<lt.length;oe++)Ge[wt][1].push(lt[oe])}}}ce._categoriesValue=Ge;var Qe=[];for(ke=0;ke<Ge.length;ke++)Qe.push([Ge[ke][0],_e[ye](Ge[ke][1])]);Qe.sort(Oe==="descending"?Ne:De),ce._categoriesAggregatedValue=Qe,ce._initialCategories=Qe.map(function(qe){return qe[0]}),Le=Le.concat(ce.sortByInitialCategories())}}}return Le}(K,N);if(me.length){for(X._numBoxes=0,X._numViolins=0,te=0;te<me.length;te++)we(me[te],!0);for(te=0;te<me.length;te++)we(me[te],!1);H(N)}y.getComponentMethod("fx","calc")(N),y.getComponentMethod("errorbars","calc")(N)};var G=/(total|sum|min|max|mean|median) (ascending|descending)/;function I(N,B,V){var q={};function te(X){X.clearCalc(),X.type==="multicategory"&&X.setupMultiCategory(B),q[X._id]=1}t.simpleMap(N,te);for(var $=V._axisMatchGroups||[],K=0;K<$.length;K++)for(var Z in $[K])q[Z]||te(V[n.id2name(Z)])}function H(N){var B,V,q,te=N._fullLayout,$=te._visibleModules,K={};for(V=0;V<$.length;V++){var Z=$[V],X=Z.crossTraceCalc;if(X){var ee=Z.basePlotModule.name;K[ee]?t.pushUnique(K[ee],X):K[ee]=[X]}}for(q in K){var ne=K[q],re=te._subplots[q];if(Array.isArray(re))for(B=0;B<re.length;B++){var ae=re[B],ue=q==="cartesian"?te._plots[ae]:te[ae];for(V=0;V<ne.length;V++)ne[V](N,ue,ae)}else for(V=0;V<ne.length;V++)ne[V](N)}}h.rehover=function(N){N._fullLayout._rehover&&N._fullLayout._rehover()},h.redrag=function(N){N._fullLayout._redrag&&N._fullLayout._redrag()},h.reselect=function(N){var B=N._fullLayout,V=(N.layout||{}).selections,q=B._previousSelections;B._previousSelections=V;var te=B._reselect||JSON.stringify(V)!==JSON.stringify(q);y.getComponentMethod("selections","reselect")(N,te)},h.generalUpdatePerTraceModule=function(N,B,V,q){var te,$=B.traceHash,K={};for(te=0;te<V.length;te++){var Z=V[te],X=Z[0].trace;X.visible&&(K[X.type]=K[X.type]||[],K[X.type].push(Z))}for(var ee in $)if(!K[ee]){var ne=$[ee][0];ne[0].trace.visible=!1,K[ee]=[ne]}for(var re in K){var ae=K[re];ae[0][0].trace._module.plot(N,B,t.filterVisible(ae),q)}B.traceHash=K},h.plotBasePlot=function(N,B,V,q,te){var $=y.getModule(N),K=c(B.calcdata,$)[0];$.plot(B,K,q,te)},h.cleanBasePlot=function(N,B,V,q,te){var $=te._has&&te._has(N),K=V._has&&V._has(N);$&&!K&&te["_"+N+"layer"].selectAll("g.trace").remove()}},9813:function(Y){Y.exports={attr:"subplot",name:"polar",axisNames:["angularaxis","radialaxis"],axisName2dataArray:{angularaxis:"theta",radialaxis:"r"},layerNames:["draglayer","plotbg","backplot","angular-grid","radial-grid","frontplot","angular-line","radial-line","angular-axis","radial-axis"],radialDragBoxSize:50,angularDragBoxSize:30,cornerLen:25,cornerHalfWidth:2,MINDRAG:8,MINZOOM:20,OFFEDGE:20}},10869:function(Y,O,e){var M=e(71828),k=e(61082).tester,a=M.findIndexOfMin,_=M.isAngleInsideSector,y=M.angleDelta,d=M.angleDist;function s(n,l,o,u){var p,c,b=u[0],g=u[1],h=i(Math.sin(l)-Math.sin(n)),x=i(Math.cos(l)-Math.cos(n)),v=Math.tan(o),m=i(1/v),w=h/x,f=g-w*b;return m?h&&x?c=v*(p=f/(v-w)):x?(p=g*m,c=g):(p=b,c=b*v):h&&x?(p=0,c=f):x?(p=0,c=g):p=c=NaN,[p,c]}function t(n,l,o,u){return M.isFullCircle([l,o])?function(p,c){var b,g=c.length,h=new Array(g+1);for(b=0;b<g;b++){var x=c[b];h[b]=[p*Math.cos(x),p*Math.sin(x)]}return h[b]=h[0].slice(),h}(n,u):function(p,c,b,g){var h,x,v=g.length,m=[];function w(G){return[p*Math.cos(G),p*Math.sin(G)]}function f(G,I,H){return s(G,I,H,w(G))}function S(G){return M.mod(G,v)}function T(G){return _(G,[c,b])}var E=a(g,function(G){return T(G)?d(G,c):1/0}),L=f(g[E],g[S(E-1)],c);for(m.push(L),h=E,x=0;x<v;h++,x++){var C=g[S(h)];if(!T(C))break;m.push(w(C))}var P=a(g,function(G){return T(G)?d(G,b):1/0}),R=f(g[P],g[S(P+1)],b);return m.push(R),m.push([0,0]),m.push(m[0].slice()),m}(n,l,o,u)}function i(n){return Math.abs(n)>1e-10?n:0}function r(n,l,o){l=l||0,o=o||0;for(var u=n.length,p=new Array(u),c=0;c<u;c++){var b=n[c];p[c]=[l+b[0],o-b[1]]}return p}Y.exports={isPtInsidePolygon:function(n,l,o,u,p){if(!_(l,u))return!1;var c,b;o[0]<o[1]?(c=o[0],b=o[1]):(c=o[1],b=o[0]);var g=k(t(c,u[0],u[1],p)),h=k(t(b,u[0],u[1],p)),x=[n*Math.cos(l),n*Math.sin(l)];return h.contains(x)&&!g.contains(x)},findPolygonOffset:function(n,l,o,u){for(var p=1/0,c=1/0,b=t(n,l,o,u),g=0;g<b.length;g++){var h=b[g];p=Math.min(p,h[0]),c=Math.min(c,-h[1])}return[p,c]},findEnclosingVertexAngles:function(n,l){var o=a(l,function(p){var c=y(p,n);return c>0?c:1/0}),u=M.mod(o+1,l.length);return[l[o],l[u]]},findIntersectionXY:s,findXYatLength:function(n,l,o,u){var p=-l*o,c=l*l+1,b=2*(l*p-o),g=p*p+o*o-n*n,h=Math.sqrt(b*b-4*c*g),x=(-b+h)/(2*c),v=(-b-h)/(2*c);return[[x,l*x+p+u],[v,l*v+p+u]]},clampTiny:i,pathPolygon:function(n,l,o,u,p,c){return"M"+r(t(n,l,o,u),p,c).join("L")},pathPolygonAnnulus:function(n,l,o,u,p,c,b){var g,h;n<l?(g=n,h=l):(g=l,h=n);var x=r(t(g,o,u,p),c,b);return"M"+r(t(h,o,u,p),c,b).reverse().join("L")+"M"+x.join("L")}}},23580:function(Y,O,e){var M=e(27659).AU,k=e(71828).counterRegex,a=e(77997),_=e(9813),y=_.attr,d=_.name,s=k(d),t={};t[y]={valType:"subplotid",dflt:d,editType:"calc"},Y.exports={attr:y,name:d,idRoot:d,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(73812),supplyLayoutDefaults:e(68993),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,l=r._subplots[d],o=0;o<l.length;o++){var u=l[o],p=M(n,d,u),c=r[u]._subplot;c||(c=a(i,u),r[u]._subplot=c),c.plot(p,r,i._promises)}},clean:function(i,r,n,l){for(var o=l._subplots[d]||[],u=l._has&&l._has("gl"),p=r._has&&r._has("gl"),c=u&&!p,b=0;b<o.length;b++){var g=o[b],h=l[g]._subplot;if(!r[g]&&h)for(var x in h.framework.remove(),h.layers["radial-axis-title"].remove(),h.clipPaths)h.clipPaths[x].remove();c&&h._scene&&(h._scene.destroy(),h._scene=null)}},toSVG:e(93612).toSVG}},73812:function(Y,O,e){var M=e(22399),k=e(13838),a=e(27670).Y,_=e(71828).extendFlat,y=e(30962).overrideAll,d=y({color:k.color,showline:_({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:_({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=y({tickmode:k.minor.tickmode,nticks:k.nticks,tick0:k.tick0,dtick:k.dtick,tickvals:k.tickvals,ticktext:k.ticktext,ticks:k.ticks,ticklen:k.ticklen,tickwidth:k.tickwidth,tickcolor:k.tickcolor,ticklabelstep:k.ticklabelstep,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,showexponent:k.showexponent,exponentformat:k.exponentformat,minexponent:k.minexponent,separatethousands:k.separatethousands,tickfont:k.tickfont,tickangle:k.tickangle,tickformat:k.tickformat,tickformatstops:k.tickformatstops,layer:k.layer},"plot","from-root"),t={visible:_({},k.visible,{dflt:!0}),type:_({},k.type,{values:["-","linear","log","date","category"]}),autotypenumbers:k.autotypenumbers,autorangeoptions:{minallowed:k.autorangeoptions.minallowed,maxallowed:k.autorangeoptions.maxallowed,clipmin:k.autorangeoptions.clipmin,clipmax:k.autorangeoptions.clipmax,include:k.autorangeoptions.include,editType:"plot"},autorange:_({},k.autorange,{editType:"plot"}),rangemode:{valType:"enumerated",values:["tozero","nonnegative","normal"],dflt:"tozero",editType:"calc"},minallowed:_({},k.minallowed,{editType:"plot"}),maxallowed:_({},k.maxallowed,{editType:"plot"}),range:_({},k.range,{items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot"}),categoryorder:k.categoryorder,categoryarray:k.categoryarray,angle:{valType:"angle",editType:"plot"},side:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"clockwise",editType:"plot"},title:{text:_({},k.title.text,{editType:"plot",dflt:""}),font:_({},k.title.font,{editType:"plot"}),editType:"plot"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{title:k._deprecated.title,titlefont:k._deprecated.titlefont}};_(t,d,s);var i={visible:_({},k.visible,{dflt:!0}),type:{valType:"enumerated",values:["-","linear","category"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:k.autotypenumbers,categoryorder:k.categoryorder,categoryarray:k.categoryarray,thetaunit:{valType:"enumerated",values:["radians","degrees"],dflt:"degrees",editType:"calc"},period:{valType:"number",editType:"calc",min:0},direction:{valType:"enumerated",values:["counterclockwise","clockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",editType:"calc"},hoverformat:k.hoverformat,uirevision:{valType:"any",editType:"none"},editType:"calc"};_(i,d,s),Y.exports={domain:a({name:"polar",editType:"plot"}),sector:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],dflt:[0,360],editType:"plot"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},bgcolor:{valType:"color",editType:"plot",dflt:M.background},radialaxis:t,angularaxis:i,gridshape:{valType:"enumerated",values:["circular","linear"],dflt:"circular",editType:"plot"},uirevision:{valType:"any",editType:"none"},editType:"calc"}},68993:function(Y,O,e){var M=e(71828),k=e(7901),a=e(44467),_=e(49119),y=e(27659).NG,d=e(26218),s=e(38701),t=e(96115),i=e(89426),r=e(15258),n=e(92128),l=e(23074),o=e(4322),u=e(73812),p=e(12101),c=e(9813),b=c.axisNames;function g(x,v,m,w){var f=m("bgcolor");w.bgColor=k.combine(f,w.paper_bgcolor);var S=m("sector");m("hole");var T,E=y(w.fullData,c.name,w.id),L=w.layoutOut;function C(ae,ue){return m(T+"."+ae,ue)}for(var P=0;P<b.length;P++){T=b[P],M.isPlainObject(x[T])||(x[T]={});var R=x[T],G=a.newContainer(v,T);G._id=G._name=T,G._attr=w.id+"."+T,G._traceIndices=E.map(function(ae){return ae._expandedIndex});var I=c.axisName2dataArray[T],H=h(R,G,C,E,I,w);r(R,G,C,{axData:E,dataAttr:I});var N=C("visible");switch(p(G,v,L),C("uirevision",v.uirevision),G._m=1,T){case"radialaxis":C("minallowed"),C("maxallowed");var B,V=C("range"),q=G.getAutorangeDflt(V),te=C("autorange",q);!V||(V[0]!==null||V[1]!==null)&&(V[0]!==null&&V[1]!==null||te!=="reversed"&&te!==!0)&&(V[0]===null||te!=="min"&&te!=="max reversed")&&(V[1]===null||te!=="max"&&te!=="min reversed")||(V=void 0,delete G.range,G.autorange=!0,B=!0),B||(te=C("autorange",q=G.getAutorangeDflt(V))),R.autorange=te,te&&(l(C,te,V),H!=="linear"&&H!=="-"||C("rangemode"),G.isReversed()&&(G._m=-1)),G.cleanRange("range",{dfltRange:[0,1]});break;case"angularaxis":if(H==="date"){M.log("Polar plots do not support date angular axes yet.");for(var $=0;$<E.length;$++)E[$].visible=!1;H=R.type=G.type="linear"}C(H==="linear"?"thetaunit":"period");var K=C("direction");C("rotation",{counterclockwise:0,clockwise:90}[K])}if(i(R,G,C,G.type,{tickSuffixDflt:G.thetaunit==="degrees"?"°":void 0}),N){var Z,X,ee,ne,re=w.font||{};X=(Z=C("color"))===R.color?Z:re.color,ee=re.size,ne=re.family,d(R,G,C,G.type),t(R,G,C,G.type,{font:{color:X,size:ee,family:ne}}),s(R,G,C,{outerTicks:!0}),n(R,G,C,{dfltColor:Z,bgColor:w.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:u[T]}),C("layer"),T==="radialaxis"&&(C("side"),C("angle",S[0]),C("title.text"),M.coerceFont(C,"title.font",{color:X,size:M.bigFont(ee),family:ne}))}H!=="category"&&C("hoverformat"),G._input=R}v.angularaxis.type==="category"&&m("gridshape")}function h(x,v,m,w,f,S){var T=m("autotypenumbers",S.autotypenumbersDflt);if(m("type")==="-"){for(var E,L=0;L<w.length;L++)if(w[L].visible){E=w[L];break}E&&E[f]&&(v.type=o(E[f],"gregorian",{noMultiCategory:!0,autotypenumbers:T})),v.type==="-"?v.type="linear":x.type=v.type}return v.type}Y.exports=function(x,v,m){_(x,v,m,{type:c.name,attributes:u,handleDefaults:g,font:v.font,autotypenumbersDflt:v.autotypenumbers,paper_bgcolor:v.paper_bgcolor,fullData:m,layoutOut:v})}},77997:function(Y,O,e){var M=e(39898),k=e(84267),a=e(73972),_=e(71828),y=_.strRotate,d=_.strTranslate,s=e(7901),t=e(91424),i=e(74875),r=e(89298),n=e(21994),l=e(12101),o=e(71739).doAutoRange,u=e(29323),p=e(28569),c=e(30211),b=e(92998),g=e(47322).prepSelect,h=e(47322).selectOnClick,x=e(47322).clearOutline,v=e(6964),m=e(33306),w=e(61549).redrawReglTraces,f=e(18783).MID_SHIFT,S=e(9813),T=e(10869),E=e(23893),L=E.smith,C=E.reactanceArc,P=E.resistanceArc,R=E.smithTransform,G=_._,I=_.mod,H=_.deg2rad,N=_.rad2deg;function B(K,Z,X){this.isSmith=X||!1,this.id=Z,this.gd=K,this._hasClipOnAxisFalse=null,this.vangles=null,this.radialAxisAngle=null,this.traceHash={},this.layers={},this.clipPaths={},this.clipIds={},this.viewInitial={};var ee=K._fullLayout,ne="clip"+ee._uid+Z;this.clipIds.forTraces=ne+"-for-traces",this.clipPaths.forTraces=ee._clips.append("clipPath").attr("id",this.clipIds.forTraces),this.clipPaths.forTraces.append("path"),this.framework=ee["_"+(X?"smith":"polar")+"layer"].append("g").attr("class",Z),this.getHole=function(re){return this.isSmith?0:re.hole},this.getSector=function(re){return this.isSmith?[0,360]:re.sector},this.getRadial=function(re){return this.isSmith?re.realaxis:re.radialaxis},this.getAngular=function(re){return this.isSmith?re.imaginaryaxis:re.angularaxis},X||(this.radialTickLayout=null,this.angularTickLayout=null)}var V=B.prototype;function q(K){var Z=K.ticks+String(K.ticklen)+String(K.showticklabels);return"side"in K&&(Z+=K.side),Z}function te(K,Z){return Z[_.findIndexOfMin(Z,function(X){return _.angleDist(K,X)})]}function $(K,Z,X){return Z?(K.attr("display",null),K.attr(X)):K&&K.attr("display","none"),K}Y.exports=function(K,Z,X){return new B(K,Z,X)},V.plot=function(K,Z){for(var X=this,ee=Z[X.id],ne=!1,re=0;re<K.length;re++)if(K[re][0].trace.cliponaxis===!1){ne=!0;break}X._hasClipOnAxisFalse=ne,X.updateLayers(Z,ee),X.updateLayout(Z,ee),i.generalUpdatePerTraceModule(X.gd,X,K,ee),X.updateFx(Z,ee),X.isSmith&&(delete ee.realaxis.range,delete ee.imaginaryaxis.range)},V.updateLayers=function(K,Z){var X=this,ee=X.isSmith,ne=X.layers,re=X.getRadial(Z),ae=X.getAngular(Z),ue=S.layerNames,pe=ue.indexOf("frontplot"),ge=ue.slice(0,pe),we=ae.layer==="below traces",me=re.layer==="below traces";we&&ge.push("angular-line"),me&&ge.push("radial-line"),we&&ge.push("angular-axis"),me&&ge.push("radial-axis"),ge.push("frontplot"),we||ge.push("angular-line"),me||ge.push("radial-line"),we||ge.push("angular-axis"),me||ge.push("radial-axis");var ve=(ee?"smith":"polar")+"sublayer",Ie=X.framework.selectAll("."+ve).data(ge,String);Ie.enter().append("g").attr("class",function(Se){return ve+" "+Se}).each(function(Se){var ke=ne[Se]=M.select(this);switch(Se){case"frontplot":ee||ke.append("g").classed("barlayer",!0),ke.append("g").classed("scatterlayer",!0);break;case"backplot":ke.append("g").classed("maplayer",!0);break;case"plotbg":ne.bg=ke.append("path");break;case"radial-grid":case"angular-grid":ke.style("fill","none");break;case"radial-line":ke.append("line").style("fill","none");break;case"angular-line":ke.append("path").style("fill","none")}}),Ie.order()},V.updateLayout=function(K,Z){var X=this,ee=X.layers,ne=K._size,re=X.getRadial(Z),ae=X.getAngular(Z),ue=Z.domain.x,pe=Z.domain.y;X.xOffset=ne.l+ne.w*ue[0],X.yOffset=ne.t+ne.h*(1-pe[1]);var ge=X.xLength=ne.w*(ue[1]-ue[0]),we=X.yLength=ne.h*(pe[1]-pe[0]),me=X.getSector(Z);X.sectorInRad=me.map(H);var ve,Ie,Se,ke,se,oe=X.sectorBBox=function(ft){var rt,_t=ft[0],kt=ft[1]-_t,wt=I(_t,360),lt=wt+kt,ut=Math.cos(H(wt)),Et=Math.sin(H(wt)),Ot=Math.cos(H(lt)),zt=Math.sin(H(lt));return rt=wt<=90&&lt>=90||wt>90&&lt>=450?1:Et<=0&&zt<=0?0:Math.max(Et,zt),[wt<=180&&lt>=180||wt>180&&lt>=540?-1:ut>=0&&Ot>=0?0:Math.min(ut,Ot),wt<=270&&lt>=270||wt>270&&lt>=630?-1:Et>=0&&zt>=0?0:Math.min(Et,zt),lt>=360?1:ut<=0&&Ot<=0?0:Math.max(ut,Ot),rt]}(me),he=oe[2]-oe[0],Le=oe[3]-oe[1],Me=we/ge,_e=Math.abs(Le/he);Me>_e?(ve=ge,se=(we-(Ie=ge*_e))/ne.h/2,Se=[ue[0],ue[1]],ke=[pe[0]+se,pe[1]-se]):(Ie=we,se=(ge-(ve=we/_e))/ne.w/2,Se=[ue[0]+se,ue[1]-se],ke=[pe[0],pe[1]]),X.xLength2=ve,X.yLength2=Ie,X.xDomain2=Se,X.yDomain2=ke;var De,Ne=X.xOffset2=ne.l+ne.w*Se[0],ce=X.yOffset2=ne.t+ne.h*(1-ke[1]),Te=X.radius=ve/he,ye=X.innerRadius=X.getHole(Z)*Te,Oe=X.cx=Ne-Te*oe[0],Be=X.cy=ce+Te*oe[3],Fe=X.cxx=Oe-Ne,Ge=X.cyy=Be-ce,Ze=re.side;Ze==="counterclockwise"?(De=Ze,Ze="top"):Ze==="clockwise"&&(De=Ze,Ze="bottom"),X.radialAxis=X.mockAxis(K,Z,re,{_id:"x",side:Ze,_trueSide:De,domain:[ye/ne.w,Te/ne.w]}),X.angularAxis=X.mockAxis(K,Z,ae,{side:"right",domain:[0,Math.PI],autorange:!1}),X.doAutoRange(K,Z),X.updateAngularAxis(K,Z),X.updateRadialAxis(K,Z),X.updateRadialAxisTitle(K,Z),X.xaxis=X.mockCartesianAxis(K,Z,{_id:"x",domain:Se}),X.yaxis=X.mockCartesianAxis(K,Z,{_id:"y",domain:ke});var et=X.pathSubplot();X.clipPaths.forTraces.select("path").attr("d",et).attr("transform",d(Fe,Ge)),ee.frontplot.attr("transform",d(Ne,ce)).call(t.setClipUrl,X._hasClipOnAxisFalse?null:X.clipIds.forTraces,X.gd),ee.bg.attr("d",et).attr("transform",d(Oe,Be)).call(s.fill,Z.bgcolor)},V.mockAxis=function(K,Z,X,ee){var ne=_.extendFlat({},X,ee);return l(ne,Z,K),ne},V.mockCartesianAxis=function(K,Z,X){var ee=this,ne=ee.isSmith,re=X._id,ae=_.extendFlat({type:"linear"},X);n(ae,K);var ue={x:[0,2],y:[1,3]};return ae.setRange=function(){var pe=ee.sectorBBox,ge=ue[re],we=ee.radialAxis._rl,me=(we[1]-we[0])/(1-ee.getHole(Z));ae.range=[pe[ge[0]]*me,pe[ge[1]]*me]},ae.isPtWithinRange=re!=="x"||ne?function(){return!0}:function(pe){return ee.isPtInside(pe)},ae.setRange(),ae.setScale(),ae},V.doAutoRange=function(K,Z){var X=this,ee=X.gd,ne=X.radialAxis,re=X.getRadial(Z);o(ee,ne);var ae=ne.range;re.range=ae.slice(),re._input.range=ae.slice(),ne._rl=[ne.r2l(ae[0],null,"gregorian"),ne.r2l(ae[1],null,"gregorian")]},V.updateRadialAxis=function(K,Z){var X=this,ee=X.gd,ne=X.layers,re=X.radius,ae=X.innerRadius,ue=X.cx,pe=X.cy,ge=X.getRadial(Z),we=I(X.getSector(Z)[0],360),me=X.radialAxis,ve=ae<re,Ie=X.isSmith;Ie||(X.fillViewInitialKey("radialaxis.angle",ge.angle),X.fillViewInitialKey("radialaxis.range",me.range.slice()),me.setGeometry()),me.tickangle==="auto"&&we>90&&we<=270&&(me.tickangle=180);var Se=Ie?function(ce){var Te=R(X,L([ce.x,0]));return d(Te[0]-ue,Te[1]-pe)}:function(ce){return d(me.l2p(ce.x)+ae,0)},ke=Ie?function(ce){return P(X,ce.x,-1/0,1/0)}:function(ce){return X.pathArc(me.r2p(ce.x)+ae)},se=q(ge);if(X.radialTickLayout!==se&&(ne["radial-axis"].selectAll(".xtick").remove(),X.radialTickLayout=se),ve){me.setScale();var oe=0,he=Ie?(me.tickvals||[]).filter(function(ce){return ce>=0}).map(function(ce){return r.tickText(me,ce,!0,!1)}):r.calcTicks(me),Le=Ie?he:r.clipEnds(me,he),Me=r.getTickSigns(me)[2];Ie&&((me.ticks==="top"&&me.side==="bottom"||me.ticks==="bottom"&&me.side==="top")&&(Me=-Me),me.ticks==="top"&&me.side==="top"&&(oe=-me.ticklen),me.ticks==="bottom"&&me.side==="bottom"&&(oe=me.ticklen)),r.drawTicks(ee,me,{vals:he,layer:ne["radial-axis"],path:r.makeTickPath(me,0,Me),transFn:Se,crisp:!1}),r.drawGrid(ee,me,{vals:Le,layer:ne["radial-grid"],path:ke,transFn:_.noop,crisp:!1}),r.drawLabels(ee,me,{vals:he,layer:ne["radial-axis"],transFn:Se,labelFns:r.makeLabelFns(me,oe)})}var _e=X.radialAxisAngle=X.vangles?N(te(H(ge.angle),X.vangles)):ge.angle,De=d(ue,pe),Ne=De+y(-_e);$(ne["radial-axis"],ve&&(ge.showticklabels||ge.ticks),{transform:Ne}),$(ne["radial-grid"],ve&&ge.showgrid,{transform:Ie?"":De}),$(ne["radial-line"].select("line"),ve&&ge.showline,{x1:Ie?-re:ae,y1:0,x2:re,y2:0,transform:Ne}).attr("stroke-width",ge.linewidth).call(s.stroke,ge.linecolor)},V.updateRadialAxisTitle=function(K,Z,X){if(!this.isSmith){var ee=this,ne=ee.gd,re=ee.radius,ae=ee.cx,ue=ee.cy,pe=ee.getRadial(Z),ge=ee.id+"title",we=0;if(pe.title){var me=t.bBox(ee.layers["radial-axis"].node()).height,ve=pe.title.font.size,Ie=pe.side;we=Ie==="top"?ve:Ie==="counterclockwise"?-(me+.4*ve):me+.8*ve}var Se=X!==void 0?X:ee.radialAxisAngle,ke=H(Se),se=Math.cos(ke),oe=Math.sin(ke),he=ae+re/2*se+we*oe,Le=ue-re/2*oe+we*se;ee.layers["radial-axis-title"]=b.draw(ne,ge,{propContainer:pe,propName:ee.id+".radialaxis.title",placeholder:G(ne,"Click to enter radial axis title"),attributes:{x:he,y:Le,"text-anchor":"middle"},transform:{rotate:-Se}})}},V.updateAngularAxis=function(K,Z){var X=this,ee=X.gd,ne=X.layers,re=X.radius,ae=X.innerRadius,ue=X.cx,pe=X.cy,ge=X.getAngular(Z),we=X.angularAxis,me=X.isSmith;me||(X.fillViewInitialKey("angularaxis.rotation",ge.rotation),we.setGeometry(),we.setScale());var ve=me?function(ce){var Te=R(X,L([0,ce.x]));return Math.atan2(Te[0]-ue,Te[1]-pe)-Math.PI/2}:function(ce){return we.t2g(ce.x)};we.type==="linear"&&we.thetaunit==="radians"&&(we.tick0=N(we.tick0),we.dtick=N(we.dtick));var Ie=function(ce){return d(ue+re*Math.cos(ce),pe-re*Math.sin(ce))},Se=me?function(ce){var Te=R(X,L([0,ce.x]));return d(Te[0],Te[1])}:function(ce){return Ie(ve(ce))},ke=me?function(ce){var Te=R(X,L([0,ce.x])),ye=Math.atan2(Te[0]-ue,Te[1]-pe)-Math.PI/2;return d(Te[0],Te[1])+y(-N(ye))}:function(ce){var Te=ve(ce);return Ie(Te)+y(-N(Te))},se=me?function(ce){return C(X,ce.x,0,1/0)}:function(ce){var Te=ve(ce),ye=Math.cos(Te),Oe=Math.sin(Te);return"M"+[ue+ae*ye,pe-ae*Oe]+"L"+[ue+re*ye,pe-re*Oe]},oe=r.makeLabelFns(we,0).labelStandoff,he={xFn:function(ce){var Te=ve(ce);return Math.cos(Te)*oe},yFn:function(ce){var Te=ve(ce),ye=Math.sin(Te)>0?.2:1;return-Math.sin(Te)*(oe+ce.fontSize*ye)+Math.abs(Math.cos(Te))*(ce.fontSize*f)},anchorFn:function(ce){var Te=ve(ce),ye=Math.cos(Te);return Math.abs(ye)<.1?"middle":ye>0?"start":"end"},heightFn:function(ce,Te,ye){var Oe=ve(ce);return-.5*(1+Math.sin(Oe))*ye}},Le=q(ge);X.angularTickLayout!==Le&&(ne["angular-axis"].selectAll("."+we._id+"tick").remove(),X.angularTickLayout=Le);var Me,_e=me?[1/0].concat(we.tickvals||[]).map(function(ce){return r.tickText(we,ce,!0,!1)}):r.calcTicks(we);if(me&&(_e[0].text="∞",_e[0].fontSize*=1.75),Z.gridshape==="linear"?(Me=_e.map(ve),_.angleDelta(Me[0],Me[1])<0&&(Me=Me.slice().reverse())):Me=null,X.vangles=Me,we.type==="category"&&(_e=_e.filter(function(ce){return _.isAngleInsideSector(ve(ce),X.sectorInRad)})),we.visible){var De=we.ticks==="inside"?-1:1,Ne=(we.linewidth||1)/2;r.drawTicks(ee,we,{vals:_e,layer:ne["angular-axis"],path:"M"+De*Ne+",0h"+De*we.ticklen,transFn:ke,crisp:!1}),r.drawGrid(ee,we,{vals:_e,layer:ne["angular-grid"],path:se,transFn:_.noop,crisp:!1}),r.drawLabels(ee,we,{vals:_e,layer:ne["angular-axis"],repositionOnUpdate:!0,transFn:Se,labelFns:he})}$(ne["angular-line"].select("path"),ge.showline,{d:X.pathSubplot(),transform:d(ue,pe)}).attr("stroke-width",ge.linewidth).call(s.stroke,ge.linecolor)},V.updateFx=function(K,Z){this.gd._context.staticPlot||(!this.isSmith&&(this.updateAngularDrag(K),this.updateRadialDrag(K,Z,0),this.updateRadialDrag(K,Z,1)),this.updateHoverAndMainDrag(K))},V.updateHoverAndMainDrag=function(K){var Z,X,ee=this,ne=ee.isSmith,re=ee.gd,ae=ee.layers,ue=K._zoomlayer,pe=S.MINZOOM,ge=S.OFFEDGE,we=ee.radius,me=ee.innerRadius,ve=ee.cx,Ie=ee.cy,Se=ee.cxx,ke=ee.cyy,se=ee.sectorInRad,oe=ee.vangles,he=ee.radialAxis,Le=T.clampTiny,Me=T.findXYatLength,_e=T.findEnclosingVertexAngles,De=S.cornerHalfWidth,Ne=S.cornerLen/2,ce=u.makeDragger(ae,"path","maindrag",K.dragmode===!1?"none":"crosshair");M.select(ce).attr("d",ee.pathSubplot()).attr("transform",d(ve,Ie)),ce.onmousemove=function(at){c.hover(re,at,ee.id),re._fullLayout._lasthover=ce,re._fullLayout._hoversubplot=ee.id},ce.onmouseout=function(at){re._dragging||p.unhover(re,at)};var Te,ye,Oe,Be,Fe,Ge,Ze,et,ft,rt={element:ce,gd:re,subplot:ee.id,plotinfo:{id:ee.id,xaxis:ee.xaxis,yaxis:ee.yaxis},xaxes:[ee.xaxis],yaxes:[ee.yaxis]};function _t(at,Re){return Math.sqrt(at*at+Re*Re)}function kt(at,Re){return _t(at-Se,Re-ke)}function wt(at,Re){return Math.atan2(ke-Re,at-Se)}function lt(at,Re){return[at*Math.cos(Re),at*Math.sin(-Re)]}function ut(at,Re){if(at===0)return ee.pathSector(2*De);var je=Ne/at,st=Re-je,ot=Re+je,xt=Math.max(0,Math.min(at,we)),mt=xt-De,bt=xt+De;return"M"+lt(mt,st)+"A"+[mt,mt]+" 0,0,0 "+lt(mt,ot)+"L"+lt(bt,ot)+"A"+[bt,bt]+" 0,0,1 "+lt(bt,st)+"Z"}function Et(at,Re,je){if(at===0)return ee.pathSector(2*De);var st,ot,xt=lt(at,Re),mt=lt(at,je),bt=Le((xt[0]+mt[0])/2),dt=Le((xt[1]+mt[1])/2);if(bt&&dt){var St=dt/bt,gt=-1/St,vt=Me(De,St,bt,dt);st=Me(Ne,gt,vt[0][0],vt[0][1]),ot=Me(Ne,gt,vt[1][0],vt[1][1])}else{var Mt,Bt;dt?(Mt=Ne,Bt=De):(Mt=De,Bt=Ne),st=[[bt-Mt,dt-Bt],[bt+Mt,dt-Bt]],ot=[[bt-Mt,dt+Bt],[bt+Mt,dt+Bt]]}return"M"+st.join("L")+"L"+ot.reverse().join("L")+"Z"}function Ot(at,Re){return Re=Math.max(Math.min(Re,we),me),at<ge?at=0:we-at<ge?at=we:Re<ge?Re=0:we-Re<ge&&(Re=we),Math.abs(Re-at)>pe?(at<Re?(Oe=at,Be=Re):(Oe=Re,Be=at),!0):(Oe=null,Be=null,!1)}function zt(at,Re){at=at||Fe,Re=Re||"M0,0Z",et.attr("d",at),ft.attr("d",Re),u.transitionZoombox(et,ft,Ge,Ze),Ge=!0;var je={};$e(je),re.emit("plotly_relayouting",je)}function Lt(at,Re){var je,st,ot=Te+(at*=Z),xt=ye+(Re*=X),mt=kt(Te,ye),bt=Math.min(kt(ot,xt),we),dt=wt(Te,ye);Ot(mt,bt)&&(je=Fe+ee.pathSector(Be),Oe&&(je+=ee.pathSector(Oe)),st=ut(Oe,dt)+ut(Be,dt)),zt(je,st)}function Je(at,Re,je,st){var ot=T.findIntersectionXY(je,st,je,[at-Se,ke-Re]);return _t(ot[0],ot[1])}function Qe(at,Re){var je,st,ot=Te+at,xt=ye+Re,mt=wt(Te,ye),bt=wt(ot,xt),dt=_e(mt,oe),St=_e(bt,oe);Ot(Je(Te,ye,dt[0],dt[1]),Math.min(Je(ot,xt,St[0],St[1]),we))&&(je=Fe+ee.pathSector(Be),Oe&&(je+=ee.pathSector(Oe)),st=[Et(Oe,dt[0],dt[1]),Et(Be,dt[0],dt[1])].join(" ")),zt(je,st)}function qe(){if(u.removeZoombox(re),Oe!==null&&Be!==null){var at={};$e(at),u.showDoubleClickNotifier(re),a.call("_guiRelayout",re,at)}}function $e(at){var Re=he._rl,je=(Re[1]-Re[0])/(1-me/we)/we,st=[Re[0]+(Oe-me)*je,Re[0]+(Be-me)*je];at[ee.id+".radialaxis.range"]=st}function ct(at,Re){var je=re._fullLayout.clickmode;if(u.removeZoombox(re),at===2){var st={};for(var ot in ee.viewInitial)st[ee.id+"."+ot]=ee.viewInitial[ot];re.emit("plotly_doubleclick",null),a.call("_guiRelayout",re,st)}je.indexOf("select")>-1&&at===1&&h(Re,re,[ee.xaxis],[ee.yaxis],ee.id,rt),je.indexOf("event")>-1&&c.click(re,Re,ee.id)}rt.prepFn=function(at,Re,je){var st=re._fullLayout.dragmode,ot=ce.getBoundingClientRect();re._fullLayout._calcInverseTransform(re);var xt=re._fullLayout._invTransform;Z=re._fullLayout._invScaleX,X=re._fullLayout._invScaleY;var mt=_.apply3DTransform(xt)(Re-ot.left,je-ot.top);if(Te=mt[0],ye=mt[1],oe){var bt=T.findPolygonOffset(we,se[0],se[1],oe);Te+=Se+bt[0],ye+=ke+bt[1]}switch(st){case"zoom":rt.clickFn=ct,ne||(rt.moveFn=oe?Qe:Lt,rt.doneFn=qe,function(){Oe=null,Be=null,Fe=ee.pathSubplot(),Ge=!1;var dt=re._fullLayout[ee.id];Ze=k(dt.bgcolor).getLuminance(),(et=u.makeZoombox(ue,Ze,ve,Ie,Fe)).attr("fill-rule","evenodd"),ft=u.makeCorners(ue,ve,Ie),x(re)}());break;case"select":case"lasso":g(at,Re,je,rt,st)}},p.init(rt)},V.updateRadialDrag=function(K,Z,X){var ee=this,ne=ee.gd,re=ee.layers,ae=ee.radius,ue=ee.innerRadius,pe=ee.cx,ge=ee.cy,we=ee.radialAxis,me=S.radialDragBoxSize,ve=me/2;if(we.visible){var Ie,Se,ke,se=H(ee.radialAxisAngle),oe=we._rl,he=oe[0],Le=oe[1],Me=oe[X],_e=.75*(oe[1]-oe[0])/(1-ee.getHole(Z))/ae;X?(Ie=pe+(ae+ve)*Math.cos(se),Se=ge-(ae+ve)*Math.sin(se),ke="radialdrag"):(Ie=pe+(ue-ve)*Math.cos(se),Se=ge-(ue-ve)*Math.sin(se),ke="radialdrag-inner");var De,Ne,ce,Te=u.makeRectDragger(re,ke,"crosshair",-ve,-ve,me,me),ye={element:Te,gd:ne};K.dragmode===!1&&(ye.dragmode=!1),$(M.select(Te),we.visible&&ue<ae,{transform:d(Ie,Se)}),ye.prepFn=function(){De=null,Ne=null,ce=null,ye.moveFn=Oe,ye.doneFn=Be,x(ne)},ye.clampFn=function(Ze,et){return Math.sqrt(Ze*Ze+et*et)<S.MINDRAG&&(Ze=0,et=0),[Ze,et]},p.init(ye)}function Oe(Ze,et){if(De)De(Ze,et);else{var ft=[Ze,-et],rt=[Math.cos(se),Math.sin(se)],_t=Math.abs(_.dot(ft,rt)/Math.sqrt(_.dot(ft,ft)));isNaN(_t)||(De=_t<.5?Fe:Ge)}var kt={};(function(wt){Ne!==null?wt[ee.id+".radialaxis.angle"]=Ne:ce!==null&&(wt[ee.id+".radialaxis.range["+X+"]"]=ce)})(kt),ne.emit("plotly_relayouting",kt)}function Be(){Ne!==null?a.call("_guiRelayout",ne,ee.id+".radialaxis.angle",Ne):ce!==null&&a.call("_guiRelayout",ne,ee.id+".radialaxis.range["+X+"]",ce)}function Fe(Ze,et){if(X!==0){var ft=Ie+Ze,rt=Se+et;Ne=Math.atan2(ge-rt,ft-pe),ee.vangles&&(Ne=te(Ne,ee.vangles)),Ne=N(Ne);var _t=d(pe,ge)+y(-Ne);re["radial-axis"].attr("transform",_t),re["radial-line"].select("line").attr("transform",_t);var kt=ee.gd._fullLayout,wt=kt[ee.id];ee.updateRadialAxisTitle(kt,wt,Ne)}}function Ge(Ze,et){var ft=_.dot([Ze,-et],[Math.cos(se),Math.sin(se)]);if(ce=Me-_e*ft,_e>0==(X?ce>he:ce<Le)){var rt=ne._fullLayout,_t=rt[ee.id];we.range[X]=ce,we._rl[X]=ce,ee.updateRadialAxis(rt,_t),ee.xaxis.setRange(),ee.xaxis.setScale(),ee.yaxis.setRange(),ee.yaxis.setScale();var kt=!1;for(var wt in ee.traceHash){var lt=ee.traceHash[wt],ut=_.filterVisible(lt);lt[0][0].trace._module.plot(ne,ee,ut,_t),a.traceIs(wt,"gl")&&ut.length&&(kt=!0)}kt&&(m(ne),w(ne))}else ce=null}},V.updateAngularDrag=function(K){var Z=this,X=Z.gd,ee=Z.layers,ne=Z.radius,re=Z.angularAxis,ae=Z.cx,ue=Z.cy,pe=Z.cxx,ge=Z.cyy,we=S.angularDragBoxSize,me=u.makeDragger(ee,"path","angulardrag",K.dragmode===!1?"none":"move"),ve={element:me,gd:X};function Ie(ye,Oe){return Math.atan2(ge+we-Oe,ye-pe-we)}K.dragmode===!1?ve.dragmode=!1:M.select(me).attr("d",Z.pathAnnulus(ne,ne+we)).attr("transform",d(ae,ue)).call(v,"move");var Se,ke,se,oe,he,Le,Me=ee.frontplot.select(".scatterlayer").selectAll(".trace"),_e=Me.selectAll(".point"),De=Me.selectAll(".textpoint");function Ne(ye,Oe){var Be=Z.gd._fullLayout,Fe=Be[Z.id],Ge=Ie(Se+ye*K._invScaleX,ke+Oe*K._invScaleY),Ze=N(Ge-Le);if(oe=se+Ze,ee.frontplot.attr("transform",d(Z.xOffset2,Z.yOffset2)+y([-Ze,pe,ge])),Z.vangles){he=Z.radialAxisAngle+Ze;var et=d(ae,ue)+y(-Ze),ft=d(ae,ue)+y(-he);ee.bg.attr("transform",et),ee["radial-grid"].attr("transform",et),ee["radial-axis"].attr("transform",ft),ee["radial-line"].select("line").attr("transform",ft),Z.updateRadialAxisTitle(Be,Fe,he)}else Z.clipPaths.forTraces.select("path").attr("transform",d(pe,ge)+y(Ze));_e.each(function(){var ut=M.select(this),Et=t.getTranslate(ut);ut.attr("transform",d(Et.x,Et.y)+y([Ze]))}),De.each(function(){var ut=M.select(this),Et=ut.select("text"),Ot=t.getTranslate(ut);ut.attr("transform",y([Ze,Et.attr("x"),Et.attr("y")])+d(Ot.x,Ot.y))}),re.rotation=_.modHalf(oe,360),Z.updateAngularAxis(Be,Fe),Z._hasClipOnAxisFalse&&!_.isFullCircle(Z.sectorInRad)&&Me.call(t.hideOutsideRangePoints,Z);var rt=!1;for(var _t in Z.traceHash)if(a.traceIs(_t,"gl")){var kt=Z.traceHash[_t],wt=_.filterVisible(kt);kt[0][0].trace._module.plot(X,Z,wt,Fe),wt.length&&(rt=!0)}rt&&(m(X),w(X));var lt={};ce(lt),X.emit("plotly_relayouting",lt)}function ce(ye){ye[Z.id+".angularaxis.rotation"]=oe,Z.vangles&&(ye[Z.id+".radialaxis.angle"]=he)}function Te(){De.select("text").attr("transform",null);var ye={};ce(ye),a.call("_guiRelayout",X,ye)}ve.prepFn=function(ye,Oe,Be){var Fe=K[Z.id];se=Fe.angularaxis.rotation;var Ge=me.getBoundingClientRect();Se=Oe-Ge.left,ke=Be-Ge.top,X._fullLayout._calcInverseTransform(X);var Ze=_.apply3DTransform(K._invTransform)(Se,ke);Se=Ze[0],ke=Ze[1],Le=Ie(Se,ke),ve.moveFn=Ne,ve.doneFn=Te,x(X)},Z.vangles&&!_.isFullCircle(Z.sectorInRad)&&(ve.prepFn=_.noop,v(M.select(me),null)),p.init(ve)},V.isPtInside=function(K){if(this.isSmith)return!0;var Z=this.sectorInRad,X=this.vangles,ee=this.angularAxis.c2g(K.theta),ne=this.radialAxis,re=ne.c2l(K.r),ae=ne._rl;return(X?T.isPtInsidePolygon:_.isPtInsideSector)(re,ee,ae,Z,X)},V.pathArc=function(K){var Z=this.sectorInRad,X=this.vangles;return(X?T.pathPolygon:_.pathArc)(K,Z[0],Z[1],X)},V.pathSector=function(K){var Z=this.sectorInRad,X=this.vangles;return(X?T.pathPolygon:_.pathSector)(K,Z[0],Z[1],X)},V.pathAnnulus=function(K,Z){var X=this.sectorInRad,ee=this.vangles;return(ee?T.pathPolygonAnnulus:_.pathAnnulus)(K,Z,X[0],X[1],ee)},V.pathSubplot=function(){var K=this.innerRadius,Z=this.radius;return K?this.pathAnnulus(K,Z):this.pathSector(Z)},V.fillViewInitialKey=function(K,Z){K in this.viewInitial||(this.viewInitial[K]=Z)}},12101:function(Y,O,e){var M=e(71828),k=e(21994),a=M.deg2rad,_=M.rad2deg;Y.exports=function(y,d,s){switch(k(y,s),y._id){case"x":case"radialaxis":(function(t,i){var r=i._subplot;t.setGeometry=function(){var n=t._rl[0],l=t._rl[1],o=r.innerRadius,u=(r.radius-o)/(l-n),p=o/u,c=n>l?function(b){return b<=0}:function(b){return b>=0};t.c2g=function(b){var g=t.c2l(b)-n;return(c(g)?g:0)+p},t.g2c=function(b){return t.l2c(b+n-p)},t.g2p=function(b){return b*u},t.c2p=function(b){return t.g2p(t.c2g(b))}}})(y,d);break;case"angularaxis":(function(t,i){var r=t.type;if(r==="linear"){var n=t.d2c,l=t.c2d;t.d2c=function(o,u){return function(p,c){return c==="degrees"?a(p):p}(n(o),u)},t.c2d=function(o,u){return l(function(p,c){return c==="degrees"?_(p):p}(o,u))}}t.makeCalcdata=function(o,u){var p,c,b=o[u],g=o._length,h=function(f){return t.d2c(f,o.thetaunit)};if(b){if(M.isTypedArray(b)&&r==="linear"){if(g===b.length)return b;if(b.subarray)return b.subarray(0,g)}for(p=new Array(g),c=0;c<g;c++)p[c]=h(b[c])}else{var x=u+"0",v="d"+u,m=x in o?h(o[x]):0,w=o[v]?h(o[v]):(t.period||2*Math.PI)/g;for(p=new Array(g),c=0;c<g;c++)p[c]=m+c*w}return p},t.setGeometry=function(){var o,u,p,c,b=i.sector,g=b.map(a),h={clockwise:-1,counterclockwise:1}[t.direction],x=a(t.rotation),v=function(S){return h*S+x},m=function(S){return(S-x)/h};switch(r){case"linear":u=o=M.identity,c=a,p=_,t.range=M.isFullCircle(g)?[b[0],b[0]+360]:g.map(m).map(_);break;case"category":var w=t._categories.length,f=t.period?Math.max(t.period,w):w;f===0&&(f=1),u=c=function(S){return 2*S*Math.PI/f},o=p=function(S){return S*f/Math.PI/2},t.range=[0,f]}t.c2g=function(S){return v(u(S))},t.g2c=function(S){return o(m(S))},t.t2g=function(S){return v(c(S))},t.g2t=function(S){return p(m(S))}}})(y,d)}}},39779:function(Y){Y.exports={attr:"subplot",name:"smith",axisNames:["realaxis","imaginaryaxis"],axisName2dataArray:{imaginaryaxis:"imag",realaxis:"real"}}},23893:function(Y){function O(a){return a<0?-1:a>0?1:0}function e(a){var _=a[0],y=a[1];if(!isFinite(_)||!isFinite(y))return[1,0];var d=(_+1)*(_+1)+y*y;return[(_*_+y*y-1)/d,2*y/d]}function M(a,_){var y=_[0],d=_[1];return[y*a.radius+a.cx,-d*a.radius+a.cy]}function k(a,_){return _*a.radius}Y.exports={smith:e,reactanceArc:function(a,_,y,d){var s=M(a,e([y,_])),t=s[0],i=s[1],r=M(a,e([d,_])),n=r[0],l=r[1];if(_===0)return["M"+t+","+i,"L"+n+","+l].join(" ");var o=k(a,1/Math.abs(_));return["M"+t+","+i,"A"+o+","+o+" 0 0,"+(_<0?1:0)+" "+n+","+l].join(" ")},resistanceArc:function(a,_,y,d){var s=k(a,1/(_+1)),t=M(a,e([_,y])),i=t[0],r=t[1],n=M(a,e([_,d])),l=n[0],o=n[1];if(O(y)!==O(d)){var u=M(a,e([_,0]));return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(0<y?0:1)+" "+u[0]+","+u[1],"A"+s+","+s+" 0 0,"+(d<0?0:1)+l+","+o].join(" ")}return["M"+i+","+r,"A"+s+","+s+" 0 0,"+(d<y?0:1)+" "+l+","+o].join(" ")},smithTransform:M}},7504:function(Y,O,e){var M=e(27659).AU,k=e(71828).counterRegex,a=e(77997),_=e(39779),y=_.attr,d=_.name,s=k(d),t={};t[y]={valType:"subplotid",dflt:d,editType:"calc"},Y.exports={attr:y,name:d,idRoot:d,idRegex:s,attrRegex:s,attributes:t,layoutAttributes:e(33419),supplyLayoutDefaults:e(9558),plot:function(i){for(var r=i._fullLayout,n=i.calcdata,l=r._subplots[d],o=0;o<l.length;o++){var u=l[o],p=M(n,d,u),c=r[u]._subplot;c||(c=a(i,u,!0),r[u]._subplot=c),c.plot(p,r,i._promises)}},clean:function(i,r,n,l){for(var o=l._subplots[d]||[],u=0;u<o.length;u++){var p=o[u],c=l[p]._subplot;if(!r[p]&&c)for(var b in c.framework.remove(),c.clipPaths)c.clipPaths[b].remove()}},toSVG:e(93612).toSVG}},33419:function(Y,O,e){var M=e(22399),k=e(13838),a=e(27670).Y,_=e(71828).extendFlat,y=e(30962).overrideAll,d=y({color:k.color,showline:_({},k.showline,{dflt:!0}),linecolor:k.linecolor,linewidth:k.linewidth,showgrid:_({},k.showgrid,{dflt:!0}),gridcolor:k.gridcolor,gridwidth:k.gridwidth,griddash:k.griddash},"plot","from-root"),s=y({ticklen:k.ticklen,tickwidth:_({},k.tickwidth,{dflt:2}),tickcolor:k.tickcolor,showticklabels:k.showticklabels,labelalias:k.labelalias,showtickprefix:k.showtickprefix,tickprefix:k.tickprefix,showticksuffix:k.showticksuffix,ticksuffix:k.ticksuffix,tickfont:k.tickfont,tickformat:k.tickformat,hoverformat:k.hoverformat,layer:k.layer},"plot","from-root"),t=_({visible:_({},k.visible,{dflt:!0}),tickvals:{dflt:[.2,.5,1,2,5],valType:"data_array",editType:"plot"},tickangle:_({},k.tickangle,{dflt:90}),ticks:{valType:"enumerated",values:["top","bottom",""],editType:"ticks"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},editType:"calc"},d,s),i=_({visible:_({},k.visible,{dflt:!0}),tickvals:{valType:"data_array",editType:"plot"},ticks:k.ticks,editType:"calc"},d,s);Y.exports={domain:a({name:"smith",editType:"plot"}),bgcolor:{valType:"color",editType:"plot",dflt:M.background},realaxis:t,imaginaryaxis:i,editType:"calc"}},9558:function(Y,O,e){var M,k,a,_=e(71828),y=e(7901),d=e(44467),s=e(49119),t=e(27659).NG,i=e(89426),r=e(96115),n=e(92128),l=e(21994),o=e(33419),u=e(39779),p=u.axisNames,c=(M=function(g){return g.slice().reverse().map(function(h){return-h}).concat([0]).concat(g)},k=String,a={},function(g){var h=k?k(g):g;if(h in a)return a[h];var x=M(g);return a[h]=x,x});function b(g,h,x,v){var m=x("bgcolor");v.bgColor=y.combine(m,v.paper_bgcolor);var w,f=t(v.fullData,u.name,v.id),S=v.layoutOut;function T(V,q){return x(w+"."+V,q)}for(var E=0;E<p.length;E++){w=p[E],_.isPlainObject(g[w])||(g[w]={});var L=g[w],C=d.newContainer(h,w);C._id=C._name=w,C._attr=v.id+"."+w,C._traceIndices=f.map(function(V){return V._expandedIndex});var P=T("visible");if(C.type="linear",l(C,S),i(L,C,T,C.type),P){var R,G,I,H,N=w==="realaxis";N&&T("side"),N?T("tickvals"):T("tickvals",c(h.realaxis.tickvals||o.realaxis.tickvals.dflt));var B=v.font||{};P&&(G=(R=T("color"))===L.color?R:B.color,I=B.size,H=B.family),r(L,C,T,C.type,{noTicklabelstep:!0,noAng:!N,noExp:!0,font:{color:G,size:I,family:H}}),_.coerce2(g,h,o,w+".ticklen"),_.coerce2(g,h,o,w+".tickwidth"),_.coerce2(g,h,o,w+".tickcolor",h.color),T("ticks")||(delete h[w].ticklen,delete h[w].tickwidth,delete h[w].tickcolor),n(L,C,T,{dfltColor:R,bgColor:v.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:o[w]}),T("layer")}T("hoverformat"),delete C.type,C._input=L}}Y.exports=function(g,h,x){s(g,h,x,{noUirevision:!0,type:u.name,attributes:o,handleDefaults:b,font:h.font,paper_bgcolor:h.paper_bgcolor,fullData:x,layoutOut:h})}},49119:function(Y,O,e){var M=e(71828),k=e(44467),a=e(27670).c;Y.exports=function(_,y,d,s){var t,i,r=s.type,n=s.attributes,l=s.handleDefaults,o=s.partition||"x",u=y._subplots[r],p=u.length,c=p&&u[0].replace(/\d+$/,"");function b(v,m){return M.coerce(t,i,n,v,m)}for(var g=0;g<p;g++){var h=u[g];t=_[h]?_[h]:_[h]={},i=k.newContainer(y,h,c),s.noUirevision||b("uirevision",y.uirevision);var x={};x[o]=[g/p,(g+1)/p],a(i,y,b,x),s.id=h,l(t,i,b,s)}}},5386:function(Y,O,e){var M=e(31562);function k(a){var _=a.description?" "+a.description:"",y=a.keys||[];if(y.length>0){for(var d=[],s=0;s<y.length;s++)d[s]="`"+y[s]+"`";_+="Finally, the template string has access to ",_=y.length===1?_+"variable "+d[0]:_+"variables "+d.slice(0,-1).join(", ")+" and "+d.slice(-1)+"."}return _}M.FORMAT_LINK,M.DATE_FORMAT_LINK,O.fF=function(a,_){a=a||{},k(_=_||{});var y={valType:"string",dflt:"",editType:a.editType||"none"};return a.arrayOk!==!1&&(y.arrayOk=!0),y},O.si=function(a,_){a=a||{},k(_=_||{});var y={valType:"string",dflt:"",editType:a.editType||"calc"};return a.arrayOk!==!1&&(y.arrayOk=!0),y},O.R=function(a,_){return _=_||{},(a=a||{}).newshape,k(_),{valType:"string",dflt:"",editType:a.editType||"arraydraw"}}},61639:function(Y,O,e){var M=e(64380),k=e(27659).AU,a=e(71828).counterRegex,_="ternary";O.name=_;var y=O.attr="subplot";O.idRoot=_,O.idRegex=O.attrRegex=a(_),(O.attributes={})[y]={valType:"subplotid",dflt:"ternary",editType:"calc"},O.layoutAttributes=e(81367),O.supplyLayoutDefaults=e(25369),O.plot=function(d){for(var s=d._fullLayout,t=d.calcdata,i=s._subplots[_],r=0;r<i.length;r++){var n=i[r],l=k(t,_,n),o=s[n]._subplot;o||(o=new M({id:n,graphDiv:d,container:s._ternarylayer.node()},s),s[n]._subplot=o),o.plot(l,s,d._promises)}},O.clean=function(d,s,t,i){for(var r=i._subplots[_]||[],n=0;n<r.length;n++){var l=r[n],o=i[l]._subplot;!s[l]&&o&&(o.plotContainer.remove(),o.clipDef.remove(),o.clipDefRelative.remove(),o.layers["a-title"].remove(),o.layers["b-title"].remove(),o.layers["c-title"].remove())}}},81367:function(Y,O,e){var M=e(22399),k=e(27670).Y,a=e(13838),_=e(30962).overrideAll,y=e(1426).extendFlat,d={title:{text:a.title.text,font:a.title.font},color:a.color,tickmode:a.minor.tickmode,nticks:y({},a.nticks,{dflt:6,min:1}),tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:a.ticks,ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,showtickprefix:a.showtickprefix,tickprefix:a.tickprefix,showticksuffix:a.showticksuffix,ticksuffix:a.ticksuffix,showexponent:a.showexponent,exponentformat:a.exponentformat,minexponent:a.minexponent,separatethousands:a.separatethousands,tickfont:a.tickfont,tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,hoverformat:a.hoverformat,showline:y({},a.showline,{dflt:!0}),linecolor:a.linecolor,linewidth:a.linewidth,showgrid:y({},a.showgrid,{dflt:!0}),gridcolor:a.gridcolor,gridwidth:a.gridwidth,griddash:a.griddash,layer:a.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:a._deprecated.title,titlefont:a._deprecated.titlefont}},s=Y.exports=_({domain:k({name:"ternary"}),bgcolor:{valType:"color",dflt:M.background},sum:{valType:"number",dflt:1,min:0},aaxis:d,baxis:d,caxis:d},"plot","from-root");s.uirevision={valType:"any",editType:"none"},s.aaxis.uirevision=s.baxis.uirevision=s.caxis.uirevision={valType:"any",editType:"none"}},25369:function(Y,O,e){var M=e(7901),k=e(44467),a=e(71828),_=e(49119),y=e(96115),d=e(89426),s=e(38701),t=e(26218),i=e(92128),r=e(81367),n=["aaxis","baxis","caxis"];function l(u,p,c,b){var g,h,x,v=c("bgcolor"),m=c("sum");b.bgColor=M.combine(v,b.paper_bgcolor);for(var w=0;w<n.length;w++)h=u[g=n[w]]||{},(x=k.newContainer(p,g))._name=g,o(h,x,b,p);var f=p.aaxis,S=p.baxis,T=p.caxis;f.min+S.min+T.min>=m&&(f.min=0,S.min=0,T.min=0,u.aaxis&&delete u.aaxis.min,u.baxis&&delete u.baxis.min,u.caxis&&delete u.caxis.min)}function o(u,p,c,b){var g=r[p._name];function h(S,T){return a.coerce(u,p,g,S,T)}h("uirevision",b.uirevision),p.type="linear";var x=h("color"),v=x!==g.color.dflt?x:c.font.color,m=p._name.charAt(0).toUpperCase(),w="Component "+m,f=h("title.text",w);p._hovertitle=f===w?f:m,a.coerceFont(h,"title.font",{family:c.font.family,size:a.bigFont(c.font.size),color:v}),h("min"),t(u,p,h,"linear"),d(u,p,h,"linear"),y(u,p,h,"linear"),s(u,p,h,{outerTicks:!0}),h("showticklabels")&&(a.coerceFont(h,"tickfont",{family:c.font.family,size:c.font.size,color:v}),h("tickangle"),h("tickformat")),i(u,p,h,{dfltColor:x,bgColor:c.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:g}),h("hoverformat"),h("layer")}Y.exports=function(u,p,c){_(u,p,c,{type:"ternary",attributes:r,handleDefaults:l,font:p.font,paper_bgcolor:p.paper_bgcolor})}},64380:function(Y,O,e){var M=e(39898),k=e(84267),a=e(73972),_=e(71828),y=_.strTranslate,d=_._,s=e(7901),t=e(91424),i=e(21994),r=e(1426).extendFlat,n=e(74875),l=e(89298),o=e(28569),u=e(30211),p=e(64505),c=p.freeMode,b=p.rectMode,g=e(92998),h=e(47322).prepSelect,x=e(47322).selectOnClick,v=e(47322).clearOutline,m=e(47322).clearSelectionsCache,w=e(85555);function f(I,H){this.id=I.id,this.graphDiv=I.graphDiv,this.init(H),this.makeFramework(H),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}Y.exports=f;var S=f.prototype;S.init=function(I){this.container=I._ternarylayer,this.defs=I._defs,this.layoutId=I._uid,this.traceHash={},this.layers={}},S.plot=function(I,H){var N=this,B=H[N.id],V=H._size;N._hasClipOnAxisFalse=!1;for(var q=0;q<I.length;q++)if(I[q][0].trace.cliponaxis===!1){N._hasClipOnAxisFalse=!0;break}N.updateLayers(B),N.adjustLayout(B,V),n.generalUpdatePerTraceModule(N.graphDiv,N,I,B),N.layers.plotbg.select("path").call(s.fill,B.bgcolor)},S.makeFramework=function(I){var H=this,N=H.graphDiv,B=I[H.id],V=H.clipId="clip"+H.layoutId+H.id,q=H.clipIdRelative="clip-relative"+H.layoutId+H.id;H.clipDef=_.ensureSingleById(I._clips,"clipPath",V,function(te){te.append("path").attr("d","M0,0Z")}),H.clipDefRelative=_.ensureSingleById(I._clips,"clipPath",q,function(te){te.append("path").attr("d","M0,0Z")}),H.plotContainer=_.ensureSingle(H.container,"g",H.id),H.updateLayers(B),t.setClipUrl(H.layers.backplot,V,N),t.setClipUrl(H.layers.grids,V,N)},S.updateLayers=function(I){var H=this.layers,N=["draglayer","plotbg","backplot","grids"];I.aaxis.layer==="below traces"&&N.push("aaxis","aline"),I.baxis.layer==="below traces"&&N.push("baxis","bline"),I.caxis.layer==="below traces"&&N.push("caxis","cline"),N.push("frontplot"),I.aaxis.layer==="above traces"&&N.push("aaxis","aline"),I.baxis.layer==="above traces"&&N.push("baxis","bline"),I.caxis.layer==="above traces"&&N.push("caxis","cline");var B=this.plotContainer.selectAll("g.toplevel").data(N,String),V=["agrid","bgrid","cgrid"];B.enter().append("g").attr("class",function(q){return"toplevel "+q}).each(function(q){var te=M.select(this);H[q]=te,q==="frontplot"?te.append("g").classed("scatterlayer",!0):q==="backplot"?te.append("g").classed("maplayer",!0):q==="plotbg"?te.append("path").attr("d","M0,0Z"):q==="aline"||q==="bline"||q==="cline"?te.append("path"):q==="grids"&&V.forEach(function($){H[$]=te.append("g").classed("grid "+$,!0)})}),B.order()};var T=Math.sqrt(4/3);S.adjustLayout=function(I,H){var N,B,V,q,te,$,K=this,Z=I.domain,X=(Z.x[0]+Z.x[1])/2,ee=(Z.y[0]+Z.y[1])/2,ne=Z.x[1]-Z.x[0],re=Z.y[1]-Z.y[0],ae=ne*H.w,ue=re*H.h,pe=I.sum,ge=I.aaxis.min,we=I.baxis.min,me=I.caxis.min;ae>T*ue?V=(q=ue)*T:q=(V=ae)/T,te=ne*V/ae,$=re*q/ue,N=H.l+H.w*X-V/2,B=H.t+H.h*(1-ee)-q/2,K.x0=N,K.y0=B,K.w=V,K.h=q,K.sum=pe,K.xaxis={type:"linear",range:[ge+2*me-pe,pe-ge-2*we],domain:[X-te/2,X+te/2],_id:"x"},i(K.xaxis,K.graphDiv._fullLayout),K.xaxis.setScale(),K.xaxis.isPtWithinRange=function(De){return De.a>=K.aaxis.range[0]&&De.a<=K.aaxis.range[1]&&De.b>=K.baxis.range[1]&&De.b<=K.baxis.range[0]&&De.c>=K.caxis.range[1]&&De.c<=K.caxis.range[0]},K.yaxis={type:"linear",range:[ge,pe-we-me],domain:[ee-$/2,ee+$/2],_id:"y"},i(K.yaxis,K.graphDiv._fullLayout),K.yaxis.setScale(),K.yaxis.isPtWithinRange=function(){return!0};var ve=K.yaxis.domain[0],Ie=K.aaxis=r({},I.aaxis,{range:[ge,pe-we-me],side:"left",tickangle:(+I.aaxis.tickangle||0)-30,domain:[ve,ve+$*T],anchor:"free",position:0,_id:"y",_length:V});i(Ie,K.graphDiv._fullLayout),Ie.setScale();var Se=K.baxis=r({},I.baxis,{range:[pe-ge-me,we],side:"bottom",domain:K.xaxis.domain,anchor:"free",position:0,_id:"x",_length:V});i(Se,K.graphDiv._fullLayout),Se.setScale();var ke=K.caxis=r({},I.caxis,{range:[pe-ge-we,me],side:"right",tickangle:(+I.caxis.tickangle||0)+30,domain:[ve,ve+$*T],anchor:"free",position:0,_id:"y",_length:V});i(ke,K.graphDiv._fullLayout),ke.setScale();var se="M"+N+","+(B+q)+"h"+V+"l-"+V/2+",-"+q+"Z";K.clipDef.select("path").attr("d",se),K.layers.plotbg.select("path").attr("d",se);var oe="M0,"+q+"h"+V+"l-"+V/2+",-"+q+"Z";K.clipDefRelative.select("path").attr("d",oe);var he=y(N,B);K.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",he),K.clipDefRelative.select("path").attr("transform",null);var Le=y(N-Se._offset,B+q);K.layers.baxis.attr("transform",Le),K.layers.bgrid.attr("transform",Le);var Me=y(N+V/2,B)+"rotate(30)"+y(0,-Ie._offset);K.layers.aaxis.attr("transform",Me),K.layers.agrid.attr("transform",Me);var _e=y(N+V/2,B)+"rotate(-30)"+y(0,-ke._offset);K.layers.caxis.attr("transform",_e),K.layers.cgrid.attr("transform",_e),K.drawAxes(!0),K.layers.aline.select("path").attr("d",Ie.showline?"M"+N+","+(B+q)+"l"+V/2+",-"+q:"M0,0").call(s.stroke,Ie.linecolor||"#000").style("stroke-width",(Ie.linewidth||0)+"px"),K.layers.bline.select("path").attr("d",Se.showline?"M"+N+","+(B+q)+"h"+V:"M0,0").call(s.stroke,Se.linecolor||"#000").style("stroke-width",(Se.linewidth||0)+"px"),K.layers.cline.select("path").attr("d",ke.showline?"M"+(N+V/2)+","+B+"l"+V/2+","+q:"M0,0").call(s.stroke,ke.linecolor||"#000").style("stroke-width",(ke.linewidth||0)+"px"),K.graphDiv._context.staticPlot||K.initInteractions(),t.setClipUrl(K.layers.frontplot,K._hasClipOnAxisFalse?null:K.clipId,K.graphDiv)},S.drawAxes=function(I){var H=this,N=H.graphDiv,B=H.id.substr(7)+"title",V=H.layers,q=H.aaxis,te=H.baxis,$=H.caxis;if(H.drawAx(q),H.drawAx(te),H.drawAx($),I){var K=Math.max(q.showticklabels?q.tickfont.size/2:0,($.showticklabels?.75*$.tickfont.size:0)+($.ticks==="outside"?.87*$.ticklen:0)),Z=(te.showticklabels?te.tickfont.size:0)+(te.ticks==="outside"?te.ticklen:0)+3;V["a-title"]=g.draw(N,"a"+B,{propContainer:q,propName:H.id+".aaxis.title",placeholder:d(N,"Click to enter Component A title"),attributes:{x:H.x0+H.w/2,y:H.y0-q.title.font.size/3-K,"text-anchor":"middle"}}),V["b-title"]=g.draw(N,"b"+B,{propContainer:te,propName:H.id+".baxis.title",placeholder:d(N,"Click to enter Component B title"),attributes:{x:H.x0-Z,y:H.y0+H.h+.83*te.title.font.size+Z,"text-anchor":"middle"}}),V["c-title"]=g.draw(N,"c"+B,{propContainer:$,propName:H.id+".caxis.title",placeholder:d(N,"Click to enter Component C title"),attributes:{x:H.x0+H.w+Z,y:H.y0+H.h+.83*$.title.font.size+Z,"text-anchor":"middle"}})}},S.drawAx=function(I){var H,N=this,B=N.graphDiv,V=I._name,q=V.charAt(0),te=I._id,$=N.layers[V],K=q+"tickLayout",Z=(H=I).ticks+String(H.ticklen)+String(H.showticklabels);N[K]!==Z&&($.selectAll("."+te+"tick").remove(),N[K]=Z),I.setScale();var X=l.calcTicks(I),ee=l.clipEnds(I,X),ne=l.makeTransTickFn(I),re=l.getTickSigns(I)[2],ae=_.deg2rad(30),ue=re*(I.linewidth||1)/2,pe=re*I.ticklen,ge=N.w,we=N.h,me=q==="b"?"M0,"+ue+"l"+Math.sin(ae)*pe+","+Math.cos(ae)*pe:"M"+ue+",0l"+Math.cos(ae)*pe+","+-Math.sin(ae)*pe,ve={a:"M0,0l"+we+",-"+ge/2,b:"M0,0l-"+ge/2+",-"+we,c:"M0,0l-"+we+","+ge/2}[q];l.drawTicks(B,I,{vals:I.ticks==="inside"?ee:X,layer:$,path:me,transFn:ne,crisp:!1}),l.drawGrid(B,I,{vals:ee,layer:N.layers[q+"grid"],path:ve,transFn:ne,crisp:!1}),l.drawLabels(B,I,{vals:X,layer:$,transFn:ne,labelFns:l.makeLabelFns(I,0,30)})};var E=w.MINZOOM/2+.87,L="m-0.87,.5h"+E+"v3h-"+(E+5.2)+"l"+(E/2+2.6)+",-"+(.87*E+4.5)+"l2.6,1.5l-"+E/2+","+.87*E+"Z",C="m0.87,.5h-"+E+"v3h"+(E+5.2)+"l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-2.6,1.5l"+E/2+","+.87*E+"Z",P="m0,1l"+E/2+","+.87*E+"l2.6,-1.5l-"+(E/2+2.6)+",-"+(.87*E+4.5)+"l-"+(E/2+2.6)+","+(.87*E+4.5)+"l2.6,1.5l"+E/2+",-"+.87*E+"Z",R=!0;function G(I){M.select(I).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}S.clearOutline=function(){m(this.dragOptions),v(this.dragOptions.gd)},S.initInteractions=function(){var I,H,N,B,V,q,te,$,K,Z,X,ee,ne=this,re=ne.layers.plotbg.select("path").node(),ae=ne.graphDiv,ue=ae._fullLayout._zoomlayer;function pe(oe){var he={};return he[ne.id+".aaxis.min"]=oe.a,he[ne.id+".baxis.min"]=oe.b,he[ne.id+".caxis.min"]=oe.c,he}function ge(oe,he){var Le=ae._fullLayout.clickmode;G(ae),oe===2&&(ae.emit("plotly_doubleclick",null),a.call("_guiRelayout",ae,pe({a:0,b:0,c:0}))),Le.indexOf("select")>-1&&oe===1&&x(he,ae,[ne.xaxis],[ne.yaxis],ne.id,ne.dragOptions),Le.indexOf("event")>-1&&u.click(ae,he,ne.id)}function we(oe,he){return 1-he/ne.h}function me(oe,he){return 1-(oe+(ne.h-he)/Math.sqrt(3))/ne.w}function ve(oe,he){return(oe-(ne.h-he)/Math.sqrt(3))/ne.w}function Ie(oe,he){var Le=N+oe*I,Me=B+he*H,_e=Math.max(0,Math.min(1,we(0,B),we(0,Me))),De=Math.max(0,Math.min(1,me(N,B),me(Le,Me))),Ne=Math.max(0,Math.min(1,ve(N,B),ve(Le,Me))),ce=(_e/2+Ne)*ne.w,Te=(1-_e/2-De)*ne.w,ye=(ce+Te)/2,Oe=Te-ce,Be=(1-_e)*ne.h,Fe=Be-Oe/T;Oe<w.MINZOOM?(te=V,X.attr("d",K),ee.attr("d","M0,0Z")):(te={a:V.a+_e*q,b:V.b+De*q,c:V.c+Ne*q},X.attr("d",K+"M"+ce+","+Be+"H"+Te+"L"+ye+","+Fe+"L"+ce+","+Be+"Z"),ee.attr("d","M"+N+","+B+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+ce+","+Be+L+"M"+Te+","+Be+C+"M"+ye+","+Fe+P)),Z||(X.transition().style("fill",$>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ee.transition().style("opacity",1).duration(200),Z=!0),ae.emit("plotly_relayouting",pe(te))}function Se(){G(ae),te!==V&&(a.call("_guiRelayout",ae,pe(te)),R&&ae.data&&ae._context.showTips&&(_.notifier(d(ae,"Double-click to zoom back out"),"long"),R=!1))}function ke(oe,he){var Le=oe/ne.xaxis._m,Me=he/ne.yaxis._m,_e=[(te={a:V.a-Me,b:V.b+(Le+Me)/2,c:V.c-(Le-Me)/2}).a,te.b,te.c].sort(_.sorterAsc),De=_e.indexOf(te.a),Ne=_e.indexOf(te.b),ce=_e.indexOf(te.c);_e[0]<0&&(_e[1]+_e[0]/2<0?(_e[2]+=_e[0]+_e[1],_e[0]=_e[1]=0):(_e[2]+=_e[0]/2,_e[1]+=_e[0]/2,_e[0]=0),te={a:_e[De],b:_e[Ne],c:_e[ce]},he=(V.a-te.a)*ne.yaxis._m,oe=(V.c-te.c-V.b+te.b)*ne.xaxis._m);var Te=y(ne.x0+oe,ne.y0+he);ne.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Te);var ye=y(-oe,-he);ne.clipDefRelative.select("path").attr("transform",ye),ne.aaxis.range=[te.a,ne.sum-te.b-te.c],ne.baxis.range=[ne.sum-te.a-te.c,te.b],ne.caxis.range=[ne.sum-te.a-te.b,te.c],ne.drawAxes(!1),ne._hasClipOnAxisFalse&&ne.plotContainer.select(".scatterlayer").selectAll(".trace").call(t.hideOutsideRangePoints,ne),ae.emit("plotly_relayouting",pe(te))}function se(){a.call("_guiRelayout",ae,pe(te))}this.dragOptions={element:re,gd:ae,plotinfo:{id:ne.id,domain:ae._fullLayout[ne.id].domain,xaxis:ne.xaxis,yaxis:ne.yaxis},subplot:ne.id,prepFn:function(oe,he,Le){ne.dragOptions.xaxes=[ne.xaxis],ne.dragOptions.yaxes=[ne.yaxis],I=ae._fullLayout._invScaleX,H=ae._fullLayout._invScaleY;var Me=ne.dragOptions.dragmode=ae._fullLayout.dragmode;c(Me)?ne.dragOptions.minDrag=1:ne.dragOptions.minDrag=void 0,Me==="zoom"?(ne.dragOptions.moveFn=Ie,ne.dragOptions.clickFn=ge,ne.dragOptions.doneFn=Se,function(_e,De,Ne){var ce=re.getBoundingClientRect();N=De-ce.left,B=Ne-ce.top,ae._fullLayout._calcInverseTransform(ae);var Te=ae._fullLayout._invTransform,ye=_.apply3DTransform(Te)(N,B);N=ye[0],B=ye[1],V={a:ne.aaxis.range[0],b:ne.baxis.range[1],c:ne.caxis.range[1]},te=V,q=ne.aaxis.range[1]-V.a,$=k(ne.graphDiv._fullLayout[ne.id].bgcolor).getLuminance(),K="M0,"+ne.h+"L"+ne.w/2+", 0L"+ne.w+","+ne.h+"Z",Z=!1,X=ue.append("path").attr("class","zoombox").attr("transform",y(ne.x0,ne.y0)).style({fill:$>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",K),ee=ue.append("path").attr("class","zoombox-corners").attr("transform",y(ne.x0,ne.y0)).style({fill:s.background,stroke:s.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),ne.clearOutline(ae)}(0,he,Le)):Me==="pan"?(ne.dragOptions.moveFn=ke,ne.dragOptions.clickFn=ge,ne.dragOptions.doneFn=se,V={a:ne.aaxis.range[0],b:ne.baxis.range[1],c:ne.caxis.range[1]},te=V,ne.clearOutline(ae)):(b(Me)||c(Me))&&h(oe,he,Le,ne.dragOptions,Me)}},re.onmousemove=function(oe){u.hover(ae,oe,ne.id),ae._fullLayout._lasthover=re,ae._fullLayout._hoversubplot=ne.id},re.onmouseout=function(oe){ae._dragging||o.unhover(ae,oe)},o.init(this.dragOptions)}},73972:function(Y,O,e){var M=e(47769),k=e(64213),a=e(75138),_=e(41965),y=e(24401).addStyleRule,d=e(1426),s=e(9012),t=e(10820),i=d.extendFlat,r=d.extendDeepAll;function n(x){var v=x.name,m=x.categories,w=x.meta;if(O.modules[v])M.log("Type "+v+" already registered");else{O.subplotsRegistry[x.basePlotModule.name]||function(R){var G=R.name;if(O.subplotsRegistry[G])M.log("Plot type "+G+" already registered.");else for(var I in p(R),O.subplotsRegistry[G]=R,O.componentsRegistry)g(I,R.name)}(x.basePlotModule);for(var f={},S=0;S<m.length;S++)f[m[S]]=!0,O.allCategories[m[S]]=!0;for(var T in O.modules[v]={_module:x,categories:f},w&&Object.keys(w).length&&(O.modules[v].meta=w),O.allTypes.push(v),O.componentsRegistry)c(T,v);x.layoutAttributes&&i(O.traceLayoutAttributes,x.layoutAttributes);var E=x.basePlotModule,L=E.name;if(L==="mapbox"){var C=E.constants.styleRules;for(var P in C)y(".js-plotly-plot .plotly .mapboxgl-"+P,C[P])}L!=="geo"&&L!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function l(x){if(typeof x.name!="string")throw new Error("Component module *name* must be a string.");var v=x.name;for(var m in O.componentsRegistry[v]=x,x.layoutAttributes&&(x.layoutAttributes._isLinkedToArray&&a(O.layoutArrayContainers,v),p(x)),O.modules)c(v,m);for(var w in O.subplotsRegistry)g(v,w);for(var f in O.transformsRegistry)b(v,f);x.schema&&x.schema.layout&&r(t,x.schema.layout)}function o(x){if(typeof x.name!="string")throw new Error("Transform module *name* must be a string.");var v="Transform module "+x.name,m=typeof x.transform=="function",w=typeof x.calcTransform=="function";if(!m&&!w)throw new Error(v+" is missing a *transform* or *calcTransform* method.");for(var f in m&&w&&M.log([v+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),_(x.attributes)||M.log(v+" registered without an *attributes* object."),typeof x.supplyDefaults!="function"&&M.log(v+" registered without a *supplyDefaults* method."),O.transformsRegistry[x.name]=x,O.componentsRegistry)b(f,x.name)}function u(x){var v=x.name,m=v.split("-")[0],w=x.dictionary,f=x.format,S=w&&Object.keys(w).length,T=f&&Object.keys(f).length,E=O.localeRegistry,L=E[v];if(L||(E[v]=L={}),m!==v){var C=E[m];C||(E[m]=C={}),S&&C.dictionary===L.dictionary&&(C.dictionary=w),T&&C.format===L.format&&(C.format=f)}S&&(L.dictionary=w),T&&(L.format=f)}function p(x){if(x.layoutAttributes){var v=x.layoutAttributes._arrayAttrRegexps;if(v)for(var m=0;m<v.length;m++)a(O.layoutArrayRegexes,v[m])}}function c(x,v){var m=O.componentsRegistry[x].schema;if(m&&m.traces){var w=m.traces[v];w&&r(O.modules[v]._module.attributes,w)}}function b(x,v){var m=O.componentsRegistry[x].schema;if(m&&m.transforms){var w=m.transforms[v];w&&r(O.transformsRegistry[v].attributes,w)}}function g(x,v){var m=O.componentsRegistry[x].schema;if(m&&m.subplots){var w=O.subplotsRegistry[v],f=w.layoutAttributes,S=w.attr==="subplot"?w.name:w.attr;Array.isArray(S)&&(S=S[0]);var T=m.subplots[S];f&&T&&r(f,T)}}function h(x){return typeof x=="object"&&(x=x.type),x}O.modules={},O.allCategories={},O.allTypes=[],O.subplotsRegistry={},O.transformsRegistry={},O.componentsRegistry={},O.layoutArrayContainers=[],O.layoutArrayRegexes=[],O.traceLayoutAttributes={},O.localeRegistry={},O.apiMethodRegistry={},O.collectableSubplotTypes=null,O.register=function(x){if(O.collectableSubplotTypes=null,!x)throw new Error("No argument passed to Plotly.register.");x&&!Array.isArray(x)&&(x=[x]);for(var v=0;v<x.length;v++){var m=x[v];if(!m)throw new Error("Invalid module was attempted to be registered!");switch(m.moduleType){case"trace":n(m);break;case"transform":o(m);break;case"component":l(m);break;case"locale":u(m);break;case"apiMethod":var w=m.name;O.apiMethodRegistry[w]=m.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},O.getModule=function(x){var v=O.modules[h(x)];return!!v&&v._module},O.traceIs=function(x,v){if((x=h(x))==="various")return!1;var m=O.modules[x];return m||(x&&M.log("Unrecognized trace type "+x+"."),m=O.modules[s.type.dflt]),!!m.categories[v]},O.getTransformIndices=function(x,v){for(var m=[],w=x.transforms||[],f=0;f<w.length;f++)w[f].type===v&&m.push(f);return m},O.hasTransform=function(x,v){for(var m=x.transforms||[],w=0;w<m.length;w++)if(m[w].type===v)return!0;return!1},O.getComponentMethod=function(x,v){var m=O.componentsRegistry[x];return m&&m[v]||k},O.call=function(){var x=arguments[0],v=[].slice.call(arguments,1);return O.apiMethodRegistry[x].apply(null,v)}},61914:function(Y,O,e){var M=e(73972),k=e(71828),a=k.extendFlat,_=k.extendDeep;function y(d){var s;switch(d){case"themes__thumb":s={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":s={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:s={}}return s}Y.exports=function(d,s){var t,i,r=d.data,n=d.layout,l=_([],r),o=_({},n,y(s.tileClass)),u=d._context||{};if(s.width&&(o.width=s.width),s.height&&(o.height=s.height),s.tileClass==="thumbnail"||s.tileClass==="themes__thumb"){o.annotations=[];var p=Object.keys(o);for(t=0;t<p.length;t++)i=p[t],["xaxis","yaxis","zaxis"].indexOf(i.slice(0,5))>-1&&(o[p[t]].title={text:""});for(t=0;t<l.length;t++){var c=l[t];c.showscale=!1,c.marker&&(c.marker.showscale=!1),M.traceIs(c,"pie-like")&&(c.textposition="none")}}if(Array.isArray(s.annotations))for(t=0;t<s.annotations.length;t++)o.annotations.push(s.annotations[t]);var b=Object.keys(o).filter(function(m){return m.match(/^scene\d*$/)});if(b.length){var g={};for(s.tileClass==="thumbnail"&&(g={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),t=0;t<b.length;t++){var h=o[b[t]];h.xaxis||(h.xaxis={}),h.yaxis||(h.yaxis={}),h.zaxis||(h.zaxis={}),a(h.xaxis,g),a(h.yaxis,g),a(h.zaxis,g),h._scene=null}}var x=document.createElement("div");s.tileClass&&(x.className=s.tileClass);var v={gd:x,td:x,layout:o,data:l,config:{staticPlot:s.staticPlot===void 0||s.staticPlot,plotGlPixelRatio:s.plotGlPixelRatio===void 0?2:s.plotGlPixelRatio,displaylogo:s.displaylogo||!1,showLink:s.showLink||!1,showTips:s.showTips||!1,mapboxAccessToken:u.mapboxAccessToken}};return s.setBackground!=="transparent"&&(v.config.setBackground=s.setBackground||"opaque"),v.gd.defaultLayout=y(s.tileClass),v}},7239:function(Y,O,e){var M=e(71828),k=e(403),a=e(22435),_=e(25095);Y.exports=function(y,d){var s;return M.isPlainObject(y)||(s=M.getGraphDiv(y)),(d=d||{}).format=d.format||"png",d.width=d.width||null,d.height=d.height||null,d.imageDataOnly=!0,new Promise(function(t,i){s&&s._snapshotInProgress&&i(new Error("Snapshotting already in progress.")),M.isIE()&&d.format!=="svg"&&i(new Error(_.MSG_IE_BAD_FORMAT)),s&&(s._snapshotInProgress=!0);var r=k(y,d),n=d.filename||y.fn||"newplot";n+="."+d.format.replace("-","."),r.then(function(l){return s&&(s._snapshotInProgress=!1),a(l,n,d.format)}).then(function(l){t(l)}).catch(function(l){s&&(s._snapshotInProgress=!1),i(l)})})}},22435:function(Y,O,e){var M=e(71828),k=e(25095);Y.exports=function(a,_,y){var d=document.createElement("a"),s="download"in d;return new Promise(function(t,i){var r,n;if(M.isIE())return r=k.createBlob(a,"svg"),window.navigator.msSaveBlob(r,_),r=null,t(_);if(s)return r=k.createBlob(a,y),n=k.createObjectURL(r),d.href=n,d.download=_,document.body.appendChild(d),d.click(),document.body.removeChild(d),k.revokeObjectURL(n),r=null,t(_);if(M.isSafari()){var l=y==="svg"?",":";base64,";return k.octetStream(l+encodeURIComponent(a)),t(_)}i(new Error("download error"))})}},25095:function(Y,O,e){var M=e(73972);O.getDelay=function(a){return a._has&&(a._has("gl3d")||a._has("gl2d")||a._has("mapbox"))?500:0},O.getRedrawFunc=function(a){return function(){M.getComponentMethod("colorbar","draw")(a)}},O.encodeSVG=function(a){return"data:image/svg+xml,"+encodeURIComponent(a)},O.encodeJSON=function(a){return"data:application/json,"+encodeURIComponent(a)};var k=window.URL||window.webkitURL;O.createObjectURL=function(a){return k.createObjectURL(a)},O.revokeObjectURL=function(a){return k.revokeObjectURL(a)},O.createBlob=function(a,_){if(_==="svg")return new window.Blob([a],{type:"image/svg+xml;charset=utf-8"});if(_==="full-json")return new window.Blob([a],{type:"application/json;charset=utf-8"});var y=function(d){for(var s=d.length,t=new ArrayBuffer(s),i=new Uint8Array(t),r=0;r<s;r++)i[r]=d.charCodeAt(r);return t}(window.atob(a));return new window.Blob([y],{type:"image/"+_})},O.octetStream=function(a){document.location.href="data:application/octet-stream"+a},O.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,O.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(Y,O,e){var M=e(25095),k={getDelay:M.getDelay,getRedrawFunc:M.getRedrawFunc,clone:e(61914),toSVG:e(5900),svgToImg:e(70942),toImage:e(56395),downloadImage:e(7239)};Y.exports=k},70942:function(Y,O,e){var M=e(71828),k=e(15398).EventEmitter,a=e(25095);Y.exports=function(_){var y=_.emitter||new k,d=new Promise(function(s,t){var i=window.Image,r=_.svg,n=_.format||"png";if(M.isIE()&&n!=="svg"){var l=new Error(a.MSG_IE_BAD_FORMAT);return t(l),_.promise?d:y.emit("error",l)}var o,u,p=_.canvas,c=_.scale||1,b=_.width||300,g=_.height||150,h=c*b,x=c*g,v=p.getContext("2d",{willReadFrequently:!0}),m=new i;n==="svg"||M.isSafari()?u=a.encodeSVG(r):(o=a.createBlob(r,"svg"),u=a.createObjectURL(o)),p.width=h,p.height=x,m.onload=function(){var w;switch(o=null,a.revokeObjectURL(u),n!=="svg"&&v.drawImage(m,0,0,h,x),n){case"jpeg":w=p.toDataURL("image/jpeg");break;case"png":w=p.toDataURL("image/png");break;case"webp":w=p.toDataURL("image/webp");break;case"svg":w=u;break;default:var f="Image format is not jpeg, png, svg or webp.";if(t(new Error(f)),!_.promise)return y.emit("error",f)}s(w),_.promise||y.emit("success",w)},m.onerror=function(w){if(o=null,a.revokeObjectURL(u),t(w),!_.promise)return y.emit("error",w)},m.src=u});return _.promise?d:y}},56395:function(Y,O,e){var M=e(15398).EventEmitter,k=e(73972),a=e(71828),_=e(25095),y=e(61914),d=e(5900),s=e(70942);Y.exports=function(t,i){var r=new M,n=y(t,{format:"png"}),l=n.gd;l.style.position="absolute",l.style.left="-5000px",document.body.appendChild(l);var o=_.getRedrawFunc(l);return k.call("_doPlot",l,n.data,n.layout,n.config).then(o).then(function(){var u=_.getDelay(l._fullLayout);setTimeout(function(){var p=d(l),c=document.createElement("canvas");c.id=a.randstr(),(r=s({format:i.format,width:l._fullLayout.width,height:l._fullLayout.height,canvas:c,emitter:r,svg:p})).clean=function(){l&&document.body.removeChild(l)}},u)}).catch(function(u){r.emit("error",u)}),r}},5900:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(7901),y=e(77922),d=/"/g,s="TOBESTRIPPED",t=new RegExp('("'+s+")|("+s+'")',"g");Y.exports=function(i,r,n){var l,o=i._fullLayout,u=o._paper,p=o._toppaper,c=o.width,b=o.height;u.insert("rect",":first-child").call(a.setRect,0,0,c,b).call(_.fill,o.paper_bgcolor);var g=o._basePlotModules||[];for(l=0;l<g.length;l++){var h=g[l];h.toSVG&&h.toSVG(i)}if(p){var x=p.node().childNodes,v=Array.prototype.slice.call(x);for(l=0;l<v.length;l++){var m=v[l];m.childNodes.length&&u.node().appendChild(m)}}o._draggers&&o._draggers.remove(),u.node().style.background="",u.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var f=M.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){f.style({visibility:null,display:null});var S=this.style.fontFamily;S&&S.indexOf('"')!==-1&&f.style("font-family",S.replace(d,s))}else f.remove()}),u.selectAll(".gradient_filled,.pattern_filled").each(function(){var f=M.select(this),S=this.style.fill;S&&S.indexOf("url(")!==-1&&f.style("fill",S.replace(d,s));var T=this.style.stroke;T&&T.indexOf("url(")!==-1&&f.style("stroke",T.replace(d,s))}),r!=="pdf"&&r!=="eps"||u.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),u.node().setAttributeNS(y.xmlns,"xmlns",y.svg),u.node().setAttributeNS(y.xmlns,"xmlns:xlink",y.xlink),r==="svg"&&n&&(u.attr("width",n*c),u.attr("height",n*b),u.attr("viewBox","0 0 "+c+" "+b));var w=new window.XMLSerializer().serializeToString(u.node());return w=(w=(w=function(f){var S=M.select("body").append("div").style({display:"none"}).html(""),T=f.replace(/(&[^;]*;)/gi,function(E){return E==="&lt;"?"&#60;":E==="&rt;"?"&#62;":E.indexOf("<")!==-1||E.indexOf(">")!==-1?"":S.html(E).text()});return S.remove(),T}(w)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(t,"'"),k.isIE()&&(w=(w=(w=w.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),w}},75341:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){for(var _=0;_<k.length;_++)k[_].i=_;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var y=a.marker;if(y){M.mergeArray(y.opacity,k,"mo",!0),M.mergeArray(y.color,k,"mc");var d=y.line;d&&(M.mergeArray(d.color,k,"mlc"),M.mergeArrayCastPositive(d.width,k,"mlw"))}}},1486:function(Y,O,e){var M=e(82196),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(5386).si,y=e(50693),d=e(41940),s=e(97313),t=e(79952).u,i=e(1426).extendFlat,r=d({editType:"calc",arrayOk:!0,colorEditType:"style"}),n=i({},M.marker.line.width,{dflt:0}),l=i({width:n,editType:"calc"},y("marker.line")),o=i({line:l,editType:"calc"},y("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:t});Y.exports={x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),text:M.text,texttemplate:_({editType:"plot"},{keys:s.eventDataKeys}),hovertext:M.hovertext,hovertemplate:a({},{keys:s.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:i({},r,{}),insidetextfont:i({},r,{}),outsidetextfont:i({},r,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:i({},M.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:o,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:{marker:{opacity:M.selected.marker.opacity,color:M.selected.marker.color,editType:"style"},textfont:M.selected.textfont,editType:"style"},unselected:{marker:{opacity:M.unselected.marker.opacity,color:M.unselected.marker.color,editType:"style"},textfont:M.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(Y,O,e){var M=e(89298),k=e(42973),a=e(52075).hasColorscale,_=e(78803),y=e(75341),d=e(66279);Y.exports=function(s,t){var i,r,n,l,o,u,p=M.getFromId(s,t.xaxis||"x"),c=M.getFromId(s,t.yaxis||"y"),b={msUTC:!(!t.base&&t.base!==0)};t.orientation==="h"?(i=p.makeCalcdata(t,"x",b),n=c.makeCalcdata(t,"y"),l=k(t,c,"y",n),o=!!t.yperiodalignment,u="y"):(i=c.makeCalcdata(t,"y",b),n=p.makeCalcdata(t,"x"),l=k(t,p,"x",n),o=!!t.xperiodalignment,u="x"),r=l.vals;for(var g=Math.min(r.length,i.length),h=new Array(g),x=0;x<g;x++)h[x]={p:r[x],s:i[x]},o&&(h[x].orig_p=n[x],h[x][u+"End"]=l.ends[x],h[x][u+"Start"]=l.starts[x]),t.ids&&(h[x].id=String(t.ids[x]));return a(t,"marker")&&_(s,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&_(s,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),y(h,t),d(h,t),h}},97313:function(Y){Y.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(Y,O,e){var M=e(92770),k=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,_=e(73972),y=e(89298),d=e(99082).getAxisGroup,s=e(61546);function t(g,h,x,v,m){if(v.length){var w,f,S,T;switch(function(E,L){var C,P;for(C=0;C<L.length;C++){var R,G=L[C],I=G[0].trace,H=I.type==="funnel"?I._base:I.base,N=I.orientation==="h"?I.xcalendar:I.ycalendar,B=E.type==="category"||E.type==="multicategory"?function(){return null}:E.d2c;if(k(H)){for(P=0;P<Math.min(H.length,G.length);P++)R=B(H[P],0,N),M(R)?(G[P].b=+R,G[P].hasB=1):G[P].b=0;for(;P<G.length;P++)G[P].b=0}else{R=B(H,0,N);var V=M(R);for(R=V?R:0,P=0;P<G.length;P++)G[P].b=R,V&&(G[P].hasB=1)}}}(x,v),m.mode){case"overlay":i(h,x,v,m);break;case"group":for(w=[],f=[],S=0;S<v.length;S++)(T=v[S])[0].trace.offset===void 0?f.push(T):w.push(T);f.length&&function(E,L,C,P,R){var G=new s(P,{posAxis:L,sepNegVal:!1,overlapNoMerge:!R.norm});(function(I,H,N,B){for(var V=I._fullLayout,q=N.positions,te=N.distinctPositions,$=N.minDiff,K=N.traces,Z=K.length,X=q.length!==te.length,ee=$*(1-B.gap),ne=d(V,H._id)+K[0][0].trace.orientation,re=V._alignmentOpts[ne]||{},ae=0;ae<Z;ae++){var ue,pe,ge=K[ae],we=ge[0].trace,me=re[we.alignmentgroup]||{},ve=Object.keys(me.offsetGroups||{}).length,Ie=(ue=ve?ee/ve:X?ee/Z:ee)*(1-(B.groupgap||0));pe=ve?((2*we._offsetIndex+1-ve)*ue-Ie)/2:X?((2*ae+1-Z)*ue-Ie)/2:-Ie/2;var Se=ge[0].t;Se.barwidth=Ie,Se.poffset=pe,Se.bargroupwidth=ee,Se.bardelta=$}N.binWidth=K[0][0].t.barwidth/100,n(N),l(H,N),o(H,N,X)})(E,L,G,R),function(I,H){for(var N=I.traces,B=0;B<N.length;B++){var V=N[B];if(V[0].trace.base===void 0)for(var q=new s([V],{posAxis:H,sepNegVal:!0,overlapNoMerge:!0}),te=0;te<V.length;te++){var $=V[te];if($.p!==a){var K=q.put($.p,$.b+$.s);K&&($.b=K)}}}}(G,L),R.norm?(p(G),c(C,G,R)):u(C,G)}(g,h,x,f,m),w.length&&i(h,x,w,m);break;case"stack":case"relative":for(w=[],f=[],S=0;S<v.length;S++)(T=v[S])[0].trace.base===void 0?f.push(T):w.push(T);f.length&&function(E,L,C,P,R){var G=new s(P,{posAxis:L,sepNegVal:R.mode==="relative",overlapNoMerge:!(R.norm||R.mode==="stack"||R.mode==="relative")});r(L,G,R),function(V,q,te){var $,K,Z,X,ee,ne,re=b(V),ae=q.traces;for(X=0;X<ae.length;X++)if((K=($=ae[X])[0].trace).type==="funnel")for(ee=0;ee<$.length;ee++)(ne=$[ee]).s!==a&&q.put(ne.p,-.5*ne.s);for(X=0;X<ae.length;X++){Z=(K=($=ae[X])[0].trace).type==="funnel";var ue=[];for(ee=0;ee<$.length;ee++)if((ne=$[ee]).s!==a){var pe;pe=Z?ne.s:ne.s+ne.b;var ge=q.put(ne.p,pe),we=ge+pe;ne.b=ge,ne[re]=we,te.norm||(ue.push(we),ne.hasB&&ue.push(ge))}te.norm||(K._extremes[V._id]=y.findExtremes(V,ue,{tozero:!0,padded:!0}))}}(C,G,R);for(var I=0;I<P.length;I++)for(var H=P[I],N=0;N<H.length;N++){var B=H[N];B.s!==a&&B.b+B.s===G.get(B.p,B.s)&&(B._outmost=!0)}R.norm&&c(C,G,R)}(0,h,x,f,m),w.length&&i(h,x,w,m)}(function(E,L){var C,P,R,G=b(L),I={},H=1/0,N=-1/0;for(C=0;C<E.length;C++)for(R=E[C],P=0;P<R.length;P++){var B=R[P].p;M(B)&&(H=Math.min(H,B),N=Math.max(N,B))}var V=1e4/(N-H),q=I.round=function(ne){return String(Math.round(V*(ne-H)))};for(C=0;C<E.length;C++){(R=E[C])[0].t.extents=I;var te=R[0].t.poffset,$=Array.isArray(te);for(P=0;P<R.length;P++){var K=R[P],Z=K[G]-K.w/2;if(M(Z)){var X=K[G]+K.w/2,ee=q(K.p);I[ee]?I[ee]=[Math.min(Z,I[ee][0]),Math.max(X,I[ee][1])]:I[ee]=[Z,X]}K.p0=K.p+($?te[P]:te),K.p1=K.p0+K.w,K.s0=K.b,K.s1=K.s0+K.s}}})(v,h)}}function i(g,h,x,v){for(var m=0;m<x.length;m++){var w=x[m],f=new s([w],{posAxis:g,sepNegVal:!1,overlapNoMerge:!v.norm});r(g,f,v),v.norm?(p(f),c(h,f,v)):u(h,f)}}function r(g,h,x){for(var v=h.minDiff,m=h.traces,w=v*(1-x.gap),f=w*(1-(x.groupgap||0)),S=-f/2,T=0;T<m.length;T++){var E=m[T][0].t;E.barwidth=f,E.poffset=S,E.bargroupwidth=w,E.bardelta=v}h.binWidth=m[0][0].t.barwidth/100,n(h),l(g,h),o(g,h)}function n(g){var h,x,v=g.traces;for(h=0;h<v.length;h++){var m,w=v[h],f=w[0],S=f.trace,T=f.t,E=S._offset||S.offset,L=T.poffset;if(k(E)){for(m=Array.prototype.slice.call(E,0,w.length),x=0;x<m.length;x++)M(m[x])||(m[x]=L);for(x=m.length;x<w.length;x++)m.push(L);T.poffset=m}else E!==void 0&&(T.poffset=E);var C=S._width||S.width,P=T.barwidth;if(k(C)){var R=Array.prototype.slice.call(C,0,w.length);for(x=0;x<R.length;x++)M(R[x])||(R[x]=P);for(x=R.length;x<w.length;x++)R.push(P);if(T.barwidth=R,E===void 0){for(m=[],x=0;x<w.length;x++)m.push(L+(P-R[x])/2);T.poffset=m}}else C!==void 0&&(T.barwidth=C,E===void 0&&(T.poffset=L+(P-C)/2))}}function l(g,h){for(var x=h.traces,v=b(g),m=0;m<x.length;m++)for(var w=x[m],f=w[0].t,S=f.poffset,T=Array.isArray(S),E=f.barwidth,L=Array.isArray(E),C=0;C<w.length;C++){var P=w[C],R=P.w=L?E[C]:E;P.p===void 0&&(P.p=P[v],P["orig_"+v]=P[v]);var G=(T?S[C]:S)+R/2;P[v]=P.p+G}}function o(g,h,x){var v=h.traces,m=h.minDiff/2;y.minDtick(g,h.minDiff,h.distinctPositions[0],x);for(var w=0;w<v.length;w++){var f,S,T,E,L=v[w],C=L[0],P=C.trace,R=[];for(E=0;E<L.length;E++)S=(f=L[E]).p-m,T=f.p+m,R.push(S,T);if(P.width||P.offset){var G=C.t,I=G.poffset,H=G.barwidth,N=Array.isArray(I),B=Array.isArray(H);for(E=0;E<L.length;E++){f=L[E];var V=N?I[E]:I,q=B?H[E]:H;T=(S=f.p+V)+q,R.push(S,T)}}P._extremes[g._id]=y.findExtremes(g,R,{padded:!1})}}function u(g,h){for(var x=h.traces,v=b(g),m=0;m<x.length;m++){for(var w=x[m],f=w[0].trace,S=f.type==="scatter",T=f.orientation==="v",E=[],L=!1,C=0;C<w.length;C++){var P=w[C],R=S?0:P.b,G=S?T?P.y:P.x:R+P.s;P[v]=G,E.push(G),P.hasB&&E.push(R),P.hasB&&P.b||(L=!0)}f._extremes[g._id]=y.findExtremes(g,E,{tozero:L,padded:!0})}}function p(g){for(var h=g.traces,x=0;x<h.length;x++)for(var v=h[x],m=0;m<v.length;m++){var w=v[m];w.s!==a&&g.put(w.p,w.b+w.s)}}function c(g,h,x){var v=h.traces,m=b(g),w=x.norm==="fraction"?1:100,f=w/1e9,S=g.l2c(g.c2l(0)),T=x.mode==="stack"?w:S;function E(te){return M(g.c2l(te))&&(te<S-f||te>T+f||!M(S))}for(var L=0;L<v.length;L++){for(var C=v[L],P=C[0].trace,R=[],G=!1,I=!1,H=0;H<C.length;H++){var N=C[H];if(N.s!==a){var B=Math.abs(w/h.get(N.p,N.s));N.b*=B,N.s*=B;var V=N.b,q=V+N.s;N[m]=q,R.push(q),I=I||E(q),N.hasB&&(R.push(V),I=I||E(V)),N.hasB&&N.b||(G=!0)}}P._extremes[g._id]=y.findExtremes(g,R,{tozero:G,padded:I})}}function b(g){return g._id.charAt(0)}Y.exports={crossTraceCalc:function(g,h){for(var x=h.xaxis,v=h.yaxis,m=g._fullLayout,w=g._fullData,f=g.calcdata,S=[],T=[],E=0;E<w.length;E++){var L=w[E];if(L.visible===!0&&_.traceIs(L,"bar")&&L.xaxis===x._id&&L.yaxis===v._id&&(L.orientation==="h"?S.push(f[E]):T.push(f[E]),L._computePh))for(var C=g.calcdata[E],P=0;P<C.length;P++)typeof C[P].ph0=="function"&&(C[P].ph0=C[P].ph0()),typeof C[P].ph1=="function"&&(C[P].ph1=C[P].ph1())}var R={xCat:x.type==="category"||x.type==="multicategory",yCat:v.type==="category"||v.type==="multicategory",mode:m.barmode,norm:m.barnorm,gap:m.bargap,groupgap:m.bargroupgap};t(g,x,v,T,R),t(g,v,x,S,R)},setGroupPositions:t}},90769:function(Y,O,e){var M=e(71828),k=e(7901),a=e(73972),_=e(67513),y=e(73927),d=e(98340),s=e(26125),t=e(1486),i=M.coerceFont;function r(n,l,o,u,p,c){var b=(c=c||{}).moduleHasSelected!==!1,g=c.moduleHasUnselected!==!1,h=c.moduleHasConstrain!==!1,x=c.moduleHasCliponaxis!==!1,v=c.moduleHasTextangle!==!1,m=c.moduleHasInsideanchor!==!1,w=!!c.hasPathbar,f=Array.isArray(p)||p==="auto",S=f||p==="inside",T=f||p==="outside";if(S||T){var E=i(u,"textfont",o.font),L=M.extendFlat({},E),C=!(n.textfont&&n.textfont.color);if(C&&delete L.color,i(u,"insidetextfont",L),w){var P=M.extendFlat({},E);C&&delete P.color,i(u,"pathbar.textfont",P)}T&&i(u,"outsidetextfont",E),b&&u("selected.textfont.color"),g&&u("unselected.textfont.color"),h&&u("constraintext"),x&&u("cliponaxis"),v&&u("textangle"),u("texttemplate")}S&&m&&u("insidetextanchor")}Y.exports={supplyDefaults:function(n,l,o,u){function p(h,x){return M.coerce(n,l,t,h,x)}if(_(n,l,u,p)){y(n,l,u,p),p("xhoverformat"),p("yhoverformat"),p("orientation",l.x&&!l.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var c=p("textposition");r(n,0,u,p,c,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),d(n,l,p,o,u);var b=(l.marker.line||{}).color,g=a.getComponentMethod("errorbars","supplyDefaults");g(n,l,b||k.defaultLine,{axis:"y"}),g(n,l,b||k.defaultLine,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(l,p)}else l.visible=!1},crossTraceDefaults:function(n,l){var o,u;function p(b){return M.coerce(u._input,u,t,b)}if(l.barmode==="group")for(var c=0;c<n.length;c++)(u=n[c]).type==="bar"&&(o=u._input,s(o,u,l,p))},handleText:r}},58065:function(Y){Y.exports=function(O,e,M){return O.x="xVal"in e?e.xVal:e.x,O.y="yVal"in e?e.yVal:e.y,e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),M.orientation==="h"?(O.label=O.y,O.value=O.x):(O.label=O.x,O.value=O.y),O}},69383:function(Y,O,e){var M=e(92770),k=e(84267),a=e(71828).isArrayOrTypedArray;O.coerceString=function(_,y,d){if(typeof y=="string"){if(y||!_.noBlank)return y}else if((typeof y=="number"||y===!0)&&!_.strict)return String(y);return d!==void 0?d:_.dflt},O.coerceNumber=function(_,y,d){if(M(y)){y=+y;var s=_.min,t=_.max;if(!(s!==void 0&&y<s||t!==void 0&&y>t))return y}return d!==void 0?d:_.dflt},O.coerceColor=function(_,y,d){return k(y).isValid()?y:d!==void 0?d:_.dflt},O.coerceEnumerated=function(_,y,d){return _.coerceNumber&&(y=+y),_.values.indexOf(y)!==-1?y:d!==void 0?d:_.dflt},O.getValue=function(_,y){var d;return Array.isArray(_)?y<_.length&&(d=_[y]):d=_,d},O.getLineWidth=function(_,y){return 0<y.mlw?y.mlw:a(_.marker.line.width)?0:_.marker.line.width}},95423:function(Y,O,e){var M=e(30211),k=e(73972),a=e(7901),_=e(71828).fillText,y=e(69383).getLineWidth,d=e(89298).hoverLabelText,s=e(50606).BADNUM;function t(r,n,l,o,u){var p,c,b,g,h,x,v,m=r.cd,w=m[0].trace,f=m[0].t,S=o==="closest",T=w.type==="waterfall",E=r.maxHoverDistance,L=r.maxSpikeDistance;w.orientation==="h"?(p=l,c=n,b="y",g="x",h=$,x=q):(p=n,c=l,b="x",g="y",x=$,h=q);var C=w[b+"period"],P=S||C;function R(ue){return I(ue,-1)}function G(ue){return I(ue,1)}function I(ue,pe){var ge=ue.w;return ue[b]+pe*ge/2}function H(ue){return ue[b+"End"]-ue[b+"Start"]}var N=S?R:C?function(ue){return ue.p-H(ue)/2}:function(ue){return Math.min(R(ue),ue.p-f.bardelta/2)},B=S?G:C?function(ue){return ue.p+H(ue)/2}:function(ue){return Math.max(G(ue),ue.p+f.bardelta/2)};function V(ue,pe,ge){return u.finiteRange&&(ge=0),M.inbox(ue-p,pe-p,ge+Math.min(1,Math.abs(pe-ue)/v)-1)}function q(ue){return V(N(ue),B(ue),E)}function te(ue){var pe=ue[g];if(T){var ge=Math.abs(ue.rawS)||0;c>0?pe+=ge:c<0&&(pe-=ge)}return pe}function $(ue){var pe=c,ge=ue.b,we=te(ue);return M.inbox(ge-pe,we-pe,E+(we-pe)/(we-ge)-1)}var K=r[b+"a"],Z=r[g+"a"];v=Math.abs(K.r2c(K.range[1])-K.r2c(K.range[0]));var X=M.getDistanceFunction(o,h,x,function(ue){return(h(ue)+x(ue))/2});if(M.getClosest(m,X,r),r.index!==!1&&m[r.index].p!==s){P||(N=function(ue){return Math.min(R(ue),ue.p-f.bargroupwidth/2)},B=function(ue){return Math.max(G(ue),ue.p+f.bargroupwidth/2)});var ee=m[r.index],ne=w.base?ee.b+ee.s:ee.s;r[g+"0"]=r[g+"1"]=Z.c2p(ee[g],!0),r[g+"LabelVal"]=ne;var re=f.extents[f.extents.round(ee.p)];r[b+"0"]=K.c2p(S?N(ee):re[0],!0),r[b+"1"]=K.c2p(S?B(ee):re[1],!0);var ae=ee.orig_p!==void 0;return r[b+"LabelVal"]=ae?ee.orig_p:ee.p,r.labelLabel=d(K,r[b+"LabelVal"],w[b+"hoverformat"]),r.valueLabel=d(Z,r[g+"LabelVal"],w[g+"hoverformat"]),r.baseLabel=d(Z,ee.b,w[g+"hoverformat"]),r.spikeDistance=(function(ue){var pe=c,ge=ue.b,we=te(ue);return M.inbox(ge-pe,we-pe,L+(we-pe)/(we-ge)-1)}(ee)+function(ue){return V(R(ue),G(ue),L)}(ee))/2,r[b+"Spike"]=K.c2p(ee.p,!0),_(ee,w,r),r.hovertemplate=w.hovertemplate,r}}function i(r,n){var l=n.mcc||r.marker.color,o=n.mlcc||r.marker.line.color,u=y(r,n);return a.opacity(l)?l:a.opacity(o)&&u?o:void 0}Y.exports={hoverPoints:function(r,n,l,o,u){var p=t(r,n,l,o,u);if(p){var c=p.cd,b=c[0].trace,g=c[p.index];return p.color=i(b,g),k.getComponentMethod("errorbars","hoverInfo")(g,b,p),[p]}},hoverOnBars:t,getTraceColor:i}},60822:function(Y,O,e){Y.exports={attributes:e(1486),layoutAttributes:e(43641),supplyDefaults:e(90769).supplyDefaults,crossTraceDefaults:e(90769).crossTraceDefaults,supplyLayoutDefaults:e(13957),calc:e(92290),crossTraceCalc:e(11661).crossTraceCalc,colorbar:e(4898),arraysToCalcdata:e(75341),plot:e(17295).plot,style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(95423).hoverPoints,eventData:e(58065),selectPoints:e(81974),moduleType:"trace",name:"bar",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(Y){Y.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(Y,O,e){var M=e(73972),k=e(89298),a=e(71828),_=e(43641);Y.exports=function(y,d,s){function t(b,g){return a.coerce(y,d,_,b,g)}for(var i=!1,r=!1,n=!1,l={},o=t("barmode"),u=0;u<s.length;u++){var p=s[u];if(M.traceIs(p,"bar")&&p.visible){if(i=!0,o==="group"){var c=p.xaxis+p.yaxis;l[c]&&(n=!0),l[c]=!0}p.visible&&p.type==="histogram"&&k.getFromId({_fullLayout:d},p[p.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(r=!0)}}i?(o!=="overlay"&&t("barnorm"),t("bargap",r&&!n?0:.2),t("bargroupgap")):delete d.barmode}},17295:function(Y,O,e){var M=e(39898),k=e(92770),a=e(71828),_=e(63893),y=e(7901),d=e(91424),s=e(73972),t=e(89298).tickText,i=e(72597),r=i.recordMinTextSize,n=i.clearMinTextSize,l=e(16688),o=e(69383),u=e(97313),p=e(1486),c=p.text,b=p.textposition,g=e(23469).appendArrayPointValue,h=u.TEXTPAD;function x(L){return L.id}function v(L){if(L.ids)return x}function m(L,C){return L<C?1:-1}function w(L,C,P,R){var G;return!C.uniformtext.mode&&f(P)?(R&&(G=R()),L.transition().duration(P.duration).ease(P.easing).each("end",function(){G&&G()}).each("interrupt",function(){G&&G()})):L}function f(L){return L&&L.duration>0}function S(L){return L==="auto"?0:L}function T(L,C){var P=Math.PI/180*C,R=Math.abs(Math.sin(P)),G=Math.abs(Math.cos(P));return{x:L.width*G+L.height*R,y:L.width*R+L.height*G}}function E(L,C,P,R,G,I){var H=!!I.isHorizontal,N=!!I.constrained,B=I.angle||0,V=I.anchor||"end",q=V==="end",te=V==="start",$=((I.leftToRight||0)+1)/2,K=1-$,Z=G.width,X=G.height,ee=Math.abs(C-L),ne=Math.abs(R-P),re=ee>2*h&&ne>2*h?h:0;ee-=2*re,ne-=2*re;var ae=S(B);B!=="auto"||Z<=ee&&X<=ne||!(Z>ee||X>ne)||(Z>ne||X>ee)&&Z<X==ee<ne||(ae+=90);var ue=T(G,ae),pe=1;N&&(pe=Math.min(1,ee/ue.x,ne/ue.y));var ge=G.left*K+G.right*$,we=(G.top+G.bottom)/2,me=(L+h)*K+(C-h)*$,ve=(P+R)/2,Ie=0,Se=0;if(te||q){var ke=(H?ue.x:ue.y)/2,se=H?m(L,C):m(P,R);H?te?(me=L+se*re,Ie=-se*ke):(me=C-se*re,Ie=se*ke):te?(ve=P+se*re,Se=-se*ke):(ve=R-se*re,Se=se*ke)}return{textX:ge,textY:we,targetX:me,targetY:ve,anchorX:Ie,anchorY:Se,scale:pe,rotate:ae}}Y.exports={plot:function(L,C,P,R,G,I){var H=C.xaxis,N=C.yaxis,B=L._fullLayout,V=L._context.staticPlot;G||(G={mode:B.barmode,norm:B.barmode,gap:B.bargap,groupgap:B.bargroupgap},n("bar",B));var q=a.makeTraceGroups(R,P,"trace bars").each(function(te){var $=M.select(this),K=te[0].trace,Z=K.type==="waterfall",X=K.type==="funnel",ee=K.type==="bar"||X,ne=0;Z&&K.connector.visible&&K.connector.mode==="between"&&(ne=K.connector.line.width/2);var re=K.orientation==="h",ae=f(G),ue=a.ensureSingle($,"g","points"),pe=v(K),ge=ue.selectAll("g.point").data(a.identity,pe);ge.enter().append("g").classed("point",!0),ge.exit().remove(),ge.each(function(me,ve){var Ie,Se,ke=M.select(this),se=function(Oe,Be,Fe,Ge){var Ze=[],et=[],ft=Ge?Be:Fe,rt=Ge?Fe:Be;return Ze[0]=ft.c2p(Oe.s0,!0),et[0]=rt.c2p(Oe.p0,!0),Ze[1]=ft.c2p(Oe.s1,!0),et[1]=rt.c2p(Oe.p1,!0),Ge?[Ze,et]:[et,Ze]}(me,H,N,re),oe=se[0][0],he=se[0][1],Le=se[1][0],Me=se[1][1],_e=(re?he-oe:Me-Le)==0;if(_e&&ee&&o.getLineWidth(K,me)&&(_e=!1),_e||(_e=!(k(oe)&&k(he)&&k(Le)&&k(Me))),me.isBlank=_e,_e&&(re?he=oe:Me=Le),ne&&!_e&&(re?(oe-=m(oe,he)*ne,he+=m(oe,he)*ne):(Le-=m(Le,Me)*ne,Me+=m(Le,Me)*ne)),K.type==="waterfall"){if(!_e){var De=K[me.dir].marker;Ie=De.line.width,Se=De.color}}else Ie=o.getLineWidth(K,me),Se=me.mc||K.marker.color;function Ne(Oe){var Be=M.round(Ie/2%1,2);return G.gap===0&&G.groupgap===0?M.round(Math.round(Oe)-Be,2):Oe}if(!L._context.staticPlot){var ce=y.opacity(Se)<1||Ie>.01?Ne:function(Oe,Be,Fe){return Fe&&Oe===Be?Oe:Math.abs(Oe-Be)>=2?Ne(Oe):Oe>Be?Math.ceil(Oe):Math.floor(Oe)};oe=ce(oe,he,re),he=ce(he,oe,re),Le=ce(Le,Me,!re),Me=ce(Me,Le,!re)}var Te=w(a.ensureSingle(ke,"path"),B,G,I);if(Te.style("vector-effect",V?"none":"non-scaling-stroke").attr("d",isNaN((he-oe)*(Me-Le))||_e&&L._context.staticPlot?"M0,0Z":"M"+oe+","+Le+"V"+Me+"H"+he+"V"+Le+"Z").call(d.setClipUrl,C.layerClipId,L),!B.uniformtext.mode&&ae){var ye=d.makePointStyleFns(K);d.singlePointStyle(me,Te,K,ye,L)}(function(Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt,wt){var lt,ut=Be.xaxis,Et=Be.yaxis,Ot=Oe._fullLayout;function zt(an,Gt,Yt){return a.ensureSingle(an,"text").text(Gt).attr({class:"bartext bartext-"+lt,"text-anchor":"middle","data-notex":1}).call(d.font,Yt).call(_.convertToTspans,Oe)}var Lt=Ge[0].trace,Je=Lt.orientation==="h",Qe=function(an,Gt,Yt,en,bn){var On,gn=Gt[0].trace;return On=gn.texttemplate?function(Xt,ln,nn,hn,mn){var Mn=ln[0].trace,Tn=a.castOption(Mn,nn,"texttemplate");if(!Tn)return"";var Pn,yn,Rn,Zn,ir=Mn.type==="histogram",sr=Mn.type==="waterfall",tr=Mn.type==="funnel",Jn=Mn.orientation==="h";function pr(Dn){return t(Zn,Zn.c2l(Dn),!0).text}Jn?(Pn="y",yn=mn,Rn="x",Zn=hn):(Pn="x",yn=hn,Rn="y",Zn=mn);var Ut,rn=ln[nn],cn={};cn.label=rn.p,cn.labelLabel=cn[Pn+"Label"]=(Ut=rn.p,t(yn,yn.c2l(Ut),!0).text);var vn=a.castOption(Mn,rn.i,"text");(vn===0||vn)&&(cn.text=vn),cn.value=rn.s,cn.valueLabel=cn[Rn+"Label"]=pr(rn.s);var Sn={};g(Sn,Mn,rn.i),(ir||Sn.x===void 0)&&(Sn.x=Jn?cn.value:cn.label),(ir||Sn.y===void 0)&&(Sn.y=Jn?cn.label:cn.value),(ir||Sn.xLabel===void 0)&&(Sn.xLabel=Jn?cn.valueLabel:cn.labelLabel),(ir||Sn.yLabel===void 0)&&(Sn.yLabel=Jn?cn.labelLabel:cn.valueLabel),sr&&(cn.delta=+rn.rawS||rn.s,cn.deltaLabel=pr(cn.delta),cn.final=rn.v,cn.finalLabel=pr(cn.final),cn.initial=cn.final-cn.delta,cn.initialLabel=pr(cn.initial)),tr&&(cn.value=rn.s,cn.valueLabel=pr(cn.value),cn.percentInitial=rn.begR,cn.percentInitialLabel=a.formatPercent(rn.begR),cn.percentPrevious=rn.difR,cn.percentPreviousLabel=a.formatPercent(rn.difR),cn.percentTotal=rn.sumR,cn.percenTotalLabel=a.formatPercent(rn.sumR));var Hn=a.castOption(Mn,rn.i,"customdata");return Hn&&(cn.customdata=Hn),a.texttemplateString(Tn,cn,Xt._d3locale,Sn,cn,Mn._meta||{})}(an,Gt,Yt,en,bn):gn.textinfo?function(Xt,ln,nn,hn){var mn=Xt[0].trace,Mn=mn.orientation==="h",Tn=mn.type==="waterfall",Pn=mn.type==="funnel";function yn(Hn){return t(Mn?nn:hn,+Hn,!0).text}var Rn,Zn,ir=mn.textinfo,sr=Xt[ln],tr=ir.split("+"),Jn=[],pr=function(Hn){return tr.indexOf(Hn)!==-1};if(pr("label")&&Jn.push((Zn=Xt[ln].p,t(Mn?hn:nn,Zn,!0).text)),pr("text")&&((Rn=a.castOption(mn,sr.i,"text"))===0||Rn)&&Jn.push(Rn),Tn){var Ut=+sr.rawS||sr.s,rn=sr.v,cn=rn-Ut;pr("initial")&&Jn.push(yn(cn)),pr("delta")&&Jn.push(yn(Ut)),pr("final")&&Jn.push(yn(rn))}if(Pn){pr("value")&&Jn.push(yn(sr.s));var vn=0;pr("percent initial")&&vn++,pr("percent previous")&&vn++,pr("percent total")&&vn++;var Sn=vn>1;pr("percent initial")&&(Rn=a.formatPercent(sr.begR),Sn&&(Rn+=" of initial"),Jn.push(Rn)),pr("percent previous")&&(Rn=a.formatPercent(sr.difR),Sn&&(Rn+=" of previous"),Jn.push(Rn)),pr("percent total")&&(Rn=a.formatPercent(sr.sumR),Sn&&(Rn+=" of total"),Jn.push(Rn))}return Jn.join("<br>")}(Gt,Yt,en,bn):o.getValue(gn.text,Yt),o.coerceString(c,On)}(Ot,Ge,Ze,ut,Et);lt=function(an,Gt){var Yt=o.getValue(an.textposition,Gt);return o.coerceEnumerated(b,Yt)}(Lt,Ze);var qe=kt.mode==="stack"||kt.mode==="relative",$e=Ge[Ze],ct=!qe||$e._outmost;if(Qe&&lt!=="none"&&(!$e.isBlank&&et!==ft&&rt!==_t||lt!=="auto"&&lt!=="inside")){var at=Ot.font,Re=l.getBarColor(Ge[Ze],Lt),je=l.getInsideTextFont(Lt,Ze,at,Re),st=l.getOutsideTextFont(Lt,Ze,at),ot=Fe.datum();Je?ut.type==="log"&&ot.s0<=0&&(et=ut.range[0]<ut.range[1]?0:ut._length):Et.type==="log"&&ot.s0<=0&&(rt=Et.range[0]<Et.range[1]?Et._length:0);var xt,mt,bt,dt,St,gt=Math.abs(ft-et)-2*h,vt=Math.abs(_t-rt)-2*h;if(lt==="outside"&&(ct||$e.hasB||(lt="inside")),lt==="auto"&&(ct?(lt="inside",xt=zt(Fe,Qe,St=a.ensureUniformFontSize(Oe,je)),bt=(mt=d.bBox(xt.node())).width,dt=mt.height,bt>0&&dt>0&&(bt<=gt&&dt<=vt||bt<=vt&&dt<=gt||(Je?gt>=bt*(vt/dt):vt>=dt*(gt/bt)))?lt="inside":(lt="outside",xt.remove(),xt=null)):lt="inside"),!xt){var Mt=(xt=zt(Fe,Qe,St=a.ensureUniformFontSize(Oe,lt==="outside"?st:je))).attr("transform");if(xt.attr("transform",""),bt=(mt=d.bBox(xt.node())).width,dt=mt.height,xt.attr("transform",Mt),bt<=0||dt<=0)return void xt.remove()}var Bt,Nt=Lt.textangle;Bt=lt==="outside"?function(an,Gt,Yt,en,bn,On){var gn,Xt=!!On.isHorizontal,ln=!!On.constrained,nn=On.angle||0,hn=bn.width,mn=bn.height,Mn=Math.abs(Gt-an),Tn=Math.abs(en-Yt);gn=Xt?Tn>2*h?h:0:Mn>2*h?h:0;var Pn=1;ln&&(Pn=Xt?Math.min(1,Tn/mn):Math.min(1,Mn/hn));var yn=S(nn),Rn=T(bn,yn),Zn=(Xt?Rn.x:Rn.y)/2,ir=(bn.left+bn.right)/2,sr=(bn.top+bn.bottom)/2,tr=(an+Gt)/2,Jn=(Yt+en)/2,pr=0,Ut=0,rn=Xt?m(Gt,an):m(Yt,en);return Xt?(tr=Gt-rn*gn,pr=rn*Zn):(Jn=en+rn*gn,Ut=-rn*Zn),{textX:ir,textY:sr,targetX:tr,targetY:Jn,anchorX:pr,anchorY:Ut,scale:Pn,rotate:yn}}(et,ft,rt,_t,mt,{isHorizontal:Je,constrained:Lt.constraintext==="both"||Lt.constraintext==="outside",angle:Nt}):E(et,ft,rt,_t,mt,{isHorizontal:Je,constrained:Lt.constraintext==="both"||Lt.constraintext==="inside",angle:Nt,anchor:Lt.insidetextanchor}),Bt.fontSize=St.size,r(Lt.type==="histogram"?"bar":Lt.type,Bt,Ot),$e.transform=Bt;var qt=w(xt,Ot,kt,wt);a.setTransormAndDisplay(qt,Bt)}else Fe.select("text").remove()})(L,C,ke,te,ve,oe,he,Le,Me,G,I),C.layerClipId&&d.hideOutsideRangePoint(me,ke.select("text"),H,N,K.xcalendar,K.ycalendar)});var we=K.cliponaxis===!1;d.setClipUrl($,we?null:C.layerClipId,L)});s.getComponentMethod("errorbars","plot")(L,q,C,G)},toMoveInsideBar:E}},81974:function(Y){function O(e,M,k,a,_){var y=M.c2p(a?e.s0:e.p0,!0),d=M.c2p(a?e.s1:e.p1,!0),s=k.c2p(a?e.p0:e.s0,!0),t=k.c2p(a?e.p1:e.s1,!0);return _?[(y+d)/2,(s+t)/2]:a?[d,(s+t)/2]:[(y+d)/2,t]}Y.exports=function(e,M){var k,a=e.cd,_=e.xaxis,y=e.yaxis,d=a[0].trace,s=d.type==="funnel",t=d.orientation==="h",i=[];if(M===!1)for(k=0;k<a.length;k++)a[k].selected=0;else for(k=0;k<a.length;k++){var r=a[k],n="ct"in r?r.ct:O(r,_,y,t,s);M.contains(n,!1,k,e)?(i.push({pointNumber:k,x:_.c2d(r.x),y:y.c2d(r.y)}),r.selected=1):r.selected=0}return i}},61546:function(Y,O,e){Y.exports=k;var M=e(71828).distinctVals;function k(a,_){this.traces=a,this.sepNegVal=_.sepNegVal,this.overlapNoMerge=_.overlapNoMerge;for(var y=1/0,d=_.posAxis._id.charAt(0),s=[],t=0;t<a.length;t++){for(var i=a[t],r=0;r<i.length;r++){var n=i[r],l=n.p;l===void 0&&(l=n[d]),l!==void 0&&s.push(l)}i[0]&&i[0].width1&&(y=Math.min(i[0].width1,y))}this.positions=s;var o=M(s);this.distinctPositions=o.vals,o.vals.length===1&&y!==1/0?this.minDiff=y:this.minDiff=Math.min(o.minDiff,y);var u=(_.posAxis||{}).type;u!=="category"&&u!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}k.prototype.put=function(a,_){var y=this.getLabel(a,_),d=this.bins[y]||0;return this.bins[y]=d+_,d},k.prototype.get=function(a,_){var y=this.getLabel(a,_);return this.bins[y]||0},k.prototype.getLabel=function(a,_){return(_<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?a:Math.round(a/this.binWidth))}},16688:function(Y,O,e){var M=e(39898),k=e(7901),a=e(91424),_=e(71828),y=e(73972),d=e(72597).resizeText,s=e(1486),t=s.textfont,i=s.insidetextfont,r=s.outsidetextfont,n=e(69383);function l(x,v,m){a.pointStyle(x.selectAll("path"),v,m),o(x,v,m)}function o(x,v,m){x.selectAll("text").each(function(w){var f=M.select(this),S=_.ensureUniformFontSize(m,u(f,w,v,m));a.font(f,S)})}function u(x,v,m,w){var f=w._fullLayout.font,S=m.textfont;if(x.classed("bartext-inside")){var T=h(v,m);S=c(m,v.i,f,T)}else x.classed("bartext-outside")&&(S=b(m,v.i,f));return S}function p(x,v,m){return g(t,x.textfont,v,m)}function c(x,v,m,w){var f=p(x,v,m);return(x._input.textfont===void 0||x._input.textfont.color===void 0||Array.isArray(x.textfont.color)&&x.textfont.color[v]===void 0)&&(f={color:k.contrast(w),family:f.family,size:f.size}),g(i,x.insidetextfont,v,f)}function b(x,v,m){var w=p(x,v,m);return g(r,x.outsidetextfont,v,w)}function g(x,v,m,w){v=v||{};var f=n.getValue(v.family,m),S=n.getValue(v.size,m),T=n.getValue(v.color,m);return{family:n.coerceString(x.family,f,w.family),size:n.coerceNumber(x.size,S,w.size),color:n.coerceColor(x.color,T,w.color)}}function h(x,v){return v.type==="waterfall"?v[x.dir].marker.color:x.mcc||x.mc||v.marker.color}Y.exports={style:function(x){var v=M.select(x).selectAll("g.barlayer").selectAll("g.trace");d(x,v,"bar");var m=v.size(),w=x._fullLayout;v.style("opacity",function(f){return f[0].trace.opacity}).each(function(f){(w.barmode==="stack"&&m>1||w.bargap===0&&w.bargroupgap===0&&!f[0].trace.marker.line.width)&&M.select(this).attr("shape-rendering","crispEdges")}),v.selectAll("g.points").each(function(f){l(M.select(this),f[0].trace,x)}),y.getComponentMethod("errorbars","style")(v)},styleTextPoints:o,styleOnSelect:function(x,v,m){var w=v[0].trace;w.selectedpoints?function(f,S,T){a.selectedPointStyle(f.selectAll("path"),S),function(E,L,C){E.each(function(P){var R,G=M.select(this);if(P.selected){R=_.ensureUniformFontSize(C,u(G,P,L,C));var I=L.selected.textfont&&L.selected.textfont.color;I&&(R.color=I),a.font(G,R)}else a.selectedTextStyle(G,L)})}(f.selectAll("text"),S,T)}(m,w,x):(l(m,w,x),y.getComponentMethod("errorbars","style")(m))},getInsideTextFont:c,getOutsideTextFont:b,getBarColor:h,resizeText:d}},98340:function(Y,O,e){var M=e(7901),k=e(52075).hasColorscale,a=e(1586),_=e(71828).coercePattern;Y.exports=function(y,d,s,t,i){var r=s("marker.color",t),n=k(y,"marker");n&&a(y,d,i,s,{prefix:"marker.",cLetter:"c"}),s("marker.line.color",M.defaultLine),k(y,"marker.line")&&a(y,d,i,s,{prefix:"marker.line.",cLetter:"c"}),s("marker.line.width"),s("marker.opacity"),_(s,"marker.pattern",r,n),s("selected.marker.color"),s("unselected.marker.color")}},72597:function(Y,O,e){var M=e(39898),k=e(71828);function a(_){return"_"+_+"Text_minsize"}Y.exports={recordMinTextSize:function(_,y,d){if(d.uniformtext.mode){var s=a(_),t=d.uniformtext.minsize,i=y.scale*y.fontSize;y.hide=i<t,d[s]=d[s]||1/0,y.hide||(d[s]=Math.min(d[s],Math.max(i,t)))}},clearMinTextSize:function(_,y){y[a(_)]=void 0},resizeText:function(_,y,d){var s=_._fullLayout,t=s["_"+d+"Text_minsize"];if(t){var i,r=s.uniformtext.mode==="hide";switch(d){case"funnelarea":case"pie":case"sunburst":i="g.slice";break;case"treemap":case"icicle":i="g.slice, g.pathbar";break;default:i="g.points > g.point"}y.selectAll(i).each(function(n){var l=n.transform;if(l){l.scale=r&&l.hide?0:t/l.fontSize;var o=M.select(this).select("text");k.setTransormAndDisplay(o,l)}})}}}},55023:function(Y,O,e){var M=e(5386).fF,k=e(1426).extendFlat,a=e(81245),_=e(1486);Y.exports={r:a.r,theta:a.theta,r0:a.r0,dr:a.dr,theta0:a.theta0,dtheta:a.dtheta,thetaunit:a.thetaunit,base:k({},_.base,{}),offset:k({},_.offset,{}),width:k({},_.width,{}),text:k({},_.text,{}),hovertext:k({},_.hovertext,{}),marker:_.marker,hoverinfo:a.hoverinfo,hovertemplate:M(),selected:_.selected,unselected:_.unselected}},74692:function(Y,O,e){var M=e(52075).hasColorscale,k=e(78803),a=e(75341),_=e(11661).setGroupPositions,y=e(66279),d=e(73972).traceIs,s=e(71828).extendFlat;Y.exports={calc:function(t,i){for(var r=t._fullLayout,n=i.subplot,l=r[n].radialaxis,o=r[n].angularaxis,u=l.makeCalcdata(i,"r"),p=o.makeCalcdata(i,"theta"),c=i._length,b=new Array(c),g=u,h=p,x=0;x<c;x++)b[x]={p:h[x],s:g[x]};function v(m){var w=i[m];w!==void 0&&(i["_"+m]=Array.isArray(w)?o.makeCalcdata(i,m):o.d2c(w,i.thetaunit))}return o.type==="linear"&&(v("width"),v("offset")),M(i,"marker")&&k(t,i,{vals:i.marker.color,containerStr:"marker",cLetter:"c"}),M(i,"marker.line")&&k(t,i,{vals:i.marker.line.color,containerStr:"marker.line",cLetter:"c"}),a(b,i),y(b,i),b},crossTraceCalc:function(t,i,r){for(var n=t.calcdata,l=[],o=0;o<n.length;o++){var u=n[o],p=u[0].trace;p.visible===!0&&d(p,"bar")&&p.subplot===r&&l.push(u)}var c=s({},i.radialaxis,{_id:"x"}),b=i.angularaxis;_(t,b,c,l,{mode:i.barmode,norm:i.barnorm,gap:i.bargap,groupgap:i.bargroupgap})}}},6135:function(Y,O,e){var M=e(71828),k=e(22184).handleRThetaDefaults,a=e(98340),_=e(55023);Y.exports=function(y,d,s,t){function i(r,n){return M.coerce(y,d,_,r,n)}k(y,d,t,i)?(i("thetaunit"),i("base"),i("offset"),i("width"),i("text"),i("hovertext"),i("hovertemplate"),a(y,d,i,s,t),M.coerceSelectionMarkerOpacity(d,i)):d.visible=!1}},27379:function(Y,O,e){var M=e(30211),k=e(71828),a=e(95423).getTraceColor,_=k.fillText,y=e(59150).makeHoverPointText,d=e(10869).isPtInsidePolygon;Y.exports=function(s,t,i){var r=s.cd,n=r[0].trace,l=s.subplot,o=l.radialAxis,u=l.angularAxis,p=l.vangles,c=p?d:k.isPtInsideSector,b=s.maxHoverDistance,g=u._period||2*Math.PI,h=Math.abs(o.g2p(Math.sqrt(t*t+i*i))),x=Math.atan2(i,t);if(o.range[0]>o.range[1]&&(x+=Math.PI),M.getClosest(r,function(w){return c(h,x,[w.rp0,w.rp1],[w.thetag0,w.thetag1],p)?b+Math.min(1,Math.abs(w.thetag1-w.thetag0)/g)-1+(w.rp1-h)/(w.rp1-w.rp0)-1:1/0},s),s.index!==!1){var v=r[s.index];s.x0=s.x1=v.ct[0],s.y0=s.y1=v.ct[1];var m=k.extendFlat({},v,{r:v.s,theta:v.p});return _(v,n,s),y(m,n,l,s),s.hovertemplate=n.hovertemplate,s.color=a(n,v),s.xLabelVal=s.yLabelVal=void 0,v.s<0&&(s.idealAlign="left"),[s]}}},23381:function(Y,O,e){Y.exports={moduleType:"trace",name:"barpolar",basePlotModule:e(23580),categories:["polar","bar","showLegend"],attributes:e(55023),layoutAttributes:e(40151),supplyDefaults:e(6135),supplyLayoutDefaults:e(19860),calc:e(74692).calc,crossTraceCalc:e(74692).crossTraceCalc,plot:e(60173),colorbar:e(4898),formatLabels:e(98608),style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,hoverPoints:e(27379),selectPoints:e(81974),meta:{}}},40151:function(Y){Y.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc"},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc"}}},19860:function(Y,O,e){var M=e(71828),k=e(40151);Y.exports=function(a,_,y){var d,s={};function t(n,l){return M.coerce(a[d]||{},_[d],k,n,l)}for(var i=0;i<y.length;i++){var r=y[i];r.type==="barpolar"&&r.visible===!0&&(s[d=r.subplot]||(t("barmode"),t("bargap"),s[d]=1))}}},60173:function(Y,O,e){var M=e(39898),k=e(92770),a=e(71828),_=e(91424),y=e(10869);Y.exports=function(d,s,t){var i=d._context.staticPlot,r=s.xaxis,n=s.yaxis,l=s.radialAxis,o=s.angularAxis,u=function(c){var b=c.cxx,g=c.cyy;return c.vangles?function(h,x,v,m){var w,f;a.angleDelta(v,m)>0?(w=v,f=m):(w=m,f=v);var S=[y.findEnclosingVertexAngles(w,c.vangles)[0],(w+f)/2,y.findEnclosingVertexAngles(f,c.vangles)[1]];return y.pathPolygonAnnulus(h,x,w,f,S,b,g)}:function(h,x,v,m){return a.pathAnnulus(h,x,v,m,b,g)}}(s),p=s.layers.frontplot.select("g.barlayer");a.makeTraceGroups(p,t,"trace bars").each(function(){var c=M.select(this),b=a.ensureSingle(c,"g","points").selectAll("g.point").data(a.identity);b.enter().append("g").style("vector-effect",i?"none":"non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),b.exit().remove(),b.each(function(g){var h,x=M.select(this),v=g.rp0=l.c2p(g.s0),m=g.rp1=l.c2p(g.s1),w=g.thetag0=o.c2g(g.p0),f=g.thetag1=o.c2g(g.p1);if(k(v)&&k(m)&&k(w)&&k(f)&&v!==m&&w!==f){var S=l.c2g(g.s1),T=(w+f)/2;g.ct=[r.c2p(S*Math.cos(T)),n.c2p(S*Math.sin(T))],h=u(v,m,w,f)}else h="M0,0Z";a.ensureSingle(x,"path").attr("d",h)}),_.setClipUrl(c,s._hasClipOnAxisFalse?s.clipIds.forTraces:null,d)})}},53522:function(Y,O,e){var M=e(82196),k=e(1486),a=e(22399),_=e(12663).axisHoverFormat,y=e(5386).fF,d=e(1426).extendFlat,s=M.marker,t=s.line;Y.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},sdmultiple:{valType:"number",min:0,editType:"calc",dflt:1},sizemode:{valType:"enumerated",values:["quartiles","sd"],editType:"calc",dflt:"quartiles"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:d({},s.symbol,{arrayOk:!1,editType:"plot"}),opacity:d({},s.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:d({},s.angle,{arrayOk:!1,editType:"calc"}),size:d({},s.size,{arrayOk:!1,editType:"calc"}),color:d({},s.color,{arrayOk:!1,editType:"style"}),line:{color:d({},t.color,{arrayOk:!1,dflt:a.defaultLine,editType:"style"}),width:d({},t.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},showwhiskers:{valType:"boolean",editType:"calc"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup,selected:{marker:M.selected.marker,editType:"style"},unselected:{marker:M.unselected.marker,editType:"style"},text:d({},M.text,{}),hovertext:d({},M.hovertext,{}),hovertemplate:y({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(Y,O,e){var M=e(92770),k=e(89298),a=e(42973),_=e(71828),y=e(50606).BADNUM,d=_._;Y.exports=function(c,b){var g,h,x,v,m,w,f,S=c._fullLayout,T=k.getFromId(c,b.xaxis||"x"),E=k.getFromId(c,b.yaxis||"y"),L=[],C=b.type==="violin"?"_numViolins":"_numBoxes";b.orientation==="h"?(x=T,v="x",m=E,w="y",f=!!b.yperiodalignment):(x=E,v="y",m=T,w="x",f=!!b.xperiodalignment);var P,R,G,I,H,N,B=function(Be,Fe,Ge,Ze){var et,ft=Fe+"0"in Be;if(Fe in Be||ft&&"d"+Fe in Be){var rt=Ge.makeCalcdata(Be,Fe);return[a(Be,Ge,Fe,rt).vals,rt]}et=ft?Be[Fe+"0"]:"name"in Be&&(Ge.type==="category"||M(Be.name)&&["linear","log"].indexOf(Ge.type)!==-1||_.isDateTime(Be.name)&&Ge.type==="date")?Be.name:Ze;for(var _t=Ge.type==="multicategory"?Ge.r2c_just_indices(et):Ge.d2c(et,0,Be[Fe+"calendar"]),kt=Be._length,wt=new Array(kt),lt=0;lt<kt;lt++)wt[lt]=_t;return[wt]}(b,w,m,S[C]),V=B[0],q=B[1],te=_.distinctVals(V,m),$=te.vals,K=te.minDiff/2,Z=(b.boxpoints||b.points)==="all"?_.identity:function(Be){return Be.v<P.lf||Be.v>P.uf};if(b._hasPreCompStats){var X=b[v],ee=function(Be){return x.d2c((b[Be]||[])[g])},ne=1/0,re=-1/0;for(g=0;g<b._length;g++){var ae=V[g];if(M(ae)){if((P={}).pos=P[w]=ae,f&&q&&(P.orig_p=q[g]),P.q1=ee("q1"),P.med=ee("median"),P.q3=ee("q3"),R=[],X&&_.isArrayOrTypedArray(X[g]))for(h=0;h<X[g].length;h++)(N=x.d2c(X[g][h]))!==y&&(t(H={v:N,i:[g,h]},b,[g,h]),R.push(H));if(P.pts=R.sort(i),I=(G=P[v]=R.map(r)).length,P.med!==y&&P.q1!==y&&P.q3!==y&&P.med>=P.q1&&P.q3>=P.med){var ue=ee("lowerfence");P.lf=ue!==y&&ue<=P.q1?ue:n(P,G,I);var pe=ee("upperfence");P.uf=pe!==y&&pe>=P.q3?pe:l(P,G,I);var ge=ee("mean");P.mean=ge!==y?ge:I?_.mean(G,I):(P.q1+P.q3)/2;var we=ee("sd");P.sd=ge!==y&&we>=0?we:I?_.stdev(G,I,P.mean):P.q3-P.q1,P.lo=o(P),P.uo=u(P);var me=ee("notchspan");me=me!==y&&me>0?me:p(P,I),P.ln=P.med-me,P.un=P.med+me;var ve=P.lf,Ie=P.uf;b.boxpoints&&G.length&&(ve=Math.min(ve,G[0]),Ie=Math.max(Ie,G[I-1])),b.notched&&(ve=Math.min(ve,P.ln),Ie=Math.max(Ie,P.un)),P.min=ve,P.max=Ie}else{var Se;_.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+P.q1,"median = "+P.med,"q3 = "+P.q3].join(`
`)),Se=P.med!==y?P.med:P.q1!==y?P.q3!==y?(P.q1+P.q3)/2:P.q1:P.q3!==y?P.q3:0,P.med=Se,P.q1=P.q3=Se,P.lf=P.uf=Se,P.mean=P.sd=Se,P.ln=P.un=Se,P.min=P.max=Se}ne=Math.min(ne,P.min),re=Math.max(re,P.max),P.pts2=R.filter(Z),L.push(P)}}b._extremes[x._id]=k.findExtremes(x,[ne,re],{padded:!0})}else{var ke=x.makeCalcdata(b,v),se=function(Be,Fe){for(var Ge=Be.length,Ze=new Array(Ge+1),et=0;et<Ge;et++)Ze[et]=Be[et]-Fe;return Ze[Ge]=Be[Ge-1]+Fe,Ze}($,K),oe=$.length,he=function(Be){for(var Fe=new Array(Be),Ge=0;Ge<Be;Ge++)Fe[Ge]=[];return Fe}(oe);for(g=0;g<b._length;g++)if(N=ke[g],M(N)){var Le=_.findBin(V[g],se);Le>=0&&Le<oe&&(t(H={v:N,i:g},b,g),he[Le].push(H))}var Me=1/0,_e=-1/0,De=b.quartilemethod,Ne=De==="exclusive",ce=De==="inclusive";for(g=0;g<oe;g++)if(he[g].length>0){var Te,ye;(P={}).pos=P[w]=$[g],R=P.pts=he[g].sort(i),I=(G=P[v]=R.map(r)).length,P.min=G[0],P.max=G[I-1],P.mean=_.mean(G,I),P.sd=_.stdev(G,I,P.mean)*b.sdmultiple,P.med=_.interp(G,.5),I%2&&(Ne||ce)?(Ne?(Te=G.slice(0,I/2),ye=G.slice(I/2+1)):ce&&(Te=G.slice(0,I/2+1),ye=G.slice(I/2)),P.q1=_.interp(Te,.5),P.q3=_.interp(ye,.5)):(P.q1=_.interp(G,.25),P.q3=_.interp(G,.75)),P.lf=n(P,G,I),P.uf=l(P,G,I),P.lo=o(P),P.uo=u(P);var Oe=p(P,I);P.ln=P.med-Oe,P.un=P.med+Oe,Me=Math.min(Me,P.ln),_e=Math.max(_e,P.un),P.pts2=R.filter(Z),L.push(P)}b._extremes[x._id]=k.findExtremes(x,b.notched?ke.concat([Me,_e]):ke,{padded:!0})}return function(Be,Fe){if(_.isArrayOrTypedArray(Fe.selectedpoints))for(var Ge=0;Ge<Be.length;Ge++){for(var Ze=Be[Ge].pts||[],et={},ft=0;ft<Ze.length;ft++)et[Ze[ft].i]=ft;_.tagSelected(Ze,Fe,et)}}(L,b),L.length>0?(L[0].t={num:S[C],dPos:K,posLetter:w,valLetter:v,labels:{med:d(c,"median:"),min:d(c,"min:"),q1:d(c,"q1:"),q3:d(c,"q3:"),max:d(c,"max:"),mean:b.boxmean==="sd"||b.sizemode==="sd"?d(c,"mean ± σ:").replace("σ",b.sdmultiple===1?"σ":b.sdmultiple+"σ"):d(c,"mean:"),lf:d(c,"lower fence:"),uf:d(c,"upper fence:")}},S[C]++,L):[{t:{empty:!0}}]};var s={text:"tx",hovertext:"htx"};function t(c,b,g){for(var h in s)_.isArrayOrTypedArray(b[h])&&(Array.isArray(g)?_.isArrayOrTypedArray(b[h][g[0]])&&(c[s[h]]=b[h][g[0]][g[1]]):c[s[h]]=b[h][g])}function i(c,b){return c.v-b.v}function r(c){return c.v}function n(c,b,g){return g===0?c.q1:Math.min(c.q1,b[Math.min(_.findBin(2.5*c.q1-1.5*c.q3,b,!0)+1,g-1)])}function l(c,b,g){return g===0?c.q3:Math.max(c.q3,b[Math.max(_.findBin(2.5*c.q3-1.5*c.q1,b),0)])}function o(c){return 4*c.q1-3*c.q3}function u(c){return 4*c.q3-3*c.q1}function p(c,b){return b===0?0:1.57*(c.q3-c.q1)/Math.sqrt(b)}},37188:function(Y,O,e){var M=e(89298),k=e(71828),a=e(99082).getAxisGroup,_=["v","h"];function y(d,s,t,i){var r,n,l,o=s.calcdata,u=s._fullLayout,p=i._id,c=p.charAt(0),b=[],g=0;for(r=0;r<t.length;r++)for(l=o[t[r]],n=0;n<l.length;n++)b.push(i.c2l(l[n].pos,!0)),g+=(l[n].pts2||[]).length;if(b.length){var h=k.distinctVals(b);i.type!=="category"&&i.type!=="multicategory"||(h.minDiff=1);var x=h.minDiff/2;M.minDtick(i,h.minDiff,h.vals[0],!0);var v=u[d==="violin"?"_numViolins":"_numBoxes"],m=u[d+"mode"]==="group"&&v>1,w=1-u[d+"gap"],f=1-u[d+"groupgap"];for(r=0;r<t.length;r++){var S,T,E,L,C,P,R=(l=o[t[r]])[0].trace,G=l[0].t,I=R.width,H=R.side;if(I)S=T=L=I/2,E=0;else if(S=x,m){var N=a(u,i._id)+R.orientation,B=(u._alignmentOpts[N]||{})[R.alignmentgroup]||{},V=Object.keys(B.offsetGroups||{}).length,q=V||v;T=S*w*f/q,E=2*S*(((V?R._offsetIndex:G.num)+.5)/q-.5)*w,L=S*w/q}else T=S*w*f,E=0,L=S;G.dPos=S,G.bPos=E,G.bdPos=T,G.wHover=L;var te,$,K,Z,X,ee,ne=E+T,re=!!I;if(H==="positive"?(C=S*(I?1:.5),te=ne,P=te=E):H==="negative"?(C=te=E,P=S*(I?1:.5),$=ne):(C=P=S,te=$=ne),(R.boxpoints||R.points)&&g>0){var ae=R.pointpos,ue=R.jitter,pe=R.marker.size/2,ge=0;ae+ue>=0&&((ge=ne*(ae+ue))>C?(re=!0,X=pe,K=ge):ge>te&&(X=pe,K=C)),ge<=C&&(K=C);var we=0;ae-ue<=0&&((we=-ne*(ae-ue))>P?(re=!0,ee=pe,Z=we):we>$&&(ee=pe,Z=P)),we<=P&&(Z=P)}else K=C,Z=P;var me=new Array(l.length);for(n=0;n<l.length;n++)me[n]=l[n].pos;R._extremes[p]=M.findExtremes(i,me,{padded:re,vpadminus:Z,vpadplus:K,vpadLinearized:!0,ppadminus:{x:ee,y:X}[c],ppadplus:{x:X,y:ee}[c]})}}}Y.exports={crossTraceCalc:function(d,s){for(var t=d.calcdata,i=s.xaxis,r=s.yaxis,n=0;n<_.length;n++){for(var l=_[n],o=l==="h"?r:i,u=[],p=0;p<t.length;p++){var c=t[p],b=c[0].t,g=c[0].trace;g.visible!==!0||g.type!=="box"&&g.type!=="candlestick"||b.empty||(g.orientation||"v")!==l||g.xaxis!==i._id||g.yaxis!==r._id||u.push(p)}y("box",d,u,o)}},setPositionOffset:y}},36411:function(Y,O,e){var M=e(71828),k=e(73972),a=e(7901),_=e(73927),y=e(26125),d=e(4322),s=e(53522);function t(r,n,l,o){function u(H){var N=0;return H&&H.length&&(N+=1,M.isArrayOrTypedArray(H[0])&&H[0].length&&(N+=1)),N}function p(H){return M.validate(r[H],s[H])}var c,b=l("y"),g=l("x");if(n.type==="box"){var h=l("q1"),x=l("median"),v=l("q3");n._hasPreCompStats=h&&h.length&&x&&x.length&&v&&v.length,c=Math.min(M.minRowLength(h),M.minRowLength(x),M.minRowLength(v))}var m,w,f=u(b),S=u(g),T=f&&M.minRowLength(b),E=S&&M.minRowLength(g),L=o.calendar,C={autotypenumbers:o.autotypenumbers};if(n._hasPreCompStats)switch(String(S)+String(f)){case"00":var P=p("x0")||p("dx");m=!p("y0")&&!p("dy")||P?"v":"h",w=c;break;case"10":m="v",w=Math.min(c,E);break;case"20":m="h",w=Math.min(c,g.length);break;case"01":m="h",w=Math.min(c,T);break;case"02":m="v",w=Math.min(c,b.length);break;case"12":m="v",w=Math.min(c,E,b.length);break;case"21":m="h",w=Math.min(c,g.length,T);break;case"11":w=0;break;case"22":var R,G=!1;for(R=0;R<g.length;R++)if(d(g[R],L,C)==="category"){G=!0;break}if(G)m="v",w=Math.min(c,E,b.length);else{for(R=0;R<b.length;R++)if(d(b[R],L,C)==="category"){G=!0;break}G?(m="h",w=Math.min(c,g.length,T)):(m="v",w=Math.min(c,E,b.length))}}else f>0?(m="v",w=S>0?Math.min(E,T):Math.min(T)):S>0?(m="h",w=Math.min(E)):w=0;if(w){n._length=w;var I=l("orientation",m);n._hasPreCompStats?I==="v"&&S===0?(l("x0",0),l("dx",1)):I==="h"&&f===0&&(l("y0",0),l("dy",1)):I==="v"&&S===0?l("x0"):I==="h"&&f===0&&l("y0"),k.getComponentMethod("calendars","handleTraceDefaults")(r,n,["x","y"],o)}else n.visible=!1}function i(r,n,l,o){var u=o.prefix,p=M.coerce2(r,n,s,"marker.outliercolor"),c=l("marker.line.outliercolor"),b="outliers";n._hasPreCompStats?b="all":(p||c)&&(b="suspectedoutliers");var g=l(u+"points",b);g?(l("jitter",g==="all"?.3:0),l("pointpos",g==="all"?-1.5:0),l("marker.symbol"),l("marker.opacity"),l("marker.size"),l("marker.angle"),l("marker.color",n.line.color),l("marker.line.color"),l("marker.line.width"),g==="suspectedoutliers"&&(l("marker.line.outliercolor",n.marker.color),l("marker.line.outlierwidth")),l("selected.marker.color"),l("unselected.marker.color"),l("selected.marker.size"),l("unselected.marker.size"),l("text"),l("hovertext")):delete n.marker;var h=l("hoveron");h!=="all"&&h.indexOf("points")===-1||l("hovertemplate"),M.coerceSelectionMarkerOpacity(n,l)}Y.exports={supplyDefaults:function(r,n,l,o){function u(w,f){return M.coerce(r,n,s,w,f)}if(t(r,n,u,o),n.visible!==!1){_(r,n,o,u),u("xhoverformat"),u("yhoverformat");var p=n._hasPreCompStats;p&&(u("lowerfence"),u("upperfence")),u("line.color",(r.marker||{}).color||l),u("line.width"),u("fillcolor",a.addOpacity(n.line.color,.5));var c=!1;if(p){var b=u("mean"),g=u("sd");b&&b.length&&(c=!0,g&&g.length&&(c="sd"))}u("whiskerwidth");var h,x=u("sizemode");x==="quartiles"&&(h=u("boxmean",c)),u("showwhiskers",x==="quartiles"),x!=="sd"&&h!=="sd"||u("sdmultiple"),u("width"),u("quartilemethod");var v=!1;if(p){var m=u("notchspan");m&&m.length&&(v=!0)}else M.validate(r.notchwidth,s.notchwidth)&&(v=!0);u("notched",v)&&u("notchwidth"),i(r,n,u,{prefix:"box"})}},crossTraceDefaults:function(r,n){var l,o;function u(b){return M.coerce(o._input,o,s,b)}for(var p=0;p<r.length;p++){var c=(o=r[p]).type;c!=="box"&&c!=="violin"||(l=o._input,n[c+"mode"]==="group"&&y(l,o,n,u))}},handleSampleDefaults:t,handlePointsDefaults:i}},74907:function(Y){Y.exports=function(O,e){return e.hoverOnBox&&(O.hoverOnBox=e.hoverOnBox),"xVal"in e&&(O.x=e.xVal),"yVal"in e&&(O.y=e.yVal),e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),O}},41868:function(Y,O,e){var M=e(89298),k=e(71828),a=e(30211),_=e(7901),y=k.fillText;function d(t,i,r,n){var l,o,u,p,c,b,g,h,x,v,m,w,f,S,T=t.cd,E=t.xa,L=t.ya,C=T[0].trace,P=T[0].t,R=C.type==="violin",G=P.bdPos,I=P.wHover,H=function(Se){return u.c2l(Se.pos)+P.bPos-u.c2l(b)};R&&C.side!=="both"?(C.side==="positive"&&(x=function(Se){var ke=H(Se);return a.inbox(ke,ke+I,v)},w=G,f=0),C.side==="negative"&&(x=function(Se){var ke=H(Se);return a.inbox(ke-I,ke,v)},w=0,f=G)):(x=function(Se){var ke=H(Se);return a.inbox(ke-I,ke+I,v)},w=f=G),S=R?function(Se){return a.inbox(Se.span[0]-c,Se.span[1]-c,v)}:function(Se){return a.inbox(Se.min-c,Se.max-c,v)},C.orientation==="h"?(c=i,b=r,g=S,h=x,l="y",u=L,o="x",p=E):(c=r,b=i,g=x,h=S,l="x",u=E,o="y",p=L);var N=Math.min(1,G/Math.abs(u.r2c(u.range[1])-u.r2c(u.range[0])));function B(Se){return(g(Se)+h(Se))/2}v=t.maxHoverDistance-N,m=t.maxSpikeDistance-N;var V=a.getDistanceFunction(n,g,h,B);if(a.getClosest(T,V,t),t.index===!1)return[];var q=T[t.index],te=C.line.color,$=(C.marker||{}).color;_.opacity(te)&&C.line.width?t.color=te:_.opacity($)&&C.boxpoints?t.color=$:t.color=C.fillcolor,t[l+"0"]=u.c2p(q.pos+P.bPos-f,!0),t[l+"1"]=u.c2p(q.pos+P.bPos+w,!0),t[l+"LabelVal"]=q.orig_p!==void 0?q.orig_p:q.pos;var K=l+"Spike";t.spikeDistance=B(q)*m/v,t[K]=u.c2p(q.pos,!0);var Z=C.boxmean||C.sizemode==="sd"||(C.meanline||{}).visible,X=C.boxpoints||C.points,ee=X&&Z?["max","uf","q3","med","mean","q1","lf","min"]:X&&!Z?["max","uf","q3","med","q1","lf","min"]:!X&&Z?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],ne=p.range[1]<p.range[0];C.orientation===(ne?"v":"h")&&ee.reverse();for(var re=t.spikeDistance,ae=t[K],ue=[],pe=0;pe<ee.length;pe++){var ge=ee[pe];if(ge in q){var we=q[ge],me=p.c2p(we,!0),ve=k.extendFlat({},t);ve.attr=ge,ve[o+"0"]=ve[o+"1"]=me,ve[o+"LabelVal"]=we,ve[o+"Label"]=(P.labels?P.labels[ge]+" ":"")+M.hoverLabelText(p,we,C[o+"hoverformat"]),ve.hoverOnBox=!0,ge!=="mean"||!("sd"in q)||C.boxmean!=="sd"&&C.sizemode!=="sd"||(ve[o+"err"]=q.sd),ve.hovertemplate=!1,ue.push(ve)}}t.name="",t.spikeDistance=void 0,t[K]=void 0;for(var Ie=0;Ie<ue.length;Ie++)ue[Ie].attr!=="med"?(ue[Ie].name="",ue[Ie].spikeDistance=void 0,ue[Ie][K]=void 0):(ue[Ie].spikeDistance=re,ue[Ie][K]=ae);return ue}function s(t,i,r){for(var n,l,o,u=t.cd,p=t.xa,c=t.ya,b=u[0].trace,g=p.c2p(i),h=c.c2p(r),x=a.quadrature(function(R){var G=Math.max(3,R.mrc||0);return Math.max(Math.abs(p.c2p(R.x)-g)-G,1-3/G)},function(R){var G=Math.max(3,R.mrc||0);return Math.max(Math.abs(c.c2p(R.y)-h)-G,1-3/G)}),v=!1,m=0;m<u.length;m++){l=u[m];for(var w=0;w<(l.pts||[]).length;w++){var f=x(o=l.pts[w]);f<=t.distance&&(t.distance=f,v=[m,w])}}if(!v)return!1;o=(l=u[v[0]]).pts[v[1]];var S=p.c2p(o.x,!0),T=c.c2p(o.y,!0),E=o.mrc||1;n=k.extendFlat({},t,{index:o.i,color:(b.marker||{}).color,name:b.name,x0:S-E,x1:S+E,y0:T-E,y1:T+E,spikeDistance:t.distance,hovertemplate:b.hovertemplate});var L,C=l.orig_p,P=C!==void 0?C:l.pos;return b.orientation==="h"?(L=c,n.xLabelVal=o.x,n.yLabelVal=P):(L=p,n.xLabelVal=P,n.yLabelVal=o.y),n[L._id.charAt(0)+"Spike"]=L.c2p(l.pos,!0),y(o,b,n),n}Y.exports={hoverPoints:function(t,i,r,n){var l,o=t.cd[0].trace.hoveron,u=[];return o.indexOf("boxes")!==-1&&(u=u.concat(d(t,i,r,n))),o.indexOf("points")!==-1&&(l=s(t,i,r)),n==="closest"?l?[l]:u:(l&&u.push(l),u)},hoverOnBoxes:d,hoverOnPoints:s}},83832:function(Y,O,e){Y.exports={attributes:e(53522),layoutAttributes:e(40094),supplyDefaults:e(36411).supplyDefaults,crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(4199).supplyLayoutDefaults,calc:e(48518),crossTraceCalc:e(37188).crossTraceCalc,plot:e(86047).plot,style:e(58063).style,styleOnSelect:e(58063).styleOnSelect,hoverPoints:e(41868).hoverPoints,eventData:e(74907),selectPoints:e(24626),moduleType:"trace",name:"box",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(Y){Y.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(Y,O,e){var M=e(73972),k=e(71828),a=e(40094);function _(y,d,s,t,i){for(var r=i+"Layout",n=!1,l=0;l<s.length;l++){var o=s[l];if(M.traceIs(o,r)){n=!0;break}}n&&(t(i+"mode"),t(i+"gap"),t(i+"groupgap"))}Y.exports={supplyLayoutDefaults:function(y,d,s){_(0,0,s,function(t,i){return k.coerce(y,d,a,t,i)},"box")},_supply:_}},86047:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424);function _(s,t,i,r,n){var l,o,u=i.orientation==="h",p=t.val,c=t.pos,b=!!c.rangebreaks,g=r.bPos,h=r.wdPos||0,x=r.bPosPxOffset||0,v=i.whiskerwidth||0,m=i.showwhiskers!==!1,w=i.notched||!1,f=w?1-2*i.notchwidth:1;Array.isArray(r.bdPos)?(l=r.bdPos[0],o=r.bdPos[1]):(l=r.bdPos,o=r.bdPos);var S=s.selectAll("path.box").data(i.type!=="violin"||i.box.visible?k.identity:[]);S.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","box"),S.exit().remove(),S.each(function(T){if(T.empty)return M.select(this).attr("d","M0,0Z");var E=c.c2l(T.pos+g,!0),L=c.l2p(E-l)+x,C=c.l2p(E+o)+x,P=b?(L+C)/2:c.l2p(E)+x,R=i.whiskerwidth,G=b?L*R+(1-R)*P:c.l2p(E-h)+x,I=b?C*R+(1-R)*P:c.l2p(E+h)+x,H=c.l2p(E-l*f)+x,N=c.l2p(E+o*f)+x,B=i.sizemode==="sd",V=p.c2p(B?T.mean-T.sd:T.q1,!0),q=B?p.c2p(T.mean+T.sd,!0):p.c2p(T.q3,!0),te=k.constrain(B?p.c2p(T.mean,!0):p.c2p(T.med,!0),Math.min(V,q)+1,Math.max(V,q)-1),$=T.lf===void 0||i.boxpoints===!1||B,K=p.c2p($?T.min:T.lf,!0),Z=p.c2p($?T.max:T.uf,!0),X=p.c2p(T.ln,!0),ee=p.c2p(T.un,!0);u?M.select(this).attr("d","M"+te+","+H+"V"+N+"M"+V+","+L+"V"+C+(w?"H"+X+"L"+te+","+N+"L"+ee+","+C:"")+"H"+q+"V"+L+(w?"H"+ee+"L"+te+","+H+"L"+X+","+L:"")+"Z"+(m?"M"+V+","+P+"H"+K+"M"+q+","+P+"H"+Z+(v===0?"":"M"+K+","+G+"V"+I+"M"+Z+","+G+"V"+I):"")):M.select(this).attr("d","M"+H+","+te+"H"+N+"M"+L+","+V+"H"+C+(w?"V"+X+"L"+N+","+te+"L"+C+","+ee:"")+"V"+q+"H"+L+(w?"V"+ee+"L"+H+","+te+"L"+L+","+X:"")+"Z"+(m?"M"+P+","+V+"V"+K+"M"+P+","+q+"V"+Z+(v===0?"":"M"+G+","+K+"H"+I+"M"+G+","+Z+"H"+I):""))})}function y(s,t,i,r){var n=t.x,l=t.y,o=r.bdPos,u=r.bPos,p=i.boxpoints||i.points;k.seedPseudoRandom();var c=s.selectAll("g.points").data(p?function(g){return g.forEach(function(h){h.t=r,h.trace=i}),g}:[]);c.enter().append("g").attr("class","points"),c.exit().remove();var b=c.selectAll("path").data(function(g){var h,x,v=g.pts2,m=Math.max((g.max-g.min)/10,g.q3-g.q1),w=1e-9*m,f=.01*m,S=[],T=0;if(i.jitter){if(m===0)for(T=1,S=new Array(v.length),h=0;h<v.length;h++)S[h]=1;else for(h=0;h<v.length;h++){var E=Math.max(0,h-5),L=v[E].v,C=Math.min(v.length-1,h+5),P=v[C].v;p!=="all"&&(v[h].v<g.lf?P=Math.min(P,g.lf):L=Math.max(L,g.uf));var R=Math.sqrt(f*(C-E)/(P-L+w))||0;R=k.constrain(Math.abs(R),0,1),S.push(R),T=Math.max(R,T)}x=2*i.jitter/(T||1)}for(h=0;h<v.length;h++){var G=v[h],I=G.v,H=i.jitter?x*S[h]*(k.pseudoRandom()-.5):0,N=g.pos+u+o*(i.pointpos+H);i.orientation==="h"?(G.y=N,G.x=I):(G.x=N,G.y=I),p==="suspectedoutliers"&&I<g.uo&&I>g.lo&&(G.so=!0)}return v});b.enter().append("path").classed("point",!0),b.exit().remove(),b.call(a.translatePoints,n,l)}function d(s,t,i,r){var n,l,o=t.val,u=t.pos,p=!!u.rangebreaks,c=r.bPos,b=r.bPosPxOffset||0,g=i.boxmean||(i.meanline||{}).visible;Array.isArray(r.bdPos)?(n=r.bdPos[0],l=r.bdPos[1]):(n=r.bdPos,l=r.bdPos);var h=s.selectAll("path.mean").data(i.type==="box"&&i.boxmean||i.type==="violin"&&i.box.visible&&i.meanline.visible?k.identity:[]);h.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),h.exit().remove(),h.each(function(x){var v=u.c2l(x.pos+c,!0),m=u.l2p(v-n)+b,w=u.l2p(v+l)+b,f=p?(m+w)/2:u.l2p(v)+b,S=o.c2p(x.mean,!0),T=o.c2p(x.mean-x.sd,!0),E=o.c2p(x.mean+x.sd,!0);i.orientation==="h"?M.select(this).attr("d","M"+S+","+m+"V"+w+(g==="sd"?"m0,0L"+T+","+f+"L"+S+","+m+"L"+E+","+f+"Z":"")):M.select(this).attr("d","M"+m+","+S+"H"+w+(g==="sd"?"m0,0L"+f+","+T+"L"+m+","+S+"L"+f+","+E+"Z":""))})}Y.exports={plot:function(s,t,i,r){var n=s._context.staticPlot,l=t.xaxis,o=t.yaxis;k.makeTraceGroups(r,i,"trace boxes").each(function(u){var p,c,b=M.select(this),g=u[0],h=g.t,x=g.trace;h.wdPos=h.bdPos*x.whiskerwidth,x.visible!==!0||h.empty?b.remove():(x.orientation==="h"?(p=o,c=l):(p=l,c=o),_(b,{pos:p,val:c},x,h,n),y(b,{x:l,y:o},x,h),d(b,{pos:p,val:c},x,h))})},plotBoxAndWhiskers:_,plotPoints:y,plotBoxMean:d}},24626:function(Y){Y.exports=function(O,e){var M,k,a=O.cd,_=O.xaxis,y=O.yaxis,d=[];if(e===!1)for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++)a[M].pts[k].selected=0;else for(M=0;M<a.length;M++)for(k=0;k<(a[M].pts||[]).length;k++){var s=a[M].pts[k],t=_.c2p(s.x),i=y.c2p(s.y);e.contains([t,i],null,s.i,O)?(d.push({pointNumber:s.i,x:_.c2d(s.x),y:y.c2d(s.y)}),s.selected=1):s.selected=0}return d}},58063:function(Y,O,e){var M=e(39898),k=e(7901),a=e(91424);Y.exports={style:function(_,y,d){var s=d||M.select(_).selectAll("g.trace.boxes");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=M.select(this),r=t[0].trace,n=r.line.width;function l(p,c,b,g){p.style("stroke-width",c+"px").call(k.stroke,b).call(k.fill,g)}var o=i.selectAll("path.box");if(r.type==="candlestick")o.each(function(p){if(!p.empty){var c=M.select(this),b=r[p.dir];l(c,b.line.width,b.line.color,b.fillcolor),c.style("opacity",r.selectedpoints&&!p.selected?.3:1)}});else{l(o,n,r.line.color,r.fillcolor),i.selectAll("path.mean").style({"stroke-width":n,"stroke-dasharray":2*n+"px,"+n+"px"}).call(k.stroke,r.line.color);var u=i.selectAll("path.point");a.pointStyle(u,r,_)}})},styleOnSelect:function(_,y,d){var s=y[0].trace,t=d.selectAll("path.point");s.selectedpoints?a.selectedPointStyle(t,s):a.pointStyle(t,s,_)}}},75343:function(Y,O,e){var M=e(71828).extendFlat,k=e(12663).axisHoverFormat,a=e(2522),_=e(53522);function y(d){return{line:{color:M({},_.line.color,{dflt:d}),width:_.line.width,editType:"style"},fillcolor:_.fillcolor,editType:"style"}}Y.exports={xperiod:a.xperiod,xperiod0:a.xperiod0,xperiodalignment:a.xperiodalignment,xhoverformat:k("x"),yhoverformat:k("y"),x:a.x,open:a.open,high:a.high,low:a.low,close:a.close,line:{width:M({},_.line.width,{}),editType:"style"},increasing:y(a.increasing.line.color.dflt),decreasing:y(a.decreasing.line.color.dflt),text:a.text,hovertext:a.hovertext,whiskerwidth:M({},_.whiskerwidth,{dflt:0}),hoverlabel:a.hoverlabel}},41197:function(Y,O,e){var M=e(71828),k=e(89298),a=e(42973),_=e(3485).calcCommon;function y(d,s,t,i){return{min:t,q1:Math.min(d,i),med:i,q3:Math.max(d,i),max:s}}Y.exports=function(d,s){var t=d._fullLayout,i=k.getFromId(d,s.xaxis),r=k.getFromId(d,s.yaxis),n=i.makeCalcdata(s,"x"),l=a(s,i,"x",n).vals,o=_(d,s,n,l,r,y);return o.length?(M.extendFlat(o[0].t,{num:t._numBoxes,dPos:M.distinctVals(l).minDiff/2,posLetter:"x",valLetter:"y"}),t._numBoxes++,o):[{t:{empty:!0}}]}},1026:function(Y,O,e){var M=e(71828),k=e(7901),a=e(14555),_=e(73927),y=e(75343);function d(s,t,i,r){var n=i(r+".line.color");i(r+".line.width",t.line.width),i(r+".fillcolor",k.addOpacity(n,.5))}Y.exports=function(s,t,i,r){function n(l,o){return M.coerce(s,t,y,l,o)}a(s,t,n,r)?(_(s,t,r,n,{x:!0}),n("xhoverformat"),n("yhoverformat"),n("line.width"),d(0,t,n,"increasing"),d(0,t,n,"decreasing"),n("text"),n("hovertext"),n("whiskerwidth"),r._requestRangeslider[t.xaxis]=!0):t.visible=!1}},91815:function(Y,O,e){Y.exports={moduleType:"trace",name:"candlestick",basePlotModule:e(93612),categories:["cartesian","svg","showLegend","candlestick","boxLayout"],meta:{},attributes:e(75343),layoutAttributes:e(40094),supplyLayoutDefaults:e(4199).supplyLayoutDefaults,crossTraceCalc:e(37188).crossTraceCalc,supplyDefaults:e(1026),calc:e(41197),plot:e(86047).plot,layerName:"boxlayer",style:e(58063).style,hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},13145:function(Y,O,e){var M=e(11500),k=e(44467);Y.exports=function(a,_,y,d,s){d("a")||(d("da"),d("a0")),d("b")||(d("db"),d("b0")),function(t,i,r,n){["aaxis","baxis"].forEach(function(l){var o=l.charAt(0),u=t[l]||{},p=k.newContainer(i,l),c={noTicklabelstep:!0,tickfont:"x",id:o+"axis",letter:o,font:i.font,name:l,data:t[o],calendar:i.calendar,dfltColor:n,bgColor:r.paper_bgcolor,autotypenumbersDflt:r.autotypenumbers,fullLayout:r};M(u,p,c),p._categories=p._categories||[],t[l]||u.type==="-"||(t[l]={type:u.type})})}(a,_,y,s)}},402:function(Y,O,e){var M=e(71828).isArrayOrTypedArray;function k(a,_){if(!M(a)||_>=10)return null;for(var y=1/0,d=-1/0,s=a.length,t=0;t<s;t++){var i=a[t];if(M(i)){var r=k(i,_+1);r&&(y=Math.min(r[0],y),d=Math.max(r[1],d))}else y=Math.min(i,y),d=Math.max(i,d)}return[y,d]}Y.exports=function(a){return k(a,0)}},99798:function(Y,O,e){var M=e(41940),k=e(1928),a=e(22399),_=M({editType:"calc"});_.family.dflt='"Open Sans", verdana, arial, sans-serif',_.size.dflt=12,_.color.dflt=a.defaultLine,Y.exports={carpet:{valType:"string",editType:"calc"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},a:{valType:"data_array",editType:"calc"},a0:{valType:"number",dflt:0,editType:"calc"},da:{valType:"number",dflt:1,editType:"calc"},b:{valType:"data_array",editType:"calc"},b0:{valType:"number",dflt:0,editType:"calc"},db:{valType:"number",dflt:1,editType:"calc"},cheaterslope:{valType:"number",dflt:1,editType:"calc"},aaxis:k,baxis:k,font:_,color:{valType:"color",dflt:a.defaultLine,editType:"plot"},transforms:void 0}},4536:function(Y,O,e){var M=e(71828).isArrayOrTypedArray;Y.exports=function(k,a,_,y){var d,s,t,i,r,n,l,o,u,p,c,b,g,h=M(_)?"a":"b",x=(h==="a"?k.aaxis:k.baxis).smoothing,v=h==="a"?k.a2i:k.b2j,m=h==="a"?_:y,w=h==="a"?y:_,f=h==="a"?a.a.length:a.b.length,S=h==="a"?a.b.length:a.a.length,T=Math.floor(h==="a"?k.b2j(w):k.a2i(w)),E=h==="a"?function(te){return k.evalxy([],te,T)}:function(te){return k.evalxy([],T,te)};x&&(t=Math.max(0,Math.min(S-2,T)),i=T-t,s=h==="a"?function(te,$){return k.dxydi([],te,t,$,i)}:function(te,$){return k.dxydj([],t,te,i,$)});var L=v(m[0]),C=v(m[1]),P=L<C?1:-1,R=1e-8*(C-L),G=P>0?Math.floor:Math.ceil,I=P>0?Math.ceil:Math.floor,H=P>0?Math.min:Math.max,N=P>0?Math.max:Math.min,B=G(L+R),V=I(C-R),q=[[l=E(L)]];for(d=B;d*P<V*P;d+=P)r=[],c=N(L,d),g=(b=H(C,d+P))-c,n=Math.max(0,Math.min(f-2,Math.floor(.5*(c+b)))),o=E(b),x&&(u=s(n,c-n),p=s(n,b-n),r.push([l[0]+u[0]/3*g,l[1]+u[1]/3*g]),r.push([o[0]-p[0]/3*g,o[1]-p[1]/3*g])),r.push(o),q.push(r),l=o;return q}},1928:function(Y,O,e){var M=e(41940),k=e(22399),a=e(13838),_=e(12663).descriptionWithDates,y=e(30962).overrideAll,d=e(79952).P,s=e(1426).extendFlat;Y.exports={color:{valType:"color",editType:"calc"},smoothing:{valType:"number",dflt:1,min:0,max:1.3,editType:"calc"},title:{text:{valType:"string",dflt:"",editType:"calc"},font:M({editType:"calc"}),offset:{valType:"number",dflt:10,editType:"calc"},editType:"calc"},type:{valType:"enumerated",values:["-","linear","date","category"],dflt:"-",editType:"calc"},autotypenumbers:a.autotypenumbers,autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc"},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",editType:"calc",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}]},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},cheatertype:{valType:"enumerated",values:["index","value"],dflt:"value",editType:"calc"},tickmode:{valType:"enumerated",values:["linear","array"],dflt:"array",editType:"calc"},nticks:{valType:"integer",min:0,dflt:0,editType:"calc"},tickvals:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},showticklabels:{valType:"enumerated",values:["start","end","both","none"],dflt:"start",editType:"calc"},labelalias:s({},a.labelalias,{editType:"calc"}),tickfont:M({editType:"calc"}),tickangle:{valType:"angle",dflt:"auto",editType:"calc"},tickprefix:{valType:"string",dflt:"",editType:"calc"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},ticksuffix:{valType:"string",dflt:"",editType:"calc"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"calc"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"calc"},minexponent:{valType:"number",dflt:3,min:0,editType:"calc"},separatethousands:{valType:"boolean",dflt:!1,editType:"calc"},tickformat:{valType:"string",dflt:"",editType:"calc",description:_("tick label")},tickformatstops:y(a.tickformatstops,"calc","from-root"),categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},labelpadding:{valType:"integer",dflt:10,editType:"calc"},labelprefix:{valType:"string",editType:"calc"},labelsuffix:{valType:"string",dflt:"",editType:"calc"},showline:{valType:"boolean",dflt:!1,editType:"calc"},linecolor:{valType:"color",dflt:k.defaultLine,editType:"calc"},linewidth:{valType:"number",min:0,dflt:1,editType:"calc"},gridcolor:{valType:"color",editType:"calc"},gridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},griddash:s({},d,{editType:"calc"}),showgrid:{valType:"boolean",dflt:!0,editType:"calc"},minorgridcount:{valType:"integer",min:0,dflt:0,editType:"calc"},minorgridwidth:{valType:"number",min:0,dflt:1,editType:"calc"},minorgriddash:s({},d,{editType:"calc"}),minorgridcolor:{valType:"color",dflt:k.lightLine,editType:"calc"},startline:{valType:"boolean",editType:"calc"},startlinecolor:{valType:"color",editType:"calc"},startlinewidth:{valType:"number",dflt:1,editType:"calc"},endline:{valType:"boolean",editType:"calc"},endlinewidth:{valType:"number",dflt:1,editType:"calc"},endlinecolor:{valType:"color",editType:"calc"},tick0:{valType:"number",min:0,dflt:0,editType:"calc"},dtick:{valType:"number",min:0,dflt:1,editType:"calc"},arraytick0:{valType:"integer",min:0,dflt:0,editType:"calc"},arraydtick:{valType:"integer",min:1,dflt:1,editType:"calc"},_deprecated:{title:{valType:"string",editType:"calc"},titlefont:M({editType:"calc"}),titleoffset:{valType:"number",dflt:10,editType:"calc"}},editType:"calc"}},11500:function(Y,O,e){var M=e(99798),k=e(7901).addOpacity,a=e(73972),_=e(71828),y=e(26218),d=e(96115),s=e(89426),t=e(15258),i=e(21994),r=e(4322);Y.exports=function(n,l,o){var u=o.letter,p=o.font||{},c=M[u+"axis"];function b(P,R){return _.coerce(n,l,c,P,R)}function g(P,R){return _.coerce2(n,l,c,P,R)}o.name&&(l._name=o.name,l._id=o.name),b("autotypenumbers",o.autotypenumbersDflt);var h=b("type");h==="-"&&(o.data&&function(P,R){if(P.type==="-"){var G=P._id.charAt(0),I=P[G+"calendar"];P.type=r(R,I,{autotypenumbers:P.autotypenumbers})}}(l,o.data),l.type==="-"?l.type="linear":h=n.type=l.type),b("smoothing"),b("cheatertype"),b("showticklabels"),b("labelprefix",u+" = "),b("labelsuffix"),b("showtickprefix"),b("showticksuffix"),b("separatethousands"),b("tickformat"),b("exponentformat"),b("minexponent"),b("showexponent"),b("categoryorder"),b("tickmode"),b("tickvals"),b("ticktext"),b("tick0"),b("dtick"),l.tickmode==="array"&&(b("arraytick0"),b("arraydtick")),b("labelpadding"),l._hovertitle=u,h==="date"&&a.getComponentMethod("calendars","handleDefaults")(n,l,"calendar",o.calendar),i(l,o.fullLayout),l.c2p=_.identity;var x=b("color",o.dfltColor),v=x===n.color?x:p.color;b("title.text")&&(_.coerceFont(b,"title.font",{family:p.family,size:_.bigFont(p.size),color:v}),b("title.offset")),b("tickangle"),b("autorange",!l.isValidRange(n.range))&&b("rangemode"),b("range"),l.cleanRange(),b("fixedrange"),y(n,l,b,h),s(n,l,b,h,o),d(n,l,b,h,o),t(n,l,b,{data:o.data,dataAttr:u});var m=g("gridcolor",k(x,.3)),w=g("gridwidth"),f=g("griddash"),S=b("showgrid");S||(delete l.gridcolor,delete l.gridwidth,delete l.griddash);var T=g("startlinecolor",x),E=g("startlinewidth",w);b("startline",l.showgrid||!!T||!!E)||(delete l.startlinecolor,delete l.startlinewidth);var L=g("endlinecolor",x),C=g("endlinewidth",w);return b("endline",l.showgrid||!!L||!!C)||(delete l.endlinecolor,delete l.endlinewidth),S?(b("minorgridcount"),b("minorgridwidth",w),b("minorgriddash",f),b("minorgridcolor",k(m,.06)),l.minorgridcount||(delete l.minorgridwidth,delete l.minorgriddash,delete l.minorgridcolor)):(delete l.gridcolor,delete l.gridwidth,delete l.griddash),l.showticklabels==="none"&&(delete l.tickfont,delete l.tickangle,delete l.showexponent,delete l.exponentformat,delete l.minexponent,delete l.tickformat,delete l.showticksuffix,delete l.showtickprefix),l.showticksuffix||delete l.ticksuffix,l.showtickprefix||delete l.tickprefix,b("tickmode"),l}},25281:function(Y,O,e){var M=e(89298),k=e(71828).isArray1D,a=e(53824),_=e(402),y=e(20347),d=e(83311),s=e(44807),t=e(4742),i=e(72505),r=e(68296),n=e(11435);Y.exports=function(l,o){var u=M.getFromId(l,o.xaxis),p=M.getFromId(l,o.yaxis),c=o.aaxis,b=o.baxis,g=o.x,h=o.y,x=[];g&&k(g)&&x.push("x"),h&&k(h)&&x.push("y"),x.length&&r(o,c,b,"a","b",x);var v=o._a=o._a||o.a,m=o._b=o._b||o.b;g=o._x||o.x,h=o._y||o.y;var w={};if(o._cheater){var f=c.cheatertype==="index"?v.length:v,S=b.cheatertype==="index"?m.length:m;g=a(f,S,o.cheaterslope)}o._x=g=t(g),o._y=h=t(h),i(g,v,m),i(h,v,m),n(o),o.setScale();var T=_(g),E=_(h),L=.5*(T[1]-T[0]),C=.5*(T[1]+T[0]),P=.5*(E[1]-E[0]),R=.5*(E[1]+E[0]),G=1.3;return T=[C-L*G,C+L*G],E=[R-P*G,R+P*G],o._extremes[u._id]=M.findExtremes(u,T,{padded:!0}),o._extremes[p._id]=M.findExtremes(p,E,{padded:!0}),y(o,"a","b"),y(o,"b","a"),d(o,c),d(o,b),w.clipsegments=s(o._xctrl,o._yctrl,c,b),w.x=g,w.y=h,w.a=v,w.b=m,[w]}},44807:function(Y){Y.exports=function(O,e,M,k){var a,_,y,d=[],s=!!M.smoothing,t=!!k.smoothing,i=O[0].length-1,r=O.length-1;for(a=0,_=[],y=[];a<=i;a++)_[a]=O[0][a],y[a]=e[0][a];for(d.push({x:_,y,bicubic:s}),a=0,_=[],y=[];a<=r;a++)_[a]=O[a][i],y[a]=e[a][i];for(d.push({x:_,y,bicubic:t}),a=i,_=[],y=[];a>=0;a--)_[i-a]=O[r][a],y[i-a]=e[r][a];for(d.push({x:_,y,bicubic:s}),a=r,_=[],y=[];a>=0;a--)_[r-a]=O[a][0],y[r-a]=e[a][0];return d.push({x:_,y,bicubic:t}),d}},20347:function(Y,O,e){var M=e(89298),k=e(1426).extendFlat;Y.exports=function(a,_,y){var d,s,t,i,r,n,l,o,u,p,c,b,g,h,x=a["_"+_],v=a[_+"axis"],m=v._gridlines=[],w=v._minorgridlines=[],f=v._boundarylines=[],S=a["_"+y],T=a[y+"axis"];v.tickmode==="array"&&(v.tickvals=x.slice());var E=a._xctrl,L=a._yctrl,C=E[0].length,P=E.length,R=a._a.length,G=a._b.length;M.prepTicks(v),v.tickmode==="array"&&delete v.tickvals;var I=v.smoothing?3:1;function H(B){var V,q,te,$,K,Z,X,ee,ne,re,ae,ue,pe=[],ge=[],we={};if(_==="b")for(q=a.b2j(B),te=Math.floor(Math.max(0,Math.min(G-2,q))),$=q-te,we.length=G,we.crossLength=R,we.xy=function(me){return a.evalxy([],me,q)},we.dxy=function(me,ve){return a.dxydi([],me,te,ve,$)},V=0;V<R;V++)Z=Math.min(R-2,V),X=V-Z,ee=a.evalxy([],V,q),T.smoothing&&V>0&&(ne=a.dxydi([],V-1,te,0,$),pe.push(K[0]+ne[0]/3),ge.push(K[1]+ne[1]/3),re=a.dxydi([],V-1,te,1,$),pe.push(ee[0]-re[0]/3),ge.push(ee[1]-re[1]/3)),pe.push(ee[0]),ge.push(ee[1]),K=ee;else for(V=a.a2i(B),Z=Math.floor(Math.max(0,Math.min(R-2,V))),X=V-Z,we.length=R,we.crossLength=G,we.xy=function(me){return a.evalxy([],V,me)},we.dxy=function(me,ve){return a.dxydj([],Z,me,X,ve)},q=0;q<G;q++)te=Math.min(G-2,q),$=q-te,ee=a.evalxy([],V,q),T.smoothing&&q>0&&(ae=a.dxydj([],Z,q-1,X,0),pe.push(K[0]+ae[0]/3),ge.push(K[1]+ae[1]/3),ue=a.dxydj([],Z,q-1,X,1),pe.push(ee[0]-ue[0]/3),ge.push(ee[1]-ue[1]/3)),pe.push(ee[0]),ge.push(ee[1]),K=ee;return we.axisLetter=_,we.axis=v,we.crossAxis=T,we.value=B,we.constvar=y,we.index=o,we.x=pe,we.y=ge,we.smoothing=T.smoothing,we}function N(B){var V,q,te,$,K,Z=[],X=[],ee={};if(ee.length=x.length,ee.crossLength=S.length,_==="b")for(te=Math.max(0,Math.min(G-2,B)),K=Math.min(1,Math.max(0,B-te)),ee.xy=function(ne){return a.evalxy([],ne,B)},ee.dxy=function(ne,re){return a.dxydi([],ne,te,re,K)},V=0;V<C;V++)Z[V]=E[B*I][V],X[V]=L[B*I][V];else for(q=Math.max(0,Math.min(R-2,B)),$=Math.min(1,Math.max(0,B-q)),ee.xy=function(ne){return a.evalxy([],B,ne)},ee.dxy=function(ne,re){return a.dxydj([],q,ne,$,re)},V=0;V<P;V++)Z[V]=E[V][B*I],X[V]=L[V][B*I];return ee.axisLetter=_,ee.axis=v,ee.crossAxis=T,ee.value=x[B],ee.constvar=y,ee.index=B,ee.x=Z,ee.y=X,ee.smoothing=T.smoothing,ee}if(v.tickmode==="array"){for(i=5e-15,n=(r=[Math.floor((x.length-1-v.arraytick0)/v.arraydtick*(1+i)),Math.ceil(-v.arraytick0/v.arraydtick/(1+i))].sort(function(B,V){return B-V}))[0]-1,l=r[1]+1,o=n;o<l;o++)(s=v.arraytick0+v.arraydtick*o)<0||s>x.length-1||m.push(k(N(s),{color:v.gridcolor,width:v.gridwidth,dash:v.griddash}));for(o=n;o<l;o++)if(t=v.arraytick0+v.arraydtick*o,c=Math.min(t+v.arraydtick,x.length-1),!(t<0||t>x.length-1||c<0||c>x.length-1))for(b=x[t],g=x[c],d=0;d<v.minorgridcount;d++)(h=c-t)<=0||(p=b+(g-b)*(d+1)/(v.minorgridcount+1)*(v.arraydtick/h))<x[0]||p>x[x.length-1]||w.push(k(H(p),{color:v.minorgridcolor,width:v.minorgridwidth,dash:v.minorgriddash}));v.startline&&f.push(k(N(0),{color:v.startlinecolor,width:v.startlinewidth})),v.endline&&f.push(k(N(x.length-1),{color:v.endlinecolor,width:v.endlinewidth}))}else{for(i=5e-15,n=(r=[Math.floor((x[x.length-1]-v.tick0)/v.dtick*(1+i)),Math.ceil((x[0]-v.tick0)/v.dtick/(1+i))].sort(function(B,V){return B-V}))[0],l=r[1],o=n;o<=l;o++)u=v.tick0+v.dtick*o,m.push(k(H(u),{color:v.gridcolor,width:v.gridwidth,dash:v.griddash}));for(o=n-1;o<l+1;o++)for(u=v.tick0+v.dtick*o,d=0;d<v.minorgridcount;d++)(p=u+v.dtick*(d+1)/(v.minorgridcount+1))<x[0]||p>x[x.length-1]||w.push(k(H(p),{color:v.minorgridcolor,width:v.minorgridwidth,dash:v.minorgriddash}));v.startline&&f.push(k(H(x[0]),{color:v.startlinecolor,width:v.startlinewidth})),v.endline&&f.push(k(H(x[x.length-1]),{color:v.endlinecolor,width:v.endlinewidth}))}}},83311:function(Y,O,e){var M=e(89298),k=e(1426).extendFlat;Y.exports=function(a,_){var y,d,s,t=_._labels=[],i=_._gridlines;for(y=0;y<i.length;y++)s=i[y],["start","both"].indexOf(_.showticklabels)!==-1&&(d=M.tickText(_,s.value),k(d,{prefix:void 0,suffix:void 0,endAnchor:!0,xy:s.xy(0),dxy:s.dxy(0,0),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:y===0,isLast:y===i.length-1}),t.push(d)),["end","both"].indexOf(_.showticklabels)!==-1&&(d=M.tickText(_,s.value),k(d,{endAnchor:!1,xy:s.xy(s.crossLength-1),dxy:s.dxy(s.crossLength-2,1),axis:s.axis,length:s.crossAxis.length,font:s.axis.tickfont,isFirst:y===0,isLast:y===i.length-1}),t.push(d))}},42048:function(Y){Y.exports=function(O,e,M,k){var a=O[0]-e[0],_=O[1]-e[1],y=M[0]-e[0],d=M[1]-e[1],s=Math.pow(a*a+_*_,.25),t=Math.pow(y*y+d*d,.25),i=(t*t*a-s*s*y)*k,r=(t*t*_-s*s*d)*k,n=t*(s+t)*3,l=s*(s+t)*3;return[[e[0]+(n&&i/n),e[1]+(n&&r/n)],[e[0]-(l&&i/l),e[1]-(l&&r/l)]]}},53824:function(Y,O,e){var M=e(71828).isArrayOrTypedArray;Y.exports=function(k,a,_){var y,d,s,t,i,r,n=[],l=M(k)?k.length:k,o=M(a)?a.length:a,u=M(k)?k:null,p=M(a)?a:null;u&&(s=(u.length-1)/(u[u.length-1]-u[0])/(l-1)),p&&(t=(p.length-1)/(p[p.length-1]-p[0])/(o-1));var c=1/0,b=-1/0;for(d=0;d<o;d++)for(n[d]=[],i=p?(p[d]-p[0])*t:d/(o-1),y=0;y<l;y++)r=(u?(u[y]-u[0])*s:y/(l-1))-i*_,c=Math.min(r,c),b=Math.max(r,b),n[d][y]=r;var g=1/(b-c),h=-c*g;for(d=0;d<o;d++)for(y=0;y<l;y++)n[d][y]=g*n[d][y]+h;return n}},45664:function(Y,O,e){var M=e(42048),k=e(71828).ensureArray;function a(_,y,d){var s=-.5*d[0]+1.5*y[0],t=-.5*d[1]+1.5*y[1];return[(2*s+_[0])/3,(2*t+_[1])/3]}Y.exports=function(_,y,d,s,t,i){var r,n,l,o,u,p,c,b,g,h,x=d[0].length,v=d.length,m=t?3*x-2:x,w=i?3*v-2:v;for(_=k(_,w),y=k(y,w),l=0;l<w;l++)_[l]=k(_[l],m),y[l]=k(y[l],m);for(n=0,o=0;n<v;n++,o+=i?3:1)for(u=_[o],p=y[o],c=d[n],b=s[n],r=0,l=0;r<x;r++,l+=t?3:1)u[l]=c[r],p[l]=b[r];if(t)for(n=0,o=0;n<v;n++,o+=i?3:1){for(r=1,l=3;r<x-1;r++,l+=3)g=M([d[n][r-1],s[n][r-1]],[d[n][r],s[n][r]],[d[n][r+1],s[n][r+1]],t),_[o][l-1]=g[0][0],y[o][l-1]=g[0][1],_[o][l+1]=g[1][0],y[o][l+1]=g[1][1];h=a([_[o][0],y[o][0]],[_[o][2],y[o][2]],[_[o][3],y[o][3]]),_[o][1]=h[0],y[o][1]=h[1],h=a([_[o][m-1],y[o][m-1]],[_[o][m-3],y[o][m-3]],[_[o][m-4],y[o][m-4]]),_[o][m-2]=h[0],y[o][m-2]=h[1]}if(i)for(l=0;l<m;l++){for(o=3;o<w-3;o+=3)g=M([_[o-3][l],y[o-3][l]],[_[o][l],y[o][l]],[_[o+3][l],y[o+3][l]],i),_[o-1][l]=g[0][0],y[o-1][l]=g[0][1],_[o+1][l]=g[1][0],y[o+1][l]=g[1][1];h=a([_[0][l],y[0][l]],[_[2][l],y[2][l]],[_[3][l],y[3][l]]),_[1][l]=h[0],y[1][l]=h[1],h=a([_[w-1][l],y[w-1][l]],[_[w-3][l],y[w-3][l]],[_[w-4][l],y[w-4][l]]),_[w-2][l]=h[0],y[w-2][l]=h[1]}if(t&&i)for(o=1;o<w;o+=(o+1)%3==0?2:1){for(l=3;l<m-3;l+=3)g=M([_[o][l-3],y[o][l-3]],[_[o][l],y[o][l]],[_[o][l+3],y[o][l+3]],t),_[o][l-1]=.5*(_[o][l-1]+g[0][0]),y[o][l-1]=.5*(y[o][l-1]+g[0][1]),_[o][l+1]=.5*(_[o][l+1]+g[1][0]),y[o][l+1]=.5*(y[o][l+1]+g[1][1]);h=a([_[o][0],y[o][0]],[_[o][2],y[o][2]],[_[o][3],y[o][3]]),_[o][1]=.5*(_[o][1]+h[0]),y[o][1]=.5*(y[o][1]+h[1]),h=a([_[o][m-1],y[o][m-1]],[_[o][m-3],y[o][m-3]],[_[o][m-4],y[o][m-4]]),_[o][m-2]=.5*(_[o][m-2]+h[0]),y[o][m-2]=.5*(y[o][m-2]+h[1])}return[_,y]}},35509:function(Y){Y.exports={RELATIVE_CULL_TOLERANCE:1e-6}},54495:function(Y){Y.exports=function(O,e,M){return e&&M?function(k,a,_,y,d){var s,t,i,r,n,l;k||(k=[]),a*=3,_*=3;var o=y*y,u=1-y,p=u*u,c=u*y*2,b=-3*p,g=3*(p-c),h=3*(c-o),x=3*o,v=d*d,m=v*d,w=1-d,f=w*w,S=f*w;for(l=0;l<O.length;l++)s=b*(n=O[l])[_][a]+g*n[_][a+1]+h*n[_][a+2]+x*n[_][a+3],t=b*n[_+1][a]+g*n[_+1][a+1]+h*n[_+1][a+2]+x*n[_+1][a+3],i=b*n[_+2][a]+g*n[_+2][a+1]+h*n[_+2][a+2]+x*n[_+2][a+3],r=b*n[_+3][a]+g*n[_+3][a+1]+h*n[_+3][a+2]+x*n[_+3][a+3],k[l]=S*s+3*(f*d*t+w*v*i)+m*r;return k}:e?function(k,a,_,y,d){var s,t,i,r;k||(k=[]),a*=3;var n=y*y,l=1-y,o=l*l,u=l*y*2,p=-3*o,c=3*(o-u),b=3*(u-n),g=3*n,h=1-d;for(i=0;i<O.length;i++)s=p*(r=O[i])[_][a]+c*r[_][a+1]+b*r[_][a+2]+g*r[_][a+3],t=p*r[_+1][a]+c*r[_+1][a+1]+b*r[_+1][a+2]+g*r[_+1][a+3],k[i]=h*s+d*t;return k}:M?function(k,a,_,y,d){var s,t,i,r,n,l;k||(k=[]),_*=3;var o=d*d,u=o*d,p=1-d,c=p*p,b=c*p;for(n=0;n<O.length;n++)s=(l=O[n])[_][a+1]-l[_][a],t=l[_+1][a+1]-l[_+1][a],i=l[_+2][a+1]-l[_+2][a],r=l[_+3][a+1]-l[_+3][a],k[n]=b*s+3*(c*d*t+p*o*i)+u*r;return k}:function(k,a,_,y,d){var s,t,i,r;k||(k=[]);var n=1-d;for(i=0;i<O.length;i++)s=(r=O[i])[_][a+1]-r[_][a],t=r[_+1][a+1]-r[_+1][a],k[i]=n*s+d*t;return k}}},73057:function(Y){Y.exports=function(O,e,M){return e&&M?function(k,a,_,y,d){var s,t,i,r,n,l;k||(k=[]),a*=3,_*=3;var o=y*y,u=o*y,p=1-y,c=p*p,b=c*p,g=d*d,h=1-d,x=h*h,v=h*d*2,m=-3*x,w=3*(x-v),f=3*(v-g),S=3*g;for(l=0;l<O.length;l++)s=m*(n=O[l])[_][a]+w*n[_+1][a]+f*n[_+2][a]+S*n[_+3][a],t=m*n[_][a+1]+w*n[_+1][a+1]+f*n[_+2][a+1]+S*n[_+3][a+1],i=m*n[_][a+2]+w*n[_+1][a+2]+f*n[_+2][a+2]+S*n[_+3][a+2],r=m*n[_][a+3]+w*n[_+1][a+3]+f*n[_+2][a+3]+S*n[_+3][a+3],k[l]=b*s+3*(c*y*t+p*o*i)+u*r;return k}:e?function(k,a,_,y,d){var s,t,i,r,n,l;k||(k=[]),a*=3;var o=d*d,u=o*d,p=1-d,c=p*p,b=c*p;for(n=0;n<O.length;n++)s=(l=O[n])[_+1][a]-l[_][a],t=l[_+1][a+1]-l[_][a+1],i=l[_+1][a+2]-l[_][a+2],r=l[_+1][a+3]-l[_][a+3],k[n]=b*s+3*(c*d*t+p*o*i)+u*r;return k}:M?function(k,a,_,y,d){var s,t,i,r;k||(k=[]),_*=3;var n=1-y,l=d*d,o=1-d,u=o*o,p=o*d*2,c=-3*u,b=3*(u-p),g=3*(p-l),h=3*l;for(i=0;i<O.length;i++)s=c*(r=O[i])[_][a]+b*r[_+1][a]+g*r[_+2][a]+h*r[_+3][a],t=c*r[_][a+1]+b*r[_+1][a+1]+g*r[_+2][a+1]+h*r[_+3][a+1],k[i]=n*s+y*t;return k}:function(k,a,_,y,d){var s,t,i,r;k||(k=[]);var n=1-y;for(i=0;i<O.length;i++)s=(r=O[i])[_+1][a]-r[_][a],t=r[_+1][a+1]-r[_][a+1],k[i]=n*s+y*t;return k}}},20349:function(Y){Y.exports=function(O,e,M,k,a){var _=e-2,y=M-2;return k&&a?function(d,s,t){var i,r,n,l,o,u;d||(d=[]);var p=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),y)),b=Math.max(0,Math.min(1,s-p)),g=Math.max(0,Math.min(1,t-c));p*=3,c*=3;var h=b*b,x=h*b,v=1-b,m=v*v,w=m*v,f=g*g,S=f*g,T=1-g,E=T*T,L=E*T;for(u=0;u<O.length;u++)i=w*(o=O[u])[c][p]+3*(m*b*o[c][p+1]+v*h*o[c][p+2])+x*o[c][p+3],r=w*o[c+1][p]+3*(m*b*o[c+1][p+1]+v*h*o[c+1][p+2])+x*o[c+1][p+3],n=w*o[c+2][p]+3*(m*b*o[c+2][p+1]+v*h*o[c+2][p+2])+x*o[c+2][p+3],l=w*o[c+3][p]+3*(m*b*o[c+3][p+1]+v*h*o[c+3][p+2])+x*o[c+3][p+3],d[u]=L*i+3*(E*g*r+T*f*n)+S*l;return d}:k?function(d,s,t){d||(d=[]);var i,r,n,l,o,u,p=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),y)),b=Math.max(0,Math.min(1,s-p)),g=Math.max(0,Math.min(1,t-c));p*=3;var h=b*b,x=h*b,v=1-b,m=v*v,w=m*v,f=1-g;for(o=0;o<O.length;o++)i=f*(u=O[o])[c][p]+g*u[c+1][p],r=f*u[c][p+1]+g*u[c+1][p+1],n=f*u[c][p+2]+g*u[c+1][p+1],l=f*u[c][p+3]+g*u[c+1][p+1],d[o]=w*i+3*(m*b*r+v*h*n)+x*l;return d}:a?function(d,s,t){d||(d=[]);var i,r,n,l,o,u,p=Math.max(0,Math.min(Math.floor(s),_)),c=Math.max(0,Math.min(Math.floor(t),y)),b=Math.max(0,Math.min(1,s-p)),g=Math.max(0,Math.min(1,t-c));c*=3;var h=g*g,x=h*g,v=1-g,m=v*v,w=m*v,f=1-b;for(o=0;o<O.length;o++)i=f*(u=O[o])[c][p]+b*u[c][p+1],r=f*u[c+1][p]+b*u[c+1][p+1],n=f*u[c+2][p]+b*u[c+2][p+1],l=f*u[c+3][p]+b*u[c+3][p+1],d[o]=w*i+3*(m*g*r+v*h*n)+x*l;return d}:function(d,s,t){d||(d=[]);var i,r,n,l,o=Math.max(0,Math.min(Math.floor(s),_)),u=Math.max(0,Math.min(Math.floor(t),y)),p=Math.max(0,Math.min(1,s-o)),c=Math.max(0,Math.min(1,t-u)),b=1-c,g=1-p;for(n=0;n<O.length;n++)i=g*(l=O[n])[u][o]+p*l[u][o+1],r=g*l[u+1][o]+p*l[u+1][o+1],d[n]=b*i+c*r;return d}}},92087:function(Y,O,e){var M=e(71828),k=e(19237),a=e(13145),_=e(99798),y=e(22399);Y.exports=function(d,s,t,i){function r(l,o){return M.coerce(d,s,_,l,o)}s._clipPathId="clip"+s.uid+"carpet";var n=r("color",y.defaultLine);M.coerceFont(r,"font"),r("carpet"),a(d,s,i,r,n),s.a&&s.b?(s.a.length<3&&(s.aaxis.smoothing=0),s.b.length<3&&(s.baxis.smoothing=0),k(d,s,r)||(s.visible=!1),s._cheater&&r("cheaterslope")):s.visible=!1}},21462:function(Y,O,e){Y.exports={attributes:e(99798),supplyDefaults:e(92087),plot:e(89740),calc:e(25281),animatable:!0,isContainer:!0,moduleType:"trace",name:"carpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","carpetAxis","notLegendIsolatable","noMultiCategory","noHover","noSortingByValue"],meta:{}}},22882:function(Y){Y.exports=function(O,e){for(var M,k=O._fullData.length,a=0;a<k;a++){var _=O._fullData[a];if(_.index!==e.index&&_.type==="carpet"&&(M||(M=_),_.carpet===e.carpet))return _}return M}},67961:function(Y){Y.exports=function(O,e,M){if(O.length===0)return"";var k,a=[],_=M?3:1;for(k=0;k<O.length;k+=_)a.push(O[k]+","+e[k]),M&&k<O.length-_&&(a.push("C"),a.push([O[k+1]+","+e[k+1],O[k+2]+","+e[k+2]+" "].join(" ")));return a.join(M?"":"L")}},27669:function(Y,O,e){var M=e(71828).isArrayOrTypedArray;Y.exports=function(k,a,_){var y;for(M(k)?k.length>a.length&&(k=k.slice(0,a.length)):k=[],y=0;y<a.length;y++)k[y]=_(a[y]);return k}},11651:function(Y){Y.exports=function(O,e,M,k,a,_){var y=a[0]*O.dpdx(e),d=a[1]*O.dpdy(M),s=1,t=1;if(_){var i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),r=Math.sqrt(_[0]*_[0]+_[1]*_[1]),n=(a[0]*_[0]+a[1]*_[1])/i/r;t=Math.max(0,n)}var l=180*Math.atan2(d,y)/Math.PI;return l<-90?(l+=180,s=-s):l>90&&(l-=180,s=-s),{angle:l,flip:s,p:O.c2p(k,e,M),offsetMultplier:t}}},89740:function(Y,O,e){var M=e(39898),k=e(91424),a=e(27669),_=e(67961),y=e(11651),d=e(63893),s=e(71828),t=s.strRotate,i=s.strTranslate,r=e(18783);function n(c,b,g,h,x,v,m){var w="const-"+x+"-lines",f=g.selectAll("."+w).data(v);f.enter().append("path").classed(w,!0).style("vector-effect",m?"none":"non-scaling-stroke"),f.each(function(S){var T=S,E=T.x,L=T.y,C=a([],E,c.c2p),P=a([],L,b.c2p),R="M"+_(C,P,T.smoothing);M.select(this).attr("d",R).style("stroke-width",T.width).style("stroke",T.color).style("stroke-dasharray",k.dashStyle(T.dash,T.width)).style("fill","none")}),f.exit().remove()}function l(c,b,g,h,x,v,m,w){var f=v.selectAll("text."+w).data(m);f.enter().append("text").classed(w,!0);var S=0,T={};return f.each(function(E,L){var C;if(E.axis.tickangle==="auto")C=y(h,b,g,E.xy,E.dxy);else{var P=(E.axis.tickangle+180)*Math.PI/180;C=y(h,b,g,E.xy,[Math.cos(P),Math.sin(P)])}L||(T={angle:C.angle,flip:C.flip});var R=(E.endAnchor?-1:1)*C.flip,G=M.select(this).attr({"text-anchor":R>0?"start":"end","data-notex":1}).call(k.font,E.font).text(E.text).call(d.convertToTspans,c),I=k.bBox(this);G.attr("transform",i(C.p[0],C.p[1])+t(C.angle)+i(E.axis.labelpadding*R,.3*I.height)),S=Math.max(S,I.width+E.axis.labelpadding)}),f.exit().remove(),T.maxExtent=S,T}Y.exports=function(c,b,g,h){var x=c._context.staticPlot,v=b.xaxis,m=b.yaxis,w=c._fullLayout._clips;s.makeTraceGroups(h,g,"trace").each(function(f){var S=M.select(this),T=f[0],E=T.trace,L=E.aaxis,C=E.baxis,P=s.ensureSingle(S,"g","minorlayer"),R=s.ensureSingle(S,"g","majorlayer"),G=s.ensureSingle(S,"g","boundarylayer"),I=s.ensureSingle(S,"g","labellayer");S.style("opacity",E.opacity),n(v,m,R,0,"a",L._gridlines,!0),n(v,m,R,0,"b",C._gridlines,!0),n(v,m,P,0,"a",L._minorgridlines,!0),n(v,m,P,0,"b",C._minorgridlines,!0),n(v,m,G,0,"a-boundary",L._boundarylines,x),n(v,m,G,0,"b-boundary",C._boundarylines,x);var H=l(c,v,m,E,0,I,L._labels,"a-label"),N=l(c,v,m,E,0,I,C._labels,"b-label");(function(B,V,q,te,$,K,Z,X){var ee,ne,re,ae,ue=s.aggNums(Math.min,null,q.a),pe=s.aggNums(Math.max,null,q.a),ge=s.aggNums(Math.min,null,q.b),we=s.aggNums(Math.max,null,q.b);ee=.5*(ue+pe),ne=ge,re=q.ab2xy(ee,ne,!0),ae=q.dxyda_rough(ee,ne),Z.angle===void 0&&s.extendFlat(Z,y(q,$,K,re,q.dxydb_rough(ee,ne))),p(B,V,q,0,re,ae,q.aaxis,$,K,Z,"a-title"),ee=ue,ne=.5*(ge+we),re=q.ab2xy(ee,ne,!0),ae=q.dxydb_rough(ee,ne),X.angle===void 0&&s.extendFlat(X,y(q,$,K,re,q.dxyda_rough(ee,ne))),p(B,V,q,0,re,ae,q.baxis,$,K,X,"b-title")})(c,I,E,0,v,m,H,N),function(B,V,q,te,$){var K,Z,X,ee,ne=q.select("#"+B._clipPathId);ne.size()||(ne=q.append("clipPath").classed("carpetclip",!0));var re=s.ensureSingle(ne,"path","carpetboundary"),ae=V.clipsegments,ue=[];for(ee=0;ee<ae.length;ee++)K=ae[ee],Z=a([],K.x,te.c2p),X=a([],K.y,$.c2p),ue.push(_(Z,X,K.bicubic));var pe="M"+ue.join("L")+"Z";ne.attr("id",B._clipPathId),re.attr("d",pe)}(E,T,w,v,m)})};var o=r.LINE_SPACING,u=(1-r.MID_SHIFT)/o+1;function p(c,b,g,h,x,v,m,w,f,S,T){var E=[];m.title.text&&E.push(m.title.text);var L=b.selectAll("text."+T).data(E),C=S.maxExtent;L.enter().append("text").classed(T,!0),L.each(function(){var P=y(g,w,f,x,v);["start","both"].indexOf(m.showticklabels)===-1&&(C=0);var R=m.title.font.size;C+=R+m.title.offset;var G=(S.angle+(S.flip<0?180:0)-P.angle+450)%360,I=G>90&&G<270,H=M.select(this);H.text(m.title.text).call(d.convertToTspans,c),I&&(C=(-d.lineCount(H)+u)*o*R-C),H.attr("transform",i(P.p[0],P.p[1])+t(P.angle)+i(0,C)).attr("text-anchor","middle").call(k.font,m.title.font)}),L.exit().remove()}},11435:function(Y,O,e){var M=e(35509),k=e(65888).findBin,a=e(45664),_=e(20349),y=e(54495),d=e(73057);Y.exports=function(s){var t=s._a,i=s._b,r=t.length,n=i.length,l=s.aaxis,o=s.baxis,u=t[0],p=t[r-1],c=i[0],b=i[n-1],g=t[t.length-1]-t[0],h=i[i.length-1]-i[0],x=g*M.RELATIVE_CULL_TOLERANCE,v=h*M.RELATIVE_CULL_TOLERANCE;u-=x,p+=x,c-=v,b+=v,s.isVisible=function(m,w){return m>u&&m<p&&w>c&&w<b},s.isOccluded=function(m,w){return m<u||m>p||w<c||w>b},s.setScale=function(){var m=s._x,w=s._y,f=a(s._xctrl,s._yctrl,m,w,l.smoothing,o.smoothing);s._xctrl=f[0],s._yctrl=f[1],s.evalxy=_([s._xctrl,s._yctrl],r,n,l.smoothing,o.smoothing),s.dxydi=y([s._xctrl,s._yctrl],l.smoothing,o.smoothing),s.dxydj=d([s._xctrl,s._yctrl],l.smoothing,o.smoothing)},s.i2a=function(m){var w=Math.max(0,Math.floor(m[0]),r-2),f=m[0]-w;return(1-f)*t[w]+f*t[w+1]},s.j2b=function(m){var w=Math.max(0,Math.floor(m[1]),r-2),f=m[1]-w;return(1-f)*i[w]+f*i[w+1]},s.ij2ab=function(m){return[s.i2a(m[0]),s.j2b(m[1])]},s.a2i=function(m){var w=Math.max(0,Math.min(k(m,t),r-2)),f=t[w],S=t[w+1];return Math.max(0,Math.min(r-1,w+(m-f)/(S-f)))},s.b2j=function(m){var w=Math.max(0,Math.min(k(m,i),n-2)),f=i[w],S=i[w+1];return Math.max(0,Math.min(n-1,w+(m-f)/(S-f)))},s.ab2ij=function(m){return[s.a2i(m[0]),s.b2j(m[1])]},s.i2c=function(m,w){return s.evalxy([],m,w)},s.ab2xy=function(m,w,f){if(!f&&(m<t[0]||m>t[r-1]|w<i[0]||w>i[n-1]))return[!1,!1];var S=s.a2i(m),T=s.b2j(w),E=s.evalxy([],S,T);if(f){var L,C,P,R,G=0,I=0,H=[];m<t[0]?(L=0,C=0,G=(m-t[0])/(t[1]-t[0])):m>t[r-1]?(L=r-2,C=1,G=(m-t[r-1])/(t[r-1]-t[r-2])):C=S-(L=Math.max(0,Math.min(r-2,Math.floor(S)))),w<i[0]?(P=0,R=0,I=(w-i[0])/(i[1]-i[0])):w>i[n-1]?(P=n-2,R=1,I=(w-i[n-1])/(i[n-1]-i[n-2])):R=T-(P=Math.max(0,Math.min(n-2,Math.floor(T)))),G&&(s.dxydi(H,L,P,C,R),E[0]+=H[0]*G,E[1]+=H[1]*G),I&&(s.dxydj(H,L,P,C,R),E[0]+=H[0]*I,E[1]+=H[1]*I)}return E},s.c2p=function(m,w,f){return[w.c2p(m[0]),f.c2p(m[1])]},s.p2x=function(m,w,f){return[w.p2c(m[0]),f.p2c(m[1])]},s.dadi=function(m){var w=Math.max(0,Math.min(t.length-2,m));return t[w+1]-t[w]},s.dbdj=function(m){var w=Math.max(0,Math.min(i.length-2,m));return i[w+1]-i[w]},s.dxyda=function(m,w,f,S){var T=s.dxydi(null,m,w,f,S),E=s.dadi(m,f);return[T[0]/E,T[1]/E]},s.dxydb=function(m,w,f,S){var T=s.dxydj(null,m,w,f,S),E=s.dbdj(w,S);return[T[0]/E,T[1]/E]},s.dxyda_rough=function(m,w,f){var S=g*(f||.1),T=s.ab2xy(m+S,w,!0),E=s.ab2xy(m-S,w,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},s.dxydb_rough=function(m,w,f){var S=h*(f||.1),T=s.ab2xy(m,w+S,!0),E=s.ab2xy(m,w-S,!0);return[.5*(T[0]-E[0])/S,.5*(T[1]-E[1])/S]},s.dpdx=function(m){return m._m},s.dpdy=function(m){return m._m}}},72505:function(Y,O,e){var M=e(71828);Y.exports=function(k,a,_){var y,d,s,t=[],i=[],r=k[0].length,n=k.length;function l(B,V){var q,te=0,$=0;return B>0&&(q=k[V][B-1])!==void 0&&($++,te+=q),B<r-1&&(q=k[V][B+1])!==void 0&&($++,te+=q),V>0&&(q=k[V-1][B])!==void 0&&($++,te+=q),V<n-1&&(q=k[V+1][B])!==void 0&&($++,te+=q),te/Math.max(1,$)}var o,u,p,c,b,g,h,x,v,m,w,f=0;for(y=0;y<r;y++)for(d=0;d<n;d++)k[d][y]===void 0&&(t.push(y),i.push(d),k[d][y]=l(y,d)),f=Math.max(f,Math.abs(k[d][y]));if(!t.length)return k;var S=0,T=0,E=t.length;do{for(S=0,s=0;s<E;s++){y=t[s],d=i[s];var L,C,P,R,G,I,H=0,N=0;y===0?(P=a[G=Math.min(r-1,2)],R=a[1],L=k[d][G],N+=(C=k[d][1])+(C-L)*(a[0]-R)/(R-P),H++):y===r-1&&(P=a[G=Math.max(0,r-3)],R=a[r-2],L=k[d][G],N+=(C=k[d][r-2])+(C-L)*(a[r-1]-R)/(R-P),H++),(y===0||y===r-1)&&d>0&&d<n-1&&(o=_[d+1]-_[d],N+=((u=_[d]-_[d-1])*k[d+1][y]+o*k[d-1][y])/(u+o),H++),d===0?(P=_[I=Math.min(n-1,2)],R=_[1],L=k[I][y],N+=(C=k[1][y])+(C-L)*(_[0]-R)/(R-P),H++):d===n-1&&(P=_[I=Math.max(0,n-3)],R=_[n-2],L=k[I][y],N+=(C=k[n-2][y])+(C-L)*(_[n-1]-R)/(R-P),H++),(d===0||d===n-1)&&y>0&&y<r-1&&(o=a[y+1]-a[y],N+=((u=a[y]-a[y-1])*k[d][y+1]+o*k[d][y-1])/(u+o),H++),H?N/=H:(p=a[y+1]-a[y],c=a[y]-a[y-1],x=(b=_[d+1]-_[d])*(g=_[d]-_[d-1])*(b+g),N=((h=p*c*(p+c))*(g*k[d+1][y]+b*k[d-1][y])+x*(c*k[d][y+1]+p*k[d][y-1]))/(x*(c+p)+h*(g+b))),S+=(m=(v=N-k[d][y])/f)*m,w=H?0:.85,k[d][y]+=v*(1+w)}S=Math.sqrt(S)}while(T++<100&&S>1e-5);return M.log("Smoother converged to",S,"after",T,"iterations"),k}},19237:function(Y,O,e){var M=e(71828).isArray1D;Y.exports=function(k,a,_){var y=_("x"),d=y&&y.length,s=_("y"),t=s&&s.length;if(!d&&!t)return!1;if(a._cheater=!y,d&&!M(y)||t&&!M(s))a._length=null;else{var i=d?y.length:1/0;t&&(i=Math.min(i,s.length)),a.a&&a.a.length&&(i=Math.min(i,a.a.length)),a.b&&a.b.length&&(i=Math.min(i,a.b.length)),a._length=i}return!0}},69568:function(Y,O,e){var M=e(5386).fF,k=e(19316),a=e(50693),_=e(9012),y=e(22399).defaultLine,d=e(1426).extendFlat,s=k.marker.line;Y.exports=d({locations:{valType:"data_array",editType:"calc"},locationmode:k.locationmode,z:{valType:"data_array",editType:"calc"},geojson:d({},k.geojson,{}),featureidkey:k.featureidkey,text:d({},k.text,{}),hovertext:d({},k.hovertext,{}),marker:{line:{color:d({},s.color,{dflt:y}),width:d({},s.width,{dflt:1}),editType:"calc"},opacity:{valType:"number",arrayOk:!0,min:0,max:1,dflt:1,editType:"style"},editType:"calc"},selected:{marker:{opacity:k.selected.marker.opacity,editType:"plot"},editType:"plot"},unselected:{marker:{opacity:k.unselected.marker.opacity,editType:"plot"},editType:"plot"},hoverinfo:d({},_.hoverinfo,{editType:"calc",flags:["location","z","text","name"]}),hovertemplate:M(),showlegend:d({},_.showlegend,{dflt:!1})},a("",{cLetter:"z",editTypeOverride:"calc"}))},38675:function(Y,O,e){var M=e(92770),k=e(50606).BADNUM,a=e(78803),_=e(75225),y=e(66279);function d(s){return s&&typeof s=="string"}Y.exports=function(s,t){var i,r=t._length,n=new Array(r);i=t.geojson?function(c){return d(c)||M(c)}:d;for(var l=0;l<r;l++){var o=n[l]={},u=t.locations[l],p=t.z[l];i(u)&&M(p)?(o.loc=u,o.z=p):(o.loc=null,o.z=k),o.index=l}return _(n,t),a(s,t,{vals:t.z,containerStr:"",cLetter:"z"}),y(n,t),n}},61869:function(Y,O,e){var M=e(71828),k=e(1586),a=e(69568);Y.exports=function(_,y,d,s){function t(o,u){return M.coerce(_,y,a,o,u)}var i=t("locations"),r=t("z");if(i&&i.length&&M.isArrayOrTypedArray(r)&&r.length){y._length=Math.min(i.length,r.length);var n,l=t("geojson");(typeof l=="string"&&l!==""||M.isPlainObject(l))&&(n="geojson-id"),t("locationmode",n)==="geojson-id"&&t("featureidkey"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(_,y,s,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(y,t)}else y.visible=!1}},92069:function(Y){Y.exports=function(O,e,M,k,a){O.location=e.location,O.z=e.z;var _=k[a];return _.fIn&&_.fIn.properties&&(O.properties=_.fIn.properties),O.ct=_.ct,O}},42300:function(Y,O,e){var M=e(89298),k=e(69568),a=e(71828).fillText;Y.exports=function(_,y,d){var s,t,i,r,n=_.cd,l=n[0].trace,o=_.subplot,u=[y,d],p=[y+360,d];for(t=0;t<n.length;t++)if(r=!1,(s=n[t])._polygons){for(i=0;i<s._polygons.length;i++)s._polygons[i].contains(u)&&(r=!r),s._polygons[i].contains(p)&&(r=!r);if(r)break}if(r&&s)return _.x0=_.x1=_.xa.c2p(s.ct),_.y0=_.y1=_.ya.c2p(s.ct),_.index=s.index,_.location=s.loc,_.z=s.z,_.zLabel=M.tickText(o.mockAxis,o.mockAxis.c2l(s.z),"hover").text,_.hovertemplate=s.hovertemplate,function(c,b,g){if(!b.hovertemplate){var h=g.hi||b.hoverinfo,x=String(g.loc),v=h==="all"?k.hoverinfo.flags:h.split("+"),m=v.indexOf("name")!==-1,w=v.indexOf("location")!==-1,f=v.indexOf("z")!==-1,S=v.indexOf("text")!==-1,T=[];!m&&w?c.nameOverride=x:(m&&(c.nameOverride=b.name),w&&T.push(x)),f&&T.push(c.zLabel),S&&a(g,b,T),c.extraText=T.join("<br>")}}(_,l,s),[_]}},51319:function(Y,O,e){Y.exports={attributes:e(69568),supplyDefaults:e(61869),colorbar:e(61243),calc:e(38675),calcGeoJSON:e(99841).calcGeoJSON,plot:e(99841).plot,style:e(99636).style,styleOnSelect:e(99636).styleOnSelect,hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),moduleType:"trace",name:"choropleth",basePlotModule:e(44622),categories:["geo","noOpacity","showLegend"],meta:{}}},99841:function(Y,O,e){var M=e(39898),k=e(71828),a=e(41327),_=e(90973).getTopojsonFeatures,y=e(71739).findExtremes,d=e(99636).style;Y.exports={calcGeoJSON:function(s,t){for(var i=s[0].trace,r=t[i.geo],n=r._subplot,l=i.locationmode,o=i._length,u=l==="geojson-id"?a.extractTraceFeature(s):_(i,n.topojson),p=[],c=[],b=0;b<o;b++){var g=s[b],h=l==="geojson-id"?g.fOut:a.locationToFeature(l,g.loc,u);if(h){g.geojson=h,g.ct=h.properties.ct,g._polygons=a.feature2polygons(h);var x=a.computeBbox(h);p.push(x[0],x[2]),c.push(x[1],x[3])}else g.geojson=null}if(r.fitbounds==="geojson"&&l==="geojson-id"){var v=a.computeBbox(a.getTraceGeojson(i));p=[v[0],v[2]],c=[v[1],v[3]]}var m={padded:!0};i._extremes.lon=y(r.lonaxis._ax,p,m),i._extremes.lat=y(r.lataxis._ax,c,m)},plot:function(s,t,i){var r=t.layers.backplot.select(".choroplethlayer");k.makeTraceGroups(r,i,"trace choropleth").each(function(n){var l=M.select(this).selectAll("path.choroplethlocation").data(k.identity);l.enter().append("path").classed("choroplethlocation",!0),l.exit().remove(),d(s,n)})}}},81253:function(Y){Y.exports=function(O,e){var M,k,a,_,y,d=O.cd,s=O.xaxis,t=O.yaxis,i=[];if(e===!1)for(M=0;M<d.length;M++)d[M].selected=0;else for(M=0;M<d.length;M++)(a=(k=d[M]).ct)&&(_=s.c2p(a),y=t.c2p(a),e.contains([_,y],null,M,O)?(i.push({pointNumber:M,lon:a[0],lat:a[1]}),k.selected=1):k.selected=0);return i}},99636:function(Y,O,e){var M=e(39898),k=e(7901),a=e(91424),_=e(21081);function y(d,s){var t=s[0].trace,i=s[0].node3.selectAll(".choroplethlocation"),r=t.marker||{},n=r.line||{},l=_.makeColorScaleFuncFromTrace(t);i.each(function(o){M.select(this).attr("fill",l(o.z)).call(k.stroke,o.mlc||n.color).call(a.dashLine,"",o.mlw||n.width||0).style("opacity",r.opacity)}),a.selectedPointStyle(i,t)}Y.exports={style:function(d,s){s&&y(0,s)},styleOnSelect:function(d,s){var t=s[0].node3,i=s[0].trace;i.selectedpoints?a.selectedPointStyle(t.selectAll(".choroplethlocation"),i):y(0,s)}}},64496:function(Y,O,e){var M=e(69568),k=e(50693),a=e(5386).fF,_=e(9012),y=e(1426).extendFlat;Y.exports=y({locations:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},geojson:{valType:"any",editType:"calc"},featureidkey:y({},M.featureidkey,{}),below:{valType:"string",editType:"plot"},text:M.text,hovertext:M.hovertext,marker:{line:{color:y({},M.marker.line.color,{editType:"plot"}),width:y({},M.marker.line.width,{editType:"plot"}),editType:"calc"},opacity:y({},M.marker.opacity,{editType:"plot"}),editType:"calc"},selected:{marker:{opacity:y({},M.selected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},unselected:{marker:{opacity:y({},M.unselected.marker.opacity,{editType:"plot"}),editType:"plot"},editType:"plot"},hoverinfo:M.hoverinfo,hovertemplate:a({},{keys:["properties"]}),showlegend:y({},_.showlegend,{dflt:!1})},k("",{cLetter:"z",editTypeOverride:"calc"}))},82004:function(Y,O,e){var M=e(92770),k=e(71828),a=e(21081),_=e(91424),y=e(18214).makeBlank,d=e(41327);function s(t){var i,r=t[0].trace,n=r._opts;if(r.selectedpoints){for(var l=_.makeSelectedPointStyleFns(r),o=0;o<t.length;o++){var u=t[o];u.fOut&&(u.fOut.properties.mo2=l.selectedOpacityFn(u))}i={type:"identity",property:"mo2"}}else i=k.isArrayOrTypedArray(r.marker.opacity)?{type:"identity",property:"mo"}:r.marker.opacity;return k.extendFlat(n.fill.paint,{"fill-opacity":i}),k.extendFlat(n.line.paint,{"line-opacity":i}),n}Y.exports={convert:function(t){var i=t[0].trace,r=i.visible===!0&&i._length!==0,n={layout:{visibility:"none"},paint:{}},l={layout:{visibility:"none"},paint:{}},o=i._opts={fill:n,line:l,geojson:y()};if(!r)return o;var u=d.extractTraceFeature(t);if(!u)return o;var p,c,b,g=a.makeColorScaleFuncFromTrace(i),h=i.marker,x=h.line||{};k.isArrayOrTypedArray(h.opacity)&&(p=function(T){var E=T.mo;return M(E)?+k.constrain(E,0,1):0}),k.isArrayOrTypedArray(x.color)&&(c=function(T){return T.mlc}),k.isArrayOrTypedArray(x.width)&&(b=function(T){return T.mlw});for(var v=0;v<t.length;v++){var m=t[v],w=m.fOut;if(w){var f=w.properties;f.fc=g(m.z),p&&(f.mo=p(m)),c&&(f.mlc=c(m)),b&&(f.mlw=b(m)),m.ct=f.ct,m._polygons=d.feature2polygons(w)}}var S=p?{type:"identity",property:"mo"}:h.opacity;return k.extendFlat(n.paint,{"fill-color":{type:"identity",property:"fc"},"fill-opacity":S}),k.extendFlat(l.paint,{"line-color":c?{type:"identity",property:"mlc"}:x.color,"line-width":b?{type:"identity",property:"mlw"}:x.width,"line-opacity":S}),n.layout.visibility="visible",l.layout.visibility="visible",o.geojson={type:"FeatureCollection",features:u},s(t),o},convertOnSelect:s}},22654:function(Y,O,e){var M=e(71828),k=e(1586),a=e(64496);Y.exports=function(_,y,d,s){function t(l,o){return M.coerce(_,y,a,l,o)}var i=t("locations"),r=t("z"),n=t("geojson");M.isArrayOrTypedArray(i)&&i.length&&M.isArrayOrTypedArray(r)&&r.length&&(typeof n=="string"&&n!==""||M.isPlainObject(n))?(t("featureidkey"),y._length=Math.min(i.length,r.length),t("below"),t("text"),t("hovertext"),t("hovertemplate"),t("marker.line.width")&&t("marker.line.color"),t("marker.opacity"),k(_,y,s,t,{prefix:"",cLetter:"z"}),M.coerceSelectionMarkerOpacity(y,t)):y.visible=!1}},57516:function(Y,O,e){Y.exports={attributes:e(64496),supplyDefaults:e(22654),colorbar:e(61243),calc:e(38675),plot:e(7852),hoverPoints:e(42300),eventData:e(92069),selectPoints:e(81253),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.updateOnSelect(k)},getBelow:function(M,k){for(var a=k.getMapLayers(),_=a.length-2;_>=0;_--){var y=a[_].id;if(typeof y=="string"&&y.indexOf("water")===0){for(var d=_+1;d<a.length;d++)if(typeof(y=a[d].id)=="string"&&y.indexOf("plotly-")===-1)return y}}},moduleType:"trace",name:"choroplethmapbox",basePlotModule:e(50101),categories:["mapbox","gl","noOpacity","showLegend"],meta:{hr_name:"choropleth_mapbox"}}},7852:function(Y,O,e){var M=e(82004).convert,k=e(82004).convertOnSelect,a=e(77734).traceLayerPrefix;function _(d,s){this.type="choroplethmapbox",this.subplot=d,this.uid=s,this.sourceId="source-"+s,this.layerList=[["fill",a+s+"-fill"],["line",a+s+"-line"]],this.below=null}var y=_.prototype;y.update=function(d){this._update(M(d)),d[0].trace._glTrace=this},y.updateOnSelect=function(d){this._update(k(d))},y._update=function(d){var s=this.subplot,t=this.layerList,i=s.belowLookup["trace-"+this.uid];s.map.getSource(this.sourceId).setData(d.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(d,i),this.below=i);for(var r=0;r<t.length;r++){var n=t[r],l=n[0],o=n[1],u=d[l];s.setOptions(o,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&s.setOptions(o,"setPaintProperty",u.paint)}},y._addLayers=function(d,s){for(var t=this.subplot,i=this.layerList,r=this.sourceId,n=0;n<i.length;n++){var l=i[n],o=l[0],u=d[o];t.addLayer({type:o,id:l[1],source:r,layout:u.layout,paint:u.paint},s)}},y._removeLayers=function(){for(var d=this.subplot.map,s=this.layerList,t=s.length-1;t>=0;t--)d.removeLayer(s[t][1])},y.dispose=function(){var d=this.subplot.map;this._removeLayers(),d.removeSource(this.sourceId)},Y.exports=function(d,s){var t=s[0].trace,i=new _(d,t.uid),r=i.sourceId,n=M(s),l=i.below=d.belowLookup["trace-"+t.uid];return d.map.addSource(r,{type:"geojson",data:n.geojson}),i._addLayers(n,l),s[0].trace._glTrace=i,i}},12674:function(Y,O,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(2418),y=e(9012),d=e(1426).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},sizemode:{valType:"enumerated",values:["scaled","absolute"],editType:"calc",dflt:"scaled"},sizeref:{valType:"number",editType:"calc",min:0},anchor:{valType:"enumerated",editType:"calc",values:["tip","tail","cm","center"],dflt:"cm"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["norm"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:d({},y.showlegend,{dflt:!1})};d(s,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=_[t]}),s.hoverinfo=d({},y.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,Y.exports=s},31371:function(Y,O,e){var M=e(78803);Y.exports=function(k,a){for(var _=a.u,y=a.v,d=a.w,s=Math.min(a.x.length,a.y.length,a.z.length,_.length,y.length,d.length),t=-1/0,i=1/0,r=0;r<s;r++){var n=_[r],l=y[r],o=d[r],u=Math.sqrt(n*n+l*l+o*o);t=Math.max(t,u),i=Math.min(i,u)}a._len=s,a._normMax=t,M(k,a,{vals:[i,t],containerStr:"",cLetter:"c"})}},5453:function(Y,O,e){var M=e(9330).gl_cone3d,k=e(9330).gl_cone3d.createConeMesh,a=e(71828).simpleMap,_=e(81697).parseColorScale,y=e(21081).extractOpts,d=e(90060);function s(o,u){this.scene=o,this.uid=u,this.mesh=null,this.data=null}var t=s.prototype;t.handlePick=function(o){if(o.object===this.mesh){var u=o.index=o.data.index,p=this.data.x[u],c=this.data.y[u],b=this.data.z[u],g=this.data.u[u],h=this.data.v[u],x=this.data.w[u];o.traceCoordinate=[p,c,b,g,h,x,Math.sqrt(g*g+h*h+x*x)];var v=this.data.hovertext||this.data.text;return Array.isArray(v)&&v[u]!==void 0?o.textLabel=v[u]:v&&(o.textLabel=v),!0}};var i={xaxis:0,yaxis:1,zaxis:2},r={tip:1,tail:0,cm:.25,center:.5},n={tip:1,tail:1,cm:.75,center:.5};function l(o,u){var p=o.fullSceneLayout,c=o.dataScale,b={};function g(m,w){var f=p[w],S=c[i[w]];return a(m,function(T){return f.d2l(T)*S})}b.vectors=d(g(u.u,"xaxis"),g(u.v,"yaxis"),g(u.w,"zaxis"),u._len),b.positions=d(g(u.x,"xaxis"),g(u.y,"yaxis"),g(u.z,"zaxis"),u._len);var h=y(u);b.colormap=_(u),b.vertexIntensityBounds=[h.min/u._normMax,h.max/u._normMax],b.coneOffset=r[u.anchor],u.sizemode==="scaled"?b.coneSize=u.sizeref||.5:b.coneSize=u.sizeref&&u._normMax?u.sizeref/u._normMax:.5;var x=M(b),v=u.lightposition;return x.lightPosition=[v.x,v.y,v.z],x.ambient=u.lighting.ambient,x.diffuse=u.lighting.diffuse,x.specular=u.lighting.specular,x.roughness=u.lighting.roughness,x.fresnel=u.lighting.fresnel,x.opacity=u.opacity,u._pad=n[u.anchor]*x.vectorScale*x.coneScale*u._normMax,x}t.update=function(o){this.data=o;var u=l(this.scene,o);this.mesh.update(u)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(o,u){var p=o.glplot.gl,c=l(o,u),b=k(p,c),g=new s(o,u.uid);return g.mesh=b,g.data=u,b._trace=g,o.glplot.add(b),g}},91750:function(Y,O,e){var M=e(71828),k=e(1586),a=e(12674);Y.exports=function(_,y,d,s){function t(p,c){return M.coerce(_,y,a,p,c)}var i=t("u"),r=t("v"),n=t("w"),l=t("x"),o=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&l&&l.length&&o&&o.length&&u&&u.length?(t("sizeref"),t("sizemode"),t("anchor"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(_,y,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),y._length=null):y.visible=!1}},98128:function(Y,O,e){Y.exports={moduleType:"trace",name:"cone",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(12674),supplyDefaults:e(91750),colorbar:{min:"cmin",max:"cmax"},calc:e(31371),plot:e(5453),eventData:function(M,k){return M.norm=k.traceCoordinate[6],M},meta:{}}},70600:function(Y,O,e){var M=e(21606),k=e(82196),a=e(12663),_=a.axisHoverFormat,y=a.descriptionOnlyNumbers,d=e(50693),s=e(79952).P,t=e(41940),i=e(1426).extendFlat,r=e(74808),n=r.COMPARISON_OPS2,l=r.INTERVAL_OPS,o=k.line;Y.exports=i({z:M.z,x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,text:M.text,hovertext:M.hovertext,transpose:M.transpose,xtype:M.xtype,ytype:M.ytype,xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:M.hovertemplate,texttemplate:i({},M.texttemplate,{}),textfont:i({},M.textfont,{}),hoverongaps:M.hoverongaps,connectgaps:i({},M.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:t({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:y("contour label")},operation:{valType:"enumerated",values:[].concat(n).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:i({},o.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:s,smoothing:i({},o.smoothing,{}),editType:"plot"}},d("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(Y,O,e){var M=e(21081),k=e(90757),a=e(18670),_=e(53572);Y.exports=function(y,d){var s=k(y,d),t=s[0].z;a(d,t);var i,r=d.contours,n=M.extractOpts(d);if(r.coloring==="heatmap"&&n.auto&&d.autocontour===!1){var l=r.start,o=_(r),u=r.size||1,p=Math.floor((o-l)/u)+1;isFinite(u)||(u=1,p=1);var c=l-u/2;i=[c,c+p*u]}else i=t;return M.calc(y,d,{vals:i,cLetter:"z"}),s}},20083:function(Y){Y.exports=function(O,e){var M,k=O[0],a=k.z;switch(e.type){case"levels":var _=Math.min(a[0][0],a[0][1]);for(M=0;M<O.length;M++){var y=O[M];y.prefixBoundary=!y.edgepaths.length&&(_>y.level||y.starts.length&&_===y.level)}break;case"constraint":if(k.prefixBoundary=!1,k.edgepaths.length)return;var d=k.x.length,s=k.y.length,t=-1/0,i=1/0;for(M=0;M<s;M++)i=Math.min(i,a[M][0]),i=Math.min(i,a[M][d-1]),t=Math.max(t,a[M][0]),t=Math.max(t,a[M][d-1]);for(M=1;M<d-1;M++)i=Math.min(i,a[0][M]),i=Math.min(i,a[s-1][M]),t=Math.max(t,a[0][M]),t=Math.max(t,a[s-1][M]);var r,n,l=e.value;switch(e._operation){case">":l>t&&(k.prefixBoundary=!0);break;case"<":(l<i||k.starts.length&&l===i)&&(k.prefixBoundary=!0);break;case"[]":r=Math.min(l[0],l[1]),((n=Math.max(l[0],l[1]))<i||r>t||k.starts.length&&n===i)&&(k.prefixBoundary=!0);break;case"][":r=Math.min(l[0],l[1]),n=Math.max(l[0],l[1]),r<i&&n>t&&(k.prefixBoundary=!0)}}}},90654:function(Y,O,e){var M=e(21081),k=e(86068),a=e(53572);Y.exports={min:"zmin",max:"zmax",calc:function(_,y,d){var s=y.contours,t=y.line,i=s.size||1,r=s.coloring,n=k(y,{isColorbar:!0});if(r==="heatmap"){var l=M.extractOpts(y);d._fillgradient=l.reversescale?M.flipScale(l.colorscale):l.colorscale,d._zrange=[l.min,l.max]}else r==="fill"&&(d._fillcolor=n);d._line={color:r==="lines"?n:t.color,width:s.showlines!==!1?t.width:0,dash:t.dash},d._levels={start:s.start,end:a(s),size:i}}}},36914:function(Y){Y.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(Y,O,e){var M=e(92770),k=e(14523),a=e(7901),_=a.addOpacity,y=a.opacity,d=e(74808),s=d.CONSTRAINT_REDUCTION,t=d.COMPARISON_OPS2;Y.exports=function(i,r,n,l,o,u){var p,c,b,g=r.contours,h=n("contours.operation");g._operation=s[h],function(x,v){var m;t.indexOf(v.operation)===-1?(x("contours.value",[0,1]),Array.isArray(v.value)?v.value.length>2?v.value=v.value.slice(2):v.length===0?v.value=[0,1]:v.length<2?(m=parseFloat(v.value[0]),v.value=[m,m+1]):v.value=[parseFloat(v.value[0]),parseFloat(v.value[1])]:M(v.value)&&(m=parseFloat(v.value),v.value=[m,m+1])):(x("contours.value",0),M(v.value)||(Array.isArray(v.value)?v.value=parseFloat(v.value[0]):v.value=0))}(n,g),h==="="?p=g.showlines=!0:(p=n("contours.showlines"),b=n("fillcolor",_((i.line||{}).color||o,.5))),p&&(c=n("line.color",b&&y(b)?_(r.fillcolor,1):o),n("line.width",2),n("line.dash")),n("line.smoothing"),k(n,l,c,u)}},64237:function(Y,O,e){var M=e(74808),k=e(92770);function a(d,s){var t,i=Array.isArray(s);function r(n){return k(n)?+n:null}return M.COMPARISON_OPS2.indexOf(d)!==-1?t=r(i?s[0]:s):M.INTERVAL_OPS.indexOf(d)!==-1?t=i?[r(s[0]),r(s[1])]:[r(s),r(s)]:M.SET_OPS.indexOf(d)!==-1&&(t=i?s.map(r):[r(s)]),t}function _(d){return function(s){s=a(d,s);var t=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return{start:t,end:i,size:i-t}}}function y(d){return function(s){return{start:s=a(d,s),end:1/0,size:1/0}}}Y.exports={"[]":_("[]"),"][":_("]["),">":y(">"),"<":y("<"),"=":y("=")}},67217:function(Y){Y.exports=function(O,e,M,k){var a=k("contours.start"),_=k("contours.end"),y=a===!1||_===!1,d=M("contours.size");!(y?e.autocontour=!0:M("autocontour",!1))&&d||M("ncontours")}},84857:function(Y,O,e){var M=e(71828);function k(a){return M.extendFlat({},a,{edgepaths:M.extendDeep([],a.edgepaths),paths:M.extendDeep([],a.paths),starts:M.extendDeep([],a.starts)})}Y.exports=function(a,_){var y,d,s,t=function(n){return n.reverse()},i=function(n){return n};switch(_){case"=":case"<":return a;case">":for(a.length!==1&&M.warn("Contour data invalid for the specified inequality operation."),d=a[0],y=0;y<d.edgepaths.length;y++)d.edgepaths[y]=t(d.edgepaths[y]);for(y=0;y<d.paths.length;y++)d.paths[y]=t(d.paths[y]);for(y=0;y<d.starts.length;y++)d.starts[y]=t(d.starts[y]);return a;case"][":var r=t;t=i,i=r;case"[]":for(a.length!==2&&M.warn("Contour data invalid for the specified inequality range operation."),d=k(a[0]),s=k(a[1]),y=0;y<d.edgepaths.length;y++)d.edgepaths[y]=t(d.edgepaths[y]);for(y=0;y<d.paths.length;y++)d.paths[y]=t(d.paths[y]);for(y=0;y<d.starts.length;y++)d.starts[y]=t(d.starts[y]);for(;s.edgepaths.length;)d.edgepaths.push(i(s.edgepaths.shift()));for(;s.paths.length;)d.paths.push(i(s.paths.shift()));for(;s.starts.length;)d.starts.push(i(s.starts.shift()));return[d]}}},13031:function(Y,O,e){var M=e(71828),k=e(67684),a=e(73927),_=e(83179),y=e(67217),d=e(8724),s=e(58623),t=e(70600);Y.exports=function(i,r,n,l){function o(p,c){return M.coerce(i,r,t,p,c)}if(k(i,r,o,l)){a(i,r,l,o),o("xhoverformat"),o("yhoverformat"),o("text"),o("hovertext"),o("hoverongaps"),o("hovertemplate");var u=o("contours.type")==="constraint";o("connectgaps",M.isArray1D(r.z)),u?_(i,r,o,l,n):(y(i,r,o,function(p){return M.coerce2(i,r,t,p)}),d(i,r,o,l)),r.contours&&r.contours.coloring==="heatmap"&&s(o,l)}else r.visible=!1}},87558:function(Y,O,e){var M=e(71828),k=e(64237),a=e(53572);Y.exports=function(_,y,d){for(var s=_.type==="constraint"?k[_._operation](_.value):_,t=s.size,i=[],r=a(s),n=d.trace._carpetTrace,l=n?{xaxis:n.aaxis,yaxis:n.baxis,x:d.a,y:d.b}:{xaxis:y.xaxis,yaxis:y.yaxis,x:d.x,y:d.y},o=s.start;o<r;o+=t)if(i.push(M.extendFlat({level:o,crossings:{},starts:[],edgepaths:[],paths:[],z:d.z,smoothing:d.trace.line.smoothing},l)),i.length>1e3){M.warn("Too many contours, clipping at 1000",_);break}return i}},53572:function(Y){Y.exports=function(O){return O.end+O.size/1e6}},81696:function(Y,O,e){var M=e(71828),k=e(36914);function a(d,s,t,i){return Math.abs(d[0]-s[0])<t&&Math.abs(d[1]-s[1])<i}function _(d,s,t,i,r){var n,l=s.join(","),o=d.crossings[l],u=function(ne,re,ae){var ue=0,pe=0;return ne>20&&re?ne===208||ne===1114?ue=ae[0]===0?1:-1:pe=ae[1]===0?1:-1:k.BOTTOMSTART.indexOf(ne)!==-1?pe=1:k.LEFTSTART.indexOf(ne)!==-1?ue=1:k.TOPSTART.indexOf(ne)!==-1?pe=-1:ue=-1,[ue,pe]}(o,t,s),p=[y(d,s,[-u[0],-u[1]])],c=d.z.length,b=d.z[0].length,g=s.slice(),h=u.slice();for(n=0;n<1e4;n++){if(o>20?(o=k.CHOOSESADDLE[o][(u[0]||u[1])<0?0:1],d.crossings[l]=k.SADDLEREMAINDER[o]):delete d.crossings[l],!(u=k.NEWDELTA[o])){M.log("Found bad marching index:",o,s,d.level);break}p.push(y(d,s,u)),s[0]+=u[0],s[1]+=u[1],l=s.join(","),a(p[p.length-1],p[p.length-2],i,r)&&p.pop();var x=u[0]&&(s[0]<0||s[0]>b-2)||u[1]&&(s[1]<0||s[1]>c-2);if(s[0]===g[0]&&s[1]===g[1]&&u[0]===h[0]&&u[1]===h[1]||t&&x)break;o=d.crossings[l]}n===1e4&&M.log("Infinite loop in contour?");var v,m,w,f,S,T,E,L,C,P,R,G,I,H,N,B=a(p[0],p[p.length-1],i,r),V=0,q=.2*d.smoothing,te=[],$=0;for(n=1;n<p.length;n++)G=p[n],I=p[n-1],H=G[2]-I[2],N=G[3]-I[3],V+=E=Math.sqrt(H*H+N*N),te.push(E);var K=V/te.length*q;function Z(ne){return p[ne%p.length]}for(n=p.length-2;n>=$;n--)if((v=te[n])<K){for(w=0,m=n-1;m>=$&&v+te[m]<K;m--)v+=te[m];if(B&&n===p.length-2)for(w=0;w<m&&v+te[w]<K;w++)v+=te[w];S=n-m+w+1,T=Math.floor((n+m+w+2)/2),f=B||n!==p.length-2?B||m!==-1?S%2?Z(T):[(Z(T)[0]+Z(T+1)[0])/2,(Z(T)[1]+Z(T+1)[1])/2]:p[0]:p[p.length-1],p.splice(m+1,n-m+1,f),n=m+1,w&&($=w),B&&(n===p.length-2?p[w]=p[p.length-1]:n===0&&(p[p.length-1]=p[0]))}for(p.splice(0,$),n=0;n<p.length;n++)p[n].length=2;if(!(p.length<2))if(B)p.pop(),d.paths.push(p);else{t||M.log("Unclosed interior contour?",d.level,g.join(","),p.join("L"));var X=!1;for(L=0;L<d.edgepaths.length;L++)if(P=d.edgepaths[L],!X&&a(P[0],p[p.length-1],i,r)){p.pop(),X=!0;var ee=!1;for(C=0;C<d.edgepaths.length;C++)if(a((R=d.edgepaths[C])[R.length-1],p[0],i,r)){ee=!0,p.shift(),d.edgepaths.splice(L,1),C===L?d.paths.push(p.concat(R)):(C>L&&C--,d.edgepaths[C]=R.concat(p,P));break}ee||(d.edgepaths[L]=p.concat(P))}for(L=0;L<d.edgepaths.length&&!X;L++)a((P=d.edgepaths[L])[P.length-1],p[0],i,r)&&(p.shift(),d.edgepaths[L]=P.concat(p),X=!0);X||d.edgepaths.push(p)}}function y(d,s,t){var i=s[0]+Math.max(t[0],0),r=s[1]+Math.max(t[1],0),n=d.z[r][i],l=d.xaxis,o=d.yaxis;if(t[1]){var u=(d.level-n)/(d.z[r][i+1]-n),p=(u!==1?(1-u)*l.c2l(d.x[i]):0)+(u!==0?u*l.c2l(d.x[i+1]):0);return[l.c2p(l.l2c(p),!0),o.c2p(d.y[r],!0),i+u,r]}var c=(d.level-n)/(d.z[r+1][i]-n),b=(c!==1?(1-c)*o.c2l(d.y[r]):0)+(c!==0?c*o.c2l(d.y[r+1]):0);return[l.c2p(d.x[i],!0),o.c2p(o.l2c(b),!0),i,r+c]}Y.exports=function(d,s,t){var i,r,n,l;for(s=s||.01,t=t||.01,r=0;r<d.length;r++){for(n=d[r],l=0;l<n.starts.length;l++)_(n,n.starts[l],"edge",s,t);for(i=0;Object.keys(n.crossings).length&&i<1e4;)i++,_(n,Object.keys(n.crossings)[0].split(",").map(Number),void 0,s,t);i===1e4&&M.log("Infinite loop in contour?")}}},52421:function(Y,O,e){var M=e(7901),k=e(46248);Y.exports=function(a,_,y,d,s){s||(s={}),s.isContour=!0;var t=k(a,_,y,d,s);return t&&t.forEach(function(i){var r=i.trace;r.contours.type==="constraint"&&(r.fillcolor&&M.opacity(r.fillcolor)?i.color=M.addOpacity(r.fillcolor,1):r.contours.showlines&&M.opacity(r.line.color)&&(i.color=M.addOpacity(r.line.color,1)))}),t}},99442:function(Y,O,e){Y.exports={attributes:e(70600),supplyDefaults:e(13031),calc:e(27529),plot:e(29854).plot,style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"contour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(Y,O,e){var M=e(71828);Y.exports=function(k,a,_,y){if(y||(y={}),k("contours.showlabels")){var d=a.font;M.coerceFont(k,"contours.labelfont",{family:d.family,size:d.size,color:_}),k("contours.labelformat")}y.hasHover!==!1&&k("zhoverformat")}},86068:function(Y,O,e){var M=e(39898),k=e(21081),a=e(53572);Y.exports=function(_){var y=_.contours,d=y.start,s=a(y),t=y.size||1,i=Math.floor((s-d)/t)+1,r=y.coloring==="lines"?0:1,n=k.extractOpts(_);isFinite(t)||(t=1,i=1);var l,o,u=n.reversescale?k.flipScale(n.colorscale):n.colorscale,p=u.length,c=new Array(p),b=new Array(p),g=n.min,h=n.max;if(y.coloring==="heatmap"){for(o=0;o<p;o++)l=u[o],c[o]=l[0]*(h-g)+g,b[o]=l[1];var x=M.extent([g,h,y.start,y.start+t*(i-1)]),v=x[g<h?0:1],m=x[g<h?1:0];v!==g&&(c.splice(0,0,v),b.splice(0,0,b[0])),m!==h&&(c.push(m),b.push(b[b.length-1]))}else{var w=_._input&&typeof _._input.zmin=="number"&&typeof _._input.zmax=="number";for(w&&(d<=g||s>=h)&&(d<=g&&(d=g),s>=h&&(s=h),i=Math.floor((s-d)/t)+1,r=0),o=0;o<p;o++)l=u[o],c[o]=(l[0]*(i+r-1)-r/2)*t+d,b[o]=l[1];(w||_.autocontour)&&(c[0]>g&&(c.unshift(g),b.unshift(b[0])),c[c.length-1]<h&&(c.push(h),b.push(b[b.length-1])))}return k.makeColorScaleFunc({domain:c,range:b},{noNumericCheck:!0})}},87678:function(Y,O,e){var M=e(36914);function k(a,_){var y=(_[0][0]>a?0:1)+(_[0][1]>a?0:2)+(_[1][1]>a?0:4)+(_[1][0]>a?0:8);return y===5||y===10?a>(_[0][0]+_[0][1]+_[1][0]+_[1][1])/4?y===5?713:1114:y===5?104:208:y===15?0:y}Y.exports=function(a){var _,y,d,s,t,i,r,n,l,o=a[0].z,u=o.length,p=o[0].length,c=u===2||p===2;for(y=0;y<u-1;y++)for(s=[],y===0&&(s=s.concat(M.BOTTOMSTART)),y===u-2&&(s=s.concat(M.TOPSTART)),_=0;_<p-1;_++)for(d=s.slice(),_===0&&(d=d.concat(M.LEFTSTART)),_===p-2&&(d=d.concat(M.RIGHTSTART)),t=_+","+y,i=[[o[y][_],o[y][_+1]],[o[y+1][_],o[y+1][_+1]]],l=0;l<a.length;l++)(r=k((n=a[l]).level,i))&&(n.crossings[t]=r,d.indexOf(r)!==-1&&(n.starts.push([_,y]),c&&d.indexOf(r,d.indexOf(r)+1)!==-1&&n.starts.push([_,y])))}},29854:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(21081),y=e(63893),d=e(89298),s=e(21994),t=e(50347),i=e(87678),r=e(81696),n=e(87558),l=e(84857),o=e(20083),u=e(36914),p=u.LABELOPTIMIZER;function c(h,x){var v,m,w,f,S,T,E,L="",C=0,P=h.edgepaths.map(function(B,V){return V}),R=!0;function G(B){return Math.abs(B[1]-x[2][1])<.01}function I(B){return Math.abs(B[0]-x[0][0])<.01}function H(B){return Math.abs(B[0]-x[2][0])<.01}for(;P.length;){for(T=a.smoothopen(h.edgepaths[C],h.smoothing),L+=R?T:T.replace(/^M/,"L"),P.splice(P.indexOf(C),1),v=h.edgepaths[C][h.edgepaths[C].length-1],f=-1,w=0;w<4;w++){if(!v){k.log("Missing end?",C,h);break}for(E=v,Math.abs(E[1]-x[0][1])<.01&&!H(v)?m=x[1]:I(v)?m=x[0]:G(v)?m=x[3]:H(v)&&(m=x[2]),S=0;S<h.edgepaths.length;S++){var N=h.edgepaths[S][0];Math.abs(v[0]-m[0])<.01?Math.abs(v[0]-N[0])<.01&&(N[1]-v[1])*(m[1]-N[1])>=0&&(m=N,f=S):Math.abs(v[1]-m[1])<.01?Math.abs(v[1]-N[1])<.01&&(N[0]-v[0])*(m[0]-N[0])>=0&&(m=N,f=S):k.log("endpt to newendpt is not vert. or horz.",v,m,N)}if(v=m,f>=0)break;L+="L"+m}if(f===h.edgepaths.length){k.log("unclosed perimeter path");break}C=f,(R=P.indexOf(C)===-1)&&(C=P[0],L+="Z")}for(C=0;C<h.paths.length;C++)L+=a.smoothclosed(h.paths[C],h.smoothing);return L}function b(h,x,v,m){var w=x.width/2,f=x.height/2,S=h.x,T=h.y,E=h.theta,L=Math.cos(E)*w,C=Math.sin(E)*w,P=(S>m.center?m.right-S:S-m.left)/(L+Math.abs(Math.sin(E)*f)),R=(T>m.middle?m.bottom-T:T-m.top)/(Math.abs(C)+Math.cos(E)*f);if(P<1||R<1)return 1/0;var G=p.EDGECOST*(1/(P-1)+1/(R-1));G+=p.ANGLECOST*E*E;for(var I=S-L,H=T-C,N=S+L,B=T+C,V=0;V<v.length;V++){var q=v[V],te=Math.cos(q.theta)*q.width/2,$=Math.sin(q.theta)*q.width/2,K=2*k.segmentDistance(I,H,N,B,q.x-te,q.y-$,q.x+te,q.y+$)/(x.height+q.height),Z=q.level===x.level,X=Z?p.SAMELEVELDISTANCE:1;if(K<=X)return 1/0;G+=p.NEIGHBORCOST*(Z?p.SAMELEVELFACTOR:1)/(K-X)}return G}function g(h){var x,v,m=h.trace._emptypoints,w=[],f=h.z.length,S=h.z[0].length,T=[];for(x=0;x<S;x++)T.push(1);for(x=0;x<f;x++)w.push(T.slice());for(x=0;x<m.length;x++)w[(v=m[x])[0]][v[1]]=0;return h.zmask=w,w}O.plot=function(h,x,v,m){var w=x.xaxis,f=x.yaxis;k.makeTraceGroups(m,v,"contour").each(function(S){var T=M.select(this),E=S[0],L=E.trace,C=E.x,P=E.y,R=L.contours,G=n(R,x,E),I=k.ensureSingle(T,"g","heatmapcoloring"),H=[];R.coloring==="heatmap"&&(H=[S]),t(h,x,H,I),i(G),r(G);var N=w.c2p(C[0],!0),B=w.c2p(C[C.length-1],!0),V=f.c2p(P[0],!0),q=f.c2p(P[P.length-1],!0),te=[[N,q],[B,q],[B,V],[N,V]],$=G;R.type==="constraint"&&($=l(G,R._operation)),function(K,Z,X){var ee=k.ensureSingle(K,"g","contourbg").selectAll("path").data(X.coloring==="fill"?[0]:[]);ee.enter().append("path"),ee.exit().remove(),ee.attr("d","M"+Z.join("L")+"Z").style("stroke","none")}(T,te,R),function(K,Z,X,ee){var ne=ee.coloring==="fill"||ee.type==="constraint"&&ee._operation!=="=",re="M"+X.join("L")+"Z";ne&&o(Z,ee);var ae=k.ensureSingle(K,"g","contourfill").selectAll("path").data(ne?Z:[]);ae.enter().append("path"),ae.exit().remove(),ae.each(function(ue){var pe=(ue.prefixBoundary?re:"")+c(ue,X);pe?M.select(this).attr("d",pe).style("stroke","none"):M.select(this).remove()})}(T,$,te,R),function(K,Z,X,ee,ne){var re=X._context.staticPlot,ae=k.ensureSingle(K,"g","contourlines"),ue=ne.showlines!==!1,pe=ne.showlabels,ge=ue&&pe,we=O.createLines(ae,ue||pe,Z,re),me=O.createLineClip(ae,ge,X,ee.trace.uid),ve=K.selectAll("g.contourlabels").data(pe?[0]:[]);if(ve.exit().remove(),ve.enter().append("g").classed("contourlabels",!0),pe){var Ie=[],Se=[];k.clearLocationCache();var ke=O.labelFormatter(X,ee),se=a.tester.append("text").attr("data-notex",1).call(a.font,ne.labelfont),oe=Z[0].xaxis,he=Z[0].yaxis,Le=oe._length,Me=he._length,_e=oe.range,De=he.range,Ne=k.aggNums(Math.min,null,ee.x),ce=k.aggNums(Math.max,null,ee.x),Te=k.aggNums(Math.min,null,ee.y),ye=k.aggNums(Math.max,null,ee.y),Oe=Math.max(oe.c2p(Ne,!0),0),Be=Math.min(oe.c2p(ce,!0),Le),Fe=Math.max(he.c2p(ye,!0),0),Ge=Math.min(he.c2p(Te,!0),Me),Ze={};_e[0]<_e[1]?(Ze.left=Oe,Ze.right=Be):(Ze.left=Be,Ze.right=Oe),De[0]<De[1]?(Ze.top=Fe,Ze.bottom=Ge):(Ze.top=Ge,Ze.bottom=Fe),Ze.middle=(Ze.top+Ze.bottom)/2,Ze.center=(Ze.left+Ze.right)/2,Ie.push([[Ze.left,Ze.top],[Ze.right,Ze.top],[Ze.right,Ze.bottom],[Ze.left,Ze.bottom]]);var et=Math.sqrt(Le*Le+Me*Me),ft=u.LABELDISTANCE*et/Math.max(1,Z.length/u.LABELINCREASE);we.each(function(rt){var _t=O.calcTextOpts(rt.level,ke,se,X);M.select(this).selectAll("path").each(function(){var kt=k.getVisibleSegment(this,Ze,_t.height/2);if(kt&&!(kt.len<(_t.width+_t.height)*u.LABELMIN))for(var wt=Math.min(Math.ceil(kt.len/ft),u.LABELMAX),lt=0;lt<wt;lt++){var ut=O.findBestTextLocation(this,kt,_t,Se,Ze);if(!ut)break;O.addLabelData(ut,_t,Se,Ie)}})}),se.remove(),O.drawLabels(ve,Se,X,me,ge?Ie:null)}pe&&!ue&&we.remove()}(T,G,h,E,R),function(K,Z,X,ee,ne){var re=ee.trace,ae=X._fullLayout._clips,ue="clip"+re.uid,pe=ae.selectAll("#"+ue).data(re.connectgaps?[]:[0]);if(pe.enter().append("clipPath").classed("contourclip",!0).attr("id",ue),pe.exit().remove(),re.connectgaps===!1){var ge={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:Z.xaxis,yaxis:Z.yaxis,x:ee.x,y:ee.y,z:g(ee),smoothing:0};i([ge]),r([ge]),o([ge],{type:"levels"}),k.ensureSingle(pe,"path","").attr("d",(ge.prefixBoundary?"M"+ne.join("L")+"Z":"")+c(ge,ne))}else ue=null;a.setClipUrl(K,ue,X)}(T,x,h,E,te)})},O.createLines=function(h,x,v,m){var w=v[0].smoothing,f=h.selectAll("g.contourlevel").data(x?v:[]);if(f.exit().remove(),f.enter().append("g").classed("contourlevel",!0),x){var S=f.selectAll("path.openline").data(function(E){return E.pedgepaths||E.edgepaths});S.exit().remove(),S.enter().append("path").classed("openline",!0),S.attr("d",function(E){return a.smoothopen(E,w)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke");var T=f.selectAll("path.closedline").data(function(E){return E.ppaths||E.paths});T.exit().remove(),T.enter().append("path").classed("closedline",!0),T.attr("d",function(E){return a.smoothclosed(E,w)}).style("stroke-miterlimit",1).style("vector-effect",m?"none":"non-scaling-stroke")}return f},O.createLineClip=function(h,x,v,m){var w=x?"clipline"+m:null,f=v._fullLayout._clips.selectAll("#"+w).data(x?[0]:[]);return f.exit().remove(),f.enter().append("clipPath").classed("contourlineclip",!0).attr("id",w),a.setClipUrl(h,w,v),f},O.labelFormatter=function(h,x){var v=h._fullLayout,m=x.trace,w=m.contours,f={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(w.labelformat)f.tickformat=w.labelformat,s(f,v);else{var S=_.extractOpts(m);if(S&&S.colorbar&&S.colorbar._axis)f=S.colorbar._axis;else{if(w.type==="constraint"){var T=w.value;Array.isArray(T)?f.range=[T[0],T[T.length-1]]:f.range=[T,T]}else f.range=[w.start,w.end],f.nticks=(w.end-w.start)/w.size;f.range[0]===f.range[1]&&(f.range[1]+=f.range[0]||1),f.nticks||(f.nticks=1e3),s(f,v),d.prepTicks(f),f._tmin=null,f._tmax=null}}return function(E){return d.tickText(f,E).text}},O.calcTextOpts=function(h,x,v,m){var w=x(h);v.text(w).call(y.convertToTspans,m);var f=v.node(),S=a.bBox(f,!0);return{text:w,width:S.width,height:S.height,fontSize:+f.style["font-size"].replace("px",""),level:h,dy:(S.top+S.bottom)/2}},O.findBestTextLocation=function(h,x,v,m,w){var f,S,T,E,L,C=v.width;x.isClosed?(S=x.len/p.INITIALSEARCHPOINTS,f=x.min+S/2,T=x.max):(S=(x.len-C)/(p.INITIALSEARCHPOINTS+1),f=x.min+S+C/2,T=x.max-(S+C)/2);for(var P=1/0,R=0;R<p.ITERATIONS;R++){for(var G=f;G<T;G+=S){var I=k.getTextLocation(h,x.total,G,C),H=b(I,v,m,w);H<P&&(P=H,L=I,E=G)}if(P>2*p.MAXCOST)break;R&&(S/=2),T=(f=E-S/2)+1.5*S}if(P<=p.MAXCOST)return L},O.addLabelData=function(h,x,v,m){var w=x.fontSize,f=x.width+w/3,S=Math.max(0,x.height-w/3),T=h.x,E=h.y,L=h.theta,C=Math.sin(L),P=Math.cos(L),R=function(I,H){return[T+I*P-H*C,E+I*C+H*P]},G=[R(-f/2,-S/2),R(-f/2,S/2),R(f/2,S/2),R(f/2,-S/2)];v.push({text:x.text,x:T,y:E,dy:x.dy,theta:L,level:x.level,width:f,height:S}),m.push(G)},O.drawLabels=function(h,x,v,m,w){var f=h.selectAll("text").data(x,function(E){return E.text+","+E.x+","+E.y+","+E.theta});if(f.exit().remove(),f.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(E){var L=E.x+Math.sin(E.theta)*E.dy,C=E.y-Math.cos(E.theta)*E.dy;M.select(this).text(E.text).attr({x:L,y:C,transform:"rotate("+180*E.theta/Math.PI+" "+L+" "+C+")"}).call(y.convertToTspans,v)}),w){for(var S="",T=0;T<w.length;T++)S+="M"+w[T].join("L")+"Z";k.ensureSingle(m,"path","").attr("d",S)}}},18670:function(Y,O,e){var M=e(89298),k=e(71828);function a(_,y,d){var s={type:"linear",range:[_,y]};return M.autoTicks(s,(y-_)/(d||15)),s}Y.exports=function(_,y){var d=_.contours;if(_.autocontour){var s=_.zmin,t=_.zmax;(_.zauto||s===void 0)&&(s=k.aggNums(Math.min,null,y)),(_.zauto||t===void 0)&&(t=k.aggNums(Math.max,null,y));var i=a(s,t,_.ncontours);d.size=i.dtick,d.start=M.tickFirst(i),i.range.reverse(),d.end=M.tickFirst(i),d.start===s&&(d.start+=d.size),d.end===t&&(d.end-=d.size),d.start>d.end&&(d.start=d.end=(d.start+d.end)/2),_._input.contours||(_._input.contours={}),k.extendFlat(_._input.contours,{start:d.start,end:d.end,size:d.size}),_._input.autocontour=!0}else if(d.type!=="constraint"){var r,n=d.start,l=d.end,o=_._input.contours;n>l&&(d.start=o.start=l,l=d.end=o.end=n,n=d.start),d.size>0||(r=n===l?1:a(n,l,_.ncontours).dtick,o.size=d.size=r)}}},84426:function(Y,O,e){var M=e(39898),k=e(91424),a=e(70035),_=e(86068);Y.exports=function(y){var d=M.select(y).selectAll("g.contour");d.style("opacity",function(s){return s[0].trace.opacity}),d.each(function(s){var t=M.select(this),i=s[0].trace,r=i.contours,n=i.line,l=r.size||1,o=r.start,u=r.type==="constraint",p=!u&&r.coloring==="lines",c=!u&&r.coloring==="fill",b=p||c?_(i):null;t.selectAll("g.contourlevel").each(function(x){M.select(this).selectAll("path").call(k.lineGroupStyle,n.width,p?b(x.level):n.color,n.dash)});var g=r.labelfont;if(t.selectAll("g.contourlabels text").each(function(x){k.font(M.select(this),{family:g.family,size:g.size,color:g.color||(p?b(x.level):n.color)})}),u)t.selectAll("g.contourfill path").style("fill",i.fillcolor);else if(c){var h;t.selectAll("g.contourfill path").style("fill",function(x){return h===void 0&&(h=x.level),b(x.level+.5*l)}),h===void 0&&(h=o),t.selectAll("g.contourbg path").style("fill",b(h-.5*l))}}),a(y)}},8724:function(Y,O,e){var M=e(1586),k=e(14523);Y.exports=function(a,_,y,d,s){var t,i=y("contours.coloring"),r="";i==="fill"&&(t=y("contours.showlines")),t!==!1&&(i!=="lines"&&(r=y("line.color","#000")),y("line.width",.5),y("line.dash")),i!=="none"&&(a.showlegend!==!0&&(_.showlegend=!1),_._dfltShowLegend=!1,M(a,_,d,y,{prefix:"",cLetter:"z"})),y("line.smoothing"),k(y,d,r,s)}},88085:function(Y,O,e){var M=e(21606),k=e(70600),a=e(50693),_=e(1426).extendFlat,y=k.contours;Y.exports=_({carpet:{valType:"string",editType:"calc"},z:M.z,a:M.x,a0:M.x0,da:M.dx,b:M.y,b0:M.y0,db:M.dy,text:M.text,hovertext:M.hovertext,transpose:M.transpose,atype:M.xtype,btype:M.ytype,fillcolor:k.fillcolor,autocontour:k.autocontour,ncontours:k.ncontours,contours:{type:y.type,start:y.start,end:y.end,size:y.size,coloring:{valType:"enumerated",values:["fill","lines","none"],dflt:"fill",editType:"calc"},showlines:y.showlines,showlabels:y.showlabels,labelfont:y.labelfont,labelformat:y.labelformat,operation:y.operation,value:y.value,editType:"calc",impliedEdits:{autocontour:!1}},line:{color:k.line.color,width:k.line.width,dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},transforms:void 0},a("",{cLetter:"z",autoColorDflt:!1}))},59885:function(Y,O,e){var M=e(78803),k=e(71828),a=e(68296),_=e(4742),y=e(824),d=e(43907),s=e(70769),t=e(75005),i=e(22882),r=e(18670);Y.exports=function(n,l){var o=l._carpetTrace=i(n,l);if(o&&o.visible&&o.visible!=="legendonly"){if(!l.a||!l.b){var u=n.data[o.index],p=n.data[l.index];p.a||(p.a=u.a),p.b||(p.b=u.b),t(p,l,l._defaultColor,n._fullLayout)}var c=function(b,g){var h,x,v,m,w,f,S,T=g._carpetTrace,E=T.aaxis,L=T.baxis;E._minDtick=0,L._minDtick=0,k.isArray1D(g.z)&&a(g,E,L,"a","b",["z"]),h=g._a=g._a||g.a,m=g._b=g._b||g.b,h=h?E.makeCalcdata(g,"_a"):[],m=m?L.makeCalcdata(g,"_b"):[],x=g.a0||0,v=g.da||1,w=g.b0||0,f=g.db||1,S=g._z=_(g._z||g.z,g.transpose),g._emptypoints=d(S),y(S,g._emptypoints);var C=k.maxRowLength(S),P=g.xtype==="scaled"?"":h,R=s(g,P,x,v,C,E),G=g.ytype==="scaled"?"":m,I={a:R,b:s(g,G,w,f,S.length,L),z:S};return g.contours.type==="levels"&&g.contours.coloring!=="none"&&M(b,g,{vals:S,containerStr:"",cLetter:"z"}),[I]}(n,l);return r(l,l._z),c}}},75005:function(Y,O,e){var M=e(71828),k=e(67684),a=e(88085),_=e(83179),y=e(67217),d=e(8724);Y.exports=function(s,t,i,r){function n(l,o){return M.coerce(s,t,a,l,o)}if(n("carpet"),s.a&&s.b){if(!k(s,t,n,r,"a","b"))return void(t.visible=!1);n("text"),n("contours.type")==="constraint"?_(s,t,n,r,i,{hasHover:!1}):(y(s,t,n,function(l){return M.coerce2(s,t,a,l)}),d(s,t,n,r,{hasHover:!1}))}else t._defaultColor=i,t._length=null}},93740:function(Y,O,e){Y.exports={attributes:e(88085),supplyDefaults:e(75005),colorbar:e(90654),calc:e(59885),plot:e(51048),style:e(84426),moduleType:"trace",name:"contourcarpet",basePlotModule:e(93612),categories:["cartesian","svg","carpet","contour","symbols","showLegend","hasLines","carpetDependent","noHover","noSortingByValue"],meta:{}}},51048:function(Y,O,e){var M=e(39898),k=e(27669),a=e(67961),_=e(91424),y=e(71828),d=e(87678),s=e(81696),t=e(29854),i=e(36914),r=e(84857),n=e(87558),l=e(20083),o=e(22882),u=e(4536);function p(g,h,x){var v=g.getPointAtLength(h),m=g.getPointAtLength(x),w=m.x-v.x,f=m.y-v.y,S=Math.sqrt(w*w+f*f);return[w/S,f/S]}function c(g){var h=Math.sqrt(g[0]*g[0]+g[1]*g[1]);return[g[0]/h,g[1]/h]}function b(g,h){var x=Math.abs(g[0]*h[0]+g[1]*h[1]);return Math.sqrt(1-x*x)/x}Y.exports=function(g,h,x,v){var m=h.xaxis,w=h.yaxis;y.makeTraceGroups(v,x,"contour").each(function(f){var S=M.select(this),T=f[0],E=T.trace,L=E._carpetTrace=o(g,E),C=g.calcdata[L.index][0];if(L.visible&&L.visible!=="legendonly"){var P=T.a,R=T.b,G=E.contours,I=n(G,h,T),H=G.type==="constraint",N=G._operation,B=H?N==="="?"lines":"fill":G.coloring,V=[[P[0],R[R.length-1]],[P[P.length-1],R[R.length-1]],[P[P.length-1],R[0]],[P[0],R[0]]];d(I);var q=1e-8*(P[P.length-1]-P[0]),te=1e-8*(R[R.length-1]-R[0]);s(I,q,te);var $,K,Z,X,ee=I;G.type==="constraint"&&(ee=r(I,N)),function(ue,pe){var ge,we,me,ve,Ie,Se,ke,se,oe;for(ge=0;ge<ue.length;ge++){for(Ie=(ve=ue[ge]).pedgepaths=[],Se=ve.ppaths=[],we=0;we<ve.edgepaths.length;we++){for(oe=ve.edgepaths[we],ke=[],me=0;me<oe.length;me++)ke[me]=pe(oe[me]);Ie.push(ke)}for(we=0;we<ve.paths.length;we++){for(oe=ve.paths[we],se=[],me=0;me<oe.length;me++)se[me]=pe(oe[me]);Se.push(se)}}}(I,ae);var ne=[];for(X=C.clipsegments.length-1;X>=0;X--)$=C.clipsegments[X],K=k([],$.x,m.c2p),Z=k([],$.y,w.c2p),K.reverse(),Z.reverse(),ne.push(a(K,Z,$.bicubic));var re="M"+ne.join("L")+"Z";(function(ue,pe,ge,we,me,ve){var Ie,Se,ke,se,oe=y.ensureSingle(ue,"g","contourbg").selectAll("path").data(ve!=="fill"||me?[]:[0]);oe.enter().append("path"),oe.exit().remove();var he=[];for(se=0;se<pe.length;se++)Ie=pe[se],Se=k([],Ie.x,ge.c2p),ke=k([],Ie.y,we.c2p),he.push(a(Se,ke,Ie.bicubic));oe.attr("d","M"+he.join("L")+"Z").style("stroke","none")})(S,C.clipsegments,m,w,H,B),function(ue,pe,ge,we,me,ve,Ie,Se,ke,se,oe){var he=se==="fill";he&&l(me,ue.contours);var Le=y.ensureSingle(pe,"g","contourfill").selectAll("path").data(he?me:[]);Le.enter().append("path"),Le.exit().remove(),Le.each(function(Me){var _e=(Me.prefixBoundary?oe:"")+function(De,Ne,ce,Te,ye,Oe,Be,Fe){var Ge,Ze,et,ft,rt,_t,kt,wt="",lt=Ne.edgepaths.map(function(at,Re){return Re}),ut=!0,Et=1e-4*Math.abs(ce[0][0]-ce[2][0]),Ot=1e-4*Math.abs(ce[0][1]-ce[2][1]);function zt(at){return Math.abs(at[1]-ce[0][1])<Ot}function Lt(at){return Math.abs(at[1]-ce[2][1])<Ot}function Je(at){return Math.abs(at[0]-ce[0][0])<Et}function Qe(at){return Math.abs(at[0]-ce[2][0])<Et}function qe(at,Re){var je,st,ot,xt,mt="";for(zt(at)&&!Qe(at)||Lt(at)&&!Je(at)?(xt=ye.aaxis,ot=u(ye,Oe,[at[0],Re[0]],.5*(at[1]+Re[1]))):(xt=ye.baxis,ot=u(ye,Oe,.5*(at[0]+Re[0]),[at[1],Re[1]])),je=1;je<ot.length;je++)for(mt+=xt.smoothing?"C":"L",st=0;st<ot[je].length;st++){var bt=ot[je][st];mt+=[Be.c2p(bt[0]),Fe.c2p(bt[1])]+" "}return mt}for(Ge=0,Ze=null;lt.length;){var $e=Ne.edgepaths[Ge][0];for(Ze&&(wt+=qe(Ze,$e)),kt=_.smoothopen(Ne.edgepaths[Ge].map(Te),Ne.smoothing),wt+=ut?kt:kt.replace(/^M/,"L"),lt.splice(lt.indexOf(Ge),1),Ze=Ne.edgepaths[Ge][Ne.edgepaths[Ge].length-1],rt=-1,ft=0;ft<4;ft++){if(!Ze){y.log("Missing end?",Ge,Ne);break}for(zt(Ze)&&!Qe(Ze)?et=ce[1]:Je(Ze)?et=ce[0]:Lt(Ze)?et=ce[3]:Qe(Ze)&&(et=ce[2]),_t=0;_t<Ne.edgepaths.length;_t++){var ct=Ne.edgepaths[_t][0];Math.abs(Ze[0]-et[0])<Et?Math.abs(Ze[0]-ct[0])<Et&&(ct[1]-Ze[1])*(et[1]-ct[1])>=0&&(et=ct,rt=_t):Math.abs(Ze[1]-et[1])<Ot?Math.abs(Ze[1]-ct[1])<Ot&&(ct[0]-Ze[0])*(et[0]-ct[0])>=0&&(et=ct,rt=_t):y.log("endpt to newendpt is not vert. or horz.",Ze,et,ct)}if(rt>=0)break;wt+=qe(Ze,et),Ze=et}if(rt===Ne.edgepaths.length){y.log("unclosed perimeter path");break}Ge=rt,(ut=lt.indexOf(Ge)===-1)&&(Ge=lt[0],wt+=qe(Ze,et)+"Z",Ze=null)}for(Ge=0;Ge<Ne.paths.length;Ge++)wt+=_.smoothclosed(Ne.paths[Ge].map(Te),Ne.smoothing);return wt}(0,Me,ve,Ie,Se,ke,ge,we);_e?M.select(this).attr("d",_e).style("stroke","none"):M.select(this).remove()})}(E,S,m,w,ee,V,ae,L,C,B,re),function(ue,pe,ge,we,me,ve,Ie){var Se=ge._context.staticPlot,ke=y.ensureSingle(ue,"g","contourlines"),se=me.showlines!==!1,oe=me.showlabels,he=se&&oe,Le=t.createLines(ke,se||oe,pe,Se),Me=t.createLineClip(ke,he,ge,we.trace.uid),_e=ue.selectAll("g.contourlabels").data(oe?[0]:[]);if(_e.exit().remove(),_e.enter().append("g").classed("contourlabels",!0),oe){var De=ve.xaxis,Ne=ve.yaxis,ce=De._length,Te=Ne._length,ye=[[[0,0],[ce,0],[ce,Te],[0,Te]]],Oe=[];y.clearLocationCache();var Be=t.labelFormatter(ge,we),Fe=_.tester.append("text").attr("data-notex",1).call(_.font,me.labelfont),Ge={left:0,right:ce,center:ce/2,top:0,bottom:Te,middle:Te/2},Ze=Math.sqrt(ce*ce+Te*Te),et=i.LABELDISTANCE*Ze/Math.max(1,pe.length/i.LABELINCREASE);Le.each(function(ft){var rt=t.calcTextOpts(ft.level,Be,Fe,ge);M.select(this).selectAll("path").each(function(_t){var kt=this,wt=y.getVisibleSegment(kt,Ge,rt.height/2);if(wt&&(function(Ot,zt,Lt,Je,Qe,qe){for(var $e,ct=0;ct<Lt.pedgepaths.length;ct++)zt===Lt.pedgepaths[ct]&&($e=Lt.edgepaths[ct]);if($e){var at=Qe.a[0],Re=Qe.a[Qe.a.length-1],je=Qe.b[0],st=Qe.b[Qe.b.length-1],ot=p(Ot,0,1),xt=p(Ot,Je.total,Je.total-1),mt=dt($e[0],ot),bt=Je.total-dt($e[$e.length-1],xt);Je.min<mt&&(Je.min=mt),Je.max>bt&&(Je.max=bt),Je.len=Je.max-Je.min}function dt(St,gt){var vt,Mt=0,Bt=.1;return(Math.abs(St[0]-at)<Bt||Math.abs(St[0]-Re)<Bt)&&(vt=c(Qe.dxydb_rough(St[0],St[1],Bt)),Mt=Math.max(Mt,qe*b(gt,vt)/2)),(Math.abs(St[1]-je)<Bt||Math.abs(St[1]-st)<Bt)&&(vt=c(Qe.dxyda_rough(St[0],St[1],Bt)),Mt=Math.max(Mt,qe*b(gt,vt)/2)),Mt}}(kt,_t,ft,wt,Ie,rt.height),!(wt.len<(rt.width+rt.height)*i.LABELMIN)))for(var lt=Math.min(Math.ceil(wt.len/et),i.LABELMAX),ut=0;ut<lt;ut++){var Et=t.findBestTextLocation(kt,wt,rt,Oe,Ge);if(!Et)break;t.addLabelData(Et,rt,Oe,ye)}})}),Fe.remove(),t.drawLabels(_e,Oe,ge,Me,he?ye:null)}oe&&!se&&Le.remove()}(S,I,g,T,G,h,L),_.setClipUrl(S,L._clipPathId,g)}function ae(ue){var pe=L.ab2xy(ue[0],ue[1],!0);return[m.c2p(pe[0]),w.c2p(pe[1])]}})}},64096:function(Y,O,e){var M=e(50693),k=e(5386).fF,a=e(9012),_=e(99181),y=e(1426).extendFlat;Y.exports=y({lon:_.lon,lat:_.lat,z:{valType:"data_array",editType:"calc"},radius:{valType:"number",editType:"plot",arrayOk:!0,min:1,dflt:30},below:{valType:"string",editType:"plot"},text:_.text,hovertext:_.hovertext,hoverinfo:y({},a.hoverinfo,{flags:["lon","lat","z","text","name"]}),hovertemplate:k(),showlegend:y({},a.showlegend,{dflt:!1})},M("",{cLetter:"z",editTypeOverride:"calc"}))},85070:function(Y,O,e){var M=e(92770),k=e(71828).isArrayOrTypedArray,a=e(50606).BADNUM,_=e(78803),y=e(71828)._;Y.exports=function(d,s){for(var t=s._length,i=new Array(t),r=s.z,n=k(r)&&r.length,l=0;l<t;l++){var o=i[l]={},u=s.lon[l],p=s.lat[l];if(o.lonlat=M(u)&&M(p)?[+u,+p]:[a,a],n){var c=r[l];o.z=M(c)?c:a}}return _(d,s,{vals:n?r:[0,1],containerStr:"",cLetter:"z"}),t&&(i[0].t={labels:{lat:y(d,"lat:")+" ",lon:y(d,"lon:")+" "}}),i}},52414:function(Y,O,e){var M=e(92770),k=e(71828),a=e(7901),_=e(21081),y=e(50606).BADNUM,d=e(18214).makeBlank;Y.exports=function(s){var t=s[0].trace,i=t.visible===!0&&t._length!==0,r=t._opts={heatmap:{layout:{visibility:"none"},paint:{}},geojson:d()};if(!i)return r;var n,l=[],o=t.z,u=t.radius,p=k.isArrayOrTypedArray(o)&&o.length,c=k.isArrayOrTypedArray(u);for(n=0;n<s.length;n++){var b=s[n],g=b.lonlat;if(g[0]!==y){var h={};if(p){var x=b.z;h.z=x!==y?x:0}c&&(h.r=M(u[n])&&u[n]>0?+u[n]:0),l.push({type:"Feature",geometry:{type:"Point",coordinates:g},properties:h})}}var v=_.extractOpts(t),m=v.reversescale?_.flipScale(v.colorscale):v.colorscale,w=m[0][1],f=["interpolate",["linear"],["heatmap-density"],0,a.opacity(w)<1?w:a.addOpacity(w,0)];for(n=1;n<m.length;n++)f.push(m[n][0],m[n][1]);var S=["interpolate",["linear"],["get","z"],v.min,0,v.max,1];return k.extendFlat(r.heatmap.paint,{"heatmap-weight":p?S:1/(v.max-v.min),"heatmap-color":f,"heatmap-radius":c?{type:"identity",property:"r"}:t.radius,"heatmap-opacity":t.opacity}),r.geojson={type:"FeatureCollection",features:l},r.heatmap.layout.visibility="visible",r}},79429:function(Y,O,e){var M=e(71828),k=e(1586),a=e(64096);Y.exports=function(_,y,d,s){function t(l,o){return M.coerce(_,y,a,l,o)}var i=t("lon")||[],r=t("lat")||[],n=Math.min(i.length,r.length);n?(y._length=n,t("z"),t("radius"),t("below"),t("text"),t("hovertext"),t("hovertemplate"),k(_,y,s,t,{prefix:"",cLetter:"z"})):y.visible=!1}},62474:function(Y){Y.exports=function(O,e){return O.lon=e.lon,O.lat=e.lat,O.z=e.z,O}},84684:function(Y,O,e){var M=e(89298),k=e(28178).hoverPoints,a=e(28178).getExtraText;Y.exports=function(_,y,d){var s=k(_,y,d);if(s){var t=s[0],i=t.cd,r=i[0].trace,n=i[t.index];if(delete t.color,"z"in n){var l=t.subplot.mockAxis;t.z=n.z,t.zLabel=M.tickText(l,l.c2l(n.z),"hover").text}return t.extraText=a(r,n,i[0].t.labels),[t]}}},93814:function(Y,O,e){Y.exports={attributes:e(64096),supplyDefaults:e(79429),colorbar:e(61243),formatLabels:e(15636),calc:e(85070),plot:e(7336),hoverPoints:e(84684),eventData:e(62474),getBelow:function(M,k){for(var a=k.getMapLayers(),_=0;_<a.length;_++){var y=a[_],d=y.id;if(y.type==="symbol"&&typeof d=="string"&&d.indexOf("plotly-")===-1)return d}},moduleType:"trace",name:"densitymapbox",basePlotModule:e(50101),categories:["mapbox","gl","showLegend"],meta:{hr_name:"density_mapbox"}}},7336:function(Y,O,e){var M=e(52414),k=e(77734).traceLayerPrefix;function a(y,d){this.type="densitymapbox",this.subplot=y,this.uid=d,this.sourceId="source-"+d,this.layerList=[["heatmap",k+d+"-heatmap"]],this.below=null}var _=a.prototype;_.update=function(y){var d=this.subplot,s=this.layerList,t=M(y),i=d.belowLookup["trace-"+this.uid];d.map.getSource(this.sourceId).setData(t.geojson),i!==this.below&&(this._removeLayers(),this._addLayers(t,i),this.below=i);for(var r=0;r<s.length;r++){var n=s[r],l=n[0],o=n[1],u=t[l];d.setOptions(o,"setLayoutProperty",u.layout),u.layout.visibility==="visible"&&d.setOptions(o,"setPaintProperty",u.paint)}},_._addLayers=function(y,d){for(var s=this.subplot,t=this.layerList,i=this.sourceId,r=0;r<t.length;r++){var n=t[r],l=n[0],o=y[l];s.addLayer({type:l,id:n[1],source:i,layout:o.layout,paint:o.paint},d)}},_._removeLayers=function(){for(var y=this.subplot.map,d=this.layerList,s=d.length-1;s>=0;s--)y.removeLayer(d[s][1])},_.dispose=function(){var y=this.subplot.map;this._removeLayers(),y.removeSource(this.sourceId)},Y.exports=function(y,d){var s=d[0].trace,t=new a(y,s.uid),i=t.sourceId,r=M(d),n=t.below=y.belowLookup["trace-"+s.uid];return y.map.addSource(i,{type:"geojson",data:r.geojson}),t._addLayers(r,n),t}},49789:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){for(var _=0;_<k.length;_++)k[_].i=_;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.hovertext,k,"htx");var y=a.marker;if(y){M.mergeArray(y.opacity,k,"mo"),M.mergeArray(y.color,k,"mc");var d=y.line;d&&(M.mergeArray(d.color,k,"mlc"),M.mergeArrayCastPositive(d.width,k,"mlw"))}}},1285:function(Y,O,e){var M,k=e(1486),a=e(82196).line,_=e(9012),y=e(12663).axisHoverFormat,d=e(5386).fF,s=e(5386).si,t=e(18517),i=e(1426).extendFlat,r=e(7901);Y.exports={x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:y("x"),yhoverformat:y("y"),hovertext:k.hovertext,hovertemplate:d({},{keys:t.eventDataKeys}),hoverinfo:i({},_.hoverinfo,{flags:["name","x","y","text","percent initial","percent previous","percent total"]}),textinfo:{valType:"flaglist",flags:["label","text","percent initial","percent previous","percent total","value"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:s({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),text:k.text,textposition:k.textposition,insidetextanchor:i({},k.insidetextanchor,{dflt:"middle"}),textangle:i({},k.textangle,{dflt:0}),textfont:k.textfont,insidetextfont:k.insidetextfont,outsidetextfont:k.outsidetextfont,constraintext:k.constraintext,cliponaxis:k.cliponaxis,orientation:i({},k.orientation,{}),offset:i({},k.offset,{arrayOk:!1}),width:i({},k.width,{arrayOk:!1}),marker:(M=i({},k.marker),delete M.pattern,M),connector:{fillcolor:{valType:"color",editType:"style"},line:{color:i({},a.color,{dflt:r.defaultLine}),width:i({},a.width,{dflt:0,editType:"plot"}),dash:a.dash,editType:"style"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:k.offsetgroup,alignmentgroup:k.alignmentgroup}},9532:function(Y,O,e){var M=e(89298),k=e(42973),a=e(49789),_=e(66279),y=e(50606).BADNUM;function d(s){return s===y?0:s}Y.exports=function(s,t){var i,r,n,l,o,u,p,c,b=M.getFromId(s,t.xaxis||"x"),g=M.getFromId(s,t.yaxis||"y");t.orientation==="h"?(i=b.makeCalcdata(t,"x"),n=g.makeCalcdata(t,"y"),l=k(t,g,"y",n),o=!!t.yperiodalignment,u="y"):(i=g.makeCalcdata(t,"y"),n=b.makeCalcdata(t,"x"),l=k(t,b,"x",n),o=!!t.xperiodalignment,u="x"),r=l.vals;var h,x=Math.min(r.length,i.length),v=new Array(x);for(t._base=[],p=0;p<x;p++){i[p]<0&&(i[p]=y);var m=!1;i[p]!==y&&p+1<x&&i[p+1]!==y&&(m=!0),c=v[p]={p:r[p],s:i[p],cNext:m},t._base[p]=-.5*c.s,o&&(v[p].orig_p=n[p],v[p][u+"End"]=l.ends[p],v[p][u+"Start"]=l.starts[p]),t.ids&&(c.id=String(t.ids[p])),p===0&&(v[0].vTotal=0),v[0].vTotal+=d(c.s),c.begR=d(c.s)/d(v[0].s)}for(p=0;p<x;p++)(c=v[p]).s!==y&&(c.sumR=c.s/v[0].vTotal,c.difR=h!==void 0?c.s/h:1,h=c.s);return a(v,t),_(v,t),v}},18517:function(Y){Y.exports={eventDataKeys:["percentInitial","percentPrevious","percentTotal"]}},8984:function(Y,O,e){var M=e(11661).setGroupPositions;Y.exports=function(k,a){var _,y,d=k._fullLayout,s=k._fullData,t=k.calcdata,i=a.xaxis,r=a.yaxis,n=[],l=[],o=[];for(y=0;y<s.length;y++){var u=s[y],p=u.orientation==="h";u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="funnel"&&(_=t[y],p?o.push(_):l.push(_),n.push(_))}var c={mode:d.funnelmode,norm:d.funnelnorm,gap:d.funnelgap,groupgap:d.funnelgroupgap};for(M(k,i,r,l,c),M(k,r,i,o,c),y=0;y<n.length;y++){_=n[y];for(var b=0;b<_.length;b++)b+1<_.length&&(_[b].nextP0=_[b+1].p0,_[b].nextS0=_[b+1].s0,_[b].nextP1=_[b+1].p1,_[b].nextS1=_[b+1].s1)}}},26199:function(Y,O,e){var M=e(71828),k=e(26125),a=e(90769).handleText,_=e(67513),y=e(73927),d=e(1285),s=e(7901);Y.exports={supplyDefaults:function(t,i,r,n){function l(c,b){return M.coerce(t,i,d,c,b)}if(_(t,i,n,l)){y(t,i,n,l),l("xhoverformat"),l("yhoverformat"),l("orientation",i.y&&!i.x?"v":"h"),l("offset"),l("width");var o=l("text");l("hovertext"),l("hovertemplate");var u=l("textposition");a(t,i,n,l,u,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),i.textposition==="none"||i.texttemplate||l("textinfo",Array.isArray(o)?"text+value":"value");var p=l("marker.color",r);l("marker.line.color",s.defaultLine),l("marker.line.width"),l("connector.visible")&&(l("connector.fillcolor",function(c){var b=M.isArrayOrTypedArray(c)?"#000":c;return s.addOpacity(b,.5*s.opacity(b))}(p)),l("connector.line.width")&&(l("connector.line.color"),l("connector.line.dash")))}else i.visible=!1},crossTraceDefaults:function(t,i){var r,n;function l(u){return M.coerce(n._input,n,d,u)}if(i.funnelmode==="group")for(var o=0;o<t.length;o++)r=(n=t[o])._input,k(r,n,i,l)}}},34598:function(Y){Y.exports=function(O,e){return O.x="xVal"in e?e.xVal:e.x,O.y="yVal"in e?e.yVal:e.y,"percentInitial"in e&&(O.percentInitial=e.percentInitial),"percentPrevious"in e&&(O.percentPrevious=e.percentPrevious),"percentTotal"in e&&(O.percentTotal=e.percentTotal),e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),O}},63341:function(Y,O,e){var M=e(7901).opacity,k=e(95423).hoverOnBars,a=e(71828).formatPercent;Y.exports=function(_,y,d,s,t){var i=k(_,y,d,s,t);if(i){var r=i.cd,n=r[0].trace,l=n.orientation==="h",o=r[i.index];i[(l?"x":"y")+"LabelVal"]=o.s,i.percentInitial=o.begR,i.percentInitialLabel=a(o.begR,1),i.percentPrevious=o.difR,i.percentPreviousLabel=a(o.difR,1),i.percentTotal=o.sumR,i.percentTotalLabel=a(o.sumR,1);var u=o.hi||n.hoverinfo,p=[];if(u&&u!=="none"&&u!=="skip"){var c=u==="all",b=u.split("+"),g=function(h){return c||b.indexOf(h)!==-1};g("percent initial")&&p.push(i.percentInitialLabel+" of initial"),g("percent previous")&&p.push(i.percentPreviousLabel+" of previous"),g("percent total")&&p.push(i.percentTotalLabel+" of total")}return i.extraText=p.join("<br>"),i.color=function(h,x){var v=h.marker,m=x.mc||v.color,w=x.mlc||v.line.color,f=x.mlw||v.line.width;return M(m)?m:M(w)&&f?w:void 0}(n,o),[i]}}},51759:function(Y,O,e){Y.exports={attributes:e(1285),layoutAttributes:e(10440),supplyDefaults:e(26199).supplyDefaults,crossTraceDefaults:e(26199).crossTraceDefaults,supplyLayoutDefaults:e(93138),calc:e(9532),crossTraceCalc:e(8984),plot:e(80461),style:e(68266).style,hoverPoints:e(63341),eventData:e(34598),selectPoints:e(81974),moduleType:"trace",name:"funnel",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},10440:function(Y){Y.exports={funnelmode:{valType:"enumerated",values:["stack","group","overlay"],dflt:"stack",editType:"calc"},funnelgap:{valType:"number",min:0,max:1,editType:"calc"},funnelgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},93138:function(Y,O,e){var M=e(71828),k=e(10440);Y.exports=function(a,_,y){var d=!1;function s(r,n){return M.coerce(a,_,k,r,n)}for(var t=0;t<y.length;t++){var i=y[t];if(i.visible&&i.type==="funnel"){d=!0;break}}d&&(s("funnelmode"),s("funnelgap",.2),s("funnelgroupgap"))}},80461:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(50606).BADNUM,y=e(17295),d=e(72597).clearMinTextSize;function s(t,i,r,n){var l=[],o=[],u=n?i:r,p=n?r:i;return l[0]=u.c2p(t.s0,!0),o[0]=p.c2p(t.p0,!0),l[1]=u.c2p(t.s1,!0),o[1]=p.c2p(t.p1,!0),l[2]=u.c2p(t.nextS0,!0),o[2]=p.c2p(t.nextP0,!0),l[3]=u.c2p(t.nextS1,!0),o[3]=p.c2p(t.nextP1,!0),n?[l,o]:[o,l]}Y.exports=function(t,i,r,n){var l=t._fullLayout;d("funnel",l),function(o,u,p,c){var b=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,p,"trace bars").each(function(h){var x=M.select(this),v=h[0].trace,m=k.ensureSingle(x,"g","regions");if(v.connector&&v.connector.visible){var w=v.orientation==="h",f=m.selectAll("g.region").data(k.identity);f.enter().append("g").classed("region",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var L=s(T,b,g,w),C=L[0],P=L[1],R="";C[0]!==_&&P[0]!==_&&C[1]!==_&&P[1]!==_&&C[2]!==_&&P[2]!==_&&C[3]!==_&&P[3]!==_&&(R+=w?"M"+C[0]+","+P[1]+"L"+C[2]+","+P[2]+"H"+C[3]+"L"+C[1]+","+P[1]+"Z":"M"+C[1]+","+P[1]+"L"+C[2]+","+P[3]+"V"+P[2]+"L"+C[1]+","+P[0]+"Z"),R===""&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,u.layerClipId,o)}})}else m.remove()})}(t,i,r,n),function(o,u,p,c){var b=u.xaxis,g=u.yaxis;k.makeTraceGroups(c,p,"trace bars").each(function(h){var x=M.select(this),v=h[0].trace,m=k.ensureSingle(x,"g","lines");if(v.connector&&v.connector.visible&&v.connector.line.width){var w=v.orientation==="h",f=m.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var L=s(T,b,g,w),C=L[0],P=L[1],R="";C[3]!==void 0&&P[3]!==void 0&&(w?(R+="M"+C[0]+","+P[1]+"L"+C[2]+","+P[2],R+="M"+C[1]+","+P[1]+"L"+C[3]+","+P[2]):(R+="M"+C[1]+","+P[1]+"L"+C[2]+","+P[3],R+="M"+C[1]+","+P[0]+"L"+C[2]+","+P[2])),R===""&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,u.layerClipId,o)}})}else m.remove()})}(t,i,r,n),y.plot(t,i,r,n,{mode:l.funnelmode,norm:l.funnelmode,gap:l.funnelgap,groupgap:l.funnelgroupgap})}},68266:function(Y,O,e){var M=e(39898),k=e(91424),a=e(7901),_=e(37822).DESELECTDIM,y=e(16688),d=e(72597).resizeText,s=y.styleTextPoints;Y.exports={style:function(t,i,r){var n=r||M.select(t).selectAll("g.funnellayer").selectAll("g.trace");d(t,n,"funnel"),n.style("opacity",function(l){return l[0].trace.opacity}),n.each(function(l){var o=M.select(this),u=l[0].trace;o.selectAll(".point > path").each(function(p){if(!p.isBlank){var c=u.marker;M.select(this).call(a.fill,p.mc||c.color).call(a.stroke,p.mlc||c.line.color).call(k.dashLine,c.line.dash,p.mlw||c.line.width).style("opacity",u.selectedpoints&&!p.selected?_:1)}}),s(o,u,t),o.selectAll(".regions").each(function(){M.select(this).selectAll("path").style("stroke-width",0).call(a.fill,u.connector.fillcolor)}),o.selectAll(".lines").each(function(){var p=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},86807:function(Y,O,e){var M=e(34e3),k=e(9012),a=e(27670).Y,_=e(5386).fF,y=e(5386).si,d=e(1426).extendFlat;Y.exports={labels:M.labels,label0:M.label0,dlabel:M.dlabel,values:M.values,marker:{colors:M.marker.colors,line:{color:d({},M.marker.line.color,{dflt:null}),width:d({},M.marker.line.width,{dflt:1}),editType:"calc"},pattern:M.marker.pattern,editType:"calc"},text:M.text,hovertext:M.hovertext,scalegroup:d({},M.scalegroup,{}),textinfo:d({},M.textinfo,{flags:["label","text","value","percent"]}),texttemplate:y({editType:"plot"},{keys:["label","color","value","text","percent"]}),hoverinfo:d({},k.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:_({},{keys:["label","color","value","text","percent"]}),textposition:d({},M.textposition,{values:["inside","none"],dflt:"inside"}),textfont:M.textfont,insidetextfont:M.insidetextfont,title:{text:M.title.text,font:M.title.font,position:d({},M.title.position,{values:["top left","top center","top right"],dflt:"top center"}),editType:"plot"},domain:a({name:"funnelarea",trace:!0,editType:"calc"}),aspectratio:{valType:"number",min:0,dflt:1,editType:"plot"},baseratio:{valType:"number",min:0,max:1,dflt:.333,editType:"plot"}}},6452:function(Y,O,e){var M=e(74875);O.name="funnelarea",O.plot=function(k,a,_,y){M.plotBasePlot(O.name,k,a,_,y)},O.clean=function(k,a,_,y){M.cleanBasePlot(O.name,k,a,_,y)}},89574:function(Y,O,e){var M=e(32354);Y.exports={calc:function(k,a){return M.calc(k,a)},crossTraceCalc:function(k){M.crossTraceCalc(k,{type:"funnelarea"})}}},86282:function(Y,O,e){var M=e(71828),k=e(86807),a=e(27670).c,_=e(90769).handleText,y=e(37434).handleLabelsAndValues,d=e(37434).handleMarkerDefaults;Y.exports=function(s,t,i,r){function n(x,v){return M.coerce(s,t,k,x,v)}var l=n("labels"),o=n("values"),u=y(l,o),p=u.len;if(t._hasLabels=u.hasLabels,t._hasValues=u.hasValues,!t._hasLabels&&t._hasValues&&(n("label0"),n("dlabel")),p){t._length=p,d(s,t,r,n),n("scalegroup");var c,b=n("text"),g=n("texttemplate");if(g||(c=n("textinfo",Array.isArray(b)?"text+percent":"percent")),n("hovertext"),n("hovertemplate"),g||c&&c!=="none"){var h=n("textposition");_(s,t,r,n,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1})}a(t,r,n),n("title.text")&&(n("title.position"),M.coerceFont(n,"title.font",r.font)),n("aspectratio"),n("baseratio")}else t.visible=!1}},10421:function(Y,O,e){Y.exports={moduleType:"trace",name:"funnelarea",basePlotModule:e(6452),categories:["pie-like","funnelarea","showLegend"],attributes:e(86807),layoutAttributes:e(80097),supplyDefaults:e(86282),supplyLayoutDefaults:e(57402),calc:e(89574).calc,crossTraceCalc:e(89574).crossTraceCalc,plot:e(79187),style:e(71858),styleOne:e(63463),meta:{}}},80097:function(Y,O,e){var M=e(92774).hiddenlabels;Y.exports={hiddenlabels:M,funnelareacolorway:{valType:"colorlist",editType:"calc"},extendfunnelareacolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57402:function(Y,O,e){var M=e(71828),k=e(80097);Y.exports=function(a,_){function y(d,s){return M.coerce(a,_,k,d,s)}y("hiddenlabels"),y("funnelareacolorway",_.colorway),y("extendfunnelareacolors")}},79187:function(Y,O,e){var M=e(39898),k=e(91424),a=e(71828),_=a.strScale,y=a.strTranslate,d=e(63893),s=e(17295).toMoveInsideBar,t=e(72597),i=t.recordMinTextSize,r=t.clearMinTextSize,n=e(53581),l=e(14575),o=l.attachFxHandlers,u=l.determineInsideTextFont,p=l.layoutAreas,c=l.prerenderTitles,b=l.positionTitleOutside,g=l.formatSliceLabel;function h(x,v){return"l"+(v[0]-x[0])+","+(v[1]-x[1])}Y.exports=function(x,v){var m=x._context.staticPlot,w=x._fullLayout;r("funnelarea",w),c(v,x),p(v,w._size),a.makeTraceGroups(w._funnelarealayer,v,"trace").each(function(f){var S=M.select(this),T=f[0],E=T.trace;(function(L){if(L.length){var C=L[0],P=C.trace,R=P.aspectratio,G=P.baseratio;G>.999&&(G=.999);var I,H,N,B=Math.pow(G,2),V=C.vTotal,q=V,te=V*B/(1-B)/V,$=[];for($.push(ke()),H=L.length-1;H>-1;H--)if(!(N=L[H]).hidden){var K=N.v/q;te+=K,$.push(ke())}var Z=1/0,X=-1/0;for(H=0;H<$.length;H++)I=$[H],Z=Math.min(Z,I[1]),X=Math.max(X,I[1]);for(H=0;H<$.length;H++)$[H][1]-=(X+Z)/2;var ee=$[$.length-1][0],ne=C.r,re=(X-Z)/2,ae=ne/ee,ue=ne/re*R;for(C.r=ue*re,H=0;H<$.length;H++)$[H][0]*=ae,$[H][1]*=ue;var pe,ge,we=[-(I=$[0])[0],I[1]],me=[I[0],I[1]],ve=0;for(H=L.length-1;H>-1;H--)if(!(N=L[H]).hidden){var Ie=$[ve+=1][0],Se=$[ve][1];N.TL=[-Ie,Se],N.TR=[Ie,Se],N.BL=we,N.BR=me,N.pxmid=(pe=N.TR,ge=N.BR,[.5*(pe[0]+ge[0]),.5*(pe[1]+ge[1])]),we=N.TL,me=N.TR}}function ke(){var se,oe={x:se=Math.sqrt(te),y:-se};return[oe.x,oe.y]}})(f),S.each(function(){var L=M.select(this).selectAll("g.slice").data(f);L.enter().append("g").classed("slice",!0),L.exit().remove(),L.each(function(P,R){if(P.hidden)M.select(this).selectAll("path,g").remove();else{P.pointNumber=P.i,P.curveNumber=E.index;var G=T.cx,I=T.cy,H=M.select(this),N=H.selectAll("path.surface").data([P]);N.enter().append("path").classed("surface",!0).style({"pointer-events":m?"none":"all"}),H.call(o,x,f);var B="M"+(G+P.TR[0])+","+(I+P.TR[1])+h(P.TR,P.BR)+h(P.BR,P.BL)+h(P.BL,P.TL)+"Z";N.attr("d",B),g(x,P,T);var V=n.castOption(E.textposition,P.pts),q=H.selectAll("g.slicetext").data(P.text&&V!=="none"?[0]:[]);q.enter().append("g").classed("slicetext",!0),q.exit().remove(),q.each(function(){var te=a.ensureSingle(M.select(this),"text","",function(ae){ae.attr("data-notex",1)}),$=a.ensureUniformFontSize(x,u(E,P,w.font));te.text(P.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(k.font,$).call(d.convertToTspans,x);var K,Z,X,ee=k.bBox(te.node()),ne=Math.min(P.BL[1],P.BR[1])+I,re=Math.max(P.TL[1],P.TR[1])+I;Z=Math.max(P.TL[0],P.BL[0])+G,X=Math.min(P.TR[0],P.BR[0])+G,(K=s(Z,X,ne,re,ee,{isHorizontal:!0,constrained:!0,angle:0,anchor:"middle"})).fontSize=$.size,i(E.type,K,w),f[R].transform=K,a.setTransormAndDisplay(te,K)})}});var C=M.select(this).selectAll("g.titletext").data(E.title.text?[0]:[]);C.enter().append("g").classed("titletext",!0),C.exit().remove(),C.each(function(){var P=a.ensureSingle(M.select(this),"text","",function(I){I.attr("data-notex",1)}),R=E.title.text;E._meta&&(R=a.templateString(R,E._meta)),P.text(R).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(k.font,E.title.font).call(d.convertToTspans,x);var G=b(T,w._size);P.attr("transform",y(G.x,G.y)+_(Math.min(1,G.scale))+y(G.tx,G.ty))})})})}},71858:function(Y,O,e){var M=e(39898),k=e(63463),a=e(72597).resizeText;Y.exports=function(_){var y=_._fullLayout._funnelarealayer.selectAll(".trace");a(_,y,"funnelarea"),y.each(function(d){var s=d[0].trace,t=M.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,s,_)})})}},21606:function(Y,O,e){var M=e(82196),k=e(9012),a=e(41940),_=e(12663).axisHoverFormat,y=e(5386).fF,d=e(5386).si,s=e(50693),t=e(1426).extendFlat;Y.exports=t({z:{valType:"data_array",editType:"calc"},x:t({},M.x,{impliedEdits:{xtype:"array"}}),x0:t({},M.x0,{impliedEdits:{xtype:"scaled"}}),dx:t({},M.dx,{impliedEdits:{xtype:"scaled"}}),y:t({},M.y,{impliedEdits:{ytype:"array"}}),y0:t({},M.y0,{impliedEdits:{ytype:"scaled"}}),dy:t({},M.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:t({},M.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:t({},M.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:t({},M.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:t({},M.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:t({},M.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:t({},M.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:y(),texttemplate:d({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:a({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:t({},k.showlegend,{dflt:!1})},{transforms:void 0},s("",{cLetter:"z",autoColorDflt:!1}))},90757:function(Y,O,e){var M=e(73972),k=e(71828),a=e(89298),_=e(42973),y=e(17562),d=e(78803),s=e(68296),t=e(4742),i=e(824),r=e(43907),n=e(70769),l=e(50606).BADNUM;function o(u){for(var p=[],c=u.length,b=0;b<c;b++){var g=u[b];g!==l&&p.push(g)}return p}Y.exports=function(u,p){var c,b,g,h,x,v,m,w,f,S,T,E=a.getFromId(u,p.xaxis||"x"),L=a.getFromId(u,p.yaxis||"y"),C=M.traceIs(p,"contour"),P=M.traceIs(p,"histogram"),R=M.traceIs(p,"gl2d"),G=C?"best":p.zsmooth;if(E._minDtick=0,L._minDtick=0,P)h=(T=y(u,p)).orig_x,c=T.x,b=T.x0,g=T.dx,w=T.orig_y,x=T.y,v=T.y0,m=T.dy,f=T.z;else{var I=p.z;k.isArray1D(I)?(s(p,E,L,"x","y",["z"]),c=p._x,x=p._y,I=p._z):(h=p.x?E.makeCalcdata(p,"x"):[],w=p.y?L.makeCalcdata(p,"y"):[],c=_(p,E,"x",h).vals,x=_(p,L,"y",w).vals,p._x=c,p._y=x),b=p.x0,g=p.dx,v=p.y0,m=p.dy,f=t(I,p,E,L)}function H(X){G=p._input.zsmooth=p.zsmooth=!1,k.warn('cannot use zsmooth: "fast": '+X)}function N(X){if(X.length>1){var ee=(X[X.length-1]-X[0])/(X.length-1),ne=Math.abs(ee/100);for(S=0;S<X.length-1;S++)if(Math.abs(X[S+1]-X[S]-ee)>ne)return!1}return!0}(E.rangebreaks||L.rangebreaks)&&(f=function(X,ee,ne){for(var re=[],ae=-1,ue=0;ue<ne.length;ue++)if(ee[ue]!==l){re[++ae]=[];for(var pe=0;pe<ne[ue].length;pe++)X[pe]!==l&&re[ae].push(ne[ue][pe])}return re}(c,x,f),P||(c=o(c),x=o(x),p._x=c,p._y=x)),P||!C&&!p.connectgaps||(p._emptypoints=r(f),i(f,p._emptypoints)),p._islinear=!1,E.type==="log"||L.type==="log"?G==="fast"&&H("log axis found"):N(c)?N(x)?p._islinear=!0:G==="fast"&&H("y scale is not linear"):G==="fast"&&H("x scale is not linear");var B=k.maxRowLength(f),V=p.xtype==="scaled"?"":c,q=n(p,V,b,g,B,E),te=p.ytype==="scaled"?"":x,$=n(p,te,v,m,f.length,L);R||(p._extremes[E._id]=a.findExtremes(E,q),p._extremes[L._id]=a.findExtremes(L,$));var K={x:q,y:$,z:f,text:p._text||p.text,hovertext:p._hovertext||p.hovertext};if(p.xperiodalignment&&h&&(K.orig_x=h),p.yperiodalignment&&w&&(K.orig_y=w),V&&V.length===q.length-1&&(K.xCenter=V),te&&te.length===$.length-1&&(K.yCenter=te),P&&(K.xRanges=T.xRanges,K.yRanges=T.yRanges,K.pts=T.pts),C||d(u,p,{vals:f,cLetter:"z"}),C&&p.contours&&p.contours.coloring==="heatmap"){var Z={type:p.type==="contour"?"heatmap":"histogram2d",xcalendar:p.xcalendar,ycalendar:p.ycalendar};K.xfill=n(Z,V,b,g,B,E),K.yfill=n(Z,te,v,m,f.length,L)}return[K]}},4742:function(Y,O,e){var M=e(92770),k=e(71828),a=e(50606).BADNUM;Y.exports=function(_,y,d,s){var t,i,r,n,l,o;function u(x){if(M(x))return+x}if(y&&y.transpose){for(t=0,l=0;l<_.length;l++)t=Math.max(t,_[l].length);if(t===0)return!1;r=function(x){return x.length},n=function(x,v,m){return(x[m]||[])[v]}}else t=_.length,r=function(x,v){return x[v].length},n=function(x,v,m){return(x[v]||[])[m]};var p=function(x,v,m){return v===a||m===a?a:n(x,v,m)};function c(x){if(y&&y.type!=="carpet"&&y.type!=="contourcarpet"&&x&&x.type==="category"&&y["_"+x._id.charAt(0)].length){var v=x._id.charAt(0),m={},w=y["_"+v+"CategoryMap"]||y[v];for(l=0;l<w.length;l++)m[w[l]]=l;return function(f){var S=m[x._categories[f]];return S+1?S:a}}return k.identity}var b=c(d),g=c(s);s&&s.type==="category"&&(t=s._categories.length);var h=new Array(t);for(l=0;l<t;l++)for(i=d&&d.type==="category"?d._categories.length:r(_,l),h[l]=new Array(i),o=0;o<i;o++)h[l][o]=u(p(_,g(l),b(o)));return h}},61243:function(Y){Y.exports={min:"zmin",max:"zmax"}},68296:function(Y,O,e){var M=e(71828),k=e(50606).BADNUM,a=e(42973);Y.exports=function(_,y,d,s,t,i){var r=_._length,n=y.makeCalcdata(_,s),l=d.makeCalcdata(_,t);n=a(_,y,s,n).vals,l=a(_,d,t,l).vals;var o,u,p,c,b=_.text,g=b!==void 0&&M.isArray1D(b),h=_.hovertext,x=h!==void 0&&M.isArray1D(h),v=M.distinctVals(n),m=v.vals,w=M.distinctVals(l),f=w.vals,S=[],T=f.length,E=m.length;for(o=0;o<i.length;o++)S[o]=M.init2dArray(T,E);g&&(p=M.init2dArray(T,E)),x&&(c=M.init2dArray(T,E));var L=M.init2dArray(T,E);for(o=0;o<r;o++)if(n[o]!==k&&l[o]!==k){var C=M.findBin(n[o]+v.minDiff/2,m),P=M.findBin(l[o]+w.minDiff/2,f);for(u=0;u<i.length;u++){var R=_[i[u]];S[u][P][C]=R[o],L[P][C]=o}g&&(p[P][C]=b[o]),x&&(c[P][C]=h[o])}for(_["_"+s]=m,_["_"+t]=f,u=0;u<i.length;u++)_["_"+i[u]]=S[u];g&&(_._text=p),x&&(_._hovertext=c),y&&y.type==="category"&&(_["_"+s+"CategoryMap"]=m.map(function(G){return y._categories[G]})),d&&d.type==="category"&&(_["_"+t+"CategoryMap"]=f.map(function(G){return d._categories[G]})),_._after2before=L}},76382:function(Y,O,e){var M=e(71828),k=e(67684),a=e(58623),_=e(73927),y=e(49901),d=e(1586),s=e(21606);Y.exports=function(t,i,r,n){function l(o,u){return M.coerce(t,i,s,o,u)}k(t,i,l,n)?(_(t,i,n,l),l("xhoverformat"),l("yhoverformat"),l("text"),l("hovertext"),l("hovertemplate"),a(l,n),y(t,i,l,n),l("hoverongaps"),l("connectgaps",M.isArray1D(i.z)&&i.zsmooth!==!1),d(t,i,n,l,{prefix:"",cLetter:"z"})):i.visible=!1}},43907:function(Y,O,e){var M=e(71828).maxRowLength;Y.exports=function(k){var a,_,y,d,s,t,i,r,n=[],l={},o=[],u=k[0],p=[],c=[0,0,0],b=M(k);for(_=0;_<k.length;_++)for(a=p,p=u,u=k[_+1]||[],y=0;y<b;y++)p[y]===void 0&&((t=(p[y-1]!==void 0?1:0)+(p[y+1]!==void 0?1:0)+(a[y]!==void 0?1:0)+(u[y]!==void 0?1:0))?(_===0&&t++,y===0&&t++,_===k.length-1&&t++,y===p.length-1&&t++,t<4&&(l[[_,y]]=[_,y,t]),n.push([_,y,t])):o.push([_,y]));for(;o.length;){for(i={},r=!1,s=o.length-1;s>=0;s--)(t=((l[[(_=(d=o[s])[0])-1,y=d[1]]]||c)[2]+(l[[_+1,y]]||c)[2]+(l[[_,y-1]]||c)[2]+(l[[_,y+1]]||c)[2])/20)&&(i[d]=[_,y,t],o.splice(s,1),r=!0);if(!r)throw"findEmpties iterated with no new neighbors";for(d in i)l[d]=i[d],n.push(i[d])}return n.sort(function(g,h){return h[2]-g[2]})}},46248:function(Y,O,e){var M=e(30211),k=e(71828),a=e(89298),_=e(21081).extractOpts;Y.exports=function(y,d,s,t,i){i||(i={});var r,n,l,o,u=i.isContour,p=y.cd[0],c=p.trace,b=y.xa,g=y.ya,h=p.x,x=p.y,v=p.z,m=p.xCenter,w=p.yCenter,f=p.zmask,S=c.zhoverformat,T=h,E=x;if(y.index!==!1){try{l=Math.round(y.index[1]),o=Math.round(y.index[0])}catch{return void k.error("Error hovering on heatmap, pointNumber must be [row,col], found:",y.index)}if(l<0||l>=v[0].length||o<0||o>v.length)return}else{if(M.inbox(d-h[0],d-h[h.length-1],0)>0||M.inbox(s-x[0],s-x[x.length-1],0)>0)return;if(u){var L;for(T=[2*h[0]-h[1]],L=1;L<h.length;L++)T.push((h[L]+h[L-1])/2);for(T.push([2*h[h.length-1]-h[h.length-2]]),E=[2*x[0]-x[1]],L=1;L<x.length;L++)E.push((x[L]+x[L-1])/2);E.push([2*x[x.length-1]-x[x.length-2]])}l=Math.max(0,Math.min(T.length-2,k.findBin(d,T))),o=Math.max(0,Math.min(E.length-2,k.findBin(s,E)))}var C,P,R=b.c2p(h[l]),G=b.c2p(h[l+1]),I=g.c2p(x[o]),H=g.c2p(x[o+1]);u?(C=p.orig_x||h,P=p.orig_y||x,G=R,r=C[l],H=I,n=P[o]):(C=p.orig_x||m||h,P=p.orig_y||w||x,r=m?C[l]:(C[l]+C[l+1])/2,n=w?P[o]:(P[o]+P[o+1])/2,b&&b.type==="category"&&(r=h[l]),g&&g.type==="category"&&(n=x[o]),c.zsmooth&&(R=G=b.c2p(r),I=H=g.c2p(n)));var N=v[o][l];if(f&&!f[o][l]&&(N=void 0),N!==void 0||c.hoverongaps){var B;Array.isArray(p.hovertext)&&Array.isArray(p.hovertext[o])?B=p.hovertext[o][l]:Array.isArray(p.text)&&Array.isArray(p.text[o])&&(B=p.text[o][l]);var V=_(c),q={type:"linear",range:[V.min,V.max],hoverformat:S,_separators:b._separators,_numFormat:b._numFormat},te=a.tickText(q,N,"hover").text;return[k.extendFlat(y,{index:c._after2before?c._after2before[o][l]:[o,l],distance:y.maxHoverDistance,spikeDistance:y.maxSpikeDistance,x0:R,x1:G,y0:I,y1:H,xLabelVal:r,yLabelVal:n,zLabelVal:N,zLabel:te,text:B})]}}},92165:function(Y,O,e){Y.exports={attributes:e(21606),supplyDefaults:e(76382),calc:e(90757),plot:e(50347),colorbar:e(61243),style:e(70035),hoverPoints:e(46248),moduleType:"trace",name:"heatmap",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(Y,O,e){var M=e(71828),k=[[-1,0],[1,0],[0,-1],[0,1]];function a(y){return .5-.25*Math.min(1,.5*y)}function _(y,d,s){var t,i,r,n,l,o,u,p,c,b,g,h,x,v=0;for(n=0;n<d.length;n++){for(i=(t=d[n])[0],r=t[1],g=y[i][r],b=0,c=0,l=0;l<4;l++)(u=y[i+(o=k[l])[0]])&&(p=u[r+o[1]])!==void 0&&(b===0?h=x=p:(h=Math.min(h,p),x=Math.max(x,p)),c++,b+=p);if(c===0)throw"iterateInterp2d order is wrong: no defined neighbors";y[i][r]=b/c,g===void 0?c<4&&(v=1):(y[i][r]=(1+s)*y[i][r]-s*g,x>h&&(v=Math.max(v,Math.abs(y[i][r]-g)/(x-h))))}return v}Y.exports=function(y,d){var s,t=1;for(_(y,d),s=0;s<d.length&&!(d[s][2]<4);s++);for(d=d.slice(s),s=0;s<100&&t>.01;s++)t=_(y,d,a(t));return t>.01&&M.log("interp2d didn't converge quickly",t),y}},58623:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){k("texttemplate");var _=M.extendFlat({},a.font,{color:"auto",size:"auto"});M.coerceFont(k,"textfont",_)}},70769:function(Y,O,e){var M=e(73972),k=e(71828).isArrayOrTypedArray;Y.exports=function(a,_,y,d,s,t){var i,r,n,l=[],o=M.traceIs(a,"contour"),u=M.traceIs(a,"histogram"),p=M.traceIs(a,"gl2d");if(k(_)&&_.length>1&&!u&&t.type!=="category"){var c=_.length;if(!(c<=s))return o?_.slice(0,s):_.slice(0,s+1);if(o||p)l=_.slice(0,s);else if(s===1)l=[_[0]-.5,_[0]+.5];else{for(l=[1.5*_[0]-.5*_[1]],n=1;n<c;n++)l.push(.5*(_[n-1]+_[n]));l.push(1.5*_[c-1]-.5*_[c-2])}if(c<s){var b=l[l.length-1],g=b-l[l.length-2];for(n=c;n<s;n++)b+=g,l.push(b)}}else{var h=a[t._id.charAt(0)+"calendar"];for(i=u?t.r2c(y,0,h):k(_)&&_.length===1?_[0]:y===void 0?0:(t.type==="log"?t.d2c:t.r2c)(y,0,h),r=d||1,n=o||p?0:-.5;n<s;n++)l.push(i+r*n)}return l}},50347:function(Y,O,e){var M=e(39898),k=e(84267),a=e(73972),_=e(91424),y=e(89298),d=e(71828),s=e(63893),t=e(8225),i=e(7901),r=e(21081).extractOpts,n=e(21081).makeColorScaleFuncFromTrace,l=e(77922),o=e(18783).LINE_SPACING,u=e(3883),p=e(32396).STYLE,c="heatmap-label";function b(m){return m.selectAll("g."+c)}function g(m){b(m).remove()}function h(m,w){var f=w.length-2,S=d.constrain(d.findBin(m,w),0,f),T=w[S],E=w[S+1],L=d.constrain(S+(m-T)/(E-T)-.5,0,f),C=Math.round(L),P=Math.abs(L-C);return L&&L!==f&&P?{bin0:C,frac:P,bin1:Math.round(C+P/(L-C))}:{bin0:C,bin1:C,frac:0}}function x(m,w){var f=w.length-1,S=d.constrain(d.findBin(m,w),0,f),T=w[S],E=(m-T)/(w[S+1]-T)||0;return E<=0?{bin0:S,bin1:S,frac:0}:E<.5?{bin0:S,bin1:S+1,frac:E}:{bin0:S+1,bin1:S,frac:1-E}}function v(m,w,f){m[w]=f[0],m[w+1]=f[1],m[w+2]=f[2],m[w+3]=Math.round(255*f[3])}Y.exports=function(m,w,f,S){var T=w.xaxis,E=w.yaxis;d.makeTraceGroups(S,f,"hm").each(function(L){var C,P,R,G,I,H,N,B,V=M.select(this),q=L[0],te=q.trace,$=te.xgap||0,K=te.ygap||0,Z=q.z,X=q.x,ee=q.y,ne=q.xCenter,re=q.yCenter,ae=a.traceIs(te,"contour"),ue=ae?"best":te.zsmooth,pe=Z.length,ge=d.maxRowLength(Z),we=!1,me=!1;for(H=0;C===void 0&&H<X.length-1;)C=T.c2p(X[H]),H++;for(H=X.length-1;P===void 0&&H>0;)P=T.c2p(X[H]),H--;for(P<C&&(R=P,P=C,C=R,we=!0),H=0;G===void 0&&H<ee.length-1;)G=E.c2p(ee[H]),H++;for(H=ee.length-1;I===void 0&&H>0;)I=E.c2p(ee[H]),H--;I<G&&(R=G,G=I,I=R,me=!0),ae&&(ne=X,re=ee,X=q.xfill,ee=q.yfill);var ve="default";if(ue?ve=ue==="best"?"smooth":"fast":te._islinear&&$===0&&K===0&&u()&&(ve="fast"),ve!=="fast"){var Ie=ue==="best"?0:.5;C=Math.max(-Ie*T._length,C),P=Math.min((1+Ie)*T._length,P),G=Math.max(-Ie*E._length,G),I=Math.min((1+Ie)*E._length,I)}var Se,ke,se=Math.round(P-C),oe=Math.round(I-G);if(C>=T._length||P<=0||G>=E._length||I<=0)return V.selectAll("image").data([]).exit().remove(),void g(V);ve==="fast"?(Se=ge,ke=pe):(Se=se,ke=oe);var he=document.createElement("canvas");he.width=Se,he.height=ke;var Le,Me,_e=he.getContext("2d",{willReadFrequently:!0}),De=n(te,{noNumericCheck:!0,returnArray:!0});ve==="fast"?(Le=we?function(Ut){return ge-1-Ut}:d.identity,Me=me?function(Ut){return pe-1-Ut}:d.identity):(Le=function(Ut){return d.constrain(Math.round(T.c2p(X[Ut])-C),0,se)},Me=function(Ut){return d.constrain(Math.round(E.c2p(ee[Ut])-G),0,oe)});var Ne,ce,Te,ye,Oe=Me(0),Be=[Oe,Oe],Fe=we?0:1,Ge=me?0:1,Ze=0,et=0,ft=0,rt=0;function _t(Ut,rn){if(Ut!==void 0){var cn=De(Ut);return cn[0]=Math.round(cn[0]),cn[1]=Math.round(cn[1]),cn[2]=Math.round(cn[2]),Ze+=rn,et+=cn[0]*rn,ft+=cn[1]*rn,rt+=cn[2]*rn,cn}return[0,0,0,0]}function kt(Ut,rn,cn,vn){var Sn=Ut[cn.bin0];if(Sn===void 0)return _t(void 0,1);var Hn,Dn=Ut[cn.bin1],Bn=rn[cn.bin0],Qn=rn[cn.bin1],Wt=Dn-Sn||0,An=Bn-Sn||0;return Hn=Dn===void 0?Qn===void 0?0:Bn===void 0?2*(Qn-Sn):2*(2*Qn-Bn-Sn)/3:Qn===void 0?Bn===void 0?0:2*(2*Sn-Dn-Bn)/3:Bn===void 0?2*(2*Qn-Dn-Sn)/3:Qn+Sn-Dn-Bn,_t(Sn+cn.frac*Wt+vn.frac*(An+cn.frac*Hn))}if(ve!=="default"){var wt,lt=0;try{wt=new Uint8Array(Se*ke*4)}catch{wt=new Array(Se*ke*4)}if(ve==="smooth"){var ut,Et,Ot,zt=ne||X,Lt=re||ee,Je=new Array(zt.length),Qe=new Array(Lt.length),qe=new Array(se),$e=ne?x:h,ct=re?x:h;for(H=0;H<zt.length;H++)Je[H]=Math.round(T.c2p(zt[H])-C);for(H=0;H<Lt.length;H++)Qe[H]=Math.round(E.c2p(Lt[H])-G);for(H=0;H<se;H++)qe[H]=$e(H,Je);for(N=0;N<oe;N++)for(Et=Z[(ut=ct(N,Qe)).bin0],Ot=Z[ut.bin1],H=0;H<se;H++,lt+=4)v(wt,lt,ye=kt(Et,Ot,qe[H],ut))}else for(N=0;N<pe;N++)for(Te=Z[N],Be=Me(N),H=0;H<ge;H++)ye=_t(Te[H],1),v(wt,lt=4*(Be*ge+Le(H)),ye);var at=_e.createImageData(Se,ke);try{at.data.set(wt)}catch{var Re=at.data,je=Re.length;for(N=0;N<je;N++)Re[N]=wt[N]}_e.putImageData(at,0,0)}else{var st=Math.floor($/2),ot=Math.floor(K/2);for(N=0;N<pe;N++)if(Te=Z[N],Be.reverse(),Be[Ge]=Me(N+1),Be[0]!==Be[1]&&Be[0]!==void 0&&Be[1]!==void 0)for(Ne=[ce=Le(0),ce],H=0;H<ge;H++)Ne.reverse(),Ne[Fe]=Le(H+1),Ne[0]!==Ne[1]&&Ne[0]!==void 0&&Ne[1]!==void 0&&(ye=_t(Te[H],(Ne[1]-Ne[0])*(Be[1]-Be[0])),_e.fillStyle="rgba("+ye.join(",")+")",_e.fillRect(Ne[0]+st,Be[0]+ot,Ne[1]-Ne[0]-$,Be[1]-Be[0]-K))}et=Math.round(et/Ze),ft=Math.round(ft/Ze),rt=Math.round(rt/Ze);var xt=k("rgb("+et+","+ft+","+rt+")");m._hmpixcount=(m._hmpixcount||0)+Ze,m._hmlumcount=(m._hmlumcount||0)+Ze*xt.getLuminance();var mt=V.selectAll("image").data(L);mt.enter().append("svg:image").attr({xmlns:l.svg,preserveAspectRatio:"none"}),mt.attr({height:oe,width:se,x:C,y:G,"xlink:href":he.toDataURL("image/png")}),ve!=="fast"||ue||mt.attr("style",p),g(V);var bt=te.texttemplate;if(bt){var dt=r(te),St={type:"linear",range:[dt.min,dt.max],_separators:T._separators,_numFormat:T._numFormat},gt=te.type==="histogram2dcontour",vt=te.type==="contour",Mt=vt?pe-1:pe,Bt=vt?1:0,Nt=vt?ge-1:ge,qt=[];for(H=vt?1:0;H<Mt;H++){var an;if(vt)an=q.y[H];else if(gt){if(H===0||H===pe-1)continue;an=q.y[H]}else if(q.yCenter)an=q.yCenter[H];else{if(H+1===pe&&q.y[H+1]===void 0)continue;an=(q.y[H]+q.y[H+1])/2}var Gt=Math.round(E.c2p(an));if(!(0>Gt||Gt>E._length))for(N=Bt;N<Nt;N++){var Yt;if(vt)Yt=q.x[N];else if(gt){if(N===0||N===ge-1)continue;Yt=q.x[N]}else if(q.xCenter)Yt=q.xCenter[N];else{if(N+1===ge&&q.x[N+1]===void 0)continue;Yt=(q.x[N]+q.x[N+1])/2}var en=Math.round(T.c2p(Yt));if(!(0>en||en>T._length)){var bn=t({x:Yt,y:an},te,m._fullLayout);bn.x=Yt,bn.y=an;var On=q.z[H][N];On===void 0?(bn.z="",bn.zLabel=""):(bn.z=On,bn.zLabel=y.tickText(St,On,"hover").text);var gn=q.text&&q.text[H]&&q.text[H][N];gn!==void 0&&gn!==!1||(gn=""),bn.text=gn;var Xt=d.texttemplateString(bt,bn,m._fullLayout._d3locale,bn,te._meta||{});if(Xt){var ln=Xt.split("<br>"),nn=ln.length,hn=0;for(B=0;B<nn;B++)hn=Math.max(hn,ln[B].length);qt.push({l:nn,c:hn,t:Xt,x:en,y:Gt,z:On})}}}}var mn=te.textfont,Mn=mn.family,Tn=mn.size,Pn=m._fullLayout.font.size;if(!Tn||Tn==="auto"){var yn=1/0,Rn=1/0,Zn=0,ir=0;for(B=0;B<qt.length;B++){var sr=qt[B];if(Zn=Math.max(Zn,sr.l),ir=Math.max(ir,sr.c),B<qt.length-1){var tr=qt[B+1],Jn=Math.abs(tr.x-sr.x),pr=Math.abs(tr.y-sr.y);Jn&&(yn=Math.min(yn,Jn)),pr&&(Rn=Math.min(Rn,pr))}}isFinite(yn)&&isFinite(Rn)?(yn-=$,Rn-=K,yn/=ir,Rn/=Zn,yn/=o/2,Rn/=o,Tn=Math.min(Math.floor(yn),Math.floor(Rn),Pn)):Tn=Pn}if(Tn<=0||!isFinite(Tn))return;b(V).data(qt).enter().append("g").classed(c,1).append("text").attr("text-anchor","middle").each(function(Ut){var rn=M.select(this),cn=mn.color;cn&&cn!=="auto"||(cn=i.contrast("rgba("+De(Ut.z).join()+")")),rn.attr("data-notex",1).call(s.positionText,function(vn){return vn.x}(Ut),function(vn){return vn.y-Tn*(vn.l*o/2-1)}(Ut)).call(_.font,Mn,Tn,cn).text(Ut.t).call(s.convertToTspans,m)})}})}},70035:function(Y,O,e){var M=e(39898);Y.exports=function(k){M.select(k).selectAll(".hm image").style("opacity",function(a){return a.trace.opacity})}},49901:function(Y){Y.exports=function(O,e,M){M("zsmooth")===!1&&(M("xgap"),M("ygap")),M("zhoverformat")}},67684:function(Y,O,e){var M=e(92770),k=e(71828),a=e(73972);function _(y,d){var s=d(y);return(s?d(y+"type","array"):"scaled")==="scaled"&&(d(y+"0"),d("d"+y)),s}Y.exports=function(y,d,s,t,i,r){var n,l,o=s("z");if(i=i||"x",r=r||"y",o===void 0||!o.length)return 0;if(k.isArray1D(y.z)){n=s(i),l=s(r);var u=k.minRowLength(n),p=k.minRowLength(l);if(u===0||p===0)return 0;d._length=Math.min(u,p,o.length)}else{if(n=_(i,s),l=_(r,s),!function(c){for(var b,g=!0,h=!1,x=!1,v=0;v<c.length;v++){if(b=c[v],!k.isArrayOrTypedArray(b)){g=!1;break}b.length>0&&(h=!0);for(var m=0;m<b.length;m++)if(M(b[m])){x=!0;break}}return g&&h&&x}(o))return 0;s("transpose"),d._length=null}return y.type==="heatmapgl"||a.getComponentMethod("calendars","handleTraceDefaults")(y,d,[i,r],t),!0}},16063:function(Y,O,e){for(var M=e(21606),k=e(50693),a=e(1426).extendFlat,_=e(30962).overrideAll,y=["z","x","x0","dx","y","y0","dy","text","transpose","xtype","ytype"],d={},s=0;s<y.length;s++){var t=y[s];d[t]=M[t]}d.zsmooth={valType:"enumerated",values:["fast",!1],dflt:"fast",editType:"calc"},a(d,k("",{cLetter:"z",autoColorDflt:!1})),Y.exports=_(d,"calc","nested")},59560:function(Y,O,e){var M=e(9330).gl_heatmap2d,k=e(89298),a=e(78614);function _(d,s){this.scene=d,this.uid=s,this.type="heatmapgl",this.name="",this.hoverinfo="all",this.xData=[],this.yData=[],this.zData=[],this.textLabels=[],this.idToIndex=[],this.bounds=[0,0,0,0],this.options={zsmooth:"fast",z:[],x:[],y:[],shape:[0,0],colorLevels:[0],colorValues:[0,0,0,1]},this.heatmap=M(d.glplot,this.options),this.heatmap._trace=this}var y=_.prototype;y.handlePick=function(d){var s=this.options,t=s.shape,i=d.pointId,r=i%t[0],n=Math.floor(i/t[0]),l=i;return{trace:this,dataCoord:d.dataCoord,traceCoord:[s.x[r],s.y[n],s.z[l]],textLabel:this.textLabels[i],name:this.name,pointIndex:[n,r],hoverinfo:this.hoverinfo}},y.update=function(d,s){var t=s[0];this.index=d.index,this.name=d.name,this.hoverinfo=d.hoverinfo;var i=t.z;this.options.z=[].concat.apply([],i);var r=i[0].length,n=i.length;this.options.shape=[r,n],this.options.x=t.x,this.options.y=t.y,this.options.zsmooth=d.zsmooth;var l=function(b){for(var g=b.colorscale,h=b.zmin,x=b.zmax,v=g.length,m=new Array(v),w=new Array(4*v),f=0;f<v;f++){var S=g[f],T=a(S[1]);m[f]=h+S[0]*(x-h);for(var E=0;E<4;E++)w[4*f+E]=T[E]}return{colorLevels:m,colorValues:w}}(d);this.options.colorLevels=l.colorLevels,this.options.colorValues=l.colorValues,this.textLabels=[].concat.apply([],d.text),this.heatmap.update(this.options);var o,u,p=this.scene.xaxis,c=this.scene.yaxis;d.zsmooth===!1&&(o={ppad:t.x[1]-t.x[0]},u={ppad:t.y[1]-t.y[0]}),d._extremes[p._id]=k.findExtremes(p,t.x,o),d._extremes[c._id]=k.findExtremes(c,t.y,u)},y.dispose=function(){this.heatmap.dispose()},Y.exports=function(d,s,t){var i=new _(d,s.uid);return i.update(s,t),i}},19600:function(Y,O,e){var M=e(71828),k=e(67684),a=e(1586),_=e(16063);Y.exports=function(y,d,s,t){function i(r,n){return M.coerce(y,d,_,r,n)}k(y,d,i,t)?(i("text"),i("zsmooth"),a(y,d,t,i,{prefix:"",cLetter:"z"})):d.visible=!1}},3325:function(Y,O,e){Y.exports={attributes:e(16063),supplyDefaults:e(19600),colorbar:e(61243),calc:e(90757),plot:e(59560),moduleType:"trace",name:"heatmapgl",basePlotModule:e(4796),categories:["gl","gl2d","2dMap"],meta:{}}},7745:function(Y,O,e){var M=e(1486),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(5386).si,y=e(41940),d=e(17656),s=e(72406),t=e(1426).extendFlat;Y.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:k("x"),yhoverformat:k("y"),text:t({},M.text,{}),hovertext:t({},M.hovertext,{}),orientation:M.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:d("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:d("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({},{keys:s.eventDataKeys}),texttemplate:_({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:t({},M.textposition,{arrayOk:!1}),textfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:y({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:M.insidetextanchor,textangle:M.textangle,cliponaxis:M.cliponaxis,constraintext:M.constraintext,marker:M.marker,offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,_deprecated:{bardir:M._deprecated.bardir}}},42174:function(Y){Y.exports=function(O,e){for(var M=O.length,k=0,a=0;a<M;a++)e[a]?(O[a]/=e[a],k+=O[a]):O[a]=null;return k}},17656:function(Y){Y.exports=function(O,e){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(Y,O,e){var M=e(92770);Y.exports={count:function(k,a,_){return _[k]++,1},sum:function(k,a,_,y){var d=y[a];return M(d)?(d=Number(d),_[k]+=d,d):0},avg:function(k,a,_,y,d){var s=y[a];return M(s)&&(s=Number(s),_[k]+=s,d[k]++),0},min:function(k,a,_,y){var d=y[a];if(M(d)){if(d=Number(d),!M(_[k]))return _[k]=d,d;if(_[k]>d){var s=d-_[k];return _[k]=d,s}}return 0},max:function(k,a,_,y){var d=y[a];if(M(d)){if(d=Number(d),!M(_[k]))return _[k]=d,d;if(_[k]<d){var s=d-_[k];return _[k]=d,s}}return 0}}},40965:function(Y,O,e){var M=e(50606),k=M.ONEAVGYEAR,a=M.ONEAVGMONTH,_=M.ONEDAY,y=M.ONEHOUR,d=M.ONEMIN,s=M.ONESEC,t=e(89298).tickIncrement;function i(o,u,p,c){if(o*u<=0)return 1/0;for(var b=Math.abs(u-o),g=p.type==="date",h=r(b,g),x=0;x<10;x++){var v=r(80*h,g);if(h===v||!n(v,o,u,g,p,c))break;h=v}return h}function r(o,u){return u&&o>s?o>_?o>1.1*k?k:o>1.1*a?a:_:o>y?y:o>d?d:s:Math.pow(10,Math.floor(Math.log(o)/Math.LN10))}function n(o,u,p,c,b,g){if(c&&o>_){var h=l(u,b,g),x=l(p,b,g),v=o===k?0:1;return h[v]!==x[v]}return Math.floor(p/o)-Math.floor(u/o)>.1}function l(o,u,p){var c=u.c2d(o,k,p).split("-");return c[0]===""&&(c.unshift(),c[0]="-"+c[0]),c}Y.exports=function(o,u,p,c,b){var g,h,x=-1.1*u,v=-.1*u,m=o-v,w=p[0],f=p[1],S=Math.min(i(w+v,w+m,c,b),i(f+v,f+m,c,b)),T=Math.min(i(w+x,w+v,c,b),i(f+x,f+v,c,b));if(S>T&&T<Math.abs(f-w)/4e3?(g=S,h=!1):(g=Math.min(S,T),h=!0),c.type==="date"&&g>_){var E=g===k?1:6,L=g===k?"M12":"M1";return function(C,P){var R=c.c2d(C,k,b),G=R.indexOf("-",E);G>0&&(R=R.substr(0,G));var I=c.d2c(R,0,b);if(I<C){var H=t(I,L,!1,b);(I+H)/2<C+o&&(I=H)}return P&&h?t(I,L,!0,b):I}}return function(C,P){var R=g*Math.round(C/g);return R+g/10<C&&R+.9*g<C+o&&(R+=g),P&&h&&(R-=g),R}}},72138:function(Y,O,e){var M=e(92770),k=e(71828),a=e(73972),_=e(89298),y=e(75341),d=e(59575),s=e(36362),t=e(42174),i=e(40965);function r(n,l,o,u,p){var c,b,g,h,x,v,m,w=u+"bins",f=n._fullLayout,S=l["_"+u+"bingroup"],T=f._histogramBinOpts[S],E=f.barmode==="overlay",L=function(me){return o.r2c(me,0,h)},C=function(me){return o.c2r(me,0,h)},P=o.type==="date"?function(me){return me||me===0?k.cleanDate(me,null,h):null}:function(me){return M(me)?Number(me):null};function R(me,ve,Ie){ve[me+"Found"]?(ve[me]=P(ve[me]),ve[me]===null&&(ve[me]=Ie[me])):(v[me]=ve[me]=Ie[me],k.nestedProperty(b[0],w+"."+me).set(Ie[me]))}if(l["_"+u+"autoBinFinished"])delete l["_"+u+"autoBinFinished"];else{b=T.traces;var G=[],I=!0,H=!1,N=!1;for(c=0;c<b.length;c++)if((g=b[c]).visible){var B=T.dirs[c];x=g["_"+B+"pos0"]=o.makeCalcdata(g,B),G=k.concat(G,x),delete g["_"+u+"autoBinFinished"],l.visible===!0&&(I?I=!1:(delete g._autoBin,g["_"+u+"autoBinFinished"]=1),a.traceIs(g,"2dMap")&&(H=!0),g.type==="histogram2dcontour"&&(N=!0))}h=b[0][u+"calendar"];var V=_.autoBin(G,o,T.nbins,H,h,T.sizeFound&&T.size),q=b[0]._autoBin={};if(v=q[T.dirs[0]]={},N&&(T.size||(V.start=C(_.tickIncrement(L(V.start),V.size,!0,h))),T.end===void 0&&(V.end=C(_.tickIncrement(L(V.end),V.size,!1,h)))),E&&!a.traceIs(l,"2dMap")&&V._dataSpan===0&&o.type!=="category"&&o.type!=="multicategory"&&l.bingroup===""&&l.xbins===void 0){if(p)return[V,x,!0];V=function(me,ve,Ie,Se,ke){var se,oe,he,Le=me._fullLayout,Me=function(et,ft){for(var rt=ft.xaxis,_t=ft.yaxis,kt=ft.orientation,wt=[],lt=et._fullData,ut=0;ut<lt.length;ut++){var Et=lt[ut];Et.type==="histogram"&&Et.visible===!0&&Et.orientation===kt&&Et.xaxis===rt&&Et.yaxis===_t&&wt.push(Et)}return wt}(me,ve),_e=!1,De=1/0,Ne=[ve];for(se=0;se<Me.length;se++)if((oe=Me[se])===ve)_e=!0;else if(_e){var ce=r(me,oe,Ie,Se,!0),Te=ce[0],ye=ce[2];oe["_"+Se+"autoBinFinished"]=1,oe["_"+Se+"pos0"]=ce[1],ye?Ne.push(oe):De=Math.min(De,Te.size)}else he=Le._histogramBinOpts[oe["_"+Se+"bingroup"]],De=Math.min(De,he.size||oe[ke].size);var Oe=new Array(Ne.length);for(se=0;se<Ne.length;se++)for(var Be=Ne[se]["_"+Se+"pos0"],Fe=0;Fe<Be.length;Fe++)if(Be[Fe]!==void 0){Oe[se]=Be[Fe];break}for(isFinite(De)||(De=k.distinctVals(Oe).minDiff),se=0;se<Ne.length;se++){var Ge=(oe=Ne[se])[Se+"calendar"],Ze={start:Ie.c2r(Oe[se]-De/2,0,Ge),end:Ie.c2r(Oe[se]+De/2,0,Ge),size:De};oe._input[ke]=oe[ke]=Ze,(he=Le._histogramBinOpts[oe["_"+Se+"bingroup"]])&&k.extendFlat(he,Ze)}return ve[ke]}(n,l,o,u,w)}(m=g.cumulative||{}).enabled&&m.currentbin!=="include"&&(m.direction==="decreasing"?V.start=C(_.tickIncrement(L(V.start),V.size,!0,h)):V.end=C(_.tickIncrement(L(V.end),V.size,!1,h))),T.size=V.size,T.sizeFound||(v.size=V.size,k.nestedProperty(b[0],w+".size").set(V.size)),R("start",T,V),R("end",T,V)}x=l["_"+u+"pos0"],delete l["_"+u+"pos0"];var te=l._input[w]||{},$=k.extendFlat({},T),K=T.start,Z=o.r2l(te.start),X=Z!==void 0;if((T.startFound||X)&&Z!==o.r2l(K)){var ee=X?Z:k.aggNums(Math.min,null,x),ne={type:o.type==="category"||o.type==="multicategory"?"linear":o.type,r2l:o.r2l,dtick:T.size,tick0:K,calendar:h,range:[ee,_.tickIncrement(ee,T.size,!1,h)].map(o.l2r)},re=_.tickFirst(ne);re>o.r2l(ee)&&(re=_.tickIncrement(re,T.size,!0,h)),$.start=o.l2r(re),X||k.nestedProperty(l,w+".start").set($.start)}var ae=T.end,ue=o.r2l(te.end),pe=ue!==void 0;if((T.endFound||pe)&&ue!==o.r2l(ae)){var ge=pe?ue:k.aggNums(Math.max,null,x);$.end=o.l2r(ge),pe||k.nestedProperty(l,w+".start").set($.end)}var we="autobin"+u;return l._input[we]===!1&&(l._input[w]=k.extendFlat({},l[w]||{}),delete l._input[we],delete l[we]),[$,x]}Y.exports={calc:function(n,l){var o,u,p,c,b=[],g=[],h=l.orientation==="h",x=_.getFromId(n,h?l.yaxis:l.xaxis),v=h?"y":"x",m={x:"y",y:"x"}[v],w=l[v+"calendar"],f=l.cumulative,S=r(n,l,x,v),T=S[0],E=S[1],L=typeof T.size=="string",C=[],P=L?C:T,R=[],G=[],I=[],H=0,N=l.histnorm,B=l.histfunc,V=N.indexOf("density")!==-1;f.enabled&&V&&(N=N.replace(/ ?density$/,""),V=!1);var q,te=B==="max"||B==="min"?null:0,$=d.count,K=s[N],Z=!1,X=function(oe){return x.r2c(oe,0,w)};for(k.isArrayOrTypedArray(l[m])&&B!=="count"&&(q=l[m],Z=B==="avg",$=d[B]),o=X(T.start),p=X(T.end)+(o-_.tickIncrement(o,T.size,!1,w))/1e6;o<p&&b.length<1e6&&(u=_.tickIncrement(o,T.size,!1,w),b.push((o+u)/2),g.push(te),I.push([]),C.push(o),V&&R.push(1/(u-o)),Z&&G.push(0),!(u<=o));)o=u;C.push(o),L||x.type!=="date"||(P={start:X(P.start),end:X(P.end),size:P.size}),n._fullLayout._roundFnOpts||(n._fullLayout._roundFnOpts={});var ee=l["_"+v+"bingroup"],ne={leftGap:1/0,rightGap:1/0};ee&&(n._fullLayout._roundFnOpts[ee]||(n._fullLayout._roundFnOpts[ee]=ne),ne=n._fullLayout._roundFnOpts[ee]);var re,ae=g.length,ue=!0,pe=ne.leftGap,ge=ne.rightGap,we={};for(o=0;o<E.length;o++){var me=E[o];(c=k.findBin(me,P))>=0&&c<ae&&(H+=$(c,o,g,q,G),ue&&I[c].length&&me!==E[I[c][0]]&&(ue=!1),I[c].push(o),we[o]=c,pe=Math.min(pe,me-C[c]),ge=Math.min(ge,C[c+1]-me))}ne.leftGap=pe,ne.rightGap=ge,ue||(re=function(oe,he){return function(){var Le=n._fullLayout._roundFnOpts[ee];return i(Le.leftGap,Le.rightGap,C,x,w)(oe,he)}}),Z&&(H=t(g,G)),K&&K(g,H,R),f.enabled&&function(oe,he,Le){var Me,_e,De;function Ne(Te){De=oe[Te],oe[Te]/=2}function ce(Te){_e=oe[Te],oe[Te]=De+_e/2,De+=_e}if(Le==="half")if(he==="increasing")for(Ne(0),Me=1;Me<oe.length;Me++)ce(Me);else for(Ne(oe.length-1),Me=oe.length-2;Me>=0;Me--)ce(Me);else if(he==="increasing"){for(Me=1;Me<oe.length;Me++)oe[Me]+=oe[Me-1];Le==="exclude"&&(oe.unshift(0),oe.pop())}else{for(Me=oe.length-2;Me>=0;Me--)oe[Me]+=oe[Me+1];Le==="exclude"&&(oe.push(0),oe.shift())}}(g,f.direction,f.currentbin);var ve=Math.min(b.length,g.length),Ie=[],Se=0,ke=ve-1;for(o=0;o<ve;o++)if(g[o]){Se=o;break}for(o=ve-1;o>=Se;o--)if(g[o]){ke=o;break}for(o=Se;o<=ke;o++)if(M(b[o])&&M(g[o])){var se={p:b[o],s:g[o],b:0};f.enabled||(se.pts=I[o],ue?se.ph0=se.ph1=I[o].length?E[I[o][0]]:b[o]:(l._computePh=!0,se.ph0=re(C[o]),se.ph1=re(C[o+1],!0))),Ie.push(se)}return Ie.length===1&&(Ie[0].width1=_.tickIncrement(Ie[0].p,T.size,!1,w)-Ie[0].p),y(Ie,l),k.isArrayOrTypedArray(l.selectedpoints)&&k.tagSelected(Ie,l,we),Ie},calcAllAutoBins:r}},72406:function(Y){Y.exports={eventDataKeys:["binNumber"]}},82222:function(Y,O,e){var M=e(71828),k=e(41675),a=e(73972).traceIs,_=e(26125),y=M.nestedProperty,d=e(99082).getAxisGroup,s=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],t=["x","y"];Y.exports=function(i,r){var n,l,o,u,p,c,b,g=r._histogramBinOpts={},h=[],x={},v=[];function m(V,q){return M.coerce(n._input,n,n._module.attributes,V,q)}function w(V){return V.orientation==="v"?"x":"y"}function f(V,q,te){var $=V.uid+"__"+te;q||(q=$);var K=function(ne,re){return k.getFromTrace({_fullLayout:r},ne,re).type}(V,te),Z=V[te+"calendar"]||"",X=g[q],ee=!0;X&&(K===X.axType&&Z===X.calendar?(ee=!1,X.traces.push(V),X.dirs.push(te)):(q=$,K!==X.axType&&M.warn(["Attempted to group the bins of trace",V.index,"set on a","type:"+K,"axis","with bins on","type:"+X.axType,"axis."].join(" ")),Z!==X.calendar&&M.warn(["Attempted to group the bins of trace",V.index,"set with a",Z,"calendar","with bins",X.calendar?"on a "+X.calendar+" calendar":"w/o a set calendar"].join(" ")))),ee&&(g[q]={traces:[V],dirs:[te],axType:K,calendar:V[te+"calendar"]||""}),V["_"+te+"bingroup"]=q}for(p=0;p<i.length;p++)n=i[p],a(n,"histogram")&&(h.push(n),delete n._xautoBinFinished,delete n._yautoBinFinished,a(n,"2dMap")||_(n._input,n,r,m));var S=r._alignmentOpts||{};for(p=0;p<h.length;p++){if(n=h[p],o="",!a(n,"2dMap")){if(u=w(n),r.barmode==="group"&&n.alignmentgroup){var T=n[u+"axis"],E=d(r,T)+n.orientation;(S[E]||{})[n.alignmentgroup]&&(o=E)}o||r.barmode==="overlay"||(o=d(r,n.xaxis)+d(r,n.yaxis)+w(n))}o?(x[o]||(x[o]=[]),x[o].push(n)):v.push(n)}for(o in x)if((l=x[o]).length!==1){var L=!1;for(l.length&&(n=l[0],L=m("bingroup")),o=L||o,p=0;p<l.length;p++){var C=(n=l[p])._input.bingroup;C&&C!==o&&M.warn(["Trace",n.index,"must match","within bingroup",o+".","Ignoring its bingroup:",C,"setting."].join(" ")),n.bingroup=o,f(n,o,w(n))}}else v.push(l[0]);for(p=0;p<v.length;p++){n=v[p];var P=m("bingroup");if(a(n,"2dMap"))for(b=0;b<2;b++){var R=m((u=t[b])+"bingroup",P?P+"__"+u:null);f(n,R,u)}else f(n,P,w(n))}for(o in g){var G=g[o];for(l=G.traces,c=0;c<s.length;c++){var I,H,N=s[c],B=N.name;if(B!=="nbins"||!G.sizeFound){for(p=0;p<l.length;p++){if(n=l[p],u=G.dirs[p],I=N.aStr[u],y(n._input,I).get()!==void 0){G[B]=m(I),G[B+"Found"]=!0;break}(H=(n._autoBin||{})[u]||{})[B]&&y(n,I).set(H[B])}if(B==="start"||B==="end")for(;p<l.length;p++)(n=l[p])["_"+u+"bingroup"]&&m(I,(H=(n._autoBin||{})[u]||{})[B]);B!=="nbins"||G.sizeFound||G.nbinsFound||(n=l[0],G[B]=m(I))}}}}},11385:function(Y,O,e){var M=e(73972),k=e(71828),a=e(7901),_=e(90769).handleText,y=e(98340),d=e(7745);Y.exports=function(s,t,i,r){function n(v,m){return k.coerce(s,t,d,v,m)}var l=n("x"),o=n("y");n("cumulative.enabled")&&(n("cumulative.direction"),n("cumulative.currentbin")),n("text");var u=n("textposition");_(s,t,r,n,u,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n("hovertext"),n("hovertemplate"),n("xhoverformat"),n("yhoverformat");var p=n("orientation",o&&!l?"h":"v"),c=p==="v"?"x":"y",b=p==="v"?"y":"x",g=l&&o?Math.min(k.minRowLength(l)&&k.minRowLength(o)):k.minRowLength(t[c]||[]);if(g){t._length=g,M.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y"],r),t[b]&&n("histfunc"),n("histnorm"),n("autobin"+c),y(s,t,n,i,r),k.coerceSelectionMarkerOpacity(t,n);var h=(t.marker.line||{}).color,x=M.getComponentMethod("errorbars","supplyDefaults");x(s,t,h||a.defaultLine,{axis:"y"}),x(s,t,h||a.defaultLine,{axis:"x",inherit:"y"})}else t.visible=!1}},84402:function(Y){Y.exports=function(O,e,M,k,a){if(O.x="xVal"in e?e.xVal:e.x,O.y="yVal"in e?e.yVal:e.y,"zLabelVal"in e&&(O.z=e.zLabelVal),e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),!(M.cumulative||{}).enabled){var _,y=Array.isArray(a)?k[0].pts[a[0]][a[1]]:k[a].pts;if(O.pointNumbers=y,O.binNumber=O.pointNumber,delete O.pointNumber,delete O.pointIndex,M._indexToPoints){_=[];for(var d=0;d<y.length;d++)_=_.concat(M._indexToPoints[y[d]])}else _=y;O.pointIndices=_}return O}},76440:function(Y,O,e){var M=e(95423).hoverPoints,k=e(89298).hoverLabelText;Y.exports=function(a,_,y,d,s){var t=M(a,_,y,d,s);if(t){var i=(a=t[0]).cd[a.index],r=a.cd[0].trace;if(!r.cumulative.enabled){var n=r.orientation==="h"?"y":"x";a[n+"Label"]=k(a[n+"a"],[i.ph0,i.ph1],r[n+"hoverformat"])}return t}}},36071:function(Y,O,e){Y.exports={attributes:e(7745),layoutAttributes:e(43641),supplyDefaults:e(11385),crossTraceDefaults:e(82222),supplyLayoutDefaults:e(13957),calc:e(72138).calc,crossTraceCalc:e(11661).crossTraceCalc,plot:e(17295).plot,layerName:"barlayer",style:e(16688).style,styleOnSelect:e(16688).styleOnSelect,colorbar:e(4898),hoverPoints:e(76440),selectPoints:e(81974),eventData:e(84402),moduleType:"trace",name:"histogram",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(Y){Y.exports={percent:function(O,e){for(var M=O.length,k=100/e,a=0;a<M;a++)O[a]*=k},probability:function(O,e){for(var M=O.length,k=0;k<M;k++)O[k]/=e},density:function(O,e,M,k){var a=O.length;k=k||1;for(var _=0;_<a;_++)O[_]*=M[_]*k},"probability density":function(O,e,M,k){var a=O.length;k&&(e/=k);for(var _=0;_<a;_++)O[_]*=M[_]/e}}},35361:function(Y,O,e){var M=e(7745),k=e(17656),a=e(21606),_=e(9012),y=e(12663).axisHoverFormat,d=e(5386).fF,s=e(5386).si,t=e(50693),i=e(1426).extendFlat;Y.exports=i({x:M.x,y:M.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:k("x"),nbinsy:M.nbinsy,ybins:k("y"),autobinx:M.autobinx,autobiny:M.autobiny,bingroup:i({},M.bingroup,{}),xbingroup:i({},M.bingroup,{}),ybingroup:i({},M.bingroup,{}),xgap:a.xgap,ygap:a.ygap,zsmooth:a.zsmooth,xhoverformat:y("x"),yhoverformat:y("y"),zhoverformat:y("z",1),hovertemplate:d({},{keys:"z"}),texttemplate:s({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:a.textfont,showlegend:i({},_.showlegend,{dflt:!1})},t("",{cLetter:"z",autoColorDflt:!1}))},17562:function(Y,O,e){var M=e(71828),k=e(89298),a=e(59575),_=e(36362),y=e(42174),d=e(40965),s=e(72138).calcAllAutoBins;function t(n,l,o,u){var p,c=new Array(n);if(u)for(p=0;p<n;p++)c[p]=1/(l[p+1]-l[p]);else{var b=1/o;for(p=0;p<n;p++)c[p]=b}return c}function i(n,l){return{start:n(l.start),end:n(l.end),size:l.size}}function r(n,l,o,u,p,c){var b,g=n.length-1,h=new Array(g),x=d(o,u,n,p,c);for(b=0;b<g;b++){var v=(l||[])[b];h[b]=v===void 0?[x(n[b]),x(n[b+1],!0)]:[v,v]}return h}Y.exports=function(n,l){var o,u,p,c,b=k.getFromId(n,l.xaxis),g=k.getFromId(n,l.yaxis),h=l.xcalendar,x=l.ycalendar,v=function(_t){return b.r2c(_t,0,h)},m=function(_t){return g.r2c(_t,0,x)},w=s(n,l,b,"x"),f=w[0],S=w[1],T=s(n,l,g,"y"),E=T[0],L=T[1],C=l._length;S.length>C&&S.splice(C,S.length-C),L.length>C&&L.splice(C,L.length-C);var P=[],R=[],G=[],I=typeof f.size=="string",H=typeof E.size=="string",N=[],B=[],V=I?N:f,q=H?B:E,te=0,$=[],K=[],Z=l.histnorm,X=l.histfunc,ee=Z.indexOf("density")!==-1,ne=X==="max"||X==="min"?null:0,re=a.count,ae=_[Z],ue=!1,pe=[],ge=[],we="z"in l?l.z:"marker"in l&&Array.isArray(l.marker.color)?l.marker.color:"";we&&X!=="count"&&(ue=X==="avg",re=a[X]);var me=f.size,ve=v(f.start),Ie=v(f.end)+(ve-k.tickIncrement(ve,me,!1,h))/1e6;for(o=ve;o<Ie;o=k.tickIncrement(o,me,!1,h))R.push(ne),N.push(o),ue&&G.push(0);N.push(o);var Se,ke=R.length,se=(o-ve)/ke,oe=(Se=ve+se/2,b.c2r(Se,0,h)),he=E.size,Le=m(E.start),Me=m(E.end)+(Le-k.tickIncrement(Le,he,!1,x))/1e6;for(o=Le;o<Me;o=k.tickIncrement(o,he,!1,x)){P.push(R.slice()),B.push(o);var _e=new Array(ke);for(u=0;u<ke;u++)_e[u]=[];K.push(_e),ue&&$.push(G.slice())}B.push(o);var De=P.length,Ne=(o-Le)/De,ce=function(_t){return g.c2r(_t,0,x)}(Le+Ne/2);ee&&(pe=t(R.length,V,se,I),ge=t(P.length,q,Ne,H)),I||b.type!=="date"||(V=i(v,V)),H||g.type!=="date"||(q=i(m,q));var Te=!0,ye=!0,Oe=new Array(ke),Be=new Array(De),Fe=1/0,Ge=1/0,Ze=1/0,et=1/0;for(o=0;o<C;o++){var ft=S[o],rt=L[o];p=M.findBin(ft,V),c=M.findBin(rt,q),p>=0&&p<ke&&c>=0&&c<De&&(te+=re(p,o,P[c],we,$[c]),K[c][p].push(o),Te&&(Oe[p]===void 0?Oe[p]=ft:Oe[p]!==ft&&(Te=!1)),ye&&(Be[c]===void 0?Be[c]=rt:Be[c]!==rt&&(ye=!1)),Fe=Math.min(Fe,ft-N[p]),Ge=Math.min(Ge,N[p+1]-ft),Ze=Math.min(Ze,rt-B[c]),et=Math.min(et,B[c+1]-rt))}if(ue)for(c=0;c<De;c++)te+=y(P[c],$[c]);if(ae)for(c=0;c<De;c++)ae(P[c],te,pe,ge[c]);return{x:S,xRanges:r(N,Te&&Oe,Fe,Ge,b,h),x0:oe,dx:se,y:L,yRanges:r(B,ye&&Be,Ze,et,g,x),y0:ce,dy:Ne,z:P,pts:K}}},93888:function(Y,O,e){var M=e(71828),k=e(75238),a=e(49901),_=e(1586),y=e(58623),d=e(35361);Y.exports=function(s,t,i,r){function n(l,o){return M.coerce(s,t,d,l,o)}k(s,t,n,r),t.visible!==!1&&(a(s,t,n,r),_(s,t,r,n,{prefix:"",cLetter:"z"}),n("hovertemplate"),y(n,r),n("xhoverformat"),n("yhoverformat"))}},76128:function(Y,O,e){var M=e(46248),k=e(89298).hoverLabelText;Y.exports=function(a,_,y,d,s){var t=M(a,_,y,d,s);if(t){var i=(a=t[0]).index,r=i[0],n=i[1],l=a.cd[0],o=l.trace,u=l.xRanges[n],p=l.yRanges[r];return a.xLabel=k(a.xa,[u[0],u[1]],o.xhoverformat),a.yLabel=k(a.ya,[p[0],p[1]],o.yhoverformat),t}}},43905:function(Y,O,e){Y.exports={attributes:e(35361),supplyDefaults:e(93888),crossTraceDefaults:e(82222),calc:e(90757),plot:e(50347),layerName:"heatmaplayer",colorbar:e(61243),style:e(70035),hoverPoints:e(76128),eventData:e(84402),moduleType:"trace",name:"histogram2d",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(Y,O,e){var M=e(73972),k=e(71828);Y.exports=function(a,_,y,d){var s=y("x"),t=y("y"),i=k.minRowLength(s),r=k.minRowLength(t);i&&r?(_._length=Math.min(i,r),M.getComponentMethod("calendars","handleTraceDefaults")(a,_,["x","y"],d),(y("z")||y("marker.color"))&&y("histfunc"),y("histnorm"),y("autobinx"),y("autobiny")):_.visible=!1}},99066:function(Y,O,e){var M=e(35361),k=e(70600),a=e(50693),_=e(12663).axisHoverFormat,y=e(1426).extendFlat;Y.exports=y({x:M.x,y:M.y,z:M.z,marker:M.marker,histnorm:M.histnorm,histfunc:M.histfunc,nbinsx:M.nbinsx,xbins:M.xbins,nbinsy:M.nbinsy,ybins:M.ybins,autobinx:M.autobinx,autobiny:M.autobiny,bingroup:M.bingroup,xbingroup:M.xbingroup,ybingroup:M.ybingroup,autocontour:k.autocontour,ncontours:k.ncontours,contours:k.contours,line:{color:k.line.color,width:y({},k.line.width,{dflt:.5}),dash:k.line.dash,smoothing:k.line.smoothing,editType:"plot"},xhoverformat:_("x"),yhoverformat:_("y"),zhoverformat:_("z",1),hovertemplate:M.hovertemplate,texttemplate:k.texttemplate,textfont:k.textfont},a("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(Y,O,e){var M=e(71828),k=e(75238),a=e(67217),_=e(8724),y=e(58623),d=e(99066);Y.exports=function(s,t,i,r){function n(l,o){return M.coerce(s,t,d,l,o)}k(s,t,n,r),t.visible!==!1&&(a(s,t,n,function(l){return M.coerce2(s,t,d,l)}),_(s,t,n,r),n("xhoverformat"),n("yhoverformat"),n("hovertemplate"),t.contours&&t.contours.coloring==="heatmap"&&y(n,r))}},35902:function(Y,O,e){Y.exports={attributes:e(99066),supplyDefaults:e(62654),crossTraceDefaults:e(82222),calc:e(27529),plot:e(29854).plot,layerName:"contourlayer",style:e(84426),colorbar:e(90654),hoverPoints:e(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},46291:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(50693),_=e(27670).Y,y=e(34e3),d=e(57564),s=e(45802),t=e(43473),i=e(1426).extendFlat,r=e(79952).u;Y.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"plot"},flip:s.tiling.flip,pad:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},marker:i({colors:d.marker.colors,line:d.marker.line,pattern:r,editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),leaf:d.leaf,pathbar:s.pathbar,text:y.text,textinfo:d.textinfo,texttemplate:k({editType:"plot"},{keys:t.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:d.hoverinfo,hovertemplate:M({},{keys:t.eventDataKeys}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:s.outsidetextfont,textposition:s.textposition,sort:y.sort,root:d.root,domain:_({name:"icicle",trace:!0,editType:"calc"})}},96346:function(Y,O,e){var M=e(74875);O.name="icicle",O.plot=function(k,a,_,y){M.plotBasePlot(O.name,k,a,_,y)},O.clean=function(k,a,_,y){M.cleanBasePlot(O.name,k,a,_,y)}},46584:function(Y,O,e){var M=e(52147);O.y=function(k,a){return M.calc(k,a)},O.T=function(k){return M._runCrossTraceCalc("icicle",k)}},56524:function(Y,O,e){var M=e(71828),k=e(46291),a=e(7901),_=e(27670).c,y=e(90769).handleText,d=e(97313).TEXTPAD,s=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,r=t.handleDefaults;Y.exports=function(n,l,o,u){function p(m,w){return M.coerce(n,l,k,m,w)}var c=p("labels"),b=p("parents");if(c&&c.length&&b&&b.length){var g=p("values");g&&g.length?p("branchvalues"):p("count"),p("level"),p("maxdepth"),p("tiling.orientation"),p("tiling.flip"),p("tiling.pad");var h=p("text");p("texttemplate"),l.texttemplate||p("textinfo",Array.isArray(h)?"text+label":"label"),p("hovertext"),p("hovertemplate");var x=p("pathbar.visible");y(n,l,u,p,"auto",{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition"),s(n,l,u,p);var v=l._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis;v&&r(n,l,u,p,{prefix:"marker.",cLetter:"c"}),p("leaf.opacity",v?1:.7),l._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},x&&(p("pathbar.thickness",l.pathbar.textfont.size+2*d),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),_(l,u,p),l._length=null}else l.visible=!1}},90666:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(63893),y=e(21538),d=e(82454).styleOne,s=e(43473),t=e(2791),i=e(83523),r=e(24714).formatSliceLabel,n=!1;Y.exports=function(l,o,u,p,c){var b=c.width,g=c.height,h=c.viewX,x=c.viewY,v=c.pathSlice,m=c.toMoveInsideSlice,w=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,L=c.prevEntry,C=l._context.staticPlot,P=l._fullLayout,R=o[0].trace,G=R.textposition.indexOf("left")!==-1,I=R.textposition.indexOf("right")!==-1,H=R.textposition.indexOf("bottom")!==-1,N=y(u,[b,g],{flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,orientation:R.tiling.orientation,pad:{inner:R.tiling.pad},maxDepth:R._maxDepth}).descendants(),B=1/0,V=-1/0;N.forEach(function(Z){var X=Z.depth;X>=R._maxDepth?(Z.x0=Z.x1=(Z.x0+Z.x1)/2,Z.y0=Z.y1=(Z.y0+Z.y1)/2):(B=Math.min(B,X),V=Math.max(V,X))}),p=p.data(N,t.getPtId),R._maxVisibleLayers=isFinite(V)?V-B+1:0,p.enter().append("g").classed("slice",!0),S(p,n,{},[b,g],v),p.order();var q=null;if(f&&L){var te=t.getPtId(L);p.each(function(Z){q===null&&t.getPtId(Z)===te&&(q={x0:Z.x0,x1:Z.x1,y0:Z.y0,y1:Z.y1})})}var $=function(){return q||{x0:0,x1:b,y0:0,y1:g}},K=p;return f&&(K=K.transition().each("end",function(){var Z=M.select(this);t.setSliceCursor(Z,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),K.each(function(Z){Z._x0=h(Z.x0),Z._x1=h(Z.x1),Z._y0=x(Z.y0),Z._y1=x(Z.y1),Z._hoverX=h(Z.x1-R.tiling.pad),Z._hoverY=x(H?Z.y1-R.tiling.pad/2:Z.y0+R.tiling.pad/2);var X=M.select(this),ee=k.ensureSingle(X,"path","surface",function(ue){ue.style("pointer-events",C?"none":"all")});f?ee.transition().attrTween("d",function(ue){var pe=T(ue,n,$(),[b,g],{orientation:R.tiling.orientation,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1});return function(ge){return v(pe(ge))}}):ee.attr("d",v),X.call(i,u,l,o,{styleOne:d,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{isTransitioning:l._transitioning}),ee.call(d,Z,R,l,{hovered:!1}),Z.x0===Z.x1||Z.y0===Z.y1?Z._text="":Z._text=r(Z,u,R,o,P)||"";var ne=k.ensureSingle(X,"g","slicetext"),re=k.ensureSingle(ne,"text","",function(ue){ue.attr("data-notex",1)}),ae=k.ensureUniformFontSize(l,t.determineTextFont(R,Z,P.font));re.text(Z._text||" ").classed("slicetext",!0).attr("text-anchor",I?"end":G?"start":"middle").call(a.font,ae).call(_.convertToTspans,l),Z.textBB=a.bBox(re.node()),Z.transform=m(Z,{fontSize:ae.size}),Z.transform.fontSize=ae.size,f?re.transition().attrTween("transform",function(ue){var pe=E(ue,n,$(),[b,g]);return function(ge){return w(pe(ge))}}):re.attr("transform",w(Z))}),q}},69816:function(Y,O,e){Y.exports={moduleType:"trace",name:"icicle",basePlotModule:e(96346),categories:[],animatable:!0,attributes:e(46291),layoutAttributes:e(92894),supplyDefaults:e(56524),supplyLayoutDefaults:e(21070),calc:e(46584).y,crossTraceCalc:e(46584).T,plot:e(85596),style:e(82454).style,colorbar:e(4898),meta:{}}},92894:function(Y){Y.exports={iciclecolorway:{valType:"colorlist",editType:"calc"},extendiciclecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},21070:function(Y,O,e){var M=e(71828),k=e(92894);Y.exports=function(a,_){function y(d,s){return M.coerce(a,_,k,d,s)}y("iciclecolorway",_.colorway),y("extendiciclecolors")}},21538:function(Y,O,e){var M=e(674),k=e(14102);Y.exports=function(a,_,y){var d=y.flipX,s=y.flipY,t=y.orientation==="h",i=y.maxDepth,r=_[0],n=_[1];i&&(r=(a.height+1)*_[0]/Math.min(a.height+1,i),n=(a.height+1)*_[1]/Math.min(a.height+1,i));var l=M.partition().padding(y.pad.inner).size(t?[_[1],r]:[_[0],n])(a);return(t||d||s)&&k(l,_,{swapXY:t,flipX:d,flipY:s}),l}},85596:function(Y,O,e){var M=e(80694),k=e(90666);Y.exports=function(a,_,y,d){return M(a,_,y,d,{type:"icicle",drawDescendants:k})}},82454:function(Y,O,e){var M=e(39898),k=e(7901),a=e(71828),_=e(72597).resizeText,y=e(43467);function d(s,t,i,r){var n=t.data.data,l=!t.children,o=n.i,u=a.castOption(i,o,"marker.line.color")||k.defaultLine,p=a.castOption(i,o,"marker.line.width")||0;s.call(y,t,i,r).style("stroke-width",p).call(k.stroke,u).style("opacity",l?i.leaf.opacity:null)}Y.exports={style:function(s){var t=s._fullLayout._iciclelayer.selectAll(".trace");_(s,t,"icicle"),t.each(function(i){var r=M.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(l){M.select(this).call(d,l,n,s)})})},styleOne:d}},17230:function(Y,O,e){for(var M=e(9012),k=e(5386).fF,a=e(1426).extendFlat,_=e(51877).colormodel,y=["rgb","rgba","rgba256","hsl","hsla"],d=[],s=[],t=0;t<y.length;t++){var i=_[y[t]];d.push("For the `"+y[t]+"` colormodel, it is ["+(i.zminDflt||i.min).join(", ")+"]."),s.push("For the `"+y[t]+"` colormodel, it is ["+(i.zmaxDflt||i.max).join(", ")+"].")}Y.exports=a({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:y,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:a({},M.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:k({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(Y,O,e){var M=e(71828),k=e(51877),a=e(92770),_=e(89298),y=e(71828).maxRowLength,d=e(67395).A;function s(i,r,n,l){return function(o){return M.constrain((o-i)*r,n,l)}}function t(i,r){return function(n){return M.constrain(n,i,r)}}Y.exports=function(i,r){var n,l;if(r._hasZ)n=r.z.length,l=y(r.z);else if(r._hasSource){var o=d(r.source);n=o.height,l=o.width}var u,p=_.getFromId(i,r.xaxis||"x"),c=_.getFromId(i,r.yaxis||"y"),b=p.d2c(r.x0)-r.dx/2,g=c.d2c(r.y0)-r.dy/2,h=[b,b+l*r.dx],x=[g,g+n*r.dy];if(p&&p.type==="log")for(u=0;u<l;u++)h.push(b+u*r.dx);if(c&&c.type==="log")for(u=0;u<n;u++)x.push(g+u*r.dy);return r._extremes[p._id]=_.findExtremes(p,h),r._extremes[c._id]=_.findExtremes(c,x),r._scaler=function(v){var m=k.colormodel[v.colormodel],w=(m.colormodel||v.colormodel).length;v._sArray=[];for(var f=0;f<w;f++)m.min[f]!==v.zmin[f]||m.max[f]!==v.zmax[f]?v._sArray.push(s(v.zmin[f],(m.max[f]-m.min[f])/(v.zmax[f]-v.zmin[f]),m.min[f],m.max[f])):v._sArray.push(t(m.min[f],m.max[f]));return function(S){for(var T=S.slice(0,w),E=0;E<w;E++){var L=T[E];if(!a(L))return!1;T[E]=v._sArray[E](L)}return T}}(r),[{x0:b,y0:g,z:r.z,w:l,h:n}]}},51877:function(Y){Y.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(O){return O.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(O){return O.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(O){return O.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(O){var e=O.slice(0,3);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(O){var e=O.slice(0,4);return e[1]=e[1]+"%",e[2]=e[2]+"%",e},suffix:["°","%","%",""]}}}},13245:function(Y,O,e){var M=e(71828),k=e(17230),a=e(51877),_=e(25095).IMAGE_URL_PREFIX;Y.exports=function(y,d){function s(r,n){return M.coerce(y,d,k,r,n)}s("source"),d.source&&!d.source.match(_)&&delete d.source,d._hasSource=!!d.source;var t,i=s("z");d._hasZ=!(i===void 0||!i.length||!i[0]||!i[0].length),d._hasZ||d._hasSource?(s("x0"),s("y0"),s("dx"),s("dy"),d._hasZ?(s("colormodel","rgb"),s("zmin",(t=a.colormodel[d.colormodel]).zminDflt||t.min),s("zmax",t.zmaxDflt||t.max)):d._hasSource&&(d.colormodel="rgba256",t=a.colormodel[d.colormodel],d.zmin=t.zminDflt,d.zmax=t.zmaxDflt),s("zsmooth"),s("text"),s("hovertext"),s("hovertemplate"),d._length=null):d.visible=!1}},30835:function(Y){Y.exports=function(O,e){return"xVal"in e&&(O.x=e.xVal),"yVal"in e&&(O.y=e.yVal),e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),O.color=e.color,O.colormodel=e.trace.colormodel,O.z||(O.z=e.color),O}},67395:function(Y,O,e){var M=e(33575),k=e(25095).IMAGE_URL_PREFIX,a=e(12856).Buffer;O.A=function(_){var y=_.replace(k,""),d=new a(y,"base64");return M(d)}},28749:function(Y,O,e){var M=e(30211),k=e(71828),a=e(51877);Y.exports=function(_,y,d){var s=_.cd[0],t=s.trace,i=_.xa,r=_.ya;if(!(M.inbox(y-s.x0,y-(s.x0+s.w*t.dx),0)>0||M.inbox(d-s.y0,d-(s.y0+s.h*t.dy),0)>0)){var n,l=Math.floor((y-s.x0)/t.dx),o=Math.floor(Math.abs(d-s.y0)/t.dy);if(t._hasZ?n=s.z[o][l]:t._hasSource&&(n=t._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(l,o,1,1).data),n){var u,p=s.hi||t.hoverinfo;if(p){var c=p.split("+");c.indexOf("all")!==-1&&(c=["color"]),c.indexOf("color")!==-1&&(u=!0)}var b,g=a.colormodel[t.colormodel],h=g.colormodel||t.colormodel,x=h.length,v=t._scaler(n),m=g.suffix,w=[];(t.hovertemplate||u)&&(w.push("["+[v[0]+m[0],v[1]+m[1],v[2]+m[2]].join(", ")),x===4&&w.push(", "+v[3]+m[3]),w.push("]"),w=w.join(""),_.extraText=h.toUpperCase()+": "+w),Array.isArray(t.hovertext)&&Array.isArray(t.hovertext[o])?b=t.hovertext[o][l]:Array.isArray(t.text)&&Array.isArray(t.text[o])&&(b=t.text[o][l]);var f=r.c2p(s.y0+(o+.5)*t.dy),S=s.x0+(l+.5)*t.dx,T=s.y0+(o+.5)*t.dy,E="["+n.slice(0,t.colormodel.length).join(", ")+"]";return[k.extendFlat(_,{index:[o,l],x0:i.c2p(s.x0+l*t.dx),x1:i.c2p(s.x0+(l+1)*t.dx),y0:f,y1:f,color:v,xVal:S,xLabelVal:S,yVal:T,yLabelVal:T,zLabelVal:E,text:b,hovertemplateLabels:{zLabel:E,colorLabel:w,"color[0]Label":v[0]+m[0],"color[1]Label":v[1]+m[1],"color[2]Label":v[2]+m[2],"color[3]Label":v[3]+m[3]}})]}}}},94507:function(Y,O,e){Y.exports={attributes:e(17230),supplyDefaults:e(13245),calc:e(71113),plot:e(60775),style:e(12826),hoverPoints:e(28749),eventData:e(30835),moduleType:"trace",name:"image",basePlotModule:e(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(Y,O,e){var M=e(39898),k=e(71828),a=k.strTranslate,_=e(77922),y=e(51877),d=e(3883),s=e(32396).STYLE;Y.exports=function(t,i,r,n){var l=i.xaxis,o=i.yaxis,u=!t._context._exportedPlot&&d();k.makeTraceGroups(n,r,"im").each(function(p){var c=M.select(this),b=p[0],g=b.trace,h=(g.zsmooth==="fast"||g.zsmooth===!1&&u)&&!g._hasZ&&g._hasSource&&l.type==="linear"&&o.type==="linear";g._realImage=h;var x,v,m,w,f,S,T=b.z,E=b.x0,L=b.y0,C=b.w,P=b.h,R=g.dx,G=g.dy;for(S=0;x===void 0&&S<C;)x=l.c2p(E+S*R),S++;for(S=C;v===void 0&&S>0;)v=l.c2p(E+S*R),S--;for(S=0;w===void 0&&S<P;)w=o.c2p(L+S*G),S++;for(S=P;f===void 0&&S>0;)f=o.c2p(L+S*G),S--;v<x&&(m=v,v=x,x=m),f<w&&(m=w,w=f,f=m),h||(x=Math.max(-.5*l._length,x),v=Math.min(1.5*l._length,v),w=Math.max(-.5*o._length,w),f=Math.min(1.5*o._length,f));var I=Math.round(v-x),H=Math.round(f-w);if(I<=0||H<=0)c.selectAll("image").data([]).exit().remove();else{var N=c.selectAll("image").data([p]);N.enter().append("svg:image").attr({xmlns:_.svg,preserveAspectRatio:"none"}),N.exit().remove();var B=g.zsmooth===!1?s:"";if(h){var V=k.simpleMap(l.range,l.r2l),q=k.simpleMap(o.range,o.r2l),te=V[1]<V[0],$=q[1]>q[0];if(te||$){var K=x+I/2,Z=w+H/2;B+="transform:"+a(K+"px",Z+"px")+"scale("+(te?-1:1)+","+($?-1:1)+")"+a(-K+"px",-Z+"px")+";"}}N.attr("style",B);var X=new Promise(function(ne){if(g._hasZ)ne();else if(g._hasSource)if(g._canvas&&g._canvas.el.width===C&&g._canvas.el.height===P&&g._canvas.source===g.source)ne();else{var re=document.createElement("canvas");re.width=C,re.height=P;var ae=re.getContext("2d",{willReadFrequently:!0});g._image=g._image||new Image;var ue=g._image;ue.onload=function(){ae.drawImage(ue,0,0),g._canvas={el:re,source:g.source},ne()},ue.setAttribute("src",g.source)}}).then(function(){var ne,re;if(g._hasZ)re=ee(function(ue,pe){return T[pe][ue]}),ne=re.toDataURL("image/png");else if(g._hasSource)if(h)ne=g.source;else{var ae=g._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,C,P).data;re=ee(function(ue,pe){var ge=4*(pe*C+ue);return[ae[ge],ae[ge+1],ae[ge+2],ae[ge+3]]}),ne=re.toDataURL("image/png")}N.attr({"xlink:href":ne,height:H,width:I,x,y:w})});t._promises.push(X)}function ee(ne){var re=document.createElement("canvas");re.width=I,re.height=H;var ae,ue=re.getContext("2d",{willReadFrequently:!0}),pe=function(he){return k.constrain(Math.round(l.c2p(E+he*R)-x),0,I)},ge=function(he){return k.constrain(Math.round(o.c2p(L+he*G)-w),0,H)},we=y.colormodel[g.colormodel],me=we.colormodel||g.colormodel,ve=we.fmt;for(S=0;S<b.w;S++){var Ie=pe(S),Se=pe(S+1);if(Se!==Ie&&!isNaN(Se)&&!isNaN(Ie))for(var ke=0;ke<b.h;ke++){var se=ge(ke),oe=ge(ke+1);oe===se||isNaN(oe)||isNaN(se)||!ne(S,ke)||(ae=g._scaler(ne(S,ke)),ue.fillStyle=ae?me+"("+ve(ae).join(",")+")":"rgba(0,0,0,0)",ue.fillRect(Ie,se,Se-Ie,oe-se))}}return re}})}},12826:function(Y,O,e){var M=e(39898);Y.exports=function(k){M.select(k).selectAll(".im image").style("opacity",function(a){return a[0].trace.opacity})}},54846:function(Y,O,e){var M=e(1426).extendFlat,k=e(1426).extendDeep,a=e(30962).overrideAll,_=e(41940),y=e(22399),d=e(27670).Y,s=e(13838),t=e(44467).templatedArray,i=e(22372),r=e(12663).descriptionOnlyNumbers,n=_({editType:"plot",colorEditType:"plot"}),l={color:{valType:"color",editType:"plot"},line:{color:{valType:"color",dflt:y.defaultLine,editType:"plot"},width:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},thickness:{valType:"number",min:0,max:1,dflt:1,editType:"plot"},editType:"calc"},o={valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},u=t("step",k({},l,{range:o}));Y.exports={mode:{valType:"flaglist",editType:"calc",flags:["number","delta","gauge"],dflt:"number"},value:{valType:"number",editType:"calc",anim:!0},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},domain:d({name:"indicator",trace:!0,editType:"calc"}),title:{text:{valType:"string",editType:"plot"},align:{valType:"enumerated",values:["left","center","right"],editType:"plot"},font:M({},n,{}),editType:"plot"},number:{valueformat:{valType:"string",dflt:"",editType:"plot",description:r("value")},font:M({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"plot"},delta:{reference:{valType:"number",editType:"calc"},position:{valType:"enumerated",values:["top","bottom","left","right"],dflt:"bottom",editType:"plot"},relative:{valType:"boolean",editType:"plot",dflt:!1},valueformat:{valType:"string",editType:"plot",description:r("value")},increasing:{symbol:{valType:"string",dflt:i.INCREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.INCREASING.COLOR,editType:"plot"},editType:"plot"},decreasing:{symbol:{valType:"string",dflt:i.DECREASING.SYMBOL,editType:"plot"},color:{valType:"color",dflt:i.DECREASING.COLOR,editType:"plot"},editType:"plot"},font:M({},n,{}),prefix:{valType:"string",dflt:"",editType:"plot"},suffix:{valType:"string",dflt:"",editType:"plot"},editType:"calc"},gauge:{shape:{valType:"enumerated",editType:"plot",dflt:"angular",values:["angular","bullet"]},bar:k({},l,{color:{dflt:"green"}}),bgcolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:y.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:1,editType:"plot"},axis:a({range:o,visible:M({},s.visible,{dflt:!0}),tickmode:s.minor.tickmode,nticks:s.nticks,tick0:s.tick0,dtick:s.dtick,tickvals:s.tickvals,ticktext:s.ticktext,ticks:M({},s.ticks,{dflt:"outside"}),ticklen:s.ticklen,tickwidth:s.tickwidth,tickcolor:s.tickcolor,ticklabelstep:s.ticklabelstep,showticklabels:s.showticklabels,labelalias:s.labelalias,tickfont:_({}),tickangle:s.tickangle,tickformat:s.tickformat,tickformatstops:s.tickformatstops,tickprefix:s.tickprefix,showtickprefix:s.showtickprefix,ticksuffix:s.ticksuffix,showticksuffix:s.showticksuffix,separatethousands:s.separatethousands,exponentformat:s.exponentformat,minexponent:s.minexponent,showexponent:s.showexponent,editType:"plot"},"plot"),steps:u,threshold:{line:{color:M({},l.line.color,{}),width:M({},l.line.width,{dflt:1}),editType:"plot"},thickness:M({},l.thickness,{dflt:.85}),value:{valType:"number",editType:"calc",dflt:!1},editType:"plot"},editType:"plot"}}},15970:function(Y,O,e){var M=e(74875);O.name="indicator",O.plot=function(k,a,_,y){M.plotBasePlot(O.name,k,a,_,y)},O.clean=function(k,a,_,y){M.cleanBasePlot(O.name,k,a,_,y)}},24667:function(Y){Y.exports={calc:function(O,e){var M=[],k=e.value;typeof e._lastValue!="number"&&(e._lastValue=e.value);var a=e._lastValue,_=a;return e._hasDelta&&typeof e.delta.reference=="number"&&(_=e.delta.reference),M[0]={y:k,lastY:a,delta:k-_,relativeDelta:(k-_)/_},M}}},84577:function(Y){Y.exports={defaultNumberFontSize:80,bulletNumberDomainSize:.25,bulletPadding:.025,innerRadius:.75,valueThickness:.5,titlePadding:5,horizontalPadding:10}},94425:function(Y,O,e){var M=e(71828),k=e(54846),a=e(27670).c,_=e(44467),y=e(85501),d=e(84577),s=e(26218),t=e(38701),i=e(96115),r=e(89426);function n(l,o){function u(p,c){return M.coerce(l,o,k.gauge.steps,p,c)}u("color"),u("line.color"),u("line.width"),u("range"),u("thickness")}Y.exports={supplyDefaults:function(l,o,u,p){function c(L,C){return M.coerce(l,o,k,L,C)}a(o,p,c),c("mode"),o._hasNumber=o.mode.indexOf("number")!==-1,o._hasDelta=o.mode.indexOf("delta")!==-1,o._hasGauge=o.mode.indexOf("gauge")!==-1;var b=c("value");o._range=[0,typeof b=="number"?1.5*b:1];var g,h,x,v,m,w,f=new Array(2);function S(L,C){return M.coerce(x,v,k.gauge,L,C)}function T(L,C){return M.coerce(m,w,k.gauge.axis,L,C)}if(o._hasNumber&&(c("number.valueformat"),c("number.font.color",p.font.color),c("number.font.family",p.font.family),c("number.font.size"),o.number.font.size===void 0&&(o.number.font.size=d.defaultNumberFontSize,f[0]=!0),c("number.prefix"),c("number.suffix"),g=o.number.font.size),o._hasDelta&&(c("delta.font.color",p.font.color),c("delta.font.family",p.font.family),c("delta.font.size"),o.delta.font.size===void 0&&(o.delta.font.size=(o._hasNumber?.5:1)*(g||d.defaultNumberFontSize),f[1]=!0),c("delta.reference",o.value),c("delta.relative"),c("delta.valueformat",o.delta.relative?"2%":""),c("delta.increasing.symbol"),c("delta.increasing.color"),c("delta.decreasing.symbol"),c("delta.decreasing.color"),c("delta.position"),c("delta.prefix"),c("delta.suffix"),h=o.delta.font.size),o._scaleNumbers=(!o._hasNumber||f[0])&&(!o._hasDelta||f[1])||!1,c("title.font.color",p.font.color),c("title.font.family",p.font.family),c("title.font.size",.25*(g||h||d.defaultNumberFontSize)),c("title.text"),o._hasGauge){(x=l.gauge)||(x={}),v=_.newContainer(o,"gauge"),S("shape"),(o._isBullet=o.gauge.shape==="bullet")||c("title.align","center"),(o._isAngular=o.gauge.shape==="angular")||c("align","center"),S("bgcolor",p.paper_bgcolor),S("borderwidth"),S("bordercolor"),S("bar.color"),S("bar.line.color"),S("bar.line.width"),S("bar.thickness",d.valueThickness*(o.gauge.shape==="bullet"?.5:1)),y(x,v,{name:"steps",handleItemDefaults:n}),S("threshold.value"),S("threshold.thickness"),S("threshold.line.width"),S("threshold.line.color"),m={},x&&(m=x.axis||{}),w=_.newContainer(v,"axis"),T("visible"),o._range=T("range",o._range);var E={outerTicks:!0};s(m,w,T,"linear"),r(m,w,T,"linear",E),i(m,w,T,"linear",E),t(m,w,T,E)}else c("title.align","center"),c("align","center"),o._isAngular=o._isBullet=!1;o._length=null}}},15154:function(Y,O,e){Y.exports={moduleType:"trace",name:"indicator",basePlotModule:e(15970),categories:["svg","noOpacity","noHover"],animatable:!0,attributes:e(54846),supplyDefaults:e(94425).supplyDefaults,calc:e(24667).calc,plot:e(75634),meta:{}}},75634:function(Y,O,e){var M=e(39898),k=e(81684).sX,a=e(81684).k4,_=e(71828),y=_.strScale,d=_.strTranslate,s=_.rad2deg,t=e(18783).MID_SHIFT,i=e(91424),r=e(84577),n=e(63893),l=e(89298),o=e(71453),u=e(52830),p=e(13838),c=e(7901),b={left:"start",center:"middle",right:"end"},g={left:0,center:.5,right:1},h=/[yzafpnµmkMGTPEZY]/;function x(T){return T&&T.duration>0}function v(T){T.each(function(E){c.stroke(M.select(this),E.line.color)}).each(function(E){c.fill(M.select(this),E.color)}).style("stroke-width",function(E){return E.line.width})}function m(T,E,L){var C=T._fullLayout,P=_.extendFlat({type:"linear",ticks:"outside",range:L,showline:!0},E),R={type:"linear",_id:"x"+E._id},G={letter:"x",font:C.font,noHover:!0,noTickson:!0};function I(H,N){return _.coerce(P,R,p,H,N)}return o(P,R,I,G,C),u(P,R,I,G),R}function w(T,E,L){return[Math.min(E/T.width,L/T.height),T,E+"x"+L]}function f(T,E,L,C){var P=document.createElementNS("http://www.w3.org/2000/svg","text"),R=M.select(P);return R.text(T).attr("x",0).attr("y",0).attr("text-anchor",L).attr("data-unformatted",T).call(n.convertToTspans,C).call(i.font,E),i.bBox(R.node())}function S(T,E,L,C,P,R){var G="_cache"+E;T[G]&&T[G].key===P||(T[G]={key:P,value:L});var I=_.aggNums(R,null,[T[G].value,C],2);return T[G].value=I,I}Y.exports=function(T,E,L,C){var P,R=T._fullLayout;x(L)&&C&&(P=C()),_.makeTraceGroups(R._indicatorlayer,E,"trace").each(function(G){var I,H,N,B,V,q=G[0].trace,te=M.select(this),$=q._hasGauge,K=q._isAngular,Z=q._isBullet,X=q.domain,ee={w:R._size.w*(X.x[1]-X.x[0]),h:R._size.h*(X.y[1]-X.y[0]),l:R._size.l+R._size.w*X.x[0],r:R._size.r+R._size.w*(1-X.x[1]),t:R._size.t+R._size.h*(1-X.y[1]),b:R._size.b+R._size.h*X.y[0]},ne=ee.l+ee.w/2,re=ee.t+ee.h/2,ae=Math.min(ee.w/2,ee.h),ue=r.innerRadius*ae,pe=q.align||"center";if(H=re,$){if(K&&(I=ne,H=re+ae/2,N=function(se){return function(oe,he){return[he/Math.sqrt(oe.width/2*(oe.width/2)+oe.height*oe.height),oe,he]}(se,.9*ue)}),Z){var ge=r.bulletPadding,we=1-r.bulletNumberDomainSize+ge;I=ee.l+(we+(1-we)*g[pe])*ee.w,N=function(se){return w(se,(r.bulletNumberDomainSize-ge)*ee.w,ee.h)}}}else I=ee.l+g[pe]*ee.w,N=function(se){return w(se,ee.w,ee.h)};(function(se,oe,he,Le){var Me,_e,De,Ne=he[0].trace,ce=Le.numbersX,Te=Le.numbersY,ye=Ne.align||"center",Oe=b[ye],Be=Le.transitionOpts,Fe=Le.onComplete,Ge=_.ensureSingle(oe,"g","numbers"),Ze=[];Ne._hasNumber&&Ze.push("number"),Ne._hasDelta&&(Ze.push("delta"),Ne.delta.position==="left"&&Ze.reverse());var et=Ge.selectAll("text").data(Ze);function ft(Ot,zt,Lt,Je){if(!Ot.match("s")||Lt>=0==Je>=0||zt(Lt).slice(-1).match(h)||zt(Je).slice(-1).match(h))return zt;var Qe=Ot.slice().replace("s","f").replace(/\d+/,function($e){return parseInt($e)-1}),qe=m(se,{tickformat:Qe});return function($e){return Math.abs($e)<1?l.tickText(qe,$e).text:zt($e)}}et.enter().append("text"),et.attr("text-anchor",function(){return Oe}).attr("class",function(Ot){return Ot}).attr("x",null).attr("y",null).attr("dx",null).attr("dy",null),et.exit().remove();var rt,_t=Ne.mode+Ne.align;if(Ne._hasDelta&&(rt=function(){var Ot=m(se,{tickformat:Ne.delta.valueformat},Ne._range);Ot.setScale(),l.prepTicks(Ot);var zt=function(Re){return l.tickText(Ot,Re).text},Lt=Ne.delta.suffix,Je=Ne.delta.prefix,Qe=function(Re){return Ne.delta.relative?Re.relativeDelta:Re.delta},qe=function(Re,je){return Re===0||typeof Re!="number"||isNaN(Re)?"-":(Re>0?Ne.delta.increasing.symbol:Ne.delta.decreasing.symbol)+Je+je(Re)+Lt},$e=function(Re){return Re.delta>=0?Ne.delta.increasing.color:Ne.delta.decreasing.color};Ne._deltaLastValue===void 0&&(Ne._deltaLastValue=Qe(he[0]));var ct=Ge.select("text.delta");function at(){ct.text(qe(Qe(he[0]),zt)).call(c.fill,$e(he[0])).call(n.convertToTspans,se)}return ct.call(i.font,Ne.delta.font).call(c.fill,$e({delta:Ne._deltaLastValue})),x(Be)?ct.transition().duration(Be.duration).ease(Be.easing).tween("text",function(){var Re=M.select(this),je=Qe(he[0]),st=Ne._deltaLastValue,ot=ft(Ne.delta.valueformat,zt,st,je),xt=a(st,je);return Ne._deltaLastValue=je,function(mt){Re.text(qe(xt(mt),ot)),Re.call(c.fill,$e({delta:xt(mt)}))}}).each("end",function(){at(),Fe&&Fe()}).each("interrupt",function(){at(),Fe&&Fe()}):at(),_e=f(qe(Qe(he[0]),zt),Ne.delta.font,Oe,se),ct}(),_t+=Ne.delta.position+Ne.delta.font.size+Ne.delta.font.family+Ne.delta.valueformat,_t+=Ne.delta.increasing.symbol+Ne.delta.decreasing.symbol,De=_e),Ne._hasNumber&&(function(){var Ot=m(se,{tickformat:Ne.number.valueformat},Ne._range);Ot.setScale(),l.prepTicks(Ot);var zt=function($e){return l.tickText(Ot,$e).text},Lt=Ne.number.suffix,Je=Ne.number.prefix,Qe=Ge.select("text.number");function qe(){var $e=typeof he[0].y=="number"?Je+zt(he[0].y)+Lt:"-";Qe.text($e).call(i.font,Ne.number.font).call(n.convertToTspans,se)}x(Be)?Qe.transition().duration(Be.duration).ease(Be.easing).each("end",function(){qe(),Fe&&Fe()}).each("interrupt",function(){qe(),Fe&&Fe()}).attrTween("text",function(){var $e=M.select(this),ct=a(he[0].lastY,he[0].y);Ne._lastValue=he[0].y;var at=ft(Ne.number.valueformat,zt,he[0].lastY,he[0].y);return function(Re){$e.text(Je+at(ct(Re))+Lt)}}):qe(),Me=f(Je+zt(he[0].y)+Lt,Ne.number.font,Oe,se)}(),_t+=Ne.number.font.size+Ne.number.font.family+Ne.number.valueformat+Ne.number.suffix+Ne.number.prefix,De=Me),Ne._hasDelta&&Ne._hasNumber){var kt,wt,lt=[(Me.left+Me.right)/2,(Me.top+Me.bottom)/2],ut=[(_e.left+_e.right)/2,(_e.top+_e.bottom)/2],Et=.75*Ne.delta.font.size;Ne.delta.position==="left"&&(kt=S(Ne,"deltaPos",0,-1*(Me.width*g[Ne.align]+_e.width*(1-g[Ne.align])+Et),_t,Math.min),wt=lt[1]-ut[1],De={width:Me.width+_e.width+Et,height:Math.max(Me.height,_e.height),left:_e.left+kt,right:Me.right,top:Math.min(Me.top,_e.top+wt),bottom:Math.max(Me.bottom,_e.bottom+wt)}),Ne.delta.position==="right"&&(kt=S(Ne,"deltaPos",0,Me.width*(1-g[Ne.align])+_e.width*g[Ne.align]+Et,_t,Math.max),wt=lt[1]-ut[1],De={width:Me.width+_e.width+Et,height:Math.max(Me.height,_e.height),left:Me.left,right:_e.right+kt,top:Math.min(Me.top,_e.top+wt),bottom:Math.max(Me.bottom,_e.bottom+wt)}),Ne.delta.position==="bottom"&&(kt=null,wt=_e.height,De={width:Math.max(Me.width,_e.width),height:Me.height+_e.height,left:Math.min(Me.left,_e.left),right:Math.max(Me.right,_e.right),top:Me.bottom-Me.height,bottom:Me.bottom+_e.height}),Ne.delta.position==="top"&&(kt=null,wt=Me.top,De={width:Math.max(Me.width,_e.width),height:Me.height+_e.height,left:Math.min(Me.left,_e.left),right:Math.max(Me.right,_e.right),top:Me.bottom-Me.height-_e.height,bottom:Me.bottom}),rt.attr({dx:kt,dy:wt})}(Ne._hasNumber||Ne._hasDelta)&&Ge.attr("transform",function(){var Ot=Le.numbersScaler(De);_t+=Ot[2];var zt,Lt=S(Ne,"numbersScale",1,Ot[0],_t,Math.min);Ne._scaleNumbers||(Lt=1),zt=Ne._isAngular?Te-Lt*De.bottom:Te-Lt*(De.top+De.bottom)/2,Ne._numbersTop=Lt*De.top+zt;var Je=De[ye];ye==="center"&&(Je=(De.left+De.right)/2);var Qe=ce-Lt*Je;return Qe=S(Ne,"numbersTranslate",0,Qe,_t,Math.max),d(Qe,zt)+y(Lt)})})(T,te,G,{numbersX:I,numbersY:H,numbersScaler:N,transitionOpts:L,onComplete:P}),$&&(B={range:q.gauge.axis.range,color:q.gauge.bgcolor,line:{color:q.gauge.bordercolor,width:0},thickness:1},V={range:q.gauge.axis.range,color:"rgba(0, 0, 0, 0)",line:{color:q.gauge.bordercolor,width:q.gauge.borderwidth},thickness:1});var me=te.selectAll("g.angular").data(K?G:[]);me.exit().remove();var ve=te.selectAll("g.angularaxis").data(K?G:[]);ve.exit().remove(),K&&function(se,oe,he,Le){var Me,_e,De,Ne,ce=he[0].trace,Te=Le.size,ye=Le.radius,Oe=Le.innerRadius,Be=Le.gaugeBg,Fe=Le.gaugeOutline,Ge=[Te.l+Te.w/2,Te.t+Te.h/2+ye/2],Ze=Le.gauge,et=Le.layer,ft=Le.transitionOpts,rt=Le.onComplete,_t=Math.PI/2;function kt(mt){var bt=ce.gauge.axis.range[0],dt=(mt-bt)/(ce.gauge.axis.range[1]-bt)*Math.PI-_t;return dt<-_t?-_t:dt>_t?_t:dt}function wt(mt){return M.svg.arc().innerRadius((Oe+ye)/2-mt/2*(ye-Oe)).outerRadius((Oe+ye)/2+mt/2*(ye-Oe)).startAngle(-_t)}function lt(mt){mt.attr("d",function(bt){return wt(bt.thickness).startAngle(kt(bt.range[0])).endAngle(kt(bt.range[1]))()})}Ze.enter().append("g").classed("angular",!0),Ze.attr("transform",d(Ge[0],Ge[1])),et.enter().append("g").classed("angularaxis",!0).classed("crisp",!0),et.selectAll("g.xangularaxistick,path,text").remove(),(Me=m(se,ce.gauge.axis)).type="linear",Me.range=ce.gauge.axis.range,Me._id="xangularaxis",Me.ticklabeloverflow="allow",Me.setScale();var ut=function(mt){return(Me.range[0]-mt.x)/(Me.range[1]-Me.range[0])*Math.PI+Math.PI},Et={},Ot=l.makeLabelFns(Me,0).labelStandoff;Et.xFn=function(mt){var bt=ut(mt);return Math.cos(bt)*Ot},Et.yFn=function(mt){var bt=ut(mt),dt=Math.sin(bt)>0?.2:1;return-Math.sin(bt)*(Ot+mt.fontSize*dt)+Math.abs(Math.cos(bt))*(mt.fontSize*t)},Et.anchorFn=function(mt){var bt=ut(mt),dt=Math.cos(bt);return Math.abs(dt)<.1?"middle":dt>0?"start":"end"},Et.heightFn=function(mt,bt,dt){var St=ut(mt);return-.5*(1+Math.sin(St))*dt};var zt=function(mt){return d(Ge[0]+ye*Math.cos(mt),Ge[1]-ye*Math.sin(mt))};if(De=function(mt){return zt(ut(mt))},_e=l.calcTicks(Me),Ne=l.getTickSigns(Me)[2],Me.visible){Ne=Me.ticks==="inside"?-1:1;var Lt=(Me.linewidth||1)/2;l.drawTicks(se,Me,{vals:_e,layer:et,path:"M"+Ne*Lt+",0h"+Ne*Me.ticklen,transFn:function(mt){var bt=ut(mt);return zt(bt)+"rotate("+-s(bt)+")"}}),l.drawLabels(se,Me,{vals:_e,layer:et,transFn:De,labelFns:Et})}var Je=[Be].concat(ce.gauge.steps),Qe=Ze.selectAll("g.bg-arc").data(Je);Qe.enter().append("g").classed("bg-arc",!0).append("path"),Qe.select("path").call(lt).call(v),Qe.exit().remove();var qe=wt(ce.gauge.bar.thickness),$e=Ze.selectAll("g.value-arc").data([ce.gauge.bar]);$e.enter().append("g").classed("value-arc",!0).append("path");var ct,at,Re,je=$e.select("path");x(ft)?(je.transition().duration(ft.duration).ease(ft.easing).each("end",function(){rt&&rt()}).each("interrupt",function(){rt&&rt()}).attrTween("d",(ct=qe,at=kt(he[0].lastY),Re=kt(he[0].y),function(){var mt=k(at,Re);return function(bt){return ct.endAngle(mt(bt))()}})),ce._lastValue=he[0].y):je.attr("d",typeof he[0].y=="number"?qe.endAngle(kt(he[0].y)):"M0,0Z"),je.call(v),$e.exit().remove(),Je=[];var st=ce.gauge.threshold.value;(st||st===0)&&Je.push({range:[st,st],color:ce.gauge.threshold.color,line:{color:ce.gauge.threshold.line.color,width:ce.gauge.threshold.line.width},thickness:ce.gauge.threshold.thickness});var ot=Ze.selectAll("g.threshold-arc").data(Je);ot.enter().append("g").classed("threshold-arc",!0).append("path"),ot.select("path").call(lt).call(v),ot.exit().remove();var xt=Ze.selectAll("g.gauge-outline").data([Fe]);xt.enter().append("g").classed("gauge-outline",!0).append("path"),xt.select("path").call(lt).call(v),xt.exit().remove()}(T,0,G,{radius:ae,innerRadius:ue,gauge:me,layer:ve,size:ee,gaugeBg:B,gaugeOutline:V,transitionOpts:L,onComplete:P});var Ie=te.selectAll("g.bullet").data(Z?G:[]);Ie.exit().remove();var Se=te.selectAll("g.bulletaxis").data(Z?G:[]);Se.exit().remove(),Z&&function(se,oe,he,Le){var Me,_e,De,Ne,ce,Te=he[0].trace,ye=Le.gauge,Oe=Le.layer,Be=Le.gaugeBg,Fe=Le.gaugeOutline,Ge=Le.size,Ze=Te.domain,et=Le.transitionOpts,ft=Le.onComplete;ye.enter().append("g").classed("bullet",!0),ye.attr("transform",d(Ge.l,Ge.t)),Oe.enter().append("g").classed("bulletaxis",!0).classed("crisp",!0),Oe.selectAll("g.xbulletaxistick,path,text").remove();var rt=Ge.h,_t=Te.gauge.bar.thickness*rt,kt=Ze.x[0],wt=Ze.x[0]+(Ze.x[1]-Ze.x[0])*(Te._hasNumber||Te._hasDelta?1-r.bulletNumberDomainSize:1);function lt(Qe){Qe.attr("width",function(qe){return Math.max(0,Me.c2p(qe.range[1])-Me.c2p(qe.range[0]))}).attr("x",function(qe){return Me.c2p(qe.range[0])}).attr("y",function(qe){return .5*(1-qe.thickness)*rt}).attr("height",function(qe){return qe.thickness*rt})}(Me=m(se,Te.gauge.axis))._id="xbulletaxis",Me.domain=[kt,wt],Me.setScale(),_e=l.calcTicks(Me),De=l.makeTransTickFn(Me),Ne=l.getTickSigns(Me)[2],ce=Ge.t+Ge.h,Me.visible&&(l.drawTicks(se,Me,{vals:Me.ticks==="inside"?l.clipEnds(Me,_e):_e,layer:Oe,path:l.makeTickPath(Me,ce,Ne),transFn:De}),l.drawLabels(se,Me,{vals:_e,layer:Oe,transFn:De,labelFns:l.makeLabelFns(Me,ce)}));var ut=[Be].concat(Te.gauge.steps),Et=ye.selectAll("g.bg-bullet").data(ut);Et.enter().append("g").classed("bg-bullet",!0).append("rect"),Et.select("rect").call(lt).call(v),Et.exit().remove();var Ot=ye.selectAll("g.value-bullet").data([Te.gauge.bar]);Ot.enter().append("g").classed("value-bullet",!0).append("rect"),Ot.select("rect").attr("height",_t).attr("y",(rt-_t)/2).call(v),x(et)?Ot.select("rect").transition().duration(et.duration).ease(et.easing).each("end",function(){ft&&ft()}).each("interrupt",function(){ft&&ft()}).attr("width",Math.max(0,Me.c2p(Math.min(Te.gauge.axis.range[1],he[0].y)))):Ot.select("rect").attr("width",typeof he[0].y=="number"?Math.max(0,Me.c2p(Math.min(Te.gauge.axis.range[1],he[0].y))):0),Ot.exit().remove();var zt=he.filter(function(){return Te.gauge.threshold.value||Te.gauge.threshold.value===0}),Lt=ye.selectAll("g.threshold-bullet").data(zt);Lt.enter().append("g").classed("threshold-bullet",!0).append("line"),Lt.select("line").attr("x1",Me.c2p(Te.gauge.threshold.value)).attr("x2",Me.c2p(Te.gauge.threshold.value)).attr("y1",(1-Te.gauge.threshold.thickness)/2*rt).attr("y2",(1-(1-Te.gauge.threshold.thickness)/2)*rt).call(c.stroke,Te.gauge.threshold.line.color).style("stroke-width",Te.gauge.threshold.line.width),Lt.exit().remove();var Je=ye.selectAll("g.gauge-outline").data([Fe]);Je.enter().append("g").classed("gauge-outline",!0).append("rect"),Je.select("rect").call(lt).call(v),Je.exit().remove()}(T,0,G,{gauge:Ie,layer:Se,size:ee,gaugeBg:B,gaugeOutline:V,transitionOpts:L,onComplete:P});var ke=te.selectAll("text.title").data(G);ke.exit().remove(),ke.enter().append("text").classed("title",!0),ke.attr("text-anchor",function(){return Z?b.right:b[q.title.align]}).text(q.title.text).call(i.font,q.title.font).call(n.convertToTspans,T),ke.attr("transform",function(){var se,oe=ee.l+ee.w*g[q.title.align],he=r.titlePadding,Le=i.bBox(ke.node());return $?(K&&(se=q.gauge.axis.visible?i.bBox(ve.node()).top-he-Le.bottom:ee.t+ee.h/2-ae/2-Le.bottom-he),Z&&(se=H-(Le.top+Le.bottom)/2,oe=ee.l-r.bulletPadding*ee.w)):se=q._numbersTop-he-Le.bottom,d(oe,se)})})}},16249:function(Y,O,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(2418),y=e(9012),d=e(1426).extendFlat,s=e(30962).overrideAll,t=Y.exports=s(d({x:{valType:"data_array"},y:{valType:"data_array"},z:{valType:"data_array"},value:{valType:"data_array"},isomin:{valType:"number"},isomax:{valType:"number"},surface:{show:{valType:"boolean",dflt:!0},count:{valType:"integer",dflt:2,min:1},fill:{valType:"number",min:0,max:1,dflt:1},pattern:{valType:"flaglist",flags:["A","B","C","D","E"],extras:["all","odd","even"],dflt:"all"}},spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:.15}},slices:{x:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!1},locations:{valType:"data_array",dflt:[]},fill:{valType:"number",min:0,max:1,dflt:1}}},caps:{x:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},y:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}},z:{show:{valType:"boolean",dflt:!0},fill:{valType:"number",min:0,max:1,dflt:1}}},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:a(),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),valuehoverformat:k("value",1),showlegend:d({},y.showlegend,{dflt:!1})},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,lightposition:_.lightposition,lighting:_.lighting,flatshading:_.flatshading,contour:_.contour,hoverinfo:d({},y.hoverinfo)}),"calc","nested");t.flatshading.dflt=!0,t.lighting.facenormalsepsilon.dflt=0,t.x.editType=t.y.editType=t.z.editType=t.value.editType="calc+clearAxisTypes",t.transforms=void 0},56959:function(Y,O,e){var M=e(78803),k=e(88489).processGrid,a=e(88489).filter;Y.exports=function(_,y){y._len=Math.min(y.x.length,y.y.length,y.z.length,y.value.length),y._x=a(y.x,y._len),y._y=a(y.y,y._len),y._z=a(y.z,y._len),y._value=a(y.value,y._len);var d=k(y);y._gridFill=d.fill,y._Xs=d.Xs,y._Ys=d.Ys,y._Zs=d.Zs,y._len=d.len;for(var s=1/0,t=-1/0,i=0;i<y._len;i++){var r=y._value[i];s=Math.min(s,r),t=Math.max(t,r)}y._minValues=s,y._maxValues=t,y._vMin=y.isomin===void 0||y.isomin===null?s:y.isomin,y._vMax=y.isomax===void 0||y.isomin===null?t:y.isomax,M(_,y,{vals:[y._vMin,y._vMax],containerStr:"",cLetter:"c"})}},22674:function(Y,O,e){var M=e(9330).gl_mesh3d,k=e(81697).parseColorScale,a=e(78614),_=e(21081).extractOpts,y=e(90060),d=function(n,l){for(var o=l.length-1;o>0;o--){var u=Math.min(l[o],l[o-1]),p=Math.max(l[o],l[o-1]);if(p>u&&u<n&&n<=p)return{id:o,distRatio:(p-n)/(p-u)}}return{id:0,distRatio:0}};function s(n,l,o){this.scene=n,this.uid=o,this.mesh=l,this.name="",this.data=null,this.showContour=!1}var t=s.prototype;t.handlePick=function(n){if(n.object===this.mesh){var l=n.data.index,o=this.data._meshX[l],u=this.data._meshY[l],p=this.data._meshZ[l],c=this.data._Ys.length,b=this.data._Zs.length,g=d(o,this.data._Xs).id,h=d(u,this.data._Ys).id,x=d(p,this.data._Zs).id,v=n.index=x+b*h+b*c*g;n.traceCoordinate=[this.data._meshX[v],this.data._meshY[v],this.data._meshZ[v],this.data._value[v]];var m=this.data.hovertext||this.data.text;return Array.isArray(m)&&m[v]!==void 0?n.textLabel=m[v]:m&&(n.textLabel=m),!0}},t.update=function(n){var l=this.scene,o=l.fullSceneLayout;function u(b,g,h,x){return g.map(function(v){return b.d2l(v,0,x)*h})}this.data=r(n);var p={positions:y(u(o.xaxis,n._meshX,l.dataScale[0],n.xcalendar),u(o.yaxis,n._meshY,l.dataScale[1],n.ycalendar),u(o.zaxis,n._meshZ,l.dataScale[2],n.zcalendar)),cells:y(n._meshI,n._meshJ,n._meshK),lightPosition:[n.lightposition.x,n.lightposition.y,n.lightposition.z],ambient:n.lighting.ambient,diffuse:n.lighting.diffuse,specular:n.lighting.specular,roughness:n.lighting.roughness,fresnel:n.lighting.fresnel,vertexNormalsEpsilon:n.lighting.vertexnormalsepsilon,faceNormalsEpsilon:n.lighting.facenormalsepsilon,opacity:n.opacity,contourEnable:n.contour.show,contourColor:a(n.contour.color).slice(0,3),contourWidth:n.contour.width,useFacetNormals:n.flatshading},c=_(n);p.vertexIntensity=n._meshIntensity,p.vertexIntensityBounds=[c.min,c.max],p.colormap=k(n),this.mesh.update(p)},t.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()};var i=["xyz","xzy","yxz","yzx","zxy","zyx"];function r(n){n._meshI=[],n._meshJ=[],n._meshK=[];var l,o,u,p,c,b,g,h=n.surface.show,x=n.spaceframe.show,v=n.surface.fill,m=n.spaceframe.fill,w=!1,f=!1,S=0,T=n._Xs,E=n._Ys,L=n._Zs,C=T.length,P=E.length,R=L.length,G=i.indexOf(n._gridFill.replace(/-/g,"").replace(/\+/g,"")),I=function(ye,Oe,Be){switch(G){case 5:return Be+R*Oe+R*P*ye;case 4:return Be+R*ye+R*C*Oe;case 3:return Oe+P*Be+P*R*ye;case 2:return Oe+P*ye+P*C*Be;case 1:return ye+C*Be+C*R*Oe;default:return ye+C*Oe+C*P*Be}},H=n._minValues,N=n._maxValues,B=n._vMin,V=n._vMax;function q(ye,Oe,Be){for(var Fe=b.length,Ge=o;Ge<Fe;Ge++)if(ye===u[Ge]&&Oe===p[Ge]&&Be===c[Ge])return Ge;return-1}function te(){o=l}function $(){u=[],p=[],c=[],b=[],l=0,te()}function K(ye,Oe,Be,Fe){return u.push(ye),p.push(Oe),c.push(Be),b.push(Fe),++l-1}function Z(ye,Oe,Be){for(var Fe=[],Ge=0;Ge<ye.length;Ge++)Fe[Ge]=ye[Ge]*(1-Be)+Be*Oe[Ge];return Fe}function X(ye){g=ye}function ee(ye,Oe){return ye==="all"||ye===null||ye.indexOf(Oe)>-1}function ne(ye,Oe){return ye===null?Oe:ye}function re(ye,Oe,Be){te();var Fe,Ge,Ze,et=[Oe],ft=[Be];if(g>=1)et=[Oe],ft=[Be];else if(g>0){var rt=function(Lt,Je){var Qe=Lt[0],qe=Lt[1],$e=Lt[2],ct=function(bt,dt,St){for(var gt=[],vt=0;vt<bt.length;vt++)gt[vt]=(bt[vt]+dt[vt]+St[vt])/3;return gt}(Qe,qe,$e),at=Math.sqrt(1-g),Re=Z(ct,Qe,at),je=Z(ct,qe,at),st=Z(ct,$e,at),ot=Je[0],xt=Je[1],mt=Je[2];return{xyzv:[[Qe,qe,je],[je,Re,Qe],[qe,$e,st],[st,je,qe],[$e,Qe,Re],[Re,st,$e]],abc:[[ot,xt,-1],[-1,-1,ot],[xt,mt,-1],[-1,-1,xt],[mt,ot,-1],[-1,-1,mt]]}}(Oe,Be);et=rt.xyzv,ft=rt.abc}for(var _t=0;_t<et.length;_t++){Oe=et[_t],Be=ft[_t];for(var kt=[],wt=0;wt<3;wt++){var lt=Oe[wt][0],ut=Oe[wt][1],Et=Oe[wt][2],Ot=Oe[wt][3],zt=Be[wt]>-1?Be[wt]:q(lt,ut,Et);kt[wt]=zt>-1?zt:K(lt,ut,Et,ne(ye,Ot))}Fe=kt[0],Ge=kt[1],Ze=kt[2],n._meshI.push(Fe),n._meshJ.push(Ge),n._meshK.push(Ze),++S}}function ae(ye,Oe,Be,Fe){var Ge=ye[3];Ge<Be&&(Ge=Be),Ge>Fe&&(Ge=Fe);for(var Ze=(ye[3]-Ge)/(ye[3]-Oe[3]+1e-9),et=[],ft=0;ft<4;ft++)et[ft]=(1-Ze)*ye[ft]+Ze*Oe[ft];return et}function ue(ye,Oe,Be){return ye>=Oe&&ye<=Be}function pe(ye){var Oe=.001*(V-B);return ye>=B-Oe&&ye<=V+Oe}function ge(ye){for(var Oe=[],Be=0;Be<4;Be++){var Fe=ye[Be];Oe.push([n._x[Fe],n._y[Fe],n._z[Fe],n._value[Fe]])}return Oe}var we=3;function me(ye,Oe,Be,Fe,Ge,Ze){Ze||(Ze=1),Be=[-1,-1,-1];var et=!1,ft=[ue(Oe[0][3],Fe,Ge),ue(Oe[1][3],Fe,Ge),ue(Oe[2][3],Fe,Ge)];if(!ft[0]&&!ft[1]&&!ft[2])return!1;var rt=function(kt,wt,lt){return pe(wt[0][3])&&pe(wt[1][3])&&pe(wt[2][3])?(re(kt,wt,lt),!0):Ze<we&&me(kt,wt,lt,B,V,++Ze)};if(ft[0]&&ft[1]&&ft[2])return rt(ye,Oe,Be)||et;var _t=!1;return[[0,1,2],[2,0,1],[1,2,0]].forEach(function(kt){if(ft[kt[0]]&&ft[kt[1]]&&!ft[kt[2]]){var wt=Oe[kt[0]],lt=Oe[kt[1]],ut=Oe[kt[2]],Et=ae(ut,wt,Fe,Ge),Ot=ae(ut,lt,Fe,Ge);et=rt(ye,[Ot,Et,wt],[-1,-1,Be[kt[0]]])||et,et=rt(ye,[wt,lt,Ot],[Be[kt[0]],Be[kt[1]],-1])||et,_t=!0}}),_t||[[0,1,2],[1,2,0],[2,0,1]].forEach(function(kt){if(ft[kt[0]]&&!ft[kt[1]]&&!ft[kt[2]]){var wt=Oe[kt[0]],lt=Oe[kt[1]],ut=Oe[kt[2]],Et=ae(lt,wt,Fe,Ge),Ot=ae(ut,wt,Fe,Ge);et=rt(ye,[Ot,Et,wt],[-1,-1,Be[kt[0]]])||et,_t=!0}}),et}function ve(ye,Oe,Be,Fe){var Ge=!1,Ze=ge(Oe),et=[ue(Ze[0][3],Be,Fe),ue(Ze[1][3],Be,Fe),ue(Ze[2][3],Be,Fe),ue(Ze[3][3],Be,Fe)];if(!(et[0]||et[1]||et[2]||et[3]))return Ge;if(et[0]&&et[1]&&et[2]&&et[3])return f&&(Ge=function(rt,_t,kt){var wt=function(lt,ut,Et){re(rt,[_t[lt],_t[ut],_t[Et]],[kt[lt],kt[ut],kt[Et]])};wt(0,1,2),wt(3,0,1),wt(2,3,0),wt(1,2,3)}(ye,Ze,Oe)||Ge),Ge;var ft=!1;return[[0,1,2,3],[3,0,1,2],[2,3,0,1],[1,2,3,0]].forEach(function(rt){if(et[rt[0]]&&et[rt[1]]&&et[rt[2]]&&!et[rt[3]]){var _t=Ze[rt[0]],kt=Ze[rt[1]],wt=Ze[rt[2]],lt=Ze[rt[3]];if(f)Ge=re(ye,[_t,kt,wt],[Oe[rt[0]],Oe[rt[1]],Oe[rt[2]]])||Ge;else{var ut=ae(lt,_t,Be,Fe),Et=ae(lt,kt,Be,Fe),Ot=ae(lt,wt,Be,Fe);Ge=re(null,[ut,Et,Ot],[-1,-1,-1])||Ge}ft=!0}}),ft||([[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2],[0,2,3,1],[1,3,2,0]].forEach(function(rt){if(et[rt[0]]&&et[rt[1]]&&!et[rt[2]]&&!et[rt[3]]){var _t=Ze[rt[0]],kt=Ze[rt[1]],wt=Ze[rt[2]],lt=Ze[rt[3]],ut=ae(wt,_t,Be,Fe),Et=ae(wt,kt,Be,Fe),Ot=ae(lt,kt,Be,Fe),zt=ae(lt,_t,Be,Fe);f?(Ge=re(ye,[_t,zt,ut],[Oe[rt[0]],-1,-1])||Ge,Ge=re(ye,[kt,Et,Ot],[Oe[rt[1]],-1,-1])||Ge):Ge=function(Lt,Je,Qe){var qe=function($e,ct,at){re(null,[Je[$e],Je[ct],Je[at]],[Qe[$e],Qe[ct],Qe[at]])};qe(0,1,2),qe(2,3,0)}(0,[ut,Et,Ot,zt],[-1,-1,-1,-1])||Ge,ft=!0}}),ft||[[0,1,2,3],[1,2,3,0],[2,3,0,1],[3,0,1,2]].forEach(function(rt){if(et[rt[0]]&&!et[rt[1]]&&!et[rt[2]]&&!et[rt[3]]){var _t=Ze[rt[0]],kt=Ze[rt[1]],wt=Ze[rt[2]],lt=Ze[rt[3]],ut=ae(kt,_t,Be,Fe),Et=ae(wt,_t,Be,Fe),Ot=ae(lt,_t,Be,Fe);f?(Ge=re(ye,[_t,ut,Et],[Oe[rt[0]],-1,-1])||Ge,Ge=re(ye,[_t,Et,Ot],[Oe[rt[0]],-1,-1])||Ge,Ge=re(ye,[_t,Ot,ut],[Oe[rt[0]],-1,-1])||Ge):Ge=re(null,[ut,Et,Ot],[-1,-1,-1])||Ge,ft=!0}})),Ge}function Ie(ye,Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt){var wt=!1;return w&&(ee(ye,"A")&&(wt=ve(null,[Oe,Be,Fe,Ze],_t,kt)||wt),ee(ye,"B")&&(wt=ve(null,[Be,Fe,Ge,rt],_t,kt)||wt),ee(ye,"C")&&(wt=ve(null,[Be,Ze,et,rt],_t,kt)||wt),ee(ye,"D")&&(wt=ve(null,[Fe,Ze,ft,rt],_t,kt)||wt),ee(ye,"E")&&(wt=ve(null,[Be,Fe,Ze,rt],_t,kt)||wt)),f&&(wt=ve(ye,[Be,Fe,Ze,rt],_t,kt)||wt),wt}function Se(ye,Oe,Be,Fe,Ge,Ze,et,ft){return[ft[0]===!0||me(ye,ge([Oe,Be,Fe]),[Oe,Be,Fe],Ze,et),ft[1]===!0||me(ye,ge([Fe,Ge,Oe]),[Fe,Ge,Oe],Ze,et)]}function ke(ye,Oe,Be,Fe,Ge,Ze,et,ft,rt){return ft?Se(ye,Oe,Be,Ge,Fe,Ze,et,rt):Se(ye,Be,Ge,Fe,Oe,Ze,et,rt)}function se(ye,Oe,Be,Fe,Ge,Ze,et){var ft,rt,_t,kt,wt=!1,lt=function(){wt=me(ye,[ft,rt,_t],[-1,-1,-1],Ge,Ze)||wt,wt=me(ye,[_t,kt,ft],[-1,-1,-1],Ge,Ze)||wt},ut=et[0],Et=et[1],Ot=et[2];return ut&&(ft=Z(ge([I(Oe,Be-0,Fe-0)])[0],ge([I(Oe-1,Be-0,Fe-0)])[0],ut),rt=Z(ge([I(Oe,Be-0,Fe-1)])[0],ge([I(Oe-1,Be-0,Fe-1)])[0],ut),_t=Z(ge([I(Oe,Be-1,Fe-1)])[0],ge([I(Oe-1,Be-1,Fe-1)])[0],ut),kt=Z(ge([I(Oe,Be-1,Fe-0)])[0],ge([I(Oe-1,Be-1,Fe-0)])[0],ut),lt()),Et&&(ft=Z(ge([I(Oe-0,Be,Fe-0)])[0],ge([I(Oe-0,Be-1,Fe-0)])[0],Et),rt=Z(ge([I(Oe-0,Be,Fe-1)])[0],ge([I(Oe-0,Be-1,Fe-1)])[0],Et),_t=Z(ge([I(Oe-1,Be,Fe-1)])[0],ge([I(Oe-1,Be-1,Fe-1)])[0],Et),kt=Z(ge([I(Oe-1,Be,Fe-0)])[0],ge([I(Oe-1,Be-1,Fe-0)])[0],Et),lt()),Ot&&(ft=Z(ge([I(Oe-0,Be-0,Fe)])[0],ge([I(Oe-0,Be-0,Fe-1)])[0],Ot),rt=Z(ge([I(Oe-0,Be-1,Fe)])[0],ge([I(Oe-0,Be-1,Fe-1)])[0],Ot),_t=Z(ge([I(Oe-1,Be-1,Fe)])[0],ge([I(Oe-1,Be-1,Fe-1)])[0],Ot),kt=Z(ge([I(Oe-1,Be-0,Fe)])[0],ge([I(Oe-1,Be-0,Fe-1)])[0],Ot),lt()),wt}function oe(ye,Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt,wt){var lt=ye;return wt?(w&&ye==="even"&&(lt=null),Ie(lt,Oe,Be,Fe,Ge,Ze,et,ft,rt,_t,kt)):(w&&ye==="odd"&&(lt=null),Ie(lt,rt,ft,et,Ze,Ge,Fe,Be,Oe,_t,kt))}function he(ye,Oe,Be,Fe,Ge){for(var Ze=[],et=0,ft=0;ft<Oe.length;ft++)for(var rt=Oe[ft],_t=1;_t<R;_t++)for(var kt=1;kt<P;kt++)Ze.push(ke(ye,I(rt,kt-1,_t-1),I(rt,kt-1,_t),I(rt,kt,_t-1),I(rt,kt,_t),Be,Fe,(rt+kt+_t)%2,Ge&&Ge[et]?Ge[et]:[])),et++;return Ze}function Le(ye,Oe,Be,Fe,Ge){for(var Ze=[],et=0,ft=0;ft<Oe.length;ft++)for(var rt=Oe[ft],_t=1;_t<C;_t++)for(var kt=1;kt<R;kt++)Ze.push(ke(ye,I(_t-1,rt,kt-1),I(_t,rt,kt-1),I(_t-1,rt,kt),I(_t,rt,kt),Be,Fe,(_t+rt+kt)%2,Ge&&Ge[et]?Ge[et]:[])),et++;return Ze}function Me(ye,Oe,Be,Fe,Ge){for(var Ze=[],et=0,ft=0;ft<Oe.length;ft++)for(var rt=Oe[ft],_t=1;_t<P;_t++)for(var kt=1;kt<C;kt++)Ze.push(ke(ye,I(kt-1,_t-1,rt),I(kt-1,_t,rt),I(kt,_t-1,rt),I(kt,_t,rt),Be,Fe,(kt+_t+rt)%2,Ge&&Ge[et]?Ge[et]:[])),et++;return Ze}function _e(ye,Oe,Be){for(var Fe=1;Fe<R;Fe++)for(var Ge=1;Ge<P;Ge++)for(var Ze=1;Ze<C;Ze++)oe(ye,I(Ze-1,Ge-1,Fe-1),I(Ze-1,Ge-1,Fe),I(Ze-1,Ge,Fe-1),I(Ze-1,Ge,Fe),I(Ze,Ge-1,Fe-1),I(Ze,Ge-1,Fe),I(Ze,Ge,Fe-1),I(Ze,Ge,Fe),Oe,Be,(Ze+Ge+Fe)%2)}function De(ye,Oe,Be,Fe,Ge,Ze){for(var et=[],ft=0,rt=0;rt<Oe.length;rt++)for(var _t=Oe[rt],kt=1;kt<R;kt++)for(var wt=1;wt<P;wt++)et.push(se(ye,_t,wt,kt,Be,Fe,Ge[rt],Ze&&Ze[ft]&&Ze[ft])),ft++;return et}function Ne(ye,Oe,Be,Fe,Ge,Ze){for(var et=[],ft=0,rt=0;rt<Oe.length;rt++)for(var _t=Oe[rt],kt=1;kt<C;kt++)for(var wt=1;wt<R;wt++)et.push(se(ye,kt,_t,wt,Be,Fe,Ge[rt],Ze&&Ze[ft]&&Ze[ft])),ft++;return et}function ce(ye,Oe,Be,Fe,Ge,Ze){for(var et=[],ft=0,rt=0;rt<Oe.length;rt++)for(var _t=Oe[rt],kt=1;kt<P;kt++)for(var wt=1;wt<C;wt++)et.push(se(ye,wt,kt,_t,Be,Fe,Ge[rt],Ze&&Ze[ft]&&Ze[ft])),ft++;return et}function Te(ye,Oe){for(var Be=[],Fe=ye;Fe<Oe;Fe++)Be.push(Fe);return Be}return function(){$(),function(){for(var rt=0;rt<C;rt++)for(var _t=0;_t<P;_t++)for(var kt=0;kt<R;kt++){var wt=I(rt,_t,kt);K(n._x[wt],n._y[wt],n._z[wt],n._value[wt])}}();var ye=null;if(x&&m&&(X(m),f=!0,_e(ye,B,V),f=!1),h&&v){X(v);for(var Oe=n.surface.pattern,Be=n.surface.count,Fe=0;Fe<Be;Fe++){var Ge=Be===1?.5:Fe/(Be-1),Ze=(1-Ge)*B+Ge*V,et=Math.abs(Ze-H)>Math.abs(Ze-N)?[H,Ze]:[Ze,N];w=!0,_e(Oe,et[0],et[1]),w=!1}}var ft=[[Math.min(B,N),Math.max(B,N)],[Math.min(H,V),Math.max(H,V)]];["x","y","z"].forEach(function(rt){for(var _t=[],kt=0;kt<ft.length;kt++){var wt=0,lt=ft[kt][0],ut=ft[kt][1],Et=n.slices[rt];if(Et.show&&Et.fill){X(Et.fill);var Ot=[],zt=[],Lt=[];if(Et.locations.length)for(var Je=0;Je<Et.locations.length;Je++){var Qe=d(Et.locations[Je],rt==="x"?T:rt==="y"?E:L);Qe.distRatio===0?Ot.push(Qe.id):Qe.id>0&&(zt.push(Qe.id),rt==="x"?Lt.push([Qe.distRatio,0,0]):rt==="y"?Lt.push([0,Qe.distRatio,0]):Lt.push([0,0,Qe.distRatio]))}else Ot=Te(1,rt==="x"?C-1:rt==="y"?P-1:R-1);zt.length>0&&(_t[wt]=rt==="x"?De(ye,zt,lt,ut,Lt,_t[wt]):rt==="y"?Ne(ye,zt,lt,ut,Lt,_t[wt]):ce(ye,zt,lt,ut,Lt,_t[wt]),wt++),Ot.length>0&&(_t[wt]=rt==="x"?he(ye,Ot,lt,ut,_t[wt]):rt==="y"?Le(ye,Ot,lt,ut,_t[wt]):Me(ye,Ot,lt,ut,_t[wt]),wt++)}var qe=n.caps[rt];qe.show&&qe.fill&&(X(qe.fill),_t[wt]=rt==="x"?he(ye,[0,C-1],lt,ut,_t[wt]):rt==="y"?Le(ye,[0,P-1],lt,ut,_t[wt]):Me(ye,[0,R-1],lt,ut,_t[wt]),wt++)}}),S===0&&$(),n._meshX=u,n._meshY=p,n._meshZ=c,n._meshIntensity=b,n._Xs=T,n._Ys=E,n._Zs=L}(),n}Y.exports={findNearestOnAxis:d,generateIsoMeshes:r,createIsosurfaceTrace:function(n,l){var o=n.glplot.gl,u=M({gl:o}),p=new s(n,u,l.uid);return u._trace=p,p.update(l),n.glplot.add(u),p}}},82738:function(Y,O,e){var M=e(71828),k=e(73972),a=e(16249),_=e(1586);function y(d,s,t,i,r){var n=r("isomin"),l=r("isomax");l!=null&&n!=null&&n>l&&(s.isomin=null,s.isomax=null);var o=r("x"),u=r("y"),p=r("z"),c=r("value");o&&o.length&&u&&u.length&&p&&p.length&&c&&c.length?(k.getComponentMethod("calendars","handleTraceDefaults")(d,s,["x","y","z"],i),r("valuehoverformat"),["x","y","z"].forEach(function(b){r(b+"hoverformat");var g="caps."+b;r(g+".show")&&r(g+".fill");var h="slices."+b;r(h+".show")&&(r(h+".fill"),r(h+".locations"))}),r("spaceframe.show")&&r("spaceframe.fill"),r("surface.show")&&(r("surface.count"),r("surface.fill"),r("surface.pattern")),r("contour.show")&&(r("contour.color"),r("contour.width")),["text","hovertext","hovertemplate","lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","opacity"].forEach(function(b){r(b)}),_(d,s,i,r,{prefix:"",cLetter:"c"}),s._length=null):s.visible=!1}Y.exports={supplyDefaults:function(d,s,t,i){y(d,s,0,i,function(r,n){return M.coerce(d,s,a,r,n)})},supplyIsoDefaults:y}},64943:function(Y,O,e){Y.exports={attributes:e(16249),supplyDefaults:e(82738).supplyDefaults,calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(22674).createIsosurfaceTrace,moduleType:"trace",name:"isosurface",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2418:function(Y,O,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(54532),y=e(9012),d=e(1426).extendFlat;Y.exports=d({x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},i:{valType:"data_array",editType:"calc"},j:{valType:"data_array",editType:"calc"},k:{valType:"data_array",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertemplate:a({editType:"calc"}),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),delaunayaxis:{valType:"enumerated",values:["x","y","z"],dflt:"z",editType:"calc"},alphahull:{valType:"number",dflt:-1,editType:"calc"},intensity:{valType:"data_array",editType:"calc"},intensitymode:{valType:"enumerated",values:["vertex","cell"],dflt:"vertex",editType:"calc"},color:{valType:"color",editType:"calc"},vertexcolor:{valType:"data_array",editType:"calc"},facecolor:{valType:"data_array",editType:"calc"},transforms:void 0},M("",{colorAttr:"`intensity`",showScaleDflt:!0,editTypeOverride:"calc"}),{opacity:_.opacity,flatshading:{valType:"boolean",dflt:!1,editType:"calc"},contour:{show:d({},_.contours.x.show,{}),color:_.contours.x.color,width:_.contours.x.width,editType:"calc"},lightposition:{x:d({},_.lightposition.x,{dflt:1e5}),y:d({},_.lightposition.y,{dflt:1e5}),z:d({},_.lightposition.z,{dflt:0}),editType:"calc"},lighting:d({vertexnormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-12,editType:"calc"},facenormalsepsilon:{valType:"number",min:0,max:1,dflt:1e-6,editType:"calc"},editType:"calc"},_.lighting),hoverinfo:d({},y.hoverinfo,{editType:"calc"}),showlegend:d({},y.showlegend,{dflt:!1})})},82932:function(Y,O,e){var M=e(78803);Y.exports=function(k,a){a.intensity&&M(k,a,{vals:a.intensity,containerStr:"",cLetter:"c"})}},91134:function(Y,O,e){var M=e(9330).gl_mesh3d,k=e(9330).delaunay_triangulate,a=e(9330).alpha_shape,_=e(9330).convex_hull,y=e(81697).parseColorScale,d=e(78614),s=e(21081).extractOpts,t=e(90060);function i(p,c,b){this.scene=p,this.uid=b,this.mesh=c,this.name="",this.color="#fff",this.data=null,this.showContour=!1}var r=i.prototype;function n(p){for(var c=[],b=p.length,g=0;g<b;g++)c[g]=d(p[g]);return c}function l(p,c,b,g){for(var h=[],x=c.length,v=0;v<x;v++)h[v]=p.d2l(c[v],0,g)*b;return h}function o(p){for(var c=[],b=p.length,g=0;g<b;g++)c[g]=Math.round(p[g]);return c}function u(p,c){for(var b=p.length,g=0;g<b;g++)if(p[g]<=-.5||p[g]>=c-.5)return!1;return!0}r.handlePick=function(p){if(p.object===this.mesh){var c=p.index=p.data.index;p.data._cellCenter?p.traceCoordinate=p.data.dataCoordinate:p.traceCoordinate=[this.data.x[c],this.data.y[c],this.data.z[c]];var b=this.data.hovertext||this.data.text;return Array.isArray(b)&&b[c]!==void 0?p.textLabel=b[c]:b&&(p.textLabel=b),!0}},r.update=function(p){var c=this.scene,b=c.fullSceneLayout;this.data=p;var g,h=p.x.length,x=t(l(b.xaxis,p.x,c.dataScale[0],p.xcalendar),l(b.yaxis,p.y,c.dataScale[1],p.ycalendar),l(b.zaxis,p.z,c.dataScale[2],p.zcalendar));if(p.i&&p.j&&p.k){if(p.i.length!==p.j.length||p.j.length!==p.k.length||!u(p.i,h)||!u(p.j,h)||!u(p.k,h))return;g=t(o(p.i),o(p.j),o(p.k))}else g=p.alphahull===0?_(x):p.alphahull>0?a(p.alphahull,x):function(f,S){for(var T=["x","y","z"].indexOf(f),E=[],L=S.length,C=0;C<L;C++)E[C]=[S[C][(T+1)%3],S[C][(T+2)%3]];return k(E)}(p.delaunayaxis,x);var v={positions:x,cells:g,lightPosition:[p.lightposition.x,p.lightposition.y,p.lightposition.z],ambient:p.lighting.ambient,diffuse:p.lighting.diffuse,specular:p.lighting.specular,roughness:p.lighting.roughness,fresnel:p.lighting.fresnel,vertexNormalsEpsilon:p.lighting.vertexnormalsepsilon,faceNormalsEpsilon:p.lighting.facenormalsepsilon,opacity:p.opacity,contourEnable:p.contour.show,contourColor:d(p.contour.color).slice(0,3),contourWidth:p.contour.width,useFacetNormals:p.flatshading};if(p.intensity){var m=s(p);this.color="#fff";var w=p.intensitymode;v[w+"Intensity"]=p.intensity,v[w+"IntensityBounds"]=[m.min,m.max],v.colormap=y(p)}else p.vertexcolor?(this.color=p.vertexcolor[0],v.vertexColors=n(p.vertexcolor)):p.facecolor?(this.color=p.facecolor[0],v.cellColors=n(p.facecolor)):(this.color=p.color,v.meshColor=d(p.color));this.mesh.update(v)},r.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(p,c){var b=p.glplot.gl,g=M({gl:b}),h=new i(p,g,c.uid);return g._trace=h,h.update(c),p.glplot.add(g),h}},58669:function(Y,O,e){var M=e(73972),k=e(71828),a=e(1586),_=e(2418);Y.exports=function(y,d,s,t){function i(n,l){return k.coerce(y,d,_,n,l)}function r(n){var l=n.map(function(o){var u=i(o);return u&&k.isArrayOrTypedArray(u)?u:null});return l.every(function(o){return o&&o.length===l[0].length})&&l}r(["x","y","z"])?(r(["i","j","k"]),(!d.i||d.j&&d.k)&&(!d.j||d.k&&d.i)&&(!d.k||d.i&&d.j)?(M.getComponentMethod("calendars","handleTraceDefaults")(y,d,["x","y","z"],t),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lighting.vertexnormalsepsilon","lighting.facenormalsepsilon","lightposition.x","lightposition.y","lightposition.z","flatshading","alphahull","delaunayaxis","opacity"].forEach(function(n){i(n)}),i("contour.show")&&(i("contour.color"),i("contour.width")),"intensity"in y?(i("intensity"),i("intensitymode"),a(y,d,t,i,{prefix:"",cLetter:"c"})):(d.showscale=!1,"facecolor"in y?i("facecolor"):"vertexcolor"in y?i("vertexcolor"):i("color",s)),i("text"),i("hovertext"),i("hovertemplate"),i("xhoverformat"),i("yhoverformat"),i("zhoverformat"),d._length=null):d.visible=!1):d.visible=!1}},21164:function(Y,O,e){Y.exports={attributes:e(2418),supplyDefaults:e(58669),calc:e(82932),colorbar:{min:"cmin",max:"cmax"},plot:e(91134),moduleType:"trace",name:"mesh3d",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},2522:function(Y,O,e){var M=e(71828).extendFlat,k=e(82196),a=e(12663).axisHoverFormat,_=e(79952).P,y=e(77914),d=e(22372),s=d.INCREASING.COLOR,t=d.DECREASING.COLOR,i=k.line;function r(n){return{line:{color:M({},i.color,{dflt:n}),width:i.width,dash:_,editType:"style"},editType:"style"}}Y.exports={xperiod:k.xperiod,xperiod0:k.xperiod0,xperiodalignment:k.xperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),x:{valType:"data_array",editType:"calc+clearAxisTypes"},open:{valType:"data_array",editType:"calc"},high:{valType:"data_array",editType:"calc"},low:{valType:"data_array",editType:"calc"},close:{valType:"data_array",editType:"calc"},line:{width:M({},i.width,{}),dash:M({},_,{}),editType:"style"},increasing:r(s),decreasing:r(t),text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},tickwidth:{valType:"number",min:0,max:.5,dflt:.3,editType:"calc"},hoverlabel:M({},y.hoverlabel,{split:{valType:"boolean",dflt:!1,editType:"style"}})}},3485:function(Y,O,e){var M=e(71828),k=M._,a=e(89298),_=e(42973),y=e(50606).BADNUM;function d(t,i,r,n){return{o:t,h:i,l:r,c:n}}function s(t,i,r,n,l,o){for(var u=l.makeCalcdata(i,"open"),p=l.makeCalcdata(i,"high"),c=l.makeCalcdata(i,"low"),b=l.makeCalcdata(i,"close"),g=Array.isArray(i.text),h=Array.isArray(i.hovertext),x=!0,v=null,m=!!i.xperiodalignment,w=[],f=0;f<n.length;f++){var S=n[f],T=u[f],E=p[f],L=c[f],C=b[f];if(S!==y&&T!==y&&E!==y&&L!==y&&C!==y){C===T?v!==null&&C!==v&&(x=C>v):x=C>T,v=C;var P=o(T,E,L,C);P.pos=S,P.yc=(T+C)/2,P.i=f,P.dir=x?"increasing":"decreasing",P.x=P.pos,P.y=[L,E],m&&(P.orig_p=r[f]),g&&(P.tx=i.text[f]),h&&(P.htx=i.hovertext[f]),w.push(P)}else w.push({pos:S,empty:!0})}return i._extremes[l._id]=a.findExtremes(l,M.concat(c,p),{padded:!0}),w.length&&(w[0].t={labels:{open:k(t,"open:")+" ",high:k(t,"high:")+" ",low:k(t,"low:")+" ",close:k(t,"close:")+" "}}),w}Y.exports={calc:function(t,i){var r=a.getFromId(t,i.xaxis),n=a.getFromId(t,i.yaxis),l=function(b,g,h){var x=h._minDiff;if(!x){var v,m=b._fullData,w=[];for(x=1/0,v=0;v<m.length;v++){var f=m[v];if(f.type==="ohlc"&&f.visible===!0&&f.xaxis===g._id){w.push(f);var S=g.makeCalcdata(f,"x");f._origX=S;var T=_(h,g,"x",S).vals;f._xcalc=T;var E=M.distinctVals(T).minDiff;E&&isFinite(E)&&(x=Math.min(x,E))}}for(x===1/0&&(x=1),v=0;v<w.length;v++)w[v]._minDiff=x}return x*h.tickwidth}(t,r,i),o=i._minDiff;i._minDiff=null;var u=i._origX;i._origX=null;var p=i._xcalc;i._xcalc=null;var c=s(t,i,u,p,n,d);return i._extremes[r._id]=a.findExtremes(r,p,{vpad:o/2}),c.length?(M.extendFlat(c[0].t,{wHover:o/2,tickLen:l}),c):[{t:{empty:!0}}]},calcCommon:s}},16169:function(Y,O,e){var M=e(71828),k=e(14555),a=e(73927),_=e(2522);function y(d,s,t,i){t(i+".line.color"),t(i+".line.width",s.line.width),t(i+".line.dash",s.line.dash)}Y.exports=function(d,s,t,i){function r(n,l){return M.coerce(d,s,_,n,l)}k(d,s,r,i)?(a(d,s,i,r,{x:!0}),r("xhoverformat"),r("yhoverformat"),r("line.width"),r("line.dash"),y(0,s,r,"increasing"),y(0,s,r,"decreasing"),r("text"),r("hovertext"),r("tickwidth"),i._requestRangeslider[s.xaxis]=!0):s.visible=!1}},66449:function(Y,O,e){var M=e(89298),k=e(71828),a=e(30211),_=e(7901),y=e(71828).fillText,d=e(22372),s={increasing:d.INCREASING.SYMBOL,decreasing:d.DECREASING.SYMBOL};function t(n,l,o,u){var p,c,b=n.cd,g=n.xa,h=b[0].trace,x=b[0].t,v=h.type,m=v==="ohlc"?"l":"min",w=v==="ohlc"?"h":"max",f=x.bPos||0,S=function(B){return B.pos+f-l},T=x.bdPos||x.tickLen,E=x.wHover,L=Math.min(1,T/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function C(B){var V=S(B);return a.inbox(V-E,V+E,p)}function P(B){var V=B[m],q=B[w];return V===q||a.inbox(V-o,q-o,p)}function R(B){return(C(B)+P(B))/2}p=n.maxHoverDistance-L,c=n.maxSpikeDistance-L;var G=a.getDistanceFunction(u,C,P,R);if(a.getClosest(b,G,n),n.index===!1)return null;var I=b[n.index];if(I.empty)return null;var H=h[I.dir],N=H.line.color;return _.opacity(N)&&H.line.width?n.color=N:n.color=H.fillcolor,n.x0=g.c2p(I.pos+f-T,!0),n.x1=g.c2p(I.pos+f+T,!0),n.xLabelVal=I.orig_p!==void 0?I.orig_p:I.pos,n.spikeDistance=R(I)*c/p,n.xSpike=g.c2p(I.pos,!0),n}function i(n,l,o,u){var p=n.cd,c=n.ya,b=p[0].trace,g=p[0].t,h=[],x=t(n,l,o,u);if(!x)return[];var v=p[x.index].hi||b.hoverinfo,m=v.split("+");if(v!=="all"&&m.indexOf("y")===-1)return[];for(var w=["high","open","close","low"],f={},S=0;S<w.length;S++){var T,E=w[S],L=b[E][x.index],C=c.c2p(L,!0);L in f?(T=f[L]).yLabel+="<br>"+g.labels[E]+M.hoverLabelText(c,L,b.yhoverformat):((T=k.extendFlat({},x)).y0=T.y1=C,T.yLabelVal=L,T.yLabel=g.labels[E]+M.hoverLabelText(c,L,b.yhoverformat),T.name="",h.push(T),f[L]=T)}return h}function r(n,l,o,u){var p=n.cd,c=n.ya,b=p[0].trace,g=p[0].t,h=t(n,l,o,u);if(!h)return[];var x=p[h.index],v=h.index=x.i,m=x.dir;function w(P){return g.labels[P]+M.hoverLabelText(c,b[P][v],b.yhoverformat)}var f=x.hi||b.hoverinfo,S=f.split("+"),T=f==="all",E=T||S.indexOf("y")!==-1,L=T||S.indexOf("text")!==-1,C=E?[w("open"),w("high"),w("low"),w("close")+"  "+s[m]]:[];return L&&y(x,b,C),h.extraText=C.join("<br>"),h.y0=h.y1=c.c2p(x.yc,!0),[h]}Y.exports={hoverPoints:function(n,l,o,u){return n.cd[0].trace.hoverlabel.split?i(n,l,o,u):r(n,l,o,u)},hoverSplit:i,hoverOnPoints:r}},54186:function(Y,O,e){Y.exports={moduleType:"trace",name:"ohlc",basePlotModule:e(93612),categories:["cartesian","svg","showLegend"],meta:{},attributes:e(2522),supplyDefaults:e(16169),calc:e(3485).calc,plot:e(72314),style:e(53101),hoverPoints:e(66449).hoverPoints,selectPoints:e(67324)}},14555:function(Y,O,e){var M=e(73972),k=e(71828);Y.exports=function(a,_,y,d){var s=y("x"),t=y("open"),i=y("high"),r=y("low"),n=y("close");if(y("hoverlabel.split"),M.getComponentMethod("calendars","handleTraceDefaults")(a,_,["x"],d),t&&i&&r&&n){var l=Math.min(t.length,i.length,r.length,n.length);return s&&(l=Math.min(l,k.minRowLength(s))),_._length=l,l}}},72314:function(Y,O,e){var M=e(39898),k=e(71828);Y.exports=function(a,_,y,d){var s=_.yaxis,t=_.xaxis,i=!!t.rangebreaks;k.makeTraceGroups(d,y,"trace ohlc").each(function(r){var n=M.select(this),l=r[0],o=l.t;if(l.trace.visible!==!0||o.empty)n.remove();else{var u=o.tickLen,p=n.selectAll("path").data(k.identity);p.enter().append("path"),p.exit().remove(),p.attr("d",function(c){if(c.empty)return"M0,0Z";var b=t.c2p(c.pos-u,!0),g=t.c2p(c.pos+u,!0),h=i?(b+g)/2:t.c2p(c.pos,!0);return"M"+b+","+s.c2p(c.o,!0)+"H"+h+"M"+h+","+s.c2p(c.h,!0)+"V"+s.c2p(c.l,!0)+"M"+g+","+s.c2p(c.c,!0)+"H"+h})}})}},67324:function(Y){Y.exports=function(O,e){var M,k=O.cd,a=O.xaxis,_=O.yaxis,y=[],d=k[0].t.bPos||0;if(e===!1)for(M=0;M<k.length;M++)k[M].selected=0;else for(M=0;M<k.length;M++){var s=k[M];e.contains([a.c2p(s.pos+d),_.c2p(s.yc)],null,s.i,O)?(y.push({pointNumber:s.i,x:a.c2d(s.pos),y:_.c2d(s.yc)}),s.selected=1):s.selected=0}return y}},53101:function(Y,O,e){var M=e(39898),k=e(91424),a=e(7901);Y.exports=function(_,y,d){var s=d||M.select(_).selectAll("g.ohlclayer").selectAll("g.trace");s.style("opacity",function(t){return t[0].trace.opacity}),s.each(function(t){var i=t[0].trace;M.select(this).selectAll("path").each(function(r){if(!r.empty){var n=i[r.dir].line;M.select(this).style("fill","none").call(a.stroke,n.color).call(k.dashLine,n.dash,n.width).style("opacity",i.selectedpoints&&!r.selected?.3:1)}})})}},99506:function(Y,O,e){var M=e(1426).extendFlat,k=e(9012),a=e(41940),_=e(50693),y=e(5386).fF,d=e(27670).Y,s=M({editType:"calc"},_("line",{editTypeOverride:"calc"}),{shape:{valType:"enumerated",values:["linear","hspline"],dflt:"linear",editType:"plot"},hovertemplate:y({editType:"plot",arrayOk:!1},{keys:["count","probability"]})});Y.exports={domain:d({name:"parcats",trace:!0,editType:"calc"}),hoverinfo:M({},k.hoverinfo,{flags:["count","probability"],editType:"plot",arrayOk:!1}),hoveron:{valType:"enumerated",values:["category","color","dimension"],dflt:"category",editType:"plot"},hovertemplate:y({editType:"plot",arrayOk:!1},{keys:["count","probability","category","categorycount","colorcount","bandcolorcount"]}),arrangement:{valType:"enumerated",values:["perpendicular","freeform","fixed"],dflt:"perpendicular",editType:"plot"},bundlecolors:{valType:"boolean",dflt:!0,editType:"plot"},sortpaths:{valType:"enumerated",values:["forward","backward"],dflt:"forward",editType:"plot"},labelfont:a({editType:"calc"}),tickfont:a({editType:"calc"}),dimensions:{_isLinkedToArray:"dimension",label:{valType:"string",editType:"calc"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},ticktext:{valType:"data_array",editType:"calc"},values:{valType:"data_array",dflt:[],editType:"calc"},displayindex:{valType:"integer",editType:"calc"},editType:"calc",visible:{valType:"boolean",dflt:!0,editType:"calc"}},line:s,counts:{valType:"number",min:0,dflt:1,arrayOk:!0,editType:"calc"},customdata:void 0,hoverlabel:void 0,ids:void 0,legend:void 0,legendgroup:void 0,legendrank:void 0,opacity:void 0,selectedpoints:void 0,showlegend:void 0}},27677:function(Y,O,e){var M=e(27659).a0,k=e(45784),a="parcats";O.name=a,O.plot=function(_,y,d,s){var t=M(_.calcdata,a);if(t.length){var i=t[0];k(_,i,d,s)}},O.clean=function(_,y,d,s){var t=s._has&&s._has("parcats"),i=y._has&&y._has("parcats");t&&!i&&s._paperdiv.selectAll(".parcats").remove()}},28699:function(Y,O,e){var M=e(28984).wrap,k=e(52075).hasColorscale,a=e(78803),_=e(75744),y=e(91424),d=e(71828),s=e(92770);function t(n,l,o){n.valueInds.push(l),n.count+=o}function i(n,l,o){return{categoryInds:n,color:l,rawColor:o,valueInds:[],count:0}}function r(n,l,o){n.valueInds.push(l),n.count+=o}Y.exports=function(n,l){var o=d.filterVisible(l.dimensions);if(o.length===0)return[];var u,p,c,b=o.map(function(q){var te;if(q.categoryorder==="trace")te=null;else if(q.categoryorder==="array")te=q.categoryarray;else{te=_(q.values);for(var $=!0,K=0;K<te.length;K++)if(!s(te[K])){$=!1;break}te.sort($?d.sorterAsc:void 0),q.categoryorder==="category descending"&&(te=te.reverse())}return function(Z,X){X=X==null?[]:X.map(function(we){return we});var ee={},ne={},re=[];X.forEach(function(we,me){ee[we]=0,ne[we]=me});for(var ae=0;ae<Z.length;ae++){var ue,pe=Z[ae];ee[pe]===void 0?(ee[pe]=1,ue=X.push(pe)-1,ne[pe]=ue):(ee[pe]++,ue=ne[pe]),re.push(ue)}var ge=X.map(function(we){return ee[we]});return{uniqueValues:X,uniqueCounts:ge,inds:re}}(q.values,te)});u=d.isArrayOrTypedArray(l.counts)?l.counts:[l.counts],function(q){var te,$=q.map(function(K){return K.displayindex});if(function(K){for(var Z=new Array(K.length),X=0;X<K.length;X++){if(K[X]<0||K[X]>=K.length||Z[K[X]]!==void 0)return!1;Z[K[X]]=!0}return!0}($))for(te=0;te<q.length;te++)q[te]._displayindex=q[te].displayindex;else for(te=0;te<q.length;te++)q[te]._displayindex=te}(o),o.forEach(function(q,te){(function($,K){$._categoryarray=K.uniqueValues,$.ticktext===null||$.ticktext===void 0?$._ticktext=[]:$._ticktext=$.ticktext.slice();for(var Z=$._ticktext.length;Z<K.uniqueValues.length;Z++)$._ticktext.push(K.uniqueValues[Z])})(q,b[te])});var g,h=l.line;h?(k(l,"line")&&a(n,l,{vals:l.line.color,containerStr:"line",cLetter:"c"}),g=y.tryColorscale(h)):g=d.identity;var x,v,m,w,f,S=o[0].values.length,T={},E=b.map(function(q){return q.inds});for(c=0,x=0;x<S;x++){var L=[];for(v=0;v<E.length;v++)L.push(E[v][x]);p=u[x%u.length],c+=p;var C=(m=x,w=void 0,f=void 0,d.isArrayOrTypedArray(h.color)?f=w=h.color[m%h.color.length]:w=h.color,{color:g(w),rawColor:f}),P=L+"-"+C.rawColor;T[P]===void 0&&(T[P]=i(L,C.color,C.rawColor)),r(T[P],x,p)}var R,G=o.map(function(q,te){return function($,K,Z,X,ee){return{dimensionInd:$,containerInd:K,displayInd:Z,dimensionLabel:X,count:ee,categories:[],dragX:null}}(te,q._index,q._displayindex,q.label,c)});for(x=0;x<S;x++)for(p=u[x%u.length],v=0;v<G.length;v++){var I=G[v].containerInd,H=b[v].inds[x],N=G[v].categories;if(N[H]===void 0){var B=l.dimensions[I]._categoryarray[H],V=l.dimensions[I]._ticktext[H];N[H]={dimensionInd:v,categoryInd:R=H,categoryValue:B,displayInd:R,categoryLabel:V,valueInds:[],count:0,dragY:null}}t(N[H],x,p)}return M(function(q,te,$){var K=q.map(function(Z){return Z.categories.length}).reduce(function(Z,X){return Math.max(Z,X)});return{dimensions:q,paths:te,trace:void 0,maxCats:K,count:$}}(G,T,c))}},14647:function(Y,O,e){var M=e(71828),k=e(52075).hasColorscale,a=e(1586),_=e(27670).c,y=e(85501),d=e(99506),s=e(94397);function t(i,r){function n(g,h){return M.coerce(i,r,d.dimensions,g,h)}var l=n("values"),o=n("visible");if(l&&l.length||(o=r.visible=!1),o){n("label"),n("displayindex",r._index);var u,p=i.categoryarray,c=Array.isArray(p)&&p.length>0;c&&(u="array");var b=n("categoryorder",u);b==="array"?(n("categoryarray"),n("ticktext")):(delete i.categoryarray,delete i.ticktext),c||b!=="array"||(r.categoryorder="trace")}}Y.exports=function(i,r,n,l){function o(g,h){return M.coerce(i,r,d,g,h)}var u=y(i,r,{name:"dimensions",handleItemDefaults:t}),p=function(g,h,x,v,m){m("line.shape"),m("line.hovertemplate");var w=m("line.color",v.colorway[0]);if(k(g,"line")&&M.isArrayOrTypedArray(w)){if(w.length)return m("line.colorscale"),a(g,h,v,m,{prefix:"line.",cLetter:"c"}),w.length;h.line.color=x}return 1/0}(i,r,n,l,o);_(r,l,o),Array.isArray(u)&&u.length||(r.visible=!1),s(r,u,"values",p),o("hoveron"),o("hovertemplate"),o("arrangement"),o("bundlecolors"),o("sortpaths"),o("counts");var c={family:l.font.family,size:Math.round(l.font.size),color:l.font.color};M.coerceFont(o,"labelfont",c);var b={family:l.font.family,size:Math.round(l.font.size/1.2),color:l.font.color};M.coerceFont(o,"tickfont",b)}},94873:function(Y,O,e){Y.exports={attributes:e(99506),supplyDefaults:e(14647),calc:e(28699),plot:e(45784),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcats",basePlotModule:e(27677),categories:["noOpacity"],meta:{}}},45460:function(Y,O,e){var M=e(39898),k=e(81684).k4,a=e(72391),_=e(30211),y=e(71828),d=y.strTranslate,s=e(91424),t=e(84267),i=e(63893);function r($,K,Z,X){var ee=K._context.staticPlot,ne=$.map(N.bind(0,K,Z)),re=X.selectAll("g.parcatslayer").data([null]);re.enter().append("g").attr("class","parcatslayer").style("pointer-events",ee?"none":"all");var ae=re.selectAll("g.trace.parcats").data(ne,n),ue=ae.enter().append("g").attr("class","trace parcats");ae.attr("transform",function(se){return d(se.x,se.y)}),ue.append("g").attr("class","paths");var pe=ae.select("g.paths").selectAll("path.path").data(function(se){return se.paths},n);pe.attr("fill",function(se){return se.model.color});var ge=pe.enter().append("path").attr("class","path").attr("stroke-opacity",0).attr("fill",function(se){return se.model.color}).attr("fill-opacity",0);h(ge),pe.attr("d",function(se){return se.svgD}),ge.empty()||pe.sort(o),pe.exit().remove(),pe.on("mouseover",u).on("mouseout",p).on("click",g),ue.append("g").attr("class","dimensions");var we=ae.select("g.dimensions").selectAll("g.dimension").data(function(se){return se.dimensions},n);we.enter().append("g").attr("class","dimension"),we.attr("transform",function(se){return d(se.x,0)}),we.exit().remove();var me=we.selectAll("g.category").data(function(se){return se.categories},n),ve=me.enter().append("g").attr("class","category");me.attr("transform",function(se){return d(0,se.y)}),ve.append("rect").attr("class","catrect").attr("pointer-events","none"),me.select("rect.catrect").attr("fill","none").attr("width",function(se){return se.width}).attr("height",function(se){return se.height}),v(ve);var Ie=me.selectAll("rect.bandrect").data(function(se){return se.bands},n);Ie.each(function(){y.raiseToTop(this)}),Ie.attr("fill",function(se){return se.color});var Se=Ie.enter().append("rect").attr("class","bandrect").attr("stroke-opacity",0).attr("fill",function(se){return se.color}).attr("fill-opacity",0);Ie.attr("fill",function(se){return se.color}).attr("width",function(se){return se.width}).attr("height",function(se){return se.height}).attr("y",function(se){return se.y}).attr("cursor",function(se){return se.parcatsViewModel.arrangement==="fixed"?"default":se.parcatsViewModel.arrangement==="perpendicular"?"ns-resize":"move"}),m(Se),Ie.exit().remove(),ve.append("text").attr("class","catlabel").attr("pointer-events","none");var ke=K._fullLayout.paper_bgcolor;me.select("text.catlabel").attr("text-anchor",function(se){return l(se)?"start":"end"}).attr("alignment-baseline","middle").style("text-shadow",i.makeTextShadow(ke)).style("fill","rgb(0, 0, 0)").attr("x",function(se){return l(se)?se.width+5:-5}).attr("y",function(se){return se.height/2}).text(function(se){return se.model.categoryLabel}).each(function(se){s.font(M.select(this),se.parcatsViewModel.categorylabelfont),i.convertToTspans(M.select(this),K)}),ve.append("text").attr("class","dimlabel"),me.select("text.dimlabel").attr("text-anchor","middle").attr("alignment-baseline","baseline").attr("cursor",function(se){return se.parcatsViewModel.arrangement==="fixed"?"default":"ew-resize"}).attr("x",function(se){return se.width/2}).attr("y",-5).text(function(se,oe){return oe===0?se.parcatsViewModel.model.dimensions[se.model.dimensionInd].dimensionLabel:null}).each(function(se){s.font(M.select(this),se.parcatsViewModel.labelfont)}),me.selectAll("rect.bandrect").on("mouseover",E).on("mouseout",L),me.exit().remove(),we.call(M.behavior.drag().origin(function(se){return{x:se.x,y:0}}).on("dragstart",C).on("drag",P).on("dragend",R)),ae.each(function(se){se.traceSelection=M.select(this),se.pathSelection=M.select(this).selectAll("g.paths").selectAll("path.path"),se.dimensionSelection=M.select(this).selectAll("g.dimensions").selectAll("g.dimension")}),ae.exit().remove()}function n($){return $.key}function l($){var K=$.parcatsViewModel.dimensions.length,Z=$.parcatsViewModel.dimensions[K-1].model.dimensionInd;return $.model.dimensionInd===Z}function o($,K){return $.model.rawColor>K.model.rawColor?1:$.model.rawColor<K.model.rawColor?-1:0}function u($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){y.raiseToTop(this),x(M.select(this));var K=c($),Z=b($);if($.parcatsViewModel.graphDiv.emit("plotly_hover",{points:K,event:M.event,constraints:Z}),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1){var X,ee,ne,re=M.mouse(this)[0],ae=$.parcatsViewModel.graphDiv,ue=$.parcatsViewModel.trace,pe=ae._fullLayout,ge=pe._paperdiv.node().getBoundingClientRect(),we=$.parcatsViewModel.graphDiv.getBoundingClientRect();for(ne=0;ne<$.leftXs.length-1;ne++)if($.leftXs[ne]+$.dimWidths[ne]-2<=re&&re<=$.leftXs[ne+1]+2){var me=$.parcatsViewModel.dimensions[ne],ve=$.parcatsViewModel.dimensions[ne+1];X=(me.x+me.width+ve.x)/2,ee=($.topYs[ne]+$.topYs[ne+1]+$.height)/2;break}var Ie=$.parcatsViewModel.x+X,Se=$.parcatsViewModel.y+ee,ke=t.mostReadable($.model.color,["black","white"]),se=$.model.count,oe=se/$.parcatsViewModel.model.count,he={countLabel:se,probabilityLabel:oe.toFixed(3)},Le=[];$.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Le.push(["Count:",he.countLabel].join(" ")),$.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&Le.push(["P:",he.probabilityLabel].join(" "));var Me=Le.join("<br>"),_e=M.mouse(ae)[0];_.loneHover({trace:ue,x:Ie-ge.left+we.left,y:Se-ge.top+we.top,text:Me,color:$.model.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:10,fontColor:ke,idealAlign:_e<Ie?"right":"left",hovertemplate:(ue.line||{}).hovertemplate,hovertemplateLabels:he,eventData:[{data:ue._input,fullData:ue,count:se,probability:oe}]},{container:pe._hoverlayer.node(),outerContainer:pe._paper.node(),gd:ae})}}}function p($){if(!$.parcatsViewModel.dragDimension&&(h(M.select(this)),_.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()),$.parcatsViewModel.pathSelection.sort(o),$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1)){var K=c($),Z=b($);$.parcatsViewModel.graphDiv.emit("plotly_unhover",{points:K,event:M.event,constraints:Z})}}function c($){for(var K=[],Z=G($.parcatsViewModel),X=0;X<$.model.valueInds.length;X++){var ee=$.model.valueInds[X];K.push({curveNumber:Z,pointNumber:ee})}return K}function b($){for(var K={},Z=$.parcatsViewModel.model.dimensions,X=0;X<Z.length;X++){var ee=Z[X],ne=ee.categories[$.model.categoryInds[X]];K[ee.containerInd]=ne.categoryValue}return $.model.rawColor!==void 0&&(K.color=$.model.rawColor),K}function g($){if($.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){var K=c($),Z=b($);$.parcatsViewModel.graphDiv.emit("plotly_click",{points:K,event:M.event,constraints:Z})}}function h($){$.attr("fill",function(K){return K.model.color}).attr("fill-opacity",.6).attr("stroke","lightgray").attr("stroke-width",.2).attr("stroke-opacity",1)}function x($){$.attr("fill-opacity",.8).attr("stroke",function(K){return t.mostReadable(K.model.color,["black","white"])}).attr("stroke-width",.3)}function v($){$.select("rect.catrect").attr("stroke","black").attr("stroke-width",1).attr("stroke-opacity",1)}function m($){$.attr("stroke","black").attr("stroke-width",.2).attr("stroke-opacity",1).attr("fill-opacity",1)}function w($){var K=$.parcatsViewModel.pathSelection,Z=$.categoryViewModel.model.dimensionInd,X=$.categoryViewModel.model.categoryInd;return K.filter(function(ee){return ee.model.categoryInds[Z]===X&&ee.model.color===$.color})}function f($,K,Z){var X=M.select($).datum(),ee=X.categoryViewModel.model,ne=X.parcatsViewModel.graphDiv,re=M.select($.parentNode).selectAll("rect.bandrect"),ae=[];re.each(function(pe){w(pe).each(function(ge){Array.prototype.push.apply(ae,c(ge))})});var ue={};ue[ee.dimensionInd]=ee.categoryValue,ne.emit(K,{points:ae,event:Z,constraints:ue})}function S($,K,Z){var X=M.select($).datum(),ee=X.categoryViewModel.model,ne=X.parcatsViewModel.graphDiv,re=w(X),ae=[];re.each(function(pe){Array.prototype.push.apply(ae,c(pe))});var ue={};ue[ee.dimensionInd]=ee.categoryValue,X.rawColor!==void 0&&(ue.color=X.rawColor),ne.emit(K,{points:ae,event:Z,constraints:ue})}function T($,K,Z){$._fullLayout._calcInverseTransform($);var X,ee,ne=$._fullLayout._invScaleX,re=$._fullLayout._invScaleY,ae=M.select(Z.parentNode).select("rect.catrect"),ue=ae.node().getBoundingClientRect(),pe=ae.datum(),ge=pe.parcatsViewModel,we=ge.model.dimensions[pe.model.dimensionInd],me=ge.trace,ve=ue.top+ue.height/2;ge.dimensions.length>1&&we.displayInd===ge.dimensions.length-1?(X=ue.left,ee="left"):(X=ue.left+ue.width,ee="right");var Ie=pe.model.count,Se=pe.model.categoryLabel,ke=Ie/pe.parcatsViewModel.model.count,se={countLabel:Ie,categoryLabel:Se,probabilityLabel:ke.toFixed(3)},oe=[];pe.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&oe.push(["Count:",se.countLabel].join(" ")),pe.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&oe.push(["P("+se.categoryLabel+"):",se.probabilityLabel].join(" "));var he=oe.join("<br>");return{trace:me,x:ne*(X-K.left),y:re*(ve-K.top),text:he,color:"lightgray",borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontSize:12,fontColor:"black",idealAlign:ee,hovertemplate:me.hovertemplate,hovertemplateLabels:se,eventData:[{data:me._input,fullData:me,count:Ie,category:Se,probability:ke}]}}function E($){if(!$.parcatsViewModel.dragDimension&&$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1){if(M.mouse(this)[1]<-1)return;var K,Z=$.parcatsViewModel.graphDiv,X=Z._fullLayout,ee=X._paperdiv.node().getBoundingClientRect(),ne=$.parcatsViewModel.hoveron,re=this;ne==="color"?(function(ae){var ue=M.select(ae).datum(),pe=w(ue);x(pe),pe.each(function(){y.raiseToTop(this)}),M.select(ae.parentNode).selectAll("rect.bandrect").filter(function(ge){return ge.color===ue.color}).each(function(){y.raiseToTop(this),M.select(this).attr("stroke","black").attr("stroke-width",1.5)})}(re),S(re,"plotly_hover",M.event)):(function(ae){M.select(ae.parentNode).selectAll("rect.bandrect").each(function(ue){var pe=w(ue);x(pe),pe.each(function(){y.raiseToTop(this)})}),M.select(ae.parentNode).select("rect.catrect").attr("stroke","black").attr("stroke-width",2.5)}(re),f(re,"plotly_hover",M.event)),$.parcatsViewModel.hoverinfoItems.indexOf("none")===-1&&(ne==="category"?K=T(Z,ee,re):ne==="color"?K=function(ae,ue,pe){ae._fullLayout._calcInverseTransform(ae);var ge,we,me=ae._fullLayout._invScaleX,ve=ae._fullLayout._invScaleY,Ie=pe.getBoundingClientRect(),Se=M.select(pe).datum(),ke=Se.categoryViewModel,se=ke.parcatsViewModel,oe=se.model.dimensions[ke.model.dimensionInd],he=se.trace,Le=Ie.y+Ie.height/2;se.dimensions.length>1&&oe.displayInd===se.dimensions.length-1?(ge=Ie.left,we="left"):(ge=Ie.left+Ie.width,we="right");var Me=ke.model.categoryLabel,_e=Se.parcatsViewModel.model.count,De=0;Se.categoryViewModel.bands.forEach(function(et){et.color===Se.color&&(De+=et.count)});var Ne=ke.model.count,ce=0;se.pathSelection.each(function(et){et.model.color===Se.color&&(ce+=et.model.count)});var Te=De/_e,ye=De/ce,Oe=De/Ne,Be={countLabel:_e,categoryLabel:Me,probabilityLabel:Te.toFixed(3)},Fe=[];ke.parcatsViewModel.hoverinfoItems.indexOf("count")!==-1&&Fe.push(["Count:",Be.countLabel].join(" ")),ke.parcatsViewModel.hoverinfoItems.indexOf("probability")!==-1&&(Fe.push("P(color ∩ "+Me+"): "+Be.probabilityLabel),Fe.push("P("+Me+" | color): "+ye.toFixed(3)),Fe.push("P(color | "+Me+"): "+Oe.toFixed(3)));var Ge=Fe.join("<br>"),Ze=t.mostReadable(Se.color,["black","white"]);return{trace:he,x:me*(ge-ue.left),y:ve*(Le-ue.top),text:Ge,color:Se.color,borderColor:"black",fontFamily:'Monaco, "Courier New", monospace',fontColor:Ze,fontSize:10,idealAlign:we,hovertemplate:he.hovertemplate,hovertemplateLabels:Be,eventData:[{data:he._input,fullData:he,category:Me,count:_e,probability:Te,categorycount:Ne,colorcount:ce,bandcolorcount:De}]}}(Z,ee,re):ne==="dimension"&&(K=function(ae,ue,pe){var ge=[];return M.select(pe.parentNode.parentNode).selectAll("g.category").select("rect.catrect").each(function(){ge.push(T(ae,ue,this))}),ge}(Z,ee,re)),K&&_.loneHover(K,{container:X._hoverlayer.node(),outerContainer:X._paper.node(),gd:Z}))}}function L($){var K=$.parcatsViewModel;K.dragDimension||(h(K.pathSelection),v(K.dimensionSelection.selectAll("g.category")),m(K.dimensionSelection.selectAll("g.category").selectAll("rect.bandrect")),_.loneUnhover(K.graphDiv._fullLayout._hoverlayer.node()),K.pathSelection.sort(o),K.hoverinfoItems.indexOf("skip")!==-1)||($.parcatsViewModel.hoveron==="color"?S(this,"plotly_unhover",M.event):f(this,"plotly_unhover",M.event))}function C($){$.parcatsViewModel.arrangement!=="fixed"&&($.dragDimensionDisplayInd=$.model.displayInd,$.initialDragDimensionDisplayInds=$.parcatsViewModel.model.dimensions.map(function(K){return K.displayInd}),$.dragHasMoved=!1,$.dragCategoryDisplayInd=null,M.select(this).selectAll("g.category").select("rect.catrect").each(function(K){var Z=M.mouse(this)[0],X=M.mouse(this)[1];-2<=Z&&Z<=K.width+2&&-2<=X&&X<=K.height+2&&($.dragCategoryDisplayInd=K.model.displayInd,$.initialDragCategoryDisplayInds=$.model.categories.map(function(ee){return ee.displayInd}),K.model.dragY=K.y,y.raiseToTop(this.parentNode),M.select(this.parentNode).selectAll("rect.bandrect").each(function(ee){ee.y<X&&X<=ee.y+ee.height&&($.potentialClickBand=this)}))}),$.parcatsViewModel.dragDimension=$,_.loneUnhover($.parcatsViewModel.graphDiv._fullLayout._hoverlayer.node()))}function P($){if($.parcatsViewModel.arrangement!=="fixed"&&($.dragHasMoved=!0,$.dragDimensionDisplayInd!==null)){var K=$.dragDimensionDisplayInd,Z=K-1,X=K+1,ee=$.parcatsViewModel.dimensions[K];if($.dragCategoryDisplayInd!==null){var ne=ee.categories[$.dragCategoryDisplayInd];ne.model.dragY+=M.event.dy;var re=ne.model.dragY,ae=ne.model.displayInd,ue=ee.categories,pe=ue[ae-1],ge=ue[ae+1];pe!==void 0&&re<pe.y+pe.height/2&&(ne.model.displayInd=pe.model.displayInd,pe.model.displayInd=ae),ge!==void 0&&re+ne.height>ge.y+ge.height/2&&(ne.model.displayInd=ge.model.displayInd,ge.model.displayInd=ae),$.dragCategoryDisplayInd=ne.model.displayInd}if($.dragCategoryDisplayInd===null||$.parcatsViewModel.arrangement==="freeform"){ee.model.dragX=M.event.x;var we=$.parcatsViewModel.dimensions[Z],me=$.parcatsViewModel.dimensions[X];we!==void 0&&ee.model.dragX<we.x+we.width&&(ee.model.displayInd=we.model.displayInd,we.model.displayInd=K),me!==void 0&&ee.model.dragX+ee.width>me.x&&(ee.model.displayInd=me.model.displayInd,me.model.displayInd=$.dragDimensionDisplayInd),$.dragDimensionDisplayInd=ee.model.displayInd}q($.parcatsViewModel),V($.parcatsViewModel),H($.parcatsViewModel),I($.parcatsViewModel)}}function R($){if($.parcatsViewModel.arrangement!=="fixed"&&$.dragDimensionDisplayInd!==null){M.select(this).selectAll("text").attr("font-weight","normal");var K={},Z=G($.parcatsViewModel),X=$.parcatsViewModel.model.dimensions.map(function(ge){return ge.displayInd}),ee=$.initialDragDimensionDisplayInds.some(function(ge,we){return ge!==X[we]});ee&&X.forEach(function(ge,we){var me=$.parcatsViewModel.model.dimensions[we].containerInd;K["dimensions["+me+"].displayindex"]=ge});var ne=!1;if($.dragCategoryDisplayInd!==null){var re=$.model.categories.map(function(ge){return ge.displayInd});if(ne=$.initialDragCategoryDisplayInds.some(function(ge,we){return ge!==re[we]})){var ae=$.model.categories.slice().sort(function(ge,we){return ge.displayInd-we.displayInd}),ue=ae.map(function(ge){return ge.categoryValue}),pe=ae.map(function(ge){return ge.categoryLabel});K["dimensions["+$.model.containerInd+"].categoryarray"]=[ue],K["dimensions["+$.model.containerInd+"].ticktext"]=[pe],K["dimensions["+$.model.containerInd+"].categoryorder"]="array"}}$.parcatsViewModel.hoverinfoItems.indexOf("skip")===-1&&!$.dragHasMoved&&$.potentialClickBand&&($.parcatsViewModel.hoveron==="color"?S($.potentialClickBand,"plotly_click",M.event.sourceEvent):f($.potentialClickBand,"plotly_click",M.event.sourceEvent)),$.model.dragX=null,$.dragCategoryDisplayInd!==null&&($.parcatsViewModel.dimensions[$.dragDimensionDisplayInd].categories[$.dragCategoryDisplayInd].model.dragY=null,$.dragCategoryDisplayInd=null),$.dragDimensionDisplayInd=null,$.parcatsViewModel.dragDimension=null,$.dragHasMoved=null,$.potentialClickBand=null,q($.parcatsViewModel),V($.parcatsViewModel),M.transition().duration(300).ease("cubic-in-out").each(function(){H($.parcatsViewModel,!0),I($.parcatsViewModel,!0)}).each("end",function(){(ee||ne)&&a.restyle($.parcatsViewModel.graphDiv,K,[Z])})}}function G($){for(var K,Z=$.graphDiv._fullData,X=0;X<Z.length;X++)if($.key===Z[X].uid){K=X;break}return K}function I($,K){var Z;K===void 0&&(K=!1),$.pathSelection.data(function(X){return X.paths},n),(Z=$.pathSelection,K?Z.transition():Z).attr("d",function(X){return X.svgD})}function H($,K){function Z(re){return K?re.transition():re}K===void 0&&(K=!1),$.dimensionSelection.data(function(re){return re.dimensions},n);var X=$.dimensionSelection.selectAll("g.category").data(function(re){return re.categories},n);Z($.dimensionSelection).attr("transform",function(re){return d(re.x,0)}),Z(X).attr("transform",function(re){return d(0,re.y)}),X.select(".dimlabel").text(function(re,ae){return ae===0?re.parcatsViewModel.model.dimensions[re.model.dimensionInd].dimensionLabel:null}),X.select(".catlabel").attr("text-anchor",function(re){return l(re)?"start":"end"}).attr("x",function(re){return l(re)?re.width+5:-5}).each(function(re){var ae,ue;l(re)?(ae=re.width+5,ue="start"):(ae=-5,ue="end"),M.select(this).selectAll("tspan").attr("x",ae).attr("text-anchor",ue)});var ee=X.selectAll("rect.bandrect").data(function(re){return re.bands},n),ne=ee.enter().append("rect").attr("class","bandrect").attr("cursor","move").attr("stroke-opacity",0).attr("fill",function(re){return re.color}).attr("fill-opacity",0);ee.attr("fill",function(re){return re.color}).attr("width",function(re){return re.width}).attr("height",function(re){return re.height}).attr("y",function(re){return re.y}),m(ne),ee.each(function(){y.raiseToTop(this)}),ee.exit().remove()}function N($,K,Z){var X,ee=Z[0],ne=K.margin||{l:80,r:80,t:100,b:80},re=ee.trace,ae=re.domain,ue=K.width,pe=K.height,ge=Math.floor(ue*(ae.x[1]-ae.x[0])),we=Math.floor(pe*(ae.y[1]-ae.y[0])),me=ae.x[0]*ue+ne.l,ve=K.height-ae.y[1]*K.height+ne.t,Ie=re.line.shape;X=re.hoverinfo==="all"?["count","probability"]:(re.hoverinfo||"").split("+");var Se={trace:re,key:re.uid,model:ee,x:me,y:ve,width:ge,height:we,hoveron:re.hoveron,hoverinfoItems:X,arrangement:re.arrangement,bundlecolors:re.bundlecolors,sortpaths:re.sortpaths,labelfont:re.labelfont,categorylabelfont:re.tickfont,pathShape:Ie,dragDimension:null,margin:ne,paths:[],dimensions:[],graphDiv:$,traceSelection:null,pathSelection:null,dimensionSelection:null};return ee.dimensions&&(q(Se),V(Se)),Se}function B($,K,Z,X,ee){var ne,re,ae=[],ue=[];for(re=0;re<Z.length-1;re++)ne=k(Z[re]+$[re],$[re+1]),ae.push(ne(ee)),ue.push(ne(1-ee));var pe="M "+$[0]+","+K[0];for(pe+="l"+Z[0]+",0 ",re=1;re<Z.length;re++)pe+="C"+ae[re-1]+","+K[re-1]+" "+ue[re-1]+","+K[re]+" "+$[re]+","+K[re],pe+="l"+Z[re]+",0 ";for(pe+="l0,"+X+" ",pe+="l -"+Z[Z.length-1]+",0 ",re=Z.length-2;re>=0;re--)pe+="C"+ue[re]+","+(K[re+1]+X)+" "+ae[re]+","+(K[re]+X)+" "+($[re]+Z[re])+","+(K[re]+X),pe+="l-"+Z[re]+",0 ";return pe+"Z"}function V($){var K=$.dimensions,Z=$.model,X=K.map(function(Be){return Be.categories.map(function(Fe){return Fe.y})}),ee=$.model.dimensions.map(function(Be){return Be.categories.map(function(Fe){return Fe.displayInd})}),ne=$.model.dimensions.map(function(Be){return Be.displayInd}),re=$.dimensions.map(function(Be){return Be.model.dimensionInd}),ae=K.map(function(Be){return Be.x}),ue=K.map(function(Be){return Be.width}),pe=[];for(var ge in Z.paths)Z.paths.hasOwnProperty(ge)&&pe.push(Z.paths[ge]);function we(Be){var Fe=Be.categoryInds.map(function(Ge,Ze){return ee[Ze][Ge]});return re.map(function(Ge){return Fe[Ge]})}pe.sort(function(Be,Fe){var Ge=we(Be),Ze=we(Fe);return $.sortpaths==="backward"&&(Ge.reverse(),Ze.reverse()),Ge.push(Be.valueInds[0]),Ze.push(Fe.valueInds[0]),$.bundlecolors&&(Ge.unshift(Be.rawColor),Ze.unshift(Fe.rawColor)),Ge<Ze?-1:Ge>Ze?1:0});for(var me=new Array(pe.length),ve=K[0].model.count,Ie=K[0].categories.map(function(Be){return Be.height}).reduce(function(Be,Fe){return Be+Fe}),Se=0;Se<pe.length;Se++){var ke,se=pe[Se];ke=ve>0?Ie*(se.count/ve):0;for(var oe,he=new Array(X.length),Le=0;Le<se.categoryInds.length;Le++){var Me=se.categoryInds[Le],_e=ee[Le][Me],De=ne[Le];he[De]=X[De][_e],X[De][_e]+=ke;var Ne=$.dimensions[De].categories[_e],ce=Ne.bands.length,Te=Ne.bands[ce-1];if(Te===void 0||se.rawColor!==Te.rawColor){var ye=Te===void 0?0:Te.y+Te.height;Ne.bands.push({key:ye,color:se.color,rawColor:se.rawColor,height:ke,width:Ne.width,count:se.count,y:ye,categoryViewModel:Ne,parcatsViewModel:$})}else{var Oe=Ne.bands[ce-1];Oe.height+=ke,Oe.count+=se.count}}oe=$.pathShape==="hspline"?B(ae,he,ue,ke,.5):B(ae,he,ue,ke,0),me[Se]={key:se.valueInds[0],model:se,height:ke,leftXs:ae,topYs:he,dimWidths:ue,svgD:oe,parcatsViewModel:$}}$.paths=me}function q($){var K=$.model.dimensions.map(function(re){return{displayInd:re.displayInd,dimensionInd:re.dimensionInd}});K.sort(function(re,ae){return re.displayInd-ae.displayInd});var Z=[];for(var X in K){var ee=K[X].dimensionInd,ne=$.model.dimensions[ee];Z.push(te($,ne))}$.dimensions=Z}function te($,K){var Z,X=$.model.dimensions.length,ee=K.displayInd;Z=40+(X>1?($.width-80-16)/(X-1):0)*ee;var ne,re,ae,ue,pe,ge=[],we=$.model.maxCats,me=K.categories.length,ve=K.count,Ie=$.height-8*(we-1),Se=8*(we-me)/2,ke=K.categories.map(function(se){return{displayInd:se.displayInd,categoryInd:se.categoryInd}});for(ke.sort(function(se,oe){return se.displayInd-oe.displayInd}),pe=0;pe<me;pe++)ue=ke[pe].categoryInd,re=K.categories[ue],ne=ve>0?re.count/ve*Ie:0,ae={key:re.valueInds[0],model:re,width:16,height:ne,y:re.dragY!==null?re.dragY:Se,bands:[],parcatsViewModel:$},Se=Se+ne+8,ge.push(ae);return{key:K.dimensionInd,x:K.dragX!==null?K.dragX:Z,y:0,width:16,model:K,categories:ge,parcatsViewModel:$,dragCategoryDisplayInd:null,dragDimensionDisplayInd:null,initialDragDimensionDisplayInds:null,initialDragCategoryDisplayInds:null,dragHasMoved:null,potentialClickBand:null}}Y.exports=function($,K,Z,X){r(Z,$,X,K)}},45784:function(Y,O,e){var M=e(45460);Y.exports=function(k,a,_,y){var d=k._fullLayout,s=d._paper,t=d._size;M(k,s,a,{width:t.w,height:t.h,margin:{t:t.t,r:t.r,b:t.b,l:t.l}},_,y)}},73362:function(Y,O,e){var M=e(50693),k=e(13838),a=e(41940),_=e(27670).Y,y=e(1426).extendFlat,d=e(44467).templatedArray;Y.exports={domain:_({name:"parcoords",trace:!0,editType:"plot"}),labelangle:{valType:"angle",dflt:0,editType:"plot"},labelside:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},labelfont:a({editType:"plot"}),tickfont:a({editType:"plot"}),rangefont:a({editType:"plot"}),dimensions:d("dimension",{label:{valType:"string",editType:"plot"},tickvals:y({},k.tickvals,{editType:"plot"}),ticktext:y({},k.ticktext,{editType:"plot"}),tickformat:y({},k.tickformat,{editType:"plot"}),visible:{valType:"boolean",dflt:!0,editType:"plot"},range:{valType:"info_array",items:[{valType:"number",editType:"plot"},{valType:"number",editType:"plot"}],editType:"plot"},constraintrange:{valType:"info_array",freeLength:!0,dimensions:"1-2",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},multiselect:{valType:"boolean",dflt:!0,editType:"plot"},values:{valType:"data_array",editType:"calc"},editType:"calc"}),line:y({editType:"calc"},M("line",{colorscaleDflt:"Viridis",autoColorDflt:!1,editTypeOverride:"calc"})),unselected:{line:{color:{valType:"color",dflt:"#7f7f7f",editType:"plot"},opacity:{valType:"number",min:0,max:1,dflt:"auto",editType:"plot"},editType:"plot"},editType:"plot"}}},57920:function(Y,O,e){var M=e(25706),k=e(39898),a=e(28984).keyFun,_=e(28984).repeat,y=e(71828).sorterAsc,d=e(71828).strTranslate,s=M.bar.snapRatio;function t(T,E){return T*(1-s)+E*s}var i=M.bar.snapClose;function r(T,E){return T*(1-i)+E*i}function n(T,E,L,C){if(function(te,$){for(var K=0;K<$.length;K++)if(te>=$[K][0]&&te<=$[K][1])return!0;return!1}(L,C))return L;var P=T?-1:1,R=0,G=E.length-1;if(P<0){var I=R;R=G,G=I}for(var H=E[R],N=H,B=R;P*B<P*G;B+=P){var V=B+P,q=E[V];if(P*L<P*r(H,q))return t(H,N);if(P*L<P*q||V===G)return t(q,H);N=H,H=q}}function l(T){T.attr("x",-M.bar.captureWidth/2).attr("width",M.bar.captureWidth)}function o(T){T.attr("visibility","visible").style("visibility","visible").attr("fill","yellow").attr("opacity",0)}function u(T){if(!T.brush.filterSpecified)return"0,"+T.height;for(var E,L,C,P=p(T.brush.filter.getConsolidated(),T.height),R=[0],G=P.length?P[0][0]:null,I=0;I<P.length;I++)L=(E=P[I])[1]-E[0],R.push(G),R.push(L),(C=I+1)<P.length&&(G=P[C][0]-E[1]);return R.push(T.height),R}function p(T,E){return T.map(function(L){return L.map(function(C){return Math.max(0,C*E)}).sort(y)})}function c(){k.select(document.body).style("cursor",null)}function b(T){T.attr("stroke-dasharray",u)}function g(T,E){var L=k.select(T).selectAll(".highlight, .highlight-shadow");b(E?L.transition().duration(M.bar.snapDuration).each("end",E):L)}function h(T,E){var L,C=T.brush,P=NaN,R={};if(C.filterSpecified){var G=T.height,I=C.filter.getConsolidated(),H=p(I,G),N=NaN,B=NaN,V=NaN;for(L=0;L<=H.length;L++){var q=H[L];if(q&&q[0]<=E&&E<=q[1]){N=L;break}if(B=L?L-1:NaN,q&&q[0]>E){V=L;break}}if(P=N,isNaN(P)&&(P=isNaN(B)||isNaN(V)?isNaN(B)?V:B:E-H[B][1]<H[V][0]-E?B:V),!isNaN(P)){var te=H[P],$=function(ee,ne){var re=M.bar.handleHeight;if(!(ne>ee[1]+re||ne<ee[0]-re))return ne>=.9*ee[1]+.1*ee[0]?"n":ne<=.9*ee[0]+.1*ee[1]?"s":"ns"}(te,E);$&&(R.interval=I[P],R.intervalPix=te,R.region=$)}}if(T.ordinal&&!R.region){var K=T.unitTickvals,Z=T.unitToPaddedPx.invert(E);for(L=0;L<K.length;L++){var X=[.25*K[Math.max(L-1,0)]+.75*K[L],.25*K[Math.min(L+1,K.length-1)]+.75*K[L]];if(Z>=X[0]&&Z<=X[1]){R.clickableOrdinalRange=X;break}}}return R}function x(T,E){k.event.sourceEvent.stopPropagation();var L=E.height-k.mouse(T)[1]-2*M.verticalPadding,C=E.brush.svgBrush;C.wasDragged=!0,C._dragging=!0,C.grabbingBar?C.newExtent=[L-C.grabPoint,L+C.barLength-C.grabPoint].map(E.unitToPaddedPx.invert):C.newExtent=[C.startExtent,E.unitToPaddedPx.invert(L)].sort(y),E.brush.filterSpecified=!0,C.extent=C.stayingIntervals.concat([C.newExtent]),C.brushCallback(E),g(T.parentNode)}function v(T,E){var L=h(E,E.height-k.mouse(T)[1]-2*M.verticalPadding),C="crosshair";L.clickableOrdinalRange?C="pointer":L.region&&(C=L.region+"-resize"),k.select(document.body).style("cursor",C)}function m(T){T.on("mousemove",function(E){k.event.preventDefault(),E.parent.inBrushDrag||v(this,E)}).on("mouseleave",function(E){E.parent.inBrushDrag||c()}).call(k.behavior.drag().on("dragstart",function(E){(function(L,C){k.event.sourceEvent.stopPropagation();var P=C.height-k.mouse(L)[1]-2*M.verticalPadding,R=C.unitToPaddedPx.invert(P),G=C.brush,I=h(C,P),H=I.interval,N=G.svgBrush;if(N.wasDragged=!1,N.grabbingBar=I.region==="ns",N.grabbingBar){var B=H.map(C.unitToPaddedPx);N.grabPoint=P-B[0]-M.verticalPadding,N.barLength=B[1]-B[0]}N.clickableOrdinalRange=I.clickableOrdinalRange,N.stayingIntervals=C.multiselect&&G.filterSpecified?G.filter.getConsolidated():[],H&&(N.stayingIntervals=N.stayingIntervals.filter(function(V){return V[0]!==H[0]&&V[1]!==H[1]})),N.startExtent=I.region?H[I.region==="s"?1:0]:R,C.parent.inBrushDrag=!0,N.brushStartCallback()})(this,E)}).on("drag",function(E){x(this,E)}).on("dragend",function(E){(function(L,C){var P=C.brush,R=P.filter,G=P.svgBrush;G._dragging||(v(L,C),x(L,C),C.brush.svgBrush.wasDragged=!1),G._dragging=!1,k.event.sourceEvent.stopPropagation();var I=G.grabbingBar;if(G.grabbingBar=!1,G.grabLocation=void 0,C.parent.inBrushDrag=!1,c(),!G.wasDragged)return G.wasDragged=void 0,G.clickableOrdinalRange?P.filterSpecified&&C.multiselect?G.extent.push(G.clickableOrdinalRange):(G.extent=[G.clickableOrdinalRange],P.filterSpecified=!0):I?(G.extent=G.stayingIntervals,G.extent.length===0&&f(P)):f(P),G.brushCallback(C),g(L.parentNode),void G.brushEndCallback(P.filterSpecified?R.getConsolidated():[]);var H=function(){R.set(R.getConsolidated())};if(C.ordinal){var N=C.unitTickvals;N[N.length-1]<N[0]&&N.reverse(),G.newExtent=[n(0,N,G.newExtent[0],G.stayingIntervals),n(1,N,G.newExtent[1],G.stayingIntervals)];var B=G.newExtent[1]>G.newExtent[0];G.extent=G.stayingIntervals.concat(B?[G.newExtent]:[]),G.extent.length||f(P),G.brushCallback(C),B?g(L.parentNode,H):(H(),g(L.parentNode))}else H();G.brushEndCallback(P.filterSpecified?R.getConsolidated():[])})(this,E)}))}function w(T,E){return T[0]-E[0]}function f(T){T.filterSpecified=!1,T.svgBrush.extent=[[-1/0,1/0]]}function S(T){for(var E,L=T.slice(),C=[],P=L.shift();P;){for(E=P.slice();(P=L.shift())&&P[0]<=E[1];)E[1]=Math.max(E[1],P[1]);C.push(E)}return C.length===1&&C[0][0]>C[0][1]&&(C=[]),C}Y.exports={makeBrush:function(T,E,L,C,P,R){var G,I=function(){var H,N,B=[];return{set:function(V){(B=V.map(function(q){return q.slice().sort(y)}).sort(w)).length===1&&B[0][0]===-1/0&&B[0][1]===1/0&&(B=[[0,-1]]),H=S(B),N=B.reduce(function(q,te){return[Math.min(q[0],te[0]),Math.max(q[1],te[1])]},[1/0,-1/0])},get:function(){return B.slice()},getConsolidated:function(){return H},getBounds:function(){return N}}}();return I.set(L),{filter:I,filterSpecified:E,svgBrush:{extent:[],brushStartCallback:C,brushCallback:(G=P,function(H){var N=H.brush,B=function(q){return q.svgBrush.extent.map(function(te){return te.slice()})}(N),V=B.slice();N.filter.set(V),G()}),brushEndCallback:R}}},ensureAxisBrush:function(T,E,L){var C=T.selectAll("."+M.cn.axisBrush).data(_,a);C.enter().append("g").classed(M.cn.axisBrush,!0),function(P,R,G){var I=G._context.staticPlot,H=P.selectAll(".background").data(_);H.enter().append("rect").classed("background",!0).call(l).call(o).style("pointer-events",I?"none":"auto").attr("transform",d(0,M.verticalPadding)),H.call(m).attr("height",function(V){return V.height-M.verticalPadding});var N=P.selectAll(".highlight-shadow").data(_);N.enter().append("line").classed("highlight-shadow",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width+M.bar.strokeWidth).attr("stroke",R).attr("opacity",M.bar.strokeOpacity).attr("stroke-linecap","butt"),N.attr("y1",function(V){return V.height}).call(b);var B=P.selectAll(".highlight").data(_);B.enter().append("line").classed("highlight",!0).attr("x",-M.bar.width/2).attr("stroke-width",M.bar.width-M.bar.strokeWidth).attr("stroke",M.bar.fillColor).attr("opacity",M.bar.fillOpacity).attr("stroke-linecap","butt"),B.attr("y1",function(V){return V.height}).call(b)}(C,E,L)},cleanRanges:function(T,E){if(Array.isArray(T[0])?(T=T.map(function(C){return C.sort(y)}),T=E.multiselect?S(T.sort(w)):[T[0]]):T=[T.sort(y)],E.tickvals){var L=E.tickvals.slice().sort(y);if(!(T=T.map(function(C){var P=[n(0,L,C[0],[]),n(1,L,C[1],[])];if(P[1]>P[0])return P}).filter(function(C){return C})).length)return}return T.length>1?T:T[0]}}},71791:function(Y,O,e){Y.exports={attributes:e(73362),supplyDefaults:e(3633),calc:e(24639),colorbar:{container:"line",min:"cmin",max:"cmax"},moduleType:"trace",name:"parcoords",basePlotModule:e(49351),categories:["gl","regl","noOpacity","noHover"],meta:{}}},49351:function(Y,O,e){var M=e(39898),k=e(27659).a0,a=e(21341),_=e(77922);O.name="parcoords",O.plot=function(y){var d=k(y.calcdata,"parcoords")[0];d.length&&a(y,d)},O.clean=function(y,d,s,t){var i=t._has&&t._has("parcoords"),r=d._has&&d._has("parcoords");i&&!r&&(t._paperdiv.selectAll(".parcoords").remove(),t._glimages.selectAll("*").remove())},O.toSVG=function(y){var d=y._fullLayout._glimages,s=M.select(y).selectAll(".svg-container");s.filter(function(t,i){return i===s.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var t=this,i=t.toDataURL("image/png");d.append("svg:image").attr({xmlns:_.svg,"xlink:href":i,preserveAspectRatio:"none",x:0,y:0,width:t.style.width,height:t.style.height})}),window.setTimeout(function(){M.selectAll("#filterBarPattern").attr("id","filterBarPattern")},60)}},24639:function(Y,O,e){var M=e(71828).isArrayOrTypedArray,k=e(21081),a=e(28984).wrap;Y.exports=function(_,y){var d,s;return k.hasColorscale(y,"line")&&M(y.line.color)?(d=y.line.color,s=k.extractOpts(y.line).colorscale,k.calc(_,y,{vals:d,containerStr:"line",cLetter:"c"})):(d=function(t){for(var i=new Array(t),r=0;r<t;r++)i[r]=.5;return i}(y._length),s=[[0,y.line.color],[1,y.line.color]]),a({lineColor:d,cscale:s})}},25706:function(Y){Y.exports={maxDimensionCount:60,overdrag:45,verticalPadding:2,tickDistance:50,canvasPixelRatio:1,blockLineCount:5e3,layers:["contextLineLayer","focusLineLayer","pickLineLayer"],axisTitleOffset:28,axisExtentOffset:10,bar:{width:4,captureWidth:10,fillColor:"magenta",fillOpacity:1,snapDuration:150,snapRatio:.25,snapClose:.01,strokeOpacity:1,strokeWidth:1,handleHeight:8,handleOpacity:1,handleOverlap:0},cn:{axisExtentText:"axis-extent-text",parcoordsLineLayers:"parcoords-line-layers",parcoordsLineLayer:"parcoords-lines",parcoords:"parcoords",parcoordsControlView:"parcoords-control-view",yAxis:"y-axis",axisOverlays:"axis-overlays",axis:"axis",axisHeading:"axis-heading",axisTitle:"axis-title",axisExtent:"axis-extent",axisExtentTop:"axis-extent-top",axisExtentTopText:"axis-extent-top-text",axisExtentBottom:"axis-extent-bottom",axisExtentBottomText:"axis-extent-bottom-text",axisBrush:"axis-brush"},id:{filterBarPattern:"filter-bar-pattern"}}},3633:function(Y,O,e){var M=e(71828),k=e(52075).hasColorscale,a=e(1586),_=e(27670).c,y=e(85501),d=e(89298),s=e(73362),t=e(57920),i=e(25706).maxDimensionCount,r=e(94397);function n(l,o,u,p){function c(v,m){return M.coerce(l,o,s.dimensions,v,m)}var b=c("values"),g=c("visible");if(b&&b.length||(g=o.visible=!1),g){c("label"),c("tickvals"),c("ticktext"),c("tickformat");var h=c("range");o._ax={_id:"y",type:"linear",showexponent:"all",exponentformat:"B",range:h},d.setConvert(o._ax,p.layout),c("multiselect");var x=c("constraintrange");x&&(o.constraintrange=t.cleanRanges(x,o))}}Y.exports=function(l,o,u,p){function c(v,m){return M.coerce(l,o,s,v,m)}var b=l.dimensions;Array.isArray(b)&&b.length>i&&(M.log("parcoords traces support up to "+i+" dimensions at the moment"),b.splice(i));var g=y(l,o,{name:"dimensions",layout:p,handleItemDefaults:n}),h=function(v,m,w,f,S){var T=S("line.color",w);if(k(v,"line")&&M.isArrayOrTypedArray(T)){if(T.length)return S("line.colorscale"),a(v,m,f,S,{prefix:"line.",cLetter:"c"}),T.length;m.line.color=w}return 1/0}(l,o,u,p,c);_(o,p,c),Array.isArray(g)&&g.length||(o.visible=!1),r(o,g,"values",h);var x={family:p.font.family,size:Math.round(p.font.size/1.2),color:p.font.color};M.coerceFont(c,"labelfont",x),M.coerceFont(c,"tickfont",x),M.coerceFont(c,"rangefont",x),c("labelangle"),c("labelside"),c("unselected.line.color"),c("unselected.line.opacity")}},1602:function(Y,O,e){var M=e(71828).isTypedArray;O.convertTypedArray=function(k){return M(k)?Array.prototype.slice.call(k):k},O.isOrdinal=function(k){return!!k.tickvals},O.isVisible=function(k){return k.visible||!("visible"in k)}},67618:function(Y,O,e){var M=e(71791);M.plot=e(21341),Y.exports=M},83398:function(Y,O,e){var M=e(56068),k=M([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

attribute vec4 p01_04, p05_08, p09_12, p13_16,
               p17_20, p21_24, p25_28, p29_32,
               p33_36, p37_40, p41_44, p45_48,
               p49_52, p53_56, p57_60, colors;

uniform mat4 dim0A, dim1A, dim0B, dim1B, dim0C, dim1C, dim0D, dim1D,
             loA, hiA, loB, hiB, loC, hiC, loD, hiD;

uniform vec2 resolution, viewBoxPos, viewBoxSize;
uniform float maskHeight;
uniform float drwLayer; // 0: context, 1: focus, 2: pick
uniform vec4 contextColor;
uniform sampler2D maskTexture, palette;

bool isPick    = (drwLayer > 1.5);
bool isContext = (drwLayer < 0.5);

const vec4 ZEROS = vec4(0.0, 0.0, 0.0, 0.0);
const vec4 UNITS = vec4(1.0, 1.0, 1.0, 1.0);

float val(mat4 p, mat4 v) {
    return dot(matrixCompMult(p, v) * UNITS, UNITS);
}

float axisY(float ratio, mat4 A, mat4 B, mat4 C, mat4 D) {
    float y1 = val(A, dim0A) + val(B, dim0B) + val(C, dim0C) + val(D, dim0D);
    float y2 = val(A, dim1A) + val(B, dim1B) + val(C, dim1C) + val(D, dim1D);
    return y1 * (1.0 - ratio) + y2 * ratio;
}

int iMod(int a, int b) {
    return a - b * (a / b);
}

bool fOutside(float p, float lo, float hi) {
    return (lo < hi) && (lo > p || p > hi);
}

bool vOutside(vec4 p, vec4 lo, vec4 hi) {
    return (
        fOutside(p[0], lo[0], hi[0]) ||
        fOutside(p[1], lo[1], hi[1]) ||
        fOutside(p[2], lo[2], hi[2]) ||
        fOutside(p[3], lo[3], hi[3])
    );
}

bool mOutside(mat4 p, mat4 lo, mat4 hi) {
    return (
        vOutside(p[0], lo[0], hi[0]) ||
        vOutside(p[1], lo[1], hi[1]) ||
        vOutside(p[2], lo[2], hi[2]) ||
        vOutside(p[3], lo[3], hi[3])
    );
}

bool outsideBoundingBox(mat4 A, mat4 B, mat4 C, mat4 D) {
    return mOutside(A, loA, hiA) ||
           mOutside(B, loB, hiB) ||
           mOutside(C, loC, hiC) ||
           mOutside(D, loD, hiD);
}

bool outsideRasterMask(mat4 A, mat4 B, mat4 C, mat4 D) {
    mat4 pnts[4];
    pnts[0] = A;
    pnts[1] = B;
    pnts[2] = C;
    pnts[3] = D;

    for(int i = 0; i < 4; ++i) {
        for(int j = 0; j < 4; ++j) {
            for(int k = 0; k < 4; ++k) {
                if(0 == iMod(
                    int(255.0 * texture2D(maskTexture,
                        vec2(
                            (float(i * 2 + j / 2) + 0.5) / 8.0,
                            (pnts[i][j][k] * (maskHeight - 1.0) + 1.0) / maskHeight
                        ))[3]
                    ) / int(pow(2.0, float(iMod(j * 4 + k, 8)))),
                    2
                )) return true;
            }
        }
    }
    return false;
}

vec4 position(bool isContext, float v, mat4 A, mat4 B, mat4 C, mat4 D) {
    float x = 0.5 * sign(v) + 0.5;
    float y = axisY(x, A, B, C, D);
    float z = 1.0 - abs(v);

    z += isContext ? 0.0 : 2.0 * float(
        outsideBoundingBox(A, B, C, D) ||
        outsideRasterMask(A, B, C, D)
    );

    return vec4(
        2.0 * (vec2(x, y) * viewBoxSize + viewBoxPos) / resolution - 1.0,
        z,
        1.0
    );
}

void main() {
    mat4 A = mat4(p01_04, p05_08, p09_12, p13_16);
    mat4 B = mat4(p17_20, p21_24, p25_28, p29_32);
    mat4 C = mat4(p33_36, p37_40, p41_44, p45_48);
    mat4 D = mat4(p49_52, p53_56, p57_60, ZEROS);

    float v = colors[3];

    gl_Position = position(isContext, v, A, B, C, D);

    fragColor =
        isContext ? vec4(contextColor) :
        isPick ? vec4(colors.rgb, 1.0) : texture2D(palette, vec2(abs(v), 0.5));
}
`]),a=M([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
    gl_FragColor = fragColor;
}
`]),_=e(25706).maxDimensionCount,y=e(71828),d=1e-6,s=new Uint8Array(4),t=new Uint8Array(4),i={shape:[256,1],format:"rgba",type:"uint8",mag:"nearest",min:"nearest"};function r(h,x,v,m,w){var f=h._gl;f.enable(f.SCISSOR_TEST),f.scissor(x,v,m,w),h.clear({color:[0,0,0,0],depth:1})}function n(h,x,v,m,w,f){var S=f.key;v.drawCompleted||(function(T){T.read({x:0,y:0,width:1,height:1,data:s})}(h),v.drawCompleted=!0),function T(E){var L=Math.min(m,w-E*m);E===0&&(window.cancelAnimationFrame(v.currentRafs[S]),delete v.currentRafs[S],r(h,f.scissorX,f.scissorY,f.scissorWidth,f.viewBoxSize[1])),v.clearOnly||(f.count=2*L,f.offset=2*E*m,x(f),E*m+L<w&&(v.currentRafs[S]=window.requestAnimationFrame(function(){T(E+1)})),v.drawCompleted=!1)}(0)}function l(h,x){for(var v=new Array(256),m=0;m<256;m++)v[m]=h(m/255).concat(x);return v}function o(h,x){return(h>>>8*x)%256/255}function u(h,x,v){for(var m=new Array(8*x),w=0,f=0;f<x;f++)for(var S=0;S<2;S++)for(var T=0;T<4;T++){var E=4*h+T,L=v[64*f+E];E===63&&S===0&&(L*=-1),m[w++]=L}return m}function p(h){var x="0"+h;return x.substr(x.length-2)}function c(h){return h<_?"p"+p(h+1)+"_"+p(h+4):"colors"}function b(h,x,v,m,w,f,S,T,E,L,C,P,R,G){for(var I=[[],[]],H=0;H<64;H++)I[0][H]=H===w?1:0,I[1][H]=H===f?1:0;S*=G,T*=G,E*=G,L*=G;var N=h.lines.canvasOverdrag*G,B=h.domain,V=h.canvasWidth*G,q=h.canvasHeight*G,te=h.pad.l*G,$=h.pad.b*G,K=h.layoutHeight*G,Z=h.layoutWidth*G,X=h.deselectedLines.color,ee=h.deselectedLines.opacity;return y.extendFlat({key:C,resolution:[V,q],viewBoxPos:[S+N,T],viewBoxSize:[E,L],i0:w,i1:f,dim0A:I[0].slice(0,16),dim0B:I[0].slice(16,32),dim0C:I[0].slice(32,48),dim0D:I[0].slice(48,64),dim1A:I[1].slice(0,16),dim1B:I[1].slice(16,32),dim1C:I[1].slice(32,48),dim1D:I[1].slice(48,64),drwLayer:P,contextColor:[X[0]/255,X[1]/255,X[2]/255,ee!=="auto"?X[3]*ee:Math.max(.00392156862745098,Math.pow(1/h.lines.color.length,.3333333333333333))],scissorX:(m===x?0:S+N)+(te-N)+Z*B.x[0],scissorWidth:(m===v?V-S+N:E+.5)+(m===x?S+N:0),scissorY:T+$+K*B.y[0],scissorHeight:L,viewportX:te-N+Z*B.x[0],viewportY:$+K*B.y[0],viewportWidth:V,viewportHeight:q},R)}function g(h){var x=2047,v=Math.max(0,Math.floor(h[0]*x),0),m=Math.min(x,Math.ceil(h[1]*x),x);return[Math.min(v,m),Math.max(v,m)]}Y.exports=function(h,x){var v,m,w,f,S,T=x.context,E=x.pick,L=x.regl,C=L._gl,P=C.getParameter(C.ALIASED_LINE_WIDTH_RANGE),R=Math.max(P[0],Math.min(P[1],x.viewModel.plotGlPixelRatio)),G={currentRafs:{},drawCompleted:!0,clearOnly:!1},I=function(q){for(var te={},$=0;$<=_;$+=4)te[c($)]=q.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)});return te}(L),H=L.texture(i),N=[];V(x);var B=L({profile:!1,blend:{enable:T,func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:1,dstAlpha:1},equation:{rgb:"add",alpha:"add"},color:[0,0,0,0]},depth:{enable:!T,mask:!0,func:"less",range:[0,1]},cull:{enable:!0,face:"back"},scissor:{enable:!0,box:{x:L.prop("scissorX"),y:L.prop("scissorY"),width:L.prop("scissorWidth"),height:L.prop("scissorHeight")}},viewport:{x:L.prop("viewportX"),y:L.prop("viewportY"),width:L.prop("viewportWidth"),height:L.prop("viewportHeight")},dither:!1,vert:k,frag:a,primitive:"lines",lineWidth:R,attributes:I,uniforms:{resolution:L.prop("resolution"),viewBoxPos:L.prop("viewBoxPos"),viewBoxSize:L.prop("viewBoxSize"),dim0A:L.prop("dim0A"),dim1A:L.prop("dim1A"),dim0B:L.prop("dim0B"),dim1B:L.prop("dim1B"),dim0C:L.prop("dim0C"),dim1C:L.prop("dim1C"),dim0D:L.prop("dim0D"),dim1D:L.prop("dim1D"),loA:L.prop("loA"),hiA:L.prop("hiA"),loB:L.prop("loB"),hiB:L.prop("hiB"),loC:L.prop("loC"),hiC:L.prop("hiC"),loD:L.prop("loD"),hiD:L.prop("hiD"),palette:H,contextColor:L.prop("contextColor"),maskTexture:L.prop("maskTexture"),drwLayer:L.prop("drwLayer"),maskHeight:L.prop("maskHeight")},offset:L.prop("offset"),count:L.prop("count")});function V(q){v=q.model,m=q.viewModel,w=m.dimensions.slice(),f=w[0]?w[0].values.length:0;var te=v.lines,$=E?te.color.map(function(Z,X){return X/te.color.length}):te.color,K=function(Z,X,ee){for(var ne,re=new Array(Z*(_+4)),ae=0,ue=0;ue<Z;ue++){for(var pe=0;pe<_;pe++)re[ae++]=pe<X.length?X[pe].paddedUnitValues[ue]:.5;re[ae++]=o(ue,2),re[ae++]=o(ue,1),re[ae++]=o(ue,0),re[ae++]=(ne=ee[ue],Math.max(d,Math.min(.999999,ne)))}return re}(f,w,$);(function(Z,X,ee){for(var ne=0;ne<=_;ne+=4)Z[c(ne)](u(ne/4,X,ee))})(I,f,K),T||E||(H=L.texture(y.extendFlat({data:l(v.unitToColor,255)},i)))}return{render:function(q,te,$){var K,Z,X,ee=q.length,ne=1/0,re=-1/0;for(K=0;K<ee;K++)q[K].dim0.canvasX<ne&&(ne=q[K].dim0.canvasX,Z=K),q[K].dim1.canvasX>re&&(re=q[K].dim1.canvasX,X=K);ee===0&&r(L,0,0,v.canvasWidth,v.canvasHeight);var ae=function(se){var oe,he,Le,Me=[[],[]];for(Le=0;Le<64;Le++){var _e=!se&&Le<w.length?w[Le].brush.filter.getBounds():[-1/0,1/0];Me[0][Le]=_e[0],Me[1][Le]=_e[1]}var De=new Array(16384);for(oe=0;oe<16384;oe++)De[oe]=255;if(!se)for(oe=0;oe<w.length;oe++){var Ne=oe%8,ce=(oe-Ne)/8,Te=Math.pow(2,Ne),ye=w[oe].brush.filter.get();if(!(ye.length<2)){var Oe=g(ye[0])[1];for(he=1;he<ye.length;he++){var Be=g(ye[he]);for(Le=Oe+1;Le<Be[0];Le++)De[8*Le+ce]&=~Te;Oe=Math.max(Oe,Be[1])}}}var Fe={shape:[8,2048],format:"alpha",type:"uint8",mag:"nearest",min:"nearest",data:De};return S?S(Fe):S=L.texture(Fe),{maskTexture:S,maskHeight:2048,loA:Me[0].slice(0,16),loB:Me[0].slice(16,32),loC:Me[0].slice(32,48),loD:Me[0].slice(48,64),hiA:Me[1].slice(0,16),hiB:Me[1].slice(16,32),hiC:Me[1].slice(32,48),hiD:Me[1].slice(48,64)}}(T);for(K=0;K<ee;K++){var ue=q[K],pe=ue.dim0.crossfilterDimensionIndex,ge=ue.dim1.crossfilterDimensionIndex,we=ue.canvasX,me=ue.canvasY,ve=we+ue.panelSizeX,Ie=ue.plotGlPixelRatio;if(te||!N[pe]||N[pe][0]!==we||N[pe][1]!==ve){N[pe]=[we,ve];var Se=b(v,Z,X,K,pe,ge,we,me,ue.panelSizeX,ue.panelSizeY,ue.dim0.crossfilterDimensionIndex,T?0:E?2:1,ae,Ie);G.clearOnly=$;var ke=te?v.lines.blockLineCount:f;n(L,B,G,ke,f,Se)}}},readPixel:function(q,te){return L.read({x:q,y:te,width:1,height:1,data:t}),t},readPixels:function(q,te,$,K){var Z=new Uint8Array(4*$*K);return L.read({x:q,y:te,width:$,height:K,data:Z}),Z},destroy:function(){for(var q in h.style["pointer-events"]="none",H.destroy(),S&&S.destroy(),I)I[q].destroy()},update:V}}},94397:function(Y){Y.exports=function(O,e,M,k){var a,_;for(k||(k=1/0),a=0;a<e.length;a++)(_=e[a]).visible&&(k=Math.min(k,_[M].length));for(k===1/0&&(k=0),O._length=k,a=0;a<e.length;a++)(_=e[a]).visible&&(_._length=k);return k}},17171:function(Y,O,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(36652),y=e(89298),d=k.strRotate,s=k.strTranslate,t=e(63893),i=e(91424),r=e(21081),n=e(28984),l=n.keyFun,o=n.repeat,u=n.unwrap,p=e(1602),c=e(25706),b=e(57920),g=e(83398);function h(H,N,B){return k.aggNums(H,null,N,B)}function x(H,N){return m(h(Math.min,H,N),h(Math.max,H,N))}function v(H){var N=H.range;return N?m(N[0],N[1]):x(H.values,H._length)}function m(H,N){return!isNaN(H)&&isFinite(H)||(H=0),!isNaN(N)&&isFinite(N)||(N=0),H===N&&(H===0?(H-=1,N+=1):(H*=.9,N*=1.1)),[H,N]}function w(H,N,B,V,q){var te,$,K=v(B);return V?M.scale.ordinal().domain(V.map((te=a(B.tickformat),$=q,$?function(Z,X){var ee=$[X];return ee??te(Z)}:te))).range(V.map(function(Z){var X=(Z-K[0])/(K[1]-K[0]);return H-N+X*(2*N-H)})):M.scale.linear().domain(K).range([H-N,N])}function f(H){if(H.tickvals){var N=v(H);return M.scale.ordinal().domain(H.tickvals).range(H.tickvals.map(function(B){return(B-N[0])/(N[1]-N[0])}))}}function S(H){var N=H.map(function(q){return q[0]}),B=H.map(function(q){var te=_(q[1]);return M.rgb("rgb("+te[0]+","+te[1]+","+te[2]+")")}),V="rgb".split("").map(function(q){return M.scale.linear().clamp(!0).domain(N).range(B.map((te=q,function($){return $[te]})));var te});return function(q){return V.map(function(te){return te(q)})}}function T(H){return H.dimensions.some(function(N){return N.brush.filterSpecified})}function E(H,N,B){var V=u(N),q=V.trace,te=p.convertTypedArray(V.lineColor),$=q.line,K={color:_(q.unselected.line.color),opacity:q.unselected.line.opacity},Z=r.extractOpts($),X=Z.reversescale?r.flipScale(V.cscale):V.cscale,ee=q.domain,ne=q.dimensions,re=H.width,ae=q.labelangle,ue=q.labelside,pe=q.labelfont,ge=q.tickfont,we=q.rangefont,me=k.extendDeepNoArrays({},$,{color:te.map(M.scale.linear().domain(v({values:te,range:[Z.min,Z.max],_length:q._length}))),blockLineCount:c.blockLineCount,canvasOverdrag:c.overdrag*c.canvasPixelRatio}),ve=Math.floor(re*(ee.x[1]-ee.x[0])),Ie=Math.floor(H.height*(ee.y[1]-ee.y[0])),Se=H.margin||{l:80,r:80,t:100,b:80},ke=ve,se=Ie;return{key:B,colCount:ne.filter(p.isVisible).length,dimensions:ne,tickDistance:c.tickDistance,unitToColor:S(X),lines:me,deselectedLines:K,labelAngle:ae,labelSide:ue,labelFont:pe,tickFont:ge,rangeFont:we,layoutWidth:re,layoutHeight:H.height,domain:ee,translateX:ee.x[0]*re,translateY:H.height-ee.y[1]*H.height,pad:Se,canvasWidth:ke*c.canvasPixelRatio+2*me.canvasOverdrag,canvasHeight:se*c.canvasPixelRatio,width:ke,height:se,canvasPixelRatio:c.canvasPixelRatio}}function L(H,N,B){var V=B.width,q=B.height,te=B.dimensions,$=B.canvasPixelRatio,K=function(re){return V*re/Math.max(1,B.colCount-1)},Z=c.verticalPadding/q,X=function(re,ae){return M.scale.linear().range([ae,re-ae])}(q,c.verticalPadding),ee={key:B.key,xScale:K,model:B,inBrushDrag:!1},ne={};return ee.dimensions=te.filter(p.isVisible).map(function(re,ae){var ue=function(_e,De){return M.scale.linear().domain(v(_e)).range([De,1-De])}(re,Z),pe=ne[re.label];ne[re.label]=(pe||0)+1;var ge=re.label+(pe?"__"+pe:""),we=re.constraintrange,me=we&&we.length;me&&!Array.isArray(we[0])&&(we=[we]);var ve=me?we.map(function(_e){return _e.map(ue)}):[[-1/0,1/0]],Ie=re.values;Ie.length>re._length&&(Ie=Ie.slice(0,re._length));var Se,ke=re.tickvals;function se(_e,De){return{val:_e,text:Se[De]}}function oe(_e,De){return _e.val-De.val}if(Array.isArray(ke)&&ke.length){Se=re.ticktext,Array.isArray(Se)&&Se.length?Se.length>ke.length?Se=Se.slice(0,ke.length):ke.length>Se.length&&(ke=ke.slice(0,Se.length)):Se=ke.map(a(re.tickformat));for(var he=1;he<ke.length;he++)if(ke[he]<ke[he-1]){for(var Le=ke.map(se).sort(oe),Me=0;Me<ke.length;Me++)ke[Me]=Le[Me].val,Se[Me]=Le[Me].text;break}}else ke=void 0;return Ie=p.convertTypedArray(Ie),{key:ge,label:re.label,tickFormat:re.tickformat,tickvals:ke,ticktext:Se,ordinal:p.isOrdinal(re),multiselect:re.multiselect,xIndex:ae,crossfilterDimensionIndex:ae,visibleIndex:re._index,height:q,values:Ie,paddedUnitValues:Ie.map(ue),unitTickvals:ke&&ke.map(ue),xScale:K,x:K(ae),canvasX:K(ae)*$,unitToPaddedPx:X,domainScale:w(q,c.verticalPadding,re,ke,Se),ordinalScale:f(re),parent:ee,model:B,brush:b.makeBrush(H,me,ve,function(){H.linePickActive(!1)},function(){var _e=ee;_e.focusLayer&&_e.focusLayer.render(_e.panels,!0);var De=T(_e);!H.contextShown()&&De?(_e.contextLayer&&_e.contextLayer.render(_e.panels,!0),H.contextShown(!0)):H.contextShown()&&!De&&(_e.contextLayer&&_e.contextLayer.render(_e.panels,!0,!0),H.contextShown(!1))},function(_e){if(ee.focusLayer.render(ee.panels,!0),ee.pickLayer&&ee.pickLayer.render(ee.panels,!0),H.linePickActive(!0),N&&N.filterChanged){var De=ue.invert,Ne=_e.map(function(ce){return ce.map(De).sort(k.sorterAsc)}).sort(function(ce,Te){return ce[0]-Te[0]});N.filterChanged(ee.key,re._index,Ne)}})}}),ee}function C(H){H.classed(c.cn.axisExtentText,!0).attr("text-anchor","middle").style("cursor","default")}function P(H,N){var B=N==="top"?1:-1,V=H*Math.PI/180;return{dir:B,dx:Math.sin(V),dy:Math.cos(V),degrees:H}}function R(H,N,B){for(var V=N.panels||(N.panels=[]),q=H.data(),te=0;te<q.length-1;te++){var $=V[te]||(V[te]={}),K=q[te],Z=q[te+1];$.dim0=K,$.dim1=Z,$.canvasX=K.canvasX,$.panelSizeX=Z.canvasX-K.canvasX,$.panelSizeY=N.model.canvasHeight,$.y=0,$.canvasY=0,$.plotGlPixelRatio=B}}function G(H,N){return y.tickText(H._ax,N,!1).text}function I(H,N){if(H.ordinal)return"";var B=H.domainScale.domain(),V=B[N?B.length-1:0];return G(H.model.dimensions[H.visibleIndex],V)}Y.exports=function(H,N,B,V){var q=H._context.staticPlot,te=H._fullLayout,$=te._toppaper,K=te._glcontainer,Z=H._context.plotGlPixelRatio,X=H._fullLayout.paper_bgcolor;(function(_e){for(var De=0;De<_e.length;De++)for(var Ne=0;Ne<_e[De].length;Ne++)for(var ce=_e[De][Ne].trace,Te=ce.dimensions,ye=0;ye<Te.length;ye++){var Oe=Te[ye].values,Be=Te[ye]._ax;Be&&(Be.range?Be.range=m(Be.range[0],Be.range[1]):Be.range=x(Oe,ce._length),Be.dtick||(Be.dtick=.01*(Math.abs(Be.range[1]-Be.range[0])||1)),Be.tickformat=Te[ye].tickformat,y.calcTicks(Be),Be.cleanRange())}})(N);var ee,ne,re=(ee=!0,ne=!1,{linePickActive:function(_e){return arguments.length?ee=!!_e:ee},contextShown:function(_e){return arguments.length?ne=!!_e:ne}}),ae=N.filter(function(_e){return u(_e).trace.visible}).map(E.bind(0,B)).map(L.bind(0,re,V));K.each(function(_e,De){return k.extendFlat(_e,ae[De])});var ue=K.selectAll(".gl-canvas").each(function(_e){_e.viewModel=ae[0],_e.viewModel.plotGlPixelRatio=Z,_e.viewModel.paperColor=X,_e.model=_e.viewModel?_e.viewModel.model:null}),pe=null;ue.filter(function(_e){return _e.pick}).style("pointer-events",q?"none":"auto").on("mousemove",function(_e){if(re.linePickActive()&&_e.lineLayer&&V&&V.hover){var De=M.event,Ne=this.width,ce=this.height,Te=M.mouse(this),ye=Te[0],Oe=Te[1];if(ye<0||Oe<0||ye>=Ne||Oe>=ce)return;var Be=_e.lineLayer.readPixel(ye,ce-1-Oe),Fe=Be[3]!==0,Ge=Fe?Be[2]+256*(Be[1]+256*Be[0]):null,Ze={x:ye,y:Oe,clientX:De.clientX,clientY:De.clientY,dataIndex:_e.model.key,curveNumber:Ge};Ge!==pe&&(Fe?V.hover(Ze):V.unhover&&V.unhover(Ze),pe=Ge)}}),ue.style("opacity",function(_e){return _e.pick?0:1}),$.style("background","rgba(255, 255, 255, 0)");var ge=$.selectAll("."+c.cn.parcoords).data(ae,l);ge.exit().remove(),ge.enter().append("g").classed(c.cn.parcoords,!0).style("shape-rendering","crispEdges").style("pointer-events","none"),ge.attr("transform",function(_e){return s(_e.model.translateX,_e.model.translateY)});var we=ge.selectAll("."+c.cn.parcoordsControlView).data(o,l);we.enter().append("g").classed(c.cn.parcoordsControlView,!0),we.attr("transform",function(_e){return s(_e.model.pad.l,_e.model.pad.t)});var me=we.selectAll("."+c.cn.yAxis).data(function(_e){return _e.dimensions},l);me.enter().append("g").classed(c.cn.yAxis,!0),we.each(function(_e){R(me,_e,Z)}),ue.each(function(_e){if(_e.viewModel){!_e.lineLayer||V?_e.lineLayer=g(this,_e):_e.lineLayer.update(_e),(_e.key||_e.key===0)&&(_e.viewModel[_e.key]=_e.lineLayer);var De=!_e.context||V;_e.lineLayer.render(_e.viewModel.panels,De)}}),me.attr("transform",function(_e){return s(_e.xScale(_e.xIndex),0)}),me.call(M.behavior.drag().origin(function(_e){return _e}).on("drag",function(_e){var De=_e.parent;re.linePickActive(!1),_e.x=Math.max(-c.overdrag,Math.min(_e.model.width+c.overdrag,M.event.x)),_e.canvasX=_e.x*_e.model.canvasPixelRatio,me.sort(function(Ne,ce){return Ne.x-ce.x}).each(function(Ne,ce){Ne.xIndex=ce,Ne.x=_e===Ne?Ne.x:Ne.xScale(Ne.xIndex),Ne.canvasX=Ne.x*Ne.model.canvasPixelRatio}),R(me,De,Z),me.filter(function(Ne){return Math.abs(_e.xIndex-Ne.xIndex)!==0}).attr("transform",function(Ne){return s(Ne.xScale(Ne.xIndex),0)}),M.select(this).attr("transform",s(_e.x,0)),me.each(function(Ne,ce,Te){Te===_e.parent.key&&(De.dimensions[ce]=Ne)}),De.contextLayer&&De.contextLayer.render(De.panels,!1,!T(De)),De.focusLayer.render&&De.focusLayer.render(De.panels)}).on("dragend",function(_e){var De=_e.parent;_e.x=_e.xScale(_e.xIndex),_e.canvasX=_e.x*_e.model.canvasPixelRatio,R(me,De,Z),M.select(this).attr("transform",function(Ne){return s(Ne.x,0)}),De.contextLayer&&De.contextLayer.render(De.panels,!1,!T(De)),De.focusLayer&&De.focusLayer.render(De.panels),De.pickLayer&&De.pickLayer.render(De.panels,!0),re.linePickActive(!0),V&&V.axesMoved&&V.axesMoved(De.key,De.dimensions.map(function(Ne){return Ne.crossfilterDimensionIndex}))})),me.exit().remove();var ve=me.selectAll("."+c.cn.axisOverlays).data(o,l);ve.enter().append("g").classed(c.cn.axisOverlays,!0),ve.selectAll("."+c.cn.axis).remove();var Ie=ve.selectAll("."+c.cn.axis).data(o,l);Ie.enter().append("g").classed(c.cn.axis,!0),Ie.each(function(_e){var De=_e.model.height/_e.model.tickDistance,Ne=_e.domainScale,ce=Ne.domain();M.select(this).call(M.svg.axis().orient("left").tickSize(4).outerTickSize(2).ticks(De,_e.tickFormat).tickValues(_e.ordinal?ce:null).tickFormat(function(Te){return p.isOrdinal(_e)?Te:G(_e.model.dimensions[_e.visibleIndex],Te)}).scale(Ne)),i.font(Ie.selectAll("text"),_e.model.tickFont)}),Ie.selectAll(".domain, .tick>line").attr("fill","none").attr("stroke","black").attr("stroke-opacity",.25).attr("stroke-width","1px"),Ie.selectAll("text").style("text-shadow",t.makeTextShadow(X)).style("cursor","default");var Se=ve.selectAll("."+c.cn.axisHeading).data(o,l);Se.enter().append("g").classed(c.cn.axisHeading,!0);var ke=Se.selectAll("."+c.cn.axisTitle).data(o,l);ke.enter().append("text").classed(c.cn.axisTitle,!0).attr("text-anchor","middle").style("cursor","ew-resize").style("pointer-events",q?"none":"auto"),ke.text(function(_e){return _e.label}).each(function(_e){var De=M.select(this);i.font(De,_e.model.labelFont),t.convertToTspans(De,H)}).attr("transform",function(_e){var De=P(_e.model.labelAngle,_e.model.labelSide),Ne=c.axisTitleOffset;return(De.dir>0?"":s(0,2*Ne+_e.model.height))+d(De.degrees)+s(-Ne*De.dx,-Ne*De.dy)}).attr("text-anchor",function(_e){var De=P(_e.model.labelAngle,_e.model.labelSide);return 2*Math.abs(De.dx)>Math.abs(De.dy)?De.dir*De.dx<0?"start":"end":"middle"});var se=ve.selectAll("."+c.cn.axisExtent).data(o,l);se.enter().append("g").classed(c.cn.axisExtent,!0);var oe=se.selectAll("."+c.cn.axisExtentTop).data(o,l);oe.enter().append("g").classed(c.cn.axisExtentTop,!0),oe.attr("transform",s(0,-c.axisExtentOffset));var he=oe.selectAll("."+c.cn.axisExtentTopText).data(o,l);he.enter().append("text").classed(c.cn.axisExtentTopText,!0).call(C),he.text(function(_e){return I(_e,!0)}).each(function(_e){i.font(M.select(this),_e.model.rangeFont)});var Le=se.selectAll("."+c.cn.axisExtentBottom).data(o,l);Le.enter().append("g").classed(c.cn.axisExtentBottom,!0),Le.attr("transform",function(_e){return s(0,_e.model.height+c.axisExtentOffset)});var Me=Le.selectAll("."+c.cn.axisExtentBottomText).data(o,l);Me.enter().append("text").classed(c.cn.axisExtentBottomText,!0).attr("dy","0.75em").call(C),Me.text(function(_e){return I(_e,!1)}).each(function(_e){i.font(M.select(this),_e.model.rangeFont)}),b.ensureAxisBrush(ve,X,H)}},21341:function(Y,O,e){var M=e(17171),k=e(79749),a=e(1602).isVisible,_={};function y(d,s,t){var i=s.indexOf(t),r=d.indexOf(i);return r===-1&&(r+=s.length),r}(Y.exports=function(d,s){var t=d._fullLayout;if(k(d,[],_)){var i={},r={},n={},l={},o=t._size;s.forEach(function(u,p){var c=u[0].trace;n[p]=c.index;var b=l[p]=c._fullInput.index;i[p]=d.data[b].dimensions,r[p]=d.data[b].dimensions.slice()}),M(d,s,{width:o.w,height:o.h,margin:{t:o.t,r:o.r,b:o.b,l:o.l}},{filterChanged:function(u,p,c){var b=r[u][p],g=c.map(function(f){return f.slice()}),h="dimensions["+p+"].constraintrange",x=t._tracePreGUI[d._fullData[n[u]]._fullInput.uid];if(x[h]===void 0){var v=b.constraintrange;x[h]=v||null}var m=d._fullData[n[u]].dimensions[p];g.length?(g.length===1&&(g=g[0]),b.constraintrange=g,m.constraintrange=g.slice(),g=[g]):(delete b.constraintrange,delete m.constraintrange,g=null);var w={};w[h]=g,d.emit("plotly_restyle",[w,[l[u]]])},hover:function(u){d.emit("plotly_hover",u)},unhover:function(u){d.emit("plotly_unhover",u)},axesMoved:function(u,p){var c=function(b,g){return function(h,x){return y(b,g,h)-y(b,g,x)}}(p,r[u].filter(a));i[u].sort(c),r[u].filter(function(b){return!a(b)}).sort(function(b){return r[u].indexOf(b)}).forEach(function(b){i[u].splice(i[u].indexOf(b),1),i[u].splice(r[u].indexOf(b),0,b)}),d.emit("plotly_restyle",[{dimensions:[i[u]]},[l[u]]])}})}}).reglPrecompiled=_},34e3:function(Y,O,e){var M=e(9012),k=e(27670).Y,a=e(41940),_=e(22399),y=e(5386).fF,d=e(5386).si,s=e(1426).extendFlat,t=e(79952).u,i=a({editType:"plot",arrayOk:!0,colorEditType:"plot"});Y.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:_.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},pattern:t,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:s({},M.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:y({},{keys:["label","color","value","percent","text"]}),texttemplate:d({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:s({},i,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:s({},i,{}),outsidetextfont:s({},i,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:s({},i,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:k({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:s({},i,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(Y,O,e){var M=e(74875);O.name="pie",O.plot=function(k,a,_,y){M.plotBasePlot(O.name,k,a,_,y)},O.clean=function(k,a,_,y){M.cleanBasePlot(O.name,k,a,_,y)}},32354:function(Y,O,e){var M=e(92770),k=e(84267),a=e(7901),_={};function y(s){return function(t,i){return!!t&&!!(t=k(t)).isValid()&&(t=a.addOpacity(t,t.getAlpha()),s[i]||(s[i]=t),t)}}function d(s,t){var i,r=JSON.stringify(s),n=t[r];if(!n){for(n=s.slice(),i=0;i<s.length;i++)n.push(k(s[i]).lighten(20).toHexString());for(i=0;i<s.length;i++)n.push(k(s[i]).darken(20).toHexString());t[r]=n}return n}Y.exports={calc:function(s,t){var i,r,n=[],l=s._fullLayout,o=l.hiddenlabels||[],u=t.labels,p=t.marker.colors||[],c=t.values,b=t._length,g=t._hasValues&&b;if(t.dlabel)for(u=new Array(b),i=0;i<b;i++)u[i]=String(t.label0+i*t.dlabel);var h={},x=y(l["_"+t.type+"colormap"]),v=0,m=!1;for(i=0;i<b;i++){var w,f,S;if(g){if(w=c[i],!M(w))continue;w=+w}else w=1;(f=u[i])!==void 0&&f!==""||(f=i);var T=h[f=String(f)];T===void 0?(h[f]=n.length,(S=o.indexOf(f)!==-1)||(v+=w),n.push({v:w,label:f,color:x(p[i],f),i,pts:[i],hidden:S})):(m=!0,(r=n[T]).v+=w,r.pts.push(i),r.hidden||(v+=w),r.color===!1&&p[i]&&(r.color=x(p[i],f)))}return n=n.filter(function(E){return E.v>=0}),(t.type==="funnelarea"?m:t.sort)&&n.sort(function(E,L){return L.v-E.v}),n[0]&&(n[0].vTotal=v),n},crossTraceCalc:function(s,t){var i=(t||{}).type;i||(i="pie");var r=s._fullLayout,n=s.calcdata,l=r[i+"colorway"],o=r["_"+i+"colormap"];r["extend"+i+"colors"]&&(l=d(l,_));for(var u=0,p=0;p<n.length;p++){var c=n[p];if(c[0].trace.type===i)for(var b=0;b<c.length;b++){var g=c[b];g.color===!1&&(o[g.label]?g.color=o[g.label]:(o[g.label]=g.color=l[u%l.length],u++))}}},makePullColorFn:y,generateExtendedColors:d}},37434:function(Y,O,e){var M=e(92770),k=e(71828),a=e(34e3),_=e(27670).c,y=e(90769).handleText,d=e(71828).coercePattern;function s(i,r){var n=Array.isArray(i),l=k.isArrayOrTypedArray(r),o=Math.min(n?i.length:1/0,l?r.length:1/0);if(isFinite(o)||(o=0),o&&l){for(var u,p=0;p<o;p++){var c=r[p];if(M(c)&&c>0){u=!0;break}}u||(o=0)}return{hasLabels:n,hasValues:l,len:o}}function t(i,r,n,l,o){l("marker.line.width")&&l("marker.line.color",o?void 0:n.paper_bgcolor);var u=l("marker.colors");d(l,"marker.pattern",u),i.marker&&!r.marker.pattern.fgcolor&&(r.marker.pattern.fgcolor=i.marker.colors),r.marker.pattern.bgcolor||(r.marker.pattern.bgcolor=n.paper_bgcolor)}Y.exports={handleLabelsAndValues:s,handleMarkerDefaults:t,supplyDefaults:function(i,r,n,l){function o(m,w){return k.coerce(i,r,a,m,w)}var u=s(o("labels"),o("values")),p=u.len;if(r._hasLabels=u.hasLabels,r._hasValues=u.hasValues,!r._hasLabels&&r._hasValues&&(o("label0"),o("dlabel")),p){r._length=p,t(i,r,l,o,!0),o("scalegroup");var c,b=o("text"),g=o("texttemplate");if(g||(c=o("textinfo",Array.isArray(b)?"text+percent":"percent")),o("hovertext"),o("hovertemplate"),g||c&&c!=="none"){var h=o("textposition");y(i,r,l,o,h,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(h)||h==="auto"||h==="outside")&&o("automargin"),(h==="inside"||h==="auto"||Array.isArray(h))&&o("insidetextorientation")}_(r,l,o);var x=o("hole");if(o("title.text")){var v=o("title.position",x?"middle center":"top center");x||v!=="middle center"||(r.title.position="top center"),k.coerceFont(o,"title.font",l.font)}o("sort"),o("direction"),o("rotation"),o("pull")}else r.visible=!1}}},20007:function(Y,O,e){var M=e(23469).appendArrayMultiPointValues;Y.exports=function(k,a){var _={curveNumber:a.index,pointNumbers:k.pts,data:a._input,fullData:a,label:k.label,color:k.color,value:k.v,percent:k.percent,text:k.text,bbox:k.bbox,v:k.v};return k.pts.length===1&&(_.pointNumber=_.i=k.pts[0]),M(_,a,k.pts),a.type==="funnelarea"&&(delete _.v,delete _.i),_}},22209:function(Y,O,e){var M=e(91424),k=e(7901);Y.exports=function(a,_,y,d){var s=y.marker.pattern;s&&s.shape?M.pointStyle(a,y,d,_):k.fill(a,_.color)}},53581:function(Y,O,e){var M=e(71828);function k(a){return a.indexOf("e")!==-1?a.replace(/[.]?0+e/,"e"):a.indexOf(".")!==-1?a.replace(/[.]?0+$/,""):a}O.formatPiePercent=function(a,_){var y=k((100*a).toPrecision(3));return M.numSeparate(y,_)+"%"},O.formatPieValue=function(a,_){var y=k(a.toPrecision(10));return M.numSeparate(y,_)},O.getFirstFilled=function(a,_){if(Array.isArray(a))for(var y=0;y<_.length;y++){var d=a[_[y]];if(d||d===0||d==="")return d}},O.castOption=function(a,_){return Array.isArray(a)?O.getFirstFilled(a,_):a||void 0},O.getRotationAngle=function(a){return(a==="auto"?0:a)*Math.PI/180}},58810:function(Y,O,e){Y.exports={attributes:e(34e3),supplyDefaults:e(37434).supplyDefaults,supplyLayoutDefaults:e(92097),layoutAttributes:e(92774),calc:e(32354).calc,crossTraceCalc:e(32354).crossTraceCalc,plot:e(14575).plot,style:e(68357),styleOne:e(63463),moduleType:"trace",name:"pie",basePlotModule:e(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(Y){Y.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(Y,O,e){var M=e(71828),k=e(92774);Y.exports=function(a,_){function y(d,s){return M.coerce(a,_,k,d,s)}y("hiddenlabels"),y("piecolorway",_.colorway),y("extendpiecolors")}},14575:function(Y,O,e){var M=e(39898),k=e(74875),a=e(30211),_=e(7901),y=e(91424),d=e(71828),s=d.strScale,t=d.strTranslate,i=e(63893),r=e(72597),n=r.recordMinTextSize,l=r.clearMinTextSize,o=e(97313).TEXTPAD,u=e(53581),p=e(20007),c=e(71828).isValidTextValue;function b(N,B,V){var q=V[0],te=q.cx,$=q.cy,K=q.trace,Z=K.type==="funnelarea";"_hasHoverLabel"in K||(K._hasHoverLabel=!1),"_hasHoverEvent"in K||(K._hasHoverEvent=!1),N.on("mouseover",function(X){var ee=B._fullLayout,ne=B._fullData[K.index];if(!B._dragging&&ee.hovermode!==!1){var re=ne.hoverinfo;if(Array.isArray(re)&&(re=a.castHoverinfo({hoverinfo:[u.castOption(re,X.pts)],_module:K._module},ee,0)),re==="all"&&(re="label+text+value+percent+name"),ne.hovertemplate||re!=="none"&&re!=="skip"&&re){var ae=X.rInscribed||0,ue=te+X.pxmid[0]*(1-ae),pe=$+X.pxmid[1]*(1-ae),ge=ee.separators,we=[];if(re&&re.indexOf("label")!==-1&&we.push(X.label),X.text=u.castOption(ne.hovertext||ne.text,X.pts),re&&re.indexOf("text")!==-1){var me=X.text;d.isValidTextValue(me)&&we.push(me)}X.value=X.v,X.valueLabel=u.formatPieValue(X.v,ge),re&&re.indexOf("value")!==-1&&we.push(X.valueLabel),X.percent=X.v/q.vTotal,X.percentLabel=u.formatPiePercent(X.percent,ge),re&&re.indexOf("percent")!==-1&&we.push(X.percentLabel);var ve=ne.hoverlabel,Ie=ve.font,Se=[];a.loneHover({trace:K,x0:ue-ae*q.r,x1:ue+ae*q.r,y:pe,_x0:Z?te+X.TL[0]:ue-ae*q.r,_x1:Z?te+X.TR[0]:ue+ae*q.r,_y0:Z?$+X.TL[1]:pe-ae*q.r,_y1:Z?$+X.BL[1]:pe+ae*q.r,text:we.join("<br>"),name:ne.hovertemplate||re.indexOf("name")!==-1?ne.name:void 0,idealAlign:X.pxmid[0]<0?"left":"right",color:u.castOption(ve.bgcolor,X.pts)||X.color,borderColor:u.castOption(ve.bordercolor,X.pts),fontFamily:u.castOption(Ie.family,X.pts),fontSize:u.castOption(Ie.size,X.pts),fontColor:u.castOption(Ie.color,X.pts),nameLength:u.castOption(ve.namelength,X.pts),textAlign:u.castOption(ve.align,X.pts),hovertemplate:u.castOption(ne.hovertemplate,X.pts),hovertemplateLabels:X,eventData:[p(X,ne)]},{container:ee._hoverlayer.node(),outerContainer:ee._paper.node(),gd:B,inOut_bbox:Se}),X.bbox=Se[0],K._hasHoverLabel=!0}K._hasHoverEvent=!0,B.emit("plotly_hover",{points:[p(X,ne)],event:M.event})}}),N.on("mouseout",function(X){var ee=B._fullLayout,ne=B._fullData[K.index],re=M.select(this).datum();K._hasHoverEvent&&(X.originalEvent=M.event,B.emit("plotly_unhover",{points:[p(re,ne)],event:M.event}),K._hasHoverEvent=!1),K._hasHoverLabel&&(a.loneUnhover(ee._hoverlayer.node()),K._hasHoverLabel=!1)}),N.on("click",function(X){var ee=B._fullLayout,ne=B._fullData[K.index];B._dragging||ee.hovermode===!1||(B._hoverdata=[p(X,ne)],a.click(B,M.event))})}function g(N,B,V){var q=u.castOption(N.insidetextfont.color,B.pts);!q&&N._input.textfont&&(q=u.castOption(N._input.textfont.color,B.pts));var te=u.castOption(N.insidetextfont.family,B.pts)||u.castOption(N.textfont.family,B.pts)||V.family,$=u.castOption(N.insidetextfont.size,B.pts)||u.castOption(N.textfont.size,B.pts)||V.size;return{color:q||_.contrast(B.color),family:te,size:$}}function h(N,B){for(var V,q,te=0;te<N.length;te++)if((q=(V=N[te][0]).trace).title.text){var $=q.title.text;q._meta&&($=d.templateString($,q._meta));var K=y.tester.append("text").attr("data-notex",1).text($).call(y.font,q.title.font).call(i.convertToTspans,B),Z=y.bBox(K.node(),!0);V.titleBox={width:Z.width,height:Z.height},K.remove()}}function x(N,B,V){var q=V.r||B.rpx1,te=B.rInscribed;if(B.startangle===B.stopangle)return{rCenter:1-te,scale:0,rotate:0,textPosAngle:0};var $,K=B.ring,Z=K===1&&Math.abs(B.startangle-B.stopangle)===2*Math.PI,X=B.halfangle,ee=B.midangle,ne=V.trace.insidetextorientation,re=ne==="horizontal",ae=ne==="tangential",ue=ne==="radial",pe=ne==="auto",ge=[];if(!pe){var we,me=function(oe,he){if(function(De,Ne){var ce=De.startangle,Te=De.stopangle;return ce>Ne&&Ne>Te||ce<Ne&&Ne<Te}(B,oe)){var Le=Math.abs(oe-B.startangle),Me=Math.abs(oe-B.stopangle),_e=Le<Me?Le:Me;($=he==="tan"?m(N,q,K,_e,0):v(N,q,K,_e,Math.PI/2)).textPosAngle=oe,ge.push($)}};if(re||ae){for(we=4;we>=-4;we-=2)me(Math.PI*we,"tan");for(we=4;we>=-4;we-=2)me(Math.PI*(we+1),"tan")}if(re||ue){for(we=4;we>=-4;we-=2)me(Math.PI*(we+1.5),"rad");for(we=4;we>=-4;we-=2)me(Math.PI*(we+.5),"rad")}}if(Z||pe||re){var ve=Math.sqrt(N.width*N.width+N.height*N.height);if(($={scale:te*q*2/ve,rCenter:1-te,rotate:0}).textPosAngle=(B.startangle+B.stopangle)/2,$.scale>=1)return $;ge.push($)}(pe||ue)&&(($=v(N,q,K,X,ee)).textPosAngle=(B.startangle+B.stopangle)/2,ge.push($)),(pe||ae)&&(($=m(N,q,K,X,ee)).textPosAngle=(B.startangle+B.stopangle)/2,ge.push($));for(var Ie=0,Se=0,ke=0;ke<ge.length;ke++){var se=ge[ke].scale;if(Se<se&&(Se=se,Ie=ke),!pe&&Se>=1)break}return ge[Ie]}function v(N,B,V,q,te){B=Math.max(0,B-2*o);var $=N.width/N.height,K=S($,q,B,V);return{scale:2*K/N.height,rCenter:w($,K/B),rotate:f(te)}}function m(N,B,V,q,te){B=Math.max(0,B-2*o);var $=N.height/N.width,K=S($,q,B,V);return{scale:2*K/N.width,rCenter:w($,K/B),rotate:f(te+Math.PI/2)}}function w(N,B){return Math.cos(B)-N*B}function f(N){return(180/Math.PI*N+720)%180-90}function S(N,B,V,q){var te=N+1/(2*Math.tan(B));return V*Math.min(1/(Math.sqrt(te*te+.5)+te),q/(Math.sqrt(N*N+q/2)+N))}function T(N,B){return N.v!==B.vTotal||B.trace.hole?Math.min(1/(1+1/Math.sin(N.halfangle)),N.ring/2):1}function E(N,B){var V=B.pxmid[0],q=B.pxmid[1],te=N.width/2,$=N.height/2;return V<0&&(te*=-1),q<0&&($*=-1),{scale:1,rCenter:1,rotate:0,x:te+Math.abs($)*(te>0?1:-1)/2,y:$/(1+V*V/(q*q)),outside:!0}}function L(N,B){var V,q,te,$=N.trace,K={x:N.cx,y:N.cy},Z={tx:0,ty:0};Z.ty+=$.title.font.size,te=P($),$.title.position.indexOf("top")!==-1?(K.y-=(1+te)*N.r,Z.ty-=N.titleBox.height):$.title.position.indexOf("bottom")!==-1&&(K.y+=(1+te)*N.r);var X,ee=N.r/((X=N.trace.aspectratio)===void 0?1:X),ne=B.w*($.domain.x[1]-$.domain.x[0])/2;return $.title.position.indexOf("left")!==-1?(ne+=ee,K.x-=(1+te)*ee,Z.tx+=N.titleBox.width/2):$.title.position.indexOf("center")!==-1?ne*=2:$.title.position.indexOf("right")!==-1&&(ne+=ee,K.x+=(1+te)*ee,Z.tx-=N.titleBox.width/2),V=ne/N.titleBox.width,q=C(N,B)/N.titleBox.height,{x:K.x,y:K.y,scale:Math.min(V,q),tx:Z.tx,ty:Z.ty}}function C(N,B){var V=N.trace,q=B.h*(V.domain.y[1]-V.domain.y[0]);return Math.min(N.titleBox.height,q/2)}function P(N){var B,V=N.pull;if(!V)return 0;if(Array.isArray(V))for(V=0,B=0;B<N.pull.length;B++)N.pull[B]>V&&(V=N.pull[B]);return V}function R(N,B){for(var V=[],q=0;q<N.length;q++){var te=N[q][0],$=te.trace,K=$.domain,Z=B.w*(K.x[1]-K.x[0]),X=B.h*(K.y[1]-K.y[0]);$.title.text&&$.title.position!=="middle center"&&(X-=C(te,B));var ee=Z/2,ne=X/2;$.type!=="funnelarea"||$.scalegroup||(ne/=$.aspectratio),te.r=Math.min(ee,ne)/(1+P($)),te.cx=B.l+B.w*($.domain.x[1]+$.domain.x[0])/2,te.cy=B.t+B.h*(1-$.domain.y[0])-X/2,$.title.text&&$.title.position.indexOf("bottom")!==-1&&(te.cy-=C(te,B)),$.scalegroup&&V.indexOf($.scalegroup)===-1&&V.push($.scalegroup)}(function(re,ae){for(var ue,pe,ge,we=0;we<ae.length;we++){var me=1/0,ve=ae[we];for(pe=0;pe<re.length;pe++)if((ge=(ue=re[pe][0]).trace).scalegroup===ve){var Ie;if(ge.type==="pie")Ie=ue.r*ue.r;else if(ge.type==="funnelarea"){var Se,ke;ge.aspectratio>1?ke=(Se=ue.r)/ge.aspectratio:Se=(ke=ue.r)*ge.aspectratio,Ie=(Se*=(1+ge.baseratio)/2)*ke}me=Math.min(me,Ie/ue.vTotal)}for(pe=0;pe<re.length;pe++)if((ge=(ue=re[pe][0]).trace).scalegroup===ve){var se=me*ue.vTotal;ge.type==="funnelarea"&&(se/=(1+ge.baseratio)/2,se/=ge.aspectratio),ue.r=Math.sqrt(se)}}})(N,V)}function G(N,B){return[N*Math.sin(B),-N*Math.cos(B)]}function I(N,B,V){var q=N._fullLayout,te=V.trace,$=te.texttemplate,K=te.textinfo;if(!$&&K&&K!=="none"){var Z,X=K.split("+"),ee=function(Ie){return X.indexOf(Ie)!==-1},ne=ee("label"),re=ee("text"),ae=ee("value"),ue=ee("percent"),pe=q.separators;if(Z=ne?[B.label]:[],re){var ge=u.getFirstFilled(te.text,B.pts);c(ge)&&Z.push(ge)}ae&&Z.push(u.formatPieValue(B.v,pe)),ue&&Z.push(u.formatPiePercent(B.v/V.vTotal,pe)),B.text=Z.join("<br>")}if($){var we=d.castOption(te,B.i,"texttemplate");if(we){var me=function(Ie){return{label:Ie.label,value:Ie.v,valueLabel:u.formatPieValue(Ie.v,q.separators),percent:Ie.v/V.vTotal,percentLabel:u.formatPiePercent(Ie.v/V.vTotal,q.separators),color:Ie.color,text:Ie.text,customdata:d.castOption(te,Ie.i,"customdata")}}(B),ve=u.getFirstFilled(te.text,B.pts);(c(ve)||ve==="")&&(me.text=ve),B.text=d.texttemplateString(we,me,N._fullLayout._d3locale,me,te._meta||{})}else B.text=""}}function H(N,B){var V=N.rotate*Math.PI/180,q=Math.cos(V),te=Math.sin(V),$=(B.left+B.right)/2,K=(B.top+B.bottom)/2;N.textX=$*q-K*te,N.textY=$*te+K*q,N.noCenter=!0}Y.exports={plot:function(N,B){var V=N._context.staticPlot,q=N._fullLayout,te=q._size;l("pie",q),h(B,N),R(B,te);var $=d.makeTraceGroups(q._pielayer,B,"trace").each(function(K){var Z=M.select(this),X=K[0],ee=X.trace;(function(ne){var re,ae,ue,pe=ne[0],ge=pe.r,we=pe.trace,me=u.getRotationAngle(we.rotation),ve=2*Math.PI/pe.vTotal,Ie="px0",Se="px1";if(we.direction==="counterclockwise"){for(re=0;re<ne.length&&ne[re].hidden;re++);if(re===ne.length)return;me+=ve*ne[re].v,ve*=-1,Ie="px1",Se="px0"}for(ue=G(ge,me),re=0;re<ne.length;re++)(ae=ne[re]).hidden||(ae[Ie]=ue,ae.startangle=me,me+=ve*ae.v/2,ae.pxmid=G(ge,me),ae.midangle=me,ue=G(ge,me+=ve*ae.v/2),ae.stopangle=me,ae[Se]=ue,ae.largeArc=ae.v>pe.vTotal/2?1:0,ae.halfangle=Math.PI*Math.min(ae.v/pe.vTotal,.5),ae.ring=1-we.hole,ae.rInscribed=T(ae,pe))})(K),Z.attr("stroke-linejoin","round"),Z.each(function(){var ne=M.select(this).selectAll("g.slice").data(K);ne.enter().append("g").classed("slice",!0),ne.exit().remove();var re=[[[],[]],[[],[]]],ae=!1;ne.each(function(Se,ke){if(Se.hidden)M.select(this).selectAll("path,g").remove();else{Se.pointNumber=Se.i,Se.curveNumber=ee.index,re[Se.pxmid[1]<0?0:1][Se.pxmid[0]<0?0:1].push(Se);var se=X.cx,oe=X.cy,he=M.select(this),Le=he.selectAll("path.surface").data([Se]);if(Le.enter().append("path").classed("surface",!0).style({"pointer-events":V?"none":"all"}),he.call(b,N,K),ee.pull){var Me=+u.castOption(ee.pull,Se.pts)||0;Me>0&&(se+=Me*Se.pxmid[0],oe+=Me*Se.pxmid[1])}Se.cxFinal=se,Se.cyFinal=oe;var _e=ee.hole;if(Se.v===X.vTotal){var De="M"+(se+Se.px0[0])+","+(oe+Se.px0[1])+Oe(Se.px0,Se.pxmid,!0,1)+Oe(Se.pxmid,Se.px0,!0,1)+"Z";_e?Le.attr("d","M"+(se+_e*Se.px0[0])+","+(oe+_e*Se.px0[1])+Oe(Se.px0,Se.pxmid,!1,_e)+Oe(Se.pxmid,Se.px0,!1,_e)+"Z"+De):Le.attr("d",De)}else{var Ne=Oe(Se.px0,Se.px1,!0,1);if(_e){var ce=1-_e;Le.attr("d","M"+(se+_e*Se.px1[0])+","+(oe+_e*Se.px1[1])+Oe(Se.px1,Se.px0,!1,_e)+"l"+ce*Se.px0[0]+","+ce*Se.px0[1]+Ne+"Z")}else Le.attr("d","M"+se+","+oe+"l"+Se.px0[0]+","+Se.px0[1]+Ne+"Z")}I(N,Se,X);var Te=u.castOption(ee.textposition,Se.pts),ye=he.selectAll("g.slicetext").data(Se.text&&Te!=="none"?[0]:[]);ye.enter().append("g").classed("slicetext",!0),ye.exit().remove(),ye.each(function(){var Be=d.ensureSingle(M.select(this),"text","",function(kt){kt.attr("data-notex",1)}),Fe=d.ensureUniformFontSize(N,Te==="outside"?function(kt,wt,lt){return{color:u.castOption(kt.outsidetextfont.color,wt.pts)||u.castOption(kt.textfont.color,wt.pts)||lt.color,family:u.castOption(kt.outsidetextfont.family,wt.pts)||u.castOption(kt.textfont.family,wt.pts)||lt.family,size:u.castOption(kt.outsidetextfont.size,wt.pts)||u.castOption(kt.textfont.size,wt.pts)||lt.size}}(ee,Se,q.font):g(ee,Se,q.font));Be.text(Se.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(y.font,Fe).call(i.convertToTspans,N);var Ge,Ze=y.bBox(Be.node());if(Te==="outside")Ge=E(Ze,Se);else if(Ge=x(Ze,Se,X),Te==="auto"&&Ge.scale<1){var et=d.ensureUniformFontSize(N,ee.outsidetextfont);Be.call(y.font,et),Ge=E(Ze=y.bBox(Be.node()),Se)}var ft=Ge.textPosAngle,rt=ft===void 0?Se.pxmid:G(X.r,ft);if(Ge.targetX=se+rt[0]*Ge.rCenter+(Ge.x||0),Ge.targetY=oe+rt[1]*Ge.rCenter+(Ge.y||0),H(Ge,Ze),Ge.outside){var _t=Ge.targetY;Se.yLabelMin=_t-Ze.height/2,Se.yLabelMid=_t,Se.yLabelMax=_t+Ze.height/2,Se.labelExtraX=0,Se.labelExtraY=0,ae=!0}Ge.fontSize=Fe.size,n(ee.type,Ge,q),K[ke].transform=Ge,d.setTransormAndDisplay(Be,Ge)})}function Oe(Be,Fe,Ge,Ze){var et=Ze*(Fe[0]-Be[0]),ft=Ze*(Fe[1]-Be[1]);return"a"+Ze*X.r+","+Ze*X.r+" 0 "+Se.largeArc+(Ge?" 1 ":" 0 ")+et+","+ft}});var ue=M.select(this).selectAll("g.titletext").data(ee.title.text?[0]:[]);if(ue.enter().append("g").classed("titletext",!0),ue.exit().remove(),ue.each(function(){var Se,ke=d.ensureSingle(M.select(this),"text","",function(oe){oe.attr("data-notex",1)}),se=ee.title.text;ee._meta&&(se=d.templateString(se,ee._meta)),ke.text(se).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(y.font,ee.title.font).call(i.convertToTspans,N),Se=ee.title.position==="middle center"?function(oe){var he=Math.sqrt(oe.titleBox.width*oe.titleBox.width+oe.titleBox.height*oe.titleBox.height);return{x:oe.cx,y:oe.cy,scale:oe.trace.hole*oe.r*2/he,tx:0,ty:-oe.titleBox.height/2+oe.trace.title.font.size}}(X):L(X,te),ke.attr("transform",t(Se.x,Se.y)+s(Math.min(1,Se.scale))+t(Se.tx,Se.ty))}),ae&&function(Se,ke){var se,oe,he,Le,Me,_e,De,Ne,ce,Te,ye,Oe,Be;function Fe(ft,rt){return ft.pxmid[1]-rt.pxmid[1]}function Ge(ft,rt){return rt.pxmid[1]-ft.pxmid[1]}function Ze(ft,rt){rt||(rt={});var _t,kt,wt,lt,ut=rt.labelExtraY+(oe?rt.yLabelMax:rt.yLabelMin),Et=oe?ft.yLabelMin:ft.yLabelMax,Ot=oe?ft.yLabelMax:ft.yLabelMin,zt=ft.cyFinal+Me(ft.px0[1],ft.px1[1]),Lt=ut-Et;if(Lt*De>0&&(ft.labelExtraY=Lt),Array.isArray(ke.pull))for(kt=0;kt<Te.length;kt++)(wt=Te[kt])===ft||(u.castOption(ke.pull,ft.pts)||0)>=(u.castOption(ke.pull,wt.pts)||0)||((ft.pxmid[1]-wt.pxmid[1])*De>0?(Lt=wt.cyFinal+Me(wt.px0[1],wt.px1[1])-Et-ft.labelExtraY)*De>0&&(ft.labelExtraY+=Lt):(Ot+ft.labelExtraY-zt)*De>0&&(_t=3*_e*Math.abs(kt-Te.indexOf(ft)),(lt=wt.cxFinal+Le(wt.px0[0],wt.px1[0])+_t-(ft.cxFinal+ft.pxmid[0])-ft.labelExtraX)*_e>0&&(ft.labelExtraX+=lt)))}for(oe=0;oe<2;oe++)for(he=oe?Fe:Ge,Me=oe?Math.max:Math.min,De=oe?1:-1,se=0;se<2;se++){for(Le=se?Math.max:Math.min,_e=se?1:-1,(Ne=Se[oe][se]).sort(he),ce=Se[1-oe][se],Te=ce.concat(Ne),Oe=[],ye=0;ye<Ne.length;ye++)Ne[ye].yLabelMid!==void 0&&Oe.push(Ne[ye]);for(Be=!1,ye=0;oe&&ye<ce.length;ye++)if(ce[ye].yLabelMid!==void 0){Be=ce[ye];break}for(ye=0;ye<Oe.length;ye++){var et=ye&&Oe[ye-1];Be&&!ye&&(et=Be),Ze(Oe[ye],et)}}}(re,ee),function(Se,ke){Se.each(function(se){var oe=M.select(this);if(se.labelExtraX||se.labelExtraY){var he=oe.select("g.slicetext text");se.transform.targetX+=se.labelExtraX,se.transform.targetY+=se.labelExtraY,d.setTransormAndDisplay(he,se.transform);var Le=se.cxFinal+se.pxmid[0],Me="M"+Le+","+(se.cyFinal+se.pxmid[1]),_e=(se.yLabelMax-se.yLabelMin)*(se.pxmid[0]<0?-1:1)/4;if(se.labelExtraX){var De=se.labelExtraX*se.pxmid[1]/se.pxmid[0],Ne=se.yLabelMid+se.labelExtraY-(se.cyFinal+se.pxmid[1]);Math.abs(De)>Math.abs(Ne)?Me+="l"+Ne*se.pxmid[0]/se.pxmid[1]+","+Ne+"H"+(Le+se.labelExtraX+_e):Me+="l"+se.labelExtraX+","+De+"v"+(Ne-De)+"h"+_e}else Me+="V"+(se.yLabelMid+se.labelExtraY)+"h"+_e;d.ensureSingle(oe,"path","textline").call(_.stroke,ke.outsidetextfont.color).attr({"stroke-width":Math.min(2,ke.outsidetextfont.size/8),d:Me,fill:"none"})}else oe.select("path.textline").remove()})}(ne,ee),ae&&ee.automargin){var pe=y.bBox(Z.node()),ge=ee.domain,we=te.w*(ge.x[1]-ge.x[0]),me=te.h*(ge.y[1]-ge.y[0]),ve=(.5*we-X.r)/te.w,Ie=(.5*me-X.r)/te.h;k.autoMargin(N,"pie."+ee.uid+".automargin",{xl:ge.x[0]-ve,xr:ge.x[1]+ve,yb:ge.y[0]-Ie,yt:ge.y[1]+Ie,l:Math.max(X.cx-X.r-pe.left,0),r:Math.max(pe.right-(X.cx+X.r),0),b:Math.max(pe.bottom-(X.cy+X.r),0),t:Math.max(X.cy-X.r-pe.top,0),pad:5})}})});setTimeout(function(){$.selectAll("tspan").each(function(){var K=M.select(this);K.attr("dy")&&K.attr("dy",K.attr("dy"))})},0)},formatSliceLabel:I,transformInsideText:x,determineInsideTextFont:g,positionTitleOutside:L,prerenderTitles:h,layoutAreas:R,attachFxHandlers:b,computeTransform:H}},68357:function(Y,O,e){var M=e(39898),k=e(63463),a=e(72597).resizeText;Y.exports=function(_){var y=_._fullLayout._pielayer.selectAll(".trace");a(_,y,"pie"),y.each(function(d){var s=d[0].trace,t=M.select(this);t.style({opacity:s.opacity}),t.selectAll("path.surface").each(function(i){M.select(this).call(k,i,s,_)})})}},63463:function(Y,O,e){var M=e(7901),k=e(53581).castOption,a=e(22209);Y.exports=function(_,y,d,s){var t=d.marker.line,i=k(t.color,y.pts)||M.defaultLine,r=k(t.width,y.pts)||0;_.call(a,y,d,s).style("stroke-width",r).call(M.stroke,i)}},10959:function(Y,O,e){var M=e(82196);Y.exports={x:M.x,y:M.y,xy:{valType:"data_array",editType:"calc"},indices:{valType:"data_array",editType:"calc"},xbounds:{valType:"data_array",editType:"calc"},ybounds:{valType:"data_array",editType:"calc"},text:M.text,marker:{color:{valType:"color",arrayOk:!1,editType:"calc"},opacity:{valType:"number",min:0,max:1,dflt:1,arrayOk:!1,editType:"calc"},blend:{valType:"boolean",dflt:null,editType:"calc"},sizemin:{valType:"number",min:.1,max:2,dflt:.5,editType:"calc"},sizemax:{valType:"number",min:.1,dflt:20,editType:"calc"},border:{color:{valType:"color",arrayOk:!1,editType:"calc"},arearatio:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},editType:"calc"},editType:"calc"},transforms:void 0}},42743:function(Y,O,e){var M=e(9330).gl_pointcloud2d,k=e(78614),a=e(71739).findExtremes,_=e(34603);function y(s,t){this.scene=s,this.uid=t,this.type="pointcloud",this.pickXData=[],this.pickYData=[],this.xData=[],this.yData=[],this.textLabels=[],this.color="rgb(0, 0, 0)",this.name="",this.hoverinfo="all",this.idToIndex=new Int32Array(0),this.bounds=[0,0,0,0],this.pointcloudOptions={positions:new Float32Array(0),idToIndex:this.idToIndex,sizemin:.5,sizemax:12,color:[0,0,0,1],areaRatio:1,borderColor:[0,0,0,1]},this.pointcloud=M(s.glplot,this.pointcloudOptions),this.pointcloud._trace=this}var d=y.prototype;d.handlePick=function(s){var t=this.idToIndex[s.pointId];return{trace:this,dataCoord:s.dataCoord,traceCoord:this.pickXYData?[this.pickXYData[2*t],this.pickXYData[2*t+1]]:[this.pickXData[t],this.pickYData[t]],textLabel:Array.isArray(this.textLabels)?this.textLabels[t]:this.textLabels,color:this.color,name:this.name,pointIndex:t,hoverinfo:this.hoverinfo}},d.update=function(s){this.index=s.index,this.textLabels=s.text,this.name=s.name,this.hoverinfo=s.hoverinfo,this.bounds=[1/0,1/0,-1/0,-1/0],this.updateFast(s),this.color=_(s,{})},d.updateFast=function(s){var t,i,r,n,l,o,u=this.xData=this.pickXData=s.x,p=this.yData=this.pickYData=s.y,c=this.pickXYData=s.xy,b=s.xbounds&&s.ybounds,g=s.indices,h=this.bounds;if(c){if(r=c,t=c.length>>>1,b)h[0]=s.xbounds[0],h[2]=s.xbounds[1],h[1]=s.ybounds[0],h[3]=s.ybounds[1];else for(o=0;o<t;o++)n=r[2*o],l=r[2*o+1],n<h[0]&&(h[0]=n),n>h[2]&&(h[2]=n),l<h[1]&&(h[1]=l),l>h[3]&&(h[3]=l);if(g)i=g;else for(i=new Int32Array(t),o=0;o<t;o++)i[o]=o}else for(t=u.length,r=new Float32Array(2*t),i=new Int32Array(t),o=0;o<t;o++)n=u[o],l=p[o],i[o]=o,r[2*o]=n,r[2*o+1]=l,n<h[0]&&(h[0]=n),n>h[2]&&(h[2]=n),l<h[1]&&(h[1]=l),l>h[3]&&(h[3]=l);this.idToIndex=i,this.pointcloudOptions.idToIndex=i,this.pointcloudOptions.positions=r;var x=k(s.marker.color),v=k(s.marker.border.color),m=s.opacity*s.marker.opacity;x[3]*=m,this.pointcloudOptions.color=x;var w=s.marker.blend;w===null&&(w=u.length<100||p.length<100),this.pointcloudOptions.blend=w,v[3]*=m,this.pointcloudOptions.borderColor=v;var f=s.marker.sizemin,S=Math.max(s.marker.sizemax,s.marker.sizemin);this.pointcloudOptions.sizeMin=f,this.pointcloudOptions.sizeMax=S,this.pointcloudOptions.areaRatio=s.marker.border.arearatio,this.pointcloud.update(this.pointcloudOptions);var T=this.scene.xaxis,E=this.scene.yaxis,L=S/2||.5;s._extremes[T._id]=a(T,[h[0],h[2]],{ppad:L}),s._extremes[E._id]=a(E,[h[1],h[3]],{ppad:L})},d.dispose=function(){this.pointcloud.dispose()},Y.exports=function(s,t){var i=new y(s,t.uid);return i.update(t),i}},33876:function(Y,O,e){var M=e(71828),k=e(10959);Y.exports=function(a,_,y){function d(s,t){return M.coerce(a,_,k,s,t)}d("x"),d("y"),d("xbounds"),d("ybounds"),a.xy&&a.xy instanceof Float32Array&&(_.xy=a.xy),a.indices&&a.indices instanceof Int32Array&&(_.indices=a.indices),d("text"),d("marker.color",y),d("marker.opacity"),d("marker.blend"),d("marker.sizemin"),d("marker.sizemax"),d("marker.border.color",y),d("marker.border.arearatio"),_._length=null}},20593:function(Y,O,e){Y.exports={attributes:e(10959),supplyDefaults:e(33876),calc:e(36563),plot:e(42743),moduleType:"trace",name:"pointcloud",basePlotModule:e(4796),categories:["gl","gl2d","showLegend"],meta:{}}},39953:function(Y,O,e){var M=e(41940),k=e(9012),a=e(22399),_=e(77914),y=e(27670).Y,d=e(5386).fF,s=e(50693),t=e(44467).templatedArray,i=e(12663).descriptionOnlyNumbers,r=e(1426).extendFlat,n=e(30962).overrideAll;(Y.exports=n({hoverinfo:r({},k.hoverinfo,{flags:[],arrayOk:!1}),hoverlabel:_.hoverlabel,domain:y({name:"sankey",trace:!0}),orientation:{valType:"enumerated",values:["v","h"],dflt:"h"},valueformat:{valType:"string",dflt:".3s",description:i("value")},valuesuffix:{valType:"string",dflt:""},arrangement:{valType:"enumerated",values:["snap","perpendicular","freeform","fixed"],dflt:"snap"},textfont:M({}),customdata:void 0,node:{label:{valType:"data_array",dflt:[]},groups:{valType:"info_array",impliedEdits:{x:[],y:[]},dimensions:2,freeLength:!0,dflt:[],items:{valType:"number",editType:"calc"}},x:{valType:"data_array",dflt:[]},y:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:.5,arrayOk:!0}},pad:{valType:"number",arrayOk:!1,min:0,dflt:20},thickness:{valType:"number",arrayOk:!1,min:1,dflt:20},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:d({},{keys:["value","label"]})},link:{arrowlen:{valType:"number",min:0,dflt:0},label:{valType:"data_array",dflt:[]},color:{valType:"color",arrayOk:!0},customdata:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:a.defaultLine,arrayOk:!0},width:{valType:"number",min:0,dflt:0,arrayOk:!0}},source:{valType:"data_array",dflt:[]},target:{valType:"data_array",dflt:[]},value:{valType:"data_array",dflt:[]},hoverinfo:{valType:"enumerated",values:["all","none","skip"],dflt:"all"},hoverlabel:_.hoverlabel,hovertemplate:d({},{keys:["value","label"]}),colorscales:t("concentrationscales",{editType:"calc",label:{valType:"string",editType:"calc",dflt:""},cmax:{valType:"number",editType:"calc",dflt:1},cmin:{valType:"number",editType:"calc",dflt:0},colorscale:r(s().colorscale,{dflt:[[0,"white"],[1,"black"]]})})}},"calc","nested")).transforms=void 0},75536:function(Y,O,e){var M=e(30962).overrideAll,k=e(27659).a0,a=e(60436),_=e(528),y=e(6964),d=e(28569),s=e(47322).prepSelect,t=e(71828),i=e(73972),r="sankey";function n(l,o){var u=l._fullData[o],p=l._fullLayout,c=p.dragmode,b=p.dragmode==="pan"?"move":"crosshair",g=u._bgRect;if(g&&c!=="pan"&&c!=="zoom"){y(g,b);var h={_id:"x",c2p:t.identity,_offset:u._sankey.translateX,_length:u._sankey.width},x={_id:"y",c2p:t.identity,_offset:u._sankey.translateY,_length:u._sankey.height},v={gd:l,element:g.node(),plotinfo:{id:o,xaxis:h,yaxis:x,fillRangeItems:t.noop},subplot:o,xaxes:[h],yaxes:[x],doneFnCompleted:function(m){var w,f=l._fullData[o],S=f.node.groups.slice(),T=[];function E(R){for(var G=f._sankey.graph.nodes,I=0;I<G.length;I++)if(G[I].pointNumber===R)return G[I]}for(var L=0;L<m.length;L++){var C=E(m[L].pointNumber);if(C)if(C.group){for(var P=0;P<C.childrenNodes.length;P++)T.push(C.childrenNodes[P].pointNumber);S[C.pointNumber-f.node._count]=!1}else T.push(C.pointNumber)}w=S.filter(Boolean).concat([T]),i.call("_guiRestyle",l,{"node.groups":[w]},o)},prepFn:function(m,w,f){s(m,w,f,v,c)}};d.init(v)}}O.name=r,O.baseLayoutAttrOverrides=M({hoverlabel:_.hoverlabel},"plot","nested"),O.plot=function(l){var o=k(l.calcdata,r)[0];a(l,o),O.updateFx(l)},O.clean=function(l,o,u,p){var c=p._has&&p._has(r),b=o._has&&o._has(r);c&&!b&&(p._paperdiv.selectAll(".sankey").remove(),p._paperdiv.selectAll(".bgsankey").remove())},O.updateFx=function(l){for(var o=0;o<l._fullData.length;o++)n(l,o)}},92930:function(Y,O,e){var M=e(68664),k=e(71828),a=e(28984).wrap,_=k.isArrayOrTypedArray,y=k.isIndex,d=e(21081);Y.exports=function(s,t){var i=function(r){var n,l=r.node,o=r.link,u=[],p=_(o.color),c=_(o.customdata),b={},g={},h=o.colorscales.length;for(n=0;n<h;n++){var x=o.colorscales[n],v=d.extractScale(x,{cLetter:"c"}),m=d.makeColorScaleFunc(v);g[x.label]=m}var w=0;for(n=0;n<o.value.length;n++)o.source[n]>w&&(w=o.source[n]),o.target[n]>w&&(w=o.target[n]);var f,S=w+1;r.node._count=S;var T=r.node.groups,E={};for(n=0;n<T.length;n++){var L=T[n];for(f=0;f<L.length;f++){var C=L[f],P=S+n;E.hasOwnProperty(C)?k.warn("Node "+C+" is already part of a group."):E[C]=P}}var R={source:[],target:[]};for(n=0;n<o.value.length;n++){var G=o.value[n],I=o.source[n],H=o.target[n];if(G>0&&y(I,S)&&y(H,S)&&(!E.hasOwnProperty(I)||!E.hasOwnProperty(H)||E[I]!==E[H])){E.hasOwnProperty(H)&&(H=E[H]),E.hasOwnProperty(I)&&(I=E[I]),H=+H,b[I=+I]=b[H]=!0;var N="";o.label&&o.label[n]&&(N=o.label[n]);var B=null;N&&g.hasOwnProperty(N)&&(B=g[N]),u.push({pointNumber:n,label:N,color:p?o.color[n]:o.color,customdata:c?o.customdata[n]:o.customdata,concentrationscale:B,source:I,target:H,value:+G}),R.source.push(I),R.target.push(H)}}var V=S+T.length,q=_(l.color),te=_(l.customdata),$=[];for(n=0;n<V;n++)if(b[n]){var K=l.label[n];$.push({group:n>S-1,childrenNodes:[],pointNumber:n,label:K,color:q?l.color[n]:l.color,customdata:te?l.customdata[n]:l.customdata})}var Z=!1;return function(X,ee,ne){for(var re=k.init2dArray(X,0),ae=0;ae<Math.min(ee.length,ne.length);ae++)if(k.isIndex(ee[ae],X)&&k.isIndex(ne[ae],X)){if(ee[ae]===ne[ae])return!0;re[ee[ae]].push(ne[ae])}return M(re).components.some(function(ue){return ue.length>1})}(V,R.source,R.target)&&(Z=!0),{circular:Z,links:u,nodes:$,groups:T,groupLookup:E}}(t);return a({circular:i.circular,_nodes:i.nodes,_links:i.links,_groups:i.groups,_groupLookup:i.groupLookup})}},85247:function(Y){Y.exports={nodeTextOffsetHorizontal:4,nodeTextOffsetVertical:3,nodePadAcross:10,sankeyIterations:50,forceIterations:5,forceTicksPerFrame:10,duration:500,ease:"linear",cn:{sankey:"sankey",sankeyLinks:"sankey-links",sankeyLink:"sankey-link",sankeyNodeSet:"sankey-node-set",sankeyNode:"sankey-node",nodeRect:"node-rect",nodeLabel:"node-label"}}},26857:function(Y,O,e){var M=e(71828),k=e(39953),a=e(7901),_=e(84267),y=e(27670).c,d=e(38048),s=e(44467),t=e(85501);function i(r,n){function l(o,u){return M.coerce(r,n,k.link.colorscales,o,u)}l("label"),l("cmin"),l("cmax"),l("colorscale")}Y.exports=function(r,n,l,o){function u(S,T){return M.coerce(r,n,k,S,T)}var p=M.extendDeep(o.hoverlabel,r.hoverlabel),c=r.node,b=s.newContainer(n,"node");function g(S,T){return M.coerce(c,b,k.node,S,T)}g("label"),g("groups"),g("x"),g("y"),g("pad"),g("thickness"),g("line.color"),g("line.width"),g("hoverinfo",r.hoverinfo),d(c,b,g,p),g("hovertemplate");var h=o.colorway;g("color",b.label.map(function(S,T){return a.addOpacity(function(E){return h[E%h.length]}(T),.8)})),g("customdata");var x=r.link||{},v=s.newContainer(n,"link");function m(S,T){return M.coerce(x,v,k.link,S,T)}m("label"),m("arrowlen"),m("source"),m("target"),m("value"),m("line.color"),m("line.width"),m("hoverinfo",r.hoverinfo),d(x,v,m,p),m("hovertemplate");var w,f=_(o.paper_bgcolor).getLuminance()<.333?"rgba(255, 255, 255, 0.6)":"rgba(0, 0, 0, 0.2)";m("color",M.repeat(f,v.value.length)),m("customdata"),t(x,v,{name:"colorscales",handleItemDefaults:i}),y(n,o,u),u("orientation"),u("valueformat"),u("valuesuffix"),b.x.length&&b.y.length&&(w="freeform"),u("arrangement",w),M.coerceFont(u,"textfont",M.extendFlat({},o.font)),n._length=null}},29396:function(Y,O,e){Y.exports={attributes:e(39953),supplyDefaults:e(26857),calc:e(92930),plot:e(60436),moduleType:"trace",name:"sankey",basePlotModule:e(75536),selectPoints:e(84564),categories:["noOpacity"],meta:{}}},60436:function(Y,O,e){var M=e(39898),k=e(71828),a=k.numberFormat,_=e(3393),y=e(30211),d=e(7901),s=e(85247).cn,t=k._;function i(x){return x!==""}function r(x,v){return x.filter(function(m){return m.key===v.traceId})}function n(x,v){M.select(x).select("path").style("fill-opacity",v),M.select(x).select("rect").style("fill-opacity",v)}function l(x){M.select(x).select("text.name").style("fill","black")}function o(x){return function(v){return x.node.sourceLinks.indexOf(v.link)!==-1||x.node.targetLinks.indexOf(v.link)!==-1}}function u(x){return function(v){return v.node.sourceLinks.indexOf(x.link)!==-1||v.node.targetLinks.indexOf(x.link)!==-1}}function p(x,v,m){v&&m&&r(m,v).selectAll("."+s.sankeyLink).filter(o(v)).call(b.bind(0,v,m,!1))}function c(x,v,m){v&&m&&r(m,v).selectAll("."+s.sankeyLink).filter(o(v)).call(g.bind(0,v,m,!1))}function b(x,v,m,w){var f=w.datum().link.label;w.style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),f&&r(v,x).selectAll("."+s.sankeyLink).filter(function(S){return S.link.label===f}).style("fill-opacity",function(S){if(!S.link.concentrationscale)return .4}),m&&r(v,x).selectAll("."+s.sankeyNode).filter(u(x)).call(p)}function g(x,v,m,w){var f=w.datum().link.label;w.style("fill-opacity",function(S){return S.tinyColorAlpha}),f&&r(v,x).selectAll("."+s.sankeyLink).filter(function(S){return S.link.label===f}).style("fill-opacity",function(S){return S.tinyColorAlpha}),m&&r(v,x).selectAll(s.sankeyNode).filter(u(x)).call(c)}function h(x,v){var m=x.hoverlabel||{},w=k.nestedProperty(m,v).get();return!Array.isArray(w)&&w}Y.exports=function(x,v){for(var m=x._fullLayout,w=m._paper,f=m._size,S=0;S<x._fullData.length;S++)if(x._fullData[S].visible&&x._fullData[S].type===s.sankey&&!x._fullData[S]._viewInitial){var T=x._fullData[S].node;x._fullData[S]._viewInitial={node:{groups:T.groups.slice(),x:T.x.slice(),y:T.y.slice()}}}var E=t(x,"source:")+" ",L=t(x,"target:")+" ",C=t(x,"concentration:")+" ",P=t(x,"incoming flow count:")+" ",R=t(x,"outgoing flow count:")+" ";_(x,w,v,{width:f.w,height:f.h,margin:{t:f.t,r:f.r,b:f.b,l:f.l}},{linkEvents:{hover:function(G,I,H){x._fullLayout.hovermode!==!1&&(M.select(G).call(b.bind(0,I,H,!0)),I.link.trace.link.hoverinfo!=="skip"&&(I.link.fullData=I.link.trace,x.emit("plotly_hover",{event:M.event,points:[I.link]})))},follow:function(G,I){if(x._fullLayout.hovermode!==!1){var H=I.link.trace.link;if(H.hoverinfo!=="none"&&H.hoverinfo!=="skip"){for(var N=[],B=0,V=0;V<I.flow.links.length;V++){var q=I.flow.links[V];if(x._fullLayout.hovermode!=="closest"||I.link.pointNumber===q.pointNumber){I.link.pointNumber===q.pointNumber&&(B=V),q.fullData=q.trace,H=I.link.trace.link;var te=K(q),$={valueLabel:a(I.valueFormat)(q.value)+I.valueSuffix};N.push({x:te[0],y:te[1],name:$.valueLabel,text:[q.label||"",E+q.source.label,L+q.target.label,q.concentrationscale?C+a("%0.2f")(q.flow.labelConcentration):""].filter(i).join("<br>"),color:h(H,"bgcolor")||d.addOpacity(q.color,1),borderColor:h(H,"bordercolor"),fontFamily:h(H,"font.family"),fontSize:h(H,"font.size"),fontColor:h(H,"font.color"),nameLength:h(H,"namelength"),textAlign:h(H,"align"),idealAlign:M.event.x<te[0]?"right":"left",hovertemplate:H.hovertemplate,hovertemplateLabels:$,eventData:[q]})}}y.loneHover(N,{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:x,anchorIndex:B}).each(function(){I.link.concentrationscale||n(this,.65),l(this)})}}function K(Z){var X,ee;Z.circular?(X=(Z.circularPathData.leftInnerExtent+Z.circularPathData.rightInnerExtent)/2,ee=Z.circularPathData.verticalFullExtent):(X=(Z.source.x1+Z.target.x0)/2,ee=(Z.y0+Z.y1)/2);var ne=[X,ee];return Z.trace.orientation==="v"&&ne.reverse(),ne[0]+=I.parent.translateX,ne[1]+=I.parent.translateY,ne}},unhover:function(G,I,H){x._fullLayout.hovermode!==!1&&(M.select(G).call(g.bind(0,I,H,!0)),I.link.trace.link.hoverinfo!=="skip"&&(I.link.fullData=I.link.trace,x.emit("plotly_unhover",{event:M.event,points:[I.link]})),y.loneUnhover(m._hoverlayer.node()))},select:function(G,I){var H=I.link;H.originalEvent=M.event,x._hoverdata=[H],y.click(x,{target:!0})}},nodeEvents:{hover:function(G,I,H){x._fullLayout.hovermode!==!1&&(M.select(G).call(p,I,H),I.node.trace.node.hoverinfo!=="skip"&&(I.node.fullData=I.node.trace,x.emit("plotly_hover",{event:M.event,points:[I.node]})))},follow:function(G,I){if(x._fullLayout.hovermode!==!1){var H=I.node.trace.node;if(H.hoverinfo!=="none"&&H.hoverinfo!=="skip"){var N=M.select(G).select("."+s.nodeRect),B=x._fullLayout._paperdiv.node().getBoundingClientRect(),V=N.node().getBoundingClientRect(),q=V.left-2-B.left,te=V.right+2-B.left,$=V.top+V.height/4-B.top,K={valueLabel:a(I.valueFormat)(I.node.value)+I.valueSuffix};I.node.fullData=I.node.trace,x._fullLayout._calcInverseTransform(x);var Z=x._fullLayout._invScaleX,X=x._fullLayout._invScaleY,ee=y.loneHover({x0:Z*q,x1:Z*te,y:X*$,name:a(I.valueFormat)(I.node.value)+I.valueSuffix,text:[I.node.label,P+I.node.targetLinks.length,R+I.node.sourceLinks.length].filter(i).join("<br>"),color:h(H,"bgcolor")||I.tinyColorHue,borderColor:h(H,"bordercolor"),fontFamily:h(H,"font.family"),fontSize:h(H,"font.size"),fontColor:h(H,"font.color"),nameLength:h(H,"namelength"),textAlign:h(H,"align"),idealAlign:"left",hovertemplate:H.hovertemplate,hovertemplateLabels:K,eventData:[I.node]},{container:m._hoverlayer.node(),outerContainer:m._paper.node(),gd:x});n(ee,.85),l(ee)}}},unhover:function(G,I,H){x._fullLayout.hovermode!==!1&&(M.select(G).call(c,I,H),I.node.trace.node.hoverinfo!=="skip"&&(I.node.fullData=I.node.trace,x.emit("plotly_unhover",{event:M.event,points:[I.node]})),y.loneUnhover(m._hoverlayer.node()))},select:function(G,I,H){var N=I.node;N.originalEvent=M.event,x._hoverdata=[N],M.select(G).call(c,I,H),y.click(x,{target:!0})}}})}},3393:function(Y,O,e){var M=e(49887),k=e(81684).k4,a=e(39898),_=e(30838),y=e(86781),d=e(85247),s=e(84267),t=e(7901),i=e(91424),r=e(71828),n=r.strTranslate,l=r.strRotate,o=e(28984),u=o.keyFun,p=o.repeat,c=o.unwrap,b=e(63893),g=e(73972),h=e(18783),x=h.CAP_SHIFT,v=h.LINE_SPACING;function m(V,q,te){var $,K=c(q),Z=K.trace,X=Z.domain,ee=Z.orientation==="h",ne=Z.node.pad,re=Z.node.thickness,ae=V.width*(X.x[1]-X.x[0]),ue=V.height*(X.y[1]-X.y[0]),pe=K._nodes,ge=K._links,we=K.circular;($=we?y.sankeyCircular().circularLinkGap(0):_.sankey()).iterations(d.sankeyIterations).size(ee?[ae,ue]:[ue,ae]).nodeWidth(re).nodePadding(ne).nodeId(function(_e){return _e.pointNumber}).nodes(pe).links(ge);var me,ve,Ie,Se=$();for(var ke in $.nodePadding()<ne&&r.warn("node.pad was reduced to ",$.nodePadding()," to fit within the figure."),K._groupLookup){var se,oe=parseInt(K._groupLookup[ke]);for(me=0;me<Se.nodes.length;me++)if(Se.nodes[me].pointNumber===oe){se=Se.nodes[me];break}if(se){var he={pointNumber:parseInt(ke),x0:se.x0,x1:se.x1,y0:se.y0,y1:se.y1,partOfGroup:!0,sourceLinks:[],targetLinks:[]};Se.nodes.unshift(he),se.childrenNodes.unshift(he)}}if(function(){for(me=0;me<Se.nodes.length;me++){var _e,De,Ne=Se.nodes[me],ce={};for(ve=0;ve<Ne.targetLinks.length;ve++)_e=(De=Ne.targetLinks[ve]).source.pointNumber+":"+De.target.pointNumber,ce.hasOwnProperty(_e)||(ce[_e]=[]),ce[_e].push(De);var Te=Object.keys(ce);for(ve=0;ve<Te.length;ve++){var ye=ce[_e=Te[ve]],Oe=0,Be={};for(Ie=0;Ie<ye.length;Ie++)Be[(De=ye[Ie]).label]||(Be[De.label]=0),Be[De.label]+=De.value,Oe+=De.value;for(Ie=0;Ie<ye.length;Ie++)(De=ye[Ie]).flow={value:Oe,labelConcentration:Be[De.label]/Oe,concentration:De.value/Oe,links:ye},De.concentrationscale&&(De.color=s(De.concentrationscale(De.flow.labelConcentration)))}var Fe=0;for(ve=0;ve<Ne.sourceLinks.length;ve++)Fe+=Ne.sourceLinks[ve].value;for(ve=0;ve<Ne.sourceLinks.length;ve++)(De=Ne.sourceLinks[ve]).concentrationOut=De.value/Fe;var Ge=0;for(ve=0;ve<Ne.targetLinks.length;ve++)Ge+=Ne.targetLinks[ve].value;for(ve=0;ve<Ne.targetLinks.length;ve++)(De=Ne.targetLinks[ve]).concenrationIn=De.value/Ge}}(),Z.node.x.length&&Z.node.y.length){for(me=0;me<Math.min(Z.node.x.length,Z.node.y.length,Se.nodes.length);me++)if(Z.node.x[me]&&Z.node.y[me]){var Le=[Z.node.x[me]*ae,Z.node.y[me]*ue];Se.nodes[me].x0=Le[0]-re/2,Se.nodes[me].x1=Le[0]+re/2;var Me=Se.nodes[me].y1-Se.nodes[me].y0;Se.nodes[me].y0=Le[1]-Me/2,Se.nodes[me].y1=Le[1]+Me/2}Z.arrangement==="snap"&&function(_e){var De,Ne,ce=_e.map(function(Fe,Ge){return{x0:Fe.x0,index:Ge}}).sort(function(Fe,Ge){return Fe.x0-Ge.x0}),Te=[],ye=-1,Oe=-1/0;for(me=0;me<ce.length;me++){var Be=_e[ce[me].index];Be.x0>Oe+re&&(ye+=1,De=Be.x0),Oe=Be.x0,Te[ye]||(Te[ye]=[]),Te[ye].push(Be),Ne=De-Be.x0,Be.x0+=Ne,Be.x1+=Ne}return Te}(pe=Se.nodes).forEach(function(_e){var De,Ne,ce,Te=0,ye=_e.length;for(_e.sort(function(Oe,Be){return Oe.y0-Be.y0}),ce=0;ce<ye;++ce)(De=_e[ce]).y0>=Te||(Ne=Te-De.y0)>1e-6&&(De.y0+=Ne,De.y1+=Ne),Te=De.y1+ne}),$.update(Se)}return{circular:we,key:te,trace:Z,guid:r.randstr(),horizontal:ee,width:ae,height:ue,nodePad:Z.node.pad,nodeLineColor:Z.node.line.color,nodeLineWidth:Z.node.line.width,linkLineColor:Z.link.line.color,linkLineWidth:Z.link.line.width,linkArrowLength:Z.link.arrowlen,valueFormat:Z.valueformat,valueSuffix:Z.valuesuffix,textFont:Z.textfont,translateX:X.x[0]*V.width+V.margin.l,translateY:V.height-X.y[1]*V.height+V.margin.t,dragParallel:ee?ue:ae,dragPerpendicular:ee?ae:ue,arrangement:Z.arrangement,sankey:$,graph:Se,forceLayouts:{},interactionState:{dragInProgress:!1,hovered:!1}}}function w(V,q,te){var $=s(q.color),K=q.source.label+"|"+q.target.label+"__"+te;return q.trace=V.trace,q.curveNumber=V.trace.index,{circular:V.circular,key:K,traceId:V.key,pointNumber:q.pointNumber,link:q,tinyColorHue:t.tinyRGB($),tinyColorAlpha:$.getAlpha(),linkPath:f,linkLineColor:V.linkLineColor,linkLineWidth:V.linkLineWidth,linkArrowLength:V.linkArrowLength,valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,parent:V,interactionState:V.interactionState,flow:q.flow}}function f(){return function(V){var q=V.linkArrowLength;if(V.link.circular)return function(ve,Ie){var Se=ve.width/2,ke=ve.circularPathData;return ve.circularLinkType==="top"?"M "+(ke.targetX-Ie)+" "+(ke.targetY+Se)+" L"+(ke.rightInnerExtent-Ie)+" "+(ke.targetY+Se)+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightSmallArcRadius+Se)+" 0 0 1 "+(ke.rightFullExtent-Se-Ie)+" "+(ke.targetY-ke.rightSmallArcRadius)+"L"+(ke.rightFullExtent-Se-Ie)+" "+ke.verticalRightInnerExtent+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightLargeArcRadius+Se)+" 0 0 1 "+(ke.rightInnerExtent-Ie)+" "+(ke.verticalFullExtent-Se)+"L"+ke.leftInnerExtent+" "+(ke.verticalFullExtent-Se)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftLargeArcRadius+Se)+" 0 0 1 "+(ke.leftFullExtent+Se)+" "+ke.verticalLeftInnerExtent+"L"+(ke.leftFullExtent+Se)+" "+(ke.sourceY-ke.leftSmallArcRadius)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftSmallArcRadius+Se)+" 0 0 1 "+ke.leftInnerExtent+" "+(ke.sourceY+Se)+"L"+ke.sourceX+" "+(ke.sourceY+Se)+"L"+ke.sourceX+" "+(ke.sourceY-Se)+"L"+ke.leftInnerExtent+" "+(ke.sourceY-Se)+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftSmallArcRadius-Se)+" 0 0 0 "+(ke.leftFullExtent-Se)+" "+(ke.sourceY-ke.leftSmallArcRadius)+"L"+(ke.leftFullExtent-Se)+" "+ke.verticalLeftInnerExtent+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftLargeArcRadius-Se)+" 0 0 0 "+ke.leftInnerExtent+" "+(ke.verticalFullExtent+Se)+"L"+(ke.rightInnerExtent-Ie)+" "+(ke.verticalFullExtent+Se)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightLargeArcRadius-Se)+" 0 0 0 "+(ke.rightFullExtent+Se-Ie)+" "+ke.verticalRightInnerExtent+"L"+(ke.rightFullExtent+Se-Ie)+" "+(ke.targetY-ke.rightSmallArcRadius)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightSmallArcRadius-Se)+" 0 0 0 "+(ke.rightInnerExtent-Ie)+" "+(ke.targetY-Se)+"L"+(ke.targetX-Ie)+" "+(ke.targetY-Se)+(Ie>0?"L"+ke.targetX+" "+ke.targetY:"")+"Z":"M "+(ke.targetX-Ie)+" "+(ke.targetY-Se)+" L"+(ke.rightInnerExtent-Ie)+" "+(ke.targetY-Se)+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightSmallArcRadius+Se)+" 0 0 0 "+(ke.rightFullExtent-Se-Ie)+" "+(ke.targetY+ke.rightSmallArcRadius)+"L"+(ke.rightFullExtent-Se-Ie)+" "+ke.verticalRightInnerExtent+"A"+(ke.rightLargeArcRadius+Se)+" "+(ke.rightLargeArcRadius+Se)+" 0 0 0 "+(ke.rightInnerExtent-Ie)+" "+(ke.verticalFullExtent+Se)+"L"+ke.leftInnerExtent+" "+(ke.verticalFullExtent+Se)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftLargeArcRadius+Se)+" 0 0 0 "+(ke.leftFullExtent+Se)+" "+ke.verticalLeftInnerExtent+"L"+(ke.leftFullExtent+Se)+" "+(ke.sourceY+ke.leftSmallArcRadius)+"A"+(ke.leftLargeArcRadius+Se)+" "+(ke.leftSmallArcRadius+Se)+" 0 0 0 "+ke.leftInnerExtent+" "+(ke.sourceY-Se)+"L"+ke.sourceX+" "+(ke.sourceY-Se)+"L"+ke.sourceX+" "+(ke.sourceY+Se)+"L"+ke.leftInnerExtent+" "+(ke.sourceY+Se)+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftSmallArcRadius-Se)+" 0 0 1 "+(ke.leftFullExtent-Se)+" "+(ke.sourceY+ke.leftSmallArcRadius)+"L"+(ke.leftFullExtent-Se)+" "+ke.verticalLeftInnerExtent+"A"+(ke.leftLargeArcRadius-Se)+" "+(ke.leftLargeArcRadius-Se)+" 0 0 1 "+ke.leftInnerExtent+" "+(ke.verticalFullExtent-Se)+"L"+(ke.rightInnerExtent-Ie)+" "+(ke.verticalFullExtent-Se)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightLargeArcRadius-Se)+" 0 0 1 "+(ke.rightFullExtent+Se-Ie)+" "+ke.verticalRightInnerExtent+"L"+(ke.rightFullExtent+Se-Ie)+" "+(ke.targetY+ke.rightSmallArcRadius)+"A"+(ke.rightLargeArcRadius-Se)+" "+(ke.rightSmallArcRadius-Se)+" 0 0 1 "+(ke.rightInnerExtent-Ie)+" "+(ke.targetY+Se)+"L"+(ke.targetX-Ie)+" "+(ke.targetY+Se)+(Ie>0?"L"+ke.targetX+" "+ke.targetY:"")+"Z"}(V.link,q);var te=Math.abs((V.link.target.x0-V.link.source.x1)/2);q>te&&(q=te);var $=V.link.source.x1,K=V.link.target.x0-q,Z=k($,K),X=Z(.5),ee=Z(.5),ne=V.link.y0-V.link.width/2,re=V.link.y0+V.link.width/2,ae=V.link.y1-V.link.width/2,ue=V.link.y1+V.link.width/2,pe="M"+$+","+ne,ge="C"+X+","+ne+" "+ee+","+ae+" "+K+","+ae,we="C"+ee+","+ue+" "+X+","+re+" "+$+","+re,me=q>0?"L"+(K+q)+","+(ae+V.link.width/2):"";return pe+ge+(me+="L"+K+","+ue)+we+"Z"}}function S(V,q){var te=s(q.color),$=d.nodePadAcross,K=V.nodePad/2;q.dx=q.x1-q.x0,q.dy=q.y1-q.y0;var Z=q.dx,X=Math.max(.5,q.dy),ee="node_"+q.pointNumber;return q.group&&(ee=r.randstr()),q.trace=V.trace,q.curveNumber=V.trace.index,{index:q.pointNumber,key:ee,partOfGroup:q.partOfGroup||!1,group:q.group,traceId:V.key,trace:V.trace,node:q,nodePad:V.nodePad,nodeLineColor:V.nodeLineColor,nodeLineWidth:V.nodeLineWidth,textFont:V.textFont,size:V.horizontal?V.height:V.width,visibleWidth:Math.ceil(Z),visibleHeight:X,zoneX:-$,zoneY:-K,zoneWidth:Z+2*$,zoneHeight:X+2*K,labelY:V.horizontal?q.dy/2+1:q.dx/2+1,left:q.originalLayer===1,sizeAcross:V.width,forceLayouts:V.forceLayouts,horizontal:V.horizontal,darkBackground:te.getBrightness()<=128,tinyColorHue:t.tinyRGB(te),tinyColorAlpha:te.getAlpha(),valueFormat:V.valueFormat,valueSuffix:V.valueSuffix,sankey:V.sankey,graph:V.graph,arrangement:V.arrangement,uniqueNodeLabelPathId:[V.guid,V.key,ee].join("_"),interactionState:V.interactionState,figure:V}}function T(V){V.attr("transform",function(q){return n(q.node.x0.toFixed(3),q.node.y0.toFixed(3))})}function E(V){V.call(T)}function L(V,q){V.call(E),q.attr("d",f())}function C(V){V.attr("width",function(q){return q.node.x1-q.node.x0}).attr("height",function(q){return q.visibleHeight})}function P(V){return V.link.width>1||V.linkLineWidth>0}function R(V){return n(V.translateX,V.translateY)+(V.horizontal?"matrix(1 0 0 1 0 0)":"matrix(0 1 1 0 0 0)")}function G(V,q,te){V.on(".basic",null).on("mouseover.basic",function($){$.interactionState.dragInProgress||$.partOfGroup||(te.hover(this,$,q),$.interactionState.hovered=[this,$])}).on("mousemove.basic",function($){$.interactionState.dragInProgress||$.partOfGroup||(te.follow(this,$),$.interactionState.hovered=[this,$])}).on("mouseout.basic",function($){$.interactionState.dragInProgress||$.partOfGroup||(te.unhover(this,$,q),$.interactionState.hovered=!1)}).on("click.basic",function($){$.interactionState.hovered&&(te.unhover(this,$,q),$.interactionState.hovered=!1),$.interactionState.dragInProgress||$.partOfGroup||te.select(this,$,q)})}function I(V,q,te,$){var K=a.behavior.drag().origin(function(Z){return{x:Z.node.x0+Z.visibleWidth/2,y:Z.node.y0+Z.visibleHeight/2}}).on("dragstart",function(Z){if(Z.arrangement!=="fixed"&&(r.ensureSingle($._fullLayout._infolayer,"g","dragcover",function(ee){$._fullLayout._dragCover=ee}),r.raiseToTop(this),Z.interactionState.dragInProgress=Z.node,N(Z.node),Z.interactionState.hovered&&(te.nodeEvents.unhover.apply(0,Z.interactionState.hovered),Z.interactionState.hovered=!1),Z.arrangement==="snap")){var X=Z.traceId+"|"+Z.key;Z.forceLayouts[X]?Z.forceLayouts[X].alpha(1):function(ee,ne,re,ae){(function(pe){for(var ge=0;ge<pe.length;ge++)pe[ge].y=(pe[ge].y0+pe[ge].y1)/2,pe[ge].x=(pe[ge].x0+pe[ge].x1)/2})(re.graph.nodes);var ue=re.graph.nodes.filter(function(pe){return pe.originalX===re.node.originalX}).filter(function(pe){return!pe.partOfGroup});re.forceLayouts[ne]=M.forceSimulation(ue).alphaDecay(0).force("collide",M.forceCollide().radius(function(pe){return pe.dy/2+re.nodePad/2}).strength(1).iterations(d.forceIterations)).force("constrain",function(pe,ge,we,me){return function(){for(var ve=0,Ie=0;Ie<we.length;Ie++){var Se=we[Ie];Se===me.interactionState.dragInProgress?(Se.x=Se.lastDraggedX,Se.y=Se.lastDraggedY):(Se.vx=(Se.originalX-Se.x)/d.forceTicksPerFrame,Se.y=Math.min(me.size-Se.dy/2,Math.max(Se.dy/2,Se.y))),ve=Math.max(ve,Math.abs(Se.vx),Math.abs(Se.vy))}!me.interactionState.dragInProgress&&ve<.1&&me.forceLayouts[ge].alpha()>0&&me.forceLayouts[ge].alpha(0)}}(0,ne,ue,re)).stop()}(0,X,Z),function(ee,ne,re,ae,ue){window.requestAnimationFrame(function pe(){var ge;for(ge=0;ge<d.forceTicksPerFrame;ge++)re.forceLayouts[ae].tick();if(function(me){for(var ve=0;ve<me.length;ve++)me[ve].y0=me[ve].y-me[ve].dy/2,me[ve].y1=me[ve].y0+me[ve].dy,me[ve].x0=me[ve].x-me[ve].dx/2,me[ve].x1=me[ve].x0+me[ve].dx}(re.graph.nodes),re.sankey.update(re.graph),L(ee.filter(B(re)),ne),re.forceLayouts[ae].alpha()>0)window.requestAnimationFrame(pe);else{var we=re.node.originalX;re.node.x0=we-re.visibleWidth/2,re.node.x1=we+re.visibleWidth/2,H(re,ue)}})}(V,q,Z,X,$)}}).on("drag",function(Z){if(Z.arrangement!=="fixed"){var X=a.event.x,ee=a.event.y;Z.arrangement==="snap"?(Z.node.x0=X-Z.visibleWidth/2,Z.node.x1=X+Z.visibleWidth/2,Z.node.y0=ee-Z.visibleHeight/2,Z.node.y1=ee+Z.visibleHeight/2):(Z.arrangement==="freeform"&&(Z.node.x0=X-Z.visibleWidth/2,Z.node.x1=X+Z.visibleWidth/2),ee=Math.max(0,Math.min(Z.size-Z.visibleHeight/2,ee)),Z.node.y0=ee-Z.visibleHeight/2,Z.node.y1=ee+Z.visibleHeight/2),N(Z.node),Z.arrangement!=="snap"&&(Z.sankey.update(Z.graph),L(V.filter(B(Z)),q))}}).on("dragend",function(Z){if(Z.arrangement!=="fixed"){Z.interactionState.dragInProgress=!1;for(var X=0;X<Z.node.childrenNodes.length;X++)Z.node.childrenNodes[X].x=Z.node.x,Z.node.childrenNodes[X].y=Z.node.y;Z.arrangement!=="snap"&&H(Z,$)}});V.on(".drag",null).call(K)}function H(V,q){for(var te=[],$=[],K=0;K<V.graph.nodes.length;K++){var Z=(V.graph.nodes[K].x0+V.graph.nodes[K].x1)/2,X=(V.graph.nodes[K].y0+V.graph.nodes[K].y1)/2;te.push(Z/V.figure.width),$.push(X/V.figure.height)}g.call("_guiRestyle",q,{"node.x":[te],"node.y":[$]},V.trace.index).then(function(){q._fullLayout._dragCover&&q._fullLayout._dragCover.remove()})}function N(V){V.lastDraggedX=V.x0+V.dx/2,V.lastDraggedY=V.y0+V.dy/2}function B(V){return function(q){return q.node.originalX===V.node.originalX}}Y.exports=function(V,q,te,$,K){var Z=V._context.staticPlot,X=!1;r.ensureSingle(V._fullLayout._infolayer,"g","first-render",function(){X=!0});var ee=V._fullLayout._dragCover,ne=te.filter(function(ve){return c(ve).trace.visible}).map(m.bind(null,$)),re=q.selectAll("."+d.cn.sankey).data(ne,u);re.exit().remove(),re.enter().append("g").classed(d.cn.sankey,!0).style("box-sizing","content-box").style("position","absolute").style("left",0).style("shape-rendering","geometricPrecision").style("pointer-events",Z?"none":"auto").attr("transform",R),re.each(function(ve,Ie){V._fullData[Ie]._sankey=ve;var Se="bgsankey-"+ve.trace.uid+"-"+Ie;r.ensureSingle(V._fullLayout._draggers,"rect",Se),V._fullData[Ie]._bgRect=a.select("."+Se),V._fullData[Ie]._bgRect.style("pointer-events",Z?"none":"all").attr("width",ve.width).attr("height",ve.height).attr("x",ve.translateX).attr("y",ve.translateY).classed("bgsankey",!0).style({fill:"transparent","stroke-width":0})}),re.transition().ease(d.ease).duration(d.duration).attr("transform",R);var ae=re.selectAll("."+d.cn.sankeyLinks).data(p,u);ae.enter().append("g").classed(d.cn.sankeyLinks,!0).style("fill","none");var ue=ae.selectAll("."+d.cn.sankeyLink).data(function(ve){return ve.graph.links.filter(function(Ie){return Ie.value}).map(w.bind(null,ve))},u);ue.enter().append("path").classed(d.cn.sankeyLink,!0).call(G,re,K.linkEvents),ue.style("stroke",function(ve){return P(ve)?t.tinyRGB(s(ve.linkLineColor)):ve.tinyColorHue}).style("stroke-opacity",function(ve){return P(ve)?t.opacity(ve.linkLineColor):ve.tinyColorAlpha}).style("fill",function(ve){return ve.tinyColorHue}).style("fill-opacity",function(ve){return ve.tinyColorAlpha}).style("stroke-width",function(ve){return P(ve)?ve.linkLineWidth:1}).attr("d",f()),ue.style("opacity",function(){return V._context.staticPlot||X||ee?1:0}).transition().ease(d.ease).duration(d.duration).style("opacity",1),ue.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var pe=re.selectAll("."+d.cn.sankeyNodeSet).data(p,u);pe.enter().append("g").classed(d.cn.sankeyNodeSet,!0),pe.style("cursor",function(ve){switch(ve.arrangement){case"fixed":return"default";case"perpendicular":return"ns-resize";default:return"move"}});var ge=pe.selectAll("."+d.cn.sankeyNode).data(function(ve){var Ie=ve.graph.nodes;return function(Se){var ke,se=[];for(ke=0;ke<Se.length;ke++)Se[ke].originalX=(Se[ke].x0+Se[ke].x1)/2,Se[ke].originalY=(Se[ke].y0+Se[ke].y1)/2,se.indexOf(Se[ke].originalX)===-1&&se.push(Se[ke].originalX);for(se.sort(function(oe,he){return oe-he}),ke=0;ke<Se.length;ke++)Se[ke].originalLayerIndex=se.indexOf(Se[ke].originalX),Se[ke].originalLayer=Se[ke].originalLayerIndex/(se.length-1)}(Ie),Ie.map(S.bind(null,ve))},u);ge.enter().append("g").classed(d.cn.sankeyNode,!0).call(T).style("opacity",function(ve){return!V._context.staticPlot&&!X||ve.partOfGroup?0:1}),ge.call(G,re,K.nodeEvents).call(I,ue,K,V),ge.transition().ease(d.ease).duration(d.duration).call(T).style("opacity",function(ve){return ve.partOfGroup?0:1}),ge.exit().transition().ease(d.ease).duration(d.duration).style("opacity",0).remove();var we=ge.selectAll("."+d.cn.nodeRect).data(p);we.enter().append("rect").classed(d.cn.nodeRect,!0).call(C),we.style("stroke-width",function(ve){return ve.nodeLineWidth}).style("stroke",function(ve){return t.tinyRGB(s(ve.nodeLineColor))}).style("stroke-opacity",function(ve){return t.opacity(ve.nodeLineColor)}).style("fill",function(ve){return ve.tinyColorHue}).style("fill-opacity",function(ve){return ve.tinyColorAlpha}),we.transition().ease(d.ease).duration(d.duration).call(C);var me=ge.selectAll("."+d.cn.nodeLabel).data(p);me.enter().append("text").classed(d.cn.nodeLabel,!0).style("cursor","default"),me.attr("data-notex",1).text(function(ve){return ve.node.label}).each(function(ve){var Ie=a.select(this);i.font(Ie,ve.textFont),b.convertToTspans(Ie,V)}).style("text-shadow",b.makeTextShadow(V._fullLayout.paper_bgcolor)).attr("text-anchor",function(ve){return ve.horizontal&&ve.left?"end":"start"}).attr("transform",function(ve){var Ie=a.select(this),Se=b.lineCount(Ie),ke=ve.textFont.size*((Se-1)*v-x),se=ve.nodeLineWidth/2+3,oe=((ve.horizontal?ve.visibleHeight:ve.visibleWidth)-ke)/2;ve.horizontal&&(ve.left?se=-se:se+=ve.visibleWidth);var he=ve.horizontal?"":"scale(-1,1)"+l(90);return n(ve.horizontal?se:oe,ve.horizontal?oe:se)+he}),me.transition().ease(d.ease).duration(d.duration)}},84564:function(Y){Y.exports=function(O,e){for(var M=[],k=O.cd[0].trace,a=k._sankey.graph.nodes,_=0;_<a.length;_++){var y=a[_];if(!y.partOfGroup){var d=[(y.x0+y.x1)/2,(y.y0+y.y1)/2];k.orientation==="v"&&d.reverse(),e&&e.contains(d,!1,_,O)&&M.push({pointNumber:y.pointNumber})}}return M}},75225:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){for(var _=0;_<k.length;_++)k[_].i=_;M.mergeArray(a.text,k,"tx"),M.mergeArray(a.texttemplate,k,"txt"),M.mergeArray(a.hovertext,k,"htx"),M.mergeArray(a.customdata,k,"data"),M.mergeArray(a.textposition,k,"tp"),a.textfont&&(M.mergeArrayCastPositive(a.textfont.size,k,"ts"),M.mergeArray(a.textfont.color,k,"tc"),M.mergeArray(a.textfont.family,k,"tf"));var y=a.marker;if(y){M.mergeArrayCastPositive(y.size,k,"ms"),M.mergeArrayCastPositive(y.opacity,k,"mo"),M.mergeArray(y.symbol,k,"mx"),M.mergeArray(y.angle,k,"ma"),M.mergeArray(y.standoff,k,"mf"),M.mergeArray(y.color,k,"mc");var d=y.line;y.line&&(M.mergeArray(d.color,k,"mlc"),M.mergeArrayCastPositive(d.width,k,"mlw"));var s=y.gradient;s&&s.type!=="none"&&(M.mergeArray(s.type,k,"mgt"),M.mergeArray(s.color,k,"mgc"))}}},82196:function(Y,O,e){var M=e(12663).axisHoverFormat,k=e(5386).si,a=e(5386).fF,_=e(50693),y=e(41940),d=e(79952).P,s=e(79952).u,t=e(91424),i=e(47581),r=e(1426).extendFlat;Y.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:M("x"),yhoverformat:M("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:k({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:a({},{keys:i.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:r({},d,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:s,marker:r({symbol:{valType:"enumerated",values:t.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:r({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},_("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},_("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:y({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(Y,O,e){var M=e(92770),k=e(71828),a=e(89298),_=e(42973),y=e(50606).BADNUM,d=e(34098),s=e(36922),t=e(75225),i=e(66279);function r(p,c,b,g,h,x,v){var m=c._length,w=p._fullLayout,f=b._id,S=g._id,T=w._firstScatter[o(c)]===c.uid,E=(u(c,w,b,g)||{}).orientation,L=c.fill;b._minDtick=0,g._minDtick=0;var C={padded:!0},P={padded:!0};v&&(C.ppad=P.ppad=v);var R=m<2||h[0]!==h[m-1]||x[0]!==x[m-1];R&&(L==="tozerox"||L==="tonextx"&&(T||E==="h"))?C.tozero=!0:(c.error_y||{}).visible||L!=="tonexty"&&L!=="tozeroy"&&(d.hasMarkers(c)||d.hasText(c))||(C.padded=!1,C.ppad=0),R&&(L==="tozeroy"||L==="tonexty"&&(T||E==="v"))?P.tozero=!0:L!=="tonextx"&&L!=="tozerox"||(P.padded=!1),f&&(c._extremes[f]=a.findExtremes(b,h,C)),S&&(c._extremes[S]=a.findExtremes(g,x,P))}function n(p,c){if(d.hasMarkers(p)){var b,g=p.marker,h=1.6*(p.marker.sizeref||1);if(b=p.marker.sizemode==="area"?function(f){return Math.max(Math.sqrt((f||0)/h),3)}:function(f){return Math.max((f||0)/h,3)},k.isArrayOrTypedArray(g.size)){var x={type:"linear"};a.setConvert(x);for(var v=x.makeCalcdata(p.marker,"size"),m=new Array(c),w=0;w<c;w++)m[w]=b(v[w]);return m}return b(g.size)}}function l(p,c){var b=o(c),g=p._firstScatter;g[b]||(g[b]=c.uid)}function o(p){var c=p.stackgroup;return p.xaxis+p.yaxis+p.type+(c?"-"+c:"")}function u(p,c,b,g){var h=p.stackgroup;if(h){var x=c._scatterStackOpts[b._id+g._id][h],v=x.orientation==="v"?g:b;return v.type==="linear"||v.type==="log"?x:void 0}}Y.exports={calc:function(p,c){var b,g,h,x,v,m,w=p._fullLayout,f=c._xA=a.getFromId(p,c.xaxis||"x","x"),S=c._yA=a.getFromId(p,c.yaxis||"y","y"),T=f.makeCalcdata(c,"x"),E=S.makeCalcdata(c,"y"),L=_(c,f,"x",T),C=_(c,S,"y",E),P=L.vals,R=C.vals,G=c._length,I=new Array(G),H=c.ids,N=u(c,w,f,S),B=!1;l(w,c);var V,q="x",te="y";N?(k.pushUnique(N.traceIndices,c._expandedIndex),(b=N.orientation==="v")?(te="s",V="x"):(q="s",V="y"),v=N.stackgaps==="interpolate"):r(p,c,f,S,P,R,n(c,G));var $=!!c.xperiodalignment,K=!!c.yperiodalignment;for(g=0;g<G;g++){var Z=I[g]={},X=M(P[g]),ee=M(R[g]);X&&ee?(Z[q]=P[g],Z[te]=R[g],$&&(Z.orig_x=T[g],Z.xEnd=L.ends[g],Z.xStart=L.starts[g]),K&&(Z.orig_y=E[g],Z.yEnd=C.ends[g],Z.yStart=C.starts[g])):N&&(b?X:ee)?(Z[V]=b?P[g]:R[g],Z.gap=!0,v?(Z.s=y,B=!0):Z.s=0):Z[q]=Z[te]=y,H&&(Z.id=String(H[g]))}if(t(I,c),s(p,c),i(I,c),N){for(g=0;g<I.length;)I[g][V]===y?I.splice(g,1):g++;if(k.sort(I,function(ue,pe){return ue[V]-pe[V]||ue.i-pe.i}),B){for(g=0;g<I.length-1&&I[g].gap;)g++;for((m=I[g].s)||(m=I[g].s=0),h=0;h<g;h++)I[h].s=m;for(x=I.length-1;x>g&&I[x].gap;)x--;for(m=I[x].s,h=I.length-1;h>x;h--)I[h].s=m;for(;g<x;)if(I[++g].gap){for(h=g+1;I[h].gap;)h++;for(var ne=I[g-1][V],re=I[g-1].s,ae=(I[h].s-re)/(I[h][V]-ne);g<h;)I[g].s=re+(I[g][V]-ne)*ae,g++}}}return I},calcMarkerSize:n,calcAxisExpansion:r,setFirstScatter:l,getStackOpts:u}},66279:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){M.isArrayOrTypedArray(a.selectedpoints)&&M.tagSelected(k,a)}},36922:function(Y,O,e){var M=e(52075).hasColorscale,k=e(78803),a=e(34098);Y.exports=function(_,y){a.hasLines(y)&&M(y,"line")&&k(_,y,{vals:y.line.color,containerStr:"line",cLetter:"c"}),a.hasMarkers(y)&&(M(y,"marker")&&k(_,y,{vals:y.marker.color,containerStr:"marker",cLetter:"c"}),M(y,"marker.line")&&k(_,y,{vals:y.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(Y){Y.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(Y,O,e){var M=e(47761),k=e(11661).setGroupPositions;function a(_,y,d,s,t,i,r){t[s]=!0;var n={i:null,gap:!0,s:0};if(n[r]=d,_.splice(y,0,n),y&&d===_[y-1][r]){var l=_[y-1];n.s=l.s,n.i=l.i,n.gap=l.gap}else i&&(n.s=function(o,u,p,c){var b=o[u-1],g=o[u+1];return g?b?b.s+(g.s-b.s)*(p-b[c])/(g[c]-b[c]):g.s:b.s}(_,y,d,r));y||(_[0].t=_[1].t,_[0].trace=_[1].trace,delete _[1].t,delete _[1].trace)}Y.exports=function(_,y){_._fullLayout.scattermode==="group"&&function(V,q){for(var te=q.xaxis,$=q.yaxis,K=V._fullLayout,Z=V._fullData,X=V.calcdata,ee=[],ne=[],re=0;re<Z.length;re++){var ae=Z[re];ae.visible===!0&&ae.type==="scatter"&&ae.xaxis===te._id&&ae.yaxis===$._id&&(ae.orientation==="h"?ee.push(X[re]):ae.orientation==="v"&&ne.push(X[re]))}var ue={mode:K.scattermode,gap:K.scattergap};k(V,te,$,ne,ue),k(V,$,te,ee,ue)}(_,y);var d=y.xaxis,s=y.yaxis,t=d._id+s._id,i=_._fullLayout._scatterStackOpts[t];if(i){var r,n,l,o,u,p,c,b,g,h,x,v,m,w,f,S=_.calcdata;for(var T in i){var E=(h=i[T]).traceIndices;if(E.length){for(x=h.stackgaps==="interpolate",v=h.groupnorm,h.orientation==="v"?(m="x",w="y"):(m="y",w="x"),f=new Array(E.length),r=0;r<f.length;r++)f[r]=!1;p=S[E[0]];var L=new Array(p.length);for(r=0;r<p.length;r++)L[r]=p[r][m];for(r=1;r<E.length;r++){for(u=S[E[r]],n=l=0;n<u.length;n++){for(c=u[n][m];c>L[l]&&l<L.length;l++)a(u,n,L[l],r,f,x,m),n++;if(c!==L[l]){for(o=0;o<r;o++)a(S[E[o]],l,c,o,f,x,m);L.splice(l,0,c)}l++}for(;l<L.length;l++)a(u,n,L[l],r,f,x,m),n++}var C=L.length;for(n=0;n<p.length;n++){for(b=p[n][w]=p[n].s,r=1;r<E.length;r++)(u=S[E[r]])[0].trace._rawLength=u[0].trace._length,u[0].trace._length=C,b+=u[n].s,u[n][w]=b;if(v)for(g=(v==="fraction"?b:b/100)||1,r=0;r<E.length;r++){var P=S[E[r]][n];P[w]/=g,P.sNorm=P.s/g}}for(r=0;r<E.length;r++){var R=(u=S[E[r]])[0].trace,G=M.calcMarkerSize(R,R._rawLength),I=Array.isArray(G);if(G&&f[r]||I){var H=G;for(G=new Array(C),n=0;n<C;n++)G[n]=u[n].gap?0:I?H[u[n].i]:H}var N=new Array(C),B=new Array(C);for(n=0;n<C;n++)N[n]=u[n].x,B[n]=u[n].y;M.calcAxisExpansion(_,R,d,s,N,B,G),u[0].t.orientation=h.orientation}}}}}},34936:function(Y,O,e){var M=e(71828),k=e(26125),a=e(82196);Y.exports=function(_,y){var d,s,t;function i(u){return M.coerce(s._input,s,a,u)}if(y.scattermode==="group")for(t=0;t<_.length;t++)(s=_[t]).type==="scatter"&&(d=s._input,k(d,s,y,i));for(t=0;t<_.length;t++){var r=_[t];if(r.type==="scatter"){var n=r.fill;if(n!=="none"&&n!=="toself"&&(r.opacity=void 0,n==="tonexty"||n==="tonextx"))for(var l=t-1;l>=0;l--){var o=_[l];if(o.type==="scatter"&&o.xaxis===r.xaxis&&o.yaxis===r.yaxis){o.opacity=void 0;break}}}}}},17438:function(Y,O,e){var M=e(71828),k=e(73972),a=e(82196),_=e(47581),y=e(34098),d=e(67513),s=e(73927),t=e(565),i=e(49508),r=e(11058),n=e(94039),l=e(82410),o=e(28908),u=e(71828).coercePattern;Y.exports=function(p,c,b,g){function h(E,L){return M.coerce(p,c,a,E,L)}var x=d(p,c,g,h);if(x||(c.visible=!1),c.visible){s(p,c,g,h),h("xhoverformat"),h("yhoverformat");var v=t(p,c,g,h);g.scattermode==="group"&&c.orientation===void 0&&h("orientation","v");var m=!v&&x<_.PTS_LINESONLY?"lines+markers":"lines";h("text"),h("hovertext"),h("mode",m),y.hasLines(c)&&(r(p,c,b,g,h,{backoff:!0}),n(p,c,h),h("connectgaps"),h("line.simplify")),y.hasMarkers(c)&&i(p,c,b,g,h,{gradient:!0}),y.hasText(c)&&(h("texttemplate"),l(p,c,g,h));var w=[];(y.hasMarkers(c)||y.hasText(c))&&(h("cliponaxis"),h("marker.maxdisplayed"),w.push("points")),h("fill",v?v.fillDflt:"none"),c.fill!=="none"&&(o(p,c,b,h),y.hasLines(c)||n(p,c,h),u(h,"fillpattern",c.fillcolor,!1));var f=(c.line||{}).color,S=(c.marker||{}).color;c.fill!=="tonext"&&c.fill!=="toself"||w.push("fills"),h("hoveron",w.join("+")||"points"),c.hoveron!=="fills"&&h("hovertemplate");var T=k.getComponentMethod("errorbars","supplyDefaults");T(p,c,f||S||b,{axis:"y"}),T(p,c,f||S||b,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(c,h)}}},28908:function(Y,O,e){var M=e(7901),k=e(71828).isArrayOrTypedArray;Y.exports=function(a,_,y,d){var s=!1;if(_.marker){var t=_.marker.color,i=(_.marker.line||{}).color;t&&!k(t)?s=t:i&&!k(i)&&(s=i)}d("fillcolor",M.addOpacity((_.line||{}).color||s||y,.5))}},8225:function(Y,O,e){var M=e(89298);Y.exports=function(k,a,_){var y={},d={_fullLayout:_},s=M.getFromTrace(d,a,"x"),t=M.getFromTrace(d,a,"y"),i=k.orig_x;i===void 0&&(i=k.x);var r=k.orig_y;return r===void 0&&(r=k.y),y.xLabel=M.tickText(s,s.c2l(i),!0).text,y.yLabel=M.tickText(t,t.c2l(r),!0).text,y}},34603:function(Y,O,e){var M=e(7901),k=e(34098);Y.exports=function(a,_){var y,d;if(a.mode==="lines")return(y=a.line.color)&&M.opacity(y)?y:a.fillcolor;if(a.mode==="none")return a.fill?a.fillcolor:"";var s=_.mcc||(a.marker||{}).color,t=_.mlcc||((a.marker||{}).line||{}).color;return(d=s&&M.opacity(s)?s:t&&M.opacity(t)&&(_.mlw||((a.marker||{}).line||{}).width)?t:"")?M.opacity(d)<.3?M.addOpacity(d,.3):d:(y=(a.line||{}).color)&&M.opacity(y)&&k.hasLines(a)&&a.line.width?y:a.fillcolor}},26125:function(Y,O,e){var M=e(99082).getAxisGroup;Y.exports=function(k,a,_,y){var d=a.orientation,s=a[{v:"x",h:"y"}[d]+"axis"],t=M(_,s)+d,i=_._alignmentOpts||{},r=y("alignmentgroup"),n=i[t];n||(n=i[t]={});var l=n[r];l?l.traces.push(a):l=n[r]={traces:[a],alignmentIndex:Object.keys(n).length,offsetGroups:{}};var o=y("offsetgroup"),u=l.offsetGroups,p=u[o];o&&(p||(p=u[o]={offsetIndex:Object.keys(u).length}),a._offsetIndex=p.offsetIndex)}},33720:function(Y,O,e){var M=e(71828),k=e(30211),a=e(73972),_=e(34603),y=e(7901),d=M.fillText;Y.exports=function(s,t,i,r){var n=s.cd,l=n[0].trace,o=s.xa,u=s.ya,p=o.c2p(t),c=u.c2p(i),b=[p,c],g=l.hoveron||"",h=l.mode.indexOf("markers")!==-1?3:.5,x=!!l.xperiodalignment,v=!!l.yperiodalignment;if(g.indexOf("points")!==-1){var m=function(ge){var we=Math.max(h,ge.mrc||0),me=o.c2p(ge.x)-p,ve=u.c2p(ge.y)-c;return Math.max(Math.sqrt(me*me+ve*ve)-we,1-h/we)},w=k.getDistanceFunction(r,function(ge){if(x){var we=o.c2p(ge.xStart),me=o.c2p(ge.xEnd);return p>=Math.min(we,me)&&p<=Math.max(we,me)?0:1/0}var ve=Math.max(3,ge.mrc||0),Ie=1-1/ve,Se=Math.abs(o.c2p(ge.x)-p);return Se<ve?Ie*Se/ve:Se-ve+Ie},function(ge){if(v){var we=u.c2p(ge.yStart),me=u.c2p(ge.yEnd);return c>=Math.min(we,me)&&c<=Math.max(we,me)?0:1/0}var ve=Math.max(3,ge.mrc||0),Ie=1-1/ve,Se=Math.abs(u.c2p(ge.y)-c);return Se<ve?Ie*Se/ve:Se-ve+Ie},m);if(k.getClosest(n,w,s),s.index!==!1){var f=n[s.index],S=o.c2p(f.x,!0),T=u.c2p(f.y,!0),E=f.mrc||1;s.index=f.i;var L=n[0].t.orientation,C=L&&(f.sNorm||f.s),P=L==="h"?C:f.orig_x!==void 0?f.orig_x:f.x,R=L==="v"?C:f.orig_y!==void 0?f.orig_y:f.y;return M.extendFlat(s,{color:_(l,f),x0:S-E,x1:S+E,xLabelVal:P,y0:T-E,y1:T+E,yLabelVal:R,spikeDistance:m(f),hovertemplate:l.hovertemplate}),d(f,l,s),a.getComponentMethod("errorbars","hoverInfo")(f,l,s),[s]}}if(g.indexOf("fills")!==-1&&l._polygons){var G,I,H,N,B,V,q,te,$,K=l._polygons,Z=[],X=!1,ee=1/0,ne=-1/0,re=1/0,ae=-1/0;for(G=0;G<K.length;G++)(H=K[G]).contains(b)&&(X=!X,Z.push(H),re=Math.min(re,H.ymin),ae=Math.max(ae,H.ymax));if(X){var ue=((re=Math.max(re,0))+(ae=Math.min(ae,u._length)))/2;for(G=0;G<Z.length;G++)for(N=Z[G].pts,I=1;I<N.length;I++)(te=N[I-1][1])>ue!=($=N[I][1])>=ue&&(V=N[I-1][0],q=N[I][0],$-te&&(B=V+(q-V)*(ue-te)/($-te),ee=Math.min(ee,B),ne=Math.max(ne,B)));ee=Math.max(ee,0),ne=Math.min(ne,o._length);var pe=y.defaultLine;return y.opacity(l.fillcolor)?pe=l.fillcolor:y.opacity((l.line||{}).color)&&(pe=l.line.color),M.extendFlat(s,{distance:s.maxHoverDistance,x0:ee,x1:ne,y0:ue,y1:ue,color:pe,hovertemplate:!1}),delete s.index,l.text&&!Array.isArray(l.text)?s.text=String(l.text):s.text=l.name,[s]}}}},67368:function(Y,O,e){var M=e(34098);Y.exports={hasLines:M.hasLines,hasMarkers:M.hasMarkers,hasText:M.hasText,isBubble:M.isBubble,attributes:e(82196),layoutAttributes:e(21479),supplyDefaults:e(17438),crossTraceDefaults:e(34936),supplyLayoutDefaults:e(79334),calc:e(47761).calc,crossTraceCalc:e(72626),arraysToCalcdata:e(75225),plot:e(32663),colorbar:e(4898),formatLabels:e(8225),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(33720),selectPoints:e(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:e(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(Y){Y.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(Y,O,e){var M=e(71828),k=e(21479);Y.exports=function(a,_){var y,d=_.barmode==="group";_.scattermode==="group"&&(y=d?_.bargap:.2,M.coerce(a,_,k,"scattergap",y))}},11058:function(Y,O,e){var M=e(71828).isArrayOrTypedArray,k=e(52075).hasColorscale,a=e(1586);Y.exports=function(_,y,d,s,t,i){i||(i={});var r=(_.marker||{}).color;t("line.color",d),k(_,"line")?a(_,y,s,t,{prefix:"line.",cLetter:"c"}):t("line.color",!M(r)&&r||d),t("line.width"),i.noDash||t("line.dash"),i.backoff&&t("line.backoff")}},34621:function(Y,O,e){var M=e(91424),k=e(50606),a=k.BADNUM,_=k.LOG_CLIP,y=_+.5,d=_-.5,s=e(71828),t=s.segmentsIntersect,i=s.constrain,r=e(47581);Y.exports=function(n,l){var o,u,p,c,b,g,h,x,v,m,w,f,S,T,E,L,C,P,R=l.trace||{},G=l.xaxis,I=l.yaxis,H=G.type==="log",N=I.type==="log",B=G._length,V=I._length,q=l.backoff,te=R.marker,$=l.connectGaps,K=l.baseTolerance,Z=l.shape,X=Z==="linear",ee=R.fill&&R.fill!=="none",ne=[],re=r.minTolerance,ae=n.length,ue=new Array(ae),pe=0;function ge(Lt){var Je=n[Lt];if(!Je)return!1;var Qe=l.linearized?G.l2p(Je.x):G.c2p(Je.x),qe=l.linearized?I.l2p(Je.y):I.c2p(Je.y);if(Qe===a){if(H&&(Qe=G.c2p(Je.x,!0)),Qe===a)return!1;N&&qe===a&&(Qe*=Math.abs(G._m*V*(G._m>0?y:d)/(I._m*B*(I._m>0?y:d)))),Qe*=1e3}if(qe===a){if(N&&(qe=I.c2p(Je.y,!0)),qe===a)return!1;qe*=1e3}return[Qe,qe]}function we(Lt,Je,Qe,qe){var $e=Qe-Lt,ct=qe-Je,at=.5-Lt,Re=.5-Je,je=$e*$e+ct*ct,st=$e*at+ct*Re;if(st>0&&st<je){var ot=at*ct-Re*$e;if(ot*ot<je)return!0}}function me(Lt,Je){var Qe=Lt[0]/B,qe=Lt[1]/V,$e=Math.max(0,-Qe,Qe-1,-qe,qe-1);return $e&&C!==void 0&&we(Qe,qe,C,P)&&($e=0),$e&&Je&&we(Qe,qe,Je[0]/B,Je[1]/V)&&($e=0),(1+r.toleranceGrowth*$e)*K}function ve(Lt,Je){var Qe=Lt[0]-Je[0],qe=Lt[1]-Je[1];return Math.sqrt(Qe*Qe+qe*qe)}var Ie,Se,ke,se,oe,he,Le,Me=r.maxScreensAway,_e=-B*Me,De=B*(1+Me),Ne=-V*Me,ce=V*(1+Me),Te=[[_e,Ne,De,Ne],[De,Ne,De,ce],[De,ce,_e,ce],[_e,ce,_e,Ne]];function ye(Lt){if(Lt[0]<_e||Lt[0]>De||Lt[1]<Ne||Lt[1]>ce)return[i(Lt[0],_e,De),i(Lt[1],Ne,ce)]}function Oe(Lt,Je){return Lt[0]===Je[0]&&(Lt[0]===_e||Lt[0]===De)||Lt[1]===Je[1]&&(Lt[1]===Ne||Lt[1]===ce)||void 0}function Be(Lt,Je,Qe){return function(qe,$e){var ct=ye(qe),at=ye($e),Re=[];if(ct&&at&&Oe(ct,at))return Re;ct&&Re.push(ct),at&&Re.push(at);var je=2*s.constrain((qe[Lt]+$e[Lt])/2,Je,Qe)-((ct||qe)[Lt]+(at||$e)[Lt]);return je&&((ct&&at?je>0==ct[Lt]>at[Lt]?ct:at:ct||at)[Lt]+=je),Re}}function Fe(Lt){var Je=Lt[0],Qe=Lt[1],qe=Je===ue[pe-1][0],$e=Qe===ue[pe-1][1];if(!qe||!$e)if(pe>1){var ct=Je===ue[pe-2][0],at=Qe===ue[pe-2][1];qe&&(Je===_e||Je===De)&&ct?at?pe--:ue[pe-1]=Lt:$e&&(Qe===Ne||Qe===ce)&&at?ct?pe--:ue[pe-1]=Lt:ue[pe++]=Lt}else ue[pe++]=Lt}function Ge(Lt){ue[pe-1][0]!==Lt[0]&&ue[pe-1][1]!==Lt[1]&&Fe([ke,se]),Fe(Lt),oe=null,ke=se=0}Z==="linear"||Z==="spline"?Le=function(Lt,Je){for(var Qe=[],qe=0,$e=0;$e<4;$e++){var ct=Te[$e],at=t(Lt[0],Lt[1],Je[0],Je[1],ct[0],ct[1],ct[2],ct[3]);at&&(!qe||Math.abs(at.x-Qe[0][0])>1||Math.abs(at.y-Qe[0][1])>1)&&(at=[at.x,at.y],qe&&ve(at,Lt)<ve(Qe[0],Lt)?Qe.unshift(at):Qe.push(at),qe++)}return Qe}:Z==="hv"||Z==="vh"?Le=function(Lt,Je){var Qe=[],qe=ye(Lt),$e=ye(Je);return qe&&$e&&Oe(qe,$e)||(qe&&Qe.push(qe),$e&&Qe.push($e)),Qe}:Z==="hvh"?Le=Be(0,_e,De):Z==="vhv"&&(Le=Be(1,Ne,ce));var Ze=s.isArrayOrTypedArray(te);function et(Lt){if(Lt&&q&&(Lt.i=o,Lt.d=n,Lt.trace=R,Lt.marker=Ze?te[Lt.i]:te,Lt.backoff=q),C=Lt[0]/B,P=Lt[1]/V,Ie=Lt[0]<_e?_e:Lt[0]>De?De:0,Se=Lt[1]<Ne?Ne:Lt[1]>ce?ce:0,Ie||Se){if(pe)if(oe){var Je=Le(oe,Lt);Je.length>1&&(Ge(Je[0]),ue[pe++]=Je[1])}else he=Le(ue[pe-1],Lt)[0],ue[pe++]=he;else ue[pe++]=[Ie||Lt[0],Se||Lt[1]];var Qe=ue[pe-1];Ie&&Se&&(Qe[0]!==Ie||Qe[1]!==Se)?(oe&&(ke!==Ie&&se!==Se?Fe(ke&&se?(qe=oe,ct=($e=Lt)[0]-qe[0],at=($e[1]-qe[1])/ct,(qe[1]*$e[0]-$e[1]*qe[0])/ct>0?[at>0?_e:De,ce]:[at>0?De:_e,Ne]):[ke||Ie,se||Se]):ke&&se&&Fe([ke,se])),Fe([Ie,Se])):ke-Ie&&se-Se&&Fe([Ie||ke,Se||se]),oe=Lt,ke=Ie,se=Se}else oe&&Ge(Le(oe,Lt)[0]),ue[pe++]=Lt;var qe,$e,ct,at}for(o=0;o<ae;o++)if(u=ge(o)){for(pe=0,oe=null,et(u),o++;o<ae;o++){if(!(c=ge(o))){if($)continue;break}if(X&&l.simplify){var ft=ge(o+1);if(m=ve(c,u),ee&&(pe===0||pe===ae-1)||!(m<me(c,ft)*re)){for(x=[(c[0]-u[0])/m,(c[1]-u[1])/m],b=u,w=m,f=T=E=0,h=!1,p=c,o++;o<n.length;o++){if(g=ft,ft=ge(o+1),!g){if($)continue;break}if(L=(v=[g[0]-u[0],g[1]-u[1]])[0]*x[1]-v[1]*x[0],T=Math.min(T,L),(E=Math.max(E,L))-T>me(g,ft))break;p=g,(S=v[0]*x[0]+v[1]*x[1])>w?(w=S,c=g,h=!1):S<f&&(f=S,b=g,h=!0)}if(h?(et(c),p!==b&&et(b)):(b!==u&&et(b),p!==c&&et(c)),et(p),o>=n.length||!g)break;et(g),u=g}}else et(c)}oe&&Fe([ke||oe[0],se||oe[1]]),ne.push(ue.slice(0,pe))}var rt=Z.slice(Z.length-1);if(q&&rt!=="h"&&rt!=="v"){for(var _t=!1,kt=-1,wt=[],lt=0;lt<ne.length;lt++)for(var ut=0;ut<ne[lt].length-1;ut++){var Et=ne[lt][ut],Ot=ne[lt][ut+1],zt=M.applyBackoff(Ot,Et);zt[0]===Ot[0]&&zt[1]===Ot[1]||(_t=!0),wt[kt+1]||(wt[++kt]=[Et,[zt[0],zt[1]]])}return _t?wt:ne}return ne}},94039:function(Y){Y.exports=function(O,e,M){M("line.shape")==="spline"&&M("line.smoothing")}},68687:function(Y){var O={tonextx:1,tonexty:1,tonext:1};Y.exports=function(e,M,k){var a,_,y,d,s,t={},i=!1,r=-1,n=0,l=-1;for(_=0;_<k.length;_++)(y=(a=k[_][0].trace).stackgroup||"")?y in t?s=t[y]:(s=t[y]=n,n++):a.fill in O&&l>=0?s=l:(s=l=n,n++),s<r&&(i=!0),a._groupIndex=r=s;var o=k.slice();i&&o.sort(function(p,c){var b=p[0].trace,g=c[0].trace;return b._groupIndex-g._groupIndex||b.index-g.index});var u={};for(_=0;_<o.length;_++)y=(a=o[_][0].trace).stackgroup||"",a.visible===!0?(a._nexttrace=null,a.fill in O&&(d=u[y],a._prevtrace=d||null,d&&(d._nexttrace=a)),a._ownfill=a.fill&&(a.fill.substr(0,6)==="tozero"||a.fill==="toself"||a.fill.substr(0,2)==="to"&&!a._prevtrace),u[y]=a):a._prevtrace=a._nexttrace=a._ownfill=null;return o}},39984:function(Y,O,e){var M=e(92770);Y.exports=function(k,a){a||(a=2);var _=k.marker,y=_.sizeref||1,d=_.sizemin||0,s=_.sizemode==="area"?function(t){return Math.sqrt(t/y)}:function(t){return t/y};return function(t){var i=s(t/a);return M(i)&&i>0?Math.max(i,d):0}}},4898:function(Y){Y.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(Y,O,e){var M=e(7901),k=e(52075).hasColorscale,a=e(1586),_=e(34098);Y.exports=function(y,d,s,t,i,r){var n=_.isBubble(y),l=(y.line||{}).color;r=r||{},l&&(s=l),i("marker.symbol"),i("marker.opacity",n?.7:1),i("marker.size"),r.noAngle||(i("marker.angle"),r.noAngleRef||i("marker.angleref"),r.noStandOff||i("marker.standoff")),i("marker.color",s),k(y,"marker")&&a(y,d,t,i,{prefix:"marker.",cLetter:"c"}),r.noSelect||(i("selected.marker.color"),i("unselected.marker.color"),i("selected.marker.size"),i("unselected.marker.size")),r.noLine||(i("marker.line.color",l&&!Array.isArray(l)&&d.marker.color!==l?l:n?M.background:M.defaultLine),k(y,"marker.line")&&a(y,d,t,i,{prefix:"marker.line.",cLetter:"c"}),i("marker.line.width",n?1:0)),n&&(i("marker.sizeref"),i("marker.sizemin"),i("marker.sizemode")),r.gradient&&i("marker.gradient.type")!=="none"&&i("marker.gradient.color")}},73927:function(Y,O,e){var M=e(71828).dateTick0,k=e(50606).ONEWEEK;function a(_,y){return M(y,_%k==0?1:0)}Y.exports=function(_,y,d,s,t){if(t||(t={x:!0,y:!0}),t.x){var i=s("xperiod");i&&(s("xperiod0",a(i,y.xcalendar)),s("xperiodalignment"))}if(t.y){var r=s("yperiod");r&&(s("yperiod0",a(r,y.ycalendar)),s("yperiodalignment"))}}},32663:function(Y,O,e){var M=e(39898),k=e(73972),a=e(71828),_=a.ensureSingle,y=a.identity,d=e(91424),s=e(34098),t=e(34621),i=e(68687),r=e(61082).tester;function n(l,o,u,p,c,b,g){var h,x=l._context.staticPlot;(function(Le,Me,_e,De,Ne){var ce=_e.xaxis,Te=_e.yaxis,ye=M.extent(a.simpleMap(ce.range,ce.r2c)),Oe=M.extent(a.simpleMap(Te.range,Te.r2c)),Be=De[0].trace;if(s.hasMarkers(Be)){var Fe=Be.marker.maxdisplayed;if(Fe!==0){var Ge=De.filter(function(rt){return rt.x>=ye[0]&&rt.x<=ye[1]&&rt.y>=Oe[0]&&rt.y<=Oe[1]}),Ze=Math.ceil(Ge.length/Fe),et=0;Ne.forEach(function(rt,_t){var kt=rt[0].trace;s.hasMarkers(kt)&&kt.marker.maxdisplayed>0&&_t<Me&&et++});var ft=Math.round(et*Ze/3+Math.floor(et/3)*Ze/7.1);De.forEach(function(rt){delete rt.vis}),Ge.forEach(function(rt,_t){Math.round((_t+ft)%Ze)===0&&(rt.vis=!0)})}}})(0,o,u,p,c);var v=!!g&&g.duration>0;function m(Le){return v?Le.transition():Le}var w=u.xaxis,f=u.yaxis,S=p[0].trace,T=S.line,E=M.select(b),L=_(E,"g","errorbars"),C=_(E,"g","lines"),P=_(E,"g","points"),R=_(E,"g","text");if(k.getComponentMethod("errorbars","plot")(l,L,u,g),S.visible===!0){var G,I;m(E).style("opacity",S.opacity);var H=S.fill.charAt(S.fill.length-1);H!=="x"&&H!=="y"&&(H=""),p[0][u.isRangePlot?"nodeRangePlot3":"node3"]=E;var N,B,V="",q=[],te=S._prevtrace;te&&(V=te._prevRevpath||"",I=te._nextFill,q=te._polygons);var $,K,Z,X,ee,ne,re,ae="",ue="",pe=[],ge=a.noop;if(G=S._ownFill,s.hasLines(S)||S.fill!=="none"){for(I&&I.datum(p),["hv","vh","hvh","vhv"].indexOf(T.shape)!==-1?($=d.steps(T.shape),K=d.steps(T.shape.split("").reverse().join(""))):$=K=T.shape==="spline"?function(Le){var Me=Le[Le.length-1];return Le.length>1&&Le[0][0]===Me[0]&&Le[0][1]===Me[1]?d.smoothclosed(Le.slice(1),T.smoothing):d.smoothopen(Le,T.smoothing)}:function(Le){return"M"+Le.join("L")},Z=function(Le){return K(Le.reverse())},pe=t(p,{xaxis:w,yaxis:f,trace:S,connectGaps:S.connectgaps,baseTolerance:Math.max(T.width||1,3)/4,shape:T.shape,backoff:T.backoff,simplify:T.simplify,fill:S.fill}),re=S._polygons=new Array(pe.length),h=0;h<pe.length;h++)S._polygons[h]=r(pe[h]);pe.length&&(X=pe[0][0],ne=(ee=pe[pe.length-1])[ee.length-1]),ge=function(Le){return function(Me){if(N=$(Me),B=Z(Me),ae?H?(ae+="L"+N.substr(1),ue=B+"L"+ue.substr(1)):(ae+="Z"+N,ue=B+"Z"+ue):(ae=N,ue=B),s.hasLines(S)){var _e=M.select(this);if(_e.datum(p),Le)m(_e.style("opacity",0).attr("d",N).call(d.lineGroupStyle)).style("opacity",1);else{var De=m(_e);De.attr("d",N),d.singleLineStyle(p,De)}}}}}var we=C.selectAll(".js-line").data(pe);m(we.exit()).style("opacity",0).remove(),we.each(ge(!1)),we.enter().append("path").classed("js-line",!0).style("vector-effect",x?"none":"non-scaling-stroke").call(d.lineGroupStyle).each(ge(!0)),d.setClipUrl(we,u.layerClipId,l),pe.length?(G?(G.datum(p),X&&ne&&(H?(H==="y"?X[1]=ne[1]=f.c2p(0,!0):H==="x"&&(X[0]=ne[0]=w.c2p(0,!0)),m(G).attr("d","M"+ne+"L"+X+"L"+ae.substr(1)).call(d.singleFillStyle,l)):m(G).attr("d",ae+"Z").call(d.singleFillStyle,l))):I&&(S.fill.substr(0,6)==="tonext"&&ae&&V?(S.fill==="tonext"?m(I).attr("d",ae+"Z"+V+"Z").call(d.singleFillStyle,l):m(I).attr("d",ae+"L"+V.substr(1)+"Z").call(d.singleFillStyle,l),S._polygons=S._polygons.concat(q)):(ve(I),S._polygons=null)),S._prevRevpath=ue,S._prevPolygons=re):(G?ve(G):I&&ve(I),S._polygons=S._prevRevpath=S._prevPolygons=null),P.datum(p),R.datum(p),function(Le,Me,_e){var De,Ne=_e[0].trace,ce=s.hasMarkers(Ne),Te=s.hasText(Ne),ye=oe(Ne),Oe=he,Be=he;if(ce||Te){var Fe=y,Ge=Ne.stackgroup,Ze=Ge&&l._fullLayout._scatterStackOpts[w._id+f._id][Ge].stackgaps==="infer zero";Ne.marker.maxdisplayed||Ne._needsCull?Fe=Ze?Se:Ie:Ge&&!Ze&&(Fe=ke),ce&&(Oe=Fe),Te&&(Be=Fe)}var et,ft=(De=Le.selectAll("path.point").data(Oe,ye)).enter().append("path").classed("point",!0);v&&ft.call(d.pointStyle,Ne,l).call(d.translatePoints,w,f).style("opacity",0).transition().style("opacity",1),De.order(),ce&&(et=d.makePointStyleFns(Ne)),De.each(function(rt){var _t=M.select(this),kt=m(_t);d.translatePoint(rt,kt,w,f)?(d.singlePointStyle(rt,kt,Ne,et,l),u.layerClipId&&d.hideOutsideRangePoint(rt,kt,w,f,Ne.xcalendar,Ne.ycalendar),Ne.customdata&&_t.classed("plotly-customdata",rt.data!==null&&rt.data!==void 0)):kt.remove()}),v?De.exit().transition().style("opacity",0).remove():De.exit().remove(),(De=Me.selectAll("g").data(Be,ye)).enter().append("g").classed("textpoint",!0).append("text"),De.order(),De.each(function(rt){var _t=M.select(this),kt=m(_t.select("text"));d.translatePoint(rt,kt,w,f)?u.layerClipId&&d.hideOutsideRangePoint(rt,_t,w,f,Ne.xcalendar,Ne.ycalendar):_t.remove()}),De.selectAll("text").call(d.textPointStyle,Ne,l).each(function(rt){var _t=w.c2p(rt.x),kt=f.c2p(rt.y);M.select(this).selectAll("tspan.line").each(function(){m(M.select(this)).attr({x:_t,y:kt})})}),De.exit().remove()}(P,R,p);var me=S.cliponaxis===!1?null:u.layerClipId;d.setClipUrl(P,me,l),d.setClipUrl(R,me,l)}function ve(Le){m(Le).attr("d","M0,0Z")}function Ie(Le){return Le.filter(function(Me){return!Me.gap&&Me.vis})}function Se(Le){return Le.filter(function(Me){return Me.vis})}function ke(Le){return Le.filter(function(Me){return!Me.gap})}function se(Le){return Le.id}function oe(Le){if(Le.ids)return se}function he(){return!1}}Y.exports=function(l,o,u,p,c,b){var g,h,x=!c,v=!!c&&c.duration>0,m=i(l,o,u);(g=p.selectAll("g.trace").data(m,function(w){return w[0].trace.uid})).enter().append("g").attr("class",function(w){return"trace scatter trace"+w[0].trace.uid}).style("stroke-miterlimit",2),g.order(),function(w,f,S){f.each(function(T){var E=_(M.select(this),"g","fills");d.setClipUrl(E,S.layerClipId,w);var L=T[0].trace,C=[];L._ownfill&&C.push("_ownFill"),L._nexttrace&&C.push("_nextFill");var P=E.selectAll("g").data(C,y);P.enter().append("g"),P.exit().each(function(R){L[R]=null}).remove(),P.order().each(function(R){L[R]=_(M.select(this),"path","js-fill")})})}(l,g,o),v?(b&&(h=b()),M.transition().duration(c.duration).ease(c.easing).each("end",function(){h&&h()}).each("interrupt",function(){h&&h()}).each(function(){p.selectAll("g.trace").each(function(w,f){n(l,f,o,w,m,this,c)})})):g.each(function(w,f){n(l,f,o,w,m,this,c)}),x&&g.exit().remove(),p.selectAll("path:not([d])").remove()}},98002:function(Y,O,e){var M=e(34098);Y.exports=function(k,a){var _,y,d,s,t=k.cd,i=k.xaxis,r=k.yaxis,n=[],l=t[0].trace;if(!M.hasMarkers(l)&&!M.hasText(l))return[];if(a===!1)for(_=0;_<t.length;_++)t[_].selected=0;else for(_=0;_<t.length;_++)y=t[_],d=i.c2p(y.x),s=r.c2p(y.y),y.i!==null&&a.contains([d,s],!1,_,k)?(n.push({pointNumber:y.i,x:i.c2d(y.x),y:r.c2d(y.y)}),y.selected=1):y.selected=0;return n}},565:function(Y){var O=["orientation","groupnorm","stackgaps"];Y.exports=function(e,M,k,a){var _=k._scatterStackOpts,y=a("stackgroup");if(y){var d=M.xaxis+M.yaxis,s=_[d];s||(s=_[d]={});var t=s[y],i=!1;t?t.traces.push(M):(t=s[y]={traceIndices:[],traces:[M]},i=!0);for(var r={orientation:M.x&&!M.y?"h":"v"},n=0;n<O.length;n++){var l=O[n],o=l+"Found";if(!t[o]){var u=e[l]!==void 0,p=l==="orientation";if((u||i)&&(t[l]=a(l,r[l]),p&&(t.fillDflt=t[l]==="h"?"tonextx":"tonexty"),u&&(t[o]=!0,!i&&(delete t.traces[0][l],p))))for(var c=0;c<t.traces.length-1;c++){var b=t.traces[c];b._input.fill!==b.fill&&(b.fill=t.fillDflt)}}}return t}}},16296:function(Y,O,e){var M=e(39898),k=e(91424),a=e(73972);function _(d,s,t){k.pointStyle(d.selectAll("path.point"),s,t)}function y(d,s,t){k.textPointStyle(d.selectAll("text"),s,t)}Y.exports={style:function(d){var s=M.select(d).selectAll("g.trace.scatter");s.style("opacity",function(t){return t[0].trace.opacity}),s.selectAll("g.points").each(function(t){_(M.select(this),t.trace||t[0].trace,d)}),s.selectAll("g.text").each(function(t){y(M.select(this),t.trace||t[0].trace,d)}),s.selectAll("g.trace path.js-line").call(k.lineGroupStyle),s.selectAll("g.trace path.js-fill").call(k.fillGroupStyle,d),a.getComponentMethod("errorbars","style")(s)},stylePoints:_,styleText:y,styleOnSelect:function(d,s,t){var i=s[0].trace;i.selectedpoints?(k.selectedPointStyle(t.selectAll("path.point"),i),k.selectedTextStyle(t.selectAll("text"),i)):(_(t,i,d),y(t,i,d))}}},34098:function(Y,O,e){var M=e(71828);Y.exports={hasLines:function(k){return k.visible&&k.mode&&k.mode.indexOf("lines")!==-1},hasMarkers:function(k){return k.visible&&(k.mode&&k.mode.indexOf("markers")!==-1||k.type==="splom")},hasText:function(k){return k.visible&&k.mode&&k.mode.indexOf("text")!==-1},isBubble:function(k){return M.isPlainObject(k.marker)&&M.isArrayOrTypedArray(k.marker.size)}}},82410:function(Y,O,e){var M=e(71828);Y.exports=function(k,a,_,y,d){d=d||{},y("textposition"),M.coerceFont(y,"textfont",d.font||_.font),d.noSelect||(y("selected.textfont.color"),y("unselected.textfont.color"))}},67513:function(Y,O,e){var M=e(71828),k=e(73972);Y.exports=function(a,_,y,d){var s,t=d("x"),i=d("y");if(k.getComponentMethod("calendars","handleTraceDefaults")(a,_,["x","y"],y),t){var r=M.minRowLength(t);i?s=Math.min(r,M.minRowLength(i)):(s=r,d("y0"),d("dy"))}else{if(!i)return 0;s=M.minRowLength(i),d("x0"),d("dx")}return _._length=s,s}},44542:function(Y,O,e){var M=e(82196),k=e(50693),a=e(12663).axisHoverFormat,_=e(5386).fF,y=e(5386).si,d=e(9012),s=e(29659),t=e(87381),i=e(1426).extendFlat,r=e(30962).overrideAll,n=e(78607),l=M.line,o=M.marker,u=o.line,p=i({width:l.width,dash:{valType:"enumerated",values:n(s),dflt:"solid"}},k("line")),c=Y.exports=r({x:M.x,y:M.y,z:{valType:"data_array"},text:i({},M.text,{}),texttemplate:y({},{}),hovertext:i({},M.hovertext,{}),hovertemplate:_(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),mode:i({},M.mode,{dflt:"lines+markers"}),surfaceaxis:{valType:"enumerated",values:[-1,0,1,2],dflt:-1},surfacecolor:{valType:"color"},projection:{x:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},y:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}},z:{show:{valType:"boolean",dflt:!1},opacity:{valType:"number",min:0,max:1,dflt:1},scale:{valType:"number",min:0,max:10,dflt:2/3}}},connectgaps:M.connectgaps,line:p,marker:i({symbol:{valType:"enumerated",values:n(t),dflt:"circle",arrayOk:!0},size:i({},o.size,{dflt:8}),sizeref:o.sizeref,sizemin:o.sizemin,sizemode:o.sizemode,opacity:i({},o.opacity,{arrayOk:!1}),colorbar:o.colorbar,line:i({width:i({},u.width,{arrayOk:!1})},k("marker.line"))},k("marker")),textposition:i({},M.textposition,{dflt:"top center"}),textfont:{color:M.textfont.color,size:M.textfont.size,family:i({},M.textfont.family,{arrayOk:!1})},opacity:d.opacity,hoverinfo:i({},d.hoverinfo)},"calc","nested");c.x.editType=c.y.editType=c.z.editType="calc+clearAxisTypes"},36563:function(Y,O,e){var M=e(75225),k=e(36922);Y.exports=function(a,_){var y=[{x:!1,y:!1,trace:_,t:{}}];return M(y,_),k(a,_),y}},67336:function(Y,O,e){var M=e(73972);function k(a,_,y,d){if(!_||!_.visible)return null;for(var s=M.getComponentMethod("errorbars","makeComputeError")(_),t=new Array(a.length),i=0;i<a.length;i++){var r=s(+a[i],i);if(d.type==="log"){var n=d.c2l(a[i]),l=a[i]-r[0],o=a[i]+r[1];if(t[i]=[(d.c2l(l,!0)-n)*y,(d.c2l(o,!0)-n)*y],l>0){var u=d.c2l(l);d._lowerLogErrorBound||(d._lowerLogErrorBound=u),d._lowerErrorBound=Math.min(d._lowerLogErrorBound,u)}}else t[i]=[-r[0]*y,r[1]*y]}return t}Y.exports=function(a,_,y){var d=[k(a.x,a.error_x,_[0],y.xaxis),k(a.y,a.error_y,_[1],y.yaxis),k(a.z,a.error_z,_[2],y.zaxis)],s=function(o){for(var u=0;u<o.length;u++)if(o[u])return o[u].length;return 0}(d);if(s===0)return null;for(var t=new Array(s),i=0;i<s;i++){for(var r=[[0,0,0],[0,0,0]],n=0;n<3;n++)if(d[n])for(var l=0;l<2;l++)r[l][n]=d[n][i][l];t[i]=r}return t}},58925:function(Y,O,e){var M=e(9330).gl_line3d,k=e(9330).gl_scatter3d,a=e(9330).gl_error3d,_=e(9330).gl_mesh3d,y=e(9330).delaunay_triangulate,d=e(71828),s=e(78614),t=e(81697).formatColor,i=e(39984),r=e(29659),n=e(87381),l=e(89298),o=e(23469).appendArrayPointValue,u=e(67336);function p(f,S){this.scene=f,this.uid=S,this.linePlot=null,this.scatterPlot=null,this.errorBars=null,this.textMarkers=null,this.delaunayMesh=null,this.color=null,this.mode="",this.dataPoints=[],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.textLabels=null,this.data=null}var c=p.prototype;function b(f){return f==null?0:f.indexOf("left")>-1?-1:f.indexOf("right")>-1?1:0}function g(f){return f==null?0:f.indexOf("top")>-1?-1:f.indexOf("bottom")>-1?1:0}function h(f,S){return S(4*f)}function x(f){return n[f]}function v(f,S,T,E,L){var C=null;if(d.isArrayOrTypedArray(f)){C=[];for(var P=0;P<S;P++)f[P]===void 0?C[P]=E:C[P]=T(f[P],L)}else C=T(f,d.identity);return C}function m(f){if(d.isArrayOrTypedArray(f)){var S=f[0];return d.isArrayOrTypedArray(S)&&(f=S),"rgb("+f.slice(0,3).map(function(T){return Math.round(255*T)})+")"}return null}function w(f){return d.isArrayOrTypedArray(f)?f.length===4&&typeof f[0]=="number"?m(f):f.map(m):null}c.handlePick=function(f){if(f.object&&(f.object===this.linePlot||f.object===this.delaunayMesh||f.object===this.textMarkers||f.object===this.scatterPlot)){var S=f.index=f.data.index;return f.object.highlight&&f.object.highlight(null),this.scatterPlot&&(f.object=this.scatterPlot,this.scatterPlot.highlight(f.data)),f.textLabel="",this.textLabels&&(Array.isArray(this.textLabels)?(this.textLabels[S]||this.textLabels[S]===0)&&(f.textLabel=this.textLabels[S]):f.textLabel=this.textLabels),f.traceCoordinate=[this.data.x[S],this.data.y[S],this.data.z[S]],!0}},c.update=function(f){var S,T,E,L,C=this.scene.glplot.gl,P=r.solid;this.data=f;var R=function(H,N){var B,V,q,te,$,K,Z=[],X=H.fullSceneLayout,ee=H.dataScale,ne=X.xaxis,re=X.yaxis,ae=X.zaxis,ue=N.marker,pe=N.line,ge=N.x||[],we=N.y||[],me=N.z||[],ve=ge.length,Ie=N.xcalendar,Se=N.ycalendar,ke=N.zcalendar;for($=0;$<ve;$++)B=ne.d2l(ge[$],0,Ie)*ee[0],V=re.d2l(we[$],0,Se)*ee[1],q=ae.d2l(me[$],0,ke)*ee[2],Z[$]=[B,V,q];if(Array.isArray(N.text))K=N.text;else if(N.text!==void 0)for(K=new Array(ve),$=0;$<ve;$++)K[$]=N.text;function se(Ge,Ze){var et=X[Ge];return l.tickText(et,et.d2l(Ze),!0).text}var oe=N.texttemplate;if(oe){var he=H.fullLayout._d3locale,Le=Array.isArray(oe),Me=Le?Math.min(oe.length,ve):ve,_e=Le?function(Ge){return oe[Ge]}:function(){return oe};for(K=new Array(Me),$=0;$<Me;$++){var De={x:ge[$],y:we[$],z:me[$]},Ne={xLabel:se("xaxis",ge[$]),yLabel:se("yaxis",we[$]),zLabel:se("zaxis",me[$])},ce={};o(ce,N,$);var Te=N._meta||{};K[$]=d.texttemplateString(_e($),Ne,he,ce,De,Te)}}if(te={position:Z,mode:N.mode,text:K},"line"in N&&(te.lineColor=t(pe,1,ve),te.lineWidth=pe.width,te.lineDashes=pe.dash),"marker"in N){var ye=i(N);te.scatterColor=t(ue,1,ve),te.scatterSize=v(ue.size,ve,h,20,ye),te.scatterMarker=v(ue.symbol,ve,x,"●"),te.scatterLineWidth=ue.line.width,te.scatterLineColor=t(ue.line,1,ve),te.scatterAngle=0}"textposition"in N&&(te.textOffset=function(Ge){var Ze=[0,0];if(Array.isArray(Ge))for(var et=0;et<Ge.length;et++)Ze[et]=[0,0],Ge[et]&&(Ze[et][0]=b(Ge[et]),Ze[et][1]=g(Ge[et]));else Ze[0]=b(Ge),Ze[1]=g(Ge);return Ze}(N.textposition),te.textColor=t(N.textfont,1,ve),te.textSize=v(N.textfont.size,ve,d.identity,12),te.textFont=N.textfont.family,te.textAngle=0);var Oe=["x","y","z"];for(te.project=[!1,!1,!1],te.projectScale=[1,1,1],te.projectOpacity=[1,1,1],$=0;$<3;++$){var Be=N.projection[Oe[$]];(te.project[$]=Be.show)&&(te.projectOpacity[$]=Be.opacity,te.projectScale[$]=Be.scale)}te.errorBounds=u(N,ee,X);var Fe=function(Ge){for(var Ze=[0,0,0],et=[[0,0,0],[0,0,0],[0,0,0]],ft=[1,1,1],rt=0;rt<3;rt++){var _t=Ge[rt];_t&&_t.copy_zstyle!==!1&&Ge[2].visible!==!1&&(_t=Ge[2]),_t&&_t.visible&&(Ze[rt]=_t.width/2,et[rt]=s(_t.color),ft[rt]=_t.thickness)}return{capSize:Ze,color:et,lineWidth:ft}}([N.error_x,N.error_y,N.error_z]);return te.errorColor=Fe.color,te.errorLineWidth=Fe.lineWidth,te.errorCapSize=Fe.capSize,te.delaunayAxis=N.surfaceaxis,te.delaunayColor=s(N.surfacecolor),te}(this.scene,f);"mode"in R&&(this.mode=R.mode),"lineDashes"in R&&R.lineDashes in r&&(P=r[R.lineDashes]),this.color=w(R.scatterColor)||w(R.lineColor),this.dataPoints=R.position,S={gl:this.scene.glplot.gl,position:R.position,color:R.lineColor,lineWidth:R.lineWidth||1,dashes:P[0],dashScale:P[1],opacity:f.opacity,connectGaps:f.connectgaps},this.mode.indexOf("lines")!==-1?this.linePlot?this.linePlot.update(S):(this.linePlot=M(S),this.linePlot._trace=this,this.scene.glplot.add(this.linePlot)):this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose(),this.linePlot=null);var G=f.opacity;if(f.marker&&f.marker.opacity!==void 0&&(G*=f.marker.opacity),T={gl:this.scene.glplot.gl,position:R.position,color:R.scatterColor,size:R.scatterSize,glyph:R.scatterMarker,opacity:G,orthographic:!0,lineWidth:R.scatterLineWidth,lineColor:R.scatterLineColor,project:R.project,projectScale:R.projectScale,projectOpacity:R.projectOpacity},this.mode.indexOf("markers")!==-1?this.scatterPlot?this.scatterPlot.update(T):(this.scatterPlot=k(T),this.scatterPlot._trace=this,this.scatterPlot.highlightScale=1,this.scene.glplot.add(this.scatterPlot)):this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose(),this.scatterPlot=null),L={gl:this.scene.glplot.gl,position:R.position,glyph:R.text,color:R.textColor,size:R.textSize,angle:R.textAngle,alignment:R.textOffset,font:R.textFont,orthographic:!0,lineWidth:0,project:!1,opacity:f.opacity},this.textLabels=f.hovertext||f.text,this.mode.indexOf("text")!==-1?this.textMarkers?this.textMarkers.update(L):(this.textMarkers=k(L),this.textMarkers._trace=this,this.textMarkers.highlightScale=1,this.scene.glplot.add(this.textMarkers)):this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose(),this.textMarkers=null),E={gl:this.scene.glplot.gl,position:R.position,color:R.errorColor,error:R.errorBounds,lineWidth:R.errorLineWidth,capSize:R.errorCapSize,opacity:f.opacity},this.errorBars?R.errorBounds?this.errorBars.update(E):(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose(),this.errorBars=null):R.errorBounds&&(this.errorBars=a(E),this.errorBars._trace=this,this.scene.glplot.add(this.errorBars)),R.delaunayAxis>=0){var I=function(H,N,B){var V,q=(B+1)%3,te=(B+2)%3,$=[],K=[];for(V=0;V<H.length;++V){var Z=H[V];!isNaN(Z[q])&&isFinite(Z[q])&&!isNaN(Z[te])&&isFinite(Z[te])&&($.push([Z[q],Z[te]]),K.push(V))}var X=y($);for(V=0;V<X.length;++V)for(var ee=X[V],ne=0;ne<ee.length;++ne)ee[ne]=K[ee[ne]];return{positions:H,cells:X,meshColor:N}}(R.position,R.delaunayColor,R.delaunayAxis);I.opacity=f.opacity,this.delaunayMesh?this.delaunayMesh.update(I):(I.gl=C,this.delaunayMesh=_(I),this.delaunayMesh._trace=this,this.scene.glplot.add(this.delaunayMesh))}else this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose(),this.delaunayMesh=null)},c.dispose=function(){this.linePlot&&(this.scene.glplot.remove(this.linePlot),this.linePlot.dispose()),this.scatterPlot&&(this.scene.glplot.remove(this.scatterPlot),this.scatterPlot.dispose()),this.errorBars&&(this.scene.glplot.remove(this.errorBars),this.errorBars.dispose()),this.textMarkers&&(this.scene.glplot.remove(this.textMarkers),this.textMarkers.dispose()),this.delaunayMesh&&(this.scene.glplot.remove(this.delaunayMesh),this.delaunayMesh.dispose())},Y.exports=function(f,S){var T=new p(f,S.uid);return T.update(S),T}},21428:function(Y,O,e){var M=e(73972),k=e(71828),a=e(34098),_=e(49508),y=e(11058),d=e(82410),s=e(44542);Y.exports=function(t,i,r,n){function l(x,v){return k.coerce(t,i,s,x,v)}var o=function(x,v,m,w){var f=0,S=m("x"),T=m("y"),E=m("z");return M.getComponentMethod("calendars","handleTraceDefaults")(x,v,["x","y","z"],w),S&&T&&E&&(f=Math.min(S.length,T.length,E.length),v._length=v._xlength=v._ylength=v._zlength=f),f}(t,i,l,n);if(o){l("text"),l("hovertext"),l("hovertemplate"),l("xhoverformat"),l("yhoverformat"),l("zhoverformat"),l("mode"),a.hasLines(i)&&(l("connectgaps"),y(t,i,r,n,l)),a.hasMarkers(i)&&_(t,i,r,n,l,{noSelect:!0,noAngle:!0}),a.hasText(i)&&(l("texttemplate"),d(t,i,n,l,{noSelect:!0}));var u=(i.line||{}).color,p=(i.marker||{}).color;l("surfaceaxis")>=0&&l("surfacecolor",u||p);for(var c=["x","y","z"],b=0;b<3;++b){var g="projection."+c[b];l(g+".show")&&(l(g+".opacity"),l(g+".scale"))}var h=M.getComponentMethod("errorbars","supplyDefaults");h(t,i,u||p||r,{axis:"z"}),h(t,i,u||p||r,{axis:"y",inherit:"z"}),h(t,i,u||p||r,{axis:"x",inherit:"z"})}else i.visible=!1}},13551:function(Y,O,e){Y.exports={plot:e(58925),attributes:e(44542),markerSymbols:e(87381),supplyDefaults:e(21428),colorbar:[{container:"marker",min:"cmin",max:"cmax"},{container:"line",min:"cmin",max:"cmax"}],calc:e(36563),moduleType:"trace",name:"scatter3d",basePlotModule:e(58547),categories:["gl3d","symbols","showLegend","scatter-like"],meta:{}}},97001:function(Y,O,e){var M=e(82196),k=e(9012),a=e(5386).fF,_=e(5386).si,y=e(50693),d=e(1426).extendFlat,s=M.marker,t=M.line,i=s.line;Y.exports={carpet:{valType:"string",editType:"calc"},a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},mode:d({},M.mode,{dflt:"markers"}),text:d({},M.text,{}),texttemplate:_({editType:"plot"},{keys:["a","b","text"]}),hovertext:d({},M.hovertext,{}),line:{color:t.color,width:t.width,dash:t.dash,backoff:t.backoff,shape:d({},t.shape,{values:["linear","spline"]}),smoothing:t.smoothing,editType:"calc"},connectgaps:M.connectgaps,fill:d({},M.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:M.fillcolor,marker:d({symbol:s.symbol,opacity:s.opacity,maxdisplayed:s.maxdisplayed,angle:s.angle,angleref:s.angleref,standoff:s.standoff,size:s.size,sizeref:s.sizeref,sizemin:s.sizemin,sizemode:s.sizemode,line:d({width:i.width,editType:"calc"},y("marker.line")),gradient:s.gradient,editType:"calc"},y("marker")),textfont:M.textfont,textposition:M.textposition,selected:M.selected,unselected:M.unselected,hoverinfo:d({},k.hoverinfo,{flags:["a","b","text","name"]}),hoveron:M.hoveron,hovertemplate:a()}},34618:function(Y,O,e){var M=e(92770),k=e(36922),a=e(75225),_=e(66279),y=e(47761).calcMarkerSize,d=e(22882);Y.exports=function(s,t){var i=t._carpetTrace=d(s,t);if(i&&i.visible&&i.visible!=="legendonly"){var r;t.xaxis=i.xaxis,t.yaxis=i.yaxis;var n,l,o=t._length,u=new Array(o),p=!1;for(r=0;r<o;r++)if(n=t.a[r],l=t.b[r],M(n)&&M(l)){var c=i.ab2xy(+n,+l,!0),b=i.isVisible(+n,+l);b||(p=!0),u[r]={x:c[0],y:c[1],a:n,b:l,vis:b}}else u[r]={x:!1,y:!1};return t._needsCull=p,u[0].carpet=i,u[0].trace=t,y(t,o),k(s,t),a(u,t),_(u,t),u}}},98965:function(Y,O,e){var M=e(71828),k=e(47581),a=e(34098),_=e(49508),y=e(11058),d=e(94039),s=e(82410),t=e(28908),i=e(97001);Y.exports=function(r,n,l,o){function u(h,x){return M.coerce(r,n,i,h,x)}u("carpet"),n.xaxis="x",n.yaxis="y";var p=u("a"),c=u("b"),b=Math.min(p.length,c.length);if(b){n._length=b,u("text"),u("texttemplate"),u("hovertext"),u("mode",b<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasLines(n)&&(y(r,n,l,o,u,{backoff:!0}),d(r,n,u),u("connectgaps")),a.hasMarkers(n)&&_(r,n,l,o,u,{gradient:!0}),a.hasText(n)&&s(r,n,o,u);var g=[];(a.hasMarkers(n)||a.hasText(n))&&(u("marker.maxdisplayed"),g.push("points")),u("fill"),n.fill!=="none"&&(t(r,n,l,u),a.hasLines(n)||d(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||g.push("fills"),u("hoveron",g.join("+")||"points")!=="fills"&&u("hovertemplate"),M.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},16165:function(Y){Y.exports=function(O,e,M,k,a){var _=k[a];return O.a=_.a,O.b=_.b,O.y=_.y,O}},48953:function(Y){Y.exports=function(O,e){var M={},k=e._carpet,a=k.ab2ij([O.a,O.b]),_=Math.floor(a[0]),y=a[0]-_,d=Math.floor(a[1]),s=a[1]-d,t=k.evalxy([],_,d,y,s);return M.yLabel=t[1].toFixed(3),M}},22931:function(Y,O,e){var M=e(33720),k=e(71828).fillText;Y.exports=function(a,_,y,d){var s=M(a,_,y,d);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0){var i=1-t.y0/a.ya._length,r=a.xa._length,n=r*i/2,l=r-n;return t.x0=Math.max(Math.min(t.x0,l),n),t.x1=Math.max(Math.min(t.x1,l),n),s}var o=t.cd[t.index];t.a=o.a,t.b=o.b,t.xLabelVal=void 0,t.yLabelVal=void 0;var u=t.trace,p=u._carpet,c=u._module.formatLabels(o,u);t.yLabel=c.yLabel,delete t.text;var b=[];if(!u.hovertemplate){var g=(o.hi||u.hoverinfo).split("+");g.indexOf("all")!==-1&&(g=["a","b","text"]),g.indexOf("a")!==-1&&h(p.aaxis,o.a),g.indexOf("b")!==-1&&h(p.baxis,o.b),b.push("y: "+t.yLabel),g.indexOf("text")!==-1&&k(o,u,b),t.extraText=b.join("<br>")}return s}function h(x,v){var m;m=x.labelprefix&&x.labelprefix.length>0?x.labelprefix.replace(/ = $/,""):x._hovertitle,b.push(m+": "+v.toFixed(3)+x.labelsuffix)}}},46858:function(Y,O,e){Y.exports={attributes:e(97001),supplyDefaults:e(98965),colorbar:e(4898),formatLabels:e(48953),calc:e(34618),plot:e(1913),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(22931),selectPoints:e(98002),eventData:e(16165),moduleType:"trace",name:"scattercarpet",basePlotModule:e(93612),categories:["svg","carpet","symbols","showLegend","carpetDependent","zoomScale"],meta:{}}},1913:function(Y,O,e){var M=e(32663),k=e(89298),a=e(91424);Y.exports=function(_,y,d,s){var t,i,r,n=d[0][0].carpet,l=k.getFromId(_,n.xaxis||"x"),o=k.getFromId(_,n.yaxis||"y"),u={xaxis:l,yaxis:o,plot:y.plot};for(t=0;t<d.length;t++)(i=d[t][0].trace)._xA=l,i._yA=o;for(M(_,u,d,s),t=0;t<d.length;t++)i=d[t][0].trace,r=s.selectAll("g.trace"+i.uid+" .js-line"),a.setClipUrl(r,d[t][0].carpet._clipPathId,_)}},19316:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(82196),_=e(9012),y=e(50693),d=e(79952).P,s=e(1426).extendFlat,t=e(30962).overrideAll,i=a.marker,r=a.line,n=i.line;Y.exports=t({lon:{valType:"data_array"},lat:{valType:"data_array"},locations:{valType:"data_array"},locationmode:{valType:"enumerated",values:["ISO-3","USA-states","country names","geojson-id"],dflt:"ISO-3"},geojson:{valType:"any",editType:"calc"},featureidkey:{valType:"string",editType:"calc",dflt:"id"},mode:s({},a.mode,{dflt:"markers"}),text:s({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","location","text"]}),hovertext:s({},a.hovertext,{}),textfont:a.textfont,textposition:a.textposition,line:{color:r.color,width:r.width,dash:d},connectgaps:a.connectgaps,marker:s({symbol:i.symbol,opacity:i.opacity,angle:i.angle,angleref:s({},i.angleref,{values:["previous","up","north"]}),standoff:i.standoff,size:i.size,sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,colorbar:i.colorbar,line:s({width:n.width},y("marker.line")),gradient:i.gradient},y("marker")),fill:{valType:"enumerated",values:["none","toself"],dflt:"none"},fillcolor:a.fillcolor,selected:a.selected,unselected:a.unselected,hoverinfo:s({},_.hoverinfo,{flags:["lon","lat","location","text","name"]}),hovertemplate:M()},"calc","nested")},84622:function(Y,O,e){var M=e(92770),k=e(50606).BADNUM,a=e(36922),_=e(75225),y=e(66279),d=e(71828)._;function s(t){return t&&typeof t=="string"}Y.exports=function(t,i){var r,n=Array.isArray(i.locations),l=n?i.locations.length:i._length,o=new Array(l);r=i.geojson?function(h){return s(h)||M(h)}:s;for(var u=0;u<l;u++){var p=o[u]={};if(n){var c=i.locations[u];p.loc=r(c)?c:null}else{var b=i.lon[u],g=i.lat[u];M(b)&&M(g)?p.lonlat=[+b,+g]:p.lonlat=[k,k]}}return _(o,i),a(t,i),y(o,i),l&&(o[0].t={labels:{lat:d(t,"lat:")+" ",lon:d(t,"lon:")+" "}}),o}},10659:function(Y,O,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),y=e(82410),d=e(28908),s=e(19316);Y.exports=function(t,i,r,n){function l(h,x){return M.coerce(t,i,s,h,x)}var o,u=l("locations");if(u&&u.length){var p,c=l("geojson");(typeof c=="string"&&c!==""||M.isPlainObject(c))&&(p="geojson-id"),l("locationmode",p)==="geojson-id"&&l("featureidkey"),o=u.length}else{var b=l("lon")||[],g=l("lat")||[];o=Math.min(b.length,g.length)}o?(i._length=o,l("text"),l("hovertext"),l("hovertemplate"),l("mode"),k.hasLines(i)&&(_(t,i,r,n,l),l("connectgaps")),k.hasMarkers(i)&&a(t,i,r,n,l,{gradient:!0}),k.hasText(i)&&(l("texttemplate"),y(t,i,n,l)),l("fill"),i.fill!=="none"&&d(t,i,r,l),M.coerceSelectionMarkerOpacity(i,l)):i.visible=!1}},84084:function(Y){Y.exports=function(O,e,M,k,a){O.lon=e.lon,O.lat=e.lat,O.location=e.loc?e.loc:null;var _=k[a];return _.fIn&&_.fIn.properties&&(O.properties=_.fIn.properties),O}},82719:function(Y,O,e){var M=e(89298);Y.exports=function(k,a,_){var y={},d=_[a.geo]._subplot.mockAxis,s=k.lonlat;return y.lonLabel=M.tickText(d,d.c2l(s[0]),!0).text,y.latLabel=M.tickText(d,d.c2l(s[1]),!0).text,y}},14977:function(Y,O,e){var M=e(30211),k=e(50606).BADNUM,a=e(34603),_=e(71828).fillText,y=e(19316);Y.exports=function(d,s,t){var i=d.cd,r=i[0].trace,n=d.xa,l=d.ya,o=d.subplot,u=o.projection.isLonLatOverEdges,p=o.project;if(M.getClosest(i,function(m){var w=m.lonlat;if(w[0]===k||u(w))return 1/0;var f=p(w),S=p([s,t]),T=Math.abs(f[0]-S[0]),E=Math.abs(f[1]-S[1]),L=Math.max(3,m.mrc||0);return Math.max(Math.sqrt(T*T+E*E)-L,1-3/L)},d),d.index!==!1){var c=i[d.index],b=c.lonlat,g=[n.c2p(b),l.c2p(b)],h=c.mrc||1;d.x0=g[0]-h,d.x1=g[0]+h,d.y0=g[1]-h,d.y1=g[1]+h,d.loc=c.loc,d.lon=b[0],d.lat=b[1];var x={};x[r.geo]={_subplot:o};var v=r._module.formatLabels(c,r,x);return d.lonLabel=v.lonLabel,d.latLabel=v.latLabel,d.color=a(r,c),d.extraText=function(m,w,f,S){if(!m.hovertemplate){var T=w.hi||m.hoverinfo,E=T==="all"?y.hoverinfo.flags:T.split("+"),L=E.indexOf("location")!==-1&&Array.isArray(m.locations),C=E.indexOf("lon")!==-1,P=E.indexOf("lat")!==-1,R=E.indexOf("text")!==-1,G=[];return L?G.push(w.loc):C&&P?G.push("("+I(f.latLabel)+", "+I(f.lonLabel)+")"):C?G.push(S.lon+I(f.lonLabel)):P&&G.push(S.lat+I(f.latLabel)),R&&_(w,m,G),G.join("<br>")}function I(H){return H+"°"}}(r,c,d,i[0].t.labels),d.hovertemplate=r.hovertemplate,[d]}}},17988:function(Y,O,e){Y.exports={attributes:e(19316),supplyDefaults:e(10659),colorbar:e(4898),formatLabels:e(82719),calc:e(84622),calcGeoJSON:e(89171).calcGeoJSON,plot:e(89171).plot,style:e(33095),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(14977),eventData:e(84084),selectPoints:e(20548),moduleType:"trace",name:"scattergeo",basePlotModule:e(44622),categories:["geo","symbols","showLegend","scatter-like"],meta:{}}},89171:function(Y,O,e){var M=e(39898),k=e(71828),a=e(90973).getTopojsonFeatures,_=e(18214),y=e(41327),d=e(71739).findExtremes,s=e(50606).BADNUM,t=e(47761).calcMarkerSize,i=e(34098),r=e(33095);Y.exports={calcGeoJSON:function(n,l){var o,u,p=n[0].trace,c=l[p.geo],b=c._subplot,g=p._length;if(Array.isArray(p.locations)){var h=p.locationmode,x=h==="geojson-id"?y.extractTraceFeature(n):a(p,b.topojson);for(o=0;o<g;o++){u=n[o];var v=h==="geojson-id"?u.fOut:y.locationToFeature(h,u.loc,x);u.lonlat=v?v.properties.ct:[s,s]}}var m,w,f={padded:!0};if(c.fitbounds==="geojson"&&p.locationmode==="geojson-id"){var S=y.computeBbox(y.getTraceGeojson(p));m=[S[0],S[2]],w=[S[1],S[3]]}else{for(m=new Array(g),w=new Array(g),o=0;o<g;o++)u=n[o],m[o]=u.lonlat[0],w[o]=u.lonlat[1];f.ppad=t(p,g)}p._extremes.lon=d(c.lonaxis._ax,m,f),p._extremes.lat=d(c.lataxis._ax,w,f)},plot:function(n,l,o){var u=l.layers.frontplot.select(".scatterlayer"),p=k.makeTraceGroups(u,o,"trace scattergeo");function c(b,g){b.lonlat[0]===s&&M.select(g).remove()}p.selectAll("*").remove(),p.each(function(b){var g=M.select(this),h=b[0].trace;if(i.hasLines(h)||h.fill!=="none"){var x=_.calcTraceToLineCoords(b),v=h.fill!=="none"?_.makePolygon(x):_.makeLine(x);g.selectAll("path.js-line").data([{geojson:v,trace:h}]).enter().append("path").classed("js-line",!0).style("stroke-miterlimit",2)}i.hasMarkers(h)&&g.selectAll("path.point").data(k.identity).enter().append("path").classed("point",!0).each(function(m){c(m,this)}),i.hasText(h)&&g.selectAll("g").data(k.identity).enter().append("g").append("text").each(function(m){c(m,this)}),r(n,b)})}}},20548:function(Y,O,e){var M=e(34098),k=e(50606).BADNUM;Y.exports=function(a,_){var y,d,s,t,i,r=a.cd,n=a.xaxis,l=a.yaxis,o=[],u=r[0].trace;if(!M.hasMarkers(u)&&!M.hasText(u))return[];if(_===!1)for(i=0;i<r.length;i++)r[i].selected=0;else for(i=0;i<r.length;i++)(d=(y=r[i]).lonlat)[0]!==k&&(s=n.c2p(d),t=l.c2p(d),_.contains([s,t],null,i,a)?(o.push({pointNumber:i,lon:d[0],lat:d[1]}),y.selected=1):y.selected=0);return o}},33095:function(Y,O,e){var M=e(39898),k=e(91424),a=e(7901),_=e(16296),y=_.stylePoints,d=_.styleText;Y.exports=function(s,t){t&&function(i,r){var n=r[0].trace,l=r[0].node3;l.style("opacity",r[0].trace.opacity),y(l,n,i),d(l,n,i),l.selectAll("path.js-line").style("fill","none").each(function(o){var u=M.select(this),p=o.trace,c=p.line||{};u.call(a.stroke,c.color).call(k.dashLine,c.dash||"",c.width||0),p.fill!=="none"&&u.call(a.fill,p.fillcolor)})}(s,t)}},42341:function(Y,O,e){var M=e(9012),k=e(82196),a=e(12663).axisHoverFormat,_=e(50693),y=e(78607),d=e(1426).extendFlat,s=e(30962).overrideAll,t=e(78232).DASHES,i=k.line,r=k.marker,n=r.line,l=Y.exports=s({x:k.x,x0:k.x0,dx:k.dx,y:k.y,y0:k.y0,dy:k.dy,xperiod:k.xperiod,yperiod:k.yperiod,xperiod0:k.xperiod0,yperiod0:k.yperiod0,xperiodalignment:k.xperiodalignment,yperiodalignment:k.yperiodalignment,xhoverformat:a("x"),yhoverformat:a("y"),text:k.text,hovertext:k.hovertext,textposition:k.textposition,textfont:k.textfont,mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"]},line:{color:i.color,width:i.width,shape:{valType:"enumerated",values:["linear","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},dash:{valType:"enumerated",values:y(t),dflt:"solid"}},marker:d({},_("marker"),{symbol:r.symbol,angle:r.angle,size:r.size,sizeref:r.sizeref,sizemin:r.sizemin,sizemode:r.sizemode,opacity:r.opacity,colorbar:r.colorbar,line:d({},_("marker.line"),{width:n.width})}),connectgaps:k.connectgaps,fill:d({},k.fill,{dflt:"none"}),fillcolor:k.fillcolor,selected:{marker:k.selected.marker,textfont:k.selected.textfont},unselected:{marker:k.unselected.marker,textfont:k.unselected.textfont},opacity:M.opacity},"calc","nested");l.x.editType=l.y.editType=l.x0.editType=l.y0.editType="calc+clearAxisTypes",l.hovertemplate=k.hovertemplate,l.texttemplate=k.texttemplate},72156:function(Y,O,e){var M=e(20794);Y.exports={moduleType:"trace",name:"scattergl",basePlotModule:e(93612),categories:["gl","regl","cartesian","symbols","errorBarsOK","showLegend","scatter-like"],attributes:e(42341),supplyDefaults:e(47148),crossTraceDefaults:e(34936),colorbar:e(4898),formatLabels:e(68101),calc:e(45032),hoverPoints:M.hoverPoints,selectPoints:e(58147),meta:{}}},45032:function(Y,O,e){var M=e(88294),k=e(71828),a=e(41675),_=e(71739).findExtremes,y=e(42973),d=e(47761),s=d.calcMarkerSize,t=d.calcAxisExpansion,i=d.setFirstScatter,r=e(36922),n=e(19635),l=e(38967),o=e(50606).BADNUM,u=e(78232).TOO_MANY_POINTS;function p(c,b,g){var h=c._extremes[b._id],x=_(b,g._bnds,{padded:!0});h.min=h.min.concat(x.min),h.max=h.max.concat(x.max)}Y.exports=function(c,b){var g,h=c._fullLayout,x=b._xA=a.getFromId(c,b.xaxis,"x"),v=b._yA=a.getFromId(c,b.yaxis,"y"),m=h._plots[b.xaxis+b.yaxis],w=b._length,f=w>=u,S=2*w,T={},E=x.makeCalcdata(b,"x"),L=v.makeCalcdata(b,"y"),C=y(b,x,"x",E),P=y(b,v,"y",L),R=C.vals,G=P.vals;b._x=R,b._y=G,b.xperiodalignment&&(b._origX=E,b._xStarts=C.starts,b._xEnds=C.ends),b.yperiodalignment&&(b._origY=L,b._yStarts=P.starts,b._yEnds=P.ends);var I=new Array(S),H=new Array(w);for(g=0;g<w;g++)I[2*g]=R[g]===o?NaN:R[g],I[2*g+1]=G[g]===o?NaN:G[g],H[g]=g;if(x.type==="log")for(g=0;g<S;g+=2)I[g]=x.c2l(I[g]);if(v.type==="log")for(g=1;g<S;g+=2)I[g]=v.c2l(I[g]);f&&x.type!=="log"&&v.type!=="log"?T.tree=M(I):T.ids=H,r(c,b);var N,B=function(q,te,$,K,Z,X){var ee=n.style(q,$);if(ee.marker&&(ee.marker.positions=K),ee.line&&K.length>1&&k.extendFlat(ee.line,n.linePositions(q,$,K)),ee.errorX||ee.errorY){var ne=n.errorBarPositions(q,$,K,Z,X);ee.errorX&&k.extendFlat(ee.errorX,ne.x),ee.errorY&&k.extendFlat(ee.errorY,ne.y)}return ee.text&&(k.extendFlat(ee.text,{positions:K},n.textPosition(q,$,ee.text,ee.marker)),k.extendFlat(ee.textSel,{positions:K},n.textPosition(q,$,ee.text,ee.markerSel)),k.extendFlat(ee.textUnsel,{positions:K},n.textPosition(q,$,ee.text,ee.markerUnsel))),ee}(c,0,b,I,R,G),V=l(c,m);return i(h,b),f?B.marker&&(N=B.marker.sizeAvg||Math.max(B.marker.size,3)):N=s(b,w),t(c,b,x,v,R,G,N),B.errorX&&p(b,x,B.errorX),B.errorY&&p(b,v,B.errorY),B.fill&&!V.fill2d&&(V.fill2d=!0),B.marker&&!V.scatter2d&&(V.scatter2d=!0),B.line&&!V.line2d&&(V.line2d=!0),!B.errorX&&!B.errorY||V.error2d||(V.error2d=!0),B.text&&!V.glText&&(V.glText=!0),B.marker&&(B.marker.snap=w),V.lineOptions.push(B.line),V.errorXOptions.push(B.errorX),V.errorYOptions.push(B.errorY),V.fillOptions.push(B.fill),V.markerOptions.push(B.marker),V.markerSelectedOptions.push(B.markerSel),V.markerUnselectedOptions.push(B.markerUnsel),V.textOptions.push(B.text),V.textSelectedOptions.push(B.textSel),V.textUnselectedOptions.push(B.textUnsel),V.selectBatch.push([]),V.unselectBatch.push([]),T._scene=V,T.index=V.count,T.x=R,T.y=G,T.positions=I,V.count++,[{x:!1,y:!1,t:T,trace:b}]}},78232:function(Y){Y.exports={TOO_MANY_POINTS:1e5,SYMBOL_SDF_SIZE:200,SYMBOL_SIZE:20,SYMBOL_STROKE:1,DOT_RE:/-dot/,OPEN_RE:/-open/,DASHES:{solid:[1],dot:[1,1],dash:[4,1],longdash:[8,1],dashdot:[4,1,1,1],longdashdot:[8,1,1,1]}}},19635:function(Y,O,e){var M=e(92770),k=e(82019),a=e(25075),_=e(73972),y=e(71828),d=e(91424),s=e(41675),t=e(81697).formatColor,i=e(34098),r=e(39984),n=e(68645),l=e(78232),o=e(37822).DESELECTDIM,u={start:1,left:1,end:-1,right:-1,middle:0,center:0,bottom:1,top:-1},p=e(23469).appendArrayPointValue;function c(E,L){var C,P=E._fullLayout,R=L._length,G=L.textfont,I=L.textposition,H=Array.isArray(I)?I:[I],N=G.color,B=G.size,V=G.family,q={},te=E._context.plotGlPixelRatio,$=L.texttemplate;if($){q.text=[];var K=P._d3locale,Z=Array.isArray($),X=Z?Math.min($.length,R):R,ee=Z?function(we){return $[we]}:function(){return $};for(C=0;C<X;C++){var ne={i:C},re=L._module.formatLabels(ne,L,P),ae={};p(ae,L,C);var ue=L._meta||{};q.text.push(y.texttemplateString(ee(C),re,K,ae,ne,ue))}}else Array.isArray(L.text)&&L.text.length<R?q.text=L.text.slice():q.text=L.text;if(Array.isArray(q.text))for(C=q.text.length;C<R;C++)q.text[C]="";for(q.opacity=L.opacity,q.font={},q.align=[],q.baseline=[],C=0;C<H.length;C++){var pe=H[C].split(/\s+/);switch(pe[1]){case"left":q.align.push("right");break;case"right":q.align.push("left");break;default:q.align.push(pe[1])}switch(pe[0]){case"top":q.baseline.push("bottom");break;case"bottom":q.baseline.push("top");break;default:q.baseline.push(pe[0])}}if(Array.isArray(N))for(q.color=new Array(R),C=0;C<R;C++)q.color[C]=N[C];else q.color=N;if(y.isArrayOrTypedArray(B)||Array.isArray(V))for(q.font=new Array(R),C=0;C<R;C++){var ge=q.font[C]={};ge.size=(y.isTypedArray(B)?B[C]:Array.isArray(B)?M(B[C])?B[C]:0:B)*te,ge.family=Array.isArray(V)?V[C]:V}else q.font={size:B*te,family:V};return q}function b(E,L){var C,P,R=L._length,G=L.marker,I={},H=y.isArrayOrTypedArray(G.symbol),N=y.isArrayOrTypedArray(G.angle),B=y.isArrayOrTypedArray(G.color),V=y.isArrayOrTypedArray(G.line.color),q=y.isArrayOrTypedArray(G.opacity),te=y.isArrayOrTypedArray(G.size),$=y.isArrayOrTypedArray(G.line.width);if(H||(P=n.isOpenSymbol(G.symbol)),H||B||V||q||N){I.symbols=new Array(R),I.angles=new Array(R),I.colors=new Array(R),I.borderColors=new Array(R);var K=G.symbol,Z=G.angle,X=t(G,G.opacity,R),ee=t(G.line,G.opacity,R);if(!Array.isArray(ee[0])){var ne=ee;for(ee=Array(R),C=0;C<R;C++)ee[C]=ne}if(!Array.isArray(X[0])){var re=X;for(X=Array(R),C=0;C<R;C++)X[C]=re}if(!Array.isArray(K)){var ae=K;for(K=Array(R),C=0;C<R;C++)K[C]=ae}if(!Array.isArray(Z)){var ue=Z;for(Z=Array(R),C=0;C<R;C++)Z[C]=ue}for(I.symbols=K,I.angles=Z,I.colors=X,I.borderColors=ee,C=0;C<R;C++)H&&(P=n.isOpenSymbol(G.symbol[C])),P&&(ee[C]=X[C].slice(),X[C]=X[C].slice(),X[C][3]=0);for(I.opacity=L.opacity,I.markers=new Array(R),C=0;C<R;C++)I.markers[C]=T({mx:I.symbols[C],ma:I.angles[C]},L)}else P?(I.color=a(G.color,"uint8"),I.color[3]=0,I.borderColor=a(G.color,"uint8")):(I.color=a(G.color,"uint8"),I.borderColor=a(G.line.color,"uint8")),I.opacity=L.opacity*G.opacity,I.marker=T({mx:G.symbol,ma:G.angle},L);var pe,ge=r(L,1);if(te||$){var we,me=I.sizes=new Array(R),ve=I.borderSizes=new Array(R),Ie=0;if(te){for(C=0;C<R;C++)me[C]=ge(G.size[C]),Ie+=me[C];we=Ie/R}else for(pe=ge(G.size),C=0;C<R;C++)me[C]=pe;if($)for(C=0;C<R;C++)ve[C]=G.line.width[C];else for(pe=G.line.width,C=0;C<R;C++)ve[C]=pe;I.sizeAvg=we}else I.size=ge(G&&G.size||10),I.borderSizes=ge(G.line.width);return I}function g(E,L,C){var P=L.marker,R={};return C&&(C.marker&&C.marker.symbol?R=b(0,y.extendFlat({},P,C.marker)):C.marker&&(C.marker.size&&(R.size=C.marker.size),C.marker.color&&(R.colors=C.marker.color),C.marker.opacity!==void 0&&(R.opacity=C.marker.opacity))),R}function h(E,L,C){var P={};if(!C)return P;if(C.textfont){var R={opacity:1,text:L.text,texttemplate:L.texttemplate,textposition:L.textposition,textfont:y.extendFlat({},L.textfont)};C.textfont&&y.extendFlat(R.textfont,C.textfont),P=c(E,R)}return P}function x(E,L,C){var P={capSize:2*L.width*C,lineWidth:L.thickness*C,color:L.color};return L.copy_ystyle&&(P=E.error_y),P}var v=l.SYMBOL_SDF_SIZE,m=l.SYMBOL_SIZE,w=l.SYMBOL_STROKE,f={},S=d.symbolFuncs[0](.05*m);function T(E,L){var C,P,R=E.mx;if(R==="circle")return null;var G=d.symbolNumber(R),I=d.symbolFuncs[G%100],H=!!d.symbolNoDot[G%100],N=!!d.symbolNoFill[G%100],B=n.isDotSymbol(R);if(E.ma&&(R+="_"+E.ma),f[R])return f[R];var V=d.getMarkerAngle(E,L);return C=B&&!H?I(1.1*m,V)+S:I(m,V),P=k(C,{w:v,h:v,viewBox:[-m,-m,m,m],stroke:N?w:-w}),f[R]=P,P||null}Y.exports={style:function(E,L){var C,P={marker:void 0,markerSel:void 0,markerUnsel:void 0,line:void 0,fill:void 0,errorX:void 0,errorY:void 0,text:void 0,textSel:void 0,textUnsel:void 0},R=E._context.plotGlPixelRatio;if(L.visible!==!0)return P;if(i.hasText(L)&&(P.text=c(E,L),P.textSel=h(E,L,L.selected),P.textUnsel=h(E,L,L.unselected)),i.hasMarkers(L)&&(P.marker=b(0,L),P.markerSel=g(0,L,L.selected),P.markerUnsel=g(0,L,L.unselected),!L.unselected&&y.isArrayOrTypedArray(L.marker.opacity))){var G=L.marker.opacity;for(P.markerUnsel.opacity=new Array(G.length),C=0;C<G.length;C++)P.markerUnsel.opacity[C]=o*G[C]}if(i.hasLines(L)){P.line={overlay:!0,thickness:L.line.width*R,color:L.line.color,opacity:L.opacity};var I=(l.DASHES[L.line.dash]||[1]).slice();for(C=0;C<I.length;++C)I[C]*=L.line.width*R;P.line.dashes=I}return L.error_x&&L.error_x.visible&&(P.errorX=x(L,L.error_x,R)),L.error_y&&L.error_y.visible&&(P.errorY=x(L,L.error_y,R)),L.fill&&L.fill!=="none"&&(P.fill={closed:!0,fill:L.fillcolor,thickness:0}),P},markerStyle:b,markerSelection:g,linePositions:function(E,L,C){var P,R,G=C.length,I=G/2;if(i.hasLines(L)&&I)if(L.line.shape==="hv"){for(P=[],R=0;R<I-1;R++)isNaN(C[2*R])||isNaN(C[2*R+1])?P.push(NaN,NaN,NaN,NaN):(P.push(C[2*R],C[2*R+1]),isNaN(C[2*R+2])||isNaN(C[2*R+3])?P.push(NaN,NaN):P.push(C[2*R+2],C[2*R+1]));P.push(C[G-2],C[G-1])}else if(L.line.shape==="hvh"){for(P=[],R=0;R<I-1;R++)if(isNaN(C[2*R])||isNaN(C[2*R+1])||isNaN(C[2*R+2])||isNaN(C[2*R+3]))isNaN(C[2*R])||isNaN(C[2*R+1])?P.push(NaN,NaN):P.push(C[2*R],C[2*R+1]),P.push(NaN,NaN);else{var H=(C[2*R]+C[2*R+2])/2;P.push(C[2*R],C[2*R+1],H,C[2*R+1],H,C[2*R+3])}P.push(C[G-2],C[G-1])}else if(L.line.shape==="vhv"){for(P=[],R=0;R<I-1;R++)if(isNaN(C[2*R])||isNaN(C[2*R+1])||isNaN(C[2*R+2])||isNaN(C[2*R+3]))isNaN(C[2*R])||isNaN(C[2*R+1])?P.push(NaN,NaN):P.push(C[2*R],C[2*R+1]),P.push(NaN,NaN);else{var N=(C[2*R+1]+C[2*R+3])/2;P.push(C[2*R],C[2*R+1],C[2*R],N,C[2*R+2],N)}P.push(C[G-2],C[G-1])}else if(L.line.shape==="vh"){for(P=[],R=0;R<I-1;R++)isNaN(C[2*R])||isNaN(C[2*R+1])?P.push(NaN,NaN,NaN,NaN):(P.push(C[2*R],C[2*R+1]),isNaN(C[2*R+2])||isNaN(C[2*R+3])?P.push(NaN,NaN):P.push(C[2*R],C[2*R+3]));P.push(C[G-2],C[G-1])}else P=C;var B=!1;for(R=0;R<P.length;R++)if(isNaN(P[R])){B=!0;break}var V=B||P.length>l.TOO_MANY_POINTS||i.hasMarkers(L)?"rect":"round";if(B&&L.connectgaps){var q=P[0],te=P[1];for(R=0;R<P.length;R+=2)isNaN(P[R])||isNaN(P[R+1])?(P[R]=q,P[R+1]=te):(q=P[R],te=P[R+1])}return{join:V,positions:P}},errorBarPositions:function(E,L,C,P,R){var G=_.getComponentMethod("errorbars","makeComputeError"),I=s.getFromId(E,L.xaxis,"x"),H=s.getFromId(E,L.yaxis,"y"),N=C.length/2,B={};function V(q,te){var $=te._id.charAt(0),K=L["error_"+$];if(K&&K.visible&&(te.type==="linear"||te.type==="log")){for(var Z=G(K),X={x:0,y:1}[$],ee={x:[0,1,2,3],y:[2,3,0,1]}[$],ne=new Float64Array(4*N),re=1/0,ae=-1/0,ue=0,pe=0;ue<N;ue++,pe+=4){var ge=q[ue];if(M(ge)){var we=C[2*ue+X],me=Z(ge,ue),ve=me[0],Ie=me[1];if(M(ve)&&M(Ie)){var Se=ge-ve,ke=ge+Ie;ne[pe+ee[0]]=we-te.c2l(Se),ne[pe+ee[1]]=te.c2l(ke)-we,ne[pe+ee[2]]=0,ne[pe+ee[3]]=0,re=Math.min(re,ge-ve),ae=Math.max(ae,ge+Ie)}}}B[$]={positions:C,errors:ne,_bnds:[re,ae]}}}return V(P,I),V(R,H),B},textPosition:function(E,L,C,P){var R,G=L._length,I={};if(i.hasMarkers(L)){var H=C.font,N=C.align,B=C.baseline;for(I.offset=new Array(G),R=0;R<G;R++){var V=P.sizes?P.sizes[R]:P.size,q=Array.isArray(H)?H[R].size:H.size,te=Array.isArray(N)?N.length>1?N[R]:N[0]:N,$=Array.isArray(B)?B.length>1?B[R]:B[0]:B,K=u[te],Z=u[$],X=V?V/.8+1:0,ee=-Z*X-.5*Z;I.offset[R]=[K*X/q,ee/q]}}return I}}},47148:function(Y,O,e){var M=e(71828),k=e(73972),a=e(68645),_=e(42341),y=e(47581),d=e(34098),s=e(67513),t=e(73927),i=e(49508),r=e(11058),n=e(28908),l=e(82410);Y.exports=function(o,u,p,c){function b(S,T){return M.coerce(o,u,_,S,T)}var g=!!o.marker&&a.isOpenSymbol(o.marker.symbol),h=d.isBubble(o),x=s(o,u,c,b);if(x){t(o,u,c,b),b("xhoverformat"),b("yhoverformat");var v=x<y.PTS_LINESONLY?"lines+markers":"lines";b("text"),b("hovertext"),b("hovertemplate"),b("mode",v),d.hasLines(u)&&(b("connectgaps"),r(o,u,p,c,b),b("line.shape")),d.hasMarkers(u)&&(i(o,u,p,c,b,{noAngleRef:!0,noStandOff:!0}),b("marker.line.width",g||h?1:0)),d.hasText(u)&&(b("texttemplate"),l(o,u,c,b));var m=(u.line||{}).color,w=(u.marker||{}).color;b("fill"),u.fill!=="none"&&n(o,u,p,b);var f=k.getComponentMethod("errorbars","supplyDefaults");f(o,u,m||w||p,{axis:"y"}),f(o,u,m||w||p,{axis:"x",inherit:"y"}),M.coerceSelectionMarkerOpacity(u,b)}else u.visible=!1}},5345:function(Y,O,e){var M=e(71828),k=e(7901),a=e(37822).DESELECTDIM;Y.exports={styleTextSelection:function(_){var y,d,s=_[0],t=s.trace,i=s.t,r=i._scene,n=i.index,l=r.selectBatch[n],o=r.unselectBatch[n],u=r.textOptions[n],p=r.textSelectedOptions[n]||{},c=r.textUnselectedOptions[n]||{},b=M.extendFlat({},u);if(l.length||o.length){var g=p.color,h=c.color,x=u.color,v=Array.isArray(x);for(b.color=new Array(t._length),y=0;y<l.length;y++)d=l[y],b.color[d]=g||(v?x[d]:x);for(y=0;y<o.length;y++){d=o[y];var m=v?x[d]:x;b.color[d]=h||(g?m:k.addOpacity(m,a))}}r.glText[n].update(b)}}},68101:function(Y,O,e){var M=e(8225);Y.exports=function(k,a,_){var y=k.i;return"x"in k||(k.x=a._x[y]),"y"in k||(k.y=a._y[y]),M(k,a,_)}},68645:function(Y,O,e){var M=e(78232);O.isOpenSymbol=function(k){return typeof k=="string"?M.OPEN_RE.test(k):k%200>100},O.isDotSymbol=function(k){return typeof k=="string"?M.DOT_RE.test(k):k>200}},20794:function(Y,O,e){var M=e(73972),k=e(71828),a=e(34603);function _(y,d,s,t){var i=y.xa,r=y.ya,n=y.distance,l=y.dxy,o=y.index,u={pointNumber:o,x:d[o],y:s[o]};u.tx=Array.isArray(t.text)?t.text[o]:t.text,u.htx=Array.isArray(t.hovertext)?t.hovertext[o]:t.hovertext,u.data=Array.isArray(t.customdata)?t.customdata[o]:t.customdata,u.tp=Array.isArray(t.textposition)?t.textposition[o]:t.textposition;var p=t.textfont;p&&(u.ts=k.isArrayOrTypedArray(p.size)?p.size[o]:p.size,u.tc=Array.isArray(p.color)?p.color[o]:p.color,u.tf=Array.isArray(p.family)?p.family[o]:p.family);var c=t.marker;c&&(u.ms=k.isArrayOrTypedArray(c.size)?c.size[o]:c.size,u.mo=k.isArrayOrTypedArray(c.opacity)?c.opacity[o]:c.opacity,u.mx=k.isArrayOrTypedArray(c.symbol)?c.symbol[o]:c.symbol,u.ma=k.isArrayOrTypedArray(c.angle)?c.angle[o]:c.angle,u.mc=k.isArrayOrTypedArray(c.color)?c.color[o]:c.color);var b=c&&c.line;b&&(u.mlc=Array.isArray(b.color)?b.color[o]:b.color,u.mlw=k.isArrayOrTypedArray(b.width)?b.width[o]:b.width);var g=c&&c.gradient;g&&g.type!=="none"&&(u.mgt=Array.isArray(g.type)?g.type[o]:g.type,u.mgc=Array.isArray(g.color)?g.color[o]:g.color);var h=i.c2p(u.x,!0),x=r.c2p(u.y,!0),v=u.mrc||1,m=t.hoverlabel;m&&(u.hbg=Array.isArray(m.bgcolor)?m.bgcolor[o]:m.bgcolor,u.hbc=Array.isArray(m.bordercolor)?m.bordercolor[o]:m.bordercolor,u.hts=k.isArrayOrTypedArray(m.font.size)?m.font.size[o]:m.font.size,u.htc=Array.isArray(m.font.color)?m.font.color[o]:m.font.color,u.htf=Array.isArray(m.font.family)?m.font.family[o]:m.font.family,u.hnl=k.isArrayOrTypedArray(m.namelength)?m.namelength[o]:m.namelength);var w=t.hoverinfo;w&&(u.hi=Array.isArray(w)?w[o]:w);var f=t.hovertemplate;f&&(u.ht=Array.isArray(f)?f[o]:f);var S={};S[y.index]=u;var T=t._origX,E=t._origY,L=k.extendFlat({},y,{color:a(t,u),x0:h-v,x1:h+v,xLabelVal:T?T[o]:u.x,y0:x-v,y1:x+v,yLabelVal:E?E[o]:u.y,cd:S,distance:n,spikeDistance:l,hovertemplate:u.ht});return u.htx?L.text=u.htx:u.tx?L.text=u.tx:t.text&&(L.text=t.text),k.fillText(u,t,L),M.getComponentMethod("errorbars","hoverInfo")(u,t,L),L}Y.exports={hoverPoints:function(y,d,s,t){var i,r,n,l,o,u,p,c,b,g,h=y.cd,x=h[0].t,v=h[0].trace,m=y.xa,w=y.ya,f=x.x,S=x.y,T=m.c2p(d),E=w.c2p(s),L=y.distance;if(x.tree){var C=m.p2c(T-L),P=m.p2c(T+L),R=w.p2c(E-L),G=w.p2c(E+L);i=t==="x"?x.tree.range(Math.min(C,P),Math.min(w._rl[0],w._rl[1]),Math.max(C,P),Math.max(w._rl[0],w._rl[1])):x.tree.range(Math.min(C,P),Math.min(R,G),Math.max(C,P),Math.max(R,G))}else i=x.ids;var I=L;if(t==="x"){var H=!!v.xperiodalignment,N=!!v.yperiodalignment;for(u=0;u<i.length;u++){if(l=f[r=i[u]],p=Math.abs(m.c2p(l)-T),H){var B=m.c2p(v._xStarts[r]),V=m.c2p(v._xEnds[r]);p=T>=Math.min(B,V)&&T<=Math.max(B,V)?0:1/0}if(p<I){if(I=p,o=S[r],c=w.c2p(o)-E,N){var q=w.c2p(v._yStarts[r]),te=w.c2p(v._yEnds[r]);c=E>=Math.min(q,te)&&E<=Math.max(q,te)?0:1/0}g=Math.sqrt(p*p+c*c),n=i[u]}}}else for(u=i.length-1;u>-1;u--)l=f[r=i[u]],o=S[r],p=m.c2p(l)-T,c=w.c2p(o)-E,(b=Math.sqrt(p*p+c*c))<I&&(I=g=b,n=r);return y.index=n,y.distance=I,y.dxy=g,n===void 0?[y]:[_(y,f,S,v)]},calcHover:_}},68868:function(Y,O,e){var M=e(72156);M.plot=e(26787),Y.exports=M},26787:function(Y,O,e){var M=e(11870),k=e(46075),a=e(3593),_=e(42505),y=e(71828),d=e(64505).selectMode,s=e(79749),t=e(34098),i=e(68687),r=e(5345).styleTextSelection,n={};function l(o,u,p,c){var b=o._size,g=o.width*c,h=o.height*c,x=b.l*c,v=b.b*c,m=b.r*c,w=b.t*c,f=b.w*c,S=b.h*c;return[x+u.domain[0]*f,v+p.domain[0]*S,g-m-(1-u.domain[1])*f,h-w-(1-p.domain[1])*S]}(Y.exports=function(o,u,p){if(p.length){var c,b,g=o._fullLayout,h=u._scene,x=u.xaxis,v=u.yaxis;if(h)if(s(o,["ANGLE_instanced_arrays","OES_element_index_uint"],n)){var m=h.count,w=g._glcanvas.data()[0].regl;if(i(o,u,p),h.dirty){if(h.error2d===!0&&(h.error2d=a(w)),h.line2d===!0&&(h.line2d=k(w)),h.scatter2d===!0&&(h.scatter2d=M(w)),h.fill2d===!0&&(h.fill2d=k(w)),h.glText===!0)for(h.glText=new Array(m),c=0;c<m;c++)h.glText[c]=new _(w);if(h.glText){if(m>h.glText.length){var f=m-h.glText.length;for(c=0;c<f;c++)h.glText.push(new _(w))}else if(m<h.glText.length){var S=h.glText.length-m;h.glText.splice(m,S).forEach(function(ne){ne.destroy()})}for(c=0;c<m;c++)h.glText[c].update(h.textOptions[c])}if(h.line2d&&(h.line2d.update(h.lineOptions),h.lineOptions=h.lineOptions.map(function(ne){if(ne&&ne.positions){for(var re=ne.positions,ae=0;ae<re.length&&(isNaN(re[ae])||isNaN(re[ae+1]));)ae+=2;for(var ue=re.length-2;ue>ae&&(isNaN(re[ue])||isNaN(re[ue+1]));)ue-=2;ne.positions=re.slice(ae,ue+2)}return ne}),h.line2d.update(h.lineOptions)),h.error2d){var T=(h.errorXOptions||[]).concat(h.errorYOptions||[]);h.error2d.update(T)}h.scatter2d&&h.scatter2d.update(h.markerOptions),h.fillOrder=y.repeat(null,m),h.fill2d&&(h.fillOptions=h.fillOptions.map(function(ne,re){var ae=p[re];if(ne&&ae&&ae[0]&&ae[0].trace){var ue,pe,ge=ae[0],we=ge.trace,me=ge.t,ve=h.lineOptions[re],Ie=[];we._ownfill&&Ie.push(re),we._nexttrace&&Ie.push(re+1),Ie.length&&(h.fillOrder[re]=Ie);var Se,ke,se=[],oe=ve&&ve.positions||me.positions;if(we.fill==="tozeroy"){for(Se=0;Se<oe.length&&isNaN(oe[Se+1]);)Se+=2;for(ke=oe.length-2;ke>Se&&isNaN(oe[ke+1]);)ke-=2;oe[Se+1]!==0&&(se=[oe[Se],0]),se=se.concat(oe.slice(Se,ke+2)),oe[ke+1]!==0&&(se=se.concat([oe[ke],0]))}else if(we.fill==="tozerox"){for(Se=0;Se<oe.length&&isNaN(oe[Se]);)Se+=2;for(ke=oe.length-2;ke>Se&&isNaN(oe[ke]);)ke-=2;oe[Se]!==0&&(se=[0,oe[Se+1]]),se=se.concat(oe.slice(Se,ke+2)),oe[ke]!==0&&(se=se.concat([0,oe[ke+1]]))}else if(we.fill==="toself"||we.fill==="tonext"){for(se=[],ue=0,ne.splitNull=!0,pe=0;pe<oe.length;pe+=2)(isNaN(oe[pe])||isNaN(oe[pe+1]))&&((se=se.concat(oe.slice(ue,pe))).push(oe[ue],oe[ue+1]),se.push(null,null),ue=pe+2);se=se.concat(oe.slice(ue)),ue&&se.push(oe[ue],oe[ue+1])}else{var he=we._nexttrace;if(he){var Le=h.lineOptions[re+1];if(Le){var Me=Le.positions;if(we.fill==="tonexty"){for(se=oe.slice(),re=Math.floor(Me.length/2);re--;){var _e=Me[2*re],De=Me[2*re+1];isNaN(_e)||isNaN(De)||se.push(_e,De)}ne.fill=he.fillcolor}}}}if(we._prevtrace&&we._prevtrace.fill==="tonext"){var Ne=h.lineOptions[re-1].positions,ce=se.length/2,Te=[ue=ce];for(pe=0;pe<Ne.length;pe+=2)(isNaN(Ne[pe])||isNaN(Ne[pe+1]))&&(Te.push(pe/2+ce+1),ue=pe+2);se=se.concat(Ne),ne.hole=Te}return ne.fillmode=we.fill,ne.opacity=we.opacity,ne.positions=se,ne}}),h.fill2d.update(h.fillOptions))}var E=g.dragmode,L=d(E),C=g.clickmode.indexOf("select")>-1;for(c=0;c<m;c++){var P=p[c][0],R=P.trace,G=P.t,I=G.index,H=R._length,N=G.x,B=G.y;if(R.selectedpoints||L||C){if(L||(L=!0),R.selectedpoints){var V=h.selectBatch[I]=y.selIndices2selPoints(R),q={};for(b=0;b<V.length;b++)q[V[b]]=1;var te=[];for(b=0;b<H;b++)q[b]||te.push(b);h.unselectBatch[I]=te}var $=G.xpx=new Array(H),K=G.ypx=new Array(H);for(b=0;b<H;b++)$[b]=x.c2p(N[b]),K[b]=v.c2p(B[b])}else G.xpx=G.ypx=null}if(L){if(h.select2d||(h.select2d=M(g._glcanvas.data()[1].regl)),h.scatter2d){var Z=new Array(m);for(c=0;c<m;c++)Z[c]=h.selectBatch[c].length||h.unselectBatch[c].length?h.markerUnselectedOptions[c]:{};h.scatter2d.update(Z)}h.select2d&&(h.select2d.update(h.markerOptions),h.select2d.update(h.markerSelectedOptions)),h.glText&&p.forEach(function(ne){var re=((ne||[])[0]||{}).trace||{};t.hasText(re)&&r(ne)})}else h.scatter2d&&h.scatter2d.update(h.markerOptions);var X={viewport:l(g,x,v,o._context.plotGlPixelRatio),range:[(x._rl||x.range)[0],(v._rl||v.range)[0],(x._rl||x.range)[1],(v._rl||v.range)[1]]},ee=y.repeat(X,h.count);h.fill2d&&h.fill2d.update(ee),h.line2d&&h.line2d.update(ee),h.error2d&&h.error2d.update(ee.concat(ee)),h.scatter2d&&h.scatter2d.update(ee),h.select2d&&h.select2d.update(ee),h.glText&&h.glText.forEach(function(ne){ne.update(X)})}else h.init()}}).reglPrecompiled=n},38967:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){var _=a._scene,y={count:0,dirty:!0,lineOptions:[],fillOptions:[],markerOptions:[],markerSelectedOptions:[],markerUnselectedOptions:[],errorXOptions:[],errorYOptions:[],textOptions:[],textSelectedOptions:[],textUnselectedOptions:[],selectBatch:[],unselectBatch:[]},d={fill2d:!1,scatter2d:!1,error2d:!1,line2d:!1,glText:!1,select2d:!1};return a._scene||((_=a._scene={}).init=function(){M.extendFlat(_,d,y)},_.init(),_.update=function(s){var t=M.repeat(s,_.count);if(_.fill2d&&_.fill2d.update(t),_.scatter2d&&_.scatter2d.update(t),_.line2d&&_.line2d.update(t),_.error2d&&_.error2d.update(t.concat(t)),_.select2d&&_.select2d.update(t),_.glText)for(var i=0;i<_.count;i++)_.glText[i].update(s)},_.draw=function(){for(var s=_.count,t=_.fill2d,i=_.error2d,r=_.line2d,n=_.scatter2d,l=_.glText,o=_.select2d,u=_.selectBatch,p=_.unselectBatch,c=0;c<s;c++){if(t&&_.fillOrder[c]&&t.draw(_.fillOrder[c]),r&&_.lineOptions[c]&&r.draw(c),i&&(_.errorXOptions[c]&&i.draw(c),_.errorYOptions[c]&&i.draw(c+s)),n&&_.markerOptions[c])if(p[c].length){var b=M.repeat([],_.count);b[c]=p[c],n.draw(b)}else u[c].length||n.draw(c);l[c]&&_.textOptions[c]&&l[c].render()}o&&o.draw(u),_.dirty=!1},_.destroy=function(){_.fill2d&&_.fill2d.destroy&&_.fill2d.destroy(),_.scatter2d&&_.scatter2d.destroy&&_.scatter2d.destroy(),_.error2d&&_.error2d.destroy&&_.error2d.destroy(),_.line2d&&_.line2d.destroy&&_.line2d.destroy(),_.select2d&&_.select2d.destroy&&_.select2d.destroy(),_.glText&&_.glText.forEach(function(s){s.destroy&&s.destroy()}),_.lineOptions=null,_.fillOptions=null,_.markerOptions=null,_.markerSelectedOptions=null,_.markerUnselectedOptions=null,_.errorXOptions=null,_.errorYOptions=null,_.textOptions=null,_.textSelectedOptions=null,_.textUnselectedOptions=null,_.selectBatch=null,_.unselectBatch=null,a._scene=null}),_.dirty||M.extendFlat(_,y),_}},58147:function(Y,O,e){var M=e(34098),k=e(5345).styleTextSelection;Y.exports=function(a,_){var y=a.cd,d=a.xaxis,s=a.yaxis,t=[],i=y[0].trace,r=y[0].t,n=i._length,l=r.x,o=r.y,u=r._scene,p=r.index;if(!u)return t;var c=M.hasText(i),b=M.hasMarkers(i),g=!b&&!c;if(i.visible!==!0||g)return t;var h=[],x=[];if(_!==!1&&!_.degenerate)for(var v=0;v<n;v++)_.contains([r.xpx[v],r.ypx[v]],!1,v,a)?(h.push(v),t.push({pointNumber:v,x:d.c2d(l[v]),y:s.c2d(o[v])})):x.push(v);if(b){var m=u.scatter2d;if(h.length||x.length){if(!u.selectBatch[p].length&&!u.unselectBatch[p].length){var w=new Array(u.count);w[p]=u.markerUnselectedOptions[p],m.update.apply(m,w)}}else{var f=new Array(u.count);f[p]=u.markerOptions[p],m.update.apply(m,f)}}return u.selectBatch[p]=h,u.unselectBatch[p]=x,c&&k(y),t}},99181:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(19316),_=e(82196),y=e(23585),d=e(9012),s=e(50693),t=e(1426).extendFlat,i=e(30962).overrideAll,r=e(23585),n=a.line,l=a.marker;Y.exports=i({lon:a.lon,lat:a.lat,cluster:{enabled:{valType:"boolean"},maxzoom:t({},r.layers.maxzoom,{}),step:{valType:"number",arrayOk:!0,dflt:-1,min:-1},size:{valType:"number",arrayOk:!0,dflt:20,min:0},color:{valType:"color",arrayOk:!0},opacity:t({},l.opacity,{dflt:1})},mode:t({},_.mode,{dflt:"markers"}),text:t({},_.text,{}),texttemplate:k({editType:"plot"},{keys:["lat","lon","text"]}),hovertext:t({},_.hovertext,{}),line:{color:n.color,width:n.width},connectgaps:_.connectgaps,marker:t({symbol:{valType:"string",dflt:"circle",arrayOk:!0},angle:{valType:"number",dflt:"auto",arrayOk:!0},allowoverlap:{valType:"boolean",dflt:!1},opacity:l.opacity,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode},s("marker")),fill:a.fill,fillcolor:_.fillcolor,textfont:y.layers.symbol.textfont,textposition:y.layers.symbol.textposition,below:{valType:"string"},selected:{marker:_.selected.marker},unselected:{marker:_.unselected.marker},hoverinfo:t({},d.hoverinfo,{flags:["lon","lat","text","name"]}),hovertemplate:M()},"calc","nested")},15790:function(Y,O,e){var M=e(92770),k=e(71828),a=e(50606).BADNUM,_=e(18214),y=e(21081),d=e(91424),s=e(39984),t=e(34098),i=e(13056),r=e(23469).appendArrayPointValue,n=e(63893).NEWLINES,l=e(63893).BR_TAG_ALL;function o(g){return{type:g,geojson:_.makeBlank(),layout:{visibility:"none"},filter:null,paint:{}}}function u(g,h){return k.isArrayOrTypedArray(g)?h?function(x){return M(g[x])?+g[x]:0}:function(x){return g[x]}:g?function(){return g}:p}function p(){return""}function c(g){return g[0]===a}function b(g,h){var x;if(k.isArrayOrTypedArray(g)&&k.isArrayOrTypedArray(h)){x=["step",["get","point_count"],g[0]];for(var v=1;v<g.length;v++)x.push(h[v-1],g[v])}else x=g;return x}Y.exports=function(g,h){var x,v=h[0].trace,m=v.visible===!0&&v._length!==0,w=v.fill!=="none",f=t.hasLines(v),S=t.hasMarkers(v),T=t.hasText(v),E=S&&v.marker.symbol==="circle",L=S&&v.marker.symbol!=="circle",C=v.cluster&&v.cluster.enabled,P=o("fill"),R=o("line"),G=o("circle"),I=o("symbol"),H={fill:P,line:R,circle:G,symbol:I};if(!m)return H;if((w||f)&&(x=_.calcTraceToLineCoords(h)),w&&(P.geojson=_.makePolygon(x),P.layout.visibility="visible",k.extendFlat(P.paint,{"fill-color":v.fillcolor})),f&&(R.geojson=_.makeLine(x),R.layout.visibility="visible",k.extendFlat(R.paint,{"line-width":v.line.width,"line-color":v.line.color,"line-opacity":v.opacity})),E){var N=function(q){var te,$,K,Z,X=q[0].trace,ee=X.marker,ne=X.selectedpoints,re=k.isArrayOrTypedArray(ee.color),ae=k.isArrayOrTypedArray(ee.size),ue=k.isArrayOrTypedArray(ee.opacity);function pe(se){return X.opacity*se}re&&($=y.hasColorscale(X,"marker")?y.makeColorScaleFuncFromTrace(ee):k.identity),ae&&(K=s(X)),ue&&(Z=function(se){return pe(M(se)?+k.constrain(se,0,1):0)});var ge,we,me=[];for(te=0;te<q.length;te++){var ve=q[te],Ie=ve.lonlat;if(!c(Ie)){var Se={};$&&(Se.mcc=ve.mcc=$(ve.mc)),K&&(Se.mrc=ve.mrc=K(ve.ms)),Z&&(Se.mo=Z(ve.mo)),ne&&(Se.selected=ve.selected||0),me.push({type:"Feature",id:te+1,geometry:{type:"Point",coordinates:Ie},properties:Se})}}if(ne)for(ge=d.makeSelectedPointStyleFns(X),te=0;te<me.length;te++){var ke=me[te].properties;ge.selectedOpacityFn&&(ke.mo=pe(ge.selectedOpacityFn(ke))),ge.selectedColorFn&&(ke.mcc=ge.selectedColorFn(ke)),ge.selectedSizeFn&&(ke.mrc=ge.selectedSizeFn(ke))}return{geojson:{type:"FeatureCollection",features:me},mcc:re||ge&&ge.selectedColorFn?{type:"identity",property:"mcc"}:ee.color,mrc:ae||ge&&ge.selectedSizeFn?{type:"identity",property:"mrc"}:(we=ee.size,we/2),mo:ue||ge&&ge.selectedOpacityFn?{type:"identity",property:"mo"}:pe(ee.opacity)}}(h);G.geojson=N.geojson,G.layout.visibility="visible",C&&(G.filter=["!",["has","point_count"]],H.cluster={type:"circle",filter:["has","point_count"],layout:{visibility:"visible"},paint:{"circle-color":b(v.cluster.color,v.cluster.step),"circle-radius":b(v.cluster.size,v.cluster.step),"circle-opacity":b(v.cluster.opacity,v.cluster.step)}},H.clusterCount={type:"symbol",filter:["has","point_count"],paint:{},layout:{"text-field":"{point_count_abbreviated}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-size":12}}),k.extendFlat(G.paint,{"circle-color":N.mcc,"circle-radius":N.mrc,"circle-opacity":N.mo})}if(E&&C&&(G.filter=["!",["has","point_count"]]),(L||T)&&(I.geojson=function(q,te){for(var $=te._fullLayout,K=q[0].trace,Z=K.marker||{},X=Z.symbol,ee=Z.angle,ne=X!=="circle"?u(X):p,re=ee!=="auto"?u(ee,!0):p,ae=t.hasText(K)?u(K.text):p,ue=[],pe=0;pe<q.length;pe++){var ge=q[pe];if(!c(ge.lonlat)){var we,me=K.texttemplate;if(me){var ve=Array.isArray(me)?me[pe]||"":me,Ie=K._module.formatLabels(ge,K,$),Se={};r(Se,K,ge.i);var ke=K._meta||{};we=k.texttemplateString(ve,Ie,$._d3locale,Se,ge,ke)}else we=ae(pe);we&&(we=we.replace(n,"").replace(l,`
`)),ue.push({type:"Feature",geometry:{type:"Point",coordinates:ge.lonlat},properties:{symbol:ne(pe),angle:re(pe),text:we}})}}return{type:"FeatureCollection",features:ue}}(h,g),k.extendFlat(I.layout,{visibility:"visible","icon-image":"{symbol}-15","text-field":"{text}"}),L&&(k.extendFlat(I.layout,{"icon-size":v.marker.size/10}),"angle"in v.marker&&v.marker.angle!=="auto"&&k.extendFlat(I.layout,{"icon-rotate":{type:"identity",property:"angle"},"icon-rotation-alignment":"map"}),I.layout["icon-allow-overlap"]=v.marker.allowoverlap,k.extendFlat(I.paint,{"icon-opacity":v.opacity*v.marker.opacity,"icon-color":v.marker.color})),T)){var B=(v.marker||{}).size,V=i(v.textposition,B);k.extendFlat(I.layout,{"text-size":v.textfont.size,"text-anchor":V.anchor,"text-offset":V.offset,"text-font":v.textfont.family.split(", ")}),k.extendFlat(I.paint,{"text-color":v.textfont.color,"text-opacity":v.opacity})}return H}},76645:function(Y,O,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),y=e(82410),d=e(28908),s=e(99181),t=["Metropolis Black Italic","Metropolis Black","Metropolis Bold Italic","Metropolis Bold","Metropolis Extra Bold Italic","Metropolis Extra Bold","Metropolis Extra Light Italic","Metropolis Extra Light","Metropolis Light Italic","Metropolis Light","Metropolis Medium Italic","Metropolis Medium","Metropolis Regular Italic","Metropolis Regular","Metropolis Semi Bold Italic","Metropolis Semi Bold","Metropolis Thin Italic","Metropolis Thin","Open Sans Bold Italic","Open Sans Bold","Open Sans Extra Bold Italic","Open Sans Extra Bold","Open Sans Italic","Open Sans Light Italic","Open Sans Light","Open Sans Regular","Open Sans Semibold Italic","Open Sans Semibold","Klokantech Noto Sans Bold","Klokantech Noto Sans CJK Bold","Klokantech Noto Sans CJK Regular","Klokantech Noto Sans Italic","Klokantech Noto Sans Regular"];Y.exports=function(i,r,n,l){function o(m,w){return M.coerce(i,r,s,m,w)}function u(m,w){return M.coerce2(i,r,s,m,w)}var p=function(m,w,f){var S=f("lon")||[],T=f("lat")||[],E=Math.min(S.length,T.length);return w._length=E,E}(0,r,o);if(p){if(o("text"),o("texttemplate"),o("hovertext"),o("hovertemplate"),o("mode"),o("below"),k.hasLines(r)&&(_(i,r,n,l,o,{noDash:!0}),o("connectgaps")),k.hasMarkers(r)){a(i,r,n,l,o,{noLine:!0,noAngle:!0}),o("marker.allowoverlap"),o("marker.angle");var c=r.marker;c.symbol!=="circle"&&(M.isArrayOrTypedArray(c.size)&&(c.size=c.size[0]),M.isArrayOrTypedArray(c.color)&&(c.color=c.color[0]))}var b=u("cluster.maxzoom"),g=u("cluster.step"),h=u("cluster.color",r.marker&&r.marker.color||n),x=u("cluster.size"),v=u("cluster.opacity");o("cluster.enabled",b!==!1||g!==!1||h!==!1||x!==!1||v!==!1),k.hasText(r)&&y(i,r,l,o,{noSelect:!0,font:{family:t.indexOf(l.font.family)!==-1?l.font.family:"Open Sans Regular",size:l.font.size,color:l.font.color}}),o("fill"),r.fill!=="none"&&d(i,r,n,o),M.coerceSelectionMarkerOpacity(r,o)}else r.visible=!1}},53353:function(Y){Y.exports=function(O,e){return O.lon=e.lon,O.lat=e.lat,O}},15636:function(Y,O,e){var M=e(89298);Y.exports=function(k,a,_){var y={},d=_[a.subplot]._subplot.mockAxis,s=k.lonlat;return y.lonLabel=M.tickText(d,d.c2l(s[0]),!0).text,y.latLabel=M.tickText(d,d.c2l(s[1]),!0).text,y}},28178:function(Y,O,e){var M=e(30211),k=e(71828),a=e(34603),_=k.fillText,y=e(50606).BADNUM,d=e(77734).traceLayerPrefix;function s(t,i,r){if(!t.hovertemplate){var n=(i.hi||t.hoverinfo).split("+"),l=n.indexOf("all")!==-1,o=n.indexOf("lon")!==-1,u=n.indexOf("lat")!==-1,p=i.lonlat,c=[];return l||o&&u?c.push("("+b(p[1])+", "+b(p[0])+")"):o?c.push(r.lon+b(p[0])):u&&c.push(r.lat+b(p[1])),(l||n.indexOf("text")!==-1)&&_(i,t,c),c.join("<br>")}function b(g){return g+"°"}}Y.exports={hoverPoints:function(t,i,r){var n=t.cd,l=n[0].trace,o=t.xa,u=t.ya,p=t.subplot,c=[],b=d+l.uid+"-circle",g=l.cluster&&l.cluster.enabled;if(g){var h=p.map.queryRenderedFeatures(null,{layers:[b]});c=h.map(function(P){return P.id})}var x=360*(i>=0?Math.floor((i+180)/360):Math.ceil((i-180)/360)),v=i-x;if(M.getClosest(n,function(P){var R=P.lonlat;if(R[0]===y||g&&c.indexOf(P.i+1)===-1)return 1/0;var G=k.modHalf(R[0],360),I=R[1],H=p.project([G,I]),N=H.x-o.c2p([v,I]),B=H.y-u.c2p([G,r]),V=Math.max(3,P.mrc||0);return Math.max(Math.sqrt(N*N+B*B)-V,1-3/V)},t),t.index!==!1){var m=n[t.index],w=m.lonlat,f=[k.modHalf(w[0],360)+x,w[1]],S=o.c2p(f),T=u.c2p(f),E=m.mrc||1;t.x0=S-E,t.x1=S+E,t.y0=T-E,t.y1=T+E;var L={};L[l.subplot]={_subplot:p};var C=l._module.formatLabels(m,l,L);return t.lonLabel=C.lonLabel,t.latLabel=C.latLabel,t.color=a(l,m),t.extraText=s(l,m,n[0].t.labels),t.hovertemplate=l.hovertemplate,[t]}},getExtraText:s}},20467:function(Y,O,e){Y.exports={attributes:e(99181),supplyDefaults:e(76645),colorbar:e(4898),formatLabels:e(15636),calc:e(84622),plot:e(86951),hoverPoints:e(28178).hoverPoints,eventData:e(53353),selectPoints:e(86387),styleOnSelect:function(M,k){k&&k[0].trace._glTrace.update(k)},moduleType:"trace",name:"scattermapbox",basePlotModule:e(50101),categories:["mapbox","gl","symbols","showLegend","scatter-like"],meta:{}}},86951:function(Y,O,e){var M=e(71828),k=e(15790),a=e(77734).traceLayerPrefix,_={cluster:["cluster","clusterCount","circle"],nonCluster:["fill","line","circle","symbol"]};function y(s,t,i,r){this.type="scattermapbox",this.subplot=s,this.uid=t,this.clusterEnabled=i,this.isHidden=r,this.sourceIds={fill:"source-"+t+"-fill",line:"source-"+t+"-line",circle:"source-"+t+"-circle",symbol:"source-"+t+"-symbol",cluster:"source-"+t+"-circle",clusterCount:"source-"+t+"-circle"},this.layerIds={fill:a+t+"-fill",line:a+t+"-line",circle:a+t+"-circle",symbol:a+t+"-symbol",cluster:a+t+"-cluster",clusterCount:a+t+"-cluster-count"},this.below=null}var d=y.prototype;d.addSource=function(s,t,i){var r={type:"geojson",data:t.geojson};i&&i.enabled&&M.extendFlat(r,{cluster:!0,clusterMaxZoom:i.maxzoom});var n=this.subplot.map.getSource(this.sourceIds[s]);n?n.setData(t.geojson):this.subplot.map.addSource(this.sourceIds[s],r)},d.setSourceData=function(s,t){this.subplot.map.getSource(this.sourceIds[s]).setData(t.geojson)},d.addLayer=function(s,t,i){var r={type:t.type,id:this.layerIds[s],source:this.sourceIds[s],layout:t.layout,paint:t.paint};t.filter&&(r.filter=t.filter);for(var n,l=this.layerIds[s],o=this.subplot.getMapLayers(),u=0;u<o.length;u++)if(o[u].id===l){n=!0;break}n?(this.subplot.setOptions(l,"setLayoutProperty",r.layout),r.layout.visibility==="visible"&&this.subplot.setOptions(l,"setPaintProperty",r.paint)):this.subplot.addLayer(r,i)},d.update=function(s){var t=s[0].trace,i=this.subplot,r=i.map,n=k(i.gd,s),l=i.belowLookup["trace-"+this.uid],o=!(!t.cluster||!t.cluster.enabled),u=!!this.clusterEnabled,p=this;function c(v){u?function(m){for(var w=_.cluster,f=w.length-1;f>=0;f--){var S=w[f];r.removeLayer(p.layerIds[S])}m||r.removeSource(p.sourceIds.circle)}(v):function(m){for(var w=_.nonCluster,f=w.length-1;f>=0;f--){var S=w[f];r.removeLayer(p.layerIds[S]),m||r.removeSource(p.sourceIds[S])}}(v)}function b(v){o?function(m){m||p.addSource("circle",n.circle,t.cluster);for(var w=_.cluster,f=0;f<w.length;f++){var S=w[f],T=n[S];p.addLayer(S,T,l)}}(v):function(m){for(var w=_.nonCluster,f=0;f<w.length;f++){var S=w[f],T=n[S];m||p.addSource(S,T),p.addLayer(S,T,l)}}(v)}function g(){for(var v=o?_.cluster:_.nonCluster,m=0;m<v.length;m++){var w=v[m],f=n[w];f&&(i.setOptions(p.layerIds[w],"setLayoutProperty",f.layout),f.layout.visibility==="visible"&&(w!=="cluster"&&p.setSourceData(w,f),i.setOptions(p.layerIds[w],"setPaintProperty",f.paint)))}}var h=this.isHidden,x=t.visible!==!0;x?h||c():h?x||b():u!==o?(c(),b()):(this.below!==l&&(c(!0),b(!0)),g()),this.clusterEnabled=o,this.isHidden=x,this.below=l,s[0].trace._glTrace=this},d.dispose=function(){for(var s=this.subplot.map,t=this.clusterEnabled?_.cluster:_.nonCluster,i=t.length-1;i>=0;i--){var r=t[i];s.removeLayer(this.layerIds[r]),s.removeSource(this.sourceIds[r])}},Y.exports=function(s,t){var i,r,n,l=t[0].trace,o=l.cluster&&l.cluster.enabled,u=l.visible!==!0,p=new y(s,l.uid,o,u),c=k(s.gd,t),b=p.below=s.belowLookup["trace-"+l.uid];if(o)for(p.addSource("circle",c.circle,l.cluster),i=0;i<_.cluster.length;i++)n=c[r=_.cluster[i]],p.addLayer(r,n,b);else for(i=0;i<_.nonCluster.length;i++)n=c[r=_.nonCluster[i]],p.addSource(r,n,l.cluster),p.addLayer(r,n,b);return t[0].trace._glTrace=p,p}},86387:function(Y,O,e){var M=e(71828),k=e(34098),a=e(50606).BADNUM;Y.exports=function(_,y){var d,s=_.cd,t=_.xaxis,i=_.yaxis,r=[],n=s[0].trace;if(!k.hasMarkers(n))return[];if(y===!1)for(d=0;d<s.length;d++)s[d].selected=0;else for(d=0;d<s.length;d++){var l=s[d],o=l.lonlat;if(o[0]!==a){var u=[M.modHalf(o[0],360),o[1]],p=[t.c2p(u),i.c2p(u)];y.contains(p,null,d,_)?(r.push({pointNumber:d,lon:o[0],lat:o[1]}),l.selected=1):l.selected=0}}return r}},81245:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(1426).extendFlat,_=e(82196),y=e(9012),d=_.line;Y.exports={mode:_.mode,r:{valType:"data_array",editType:"calc+clearAxisTypes"},theta:{valType:"data_array",editType:"calc+clearAxisTypes"},r0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dr:{valType:"number",dflt:1,editType:"calc"},theta0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dtheta:{valType:"number",editType:"calc"},thetaunit:{valType:"enumerated",values:["radians","degrees","gradians"],dflt:"degrees",editType:"calc+clearAxisTypes"},text:_.text,texttemplate:k({editType:"plot"},{keys:["r","theta","text"]}),hovertext:_.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:a({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:_.connectgaps,marker:_.marker,cliponaxis:a({},_.cliponaxis,{dflt:!1}),textposition:_.textposition,textfont:_.textfont,fill:a({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_.fillcolor,hoverinfo:a({},y.hoverinfo,{flags:["r","theta","text","name"]}),hoveron:_.hoveron,hovertemplate:M(),selected:_.selected,unselected:_.unselected}},26442:function(Y,O,e){var M=e(92770),k=e(50606).BADNUM,a=e(89298),_=e(36922),y=e(75225),d=e(66279),s=e(47761).calcMarkerSize;Y.exports=function(t,i){for(var r=t._fullLayout,n=i.subplot,l=r[n].radialaxis,o=r[n].angularaxis,u=l.makeCalcdata(i,"r"),p=o.makeCalcdata(i,"theta"),c=i._length,b=new Array(c),g=0;g<c;g++){var h=u[g],x=p[g],v=b[g]={};M(h)&&M(x)?(v.r=h,v.theta=x):v.r=k}var m=s(i,c);return i._extremes.x=a.findExtremes(l,u,{ppad:m}),_(t,i),y(b,i),d(b,i),b}},22184:function(Y,O,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),y=e(94039),d=e(82410),s=e(28908),t=e(47581).PTS_LINESONLY,i=e(81245);function r(n,l,o,u){var p,c=u("r"),b=u("theta");if(c)b?p=Math.min(c.length,b.length):(p=c.length,u("theta0"),u("dtheta"));else{if(!b)return 0;p=l.theta.length,u("r0"),u("dr")}return l._length=p,p}Y.exports={handleRThetaDefaults:r,supplyDefaults:function(n,l,o,u){function p(g,h){return M.coerce(n,l,i,g,h)}var c=r(0,l,0,p);if(c){p("thetaunit"),p("mode",c<t?"lines+markers":"lines"),p("text"),p("hovertext"),l.hoveron!=="fills"&&p("hovertemplate"),k.hasLines(l)&&(_(n,l,o,u,p,{backoff:!0}),y(n,l,p),p("connectgaps")),k.hasMarkers(l)&&a(n,l,o,u,p,{gradient:!0}),k.hasText(l)&&(p("texttemplate"),d(n,l,u,p));var b=[];(k.hasMarkers(l)||k.hasText(l))&&(p("cliponaxis"),p("marker.maxdisplayed"),b.push("points")),p("fill"),l.fill!=="none"&&(s(n,l,o,p),k.hasLines(l)||y(n,l,p)),l.fill!=="tonext"&&l.fill!=="toself"||b.push("fills"),p("hoveron",b.join("+")||"points"),M.coerceSelectionMarkerOpacity(l,p)}else l.visible=!1}}},98608:function(Y,O,e){var M=e(71828),k=e(89298);Y.exports=function(a,_,y){var d,s,t={},i=y[_.subplot]._subplot;i?(d=i.radialAxis,s=i.angularAxis):(d=(i=y[_.subplot]).radialaxis,s=i.angularaxis);var r=d.c2l(a.r);t.rLabel=k.tickText(d,r,!0).text;var n=s.thetaunit==="degrees"?M.rad2deg(a.theta):a.theta;return t.thetaLabel=k.tickText(s,n,!0).text,t}},59150:function(Y,O,e){var M=e(33720);function k(a,_,y,d){var s=y.radialAxis,t=y.angularAxis;s._hovertitle="r",t._hovertitle="θ";var i={};i[_.subplot]={_subplot:y};var r=_._module.formatLabels(a,_,i);d.rLabel=r.rLabel,d.thetaLabel=r.thetaLabel;var n=a.hi||_.hoverinfo,l=[];function o(p,c){l.push(p._hovertitle+": "+c)}if(!_.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["r","theta","text"]),u.indexOf("r")!==-1&&o(s,d.rLabel),u.indexOf("theta")!==-1&&o(t,d.thetaLabel),u.indexOf("text")!==-1&&d.text&&(l.push(d.text),delete d.text),d.extraText=l.join("<br>")}}Y.exports={hoverPoints:function(a,_,y,d){var s=M(a,_,y,d);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var i=a.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,s}},makeHoverPointText:k}},91271:function(Y,O,e){Y.exports={moduleType:"trace",name:"scatterpolar",basePlotModule:e(23580),categories:["polar","symbols","showLegend","scatter-like"],attributes:e(81245),supplyDefaults:e(22184).supplyDefaults,colorbar:e(4898),formatLabels:e(98608),calc:e(26442),plot:e(45162),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(59150).hoverPoints,selectPoints:e(98002),meta:{}}},45162:function(Y,O,e){var M=e(32663),k=e(50606).BADNUM;Y.exports=function(a,_,y){for(var d=_.layers.frontplot.select("g.scatterlayer"),s=_.xaxis,t=_.yaxis,i={xaxis:s,yaxis:t,plot:_.framework,layerClipId:_._hasClipOnAxisFalse?_.clipIds.forTraces:null},r=_.radialAxis,n=_.angularAxis,l=0;l<y.length;l++)for(var o=y[l],u=0;u<o.length;u++){u===0&&(o[0].trace._xA=s,o[0].trace._yA=t);var p=o[u],c=p.r;if(c===k)p.x=p.y=k;else{var b=r.c2g(c),g=n.c2g(p.theta);p.x=b*Math.cos(g),p.y=b*Math.sin(g)}}M(a,i,y,d)}},53286:function(Y,O,e){var M=e(81245),k=e(42341),a=e(5386).si;Y.exports={mode:M.mode,r:M.r,theta:M.theta,r0:M.r0,dr:M.dr,theta0:M.theta0,dtheta:M.dtheta,thetaunit:M.thetaunit,text:M.text,texttemplate:a({editType:"plot"},{keys:["r","theta","text"]}),hovertext:M.hovertext,hovertemplate:M.hovertemplate,line:k.line,connectgaps:k.connectgaps,marker:k.marker,fill:k.fill,fillcolor:k.fillcolor,textposition:k.textposition,textfont:k.textfont,hoverinfo:M.hoverinfo,selected:M.selected,unselected:M.unselected}},65746:function(Y,O,e){Y.exports={moduleType:"trace",name:"scatterpolargl",basePlotModule:e(23580),categories:["gl","regl","polar","symbols","showLegend","scatter-like"],attributes:e(53286),supplyDefaults:e(75485),colorbar:e(4898),formatLabels:e(46255),calc:e(37499),hoverPoints:e(29347).hoverPoints,selectPoints:e(58147),meta:{}}},37499:function(Y,O,e){var M=e(36922),k=e(47761).calcMarkerSize,a=e(19635),_=e(89298),y=e(78232).TOO_MANY_POINTS;Y.exports=function(d,s){var t=d._fullLayout,i=s.subplot,r=t[i].radialaxis,n=t[i].angularaxis,l=s._r=r.makeCalcdata(s,"r"),o=s._theta=n.makeCalcdata(s,"theta"),u=s._length,p={};u<l.length&&(l=l.slice(0,u)),u<o.length&&(o=o.slice(0,u)),p.r=l,p.theta=o,M(d,s);var c,b=p.opts=a.style(d,s);return u<y?c=k(s,u):b.marker&&(c=2*(b.marker.sizeAvg||Math.max(b.marker.size,3))),s._extremes.x=_.findExtremes(r,l,{ppad:c}),[{x:!1,y:!1,t:p,trace:s}]}},75485:function(Y,O,e){var M=e(71828),k=e(34098),a=e(22184).handleRThetaDefaults,_=e(49508),y=e(11058),d=e(82410),s=e(28908),t=e(47581).PTS_LINESONLY,i=e(53286);Y.exports=function(r,n,l,o){function u(c,b){return M.coerce(r,n,i,c,b)}var p=a(r,n,o,u);p?(u("thetaunit"),u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),k.hasLines(n)&&(y(r,n,l,o,u),u("connectgaps")),k.hasMarkers(n)&&_(r,n,l,o,u,{noAngleRef:!0,noStandOff:!0}),k.hasText(n)&&(u("texttemplate"),d(r,n,o,u)),u("fill"),n.fill!=="none"&&s(r,n,l,u),M.coerceSelectionMarkerOpacity(n,u)):n.visible=!1}},46255:function(Y,O,e){var M=e(98608);Y.exports=function(k,a,_){var y=k.i;return"r"in k||(k.r=a._r[y]),"theta"in k||(k.theta=a._theta[y]),M(k,a,_)}},29347:function(Y,O,e){var M=e(20794),k=e(59150).makeHoverPointText;Y.exports={hoverPoints:function(a,_,y,d){var s=a.cd[0].t,t=s.r,i=s.theta,r=M.hoverPoints(a,_,y,d);if(r&&r[0].index!==!1){var n=r[0];if(n.index===void 0)return r;var l=a.subplot,o=n.cd[n.index],u=n.trace;if(o.r=t[n.index],o.theta=i[n.index],l.isPtInside(o))return n.xLabelVal=void 0,n.yLabelVal=void 0,k(o,u,l,n),r}}}},21461:function(Y,O,e){var M=e(65746);M.plot=e(49741),Y.exports=M},49741:function(Y,O,e){var M=e(88294),k=e(92770),a=e(26787),_=e(38967),y=e(19635),d=e(71828),s=e(78232).TOO_MANY_POINTS;Y.exports=function(t,i,r){if(r.length){var n=i.radialAxis,l=i.angularAxis,o=_(t,i);return r.forEach(function(u){if(u&&u[0]&&u[0].trace){var p,c=u[0],b=c.trace,g=c.t,h=b._length,x=g.r,v=g.theta,m=g.opts,w=x.slice(),f=v.slice();for(p=0;p<x.length;p++)i.isPtInside({r:x[p],theta:v[p]})||(w[p]=NaN,f[p]=NaN);var S=new Array(2*h),T=Array(h),E=Array(h);for(p=0;p<h;p++){var L,C,P=w[p];if(k(P)){var R=n.c2g(P),G=l.c2g(f[p],b.thetaunit);L=R*Math.cos(G),C=R*Math.sin(G)}else L=C=NaN;T[p]=S[2*p]=L,E[p]=S[2*p+1]=C}g.tree=M(S),m.marker&&h>=s&&(m.marker.cluster=g.tree),m.marker&&(m.markerSel.positions=m.markerUnsel.positions=m.marker.positions=S),m.line&&S.length>1&&d.extendFlat(m.line,y.linePositions(t,b,S)),m.text&&(d.extendFlat(m.text,{positions:S},y.textPosition(t,b,m.text,m.marker)),d.extendFlat(m.textSel,{positions:S},y.textPosition(t,b,m.text,m.markerSel)),d.extendFlat(m.textUnsel,{positions:S},y.textPosition(t,b,m.text,m.markerUnsel))),m.fill&&!o.fill2d&&(o.fill2d=!0),m.marker&&!o.scatter2d&&(o.scatter2d=!0),m.line&&!o.line2d&&(o.line2d=!0),m.text&&!o.glText&&(o.glText=!0),o.lineOptions.push(m.line),o.fillOptions.push(m.fill),o.markerOptions.push(m.marker),o.markerSelectedOptions.push(m.markerSel),o.markerUnselectedOptions.push(m.markerUnsel),o.textOptions.push(m.text),o.textSelectedOptions.push(m.textSel),o.textUnselectedOptions.push(m.textUnsel),o.selectBatch.push([]),o.unselectBatch.push([]),g.x=T,g.y=E,g.rawx=T,g.rawy=E,g.r=x,g.theta=v,g.positions=S,g._scene=o,g.index=o.count,o.count++}}),a(t,i,r)}},Y.exports.reglPrecompiled={}},48300:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(1426).extendFlat,_=e(82196),y=e(9012),d=_.line;Y.exports={mode:_.mode,real:{valType:"data_array",editType:"calc+clearAxisTypes"},imag:{valType:"data_array",editType:"calc+clearAxisTypes"},text:_.text,texttemplate:k({editType:"plot"},{keys:["real","imag","text"]}),hovertext:_.hovertext,line:{color:d.color,width:d.width,dash:d.dash,backoff:d.backoff,shape:a({},d.shape,{values:["linear","spline"]}),smoothing:d.smoothing,editType:"calc"},connectgaps:_.connectgaps,marker:_.marker,cliponaxis:a({},_.cliponaxis,{dflt:!1}),textposition:_.textposition,textfont:_.textfont,fill:a({},_.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:_.fillcolor,hoverinfo:a({},y.hoverinfo,{flags:["real","imag","text","name"]}),hoveron:_.hoveron,hovertemplate:M(),selected:_.selected,unselected:_.unselected}},30621:function(Y,O,e){var M=e(92770),k=e(50606).BADNUM,a=e(36922),_=e(75225),y=e(66279),d=e(47761).calcMarkerSize;Y.exports=function(s,t){for(var i=s._fullLayout,r=t.subplot,n=i[r].realaxis,l=i[r].imaginaryaxis,o=n.makeCalcdata(t,"real"),u=l.makeCalcdata(t,"imag"),p=t._length,c=new Array(p),b=0;b<p;b++){var g=o[b],h=u[b],x=c[b]={};M(g)&&M(h)?(x.real=g,x.imag=h):x.real=k}return d(t,p),a(s,t),_(c,t),y(c,t),c}},65269:function(Y,O,e){var M=e(71828),k=e(34098),a=e(49508),_=e(11058),y=e(94039),d=e(82410),s=e(28908),t=e(47581).PTS_LINESONLY,i=e(48300);Y.exports=function(r,n,l,o){function u(b,g){return M.coerce(r,n,i,b,g)}var p=function(b,g,h,x){var v,m=x("real"),w=x("imag");return m&&w&&(v=Math.min(m.length,w.length)),g._length=v,v}(0,n,0,u);if(p){u("mode",p<t?"lines+markers":"lines"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),k.hasLines(n)&&(_(r,n,l,o,u,{backoff:!0}),y(r,n,u),u("connectgaps")),k.hasMarkers(n)&&a(r,n,l,o,u,{gradient:!0}),k.hasText(n)&&(u("texttemplate"),d(r,n,o,u));var c=[];(k.hasMarkers(n)||k.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),c.push("points")),u("fill"),n.fill!=="none"&&(s(r,n,l,u),k.hasLines(n)||y(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||c.push("fills"),u("hoveron",c.join("+")||"points"),M.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},62047:function(Y,O,e){var M=e(89298);Y.exports=function(k,a,_){var y={},d=_[a.subplot]._subplot;return y.realLabel=M.tickText(d.radialAxis,k.real,!0).text,y.imagLabel=M.tickText(d.angularAxis,k.imag,!0).text,y}},11350:function(Y,O,e){var M=e(33720);function k(a,_,y,d){var s=y.radialAxis,t=y.angularAxis;s._hovertitle="real",t._hovertitle="imag";var i={};i[_.subplot]={_subplot:y};var r=_._module.formatLabels(a,_,i);d.realLabel=r.realLabel,d.imagLabel=r.imagLabel;var n=a.hi||_.hoverinfo,l=[];function o(p,c){l.push(p._hovertitle+": "+c)}if(!_.hovertemplate){var u=n.split("+");u.indexOf("all")!==-1&&(u=["real","imag","text"]),u.indexOf("real")!==-1&&o(s,d.realLabel),u.indexOf("imag")!==-1&&o(t,d.imagLabel),u.indexOf("text")!==-1&&d.text&&(l.push(d.text),delete d.text),d.extraText=l.join("<br>")}}Y.exports={hoverPoints:function(a,_,y,d){var s=M(a,_,y,d);if(s&&s[0].index!==!1){var t=s[0];if(t.index===void 0)return s;var i=a.subplot,r=t.cd[t.index],n=t.trace;if(i.isPtInside(r))return t.xLabelVal=void 0,t.yLabelVal=void 0,k(r,n,i,t),t.hovertemplate=n.hovertemplate,s}},makeHoverPointText:k}},85956:function(Y,O,e){Y.exports={moduleType:"trace",name:"scattersmith",basePlotModule:e(7504),categories:["smith","symbols","showLegend","scatter-like"],attributes:e(48300),supplyDefaults:e(65269),colorbar:e(4898),formatLabels:e(62047),calc:e(30621),plot:e(12480),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(11350).hoverPoints,selectPoints:e(98002),meta:{}}},12480:function(Y,O,e){var M=e(32663),k=e(50606).BADNUM,a=e(23893).smith;Y.exports=function(_,y,d){for(var s=y.layers.frontplot.select("g.scatterlayer"),t=y.xaxis,i=y.yaxis,r={xaxis:t,yaxis:i,plot:y.framework,layerClipId:y._hasClipOnAxisFalse?y.clipIds.forTraces:null},n=0;n<d.length;n++)for(var l=d[n],o=0;o<l.length;o++){o===0&&(l[0].trace._xA=t,l[0].trace._yA=i);var u=l[o],p=u.real;if(p===k)u.x=u.y=k;else{var c=a([p,u.imag]);u.x=c[0],u.y=c[1]}}M(_,r,d,s)}},50413:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(82196),_=e(9012),y=e(50693),d=e(79952).P,s=e(1426).extendFlat,t=a.marker,i=a.line,r=t.line;Y.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:s({},a.mode,{dflt:"markers"}),text:s({},a.text,{}),texttemplate:k({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:s({},a.hovertext,{}),line:{color:i.color,width:i.width,dash:d,backoff:i.backoff,shape:s({},i.shape,{values:["linear","spline"]}),smoothing:i.smoothing,editType:"calc"},connectgaps:a.connectgaps,cliponaxis:a.cliponaxis,fill:s({},a.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:a.fillcolor,marker:s({symbol:t.symbol,opacity:t.opacity,angle:t.angle,angleref:t.angleref,standoff:t.standoff,maxdisplayed:t.maxdisplayed,size:t.size,sizeref:t.sizeref,sizemin:t.sizemin,sizemode:t.sizemode,line:s({width:r.width,editType:"calc"},y("marker.line")),gradient:t.gradient,editType:"calc"},y("marker")),textfont:a.textfont,textposition:a.textposition,selected:a.selected,unselected:a.unselected,hoverinfo:s({},_.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:a.hoveron,hovertemplate:M()}},54337:function(Y,O,e){var M=e(92770),k=e(36922),a=e(75225),_=e(66279),y=e(47761).calcMarkerSize,d=["a","b","c"],s={a:["b","c"],b:["a","c"],c:["a","b"]};Y.exports=function(t,i){var r,n,l,o,u,p,c=t._fullLayout[i.subplot].sum,b=i.sum||c,g={a:i.a,b:i.b,c:i.c};for(r=0;r<d.length;r++)if(!g[l=d[r]]){for(u=g[s[l][0]],p=g[s[l][1]],o=new Array(u.length),n=0;n<u.length;n++)o[n]=b-u[n]-p[n];g[l]=o}var h,x,v,m,w,f,S=i._length,T=new Array(S);for(r=0;r<S;r++)h=g.a[r],x=g.b[r],v=g.c[r],M(h)&&M(x)&&M(v)?((m=c/((h=+h)+(x=+x)+(v=+v)))!=1&&(h*=m,x*=m,v*=m),f=h,w=v-x,T[r]={x:w,y:f,a:h,b:x,c:v}):T[r]={x:!1,y:!1};return y(i,S),k(t,i),a(T,i),_(T,i),T}},46008:function(Y,O,e){var M=e(71828),k=e(47581),a=e(34098),_=e(49508),y=e(11058),d=e(94039),s=e(82410),t=e(28908),i=e(50413);Y.exports=function(r,n,l,o){function u(x,v){return M.coerce(r,n,i,x,v)}var p,c=u("a"),b=u("b"),g=u("c");if(c?(p=c.length,b?(p=Math.min(p,b.length),g&&(p=Math.min(p,g.length))):p=g?Math.min(p,g.length):0):b&&g&&(p=Math.min(b.length,g.length)),p){n._length=p,u("sum"),u("text"),u("hovertext"),n.hoveron!=="fills"&&u("hovertemplate"),u("mode",p<k.PTS_LINESONLY?"lines+markers":"lines"),a.hasLines(n)&&(y(r,n,l,o,u,{backoff:!0}),d(r,n,u),u("connectgaps")),a.hasMarkers(n)&&_(r,n,l,o,u,{gradient:!0}),a.hasText(n)&&(u("texttemplate"),s(r,n,o,u));var h=[];(a.hasMarkers(n)||a.hasText(n))&&(u("cliponaxis"),u("marker.maxdisplayed"),h.push("points")),u("fill"),n.fill!=="none"&&(t(r,n,l,u),a.hasLines(n)||d(r,n,u)),n.fill!=="tonext"&&n.fill!=="toself"||h.push("fills"),u("hoveron",h.join("+")||"points"),M.coerceSelectionMarkerOpacity(n,u)}else n.visible=!1}},4524:function(Y){Y.exports=function(O,e,M,k,a){if(e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),k[a]){var _=k[a];O.a=_.a,O.b=_.b,O.c=_.c}else O.a=e.a,O.b=e.b,O.c=e.c;return O}},93645:function(Y,O,e){var M=e(89298);Y.exports=function(k,a,_){var y={},d=_[a.subplot]._subplot;return y.aLabel=M.tickText(d.aaxis,k.a,!0).text,y.bLabel=M.tickText(d.baxis,k.b,!0).text,y.cLabel=M.tickText(d.caxis,k.c,!0).text,y}},47250:function(Y,O,e){var M=e(33720);Y.exports=function(k,a,_,y){var d=M(k,a,_,y);if(d&&d[0].index!==!1){var s=d[0];if(s.index===void 0){var t=1-s.y0/k.ya._length,i=k.xa._length,r=i*t/2,n=i-r;return s.x0=Math.max(Math.min(s.x0,n),r),s.x1=Math.max(Math.min(s.x1,n),r),d}var l=s.cd[s.index],o=s.trace,u=s.subplot;s.a=l.a,s.b=l.b,s.c=l.c,s.xLabelVal=void 0,s.yLabelVal=void 0;var p={};p[o.subplot]={_subplot:u};var c=o._module.formatLabels(l,o,p);s.aLabel=c.aLabel,s.bLabel=c.bLabel,s.cLabel=c.cLabel;var b=l.hi||o.hoverinfo,g=[];if(!o.hovertemplate){var h=b.split("+");h.indexOf("all")!==-1&&(h=["a","b","c"]),h.indexOf("a")!==-1&&x(u.aaxis,s.aLabel),h.indexOf("b")!==-1&&x(u.baxis,s.bLabel),h.indexOf("c")!==-1&&x(u.caxis,s.cLabel)}return s.extraText=g.join("<br>"),s.hovertemplate=o.hovertemplate,d}function x(v,m){g.push(v._hovertitle+": "+m)}}},52979:function(Y,O,e){Y.exports={attributes:e(50413),supplyDefaults:e(46008),colorbar:e(4898),formatLabels:e(93645),calc:e(54337),plot:e(7507),style:e(16296).style,styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(47250),selectPoints:e(98002),eventData:e(4524),moduleType:"trace",name:"scatterternary",basePlotModule:e(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(Y,O,e){var M=e(32663);Y.exports=function(k,a,_){var y=a.plotContainer;y.select(".scatterlayer").selectAll("*").remove();for(var d=a.xaxis,s=a.yaxis,t={xaxis:d,yaxis:s,plot:y,layerClipId:a._hasClipOnAxisFalse?a.clipIdRelative:null},i=a.layers.frontplot.select("g.scatterlayer"),r=0;r<_.length;r++){var n=_[r];n.length&&(n[0].trace._xA=d,n[0].trace._yA=s)}M(k,t,_,i)}},46880:function(Y,O,e){var M=e(82196),k=e(50693),a=e(12663).axisHoverFormat,_=e(5386).fF,y=e(42341),d=e(85555).idRegex,s=e(44467).templatedArray,t=e(1426).extendFlat,i=M.marker,r=i.line,n=t(k("marker.line",{editTypeOverride:"calc"}),{width:t({},r.width,{editType:"calc"}),editType:"calc"}),l=t(k("marker"),{symbol:i.symbol,angle:i.angle,size:t({},i.size,{editType:"markerSize"}),sizeref:i.sizeref,sizemin:i.sizemin,sizemode:i.sizemode,opacity:i.opacity,colorbar:i.colorbar,line:n,editType:"calc"});function o(u){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:d[u],editType:"plot"}}}l.color.editType=l.cmin.editType=l.cmax.editType="style",Y.exports={dimensions:s("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc"},label:{valType:"string",editType:"calc"},values:{valType:"data_array",editType:"calc+clearAxisTypes"},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes"},matches:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:t({},y.text,{}),hovertext:t({},y.hovertext,{}),hovertemplate:_(),xhoverformat:a("x"),yhoverformat:a("y"),marker:l,xaxes:o("x"),yaxes:o("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc"},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc"},selected:{marker:y.selected.marker,editType:"calc"},unselected:{marker:y.unselected.marker,editType:"calc"},opacity:y.opacity}},65017:function(Y,O,e){var M=e(73972),k=e(83312);Y.exports={moduleType:"trace",name:"splom",categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:e(46880),supplyDefaults:e(25784),colorbar:e(4898),calc:e(87625),plot:e(79410),hoverPoints:e(8567).hoverPoints,selectPoints:e(8689),editStyle:e(28801),meta:{}},M.register(k)},16947:function(Y,O,e){var M=e(46075),k=e(73972),a=e(79749),_=e(27659).a0,y=e(93612),d=e(41675).getFromId,s=e(89298).shouldShowZeroLine,t="splom",i={};function r(l,o,u){for(var p=u.matrixOptions.data.length,c=o._visibleDims,b=u.viewOpts.ranges=new Array(p),g=0;g<c.length;g++){var h=c[g],x=b[g]=new Array(4),v=d(l,o._diag[h][0]);v&&(x[0]=v.r2l(v.range[0]),x[2]=v.r2l(v.range[1]));var m=d(l,o._diag[h][1]);m&&(x[1]=m.r2l(m.range[0]),x[3]=m.r2l(m.range[1]))}u.selectBatch.length||u.unselectBatch.length?u.matrix.update({ranges:b},{ranges:b}):u.matrix.update({ranges:b})}function n(l){var o=l._fullLayout,u=o._glcanvas.data()[0].regl,p=o._splomGrid;p||(p=o._splomGrid=M(u)),p.update(function(c){var b,g=c._context.plotGlPixelRatio,h=c._fullLayout,x=h._size,v=[0,0,h.width*g,h.height*g],m={};function w(q,te,$,K,Z,X){$*=g,K*=g,Z*=g,X*=g;var ee=te[q+"color"],ne=te[q+"width"],re=String(ee+ne);re in m?m[re].data.push(NaN,NaN,$,K,Z,X):m[re]={data:[$,K,Z,X],join:"rect",thickness:ne*g,color:ee,viewport:v,range:v,overlay:!1}}for(b in h._splomSubplots){var f,S,T=h._plots[b],E=T.xaxis,L=T.yaxis,C=E._gridVals,P=L._gridVals,R=E._offset,G=E._length,I=L._length,H=x.b+L.domain[0]*x.h,N=-L._m,B=-N*L.r2l(L.range[0],L.calendar);if(E.showgrid)for(b=0;b<C.length;b++)f=R+E.l2p(C[b].x),w("grid",E,f,H,f,H+I);if(L.showgrid)for(b=0;b<P.length;b++)w("grid",L,R,S=H+B+N*P[b].x,R+G,S);s(c,E,L)&&(f=R+E.l2p(0),w("zeroline",E,f,H,f,H+I)),s(c,L,E)&&w("zeroline",L,R,S=H+B+0,R+G,S)}var V=[];for(b in m)V.push(m[b]);return V}(l))}Y.exports={name:t,attr:y.attr,attrRegex:y.attrRegex,layoutAttributes:y.layoutAttributes,supplyLayoutDefaults:y.supplyLayoutDefaults,drawFramework:y.drawFramework,plot:function(l){var o=l._fullLayout,u=k.getModule(t),p=_(l.calcdata,u)[0];a(l,["ANGLE_instanced_arrays","OES_element_index_uint"],i)&&(o._hasOnlyLargeSploms&&n(l),u.plot(l,{},p))},drag:function(l){var o=l.calcdata,u=l._fullLayout;u._hasOnlyLargeSploms&&n(l);for(var p=0;p<o.length;p++){var c=o[p][0].trace,b=u._splomScenes[c.uid];c.type==="splom"&&b&&b.matrix&&r(l,c,b)}},updateGrid:n,clean:function(l,o,u,p){var c,b={};if(p._splomScenes){for(c=0;c<l.length;c++){var g=l[c];g.type==="splom"&&(b[g.uid]=1)}for(c=0;c<u.length;c++){var h=u[c];if(!b[h.uid]){var x=p._splomScenes[h.uid];x&&x.destroy&&x.destroy(),p._splomScenes[h.uid]=null,delete p._splomScenes[h.uid]}}}Object.keys(p._splomScenes||{}).length===0&&delete p._splomScenes,p._splomGrid&&!o._hasOnlyLargeSploms&&p._hasOnlyLargeSploms&&(p._splomGrid.destroy(),p._splomGrid=null,delete p._splomGrid),y.clean(l,o,u,p)},updateFx:y.updateFx,toSVG:y.toSVG,reglPrecompiled:i}},87625:function(Y,O,e){var M=e(71828),k=e(41675),a=e(47761).calcMarkerSize,_=e(47761).calcAxisExpansion,y=e(36922),d=e(19635).markerSelection,s=e(19635).markerStyle,t=e(10164),i=e(50606).BADNUM,r=e(78232).TOO_MANY_POINTS;Y.exports=function(n,l){var o,u,p,c,b,g,h=l.dimensions,x=l._length,v={},m=v.cdata=[],w=v.data=[],f=l._visibleDims=[];function S(E,L){for(var C=E.makeCalcdata({v:L.values,vcalendar:l.calendar},"v"),P=0;P<C.length;P++)C[P]=C[P]===i?NaN:C[P];m.push(C),w.push(E.type==="log"?M.simpleMap(C,E.c2l):C)}for(o=0;o<h.length;o++)if((p=h[o]).visible){if(c=k.getFromId(n,l._diag[o][0]),b=k.getFromId(n,l._diag[o][1]),c&&b&&c.type!==b.type){M.log("Skipping splom dimension "+o+" with conflicting axis types");continue}c?(S(c,p),b&&b.type==="category"&&(b._categories=c._categories.slice())):S(b,p),f.push(o)}for(y(n,l),M.extendFlat(v,s(n,l)),g=m.length*x>r?v.sizeAvg||Math.max(v.size,3):a(l,x),u=0;u<f.length;u++)p=h[o=f[u]],c=k.getFromId(n,l._diag[o][0])||{},b=k.getFromId(n,l._diag[o][1])||{},_(n,l,c,b,m[u],m[u],g);var T=t(n,l);return T.matrix||(T.matrix=!0),T.matrixOptions=v,T.selectedOptions=d(n,l,l.selected),T.unselectedOptions=d(n,l,l.unselected),[{x:!1,y:!1,t:{},trace:l}]}},25784:function(Y,O,e){var M=e(71828),k=e(85501),a=e(46880),_=e(34098),y=e(49508),d=e(94397),s=e(68645).isOpenSymbol;function t(i,r){function n(o,u){return M.coerce(i,r,a.dimensions,o,u)}n("label");var l=n("values");l&&l.length?n("visible"):r.visible=!1,n("axis.type"),n("axis.matches")}Y.exports=function(i,r,n,l){function o(x,v){return M.coerce(i,r,a,x,v)}var u=k(i,r,{name:"dimensions",handleItemDefaults:t}),p=o("diagonal.visible"),c=o("showupperhalf"),b=o("showlowerhalf");if(d(r,u,"values")&&(p||c||b)){o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),y(i,r,n,l,o,{noAngleRef:!0,noStandOff:!0});var g=s(r.marker.symbol),h=_.isBubble(r);o("marker.line.width",g||h?1:0),function(x,v,m,w){var f,S,T=v.dimensions,E=T.length,L=v.showupperhalf,C=v.showlowerhalf,P=v.diagonal.visible,R=new Array(E),G=new Array(E);for(f=0;f<E;f++){var I=f?f+1:"";R[f]="x"+I,G[f]="y"+I}var H=w("xaxes",R),N=w("yaxes",G),B=v._diag=new Array(E);v._xaxes={},v._yaxes={};var V=[],q=[];function te(ue,pe,ge,we){if(ue){var me=ue.charAt(0),ve=m._splomAxes[me];if(v["_"+me+"axes"][ue]=1,we.push(ue),!(ue in ve)){var Ie=ve[ue]={};ge&&(Ie.label=ge.label||"",ge.visible&&ge.axis&&(ge.axis.type&&(Ie.type=ge.axis.type),ge.axis.matches&&(Ie.matches=pe)))}}}var $=!P&&!C,K=!P&&!L;for(v._axesDim={},f=0;f<E;f++){var Z=T[f],X=f===0,ee=f===E-1,ne=X&&$||ee&&K?void 0:H[f],re=X&&K||ee&&$?void 0:N[f];te(ne,re,Z,V),te(re,ne,Z,q),B[f]=[ne,re],v._axesDim[ne]=f,v._axesDim[re]=f}for(f=0;f<V.length;f++)for(S=0;S<q.length;S++){var ae=V[f]+q[S];f>S&&L||f<S&&C?m._splomSubplots[ae]=1:f!==S||!P&&C&&L||(m._splomSubplots[ae]=1)}(!C||!P&&L&&C)&&(m._splomGridDflt.xside="bottom",m._splomGridDflt.yside="left")}(0,r,l,o),M.coerceSelectionMarkerOpacity(r,o)}else r.visible=!1}},28801:function(Y,O,e){var M=e(71828),k=e(36922),a=e(19635).markerStyle;Y.exports=function(_,y){var d=y.trace,s=_._fullLayout._splomScenes[d.uid];if(s){k(_,d),M.extendFlat(s.matrixOptions,a(_,d));var t=M.extendFlat({},s.matrixOptions,s.viewOpts);s.matrix.update(t,null)}}},35948:function(Y,O){O.getDimIndex=function(e,M){for(var k=M._id,a={x:0,y:1}[k.charAt(0)],_=e._visibleDims,y=0;y<_.length;y++){var d=_[y];if(e._diag[d][a]===k)return y}return!1}},8567:function(Y,O,e){var M=e(35948),k=e(20794).calcHover;Y.exports={hoverPoints:function(a,_,y){var d=a.cd[0].trace,s=a.scene.matrixOptions.cdata,t=a.xa,i=a.ya,r=t.c2p(_),n=i.c2p(y),l=a.distance,o=M.getDimIndex(d,t),u=M.getDimIndex(d,i);if(o===!1||u===!1)return[a];for(var p,c,b=s[o],g=s[u],h=l,x=0;x<b.length;x++){var v=b[x],m=g[x],w=t.c2p(v)-r,f=i.c2p(m)-n,S=Math.sqrt(w*w+f*f);S<h&&(h=c=S,p=x)}return a.index=p,a.distance=h,a.dxy=c,p===void 0?[a]:[k(a,b,g,d)]}}},6419:function(Y,O,e){var M=e(65017);M.basePlotModule=e(16947),Y.exports=M},79410:function(Y,O,e){var M=e(60487),k=e(71828),a=e(41675),_=e(64505).selectMode;function y(d,s){var t,i,r,n,l,o=d._fullLayout,u=o._size,p=s.trace,c=s.t,b=o._splomScenes[p.uid],g=b.matrixOptions,h=g.cdata,x=o._glcanvas.data()[0].regl,v=o.dragmode;if(h.length!==0){g.lower=p.showupperhalf,g.upper=p.showlowerhalf,g.diagonal=p.diagonal.visible;var m=p._visibleDims,w=h.length,f=b.viewOpts={};for(f.ranges=new Array(w),f.domains=new Array(w),l=0;l<m.length;l++){r=m[l];var S=f.ranges[l]=new Array(4),T=f.domains[l]=new Array(4);(t=a.getFromId(d,p._diag[r][0]))&&(S[0]=t._rl[0],S[2]=t._rl[1],T[0]=t.domain[0],T[2]=t.domain[1]),(i=a.getFromId(d,p._diag[r][1]))&&(S[1]=i._rl[0],S[3]=i._rl[1],T[1]=i.domain[0],T[3]=i.domain[1])}var E=d._context.plotGlPixelRatio,L=u.l*E,C=u.b*E,P=u.w*E,R=u.h*E;f.viewport=[L,C,P+L,R+C],b.matrix===!0&&(b.matrix=M(x));var G=o.clickmode.indexOf("select")>-1,I=!0;if(_(v)||p.selectedpoints||G){var H=p._length;if(p.selectedpoints){b.selectBatch=p.selectedpoints;var N=p.selectedpoints,B={};for(r=0;r<N.length;r++)B[N[r]]=!0;var V=[];for(r=0;r<H;r++)B[r]||V.push(r);b.unselectBatch=V}var q=c.xpx=new Array(w),te=c.ypx=new Array(w);for(l=0;l<m.length;l++){if(r=m[l],t=a.getFromId(d,p._diag[r][0]))for(q[l]=new Array(H),n=0;n<H;n++)q[l][n]=t.c2p(h[l][n]);if(i=a.getFromId(d,p._diag[r][1]))for(te[l]=new Array(H),n=0;n<H;n++)te[l][n]=i.c2p(h[l][n])}if(b.selectBatch.length||b.unselectBatch.length){var $=k.extendFlat({},g,b.unselectedOptions,f),K=k.extendFlat({},g,b.selectedOptions,f);b.matrix.update($,K),I=!1}}else c.xpx=c.ypx=null;if(I){var Z=k.extendFlat({},g,f);b.matrix.update(Z,null)}}}Y.exports=function(d,s,t){if(t.length)for(var i=0;i<t.length;i++)y(d,t[i][0])}},10164:function(Y,O,e){var M=e(71828);Y.exports=function(k,a){var _=k._fullLayout,y=a.uid,d=_._splomScenes;d||(d=_._splomScenes={});var s={dirty:!0,selectBatch:[],unselectBatch:[]},t=d[a.uid];return t||((t=d[y]=M.extendFlat({},s,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){t.matrix&&t.matrix.draw&&(t.selectBatch.length||t.unselectBatch.length?t.matrix.draw(t.unselectBatch,t.selectBatch):t.matrix.draw()),t.dirty=!1},t.destroy=function(){t.matrix&&t.matrix.destroy&&t.matrix.destroy(),t.matrixOptions=null,t.selectBatch=null,t.unselectBatch=null,t=null}),t.dirty||M.extendFlat(t,s),t}},8689:function(Y,O,e){var M=e(71828),k=M.pushUnique,a=e(34098),_=e(35948);Y.exports=function(y,d){var s=y.cd,t=s[0].trace,i=s[0].t,r=y.scene,n=r.matrixOptions.cdata,l=y.xaxis,o=y.yaxis,u=[];if(!r)return u;var p=!a.hasMarkers(t)&&!a.hasText(t);if(t.visible!==!0||p)return u;var c=_.getDimIndex(t,l),b=_.getDimIndex(t,o);if(c===!1||b===!1)return u;var g=i.xpx[c],h=i.ypx[b],x=n[c],v=n[b],m=(y.scene.selectBatch||[]).slice(),w=[];if(d!==!1&&!d.degenerate)for(var f=0;f<x.length;f++)d.contains([g[f],h[f]],null,f,y)?(u.push({pointNumber:f,x:x[f],y:v[f]}),k(m,f)):m.indexOf(f)!==-1?k(m,f):w.push(f);var S=r.matrixOptions;return m.length||w.length?r.selectBatch.length||r.unselectBatch.length||r.matrix.update(r.unselectedOptions,M.extendFlat({},S,r.selectedOptions,r.viewOpts)):r.matrix.update(S,null),r.selectBatch=m,r.unselectBatch=w,u}},21850:function(Y,O,e){var M=e(50693),k=e(12663).axisHoverFormat,a=e(5386).fF,_=e(2418),y=e(9012),d=e(1426).extendFlat,s={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},z:{valType:"data_array",editType:"calc+clearAxisTypes"},u:{valType:"data_array",editType:"calc"},v:{valType:"data_array",editType:"calc"},w:{valType:"data_array",editType:"calc"},starts:{x:{valType:"data_array",editType:"calc"},y:{valType:"data_array",editType:"calc"},z:{valType:"data_array",editType:"calc"},editType:"calc"},maxdisplayed:{valType:"integer",min:0,dflt:1e3,editType:"calc"},sizeref:{valType:"number",editType:"calc",min:0,dflt:1},text:{valType:"string",dflt:"",editType:"calc"},hovertext:{valType:"string",dflt:"",editType:"calc"},hovertemplate:a({editType:"calc"},{keys:["tubex","tubey","tubez","tubeu","tubev","tubew","norm","divergence"]}),uhoverformat:k("u",1),vhoverformat:k("v",1),whoverformat:k("w",1),xhoverformat:k("x"),yhoverformat:k("y"),zhoverformat:k("z"),showlegend:d({},y.showlegend,{dflt:!1})};d(s,M("",{colorAttr:"u/v/w norm",showScaleDflt:!0,editTypeOverride:"calc"})),["opacity","lightposition","lighting"].forEach(function(t){s[t]=_[t]}),s.hoverinfo=d({},y.hoverinfo,{editType:"calc",flags:["x","y","z","u","v","w","norm","divergence","text","name"],dflt:"x+y+z+norm+text+name"}),s.transforms=void 0,Y.exports=s},88489:function(Y,O,e){var M=e(71828),k=e(78803);function a(d){var s,t,i,r,n,l,o,u,p,c,b,g,h=d._x,x=d._y,v=d._z,m=d._len,w=-1/0,f=1/0,S=-1/0,T=1/0,E=-1/0,L=1/0,C="";for(m&&(o=h[0],p=x[0],b=v[0]),m>1&&(u=h[m-1],c=x[m-1],g=v[m-1]),s=0;s<m;s++)w=Math.max(w,h[s]),f=Math.min(f,h[s]),S=Math.max(S,x[s]),T=Math.min(T,x[s]),E=Math.max(E,v[s]),L=Math.min(L,v[s]),r||h[s]===o||(r=!0,C+="x"),n||x[s]===p||(n=!0,C+="y"),l||v[s]===b||(l=!0,C+="z");r||(C+="x"),n||(C+="y"),l||(C+="z");var P=_(d._x),R=_(d._y),G=_(d._z);C=(C=(C=C.replace("x",(o>u?"-":"+")+"x")).replace("y",(p>c?"-":"+")+"y")).replace("z",(b>g?"-":"+")+"z");var I=function(){m=0,P=[],R=[],G=[]};(!m||m<P.length*R.length*G.length)&&I();var H=function(me){return me==="x"?h:me==="y"?x:v},N=function(me){return me==="x"?P:me==="y"?R:G},B=function(me){return me[m-1]<me[0]?-1:1},V=H(C[1]),q=H(C[3]),te=H(C[5]),$=N(C[1]).length,K=N(C[3]).length,Z=N(C[5]).length,X=!1,ee=function(me,ve,Ie){return $*(K*me+ve)+Ie},ne=B(H(C[1])),re=B(H(C[3])),ae=B(H(C[5]));for(s=0;s<Z-1;s++){for(t=0;t<K-1;t++){for(i=0;i<$-1;i++){var ue=ee(s,t,i),pe=ee(s,t,i+1),ge=ee(s,t+1,i),we=ee(s+1,t,i);if(V[ue]*ne<V[pe]*ne&&q[ue]*re<q[ge]*re&&te[ue]*ae<te[we]*ae||(X=!0),X)break}if(X)break}if(X)break}return X&&(M.warn("Encountered arbitrary coordinates! Unable to input data grid."),I()),{xMin:f,yMin:T,zMin:L,xMax:w,yMax:S,zMax:E,Xs:P,Ys:R,Zs:G,len:m,fill:C}}function _(d){return M.distinctVals(d).vals}function y(d,s){if(s===void 0&&(s=d.length),M.isTypedArray(d))return d.subarray(0,s);for(var t=[],i=0;i<s;i++)t[i]=+d[i];return t}Y.exports={calc:function(d,s){s._len=Math.min(s.u.length,s.v.length,s.w.length,s.x.length,s.y.length,s.z.length),s._u=y(s.u,s._len),s._v=y(s.v,s._len),s._w=y(s.w,s._len),s._x=y(s.x,s._len),s._y=y(s.y,s._len),s._z=y(s.z,s._len);var t=a(s);s._gridFill=t.fill,s._Xs=t.Xs,s._Ys=t.Ys,s._Zs=t.Zs,s._len=t.len;var i,r,n,l=0;s.starts&&(i=y(s.starts.x||[]),r=y(s.starts.y||[]),n=y(s.starts.z||[]),l=Math.min(i.length,r.length,n.length)),s._startsX=i||[],s._startsY=r||[],s._startsZ=n||[];var o,u=0,p=1/0;for(o=0;o<s._len;o++){var c=s._u[o],b=s._v[o],g=s._w[o],h=Math.sqrt(c*c+b*b+g*g);u=Math.max(u,h),p=Math.min(p,h)}for(k(d,s,{vals:[p,u],containerStr:"",cLetter:"c"}),o=0;o<l;o++){var x=i[o];t.xMax=Math.max(t.xMax,x),t.xMin=Math.min(t.xMin,x);var v=r[o];t.yMax=Math.max(t.yMax,v),t.yMin=Math.min(t.yMin,v);var m=n[o];t.zMax=Math.max(t.zMax,m),t.zMin=Math.min(t.zMin,m)}s._slen=l,s._normMax=u,s._xbnds=[t.xMin,t.xMax],s._ybnds=[t.yMin,t.yMax],s._zbnds=[t.zMin,t.zMax]},filter:y,processGrid:a}},90154:function(Y,O,e){var M=e(9330).gl_streamtube3d,k=M.createTubeMesh,a=e(71828),_=e(81697).parseColorScale,y=e(21081).extractOpts,d=e(90060),s={xaxis:0,yaxis:1,zaxis:2};function t(o,u){this.scene=o,this.uid=u,this.mesh=null,this.data=null}var i=t.prototype;function r(o){var u=o.length;return u>2?o.slice(1,u-1):u===2?[(o[0]+o[1])/2]:o}function n(o){var u=o.length;return u===1?[.5,.5]:[o[1]-o[0],o[u-1]-o[u-2]]}function l(o,u){var p=o.fullSceneLayout,c=o.dataScale,b=u._len,g={};function h($,K){var Z=p[K],X=c[s[K]];return a.simpleMap($,function(ee){return Z.d2l(ee)*X})}if(g.vectors=d(h(u._u,"xaxis"),h(u._v,"yaxis"),h(u._w,"zaxis"),b),!b)return{positions:[],cells:[]};var x=h(u._Xs,"xaxis"),v=h(u._Ys,"yaxis"),m=h(u._Zs,"zaxis");if(g.meshgrid=[x,v,m],g.gridFill=u._gridFill,u._slen)g.startingPositions=d(h(u._startsX,"xaxis"),h(u._startsY,"yaxis"),h(u._startsZ,"zaxis"));else{for(var w=v[0],f=r(x),S=r(m),T=new Array(f.length*S.length),E=0,L=0;L<f.length;L++)for(var C=0;C<S.length;C++)T[E++]=[f[L],w,S[C]];g.startingPositions=T}g.colormap=_(u),g.tubeSize=u.sizeref,g.maxLength=u.maxdisplayed;var P=h(u._xbnds,"xaxis"),R=h(u._ybnds,"yaxis"),G=h(u._zbnds,"zaxis"),I=n(x),H=n(v),N=n(m),B=[[P[0]-I[0],R[0]-H[0],G[0]-N[0]],[P[1]+I[1],R[1]+H[1],G[1]+N[1]]],V=M(g,B),q=y(u);V.vertexIntensityBounds=[q.min/u._normMax,q.max/u._normMax];var te=u.lightposition;return V.lightPosition=[te.x,te.y,te.z],V.ambient=u.lighting.ambient,V.diffuse=u.lighting.diffuse,V.specular=u.lighting.specular,V.roughness=u.lighting.roughness,V.fresnel=u.lighting.fresnel,V.opacity=u.opacity,u._pad=V.tubeScale*u.sizeref*2,V}i.handlePick=function(o){var u=this.scene.fullSceneLayout,p=this.scene.dataScale;function c(h,x){var v=u[x],m=p[s[x]];return v.l2c(h)/m}if(o.object===this.mesh){var b=o.data.position,g=o.data.velocity;return o.traceCoordinate=[c(b[0],"xaxis"),c(b[1],"yaxis"),c(b[2],"zaxis"),c(g[0],"xaxis"),c(g[1],"yaxis"),c(g[2],"zaxis"),o.data.intensity*this.data._normMax,o.data.divergence],o.textLabel=this.data.hovertext||this.data.text,!0}},i.update=function(o){this.data=o;var u=l(this.scene,o);this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(o,u){var p=o.glplot.gl,c=l(o,u),b=k(p,c),g=new t(o,u.uid);return g.mesh=b,g.data=u,b._trace=g,o.glplot.add(b),g}},22459:function(Y,O,e){var M=e(71828),k=e(1586),a=e(21850);Y.exports=function(_,y,d,s){function t(p,c){return M.coerce(_,y,a,p,c)}var i=t("u"),r=t("v"),n=t("w"),l=t("x"),o=t("y"),u=t("z");i&&i.length&&r&&r.length&&n&&n.length&&l&&l.length&&o&&o.length&&u&&u.length?(t("starts.x"),t("starts.y"),t("starts.z"),t("maxdisplayed"),t("sizeref"),t("lighting.ambient"),t("lighting.diffuse"),t("lighting.specular"),t("lighting.roughness"),t("lighting.fresnel"),t("lightposition.x"),t("lightposition.y"),t("lightposition.z"),k(_,y,s,t,{prefix:"",cLetter:"c"}),t("text"),t("hovertext"),t("hovertemplate"),t("uhoverformat"),t("vhoverformat"),t("whoverformat"),t("xhoverformat"),t("yhoverformat"),t("zhoverformat"),y._length=null):y.visible=!1}},61510:function(Y,O,e){Y.exports={moduleType:"trace",name:"streamtube",basePlotModule:e(58547),categories:["gl3d","showLegend"],attributes:e(21850),supplyDefaults:e(22459),colorbar:{min:"cmin",max:"cmax"},calc:e(88489).calc,plot:e(90154),eventData:function(M,k){return M.tubex=M.x,M.tubey=M.y,M.tubez=M.z,M.tubeu=k.traceCoordinate[3],M.tubev=k.traceCoordinate[4],M.tubew=k.traceCoordinate[5],M.norm=k.traceCoordinate[6],M.divergence=k.traceCoordinate[7],delete M.x,delete M.y,delete M.z,M},meta:{}}},57564:function(Y,O,e){var M=e(9012),k=e(5386).fF,a=e(5386).si,_=e(50693),y=e(27670).Y,d=e(34e3),s=e(7055),t=e(1426).extendFlat,i=e(79952).u;Y.exports={labels:{valType:"data_array",editType:"calc"},parents:{valType:"data_array",editType:"calc"},values:{valType:"data_array",editType:"calc"},branchvalues:{valType:"enumerated",values:["remainder","total"],dflt:"remainder",editType:"calc"},count:{valType:"flaglist",flags:["branches","leaves"],dflt:"leaves",editType:"calc"},level:{valType:"any",editType:"plot",anim:!0},maxdepth:{valType:"integer",editType:"plot",dflt:-1},marker:t({colors:{valType:"data_array",editType:"calc"},line:{color:t({},d.marker.line.color,{dflt:null}),width:t({},d.marker.line.width,{dflt:1}),editType:"calc"},pattern:i,editType:"calc"},_("marker",{colorAttr:"colors",anim:!1})),leaf:{opacity:{valType:"number",editType:"style",min:0,max:1},editType:"plot"},text:d.text,textinfo:{valType:"flaglist",flags:["label","text","value","current path","percent root","percent entry","percent parent"],extras:["none"],editType:"plot"},texttemplate:a({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:d.hovertext,hoverinfo:t({},M.hoverinfo,{flags:["label","text","value","name","current path","percent root","percent entry","percent parent"],dflt:"label+text+value+name"}),hovertemplate:k({},{keys:s.eventDataKeys}),textfont:d.textfont,insidetextorientation:d.insidetextorientation,insidetextfont:d.insidetextfont,outsidetextfont:t({},d.outsidetextfont,{}),rotation:{valType:"angle",dflt:0,editType:"plot"},sort:d.sort,root:{color:{valType:"color",editType:"calc",dflt:"rgba(0,0,0,0)"},editType:"calc"},domain:y({name:"sunburst",trace:!0,editType:"calc"})}},66888:function(Y,O,e){var M=e(74875);O.name="sunburst",O.plot=function(k,a,_,y){M.plotBasePlot(O.name,k,a,_,y)},O.clean=function(k,a,_,y){M.cleanBasePlot(O.name,k,a,_,y)}},52147:function(Y,O,e){var M=e(674),k=e(92770),a=e(71828),_=e(21081).makeColorScaleFuncFromTrace,y=e(32354).makePullColorFn,d=e(32354).generateExtendedColors,s=e(21081).calc,t=e(50606).ALMOST_EQUAL,i={},r={},n={};function l(o,u,p){var c=0,b=o.children;if(b){for(var g=b.length,h=0;h<g;h++)c+=l(b[h],u,p);p.branches&&c++}else p.leaves&&c++;return o.value=o.data.data.value=c,u._values||(u._values=[]),u._values[o.data.data.i]=c,c}O.calc=function(o,u){var p,c,b,g,h,x,v=o._fullLayout,m=u.ids,w=a.isArrayOrTypedArray(m),f=u.labels,S=u.parents,T=u.values,E=a.isArrayOrTypedArray(T),L=[],C={},P={},R=function(ae){return ae||typeof ae=="number"},G=function(ae){return!E||k(T[ae])&&T[ae]>=0};w?(p=Math.min(m.length,S.length),c=function(ae){return R(m[ae])&&G(ae)},b=function(ae){return String(m[ae])}):(p=Math.min(f.length,S.length),c=function(ae){return R(f[ae])&&G(ae)},b=function(ae){return String(f[ae])}),E&&(p=Math.min(p,T.length));for(var I=0;I<p;I++)if(c(I)){var H=b(I),N=R(S[I])?String(S[I]):"",B={i:I,id:H,pid:N,label:R(f[I])?String(f[I]):""};E&&(B.v=+T[I]),L.push(B),h=H,C[g=N]?C[g].push(h):C[g]=[h],P[h]=1}if(C[""]){if(C[""].length>1){for(var V=a.randstr(),q=0;q<L.length;q++)L[q].pid===""&&(L[q].pid=V);L.unshift({hasMultipleRoots:!0,id:V,pid:"",label:""})}}else{var te,$=[];for(te in C)P[te]||$.push(te);if($.length!==1)return a.warn(["Multiple implied roots, cannot build",u.type,"hierarchy of",u.name+".","These roots include:",$.join(", ")].join(" "));te=$[0],L.unshift({hasImpliedRoot:!0,id:te,pid:"",label:te})}try{x=M.stratify().id(function(ae){return ae.id}).parentId(function(ae){return ae.pid})(L)}catch(ae){return a.warn(["Failed to build",u.type,"hierarchy of",u.name+".","Error:",ae.message].join(" "))}var K=M.hierarchy(x),Z=!1;if(E)switch(u.branchvalues){case"remainder":K.sum(function(ae){return ae.data.v});break;case"total":K.each(function(ae){var ue=ae.data.data,pe=ue.v;if(ae.children){var ge=ae.children.reduce(function(we,me){return we+me.data.data.v},0);if((ue.hasImpliedRoot||ue.hasMultipleRoots)&&(pe=ge),pe<ge*t)return Z=!0,a.warn(["Total value for node",ae.data.data.id,"of",u.name,"is smaller than the sum of its children.",`
parent value =`,pe,`
children sum =`,ge].join(" "))}ae.value=pe})}else l(K,u,{branches:u.count.indexOf("branches")!==-1,leaves:u.count.indexOf("leaves")!==-1});if(!Z){var X,ee;u.sort&&K.sort(function(ae,ue){return ue.value-ae.value});var ne=u.marker.colors||[],re=!!ne.length;return u._hasColorscale?(re||(ne=E?u.values:u._values),s(o,u,{vals:ne,containerStr:"marker",cLetter:"c"}),ee=_(u.marker)):X=y(v["_"+u.type+"colormap"]),K.each(function(ae){var ue=ae.data.data;ue.color=u._hasColorscale?ee(ne[ue.i]):X(ne[ue.i],ue.id)}),L[0].hierarchy=K,L}},O._runCrossTraceCalc=function(o,u){var p=u._fullLayout,c=u.calcdata,b=p[o+"colorway"],g=p["_"+o+"colormap"];p["extend"+o+"colors"]&&(b=d(b,o==="icicle"?n:o==="treemap"?r:i));var h,x=0;function v(f){var S=f.data.data,T=S.id;S.color===!1&&(g[T]?S.color=g[T]:f.parent?f.parent.parent?S.color=f.parent.data.data.color:(g[T]=S.color=b[x%b.length],x++):S.color=h)}for(var m=0;m<c.length;m++){var w=c[m][0];w.trace.type===o&&w.hierarchy&&(h=w.trace.root.color,w.hierarchy.each(v))}},O.crossTraceCalc=function(o){return O._runCrossTraceCalc("sunburst",o)}},7055:function(Y){Y.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"linear",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"]}},17094:function(Y,O,e){var M=e(71828),k=e(57564),a=e(27670).c,_=e(90769).handleText,y=e(37434).handleMarkerDefaults,d=e(21081),s=d.hasColorscale,t=d.handleDefaults;Y.exports=function(i,r,n,l){function o(h,x){return M.coerce(i,r,k,h,x)}var u=o("labels"),p=o("parents");if(u&&u.length&&p&&p.length){var c=o("values");c&&c.length?o("branchvalues"):o("count"),o("level"),o("maxdepth"),y(i,r,l,o);var b=r._hasColorscale=s(i,"marker","colors")||(i.marker||{}).coloraxis;b&&t(i,r,l,o,{prefix:"marker.",cLetter:"c"}),o("leaf.opacity",b?1:.7);var g=o("text");o("texttemplate"),r.texttemplate||o("textinfo",Array.isArray(g)?"text+label":"label"),o("hovertext"),o("hovertemplate"),_(i,r,l,o,"auto",{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),o("insidetextorientation"),o("sort"),o("rotation"),o("root.color"),a(r,l,o),r._length=null}else r.visible=!1}},43467:function(Y,O,e){var M=e(91424),k=e(7901);Y.exports=function(a,_,y,d,s){var t=_.data.data,i=t.i,r=s||t.color;if(i>=0){_.i=t.i;var n=y.marker;n.pattern&&n.colors&&n.pattern.shape||(n.color=r,_.color=r),M.pointStyle(a,y,d,_)}else k.fill(a,r)}},83523:function(Y,O,e){var M=e(39898),k=e(73972),a=e(23469).appendArrayPointValue,_=e(30211),y=e(71828),d=e(11086),s=e(2791),t=e(53581).formatPieValue;function i(r,n,l){for(var o=r.data.data,u={curveNumber:n.index,pointNumber:o.i,data:n._input,fullData:n},p=0;p<l.length;p++){var c=l[p];c in r&&(u[c]=r[c])}return"parentString"in r&&!s.isHierarchyRoot(r)&&(u.parent=r.parentString),a(u,n,o.i),u}Y.exports=function(r,n,l,o,u){var p=o[0],c=p.trace,b=p.hierarchy,g=c.type==="sunburst",h=c.type==="treemap"||c.type==="icicle";"_hasHoverLabel"in c||(c._hasHoverLabel=!1),"_hasHoverEvent"in c||(c._hasHoverEvent=!1),r.on("mouseover",function(x){var v=l._fullLayout;if(!l._dragging&&v.hovermode!==!1){var m,w=l._fullData[c.index],f=x.data.data,S=f.i,T=s.isHierarchyRoot(x),E=s.getParent(b,x),L=s.getValue(x),C=function(ne){return y.castOption(w,S,ne)},P=C("hovertemplate"),R=_.castHoverinfo(w,v,S),G=v.separators;if(P||R&&R!=="none"&&R!=="skip"){var I,H;g&&(I=p.cx+x.pxmid[0]*(1-x.rInscribed),H=p.cy+x.pxmid[1]*(1-x.rInscribed)),h&&(I=x._hoverX,H=x._hoverY);var N,B={},V=[],q=[],te=function(ne){return V.indexOf(ne)!==-1};R&&(V=R==="all"?w._module.attributes.hoverinfo.flags:R.split("+")),B.label=f.label,te("label")&&B.label&&q.push(B.label),f.hasOwnProperty("v")&&(B.value=f.v,B.valueLabel=t(B.value,G),te("value")&&q.push(B.valueLabel)),B.currentPath=x.currentPath=s.getPath(x.data),te("current path")&&!T&&q.push(B.currentPath);var $=[],K=function(){$.indexOf(N)===-1&&(q.push(N),$.push(N))};B.percentParent=x.percentParent=L/s.getValue(E),B.parent=x.parentString=s.getPtLabel(E),te("percent parent")&&(N=s.formatPercent(B.percentParent,G)+" of "+B.parent,K()),B.percentEntry=x.percentEntry=L/s.getValue(n),B.entry=x.entry=s.getPtLabel(n),!te("percent entry")||T||x.onPathbar||(N=s.formatPercent(B.percentEntry,G)+" of "+B.entry,K()),B.percentRoot=x.percentRoot=L/s.getValue(b),B.root=x.root=s.getPtLabel(b),te("percent root")&&!T&&(N=s.formatPercent(B.percentRoot,G)+" of "+B.root,K()),B.text=C("hovertext")||C("text"),te("text")&&(N=B.text,y.isValidTextValue(N)&&q.push(N)),m=[i(x,w,u.eventDataKeys)];var Z={trace:w,y:H,_x0:x._x0,_x1:x._x1,_y0:x._y0,_y1:x._y1,text:q.join("<br>"),name:P||te("name")?w.name:void 0,color:C("hoverlabel.bgcolor")||f.color,borderColor:C("hoverlabel.bordercolor"),fontFamily:C("hoverlabel.font.family"),fontSize:C("hoverlabel.font.size"),fontColor:C("hoverlabel.font.color"),nameLength:C("hoverlabel.namelength"),textAlign:C("hoverlabel.align"),hovertemplate:P,hovertemplateLabels:B,eventData:m};g&&(Z.x0=I-x.rInscribed*x.rpx1,Z.x1=I+x.rInscribed*x.rpx1,Z.idealAlign=x.pxmid[0]<0?"left":"right"),h&&(Z.x=I,Z.idealAlign=I<0?"left":"right");var X=[];_.loneHover(Z,{container:v._hoverlayer.node(),outerContainer:v._paper.node(),gd:l,inOut_bbox:X}),m[0].bbox=X[0],c._hasHoverLabel=!0}if(h){var ee=r.select("path.surface");u.styleOne(ee,x,w,l,{hovered:!0})}c._hasHoverEvent=!0,l.emit("plotly_hover",{points:m||[i(x,w,u.eventDataKeys)],event:M.event})}}),r.on("mouseout",function(x){var v=l._fullLayout,m=l._fullData[c.index],w=M.select(this).datum();if(c._hasHoverEvent&&(x.originalEvent=M.event,l.emit("plotly_unhover",{points:[i(w,m,u.eventDataKeys)],event:M.event}),c._hasHoverEvent=!1),c._hasHoverLabel&&(_.loneUnhover(v._hoverlayer.node()),c._hasHoverLabel=!1),h){var f=r.select("path.surface");u.styleOne(f,w,m,l,{hovered:!1})}}),r.on("click",function(x){var v=l._fullLayout,m=l._fullData[c.index],w=g&&(s.isHierarchyRoot(x)||s.isLeaf(x)),f=s.getPtId(x),S=s.isEntry(x)?s.findEntryWithChild(b,f):s.findEntryWithLevel(b,f),T=s.getPtId(S),E={points:[i(x,m,u.eventDataKeys)],event:M.event};w||(E.nextLevel=T);var L=d.triggerHandler(l,"plotly_"+c.type+"click",E);if(L!==!1&&v.hovermode&&(l._hoverdata=[i(x,m,u.eventDataKeys)],_.click(l,M.event)),!w&&L!==!1&&!l._dragging&&!l._transitioning){k.call("_storeDirectGUIEdit",m,v._tracePreGUI[m.uid],{level:m.level});var C={data:[{level:T}],traces:[c.index]},P={frame:{redraw:!1,duration:u.transitionTime},transition:{duration:u.transitionTime,easing:u.transitionEasing},mode:"immediate",fromcurrent:!0};_.loneUnhover(v._hoverlayer.node()),k.call("animate",l,C,P)}})}},2791:function(Y,O,e){var M=e(71828),k=e(7901),a=e(6964),_=e(53581);function y(d){return d.data.data.pid}O.findEntryWithLevel=function(d,s){var t;return s&&d.eachAfter(function(i){if(O.getPtId(i)===s)return t=i.copy()}),t||d},O.findEntryWithChild=function(d,s){var t;return d.eachAfter(function(i){for(var r=i.children||[],n=0;n<r.length;n++){var l=r[n];if(O.getPtId(l)===s)return t=i.copy()}}),t||d},O.isEntry=function(d){return!d.parent},O.isLeaf=function(d){return!d.children},O.getPtId=function(d){return d.data.data.id},O.getPtLabel=function(d){return d.data.data.label},O.getValue=function(d){return d.value},O.isHierarchyRoot=function(d){return y(d)===""},O.setSliceCursor=function(d,s,t){var i=t.isTransitioning;if(!i){var r=d.datum();i=t.hideOnRoot&&O.isHierarchyRoot(r)||t.hideOnLeaves&&O.isLeaf(r)}a(d,i?null:"pointer")},O.getInsideTextFontKey=function(d,s,t,i,r){var n=(r||{}).onPathbar?"pathbar.textfont":"insidetextfont",l=t.data.data.i;return M.castOption(s,l,n+"."+d)||M.castOption(s,l,"textfont."+d)||i.size},O.getOutsideTextFontKey=function(d,s,t,i){var r=t.data.data.i;return M.castOption(s,r,"outsidetextfont."+d)||M.castOption(s,r,"textfont."+d)||i.size},O.isOutsideText=function(d,s){return!d._hasColorscale&&O.isHierarchyRoot(s)},O.determineTextFont=function(d,s,t,i){return O.isOutsideText(d,s)?function(r,n,l){return{color:O.getOutsideTextFontKey("color",r,n,l),family:O.getOutsideTextFontKey("family",r,n,l),size:O.getOutsideTextFontKey("size",r,n,l)}}(d,s,t):function(r,n,l,o){var u=(o||{}).onPathbar,p=n.data.data,c=p.i,b=M.castOption(r,c,(u?"pathbar.textfont":"insidetextfont")+".color");return!b&&r._input.textfont&&(b=M.castOption(r._input,c,"textfont.color")),{color:b||k.contrast(p.color),family:O.getInsideTextFontKey("family",r,n,l,o),size:O.getInsideTextFontKey("size",r,n,l,o)}}(d,s,t,i)},O.hasTransition=function(d){return!!(d&&d.duration>0)},O.getMaxDepth=function(d){return d.maxdepth>=0?d.maxdepth:1/0},O.isHeader=function(d,s){return!(O.isLeaf(d)||d.depth===s._maxDepth-1)},O.getParent=function(d,s){return O.findEntryWithLevel(d,y(s))},O.listPath=function(d,s){var t=d.parent;if(!t)return[];var i=s?[t.data[s]]:[t];return O.listPath(t,s).concat(i)},O.getPath=function(d){return O.listPath(d,"label").join("/")+"/"},O.formatValue=_.formatPieValue,O.formatPercent=function(d,s){var t=M.formatPercent(d,0);return t==="0%"&&(t=_.formatPiePercent(d,s)),t}},87619:function(Y,O,e){Y.exports={moduleType:"trace",name:"sunburst",basePlotModule:e(66888),categories:[],animatable:!0,attributes:e(57564),layoutAttributes:e(2654),supplyDefaults:e(17094),supplyLayoutDefaults:e(57034),calc:e(52147).calc,crossTraceCalc:e(52147).crossTraceCalc,plot:e(24714).plot,style:e(29969).style,colorbar:e(4898),meta:{}}},2654:function(Y){Y.exports={sunburstcolorway:{valType:"colorlist",editType:"calc"},extendsunburstcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},57034:function(Y,O,e){var M=e(71828),k=e(2654);Y.exports=function(a,_){function y(d,s){return M.coerce(a,_,k,d,s)}y("sunburstcolorway",_.colorway),y("extendsunburstcolors")}},24714:function(Y,O,e){var M=e(39898),k=e(674),a=e(81684).sX,_=e(91424),y=e(71828),d=e(63893),s=e(72597),t=s.recordMinTextSize,i=s.clearMinTextSize,r=e(14575),n=e(53581).getRotationAngle,l=r.computeTransform,o=r.transformInsideText,u=e(29969).styleOne,p=e(16688).resizeText,c=e(83523),b=e(7055),g=e(2791);function h(v,m,w,f){var S=v._context.staticPlot,T=v._fullLayout,E=!T.uniformtext.mode&&g.hasTransition(f),L=M.select(w).selectAll("g.slice"),C=m[0],P=C.trace,R=C.hierarchy,G=g.findEntryWithLevel(R,P.level),I=g.getMaxDepth(P),H=T._size,N=P.domain,B=H.w*(N.x[1]-N.x[0]),V=H.h*(N.y[1]-N.y[0]),q=.5*Math.min(B,V),te=C.cx=H.l+H.w*(N.x[1]+N.x[0])/2,$=C.cy=H.t+H.h*(1-N.y[0])-V/2;if(!G)return L.remove();var K=null,Z={};E&&L.each(function(oe){Z[g.getPtId(oe)]={rpx0:oe.rpx0,rpx1:oe.rpx1,x0:oe.x0,x1:oe.x1,transform:oe.transform},!K&&g.isEntry(oe)&&(K=oe)});var X=function(oe){return k.partition().size([2*Math.PI,oe.height+1])(oe)}(G).descendants(),ee=G.height+1,ne=0,re=I;C.hasMultipleRoots&&g.isHierarchyRoot(G)&&(X=X.slice(1),ee-=1,ne=1,re+=1),X=X.filter(function(oe){return oe.y1<=re});var ae=n(P.rotation);ae&&X.forEach(function(oe){oe.x0+=ae,oe.x1+=ae});var ue=Math.min(ee,I),pe=function(oe){return(oe-ne)/ue*q},ge=function(oe,he){return[oe*Math.cos(he),-oe*Math.sin(he)]},we=function(oe){return y.pathAnnulus(oe.rpx0,oe.rpx1,oe.x0,oe.x1,te,$)},me=function(oe){return te+x(oe)[0]*(oe.transform.rCenter||0)+(oe.transform.x||0)},ve=function(oe){return $+x(oe)[1]*(oe.transform.rCenter||0)+(oe.transform.y||0)};(L=L.data(X,g.getPtId)).enter().append("g").classed("slice",!0),E?L.exit().transition().each(function(){var oe=M.select(this);oe.select("path.surface").transition().attrTween("d",function(he){var Le=function(Me){var _e,De=g.getPtId(Me),Ne=Z[De],ce=Z[g.getPtId(G)];if(ce){var Te=(Me.x1>ce.x1?2*Math.PI:0)+ae;_e=Me.rpx1<ce.rpx1?{x0:Me.x0,x1:Me.x1,rpx0:0,rpx1:0}:{x0:Te,x1:Te,rpx0:Me.rpx0,rpx1:Me.rpx1}}else{var ye,Oe=g.getPtId(Me.parent);L.each(function(et){if(g.getPtId(et)===Oe)return ye=et});var Be,Fe=ye.children;Fe.forEach(function(et,ft){if(g.getPtId(et)===De)return Be=ft});var Ge=Fe.length,Ze=a(ye.x0,ye.x1);_e={rpx0:q,rpx1:q,x0:Ze(Be/Ge),x1:Ze((Be+1)/Ge)}}return a(Ne,_e)}(he);return function(Me){return we(Le(Me))}}),oe.select("g.slicetext").attr("opacity",0)}).remove():L.exit().remove(),L.order();var Ie=null;if(E&&K){var Se=g.getPtId(K);L.each(function(oe){Ie===null&&g.getPtId(oe)===Se&&(Ie=oe.x1)})}var ke=L;function se(oe){var he=oe.parent,Le=Z[g.getPtId(he)],Me={};if(Le){var _e=he.children,De=_e.indexOf(oe),Ne=_e.length,ce=a(Le.x0,Le.x1);Me.x0=ce(De/Ne),Me.x1=ce(De/Ne)}else Me.x0=Me.x1=0;return Me}E&&(ke=ke.transition().each("end",function(){var oe=M.select(this);g.setSliceCursor(oe,v,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:!1})})),ke.each(function(oe){var he=M.select(this),Le=y.ensureSingle(he,"path","surface",function(Te){Te.style("pointer-events",S?"none":"all")});oe.rpx0=pe(oe.y0),oe.rpx1=pe(oe.y1),oe.xmid=(oe.x0+oe.x1)/2,oe.pxmid=ge(oe.rpx1,oe.xmid),oe.midangle=-(oe.xmid-Math.PI/2),oe.startangle=-(oe.x0-Math.PI/2),oe.stopangle=-(oe.x1-Math.PI/2),oe.halfangle=.5*Math.min(y.angleDelta(oe.x0,oe.x1)||Math.PI,Math.PI),oe.ring=1-oe.rpx0/oe.rpx1,oe.rInscribed=function(Te){return Te.rpx0===0&&y.isFullCircle([Te.x0,Te.x1])?1:Math.max(0,Math.min(1/(1+1/Math.sin(Te.halfangle)),Te.ring/2))}(oe),E?Le.transition().attrTween("d",function(Te){var ye=function(Oe){var Be,Fe=Z[g.getPtId(Oe)],Ge={x0:Oe.x0,x1:Oe.x1,rpx0:Oe.rpx0,rpx1:Oe.rpx1};if(Fe)Be=Fe;else if(K)if(Oe.parent)if(Ie){var Ze=(Oe.x1>Ie?2*Math.PI:0)+ae;Be={x0:Ze,x1:Ze}}else Be={rpx0:q,rpx1:q},y.extendFlat(Be,se(Oe));else Be={rpx0:0,rpx1:0};else Be={x0:ae,x1:ae};return a(Be,Ge)}(Te);return function(Oe){return we(ye(Oe))}}):Le.attr("d",we),he.call(c,G,v,m,{eventDataKeys:b.eventDataKeys,transitionTime:b.CLICK_TRANSITION_TIME,transitionEasing:b.CLICK_TRANSITION_EASING}).call(g.setSliceCursor,v,{hideOnRoot:!0,hideOnLeaves:!0,isTransitioning:v._transitioning}),Le.call(u,oe,P,v);var Me=y.ensureSingle(he,"g","slicetext"),_e=y.ensureSingle(Me,"text","",function(Te){Te.attr("data-notex",1)}),De=y.ensureUniformFontSize(v,g.determineTextFont(P,oe,T.font));_e.text(O.formatSliceLabel(oe,G,P,m,T)).classed("slicetext",!0).attr("text-anchor","middle").call(_.font,De).call(d.convertToTspans,v);var Ne=_.bBox(_e.node());oe.transform=o(Ne,oe,C),oe.transform.targetX=me(oe),oe.transform.targetY=ve(oe);var ce=function(Te,ye){var Oe=Te.transform;return l(Oe,ye),Oe.fontSize=De.size,t(P.type,Oe,T),y.getTextTransform(Oe)};E?_e.transition().attrTween("transform",function(Te){var ye=function(Oe){var Be,Fe=Z[g.getPtId(Oe)],Ge=Oe.transform;if(Fe)Be=Fe;else if(Be={rpx1:Oe.rpx1,transform:{textPosAngle:Ge.textPosAngle,scale:0,rotate:Ge.rotate,rCenter:Ge.rCenter,x:Ge.x,y:Ge.y}},K)if(Oe.parent)if(Ie){var Ze=Oe.x1>Ie?2*Math.PI:0;Be.x0=Be.x1=Ze}else y.extendFlat(Be,se(Oe));else Be.x0=Be.x1=ae;else Be.x0=Be.x1=ae;var et=a(Be.transform.textPosAngle,Oe.transform.textPosAngle),ft=a(Be.rpx1,Oe.rpx1),rt=a(Be.x0,Oe.x0),_t=a(Be.x1,Oe.x1),kt=a(Be.transform.scale,Ge.scale),wt=a(Be.transform.rotate,Ge.rotate),lt=Ge.rCenter===0?3:Be.transform.rCenter===0?1/3:1,ut=a(Be.transform.rCenter,Ge.rCenter);return function(Et){var Ot=ft(Et),zt=rt(Et),Lt=_t(Et),Je=function(qe){return ut(Math.pow(qe,lt))}(Et),Qe={pxmid:ge(Ot,(zt+Lt)/2),rpx1:Ot,transform:{textPosAngle:et(Et),rCenter:Je,x:Ge.x,y:Ge.y}};return t(P.type,Ge,T),{transform:{targetX:me(Qe),targetY:ve(Qe),scale:kt(Et),rotate:wt(Et),rCenter:Je}}}}(Te);return function(Oe){return ce(ye(Oe),Ne)}}):_e.attr("transform",ce(oe,Ne))})}function x(v){return m=v.rpx1,w=v.transform.textPosAngle,[m*Math.sin(w),-m*Math.cos(w)];var m,w}O.plot=function(v,m,w,f){var S,T,E=v._fullLayout,L=E._sunburstlayer,C=!w,P=!E.uniformtext.mode&&g.hasTransition(w);i("sunburst",E),(S=L.selectAll("g.trace.sunburst").data(m,function(R){return R[0].trace.uid})).enter().append("g").classed("trace",!0).classed("sunburst",!0).attr("stroke-linejoin","round"),S.order(),P?(f&&(T=f()),M.transition().duration(w.duration).ease(w.easing).each("end",function(){T&&T()}).each("interrupt",function(){T&&T()}).each(function(){L.selectAll("g.trace").each(function(R){h(v,R,this,w)})})):(S.each(function(R){h(v,R,this,w)}),E.uniformtext.mode&&p(v,E._sunburstlayer.selectAll(".trace"),"sunburst")),C&&S.exit().remove()},O.formatSliceLabel=function(v,m,w,f,S){var T=w.texttemplate,E=w.textinfo;if(!(T||E&&E!=="none"))return"";var L=S.separators,C=f[0],P=v.data.data,R=C.hierarchy,G=g.isHierarchyRoot(v),I=g.getParent(R,v),H=g.getValue(v);if(!T){var N,B=E.split("+"),V=function(re){return B.indexOf(re)!==-1},q=[];if(V("label")&&P.label&&q.push(P.label),P.hasOwnProperty("v")&&V("value")&&q.push(g.formatValue(P.v,L)),!G){V("current path")&&q.push(g.getPath(v.data));var te=0;V("percent parent")&&te++,V("percent entry")&&te++,V("percent root")&&te++;var $=te>1;if(te){var K,Z=function(re){N=g.formatPercent(K,L),$&&(N+=" of "+re),q.push(N)};V("percent parent")&&!G&&(K=H/g.getValue(I),Z("parent")),V("percent entry")&&(K=H/g.getValue(m),Z("entry")),V("percent root")&&(K=H/g.getValue(R),Z("root"))}}return V("text")&&(N=y.castOption(w,P.i,"text"),y.isValidTextValue(N)&&q.push(N)),q.join("<br>")}var X=y.castOption(w,P.i,"texttemplate");if(!X)return"";var ee={};P.label&&(ee.label=P.label),P.hasOwnProperty("v")&&(ee.value=P.v,ee.valueLabel=g.formatValue(P.v,L)),ee.currentPath=g.getPath(v.data),G||(ee.percentParent=H/g.getValue(I),ee.percentParentLabel=g.formatPercent(ee.percentParent,L),ee.parent=g.getPtLabel(I)),ee.percentEntry=H/g.getValue(m),ee.percentEntryLabel=g.formatPercent(ee.percentEntry,L),ee.entry=g.getPtLabel(m),ee.percentRoot=H/g.getValue(R),ee.percentRootLabel=g.formatPercent(ee.percentRoot,L),ee.root=g.getPtLabel(R),P.hasOwnProperty("color")&&(ee.color=P.color);var ne=y.castOption(w,P.i,"text");return(y.isValidTextValue(ne)||ne==="")&&(ee.text=ne),ee.customdata=y.castOption(w,P.i,"customdata"),y.texttemplateString(X,ee,S._d3locale,ee,w._meta||{})}},29969:function(Y,O,e){var M=e(39898),k=e(7901),a=e(71828),_=e(72597).resizeText,y=e(43467);function d(s,t,i,r){var n=t.data.data,l=!t.children,o=n.i,u=a.castOption(i,o,"marker.line.color")||k.defaultLine,p=a.castOption(i,o,"marker.line.width")||0;s.call(y,t,i,r).style("stroke-width",p).call(k.stroke,u).style("opacity",l?i.leaf.opacity:null)}Y.exports={style:function(s){var t=s._fullLayout._sunburstlayer.selectAll(".trace");_(s,t,"sunburst"),t.each(function(i){var r=M.select(this),n=i[0].trace;r.style("opacity",n.opacity),r.selectAll("path.surface").each(function(l){M.select(this).call(d,l,n,s)})})},styleOne:d}},54532:function(Y,O,e){var M=e(7901),k=e(50693),a=e(12663).axisHoverFormat,_=e(5386).fF,y=e(9012),d=e(1426).extendFlat,s=e(30962).overrideAll;function t(r){return{show:{valType:"boolean",dflt:!1},start:{valType:"number",dflt:null,editType:"plot"},end:{valType:"number",dflt:null,editType:"plot"},size:{valType:"number",dflt:null,min:0,editType:"plot"},project:{x:{valType:"boolean",dflt:!1},y:{valType:"boolean",dflt:!1},z:{valType:"boolean",dflt:!1}},color:{valType:"color",dflt:M.defaultLine},usecolormap:{valType:"boolean",dflt:!1},width:{valType:"number",min:1,max:16,dflt:2},highlight:{valType:"boolean",dflt:!0},highlightcolor:{valType:"color",dflt:M.defaultLine},highlightwidth:{valType:"number",min:1,max:16,dflt:2}}}var i=Y.exports=s(d({z:{valType:"data_array"},x:{valType:"data_array"},y:{valType:"data_array"},text:{valType:"string",dflt:"",arrayOk:!0},hovertext:{valType:"string",dflt:"",arrayOk:!0},hovertemplate:_(),xhoverformat:a("x"),yhoverformat:a("y"),zhoverformat:a("z"),connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},surfacecolor:{valType:"data_array"}},k("",{colorAttr:"z or surfacecolor",showScaleDflt:!0,autoColorDflt:!1,editTypeOverride:"calc"}),{contours:{x:t(),y:t(),z:t()},hidesurface:{valType:"boolean",dflt:!1},lightposition:{x:{valType:"number",min:-1e5,max:1e5,dflt:10},y:{valType:"number",min:-1e5,max:1e5,dflt:1e4},z:{valType:"number",min:-1e5,max:1e5,dflt:0}},lighting:{ambient:{valType:"number",min:0,max:1,dflt:.8},diffuse:{valType:"number",min:0,max:1,dflt:.8},specular:{valType:"number",min:0,max:2,dflt:.05},roughness:{valType:"number",min:0,max:1,dflt:.5},fresnel:{valType:"number",min:0,max:5,dflt:.2}},opacity:{valType:"number",min:0,max:1,dflt:1},opacityscale:{valType:"any",editType:"calc"},_deprecated:{zauto:d({},k.zauto,{}),zmin:d({},k.zmin,{}),zmax:d({},k.zmax,{})},hoverinfo:d({},y.hoverinfo),showlegend:d({},y.showlegend,{dflt:!1})}),"calc","nested");i.x.editType=i.y.editType=i.z.editType="calc+clearAxisTypes",i.transforms=void 0},18396:function(Y,O,e){var M=e(78803);Y.exports=function(k,a){a.surfacecolor?M(k,a,{vals:a.surfacecolor,containerStr:"",cLetter:"c"}):M(k,a,{vals:a.z,containerStr:"",cLetter:"c"})}},43768:function(Y,O,e){var M=e(9330).gl_surface3d,k=e(9330).ndarray,a=e(9330).ndarray_linear_interpolate.d2,_=e(824),y=e(43907),d=e(71828).isArrayOrTypedArray,s=e(81697).parseColorScale,t=e(78614),i=e(21081).extractOpts;function r(w,f,S){this.scene=w,this.uid=S,this.surface=f,this.data=null,this.showContour=[!1,!1,!1],this.contourStart=[null,null,null],this.contourEnd=[null,null,null],this.contourSize=[0,0,0],this.minValues=[1/0,1/0,1/0],this.maxValues=[-1/0,-1/0,-1/0],this.dataScaleX=1,this.dataScaleY=1,this.refineData=!0,this.objectOffset=[0,0,0]}var n=r.prototype;n.getXat=function(w,f,S,T){var E=d(this.data.x)?d(this.data.x[0])?this.data.x[f][w]:this.data.x[w]:w;return S===void 0?E:T.d2l(E,0,S)},n.getYat=function(w,f,S,T){var E=d(this.data.y)?d(this.data.y[0])?this.data.y[f][w]:this.data.y[f]:f;return S===void 0?E:T.d2l(E,0,S)},n.getZat=function(w,f,S,T){var E=this.data.z[f][w];return E===null&&this.data.connectgaps&&this.data._interpolatedZ&&(E=this.data._interpolatedZ[f][w]),S===void 0?E:T.d2l(E,0,S)},n.handlePick=function(w){if(w.object===this.surface){var f=(w.data.index[0]-1)/this.dataScaleX-1,S=(w.data.index[1]-1)/this.dataScaleY-1,T=Math.max(Math.min(Math.round(f),this.data.z[0].length-1),0),E=Math.max(Math.min(Math.round(S),this.data._ylength-1),0);w.index=[T,E],w.traceCoordinate=[this.getXat(T,E),this.getYat(T,E),this.getZat(T,E)],w.dataCoordinate=[this.getXat(T,E,this.data.xcalendar,this.scene.fullSceneLayout.xaxis),this.getYat(T,E,this.data.ycalendar,this.scene.fullSceneLayout.yaxis),this.getZat(T,E,this.data.zcalendar,this.scene.fullSceneLayout.zaxis)];for(var L=0;L<3;L++)w.dataCoordinate[L]!=null&&(w.dataCoordinate[L]*=this.scene.dataScale[L]);var C=this.data.hovertext||this.data.text;return Array.isArray(C)&&C[E]&&C[E][T]!==void 0?w.textLabel=C[E][T]:w.textLabel=C||"",w.data.dataCoordinate=w.dataCoordinate.slice(),this.surface.highlight(w.data),this.scene.glplot.spikes.position=w.dataCoordinate,!0}};var l=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999];function o(w,f){if(w<f)return 0;for(var S=0;Math.floor(w%f)===0;)w/=f,S++;return S}function u(w){for(var f=[],S=0;S<l.length;S++){var T=l[S];f.push(o(w,T))}return f}function p(w){for(var f=u(w),S=w,T=0;T<l.length;T++)if(f[T]>0){S=l[T];break}return S}function c(w,f){if(!(w<1||f<1)){for(var S=u(w),T=u(f),E=1,L=0;L<l.length;L++)E*=Math.pow(l[L],Math.max(S[L],T[L]));return E}}n.calcXnums=function(w){var f,S=[];for(f=1;f<w;f++){var T=this.getXat(f-1,0),E=this.getXat(f,0);S[f-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var L=0;for(f=1;f<w;f++)L+=S[f-1];for(f=1;f<w;f++)S[f-1]===0?S[f-1]=1:S[f-1]=Math.round(L/S[f-1]);return S},n.calcYnums=function(w){var f,S=[];for(f=1;f<w;f++){var T=this.getYat(0,f-1),E=this.getYat(0,f);S[f-1]=E!==T&&T!=null&&E!=null?Math.abs(E-T):0}var L=0;for(f=1;f<w;f++)L+=S[f-1];for(f=1;f<w;f++)S[f-1]===0?S[f-1]=1:S[f-1]=Math.round(L/S[f-1]);return S};var b=[1,2,4,6,12,24,36,48,60,120,180,240,360,720,840,1260],g=b[9],h=b[13];function x(w,f,S){var T=S[8]+S[2]*f[0]+S[5]*f[1];return w[0]=(S[6]+S[0]*f[0]+S[3]*f[1])/T,w[1]=(S[7]+S[1]*f[0]+S[4]*f[1])/T,w}function v(w,f,S){return function(T,E,L,C){for(var P=[0,0],R=T.shape[0],G=T.shape[1],I=0;I<R;I++)for(var H=0;H<G;H++)L(P,[I,H],C),T.set(I,H,a(E,P[0],P[1]))}(w,f,x,S),w}function m(w,f){for(var S=!1,T=0;T<w.length;T++)if(f===w[T]){S=!0;break}S===!1&&w.push(f)}n.estimateScale=function(w,f){for(var S=1+function(E){if(E.length!==0){for(var L=1,C=0;C<E.length;C++)L=c(L,E[C]);return L}}(f===0?this.calcXnums(w):this.calcYnums(w));S<g;)S*=2;for(;S>h;)S--,S/=p(S),++S<g&&(S=h);var T=Math.round(S/w);return T>1?T:1},n.refineCoords=function(w){for(var f=this.dataScaleX,S=this.dataScaleY,T=w[0].shape[0],E=w[0].shape[1],L=0|Math.floor(w[0].shape[0]*f+1),C=0|Math.floor(w[0].shape[1]*S+1),P=1+T+1,R=1+E+1,G=k(new Float32Array(P*R),[P,R]),I=[1/f,0,0,0,1/S,0,0,0,1],H=0;H<w.length;++H){this.surface.padField(G,w[H]);var N=k(new Float32Array(L*C),[L,C]);v(N,G,I),w[H]=N}},n.setContourLevels=function(){var w,f,S,T=[[],[],[]],E=[!1,!1,!1],L=!1;for(w=0;w<3;++w)if(this.showContour[w]&&(L=!0,this.contourSize[w]>0&&this.contourStart[w]!==null&&this.contourEnd[w]!==null&&this.contourEnd[w]>this.contourStart[w]))for(E[w]=!0,f=this.contourStart[w];f<this.contourEnd[w];f+=this.contourSize[w])S=f*this.scene.dataScale[w],m(T[w],S);if(L){var C=[[],[],[]];for(w=0;w<3;++w)this.showContour[w]&&(C[w]=E[w]?T[w]:this.scene.contourLevels[w]);this.surface.update({levels:C})}},n.update=function(w){var f,S,T,E,L=this.scene,C=L.fullSceneLayout,P=this.surface,R=s(w),G=L.dataScale,I=w.z[0].length,H=w._ylength,N=L.contourLevels;this.data=w;var B=[];for(f=0;f<3;f++)for(B[f]=[],S=0;S<I;S++)B[f][S]=[];for(S=0;S<I;S++)for(T=0;T<H;T++)B[0][S][T]=this.getXat(S,T,w.xcalendar,C.xaxis),B[1][S][T]=this.getYat(S,T,w.ycalendar,C.yaxis),B[2][S][T]=this.getZat(S,T,w.zcalendar,C.zaxis);if(w.connectgaps)for(w._emptypoints=y(B[2]),_(B[2],w._emptypoints),w._interpolatedZ=[],S=0;S<I;S++)for(w._interpolatedZ[S]=[],T=0;T<H;T++)w._interpolatedZ[S][T]=B[2][S][T];for(f=0;f<3;f++)for(S=0;S<I;S++)for(T=0;T<H;T++)(E=B[f][S][T])==null?B[f][S][T]=NaN:E=B[f][S][T]*=G[f];for(f=0;f<3;f++)for(S=0;S<I;S++)for(T=0;T<H;T++)(E=B[f][S][T])!=null&&(this.minValues[f]>E&&(this.minValues[f]=E),this.maxValues[f]<E&&(this.maxValues[f]=E));for(f=0;f<3;f++)this.objectOffset[f]=.5*(this.minValues[f]+this.maxValues[f]);for(f=0;f<3;f++)for(S=0;S<I;S++)for(T=0;T<H;T++)(E=B[f][S][T])!=null&&(B[f][S][T]-=this.objectOffset[f]);var V=[k(new Float32Array(I*H),[I,H]),k(new Float32Array(I*H),[I,H]),k(new Float32Array(I*H),[I,H])];for(f=0;f<3;f++)for(S=0;S<I;S++)for(T=0;T<H;T++)V[f].set(S,T,B[f][S][T]);B=[];var q={colormap:R,levels:[[],[],[]],showContour:[!0,!0,!0],showSurface:!w.hidesurface,contourProject:[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],contourWidth:[1,1,1],contourColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],contourTint:[1,1,1],dynamicColor:[[1,1,1,1],[1,1,1,1],[1,1,1,1]],dynamicWidth:[1,1,1],dynamicTint:[1,1,1],opacityscale:w.opacityscale,opacity:w.opacity},te=i(w);if(q.intensityBounds=[te.min,te.max],w.surfacecolor){var $=k(new Float32Array(I*H),[I,H]);for(S=0;S<I;S++)for(T=0;T<H;T++)$.set(S,T,w.surfacecolor[T][S]);V.push($)}else q.intensityBounds[0]*=G[2],q.intensityBounds[1]*=G[2];(h<V[0].shape[0]||h<V[0].shape[1])&&(this.refineData=!1),this.refineData===!0&&(this.dataScaleX=this.estimateScale(V[0].shape[0],0),this.dataScaleY=this.estimateScale(V[0].shape[1],1),this.dataScaleX===1&&this.dataScaleY===1||this.refineCoords(V)),w.surfacecolor&&(q.intensity=V.pop());var K=[!0,!0,!0],Z=["x","y","z"];for(f=0;f<3;++f){var X=w.contours[Z[f]];K[f]=X.highlight,q.showContour[f]=X.show||X.highlight,q.showContour[f]&&(q.contourProject[f]=[X.project.x,X.project.y,X.project.z],X.show?(this.showContour[f]=!0,q.levels[f]=N[f],P.highlightColor[f]=q.contourColor[f]=t(X.color),X.usecolormap?P.highlightTint[f]=q.contourTint[f]=0:P.highlightTint[f]=q.contourTint[f]=1,q.contourWidth[f]=X.width,this.contourStart[f]=X.start,this.contourEnd[f]=X.end,this.contourSize[f]=X.size):(this.showContour[f]=!1,this.contourStart[f]=null,this.contourEnd[f]=null,this.contourSize[f]=0),X.highlight&&(q.dynamicColor[f]=t(X.highlightcolor),q.dynamicWidth[f]=X.highlightwidth))}(function(ee){var ne=ee[0].rgb,re=ee[ee.length-1].rgb;return ne[0]===re[0]&&ne[1]===re[1]&&ne[2]===re[2]&&ne[3]===re[3]})(R)&&(q.vertexColor=!0),q.objectOffset=this.objectOffset,q.coords=V,P.update(q),P.visible=w.visible,P.enableDynamic=K,P.enableHighlight=K,P.snapToData=!0,"lighting"in w&&(P.ambientLight=w.lighting.ambient,P.diffuseLight=w.lighting.diffuse,P.specularLight=w.lighting.specular,P.roughness=w.lighting.roughness,P.fresnel=w.lighting.fresnel),"lightposition"in w&&(P.lightPosition=[w.lightposition.x,w.lightposition.y,w.lightposition.z])},n.dispose=function(){this.scene.glplot.remove(this.surface),this.surface.dispose()},Y.exports=function(w,f){var S=w.glplot.gl,T=M({gl:S}),E=new r(w,T,f.uid);return T._trace=E,E.update(f),w.glplot.add(T),E}},91831:function(Y,O,e){var M=e(73972),k=e(71828),a=e(1586),_=e(54532);function y(s,t,i,r){var n=r("opacityscale");n==="max"?t.opacityscale=[[0,.1],[1,1]]:n==="min"?t.opacityscale=[[0,1],[1,.1]]:n==="extremes"?t.opacityscale=function(l,o){for(var u=[],p=0;p<32;p++){var c=p/31,b=.1+.9*(1-Math.pow(Math.sin(1*c*Math.PI),2));u.push([c,Math.max(0,Math.min(1,b))])}return u}():function(l){var o=0;if(!Array.isArray(l)||l.length<2||!l[0]||!l[l.length-1]||+l[0][0]!=0||+l[l.length-1][0]!=1)return!1;for(var u=0;u<l.length;u++){var p=l[u];if(p.length!==2||+p[0]<o)return!1;o=+p[0]}return!0}(n)||(t.opacityscale=void 0)}function d(s,t,i){t in s&&!(i in s)&&(s[i]=s[t])}Y.exports={supplyDefaults:function(s,t,i,r){var n,l;function o(m,w){return k.coerce(s,t,_,m,w)}var u=o("x"),p=o("y"),c=o("z");if(!c||!c.length||u&&u.length<1||p&&p.length<1)t.visible=!1;else{t._xlength=Array.isArray(u)&&k.isArrayOrTypedArray(u[0])?c.length:c[0].length,t._ylength=c.length,M.getComponentMethod("calendars","handleTraceDefaults")(s,t,["x","y","z"],r),o("text"),o("hovertext"),o("hovertemplate"),o("xhoverformat"),o("yhoverformat"),o("zhoverformat"),["lighting.ambient","lighting.diffuse","lighting.specular","lighting.roughness","lighting.fresnel","lightposition.x","lightposition.y","lightposition.z","hidesurface","connectgaps","opacity"].forEach(function(m){o(m)});var b=o("surfacecolor"),g=["x","y","z"];for(n=0;n<3;++n){var h="contours."+g[n],x=o(h+".show"),v=o(h+".highlight");if(x||v)for(l=0;l<3;++l)o(h+".project."+g[l]);x&&(o(h+".color"),o(h+".width"),o(h+".usecolormap")),v&&(o(h+".highlightcolor"),o(h+".highlightwidth")),o(h+".start"),o(h+".end"),o(h+".size")}b||(d(s,"zmin","cmin"),d(s,"zmax","cmax"),d(s,"zauto","cauto")),a(s,t,r,o,{prefix:"",cLetter:"c"}),y(0,t,0,o),t._length=null}},opacityscaleDefaults:y}},93601:function(Y,O,e){Y.exports={attributes:e(54532),supplyDefaults:e(91831).supplyDefaults,colorbar:{min:"cmin",max:"cmax"},calc:e(18396),plot:e(43768),moduleType:"trace",name:"surface",basePlotModule:e(58547),categories:["gl3d","2dMap","showLegend"],meta:{}}},44464:function(Y,O,e){var M=e(50215),k=e(1426).extendFlat,a=e(30962).overrideAll,_=e(41940),y=e(27670).Y,d=e(12663).descriptionOnlyNumbers;(Y.exports=a({domain:y({name:"table",trace:!0}),columnwidth:{valType:"number",arrayOk:!0,dflt:null},columnorder:{valType:"data_array"},header:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:28},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},_({arrayOk:!0}))},cells:{values:{valType:"data_array",dflt:[]},format:{valType:"data_array",dflt:[],description:d("cell value")},prefix:{valType:"string",arrayOk:!0,dflt:null},suffix:{valType:"string",arrayOk:!0,dflt:null},height:{valType:"number",dflt:20},align:k({},M.align,{arrayOk:!0}),line:{width:{valType:"number",arrayOk:!0,dflt:1},color:{valType:"color",arrayOk:!0,dflt:"grey"}},fill:{color:{valType:"color",arrayOk:!0,dflt:"white"}},font:k({},_({arrayOk:!0}))}},"calc","from-root")).transforms=void 0},99469:function(Y,O,e){var M=e(27659).a0,k=e(36736),a="table";O.name=a,O.plot=function(_){var y=M(_.calcdata,a)[0];y.length&&k(_,y)},O.clean=function(_,y,d,s){var t=s._has&&s._has(a),i=y._has&&y._has(a);t&&!i&&s._paperdiv.selectAll(".table").remove()}},76333:function(Y,O,e){var M=e(28984).wrap;Y.exports=function(){return M({})}},49850:function(Y){Y.exports={cellPad:8,columnExtentOffset:10,columnTitleOffset:28,emptyHeaderHeight:16,latexCheck:/^\$.*\$$/,goldenRatio:1.618,lineBreaker:"<br>",maxDimensionCount:60,overdrag:45,releaseTransitionDuration:120,releaseTransitionEase:"cubic-out",scrollbarCaptureWidth:18,scrollbarHideDelay:1e3,scrollbarHideDuration:1e3,scrollbarOffset:5,scrollbarWidth:8,transitionDuration:100,transitionEase:"cubic-out",uplift:5,wrapSpacer:" ",wrapSplitCharacter:" ",cn:{table:"table",tableControlView:"table-control-view",scrollBackground:"scroll-background",yColumn:"y-column",columnBlock:"column-block",scrollAreaClip:"scroll-area-clip",scrollAreaClipRect:"scroll-area-clip-rect",columnBoundary:"column-boundary",columnBoundaryClippath:"column-boundary-clippath",columnBoundaryRect:"column-boundary-rect",columnCells:"column-cells",columnCell:"column-cell",cellRect:"cell-rect",cellText:"cell-text",cellTextHolder:"cell-text-holder",scrollbarKit:"scrollbar-kit",scrollbar:"scrollbar",scrollbarSlider:"scrollbar-slider",scrollbarGlyph:"scrollbar-glyph",scrollbarCaptureZone:"scrollbar-capture-zone"}}},51018:function(Y,O,e){var M=e(49850),k=e(1426).extendFlat,a=e(92770);function _(n){if(Array.isArray(n)){for(var l=0,o=0;o<n.length;o++)l=Math.max(l,_(n[o]));return l}return n}function y(n,l){return n+l}function d(n){var l,o=n.slice(),u=1/0,p=0;for(l=0;l<o.length;l++)Array.isArray(o[l])||(o[l]=[o[l]]),u=Math.min(u,o[l].length),p=Math.max(p,o[l].length);if(u!==p)for(l=0;l<o.length;l++){var c=p-o[l].length;c&&(o[l]=o[l].concat(s(c)))}return o}function s(n){for(var l=new Array(n),o=0;o<n;o++)l[o]="";return l}function t(n){return n.calcdata.columns.reduce(function(l,o){return o.xIndex<n.xIndex?l+o.columnWidth:l},0)}function i(n,l){return Object.keys(n).map(function(o){return k({},n[o],{auxiliaryBlocks:l})})}function r(n,l){for(var o,u={},p=0,c=0,b={firstRowIndex:null,lastRowIndex:null,rows:[]},g=0,h=0,x=0;x<n.length;x++)o=n[x],b.rows.push({rowIndex:x,rowHeight:o}),((c+=o)>=l||x===n.length-1)&&(u[p]=b,b.key=h++,b.firstRowIndex=g,b.lastRowIndex=x,b={firstRowIndex:null,lastRowIndex:null,rows:[]},p+=c,g=x+1,c=0);return u}Y.exports=function(n,l){var o=d(l.cells.values),u=function(G){return G.slice(l.header.values.length,G.length)},p=d(l.header.values);p.length&&!p[0].length&&(p[0]=[""],p=d(p));var c=p.concat(u(o).map(function(){return s((p[0]||[""]).length)})),b=l.domain,g=Math.floor(n._fullLayout._size.w*(b.x[1]-b.x[0])),h=Math.floor(n._fullLayout._size.h*(b.y[1]-b.y[0])),x=l.header.values.length?c[0].map(function(){return l.header.height}):[M.emptyHeaderHeight],v=o.length?o[0].map(function(){return l.cells.height}):[],m=x.reduce(y,0),w=r(v,h-m+M.uplift),f=i(r(x,m),[]),S=i(w,f),T={},E=l._fullInput.columnorder.concat(u(o.map(function(G,I){return I}))),L=c.map(function(G,I){var H=Array.isArray(l.columnwidth)?l.columnwidth[Math.min(I,l.columnwidth.length-1)]:l.columnwidth;return a(H)?Number(H):1}),C=L.reduce(y,0);L=L.map(function(G){return G/C*g});var P=Math.max(_(l.header.line.width),_(l.cells.line.width)),R={key:l.uid+n._context.staticPlot,translateX:b.x[0]*n._fullLayout._size.w,translateY:n._fullLayout._size.h*(1-b.y[1]),size:n._fullLayout._size,width:g,maxLineWidth:P,height:h,columnOrder:E,groupHeight:h,rowBlocks:S,headerRowBlocks:f,scrollY:0,cells:k({},l.cells,{values:o}),headerCells:k({},l.header,{values:c}),gdColumns:c.map(function(G){return G[0]}),gdColumnsOriginalOrder:c.map(function(G){return G[0]}),prevPages:[0,0],scrollbarState:{scrollbarScrollInProgress:!1},columns:c.map(function(G,I){var H=T[G];return T[G]=(H||0)+1,{key:G+"__"+T[G],label:G,specIndex:I,xIndex:E[I],xScale:t,x:void 0,calcdata:void 0,columnWidth:L[I]}})};return R.columns.forEach(function(G){G.calcdata=R,G.x=t(G)}),R}},56269:function(Y,O,e){var M=e(1426).extendFlat;O.splitToPanels=function(k){var a=[0,0],_=M({},k,{key:"header",type:"header",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!0,values:k.calcdata.headerCells.values[k.specIndex],rowBlocks:k.calcdata.headerRowBlocks,calcdata:M({},k.calcdata,{cells:k.calcdata.headerCells})});return[M({},k,{key:"cells1",type:"cells",page:0,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),M({},k,{key:"cells2",type:"cells",page:1,prevPages:a,currentRepaint:[null,null],dragHandle:!1,values:k.calcdata.cells.values[k.specIndex],rowBlocks:k.calcdata.rowBlocks}),_]},O.splitToCells=function(k){var a=function(_){var y=_.rowBlocks[_.page],d=y?y.rows[0].rowIndex:0;return[d,y?d+y.rows.length:0]}(k);return(k.values||[]).slice(a[0],a[1]).map(function(_,y){return{keyWithinBlock:y+(typeof _=="string"&&_.match(/[<$&> ]/)?"_keybuster_"+Math.random():""),key:a[0]+y,column:k,calcdata:k.calcdata,page:k.page,rowBlocks:k.rowBlocks,value:_}})}},39754:function(Y,O,e){var M=e(71828),k=e(44464),a=e(27670).c;Y.exports=function(_,y,d,s){function t(i,r){return M.coerce(_,y,k,i,r)}a(y,s,t),t("columnwidth"),t("header.values"),t("header.format"),t("header.align"),t("header.prefix"),t("header.suffix"),t("header.height"),t("header.line.width"),t("header.line.color"),t("header.fill.color"),M.coerceFont(t,"header.font",M.extendFlat({},s.font)),function(i,r){for(var n=i.columnorder||[],l=i.header.values.length,o=n.slice(0,l),u=o.slice().sort(function(b,g){return b-g}),p=o.map(function(b){return u.indexOf(b)}),c=p.length;c<l;c++)p.push(c);r("columnorder",p)}(y,t),t("cells.values"),t("cells.format"),t("cells.align"),t("cells.prefix"),t("cells.suffix"),t("cells.height"),t("cells.line.width"),t("cells.line.color"),t("cells.fill.color"),M.coerceFont(t,"cells.font",M.extendFlat({},s.font)),y._length=null}},96595:function(Y,O,e){Y.exports={attributes:e(44464),supplyDefaults:e(39754),calc:e(76333),plot:e(36736),moduleType:"trace",name:"table",basePlotModule:e(99469),categories:["noOpacity"],meta:{}}},36736:function(Y,O,e){var M=e(49850),k=e(39898),a=e(71828).numberFormat,_=e(28984),y=e(91424),d=e(63893),s=e(71828).raiseToTop,t=e(71828).strTranslate,i=e(71828).cancelTransition,r=e(51018),n=e(56269),l=e(7901);function o(V){return Math.ceil(V.calcdata.maxLineWidth/2)}function u(V,q){return"clip"+V._fullLayout._uid+"_scrollAreaBottomClip_"+q.key}function p(V,q){return"clip"+V._fullLayout._uid+"_columnBoundaryClippath_"+q.calcdata.key+"_"+q.specIndex}function c(V){return[].concat.apply([],V.map(function(q){return q})).map(function(q){return q.__data__})}function b(V,q,te){var $=V.selectAll("."+M.cn.scrollbarKit).data(_.repeat,_.keyFun);$.enter().append("g").classed(M.cn.scrollbarKit,!0).style("shape-rendering","geometricPrecision"),$.each(function(ne){var re=ne.scrollbarState;re.totalHeight=function(ae){var ue=ae.rowBlocks;return I(ue,ue.length-1)+(ue.length?H(ue[ue.length-1],1/0):1)}(ne),re.scrollableAreaHeight=ne.groupHeight-S(ne),re.currentlyVisibleHeight=Math.min(re.totalHeight,re.scrollableAreaHeight),re.ratio=re.currentlyVisibleHeight/re.totalHeight,re.barLength=Math.max(re.ratio*re.currentlyVisibleHeight,M.goldenRatio*M.scrollbarWidth),re.barWiggleRoom=re.currentlyVisibleHeight-re.barLength,re.wiggleRoom=Math.max(0,re.totalHeight-re.scrollableAreaHeight),re.topY=re.barWiggleRoom===0?0:ne.scrollY/re.wiggleRoom*re.barWiggleRoom,re.bottomY=re.topY+re.barLength,re.dragMultiplier=re.wiggleRoom/re.barWiggleRoom}).attr("transform",function(ne){var re=ne.width+M.scrollbarWidth/2+M.scrollbarOffset;return t(re,S(ne))});var K=$.selectAll("."+M.cn.scrollbar).data(_.repeat,_.keyFun);K.enter().append("g").classed(M.cn.scrollbar,!0);var Z=K.selectAll("."+M.cn.scrollbarSlider).data(_.repeat,_.keyFun);Z.enter().append("g").classed(M.cn.scrollbarSlider,!0),Z.attr("transform",function(ne){return t(0,ne.scrollbarState.topY||0)});var X=Z.selectAll("."+M.cn.scrollbarGlyph).data(_.repeat,_.keyFun);X.enter().append("line").classed(M.cn.scrollbarGlyph,!0).attr("stroke","black").attr("stroke-width",M.scrollbarWidth).attr("stroke-linecap","round").attr("y1",M.scrollbarWidth/2),X.attr("y2",function(ne){return ne.scrollbarState.barLength-M.scrollbarWidth/2}).attr("stroke-opacity",function(ne){return ne.columnDragInProgress||!ne.scrollbarState.barWiggleRoom||te?0:.4}),X.transition().delay(0).duration(0),X.transition().delay(M.scrollbarHideDelay).duration(M.scrollbarHideDuration).attr("stroke-opacity",0);var ee=K.selectAll("."+M.cn.scrollbarCaptureZone).data(_.repeat,_.keyFun);ee.enter().append("line").classed(M.cn.scrollbarCaptureZone,!0).attr("stroke","white").attr("stroke-opacity",.01).attr("stroke-width",M.scrollbarCaptureWidth).attr("stroke-linecap","butt").attr("y1",0).on("mousedown",function(ne){var re=k.event.y,ae=this.getBoundingClientRect(),ue=ne.scrollbarState,pe=re-ae.top,ge=k.scale.linear().domain([0,ue.scrollableAreaHeight]).range([0,ue.totalHeight]).clamp(!0);ue.topY<=pe&&pe<=ue.bottomY||E(q,V,null,ge(pe-ue.barLength/2))(ne)}).call(k.behavior.drag().origin(function(ne){return k.event.stopPropagation(),ne.scrollbarState.scrollbarScrollInProgress=!0,ne}).on("drag",E(q,V)).on("dragend",function(){})),ee.attr("y2",function(ne){return ne.scrollbarState.scrollableAreaHeight}),q._context.staticPlot&&(X.remove(),ee.remove())}function g(V,q,te,$){var K=function(re){var ae=re.selectAll("."+M.cn.columnCells).data(_.repeat,_.keyFun);return ae.enter().append("g").classed(M.cn.columnCells,!0),ae.exit().remove(),ae}(te),Z=function(re){var ae=re.selectAll("."+M.cn.columnCell).data(n.splitToCells,function(ue){return ue.keyWithinBlock});return ae.enter().append("g").classed(M.cn.columnCell,!0),ae.exit().remove(),ae}(K);(function(re){re.each(function(ae,ue){var pe=ae.calcdata.cells.font,ge=ae.column.specIndex,we={size:v(pe.size,ge,ue),color:v(pe.color,ge,ue),family:v(pe.family,ge,ue)};ae.rowNumber=ae.key,ae.align=v(ae.calcdata.cells.align,ge,ue),ae.cellBorderWidth=v(ae.calcdata.cells.line.width,ge,ue),ae.font=we})})(Z);var X=function(re){var ae=re.selectAll("."+M.cn.cellRect).data(_.repeat,function(ue){return ue.keyWithinBlock});return ae.enter().append("rect").classed(M.cn.cellRect,!0),ae}(Z);(function(re){re.attr("width",function(ae){return ae.column.columnWidth}).attr("stroke-width",function(ae){return ae.cellBorderWidth}).each(function(ae){var ue=k.select(this);l.stroke(ue,v(ae.calcdata.cells.line.color,ae.column.specIndex,ae.rowNumber)),l.fill(ue,v(ae.calcdata.cells.fill.color,ae.column.specIndex,ae.rowNumber))})})(X);var ee=function(re){var ae=re.selectAll("."+M.cn.cellTextHolder).data(_.repeat,function(ue){return ue.keyWithinBlock});return ae.enter().append("g").classed(M.cn.cellTextHolder,!0).style("shape-rendering","geometricPrecision"),ae}(Z),ne=function(re){var ae=re.selectAll("."+M.cn.cellText).data(_.repeat,function(ue){return ue.keyWithinBlock});return ae.enter().append("text").classed(M.cn.cellText,!0).style("cursor",function(){return"auto"}).on("mousedown",function(){k.event.stopPropagation()}),ae}(ee);(function(re){re.each(function(ae){y.font(k.select(this),ae.font)})})(ne),h(ne,q,$,V),G(Z)}function h(V,q,te,$){V.text(function(K){var Z=K.column.specIndex,X=K.rowNumber,ee=K.value,ne=typeof ee=="string",re=ne&&ee.match(/<br>/i),ae=!ne||re;K.mayHaveMarkup=ne&&ee.match(/[<&>]/);var ue,pe=typeof(ue=ee)=="string"&&ue.match(M.latexCheck);K.latex=pe;var ge,we,me=pe?"":v(K.calcdata.cells.prefix,Z,X)||"",ve=pe?"":v(K.calcdata.cells.suffix,Z,X)||"",Ie=pe?null:v(K.calcdata.cells.format,Z,X)||null,Se=me+(Ie?a(Ie)(K.value):K.value)+ve;if(K.wrappingNeeded=!K.wrapped&&!ae&&!pe&&(ge=x(Se)),K.cellHeightMayIncrease=re||pe||K.mayHaveMarkup||(ge===void 0?x(Se):ge),K.needsConvertToTspans=K.mayHaveMarkup||K.wrappingNeeded||K.latex,K.wrappingNeeded){var ke=(M.wrapSplitCharacter===" "?Se.replace(/<a href=/gi,"<a_href="):Se).split(M.wrapSplitCharacter),se=M.wrapSplitCharacter===" "?ke.map(function(oe){return oe.replace(/<a_href=/gi,"<a href=")}):ke;K.fragments=se.map(function(oe){return{text:oe,width:null}}),K.fragments.push({fragment:M.wrapSpacer,width:null}),we=se.join(M.lineBreaker)+M.lineBreaker+M.wrapSpacer}else delete K.fragments,we=Se;return we}).attr("dy",function(K){return K.needsConvertToTspans?0:"0.75em"}).each(function(K){var Z=this,X=k.select(Z),ee=K.wrappingNeeded?C:P;K.needsConvertToTspans?d.convertToTspans(X,$,ee(te,Z,q,$,K)):k.select(Z.parentNode).attr("transform",function(ne){return t(R(ne),M.cellPad)}).attr("text-anchor",function(ne){return{left:"start",center:"middle",right:"end"}[ne.align]})})}function x(V){return V.indexOf(M.wrapSplitCharacter)!==-1}function v(V,q,te){if(Array.isArray(V)){var $=V[Math.min(q,V.length-1)];return Array.isArray($)?$[Math.min(te,$.length-1)]:$}return V}function m(V,q,te){V.transition().ease(M.releaseTransitionEase).duration(M.releaseTransitionDuration).attr("transform",t(q.x,te))}function w(V){return V.type==="cells"}function f(V){return V.type==="header"}function S(V){return(V.rowBlocks.length?V.rowBlocks[0].auxiliaryBlocks:[]).reduce(function(q,te){return q+H(te,1/0)},0)}function T(V,q,te){var $=c(q)[0];if($!==void 0){var K=$.rowBlocks,Z=$.calcdata,X=I(K,K.length),ee=$.calcdata.groupHeight-S($),ne=Z.scrollY=Math.max(0,Math.min(X-ee,Z.scrollY)),re=function(ae,ue,pe){for(var ge=[],we=0,me=0;me<ae.length;me++){for(var ve=ae[me],Ie=ve.rows,Se=0,ke=0;ke<Ie.length;ke++)Se+=Ie[ke].rowHeight;ve.allRowsHeight=Se,ue<we+Se&&ue+pe>we&&ge.push(me),we+=Se}return ge}(K,ne,ee);re.length===1&&(re[0]===K.length-1?re.unshift(re[0]-1):re.push(re[0]+1)),re[0]%2&&re.reverse(),q.each(function(ae,ue){ae.page=re[ue],ae.scrollY=ne}),q.attr("transform",function(ae){var ue=I(ae.rowBlocks,ae.page)-ae.scrollY;return t(0,ue)}),V&&(L(V,te,q,re,$.prevPages,$,0),L(V,te,q,re,$.prevPages,$,1),b(te,V))}}function E(V,q,te,$){return function(K){var Z=K.calcdata?K.calcdata:K,X=q.filter(function(ae){return Z.key===ae.key}),ee=te||Z.scrollbarState.dragMultiplier,ne=Z.scrollY;Z.scrollY=$===void 0?Z.scrollY+ee*k.event.dy:$;var re=X.selectAll("."+M.cn.yColumn).selectAll("."+M.cn.columnBlock).filter(w);return T(V,re,X),Z.scrollY===ne}}function L(V,q,te,$,K,Z,X){$[X]!==K[X]&&(clearTimeout(Z.currentRepaint[X]),Z.currentRepaint[X]=setTimeout(function(){var ee=te.filter(function(ne,re){return re===X&&$[re]!==K[re]});g(V,q,ee,te),K[X]=$[X]}))}function C(V,q,te,$){return function(){var K=k.select(q.parentNode);K.each(function(Z){var X=Z.fragments;K.selectAll("tspan.line").each(function(we,me){X[me].width=this.getComputedTextLength()});var ee,ne,re=X[X.length-1].width,ae=X.slice(0,-1),ue=[],pe=0,ge=Z.column.columnWidth-2*M.cellPad;for(Z.value="";ae.length;)pe+(ne=(ee=ae.shift()).width+re)>ge&&(Z.value+=ue.join(M.wrapSpacer)+M.lineBreaker,ue=[],pe=0),ue.push(ee.text),pe+=ne;pe&&(Z.value+=ue.join(M.wrapSpacer)),Z.wrapped=!0}),K.selectAll("tspan.line").remove(),h(K.select("."+M.cn.cellText),te,V,$),k.select(q.parentNode.parentNode).call(G)}}function P(V,q,te,$,K){return function(){if(!K.settledY){var Z=k.select(q.parentNode),X=B(K),ee=K.key-X.firstRowIndex,ne=X.rows[ee].rowHeight,re=K.cellHeightMayIncrease?q.parentNode.getBoundingClientRect().height+2*M.cellPad:ne,ae=Math.max(re,ne);ae-X.rows[ee].rowHeight&&(X.rows[ee].rowHeight=ae,V.selectAll("."+M.cn.columnCell).call(G),T(null,V.filter(w),0),b(te,$,!0)),Z.attr("transform",function(){var ue=this,pe=ue.parentNode.getBoundingClientRect(),ge=k.select(ue.parentNode).select("."+M.cn.cellRect).node().getBoundingClientRect(),we=ue.transform.baseVal.consolidate(),me=ge.top-pe.top+(we?we.matrix.f:M.cellPad);return t(R(K,k.select(ue.parentNode).select("."+M.cn.cellTextHolder).node().getBoundingClientRect().width),me)}),K.settledY=!0}}}function R(V,q){switch(V.align){case"left":default:return M.cellPad;case"right":return V.column.columnWidth-(q||0)-M.cellPad;case"center":return(V.column.columnWidth-(q||0))/2}}function G(V){V.attr("transform",function(q){var te=q.rowBlocks[0].auxiliaryBlocks.reduce(function(K,Z){return K+H(Z,1/0)},0),$=H(B(q),q.key);return t(0,$+te)}).selectAll("."+M.cn.cellRect).attr("height",function(q){return(te=B(q),$=q.key,te.rows[$-te.firstRowIndex]).rowHeight;var te,$})}function I(V,q){for(var te=0,$=q-1;$>=0;$--)te+=N(V[$]);return te}function H(V,q){for(var te=0,$=0;$<V.rows.length&&V.rows[$].rowIndex<q;$++)te+=V.rows[$].rowHeight;return te}function N(V){var q=V.allRowsHeight;if(q!==void 0)return q;for(var te=0,$=0;$<V.rows.length;$++)te+=V.rows[$].rowHeight;return V.allRowsHeight=te,te}function B(V){return V.rowBlocks[V.page]}Y.exports=function(V,q){var te=!V._context.staticPlot,$=V._fullLayout._paper.selectAll("."+M.cn.table).data(q.map(function(ve){var Ie=_.unwrap(ve).trace;return r(V,Ie)}),_.keyFun);$.exit().remove(),$.enter().append("g").classed(M.cn.table,!0).attr("overflow","visible").style("box-sizing","content-box").style("position","absolute").style("left",0).style("overflow","visible").style("shape-rendering","crispEdges").style("pointer-events","all"),$.attr("width",function(ve){return ve.width+ve.size.l+ve.size.r}).attr("height",function(ve){return ve.height+ve.size.t+ve.size.b}).attr("transform",function(ve){return t(ve.translateX,ve.translateY)});var K=$.selectAll("."+M.cn.tableControlView).data(_.repeat,_.keyFun),Z=K.enter().append("g").classed(M.cn.tableControlView,!0).style("box-sizing","content-box");if(te){var X="onwheel"in document?"wheel":"mousewheel";Z.on("mousemove",function(ve){K.filter(function(Ie){return ve===Ie}).call(b,V)}).on(X,function(ve){if(!ve.scrollbarState.wheeling){ve.scrollbarState.wheeling=!0;var Ie=ve.scrollY+k.event.deltaY;E(V,K,null,Ie)(ve)||(k.event.stopPropagation(),k.event.preventDefault()),ve.scrollbarState.wheeling=!1}}).call(b,V,!0)}K.attr("transform",function(ve){return t(ve.size.l,ve.size.t)});var ee=K.selectAll("."+M.cn.scrollBackground).data(_.repeat,_.keyFun);ee.enter().append("rect").classed(M.cn.scrollBackground,!0).attr("fill","none"),ee.attr("width",function(ve){return ve.width}).attr("height",function(ve){return ve.height}),K.each(function(ve){y.setClipUrl(k.select(this),u(V,ve),V)});var ne=K.selectAll("."+M.cn.yColumn).data(function(ve){return ve.columns},_.keyFun);ne.enter().append("g").classed(M.cn.yColumn,!0),ne.exit().remove(),ne.attr("transform",function(ve){return t(ve.x,0)}),te&&ne.call(k.behavior.drag().origin(function(ve){return m(k.select(this),ve,-M.uplift),s(this),ve.calcdata.columnDragInProgress=!0,b(K.filter(function(Ie){return ve.calcdata.key===Ie.key}),V),ve}).on("drag",function(ve){var Ie=k.select(this),Se=function(ke){return(ve===ke?k.event.x:ke.x)+ke.columnWidth/2};ve.x=Math.max(-M.overdrag,Math.min(ve.calcdata.width+M.overdrag-ve.columnWidth,k.event.x)),c(ne).filter(function(ke){return ke.calcdata.key===ve.calcdata.key}).sort(function(ke,se){return Se(ke)-Se(se)}).forEach(function(ke,se){ke.xIndex=se,ke.x=ve===ke?ke.x:ke.xScale(ke)}),ne.filter(function(ke){return ve!==ke}).transition().ease(M.transitionEase).duration(M.transitionDuration).attr("transform",function(ke){return t(ke.x,0)}),Ie.call(i).attr("transform",t(ve.x,-M.uplift))}).on("dragend",function(ve){var Ie=k.select(this),Se=ve.calcdata;ve.x=ve.xScale(ve),ve.calcdata.columnDragInProgress=!1,m(Ie,ve,0),function(ke,se,oe){var he=se.gdColumnsOriginalOrder;se.gdColumns.sort(function(Le,Me){return oe[he.indexOf(Le)]-oe[he.indexOf(Me)]}),se.columnorder=oe,ke.emit("plotly_restyle")}(V,Se,Se.columns.map(function(ke){return ke.xIndex}))})),ne.each(function(ve){y.setClipUrl(k.select(this),p(V,ve),V)});var re=ne.selectAll("."+M.cn.columnBlock).data(n.splitToPanels,_.keyFun);re.enter().append("g").classed(M.cn.columnBlock,!0).attr("id",function(ve){return ve.key}),re.style("cursor",function(ve){return ve.dragHandle?"ew-resize":ve.calcdata.scrollbarState.barWiggleRoom?"ns-resize":"default"});var ae=re.filter(f),ue=re.filter(w);te&&ue.call(k.behavior.drag().origin(function(ve){return k.event.stopPropagation(),ve}).on("drag",E(V,K,-1)).on("dragend",function(){})),g(V,K,ae,re),g(V,K,ue,re);var pe=K.selectAll("."+M.cn.scrollAreaClip).data(_.repeat,_.keyFun);pe.enter().append("clipPath").classed(M.cn.scrollAreaClip,!0).attr("id",function(ve){return u(V,ve)});var ge=pe.selectAll("."+M.cn.scrollAreaClipRect).data(_.repeat,_.keyFun);ge.enter().append("rect").classed(M.cn.scrollAreaClipRect,!0).attr("x",-M.overdrag).attr("y",-M.uplift).attr("fill","none"),ge.attr("width",function(ve){return ve.width+2*M.overdrag}).attr("height",function(ve){return ve.height+M.uplift}),ne.selectAll("."+M.cn.columnBoundary).data(_.repeat,_.keyFun).enter().append("g").classed(M.cn.columnBoundary,!0);var we=ne.selectAll("."+M.cn.columnBoundaryClippath).data(_.repeat,_.keyFun);we.enter().append("clipPath").classed(M.cn.columnBoundaryClippath,!0),we.attr("id",function(ve){return p(V,ve)});var me=we.selectAll("."+M.cn.columnBoundaryRect).data(_.repeat,_.keyFun);me.enter().append("rect").classed(M.cn.columnBoundaryRect,!0).attr("fill","none"),me.attr("width",function(ve){return ve.columnWidth+2*o(ve)}).attr("height",function(ve){return ve.calcdata.height+2*o(ve)+M.uplift}).attr("x",function(ve){return-o(ve)}).attr("y",function(ve){return-o(ve)}),T(null,ue,K)}},45802:function(Y,O,e){var M=e(5386).fF,k=e(5386).si,a=e(50693),_=e(27670).Y,y=e(34e3),d=e(57564),s=e(43473),t=e(1426).extendFlat,i=e(79952).u;Y.exports={labels:d.labels,parents:d.parents,values:d.values,branchvalues:d.branchvalues,count:d.count,level:d.level,maxdepth:d.maxdepth,tiling:{packing:{valType:"enumerated",values:["squarify","binary","dice","slice","slice-dice","dice-slice"],dflt:"squarify",editType:"plot"},squarifyratio:{valType:"number",min:1,dflt:1,editType:"plot"},flip:{valType:"flaglist",flags:["x","y"],dflt:"",editType:"plot"},pad:{valType:"number",min:0,dflt:3,editType:"plot"},editType:"calc"},marker:t({pad:{t:{valType:"number",min:0,editType:"plot"},l:{valType:"number",min:0,editType:"plot"},r:{valType:"number",min:0,editType:"plot"},b:{valType:"number",min:0,editType:"plot"},editType:"calc"},colors:d.marker.colors,pattern:i,depthfade:{valType:"enumerated",values:[!0,!1,"reversed"],editType:"style"},line:d.marker.line,cornerradius:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"calc"},a("marker",{colorAttr:"colors",anim:!1})),pathbar:{visible:{valType:"boolean",dflt:!0,editType:"plot"},side:{valType:"enumerated",values:["top","bottom"],dflt:"top",editType:"plot"},edgeshape:{valType:"enumerated",values:[">","<","|","/","\\"],dflt:">",editType:"plot"},thickness:{valType:"number",min:12,editType:"plot"},textfont:t({},y.textfont,{}),editType:"calc"},text:y.text,textinfo:d.textinfo,texttemplate:k({editType:"plot"},{keys:s.eventDataKeys.concat(["label","value"])}),hovertext:y.hovertext,hoverinfo:d.hoverinfo,hovertemplate:M({},{keys:s.eventDataKeys}),textfont:y.textfont,insidetextfont:y.insidetextfont,outsidetextfont:t({},y.outsidetextfont,{}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"top left",editType:"plot"},sort:y.sort,root:d.root,domain:_({name:"treemap",trace:!0,editType:"calc"})}},78018:function(Y,O,e){var M=e(74875);O.name="treemap",O.plot=function(k,a,_,y){M.plotBasePlot(O.name,k,a,_,y)},O.clean=function(k,a,_,y){M.cleanBasePlot(O.name,k,a,_,y)}},65039:function(Y,O,e){var M=e(52147);O.y=function(k,a){return M.calc(k,a)},O.T=function(k){return M._runCrossTraceCalc("treemap",k)}},43473:function(Y){Y.exports={CLICK_TRANSITION_TIME:750,CLICK_TRANSITION_EASING:"poly",eventDataKeys:["currentPath","root","entry","percentRoot","percentEntry","percentParent"],gapWithPathbar:1}},91174:function(Y,O,e){var M=e(71828),k=e(45802),a=e(7901),_=e(27670).c,y=e(90769).handleText,d=e(97313).TEXTPAD,s=e(37434).handleMarkerDefaults,t=e(21081),i=t.hasColorscale,r=t.handleDefaults;Y.exports=function(n,l,o,u){function p(w,f){return M.coerce(n,l,k,w,f)}var c=p("labels"),b=p("parents");if(c&&c.length&&b&&b.length){var g=p("values");g&&g.length?p("branchvalues"):p("count"),p("level"),p("maxdepth"),p("tiling.packing")==="squarify"&&p("tiling.squarifyratio"),p("tiling.flip"),p("tiling.pad");var h=p("text");p("texttemplate"),l.texttemplate||p("textinfo",Array.isArray(h)?"text+label":"label"),p("hovertext"),p("hovertemplate");var x=p("pathbar.visible");y(n,l,u,p,"auto",{hasPathbar:x,moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),p("textposition");var v=l.textposition.indexOf("bottom")!==-1;s(n,l,u,p),(l._hasColorscale=i(n,"marker","colors")||(n.marker||{}).coloraxis)?r(n,l,u,p,{prefix:"marker.",cLetter:"c"}):p("marker.depthfade",!(l.marker.colors||[]).length);var m=2*l.textfont.size;p("marker.pad.t",v?m/4:m),p("marker.pad.l",m/4),p("marker.pad.r",m/4),p("marker.pad.b",v?m:m/4),p("marker.cornerradius"),l._hovered={marker:{line:{width:2,color:a.contrast(u.paper_bgcolor)}}},x&&(p("pathbar.thickness",l.pathbar.textfont.size+2*d),p("pathbar.side"),p("pathbar.edgeshape")),p("sort"),p("root.color"),_(l,u,p),l._length=null}else l.visible=!1}},80694:function(Y,O,e){var M=e(39898),k=e(2791),a=e(72597).clearMinTextSize,_=e(16688).resizeText,y=e(46650);Y.exports=function(d,s,t,i,r){var n,l,o=r.type,u=r.drawDescendants,p=d._fullLayout,c=p["_"+o+"layer"],b=!t;a(o,p),(n=c.selectAll("g.trace."+o).data(s,function(g){return g[0].trace.uid})).enter().append("g").classed("trace",!0).classed(o,!0),n.order(),!p.uniformtext.mode&&k.hasTransition(t)?(i&&(l=i()),M.transition().duration(t.duration).ease(t.easing).each("end",function(){l&&l()}).each("interrupt",function(){l&&l()}).each(function(){c.selectAll("g.trace").each(function(g){y(d,g,this,t,u)})})):(n.each(function(g){y(d,g,this,t,u)}),p.uniformtext.mode&&_(d,c.selectAll(".trace"),o)),b&&n.exit().remove()}},66209:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(63893),y=e(37210),d=e(96362).styleOne,s=e(43473),t=e(2791),i=e(83523),r=!0;Y.exports=function(n,l,o,u,p){var c=p.barDifY,b=p.width,g=p.height,h=p.viewX,x=p.viewY,v=p.pathSlice,m=p.toMoveInsideSlice,w=p.strTransform,f=p.hasTransition,S=p.handleSlicesExit,T=p.makeUpdateSliceInterpolator,E=p.makeUpdateTextInterpolator,L={},C=n._context.staticPlot,P=n._fullLayout,R=l[0],G=R.trace,I=R.hierarchy,H=b/G._entryDepth,N=t.listPath(o.data,"id"),B=y(I.copy(),[b,g],{packing:"dice",pad:{inner:0,top:0,left:0,right:0,bottom:0}}).descendants();(B=B.filter(function(q){var te=N.indexOf(q.data.id);return te!==-1&&(q.x0=H*te,q.x1=H*(te+1),q.y0=c,q.y1=c+g,q.onPathbar=!0,!0)})).reverse(),(u=u.data(B,t.getPtId)).enter().append("g").classed("pathbar",!0),S(u,r,L,[b,g],v),u.order();var V=u;f&&(V=V.transition().each("end",function(){var q=M.select(this);t.setSliceCursor(q,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:!1})})),V.each(function(q){q._x0=h(q.x0),q._x1=h(q.x1),q._y0=x(q.y0),q._y1=x(q.y1),q._hoverX=h(q.x1-Math.min(b,g)/2),q._hoverY=x(q.y1-g/2);var te=M.select(this),$=k.ensureSingle(te,"path","surface",function(ee){ee.style("pointer-events",C?"none":"all")});f?$.transition().attrTween("d",function(ee){var ne=T(ee,r,L,[b,g]);return function(re){return v(ne(re))}}):$.attr("d",v),te.call(i,o,n,l,{styleOne:d,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,n,{hideOnRoot:!1,hideOnLeaves:!1,isTransitioning:n._transitioning}),$.call(d,q,G,n,{hovered:!1}),q._text=(t.getPtLabel(q)||"").split("<br>").join(" ")||"";var K=k.ensureSingle(te,"g","slicetext"),Z=k.ensureSingle(K,"text","",function(ee){ee.attr("data-notex",1)}),X=k.ensureUniformFontSize(n,t.determineTextFont(G,q,P.font,{onPathbar:!0}));Z.text(q._text||" ").classed("slicetext",!0).attr("text-anchor","start").call(a.font,X).call(_.convertToTspans,n),q.textBB=a.bBox(Z.node()),q.transform=m(q,{fontSize:X.size,onPathbar:!0}),q.transform.fontSize=X.size,f?Z.transition().attrTween("transform",function(ee){var ne=E(ee,r,L,[b,g]);return function(re){return w(ne(re))}}):Z.attr("transform",w(q))})}},52583:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(63893),y=e(37210),d=e(96362).styleOne,s=e(43473),t=e(2791),i=e(83523),r=e(24714).formatSliceLabel,n=!1;Y.exports=function(l,o,u,p,c){var b=c.width,g=c.height,h=c.viewX,x=c.viewY,v=c.pathSlice,m=c.toMoveInsideSlice,w=c.strTransform,f=c.hasTransition,S=c.handleSlicesExit,T=c.makeUpdateSliceInterpolator,E=c.makeUpdateTextInterpolator,L=c.prevEntry,C=l._context.staticPlot,P=l._fullLayout,R=o[0].trace,G=R.textposition.indexOf("left")!==-1,I=R.textposition.indexOf("right")!==-1,H=R.textposition.indexOf("bottom")!==-1,N=!H&&!R.marker.pad.t||H&&!R.marker.pad.b,B=y(u,[b,g],{packing:R.tiling.packing,squarifyratio:R.tiling.squarifyratio,flipX:R.tiling.flip.indexOf("x")>-1,flipY:R.tiling.flip.indexOf("y")>-1,pad:{inner:R.tiling.pad,top:R.marker.pad.t,left:R.marker.pad.l,right:R.marker.pad.r,bottom:R.marker.pad.b}}).descendants(),V=1/0,q=-1/0;B.forEach(function(X){var ee=X.depth;ee>=R._maxDepth?(X.x0=X.x1=(X.x0+X.x1)/2,X.y0=X.y1=(X.y0+X.y1)/2):(V=Math.min(V,ee),q=Math.max(q,ee))}),p=p.data(B,t.getPtId),R._maxVisibleLayers=isFinite(q)?q-V+1:0,p.enter().append("g").classed("slice",!0),S(p,n,{},[b,g],v),p.order();var te=null;if(f&&L){var $=t.getPtId(L);p.each(function(X){te===null&&t.getPtId(X)===$&&(te={x0:X.x0,x1:X.x1,y0:X.y0,y1:X.y1})})}var K=function(){return te||{x0:0,x1:b,y0:0,y1:g}},Z=p;return f&&(Z=Z.transition().each("end",function(){var X=M.select(this);t.setSliceCursor(X,l,{hideOnRoot:!0,hideOnLeaves:!1,isTransitioning:!1})})),Z.each(function(X){var ee=t.isHeader(X,R);X._x0=h(X.x0),X._x1=h(X.x1),X._y0=x(X.y0),X._y1=x(X.y1),X._hoverX=h(X.x1-R.marker.pad.r),X._hoverY=x(H?X.y1-R.marker.pad.b/2:X.y0+R.marker.pad.t/2);var ne=M.select(this),re=k.ensureSingle(ne,"path","surface",function(ge){ge.style("pointer-events",C?"none":"all")});f?re.transition().attrTween("d",function(ge){var we=T(ge,n,K(),[b,g]);return function(me){return v(we(me))}}):re.attr("d",v),ne.call(i,u,l,o,{styleOne:d,eventDataKeys:s.eventDataKeys,transitionTime:s.CLICK_TRANSITION_TIME,transitionEasing:s.CLICK_TRANSITION_EASING}).call(t.setSliceCursor,l,{isTransitioning:l._transitioning}),re.call(d,X,R,l,{hovered:!1}),X.x0===X.x1||X.y0===X.y1?X._text="":X._text=ee?N?"":t.getPtLabel(X)||"":r(X,u,R,o,P)||"";var ae=k.ensureSingle(ne,"g","slicetext"),ue=k.ensureSingle(ae,"text","",function(ge){ge.attr("data-notex",1)}),pe=k.ensureUniformFontSize(l,t.determineTextFont(R,X,P.font));ue.text(X._text||" ").classed("slicetext",!0).attr("text-anchor",I?"end":G||ee?"start":"middle").call(a.font,pe).call(_.convertToTspans,l),X.textBB=a.bBox(ue.node()),X.transform=m(X,{fontSize:pe.size,isHeader:ee}),X.transform.fontSize=pe.size,f?ue.transition().attrTween("transform",function(ge){var we=E(ge,n,K(),[b,g]);return function(me){return w(we(me))}}):ue.attr("transform",w(X))}),te}},14102:function(Y){Y.exports=function O(e,M,k){var a;k.swapXY&&(a=e.x0,e.x0=e.y0,e.y0=a,a=e.x1,e.x1=e.y1,e.y1=a),k.flipX&&(a=e.x0,e.x0=M[0]-e.x1,e.x1=M[0]-a),k.flipY&&(a=e.y0,e.y0=M[1]-e.y1,e.y1=M[1]-a);var _=e.children;if(_)for(var y=0;y<_.length;y++)O(_[y],M,k)}},70954:function(Y,O,e){Y.exports={moduleType:"trace",name:"treemap",basePlotModule:e(78018),categories:[],animatable:!0,attributes:e(45802),layoutAttributes:e(55479),supplyDefaults:e(91174),supplyLayoutDefaults:e(77182),calc:e(65039).y,crossTraceCalc:e(65039).T,plot:e(5893),style:e(96362).style,colorbar:e(4898),meta:{}}},55479:function(Y){Y.exports={treemapcolorway:{valType:"colorlist",editType:"calc"},extendtreemapcolors:{valType:"boolean",dflt:!0,editType:"calc"}}},77182:function(Y,O,e){var M=e(71828),k=e(55479);Y.exports=function(a,_){function y(d,s){return M.coerce(a,_,k,d,s)}y("treemapcolorway",_.colorway),y("extendtreemapcolors")}},37210:function(Y,O,e){var M=e(674),k=e(14102);Y.exports=function(a,_,y){var d,s=y.flipX,t=y.flipY,i=y.packing==="dice-slice",r=y.pad[t?"bottom":"top"],n=y.pad[s?"right":"left"],l=y.pad[s?"left":"right"],o=y.pad[t?"top":"bottom"];i&&(d=n,n=r,r=d,d=l,l=o,o=d);var u=M.treemap().tile(function(p,c){switch(p){case"squarify":return M.treemapSquarify.ratio(c);case"binary":return M.treemapBinary;case"dice":return M.treemapDice;case"slice":return M.treemapSlice;default:return M.treemapSliceDice}}(y.packing,y.squarifyratio)).paddingInner(y.pad.inner).paddingLeft(n).paddingRight(l).paddingTop(r).paddingBottom(o).size(i?[_[1],_[0]]:_)(a);return(i||s||t)&&k(u,_,{swapXY:i,flipX:s,flipY:t}),u}},5893:function(Y,O,e){var M=e(80694),k=e(52583);Y.exports=function(a,_,y,d){return M(a,_,y,d,{type:"treemap",drawDescendants:k})}},46650:function(Y,O,e){var M=e(39898),k=e(81684).sX,a=e(2791),_=e(71828),y=e(97313).TEXTPAD,d=e(17295).toMoveInsideBar,s=e(72597).recordMinTextSize,t=e(43473),i=e(66209);function r(n){return a.isHierarchyRoot(n)?"":a.getPtId(n)}Y.exports=function(n,l,o,u,p){var c=n._fullLayout,b=l[0],g=b.trace,h=g.type==="icicle",x=b.hierarchy,v=a.findEntryWithLevel(x,g.level),m=M.select(o),w=m.selectAll("g.pathbar"),f=m.selectAll("g.slice");if(!v)return w.remove(),void f.remove();var S=a.isHierarchyRoot(v),T=!c.uniformtext.mode&&a.hasTransition(u),E=a.getMaxDepth(g),L=c._size,C=g.domain,P=L.w*(C.x[1]-C.x[0]),R=L.h*(C.y[1]-C.y[0]),G=P,I=g.pathbar.thickness,H=g.marker.line.width+t.gapWithPathbar,N=g.pathbar.visible?g.pathbar.side.indexOf("bottom")>-1?R+H:-(I+H):0,B={x0:G,x1:G,y0:N,y1:N+I},V=function(ye,Oe,Be){var Fe=g.tiling.pad,Ge=function(rt){return rt-Fe<=Oe.x0},Ze=function(rt){return rt+Fe>=Oe.x1},et=function(rt){return rt-Fe<=Oe.y0},ft=function(rt){return rt+Fe>=Oe.y1};return ye.x0===Oe.x0&&ye.x1===Oe.x1&&ye.y0===Oe.y0&&ye.y1===Oe.y1?{x0:ye.x0,x1:ye.x1,y0:ye.y0,y1:ye.y1}:{x0:Ge(ye.x0-Fe)?0:Ze(ye.x0-Fe)?Be[0]:ye.x0,x1:Ge(ye.x1+Fe)?0:Ze(ye.x1+Fe)?Be[0]:ye.x1,y0:et(ye.y0-Fe)?0:ft(ye.y0-Fe)?Be[1]:ye.y0,y1:et(ye.y1+Fe)?0:ft(ye.y1+Fe)?Be[1]:ye.y1}},q=null,te={},$={},K=null,Z=function(ye,Oe){return Oe?te[r(ye)]:$[r(ye)]};b.hasMultipleRoots&&S&&E++,g._maxDepth=E,g._backgroundColor=c.paper_bgcolor,g._entryDepth=v.data.depth,g._atRootLevel=S;var X=-P/2+L.l+L.w*(C.x[1]+C.x[0])/2,ee=-R/2+L.t+L.h*(1-(C.y[1]+C.y[0])/2),ne=function(ye){return X+ye},re=function(ye){return ee+ye},ae=re(0),ue=ne(0),pe=function(ye){return ue+ye},ge=function(ye){return ae+ye};function we(ye,Oe){return ye+","+Oe}var me=pe(0),ve=function(ye){ye.x=Math.max(me,ye.x)},Ie=g.pathbar.edgeshape,Se=g[h?"tiling":"marker"].pad,ke=function(ye){return g.textposition.indexOf(ye)!==-1},se=ke("top"),oe=ke("left"),he=ke("right"),Le=ke("bottom"),Me=function(ye,Oe){var Be=ye.x0,Fe=ye.x1,Ge=ye.y0,Ze=ye.y1,et=ye.textBB,ft=se||Oe.isHeader&&!Le?"start":Le?"end":"middle",rt=ke("right"),_t=ke("left")||Oe.onPathbar?-1:rt?1:0;if(Oe.isHeader){if((Be+=(h?Se:Se.l)-y)>=(Fe-=(h?Se:Se.r)-y)){var kt=(Be+Fe)/2;Be=kt,Fe=kt}var wt;Le?Ge<(wt=Ze-(h?Se:Se.b))&&wt<Ze&&(Ge=wt):Ge<(wt=Ge+(h?Se:Se.t))&&wt<Ze&&(Ze=wt)}var lt=d(Be,Fe,Ge,Ze,et,{isHorizontal:!1,constrained:!0,angle:0,anchor:ft,leftToRight:_t});return lt.fontSize=Oe.fontSize,lt.targetX=ne(lt.targetX),lt.targetY=re(lt.targetY),isNaN(lt.targetX)||isNaN(lt.targetY)?{}:(Be!==Fe&&Ge!==Ze&&s(g.type,lt,c),{scale:lt.scale,rotate:lt.rotate,textX:lt.textX,textY:lt.textY,anchorX:lt.anchorX,anchorY:lt.anchorY,targetX:lt.targetX,targetY:lt.targetY})},_e=function(ye,Oe){for(var Be,Fe=0,Ge=ye;!Be&&Fe<E;)Fe++,(Ge=Ge.parent)?Be=Z(Ge,Oe):Fe=E;return Be||{}},De=function(ye,Oe,Be,Fe,Ge){var Ze,et=Z(ye,Oe);if(et)Ze=et;else if(Oe)Ze=B;else if(q)if(ye.parent){var ft=K||Be;ft&&!Oe?Ze=V(ye,ft,Fe):(Ze={},_.extendFlat(Ze,_e(ye,Oe)))}else Ze=_.extendFlat({},ye),h&&(Ge.orientation==="h"?Ge.flipX?Ze.x0=ye.x1:Ze.x1=0:Ge.flipY?Ze.y0=ye.y1:Ze.y1=0);else Ze={};return k(Ze,{x0:ye.x0,x1:ye.x1,y0:ye.y0,y1:ye.y1})},Ne=function(ye,Oe,Be,Fe){var Ge=Z(ye,Oe),Ze={},et=function(rt,_t,kt,wt){if(_t)return te[r(x)]||B;var lt=$[g.level]||kt;return function(ut){return ut.data.depth-v.data.depth<E}(rt)?V(rt,lt,wt):{}}(ye,Oe,Be,Fe);_.extendFlat(Ze,{transform:Me({x0:et.x0,x1:et.x1,y0:et.y0,y1:et.y1,textBB:ye.textBB,_text:ye._text},{isHeader:a.isHeader(ye,g)})}),Ge?Ze=Ge:ye.parent&&_.extendFlat(Ze,_e(ye,Oe));var ft=ye.transform;return ye.x0!==ye.x1&&ye.y0!==ye.y1&&s(g.type,ft,c),k(Ze,{transform:{scale:ft.scale,rotate:ft.rotate,textX:ft.textX,textY:ft.textY,anchorX:ft.anchorX,anchorY:ft.anchorY,targetX:ft.targetX,targetY:ft.targetY}})},ce=function(ye,Oe,Be,Fe,Ge){var Ze=Fe[0],et=Fe[1];T?ye.exit().transition().each(function(){var ft=M.select(this);ft.select("path.surface").transition().attrTween("d",function(rt){var _t=function(kt,wt,lt,ut){var Et,Ot=Z(kt,wt);if(wt)Et=B;else{var zt=Z(v,wt);Et=zt?V(kt,zt,ut):{}}return k(Ot,Et)}(rt,Oe,0,[Ze,et]);return function(kt){return Ge(_t(kt))}}),ft.select("g.slicetext").attr("opacity",0)}).remove():ye.exit().remove()},Te=function(ye){var Oe=ye.transform;return ye.x0!==ye.x1&&ye.y0!==ye.y1&&s(g.type,Oe,c),_.getTextTransform({textX:Oe.textX,textY:Oe.textY,anchorX:Oe.anchorX,anchorY:Oe.anchorY,targetX:Oe.targetX,targetY:Oe.targetY,scale:Oe.scale,rotate:Oe.rotate})};T&&(w.each(function(ye){te[r(ye)]={x0:ye.x0,x1:ye.x1,y0:ye.y0,y1:ye.y1},ye.transform&&(te[r(ye)].transform={textX:ye.transform.textX,textY:ye.transform.textY,anchorX:ye.transform.anchorX,anchorY:ye.transform.anchorY,targetX:ye.transform.targetX,targetY:ye.transform.targetY,scale:ye.transform.scale,rotate:ye.transform.rotate})}),f.each(function(ye){$[r(ye)]={x0:ye.x0,x1:ye.x1,y0:ye.y0,y1:ye.y1},ye.transform&&($[r(ye)].transform={textX:ye.transform.textX,textY:ye.transform.textY,anchorX:ye.transform.anchorX,anchorY:ye.transform.anchorY,targetX:ye.transform.targetX,targetY:ye.transform.targetY,scale:ye.transform.scale,rotate:ye.transform.rotate}),!q&&a.isEntry(ye)&&(q=ye)})),K=p(n,l,v,f,{width:P,height:R,viewX:ne,viewY:re,pathSlice:function(ye){var Oe=ne(ye.x0),Be=ne(ye.x1),Fe=re(ye.y0),Ge=re(ye.y1),Ze=Be-Oe,et=Ge-Fe;if(!Ze||!et)return"";var ft=g.marker.cornerradius||0,rt=Math.min(ft,Ze/2,et/2);rt&&ye.data&&ye.data.data&&ye.data.data.label&&(se&&(rt=Math.min(rt,Se.t)),oe&&(rt=Math.min(rt,Se.l)),he&&(rt=Math.min(rt,Se.r)),Le&&(rt=Math.min(rt,Se.b)));var _t=function(kt,wt){return rt?"a"+we(rt,rt)+" 0 0 1 "+we(kt,wt):""};return"M"+we(Oe,Fe+rt)+_t(rt,-rt)+"L"+we(Be-rt,Fe)+_t(rt,rt)+"L"+we(Be,Ge-rt)+_t(-rt,rt)+"L"+we(Oe+rt,Ge)+_t(-rt,-rt)+"Z"},toMoveInsideSlice:Me,prevEntry:q,makeUpdateSliceInterpolator:De,makeUpdateTextInterpolator:Ne,handleSlicesExit:ce,hasTransition:T,strTransform:Te}),g.pathbar.visible?i(n,l,v,w,{barDifY:N,width:G,height:I,viewX:pe,viewY:ge,pathSlice:function(ye){var Oe=pe(Math.max(Math.min(ye.x0,ye.x0),0)),Be=pe(Math.min(Math.max(ye.x1,ye.x1),G)),Fe=ge(ye.y0),Ge=ge(ye.y1),Ze=I/2,et={},ft={};et.x=Oe,ft.x=Be,et.y=ft.y=(Fe+Ge)/2;var rt={x:Oe,y:Fe},_t={x:Be,y:Fe},kt={x:Be,y:Ge},wt={x:Oe,y:Ge};return Ie===">"?(rt.x-=Ze,_t.x-=Ze,kt.x-=Ze,wt.x-=Ze):Ie==="/"?(kt.x-=Ze,wt.x-=Ze,et.x-=Ze/2,ft.x-=Ze/2):Ie==="\\"?(rt.x-=Ze,_t.x-=Ze,et.x-=Ze/2,ft.x-=Ze/2):Ie==="<"&&(et.x-=Ze,ft.x-=Ze),ve(rt),ve(wt),ve(et),ve(_t),ve(kt),ve(ft),"M"+we(rt.x,rt.y)+"L"+we(_t.x,_t.y)+"L"+we(ft.x,ft.y)+"L"+we(kt.x,kt.y)+"L"+we(wt.x,wt.y)+"L"+we(et.x,et.y)+"Z"},toMoveInsideSlice:Me,makeUpdateSliceInterpolator:De,makeUpdateTextInterpolator:Ne,handleSlicesExit:ce,hasTransition:T,strTransform:Te}):w.remove()}},96362:function(Y,O,e){var M=e(39898),k=e(7901),a=e(71828),_=e(2791),y=e(72597).resizeText,d=e(43467);function s(t,i,r,n,l){var o,u,p=(l||{}).hovered,c=i.data.data,b=c.i,g=c.color,h=_.isHierarchyRoot(i),x=1;if(p)o=r._hovered.marker.line.color,u=r._hovered.marker.line.width;else if(h&&g===r.root.color)x=100,o="rgba(0,0,0,0)",u=0;else if(o=a.castOption(r,b,"marker.line.color")||k.defaultLine,u=a.castOption(r,b,"marker.line.width")||0,!r._hasColorscale&&!i.onPathbar){var v=r.marker.depthfade;if(v){var m,w=k.combine(k.addOpacity(r._backgroundColor,.75),g);if(v===!0){var f=_.getMaxDepth(r);m=isFinite(f)?_.isLeaf(i)?0:r._maxVisibleLayers-(i.data.depth-r._entryDepth):i.data.height+1}else m=i.data.depth-r._entryDepth,r._atRootLevel||m++;if(m>0)for(var S=0;S<m;S++){var T=.5*S/m;g=k.combine(k.addOpacity(w,T),g)}}}t.call(d,i,r,n,g).style("stroke-width",u).call(k.stroke,o).style("opacity",x)}Y.exports={style:function(t){var i=t._fullLayout._treemaplayer.selectAll(".trace");y(t,i,"treemap"),i.each(function(r){var n=M.select(this),l=r[0].trace;n.style("opacity",l.opacity),n.selectAll("path.surface").each(function(o){M.select(this).call(s,o,l,t,{hovered:!1})})})},styleOne:s}},68875:function(Y,O,e){var M=e(53522),k=e(1426).extendFlat,a=e(12663).axisHoverFormat;Y.exports={y:M.y,x:M.x,x0:M.x0,y0:M.y0,xhoverformat:a("x"),yhoverformat:a("y"),name:k({},M.name,{}),orientation:k({},M.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:M.fillcolor,points:k({},M.boxpoints,{}),jitter:k({},M.jitter,{}),pointpos:k({},M.pointpos,{}),width:k({},M.width,{}),marker:M.marker,text:M.text,hovertext:M.hovertext,hovertemplate:M.hovertemplate,quartilemethod:M.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup,selected:M.selected,unselected:M.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(Y,O,e){var M=e(71828),k=e(89298),a=e(48518),_=e(60168),y=e(50606).BADNUM;function d(t,i,r){var n=i.max-i.min;if(!n)return t.bandwidth?t.bandwidth:0;if(t.bandwidth)return Math.max(t.bandwidth,n/1e4);var l=r.length,o=M.stdev(r,l-1,i.mean);return Math.max(function(u,p,c){return 1.059*Math.min(p,c/1.349)*Math.pow(u,-.2)}(l,o,i.q3-i.q1),n/100)}function s(t,i,r,n){var l,o=t.spanmode,u=t.span||[],p=[i.min,i.max],c=[i.min-2*n,i.max+2*n];function b(h){var x=u[h],v=r.type==="multicategory"?r.r2c(x):r.d2c(x,0,t[i.valLetter+"calendar"]);return v===y?c[h]:v}var g={type:"linear",range:l=o==="soft"?c:o==="hard"?p:[b(0),b(1)]};return k.setConvert(g),g.cleanRange(),l}Y.exports=function(t,i){var r=a(t,i);if(r[0].t.empty)return r;for(var n=t._fullLayout,l=k.getFromId(t,i[i.orientation==="h"?"xaxis":"yaxis"]),o=1/0,u=-1/0,p=0,c=0,b=0;b<r.length;b++){var g=r[b],h=g.pts.map(_.extractVal),x=g.bandwidth=d(i,g,h),v=g.span=s(i,g,l,x);if(g.min===g.max&&x===0)v=g.span=[g.min,g.max],g.density=[{v:1,t:v[0]}],g.bandwidth=x,p=Math.max(p,1);else{var m=v[1]-v[0],w=Math.ceil(m/(x/3)),f=m/w;if(!isFinite(f)||!isFinite(w))return M.error("Something went wrong with computing the violin span"),r[0].t.empty=!0,r;var S=_.makeKDE(g,i,h);g.density=new Array(w);for(var T=0,E=v[0];E<v[1]+f/2;T++,E+=f){var L=S(E);g.density[T]={v:L,t:E},p=Math.max(p,L)}}c=Math.max(c,h.length),o=Math.min(o,v[0]),u=Math.max(u,v[1])}var C=k.findExtremes(l,[o,u],{padded:!0});if(i._extremes[l._id]=C,i.width)r[0].t.maxKDE=p;else{var P=n._violinScaleGroupStats,R=i.scalegroup,G=P[R];G?(G.maxKDE=Math.max(G.maxKDE,p),G.maxCount=Math.max(G.maxCount,c)):P[R]={maxKDE:p,maxCount:c}}return r[0].t.labels.kde=M._(t,"kde:"),r}},86403:function(Y,O,e){var M=e(37188).setPositionOffset,k=["v","h"];Y.exports=function(a,_){for(var y=a.calcdata,d=_.xaxis,s=_.yaxis,t=0;t<k.length;t++){for(var i=k[t],r=i==="h"?s:d,n=[],l=0;l<y.length;l++){var o=y[l],u=o[0].t,p=o[0].trace;p.visible!==!0||p.type!=="violin"||u.empty||p.orientation!==i||p.xaxis!==d._id||p.yaxis!==s._id||n.push(l)}M("violin",a,n,r)}}},15899:function(Y,O,e){var M=e(71828),k=e(7901),a=e(36411),_=e(68875);Y.exports=function(y,d,s,t){function i(m,w){return M.coerce(y,d,_,m,w)}function r(m,w){return M.coerce2(y,d,_,m,w)}if(a.handleSampleDefaults(y,d,i,t),d.visible!==!1){i("bandwidth"),i("side"),i("width")||(i("scalegroup",d.name),i("scalemode"));var n,l=i("span");Array.isArray(l)&&(n="manual"),i("spanmode",n);var o=i("line.color",(y.marker||{}).color||s),u=i("line.width"),p=i("fillcolor",k.addOpacity(d.line.color,.5));a.handlePointsDefaults(y,d,i,{prefix:""});var c=r("box.width"),b=r("box.fillcolor",p),g=r("box.line.color",o),h=r("box.line.width",u);i("box.visible",!!(c||b||g||h))||(d.box={visible:!1});var x=r("meanline.color",o),v=r("meanline.width",u);i("meanline.visible",!!(x||v))||(d.meanline={visible:!1}),i("quartilemethod")}}},60168:function(Y,O,e){var M=e(71828),k=function(a){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*a*a)};O.makeKDE=function(a,_,y){var d=y.length,s=k,t=a.bandwidth,i=1/(d*t);return function(r){for(var n=0,l=0;l<d;l++)n+=s((r-y[l])/t);return i*n}},O.getPositionOnKdePath=function(a,_,y){var d,s;_.orientation==="h"?(d="y",s="x"):(d="x",s="y");var t=M.findPointOnPath(a.path,y,s,{pathLength:a.pathLength}),i=a.posCenterPx,r=t[d];return[r,_.side==="both"?2*i-r:i]},O.getKdeValue=function(a,_,y){var d=a.pts.map(O.extractVal);return O.makeKDE(a,_,d)(y)/a.posDensityScale},O.extractVal=function(a){return a.v}},57634:function(Y,O,e){var M=e(7901),k=e(71828),a=e(89298),_=e(41868),y=e(60168);Y.exports=function(d,s,t,i,r){r||(r={});var n,l,o=r.hoverLayer,u=d.cd,p=u[0].trace,c=p.hoveron,b=c.indexOf("violins")!==-1,g=c.indexOf("kde")!==-1,h=[];if(b||g){var x=_.hoverOnBoxes(d,s,t,i);if(g&&x.length>0){var v,m,w,f,S,T=d.xa,E=d.ya;p.orientation==="h"?(S=s,v="y",w=E,m="x",f=T):(S=t,v="x",w=T,m="y",f=E);var L=u[d.index];if(S>=L.span[0]&&S<=L.span[1]){var C=k.extendFlat({},d),P=f.c2p(S,!0),R=y.getKdeValue(L,p,S),G=y.getPositionOnKdePath(L,p,P),I=w._offset,H=w._length;C[v+"0"]=G[0],C[v+"1"]=G[1],C[m+"0"]=C[m+"1"]=P,C[m+"Label"]=m+": "+a.hoverLabelText(f,S,p[m+"hoverformat"])+", "+u[0].t.labels.kde+" "+R.toFixed(3);for(var N=0,B=0;B<x.length;B++)if(x[B].attr==="med"){N=B;break}C.spikeDistance=x[N].spikeDistance;var V=v+"Spike";C[V]=x[N][V],x[N].spikeDistance=void 0,x[N][V]=void 0,C.hovertemplate=!1,h.push(C),(l={})[v+"1"]=k.constrain(I+G[0],I,I+H),l[v+"2"]=k.constrain(I+G[1],I,I+H),l[m+"1"]=l[m+"2"]=f._offset+P}}b&&(h=h.concat(x))}c.indexOf("points")!==-1&&(n=_.hoverOnPoints(d,s,t));var q=o.selectAll(".violinline-"+p.uid).data(l?[0]:[]);return q.enter().append("line").classed("violinline-"+p.uid,!0).attr("stroke-width",1.5),q.exit().remove(),q.attr(l).call(M.stroke,d.color),i==="closest"?n?[n]:h:(n&&h.push(n),h)}},47462:function(Y,O,e){Y.exports={attributes:e(68875),layoutAttributes:e(9228),supplyDefaults:e(15899),crossTraceDefaults:e(36411).crossTraceDefaults,supplyLayoutDefaults:e(33598),calc:e(38603),crossTraceCalc:e(86403),plot:e(28443),style:e(31847),styleOnSelect:e(16296).styleOnSelect,hoverPoints:e(57634),selectPoints:e(24626),moduleType:"trace",name:"violin",basePlotModule:e(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(Y,O,e){var M=e(40094),k=e(71828).extendFlat;Y.exports={violinmode:k({},M.boxmode,{}),violingap:k({},M.boxgap,{}),violingroupgap:k({},M.boxgroupgap,{})}},33598:function(Y,O,e){var M=e(71828),k=e(9228),a=e(4199);Y.exports=function(_,y,d){a._supply(_,y,d,function(s,t){return M.coerce(_,y,k,s,t)},"violin")}},28443:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(86047),y=e(34621),d=e(60168);Y.exports=function(s,t,i,r){var n=s._context.staticPlot,l=s._fullLayout,o=t.xaxis,u=t.yaxis;function p(c,b){var g=y(c,{xaxis:o,yaxis:u,trace:b,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return a.smoothopen(g[0],1)}k.makeTraceGroups(r,i,"trace violins").each(function(c){var b=M.select(this),g=c[0],h=g.t,x=g.trace;if(x.visible!==!0||h.empty)b.remove();else{var v=h.bPos,m=h.bdPos,w=t[h.valLetter+"axis"],f=t[h.posLetter+"axis"],S=x.side==="both",T=S||x.side==="positive",E=S||x.side==="negative",L=b.selectAll("path.violin").data(k.identity);L.enter().append("path").style("vector-effect",n?"none":"non-scaling-stroke").attr("class","violin"),L.exit().remove(),L.each(function(B){var V,q,te,$,K,Z,X,ee,ne=M.select(this),re=B.density,ae=re.length,ue=f.c2l(B.pos+v,!0),pe=f.l2p(ue);if(x.width)V=h.maxKDE/m;else{var ge=l._violinScaleGroupStats[x.scalegroup];V=x.scalemode==="count"?ge.maxKDE/m*(ge.maxCount/B.pts.length):ge.maxKDE/m}if(T){for(X=new Array(ae),K=0;K<ae;K++)(ee=X[K]={})[h.posLetter]=ue+re[K].v/V,ee[h.valLetter]=w.c2l(re[K].t,!0);q=p(X,x)}if(E){for(X=new Array(ae),Z=0,K=ae-1;Z<ae;Z++,K--)(ee=X[Z]={})[h.posLetter]=ue-re[K].v/V,ee[h.valLetter]=w.c2l(re[K].t,!0);te=p(X,x)}if(S)$=q+"L"+te.substr(1)+"Z";else{var we=[pe,w.c2p(re[0].t)],me=[pe,w.c2p(re[ae-1].t)];x.orientation==="h"&&(we.reverse(),me.reverse()),$=T?"M"+we+"L"+q.substr(1)+"L"+me:"M"+me+"L"+te.substr(1)+"L"+we}ne.attr("d",$),B.posCenterPx=pe,B.posDensityScale=V*m,B.path=ne.node(),B.pathLength=B.path.getTotalLength()/(S?2:1)});var C,P,R,G=x.box,I=G.width,H=(G.line||{}).width;S?(C=m*I,P=0):T?(C=[0,m*I/2],P=H*{x:1,y:-1}[h.posLetter]):(C=[m*I/2,0],P=H*{x:-1,y:1}[h.posLetter]),_.plotBoxAndWhiskers(b,{pos:f,val:w},x,{bPos:v,bdPos:C,bPosPxOffset:P}),_.plotBoxMean(b,{pos:f,val:w},x,{bPos:v,bdPos:C,bPosPxOffset:P}),!x.box.visible&&x.meanline.visible&&(R=k.identity);var N=b.selectAll("path.meanline").data(R||[]);N.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",n?"none":"non-scaling-stroke"),N.exit().remove(),N.each(function(B){var V=w.c2p(B.mean,!0),q=d.getPositionOnKdePath(B,x,V);M.select(this).attr("d",x.orientation==="h"?"M"+V+","+q[0]+"V"+q[1]:"M"+q[0]+","+V+"H"+q[1])}),_.plotPoints(b,{x:o,y:u},x,h)}})}},31847:function(Y,O,e){var M=e(39898),k=e(7901),a=e(16296).stylePoints;Y.exports=function(_){var y=M.select(_).selectAll("g.trace.violins");y.style("opacity",function(d){return d[0].trace.opacity}),y.each(function(d){var s=d[0].trace,t=M.select(this),i=s.box||{},r=i.line||{},n=s.meanline||{},l=n.width;t.selectAll("path.violin").style("stroke-width",s.line.width+"px").call(k.stroke,s.line.color).call(k.fill,s.fillcolor),t.selectAll("path.box").style("stroke-width",r.width+"px").call(k.stroke,r.color).call(k.fill,i.fillcolor);var o={"stroke-width":l+"px","stroke-dasharray":2*l+"px,"+l+"px"};t.selectAll("path.mean").style(o).call(k.stroke,n.color),t.selectAll("path.meanline").style(o).call(k.stroke,n.color),a(t,s,_)})}},16336:function(Y,O,e){var M=e(50693),k=e(16249),a=e(54532),_=e(9012),y=e(1426).extendFlat,d=e(30962).overrideAll,s=Y.exports=d(y({x:k.x,y:k.y,z:k.z,value:k.value,isomin:k.isomin,isomax:k.isomax,surface:k.surface,spaceframe:{show:{valType:"boolean",dflt:!1},fill:{valType:"number",min:0,max:1,dflt:1}},slices:k.slices,caps:k.caps,text:k.text,hovertext:k.hovertext,xhoverformat:k.xhoverformat,yhoverformat:k.yhoverformat,zhoverformat:k.zhoverformat,valuehoverformat:k.valuehoverformat,hovertemplate:k.hovertemplate},M("",{colorAttr:"`value`",showScaleDflt:!0,editTypeOverride:"calc"}),{colorbar:k.colorbar,opacity:k.opacity,opacityscale:a.opacityscale,lightposition:k.lightposition,lighting:k.lighting,flatshading:k.flatshading,contour:k.contour,hoverinfo:y({},_.hoverinfo),showlegend:y({},_.showlegend,{dflt:!1})}),"calc","nested");s.x.editType=s.y.editType=s.z.editType=s.value.editType="calc+clearAxisTypes",s.transforms=void 0},64809:function(Y,O,e){var M=e(9330).gl_mesh3d,k=e(81697).parseColorScale,a=e(78614),_=e(21081).extractOpts,y=e(90060),d=e(22674).findNearestOnAxis,s=e(22674).generateIsoMeshes;function t(r,n,l){this.scene=r,this.uid=l,this.mesh=n,this.name="",this.data=null,this.showContour=!1}var i=t.prototype;i.handlePick=function(r){if(r.object===this.mesh){var n=r.data.index,l=this.data._meshX[n],o=this.data._meshY[n],u=this.data._meshZ[n],p=this.data._Ys.length,c=this.data._Zs.length,b=d(l,this.data._Xs).id,g=d(o,this.data._Ys).id,h=d(u,this.data._Zs).id,x=r.index=h+c*g+c*p*b;r.traceCoordinate=[this.data._meshX[x],this.data._meshY[x],this.data._meshZ[x],this.data._value[x]];var v=this.data.hovertext||this.data.text;return Array.isArray(v)&&v[x]!==void 0?r.textLabel=v[x]:v&&(r.textLabel=v),!0}},i.update=function(r){var n=this.scene,l=n.fullSceneLayout;function o(c,b,g,h){return b.map(function(x){return c.d2l(x,0,h)*g})}this.data=s(r);var u={positions:y(o(l.xaxis,r._meshX,n.dataScale[0],r.xcalendar),o(l.yaxis,r._meshY,n.dataScale[1],r.ycalendar),o(l.zaxis,r._meshZ,n.dataScale[2],r.zcalendar)),cells:y(r._meshI,r._meshJ,r._meshK),lightPosition:[r.lightposition.x,r.lightposition.y,r.lightposition.z],ambient:r.lighting.ambient,diffuse:r.lighting.diffuse,specular:r.lighting.specular,roughness:r.lighting.roughness,fresnel:r.lighting.fresnel,vertexNormalsEpsilon:r.lighting.vertexnormalsepsilon,faceNormalsEpsilon:r.lighting.facenormalsepsilon,opacity:r.opacity,opacityscale:r.opacityscale,contourEnable:r.contour.show,contourColor:a(r.contour.color).slice(0,3),contourWidth:r.contour.width,useFacetNormals:r.flatshading},p=_(r);u.vertexIntensity=r._meshIntensity,u.vertexIntensityBounds=[p.min,p.max],u.colormap=k(r),this.mesh.update(u)},i.dispose=function(){this.scene.glplot.remove(this.mesh),this.mesh.dispose()},Y.exports=function(r,n){var l=r.glplot.gl,o=M({gl:l}),u=new t(r,o,n.uid);return o._trace=u,u.update(n),r.glplot.add(o),u}},47651:function(Y,O,e){var M=e(71828),k=e(16336),a=e(82738).supplyIsoDefaults,_=e(91831).opacityscaleDefaults;Y.exports=function(y,d,s,t){function i(r,n){return M.coerce(y,d,k,r,n)}a(y,d,s,t,i),_(y,d,t,i)}},17659:function(Y,O,e){Y.exports={attributes:e(16336),supplyDefaults:e(47651),calc:e(56959),colorbar:{min:"cmin",max:"cmax"},plot:e(64809),moduleType:"trace",name:"volume",basePlotModule:e(58547),categories:["gl3d","showLegend"],meta:{}}},43037:function(Y,O,e){var M=e(1486),k=e(82196).line,a=e(9012),_=e(12663).axisHoverFormat,y=e(5386).fF,d=e(5386).si,s=e(48334),t=e(1426).extendFlat,i=e(7901);function r(n){return{marker:{color:t({},M.marker.color,{arrayOk:!1,editType:"style"}),line:{color:t({},M.marker.line.color,{arrayOk:!1,editType:"style"}),width:t({},M.marker.line.width,{arrayOk:!1,editType:"style"}),editType:"style"},editType:"style"},editType:"style"}}Y.exports={measure:{valType:"data_array",dflt:[],editType:"calc"},base:{valType:"number",dflt:null,arrayOk:!1,editType:"calc"},x:M.x,x0:M.x0,dx:M.dx,y:M.y,y0:M.y0,dy:M.dy,xperiod:M.xperiod,yperiod:M.yperiod,xperiod0:M.xperiod0,yperiod0:M.yperiod0,xperiodalignment:M.xperiodalignment,yperiodalignment:M.yperiodalignment,xhoverformat:_("x"),yhoverformat:_("y"),hovertext:M.hovertext,hovertemplate:y({},{keys:s.eventDataKeys}),hoverinfo:t({},a.hoverinfo,{flags:["name","x","y","text","initial","delta","final"]}),textinfo:{valType:"flaglist",flags:["label","text","initial","delta","final"],extras:["none"],editType:"plot",arrayOk:!1},texttemplate:d({editType:"plot"},{keys:s.eventDataKeys.concat(["label"])}),text:M.text,textposition:M.textposition,insidetextanchor:M.insidetextanchor,textangle:M.textangle,textfont:M.textfont,insidetextfont:M.insidetextfont,outsidetextfont:M.outsidetextfont,constraintext:M.constraintext,cliponaxis:M.cliponaxis,orientation:M.orientation,offset:M.offset,width:M.width,increasing:r(),decreasing:r(),totals:r(),connector:{line:{color:t({},k.color,{dflt:i.defaultLine}),width:t({},k.width,{editType:"plot"}),dash:k.dash,editType:"plot"},mode:{valType:"enumerated",values:["spanning","between"],dflt:"between",editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},offsetgroup:M.offsetgroup,alignmentgroup:M.alignmentgroup}},52752:function(Y,O,e){var M=e(89298),k=e(42973),a=e(71828).mergeArray,_=e(66279),y=e(50606).BADNUM;function d(t){return t==="a"||t==="absolute"}function s(t){return t==="t"||t==="total"}Y.exports=function(t,i){var r,n,l,o,u,p,c=M.getFromId(t,i.xaxis||"x"),b=M.getFromId(t,i.yaxis||"y");i.orientation==="h"?(r=c.makeCalcdata(i,"x"),l=b.makeCalcdata(i,"y"),o=k(i,b,"y",l),u=!!i.yperiodalignment,p="y"):(r=b.makeCalcdata(i,"y"),l=c.makeCalcdata(i,"x"),o=k(i,c,"x",l),u=!!i.xperiodalignment,p="x"),n=o.vals;for(var g,h=Math.min(n.length,r.length),x=new Array(h),v=0,m=!1,w=0;w<h;w++){var f=r[w]||0,S=!1;(r[w]!==y||s(i.measure[w])||d(i.measure[w]))&&w+1<h&&(r[w+1]!==y||s(i.measure[w+1])||d(i.measure[w+1]))&&(S=!0);var T=x[w]={i:w,p:n[w],s:f,rawS:f,cNext:S};d(i.measure[w])?(v=T.s,T.isSum=!0,T.dir="totals",T.s=v):s(i.measure[w])?(T.isSum=!0,T.dir="totals",T.s=v):(T.isSum=!1,T.dir=T.rawS<0?"decreasing":"increasing",g=T.s,T.s=v+g,v+=g),T.dir==="totals"&&(m=!0),u&&(x[w].orig_p=l[w],x[w][p+"End"]=o.ends[w],x[w][p+"Start"]=o.starts[w]),i.ids&&(T.id=String(i.ids[w])),T.v=(i.base||0)+v}return x.length&&(x[0].hasTotals=m),a(i.text,x,"tx"),a(i.hovertext,x,"htx"),_(x,i),x}},48334:function(Y){Y.exports={eventDataKeys:["initial","delta","final"]}},70766:function(Y,O,e){var M=e(11661).setGroupPositions;Y.exports=function(k,a){var _,y,d=k._fullLayout,s=k._fullData,t=k.calcdata,i=a.xaxis,r=a.yaxis,n=[],l=[],o=[];for(y=0;y<s.length;y++){var u=s[y];u.visible===!0&&u.xaxis===i._id&&u.yaxis===r._id&&u.type==="waterfall"&&(_=t[y],u.orientation==="h"?o.push(_):l.push(_),n.push(_))}var p={mode:d.waterfallmode,norm:d.waterfallnorm,gap:d.waterfallgap,groupgap:d.waterfallgroupgap};for(M(k,i,r,l,p),M(k,r,i,o,p),y=0;y<n.length;y++){_=n[y];for(var c=0;c<_.length;c++){var b=_[c];b.isSum===!1&&(b.s0+=c===0?0:_[c-1].s),c+1<_.length&&(_[c].nextP0=_[c+1].p0,_[c].nextS0=_[c+1].s0)}}}},83266:function(Y,O,e){var M=e(71828),k=e(26125),a=e(90769).handleText,_=e(67513),y=e(73927),d=e(43037),s=e(7901),t=e(22372),i=t.INCREASING.COLOR,r=t.DECREASING.COLOR;function n(l,o,u){l(o+".marker.color",u),l(o+".marker.line.color",s.defaultLine),l(o+".marker.line.width")}Y.exports={supplyDefaults:function(l,o,u,p){function c(g,h){return M.coerce(l,o,d,g,h)}if(_(l,o,p,c)){y(l,o,p,c),c("xhoverformat"),c("yhoverformat"),c("measure"),c("orientation",o.x&&!o.y?"h":"v"),c("base"),c("offset"),c("width"),c("text"),c("hovertext"),c("hovertemplate");var b=c("textposition");a(l,o,p,c,b,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),o.textposition!=="none"&&(c("texttemplate"),o.texttemplate||c("textinfo")),n(c,"increasing",i),n(c,"decreasing",r),n(c,"totals","#4499FF"),c("connector.visible")&&(c("connector.mode"),c("connector.line.width")&&(c("connector.line.color"),c("connector.line.dash")))}else o.visible=!1},crossTraceDefaults:function(l,o){var u,p;function c(g){return M.coerce(p._input,p,d,g)}if(o.waterfallmode==="group")for(var b=0;b<l.length;b++)u=(p=l[b])._input,k(u,p,o,c)}}},58593:function(Y){Y.exports=function(O,e){return O.x="xVal"in e?e.xVal:e.x,O.y="yVal"in e?e.yVal:e.y,"initial"in e&&(O.initial=e.initial),"delta"in e&&(O.delta=e.delta),"final"in e&&(O.final=e.final),e.xa&&(O.xaxis=e.xa),e.ya&&(O.yaxis=e.ya),O}},61326:function(Y,O,e){var M=e(89298).hoverLabelText,k=e(7901).opacity,a=e(95423).hoverOnBars,_=e(22372),y=_.INCREASING.SYMBOL,d=_.DECREASING.SYMBOL;Y.exports=function(s,t,i,r,n){var l=a(s,t,i,r,n);if(l){var o=l.cd,u=o[0].trace,p=u.orientation==="h",c=p?"x":"y",b=p?s.xa:s.ya,g=o[l.index],h=g.isSum?g.b+g.s:g.rawS;l.initial=g.b+g.s-h,l.delta=h,l.final=l.initial+l.delta;var x=T(Math.abs(l.delta));l.deltaLabel=h<0?"("+x+")":x,l.finalLabel=T(l.final),l.initialLabel=T(l.initial);var v=g.hi||u.hoverinfo,m=[];if(v&&v!=="none"&&v!=="skip"){var w=v==="all",f=v.split("+"),S=function(E){return w||f.indexOf(E)!==-1};g.isSum||(!S("final")||S(p?"x":"y")||m.push(l.finalLabel),S("delta")&&(h<0?m.push(l.deltaLabel+" "+d):m.push(l.deltaLabel+" "+y)),S("initial")&&m.push("Initial: "+l.initialLabel))}return m.length&&(l.extraText=m.join("<br>")),l.color=function(E,L){var C=E[L.dir].marker,P=C.color,R=C.line.color,G=C.line.width;return k(P)?P:k(R)&&G?R:void 0}(u,g),[l]}function T(E){return M(b,E,u[c+"hoverformat"])}}},19990:function(Y,O,e){Y.exports={attributes:e(43037),layoutAttributes:e(13494),supplyDefaults:e(83266).supplyDefaults,crossTraceDefaults:e(83266).crossTraceDefaults,supplyLayoutDefaults:e(5176),calc:e(52752),crossTraceCalc:e(70766),plot:e(30436),style:e(55750).style,hoverPoints:e(61326),eventData:e(58593),selectPoints:e(81974),moduleType:"trace",name:"waterfall",basePlotModule:e(93612),categories:["bar-like","cartesian","svg","oriented","showLegend","zoomScale"],meta:{}}},13494:function(Y){Y.exports={waterfallmode:{valType:"enumerated",values:["group","overlay"],dflt:"group",editType:"calc"},waterfallgap:{valType:"number",min:0,max:1,editType:"calc"},waterfallgroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},5176:function(Y,O,e){var M=e(71828),k=e(13494);Y.exports=function(a,_,y){var d=!1;function s(r,n){return M.coerce(a,_,k,r,n)}for(var t=0;t<y.length;t++){var i=y[t];if(i.visible&&i.type==="waterfall"){d=!0;break}}d&&(s("waterfallmode"),s("waterfallgap",.2),s("waterfallgroupgap"))}},30436:function(Y,O,e){var M=e(39898),k=e(71828),a=e(91424),_=e(50606).BADNUM,y=e(17295),d=e(72597).clearMinTextSize;Y.exports=function(s,t,i,r){var n=s._fullLayout;d("waterfall",n),y.plot(s,t,i,r,{mode:n.waterfallmode,norm:n.waterfallmode,gap:n.waterfallgap,groupgap:n.waterfallgroupgap}),function(l,o,u,p){var c=o.xaxis,b=o.yaxis;k.makeTraceGroups(p,u,"trace bars").each(function(g){var h=M.select(this),x=g[0].trace,v=k.ensureSingle(h,"g","lines");if(x.connector&&x.connector.visible){var m=x.orientation==="h",w=x.connector.mode,f=v.selectAll("g.line").data(k.identity);f.enter().append("g").classed("line",!0),f.exit().remove();var S=f.size();f.each(function(T,E){if(E===S-1||T.cNext){var L=function(G,I,H,N){var B=[],V=[],q=N?I:H,te=N?H:I;return B[0]=q.c2p(G.s0,!0),V[0]=te.c2p(G.p0,!0),B[1]=q.c2p(G.s1,!0),V[1]=te.c2p(G.p1,!0),B[2]=q.c2p(G.nextS0,!0),V[2]=te.c2p(G.nextP0,!0),N?[B,V]:[V,B]}(T,c,b,m),C=L[0],P=L[1],R="";C[0]!==_&&P[0]!==_&&C[1]!==_&&P[1]!==_&&(w==="spanning"&&!T.isSum&&E>0&&(R+=m?"M"+C[0]+","+P[1]+"V"+P[0]:"M"+C[1]+","+P[0]+"H"+C[0]),w!=="between"&&(T.isSum||E<S-1)&&(R+=m?"M"+C[1]+","+P[0]+"V"+P[1]:"M"+C[0]+","+P[1]+"H"+C[1]),C[2]!==_&&P[2]!==_&&(R+=m?"M"+C[1]+","+P[1]+"V"+P[2]:"M"+C[1]+","+P[1]+"H"+C[2])),R===""&&(R="M0,0Z"),k.ensureSingle(M.select(this),"path").attr("d",R).call(a.setClipUrl,o.layerClipId,l)}})}else v.remove()})}(s,t,i,r)}},55750:function(Y,O,e){var M=e(39898),k=e(91424),a=e(7901),_=e(37822).DESELECTDIM,y=e(16688),d=e(72597).resizeText,s=y.styleTextPoints;Y.exports={style:function(t,i,r){var n=r||M.select(t).selectAll("g.waterfalllayer").selectAll("g.trace");d(t,n,"waterfall"),n.style("opacity",function(l){return l[0].trace.opacity}),n.each(function(l){var o=M.select(this),u=l[0].trace;o.selectAll(".point > path").each(function(p){if(!p.isBlank){var c=u[p.dir].marker;M.select(this).call(a.fill,c.color).call(a.stroke,c.line.color).call(k.dashLine,c.line.dash,c.line.width).style("opacity",u.selectedpoints&&!p.selected?_:1)}}),s(o,u,t),o.selectAll(".lines").each(function(){var p=u.connector.line;k.lineGroupStyle(M.select(this).selectAll("path"),p.width,p.color,p.dash)})})}}},82887:function(Y,O,e){var M=e(89298),k=e(71828),a=e(86281),_=e(79344).p,y=e(50606).BADNUM;O.moduleType="transform",O.name="aggregate";var d=O.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},s=d.aggregations;function t(l,o,u,p){if(p.enabled){for(var c=p.target,b=k.nestedProperty(o,c),g=b.get(),h=function(m,w){var f=m.func,S=w.d2c,T=w.c2d;switch(f){case"count":return i;case"first":return r;case"last":return n;case"sum":return function(E,L){for(var C=0,P=0;P<L.length;P++){var R=S(E[L[P]]);R!==y&&(C+=R)}return T(C)};case"avg":return function(E,L){for(var C=0,P=0,R=0;R<L.length;R++){var G=S(E[L[R]]);G!==y&&(C+=G,P++)}return P?T(C/P):y};case"min":return function(E,L){for(var C=1/0,P=0;P<L.length;P++){var R=S(E[L[P]]);R!==y&&(C=Math.min(C,R))}return C===1/0?y:T(C)};case"max":return function(E,L){for(var C=-1/0,P=0;P<L.length;P++){var R=S(E[L[P]]);R!==y&&(C=Math.max(C,R))}return C===-1/0?y:T(C)};case"range":return function(E,L){for(var C=1/0,P=-1/0,R=0;R<L.length;R++){var G=S(E[L[R]]);G!==y&&(C=Math.min(C,G),P=Math.max(P,G))}return P===-1/0||C===1/0?y:T(P-C)};case"change":return function(E,L){var C=S(E[L[0]]),P=S(E[L[L.length-1]]);return C===y||P===y?y:T(P-C)};case"median":return function(E,L){for(var C=[],P=0;P<L.length;P++){var R=S(E[L[P]]);R!==y&&C.push(R)}if(!C.length)return y;C.sort(k.sorterAsc);var G=(C.length-1)/2;return T((C[Math.floor(G)]+C[Math.ceil(G)])/2)};case"mode":return function(E,L){for(var C={},P=0,R=y,G=0;G<L.length;G++){var I=S(E[L[G]]);if(I!==y){var H=C[I]=(C[I]||0)+1;H>P&&(P=H,R=I)}}return P?T(R):y};case"rms":return function(E,L){for(var C=0,P=0,R=0;R<L.length;R++){var G=S(E[L[R]]);G!==y&&(C+=G*G,P++)}return P?T(Math.sqrt(C/P)):y};case"stddev":return function(E,L){var C,P=0,R=0,G=1,I=y;for(C=0;C<L.length&&I===y;C++)I=S(E[L[C]]);if(I===y)return y;for(;C<L.length;C++){var H=S(E[L[C]]);if(H!==y){var N=H-I;P+=N,R+=N*N,G++}}var B=m.funcmode==="sample"?G-1:G;return B?Math.sqrt((R-P*P/G)/B):0}}}(p,M.getDataConversions(l,o,c,g)),x=new Array(u.length),v=0;v<u.length;v++)x[v]=h(g,u[v]);b.set(x),p.func==="count"&&k.pushUnique(o._arrayAttrs,c)}}function i(l,o){return o.length}function r(l,o){return l[o[0]]}function n(l,o){return l[o[o.length-1]]}O.supplyDefaults=function(l,o){var u,p={};function c(T,E){return k.coerce(l,p,d,T,E)}if(!c("enabled"))return p;var b=a.findArrayAttributes(o),g={};for(u=0;u<b.length;u++)g[b[u]]=1;var h=c("groups");if(!Array.isArray(h)){if(!g[h])return p.enabled=!1,p;g[h]=0}var x,v=l.aggregations||[],m=p.aggregations=new Array(v.length);function w(T,E){return k.coerce(v[u],x,s,T,E)}for(u=0;u<v.length;u++){x={_index:u};var f=w("target"),S=w("func");w("enabled")&&f&&(g[f]||S==="count"&&g[f]===void 0)?(S==="stddev"&&w("funcmode"),g[f]=0,m[u]=x):m[u]={enabled:!1,_index:u}}for(u=0;u<b.length;u++)g[b[u]]&&m.push({target:b[u],func:s.func.dflt,enabled:!0,_index:-1});return p},O.calcTransform=function(l,o,u){if(u.enabled){var p=u.groups,c=k.getTargetArray(o,{target:p});if(c){var b,g,h,x,v={},m={},w=[],f=_(o.transforms,u),S=c.length;for(o._length&&(S=Math.min(S,o._length)),b=0;b<S;b++)(h=v[g=c[b]])===void 0?(v[g]=w.length,x=[b],w.push(x),m[v[g]]=f(b)):(w[h].push(b),m[v[g]]=(m[v[g]]||[]).concat(f(b)));u._indexToPoints=m;var T=u.aggregations;for(b=0;b<T.length;b++)t(l,o,w,T[b]);typeof p=="string"&&t(l,o,w,{target:p,func:"first",enabled:!0}),o._length=w.length}}}},14382:function(Y,O,e){var M=e(71828),k=e(73972),a=e(89298),_=e(79344).p,y=e(74808),d=y.COMPARISON_OPS,s=y.INTERVAL_OPS,t=y.SET_OPS;O.moduleType="transform",O.name="filter",O.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(d).concat(s).concat(t),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},O.supplyDefaults=function(i){var r={};function n(u,p){return M.coerce(i,r,O.attributes,u,p)}if(n("enabled")){var l=n("target");if(M.isArrayOrTypedArray(l)&&l.length===0)return r.enabled=!1,r;n("preservegaps"),n("operation"),n("value");var o=k.getComponentMethod("calendars","handleDefaults");o(i,r,"valuecalendar",null),o(i,r,"targetcalendar",null)}return r},O.calcTransform=function(i,r,n){if(n.enabled){var l=M.getTargetArray(r,n);if(l){var o=n.target,u=l.length;r._length&&(u=Math.min(u,r._length));var p=n.targetcalendar,c=r._arrayAttrs,b=n.preservegaps;if(typeof o=="string"){var g=M.nestedProperty(r,o+"calendar").get();g&&(p=g)}var h,x,v=function(L,C,P){var R=L.operation,G=L.value,I=Array.isArray(G);function H(q){return q.indexOf(R)!==-1}var N,B=function(q){return C(q,0,L.valuecalendar)},V=function(q){return C(q,0,P)};switch(H(d)?N=B(I?G[0]:G):H(s)?N=I?[B(G[0]),B(G[1])]:[B(G),B(G)]:H(t)&&(N=I?G.map(B):[B(G)]),R){case"=":return function(q){return V(q)===N};case"!=":return function(q){return V(q)!==N};case"<":return function(q){return V(q)<N};case"<=":return function(q){return V(q)<=N};case">":return function(q){return V(q)>N};case">=":return function(q){return V(q)>=N};case"[]":return function(q){var te=V(q);return te>=N[0]&&te<=N[1]};case"()":return function(q){var te=V(q);return te>N[0]&&te<N[1]};case"[)":return function(q){var te=V(q);return te>=N[0]&&te<N[1]};case"(]":return function(q){var te=V(q);return te>N[0]&&te<=N[1]};case"][":return function(q){var te=V(q);return te<=N[0]||te>=N[1]};case")(":return function(q){var te=V(q);return te<N[0]||te>N[1]};case"](":return function(q){var te=V(q);return te<=N[0]||te>N[1]};case")[":return function(q){var te=V(q);return te<N[0]||te>=N[1]};case"{}":return function(q){return N.indexOf(V(q))!==-1};case"}{":return function(q){return N.indexOf(V(q))===-1}}}(n,a.getDataToCoordFunc(i,r,o,l),p),m={},w={},f=0;b?(h=function(L){m[L.astr]=M.extendDeep([],L.get()),L.set(new Array(u))},x=function(L,C){var P=m[L.astr][C];L.get()[C]=P}):(h=function(L){m[L.astr]=M.extendDeep([],L.get()),L.set([])},x=function(L,C){var P=m[L.astr][C];L.get().push(P)}),E(h);for(var S=_(r.transforms,n),T=0;T<u;T++)v(l[T])?(E(x,T),w[f++]=S(T)):b&&f++;n._indexToPoints=w,r._length=f}}function E(L,C){for(var P=0;P<c.length;P++)L(M.nestedProperty(r,c[P]),C)}}},43102:function(Y,O,e){var M=e(71828),k=e(86281),a=e(74875),_=e(79344).p;function y(d,s){var t,i,r,n,l,o,u,p,c,b,g=s.transform,h=s.transformIndex,x=d.transforms[h].groups,v=_(d.transforms,g);if(!M.isArrayOrTypedArray(x)||x.length===0)return[d];var m=M.filterUnique(x),w=new Array(m.length),f=x.length,S=k.findArrayAttributes(d),T=g.styles||[],E={};for(t=0;t<T.length;t++)E[T[t].target]=T[t].value;g.styles&&(b=M.keyedContainer(g,"styles","target","value.name"));var L={},C={};for(t=0;t<m.length;t++){L[o=m[t]]=t,C[o]=0,(u=w[t]=M.extendDeepNoArrays({},d))._group=o,u.transforms[h]._indexToPoints={};var P=null;for(b&&(P=b.get(o)),u.name=P||P===""?P:M.templateString(g.nameformat,{trace:d.name,group:o}),p=u.transforms,u.transforms=[],i=0;i<p.length;i++)u.transforms[i]=M.extendDeepNoArrays({},p[i]);for(i=0;i<S.length;i++)M.nestedProperty(u,S[i]).set([])}for(r=0;r<S.length;r++){for(n=S[r],i=0,c=[];i<m.length;i++)c[i]=M.nestedProperty(w[i],n).get();for(l=M.nestedProperty(d,n).get(),i=0;i<f;i++)c[L[x[i]]].push(l[i])}for(i=0;i<f;i++)(u=w[L[x[i]]]).transforms[h]._indexToPoints[C[x[i]]]=v(i),C[x[i]]++;for(t=0;t<m.length;t++)o=m[t],u=w[t],a.clearExpandedTraceDefaultColors(u),u=M.extendDeepNoArrays(u,E[o]||{});return w}O.moduleType="transform",O.name="groupby",O.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},O.supplyDefaults=function(d,s,t){var i,r={};function n(c,b){return M.coerce(d,r,O.attributes,c,b)}if(!n("enabled"))return r;n("groups"),n("nameformat",t._dataLength>1?"%{group} (%{trace})":"%{group}");var l=d.styles,o=r.styles=[];if(l)for(i=0;i<l.length;i++){var u=o[i]={};M.coerce(l[i],o[i],O.attributes.styles,"target");var p=M.coerce(l[i],o[i],O.attributes.styles,"value");M.isPlainObject(p)?u.value=M.extendDeep({},p):p&&delete u.value}return r},O.transform=function(d,s){var t,i,r,n=[];for(i=0;i<d.length;i++)for(t=y(d[i],s),r=0;r<t.length;r++)n.push(t[r]);return n}},79344:function(Y,O){O.p=function(e,M){for(var k,a,_=0;_<e.length&&(k=e[_])!==M;_++)k._indexToPoints&&k.enabled!==!1&&(a=k._indexToPoints);var y=a?function(d){return a[d]}:function(d){return[d]};return y}},32275:function(Y,O,e){var M=e(71828),k=e(89298),a=e(79344).p,_=e(50606).BADNUM;O.moduleType="transform",O.name="sort",O.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},O.supplyDefaults=function(y){var d={};function s(t,i){return M.coerce(y,d,O.attributes,t,i)}return s("enabled")&&(s("target"),s("order")),d},O.calcTransform=function(y,d,s){if(s.enabled){var t=M.getTargetArray(d,s);if(t){var i=s.target,r=t.length;d._length&&(r=Math.min(r,d._length));var n,l,o=d._arrayAttrs,u=function(x,v,m,w){var f,S=new Array(w),T=new Array(w);for(f=0;f<w;f++)S[f]={v:v[f],i:f};for(S.sort(function(E,L){switch(E.order){case"ascending":return function(C,P){var R=L(C.v),G=L(P.v);return R===_?1:G===_?-1:R-G};case"descending":return function(C,P){var R=L(C.v),G=L(P.v);return R===_?1:G===_?-1:G-R}}}(x,m)),f=0;f<w;f++)T[f]=S[f].i;return T}(s,t,k.getDataToCoordFunc(y,d,i,t),r),p=a(d.transforms,s),c={};for(n=0;n<o.length;n++){var b=M.nestedProperty(d,o[n]),g=b.get(),h=new Array(r);for(l=0;l<r;l++)h[l]=g[u[l]];b.set(h)}for(l=0;l<r;l++)c[l]=p(u[l]);s._indexToPoints=c,d._length=r}}}},11506:function(Y,O){O.version="2.27.0"},9330:function(Y,O,e){var M,k=e(90386);M=function(){return function(){var a={7386:function(d,s,t){d.exports={alpha_shape:t(2350),convex_hull:t(5537),delaunay_triangulate:t(4419),gl_cone3d:t(1140),gl_error3d:t(3110),gl_heatmap2d:t(6386),gl_line3d:t(6086),gl_mesh3d:t(8116),gl_plot2d:t(2117),gl_plot3d:t(1059),gl_pointcloud2d:t(8271),gl_scatter3d:t(2182),gl_select_box:t(6623),gl_spikes2d:t(3050),gl_streamtube3d:t(7307),gl_surface3d:t(3754),ndarray:t(5050),ndarray_linear_interpolate:t(3581)}},2146:function(d,s,t){function i(ce,Te){for(var ye=0;ye<Te.length;ye++){var Oe=Te[ye];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(ce,Oe.key,Oe)}}function r(ce,Te){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ye,Oe){return ye.__proto__=Oe,ye},r(ce,Te)}function n(ce){if(ce===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ce}function l(ce){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Te){return Te.__proto__||Object.getPrototypeOf(Te)},l(ce)}function o(ce){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Te){return typeof Te}:function(Te){return Te&&typeof Symbol=="function"&&Te.constructor===Symbol&&Te!==Symbol.prototype?"symbol":typeof Te},o(ce)}var u=t(3910),p=t(3187),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.lW=h,s.h2=50;var b=2147483647;function g(ce){if(ce>b)throw new RangeError('The value "'+ce+'" is invalid for option "size"');var Te=new Uint8Array(ce);return Object.setPrototypeOf(Te,h.prototype),Te}function h(ce,Te,ye){if(typeof ce=="number"){if(typeof Te=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(ce)}return x(ce,Te,ye)}function x(ce,Te,ye){if(typeof ce=="string")return function(Fe,Ge){if(typeof Ge=="string"&&Ge!==""||(Ge="utf8"),!h.isEncoding(Ge))throw new TypeError("Unknown encoding: "+Ge);var Ze=0|T(Fe,Ge),et=g(Ze),ft=et.write(Fe,Ge);return ft!==Ze&&(et=et.slice(0,ft)),et}(ce,Te);if(ArrayBuffer.isView(ce))return function(Fe){if(Le(Fe,Uint8Array)){var Ge=new Uint8Array(Fe);return f(Ge.buffer,Ge.byteOffset,Ge.byteLength)}return w(Fe)}(ce);if(ce==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(ce));if(Le(ce,ArrayBuffer)||ce&&Le(ce.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Le(ce,SharedArrayBuffer)||ce&&Le(ce.buffer,SharedArrayBuffer)))return f(ce,Te,ye);if(typeof ce=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Oe=ce.valueOf&&ce.valueOf();if(Oe!=null&&Oe!==ce)return h.from(Oe,Te,ye);var Be=function(Fe){if(h.isBuffer(Fe)){var Ge=0|S(Fe.length),Ze=g(Ge);return Ze.length===0||Fe.copy(Ze,0,0,Ge),Ze}return Fe.length!==void 0?typeof Fe.length!="number"||Me(Fe.length)?g(0):w(Fe):Fe.type==="Buffer"&&Array.isArray(Fe.data)?w(Fe.data):void 0}(ce);if(Be)return Be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof ce[Symbol.toPrimitive]=="function")return h.from(ce[Symbol.toPrimitive]("string"),Te,ye);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(ce))}function v(ce){if(typeof ce!="number")throw new TypeError('"size" argument must be of type number');if(ce<0)throw new RangeError('The value "'+ce+'" is invalid for option "size"')}function m(ce){return v(ce),g(ce<0?0:0|S(ce))}function w(ce){for(var Te=ce.length<0?0:0|S(ce.length),ye=g(Te),Oe=0;Oe<Te;Oe+=1)ye[Oe]=255&ce[Oe];return ye}function f(ce,Te,ye){if(Te<0||ce.byteLength<Te)throw new RangeError('"offset" is outside of buffer bounds');if(ce.byteLength<Te+(ye||0))throw new RangeError('"length" is outside of buffer bounds');var Oe;return Oe=Te===void 0&&ye===void 0?new Uint8Array(ce):ye===void 0?new Uint8Array(ce,Te):new Uint8Array(ce,Te,ye),Object.setPrototypeOf(Oe,h.prototype),Oe}function S(ce){if(ce>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|ce}function T(ce,Te){if(h.isBuffer(ce))return ce.length;if(ArrayBuffer.isView(ce)||Le(ce,ArrayBuffer))return ce.byteLength;if(typeof ce!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(ce));var ye=ce.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&ye===0)return 0;for(var Be=!1;;)switch(Te){case"ascii":case"latin1":case"binary":return ye;case"utf8":case"utf-8":return se(ce).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*ye;case"hex":return ye>>>1;case"base64":return oe(ce).length;default:if(Be)return Oe?-1:se(ce).length;Te=(""+Te).toLowerCase(),Be=!0}}function E(ce,Te,ye){var Oe=!1;if((Te===void 0||Te<0)&&(Te=0),Te>this.length||((ye===void 0||ye>this.length)&&(ye=this.length),ye<=0)||(ye>>>=0)<=(Te>>>=0))return"";for(ce||(ce="utf8");;)switch(ce){case"hex":return K(this,Te,ye);case"utf8":case"utf-8":return V(this,Te,ye);case"ascii":return te(this,Te,ye);case"latin1":case"binary":return $(this,Te,ye);case"base64":return B(this,Te,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,Te,ye);default:if(Oe)throw new TypeError("Unknown encoding: "+ce);ce=(ce+"").toLowerCase(),Oe=!0}}function L(ce,Te,ye){var Oe=ce[Te];ce[Te]=ce[ye],ce[ye]=Oe}function C(ce,Te,ye,Oe,Be){if(ce.length===0)return-1;if(typeof ye=="string"?(Oe=ye,ye=0):ye>2147483647?ye=2147483647:ye<-2147483648&&(ye=-2147483648),Me(ye=+ye)&&(ye=Be?0:ce.length-1),ye<0&&(ye=ce.length+ye),ye>=ce.length){if(Be)return-1;ye=ce.length-1}else if(ye<0){if(!Be)return-1;ye=0}if(typeof Te=="string"&&(Te=h.from(Te,Oe)),h.isBuffer(Te))return Te.length===0?-1:P(ce,Te,ye,Oe,Be);if(typeof Te=="number")return Te&=255,typeof Uint8Array.prototype.indexOf=="function"?Be?Uint8Array.prototype.indexOf.call(ce,Te,ye):Uint8Array.prototype.lastIndexOf.call(ce,Te,ye):P(ce,[Te],ye,Oe,Be);throw new TypeError("val must be string, number or Buffer")}function P(ce,Te,ye,Oe,Be){var Fe,Ge=1,Ze=ce.length,et=Te.length;if(Oe!==void 0&&((Oe=String(Oe).toLowerCase())==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(ce.length<2||Te.length<2)return-1;Ge=2,Ze/=2,et/=2,ye/=2}function ft(wt,lt){return Ge===1?wt[lt]:wt.readUInt16BE(lt*Ge)}if(Be){var rt=-1;for(Fe=ye;Fe<Ze;Fe++)if(ft(ce,Fe)===ft(Te,rt===-1?0:Fe-rt)){if(rt===-1&&(rt=Fe),Fe-rt+1===et)return rt*Ge}else rt!==-1&&(Fe-=Fe-rt),rt=-1}else for(ye+et>Ze&&(ye=Ze-et),Fe=ye;Fe>=0;Fe--){for(var _t=!0,kt=0;kt<et;kt++)if(ft(ce,Fe+kt)!==ft(Te,kt)){_t=!1;break}if(_t)return Fe}return-1}function R(ce,Te,ye,Oe){ye=Number(ye)||0;var Be=ce.length-ye;Oe?(Oe=Number(Oe))>Be&&(Oe=Be):Oe=Be;var Fe,Ge=Te.length;for(Oe>Ge/2&&(Oe=Ge/2),Fe=0;Fe<Oe;++Fe){var Ze=parseInt(Te.substr(2*Fe,2),16);if(Me(Ze))return Fe;ce[ye+Fe]=Ze}return Fe}function G(ce,Te,ye,Oe){return he(se(Te,ce.length-ye),ce,ye,Oe)}function I(ce,Te,ye,Oe){return he(function(Be){for(var Fe=[],Ge=0;Ge<Be.length;++Ge)Fe.push(255&Be.charCodeAt(Ge));return Fe}(Te),ce,ye,Oe)}function H(ce,Te,ye,Oe){return he(oe(Te),ce,ye,Oe)}function N(ce,Te,ye,Oe){return he(function(Be,Fe){for(var Ge,Ze,et,ft=[],rt=0;rt<Be.length&&!((Fe-=2)<0);++rt)Ze=(Ge=Be.charCodeAt(rt))>>8,et=Ge%256,ft.push(et),ft.push(Ze);return ft}(Te,ce.length-ye),ce,ye,Oe)}function B(ce,Te,ye){return Te===0&&ye===ce.length?u.fromByteArray(ce):u.fromByteArray(ce.slice(Te,ye))}function V(ce,Te,ye){ye=Math.min(ce.length,ye);for(var Oe=[],Be=Te;Be<ye;){var Fe=ce[Be],Ge=null,Ze=Fe>239?4:Fe>223?3:Fe>191?2:1;if(Be+Ze<=ye){var et=void 0,ft=void 0,rt=void 0,_t=void 0;switch(Ze){case 1:Fe<128&&(Ge=Fe);break;case 2:(192&(et=ce[Be+1]))==128&&(_t=(31&Fe)<<6|63&et)>127&&(Ge=_t);break;case 3:et=ce[Be+1],ft=ce[Be+2],(192&et)==128&&(192&ft)==128&&(_t=(15&Fe)<<12|(63&et)<<6|63&ft)>2047&&(_t<55296||_t>57343)&&(Ge=_t);break;case 4:et=ce[Be+1],ft=ce[Be+2],rt=ce[Be+3],(192&et)==128&&(192&ft)==128&&(192&rt)==128&&(_t=(15&Fe)<<18|(63&et)<<12|(63&ft)<<6|63&rt)>65535&&_t<1114112&&(Ge=_t)}}Ge===null?(Ge=65533,Ze=1):Ge>65535&&(Ge-=65536,Oe.push(Ge>>>10&1023|55296),Ge=56320|1023&Ge),Oe.push(Ge),Be+=Ze}return function(kt){var wt=kt.length;if(wt<=q)return String.fromCharCode.apply(String,kt);for(var lt="",ut=0;ut<wt;)lt+=String.fromCharCode.apply(String,kt.slice(ut,ut+=q));return lt}(Oe)}h.TYPED_ARRAY_SUPPORT=function(){try{var ce=new Uint8Array(1),Te={foo:function(){return 42}};return Object.setPrototypeOf(Te,Uint8Array.prototype),Object.setPrototypeOf(ce,Te),ce.foo()===42}catch{return!1}}(),h.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(ce,Te,ye){return x(ce,Te,ye)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(ce,Te,ye){return function(Oe,Be,Fe){return v(Oe),Oe<=0?g(Oe):Be!==void 0?typeof Fe=="string"?g(Oe).fill(Be,Fe):g(Oe).fill(Be):g(Oe)}(ce,Te,ye)},h.allocUnsafe=function(ce){return m(ce)},h.allocUnsafeSlow=function(ce){return m(ce)},h.isBuffer=function(ce){return ce!=null&&ce._isBuffer===!0&&ce!==h.prototype},h.compare=function(ce,Te){if(Le(ce,Uint8Array)&&(ce=h.from(ce,ce.offset,ce.byteLength)),Le(Te,Uint8Array)&&(Te=h.from(Te,Te.offset,Te.byteLength)),!h.isBuffer(ce)||!h.isBuffer(Te))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ce===Te)return 0;for(var ye=ce.length,Oe=Te.length,Be=0,Fe=Math.min(ye,Oe);Be<Fe;++Be)if(ce[Be]!==Te[Be]){ye=ce[Be],Oe=Te[Be];break}return ye<Oe?-1:Oe<ye?1:0},h.isEncoding=function(ce){switch(String(ce).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(ce,Te){if(!Array.isArray(ce))throw new TypeError('"list" argument must be an Array of Buffers');if(ce.length===0)return h.alloc(0);var ye;if(Te===void 0)for(Te=0,ye=0;ye<ce.length;++ye)Te+=ce[ye].length;var Oe=h.allocUnsafe(Te),Be=0;for(ye=0;ye<ce.length;++ye){var Fe=ce[ye];if(Le(Fe,Uint8Array))Be+Fe.length>Oe.length?(h.isBuffer(Fe)||(Fe=h.from(Fe)),Fe.copy(Oe,Be)):Uint8Array.prototype.set.call(Oe,Fe,Be);else{if(!h.isBuffer(Fe))throw new TypeError('"list" argument must be an Array of Buffers');Fe.copy(Oe,Be)}Be+=Fe.length}return Oe},h.byteLength=T,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var ce=this.length;if(ce%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Te=0;Te<ce;Te+=2)L(this,Te,Te+1);return this},h.prototype.swap32=function(){var ce=this.length;if(ce%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Te=0;Te<ce;Te+=4)L(this,Te,Te+3),L(this,Te+1,Te+2);return this},h.prototype.swap64=function(){var ce=this.length;if(ce%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Te=0;Te<ce;Te+=8)L(this,Te,Te+7),L(this,Te+1,Te+6),L(this,Te+2,Te+5),L(this,Te+3,Te+4);return this},h.prototype.toString=function(){var ce=this.length;return ce===0?"":arguments.length===0?V(this,0,ce):E.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(ce){if(!h.isBuffer(ce))throw new TypeError("Argument must be a Buffer");return this===ce||h.compare(this,ce)===0},h.prototype.inspect=function(){var ce="",Te=s.h2;return ce=this.toString("hex",0,Te).replace(/(.{2})/g,"$1 ").trim(),this.length>Te&&(ce+=" ... "),"<Buffer "+ce+">"},c&&(h.prototype[c]=h.prototype.inspect),h.prototype.compare=function(ce,Te,ye,Oe,Be){if(Le(ce,Uint8Array)&&(ce=h.from(ce,ce.offset,ce.byteLength)),!h.isBuffer(ce))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(ce));if(Te===void 0&&(Te=0),ye===void 0&&(ye=ce?ce.length:0),Oe===void 0&&(Oe=0),Be===void 0&&(Be=this.length),Te<0||ye>ce.length||Oe<0||Be>this.length)throw new RangeError("out of range index");if(Oe>=Be&&Te>=ye)return 0;if(Oe>=Be)return-1;if(Te>=ye)return 1;if(this===ce)return 0;for(var Fe=(Be>>>=0)-(Oe>>>=0),Ge=(ye>>>=0)-(Te>>>=0),Ze=Math.min(Fe,Ge),et=this.slice(Oe,Be),ft=ce.slice(Te,ye),rt=0;rt<Ze;++rt)if(et[rt]!==ft[rt]){Fe=et[rt],Ge=ft[rt];break}return Fe<Ge?-1:Ge<Fe?1:0},h.prototype.includes=function(ce,Te,ye){return this.indexOf(ce,Te,ye)!==-1},h.prototype.indexOf=function(ce,Te,ye){return C(this,ce,Te,ye,!0)},h.prototype.lastIndexOf=function(ce,Te,ye){return C(this,ce,Te,ye,!1)},h.prototype.write=function(ce,Te,ye,Oe){if(Te===void 0)Oe="utf8",ye=this.length,Te=0;else if(ye===void 0&&typeof Te=="string")Oe=Te,ye=this.length,Te=0;else{if(!isFinite(Te))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");Te>>>=0,isFinite(ye)?(ye>>>=0,Oe===void 0&&(Oe="utf8")):(Oe=ye,ye=void 0)}var Be=this.length-Te;if((ye===void 0||ye>Be)&&(ye=Be),ce.length>0&&(ye<0||Te<0)||Te>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var Fe=!1;;)switch(Oe){case"hex":return R(this,ce,Te,ye);case"utf8":case"utf-8":return G(this,ce,Te,ye);case"ascii":case"latin1":case"binary":return I(this,ce,Te,ye);case"base64":return H(this,ce,Te,ye);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,ce,Te,ye);default:if(Fe)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),Fe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var q=4096;function te(ce,Te,ye){var Oe="";ye=Math.min(ce.length,ye);for(var Be=Te;Be<ye;++Be)Oe+=String.fromCharCode(127&ce[Be]);return Oe}function $(ce,Te,ye){var Oe="";ye=Math.min(ce.length,ye);for(var Be=Te;Be<ye;++Be)Oe+=String.fromCharCode(ce[Be]);return Oe}function K(ce,Te,ye){var Oe=ce.length;(!Te||Te<0)&&(Te=0),(!ye||ye<0||ye>Oe)&&(ye=Oe);for(var Be="",Fe=Te;Fe<ye;++Fe)Be+=_e[ce[Fe]];return Be}function Z(ce,Te,ye){for(var Oe=ce.slice(Te,ye),Be="",Fe=0;Fe<Oe.length-1;Fe+=2)Be+=String.fromCharCode(Oe[Fe]+256*Oe[Fe+1]);return Be}function X(ce,Te,ye){if(ce%1!=0||ce<0)throw new RangeError("offset is not uint");if(ce+Te>ye)throw new RangeError("Trying to access beyond buffer length")}function ee(ce,Te,ye,Oe,Be,Fe){if(!h.isBuffer(ce))throw new TypeError('"buffer" argument must be a Buffer instance');if(Te>Be||Te<Fe)throw new RangeError('"value" argument is out of bounds');if(ye+Oe>ce.length)throw new RangeError("Index out of range")}function ne(ce,Te,ye,Oe,Be){ve(Te,Oe,Be,ce,ye,7);var Fe=Number(Te&BigInt(4294967295));ce[ye++]=Fe,Fe>>=8,ce[ye++]=Fe,Fe>>=8,ce[ye++]=Fe,Fe>>=8,ce[ye++]=Fe;var Ge=Number(Te>>BigInt(32)&BigInt(4294967295));return ce[ye++]=Ge,Ge>>=8,ce[ye++]=Ge,Ge>>=8,ce[ye++]=Ge,Ge>>=8,ce[ye++]=Ge,ye}function re(ce,Te,ye,Oe,Be){ve(Te,Oe,Be,ce,ye,7);var Fe=Number(Te&BigInt(4294967295));ce[ye+7]=Fe,Fe>>=8,ce[ye+6]=Fe,Fe>>=8,ce[ye+5]=Fe,Fe>>=8,ce[ye+4]=Fe;var Ge=Number(Te>>BigInt(32)&BigInt(4294967295));return ce[ye+3]=Ge,Ge>>=8,ce[ye+2]=Ge,Ge>>=8,ce[ye+1]=Ge,Ge>>=8,ce[ye]=Ge,ye+8}function ae(ce,Te,ye,Oe,Be,Fe){if(ye+Oe>ce.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("Index out of range")}function ue(ce,Te,ye,Oe,Be){return Te=+Te,ye>>>=0,Be||ae(ce,0,ye,4),p.write(ce,Te,ye,Oe,23,4),ye+4}function pe(ce,Te,ye,Oe,Be){return Te=+Te,ye>>>=0,Be||ae(ce,0,ye,8),p.write(ce,Te,ye,Oe,52,8),ye+8}h.prototype.slice=function(ce,Te){var ye=this.length;(ce=~~ce)<0?(ce+=ye)<0&&(ce=0):ce>ye&&(ce=ye),(Te=Te===void 0?ye:~~Te)<0?(Te+=ye)<0&&(Te=0):Te>ye&&(Te=ye),Te<ce&&(Te=ce);var Oe=this.subarray(ce,Te);return Object.setPrototypeOf(Oe,h.prototype),Oe},h.prototype.readUintLE=h.prototype.readUIntLE=function(ce,Te,ye){ce>>>=0,Te>>>=0,ye||X(ce,Te,this.length);for(var Oe=this[ce],Be=1,Fe=0;++Fe<Te&&(Be*=256);)Oe+=this[ce+Fe]*Be;return Oe},h.prototype.readUintBE=h.prototype.readUIntBE=function(ce,Te,ye){ce>>>=0,Te>>>=0,ye||X(ce,Te,this.length);for(var Oe=this[ce+--Te],Be=1;Te>0&&(Be*=256);)Oe+=this[ce+--Te]*Be;return Oe},h.prototype.readUint8=h.prototype.readUInt8=function(ce,Te){return ce>>>=0,Te||X(ce,1,this.length),this[ce]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(ce,Te){return ce>>>=0,Te||X(ce,2,this.length),this[ce]|this[ce+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(ce,Te){return ce>>>=0,Te||X(ce,2,this.length),this[ce]<<8|this[ce+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(ce,Te){return ce>>>=0,Te||X(ce,4,this.length),(this[ce]|this[ce+1]<<8|this[ce+2]<<16)+16777216*this[ce+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(ce,Te){return ce>>>=0,Te||X(ce,4,this.length),16777216*this[ce]+(this[ce+1]<<16|this[ce+2]<<8|this[ce+3])},h.prototype.readBigUInt64LE=De(function(ce){Ie(ce>>>=0,"offset");var Te=this[ce],ye=this[ce+7];Te!==void 0&&ye!==void 0||Se(ce,this.length-8);var Oe=Te+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24),Be=this[++ce]+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+ye*Math.pow(2,24);return BigInt(Oe)+(BigInt(Be)<<BigInt(32))}),h.prototype.readBigUInt64BE=De(function(ce){Ie(ce>>>=0,"offset");var Te=this[ce],ye=this[ce+7];Te!==void 0&&ye!==void 0||Se(ce,this.length-8);var Oe=Te*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce],Be=this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+ye;return(BigInt(Oe)<<BigInt(32))+BigInt(Be)}),h.prototype.readIntLE=function(ce,Te,ye){ce>>>=0,Te>>>=0,ye||X(ce,Te,this.length);for(var Oe=this[ce],Be=1,Fe=0;++Fe<Te&&(Be*=256);)Oe+=this[ce+Fe]*Be;return Oe>=(Be*=128)&&(Oe-=Math.pow(2,8*Te)),Oe},h.prototype.readIntBE=function(ce,Te,ye){ce>>>=0,Te>>>=0,ye||X(ce,Te,this.length);for(var Oe=Te,Be=1,Fe=this[ce+--Oe];Oe>0&&(Be*=256);)Fe+=this[ce+--Oe]*Be;return Fe>=(Be*=128)&&(Fe-=Math.pow(2,8*Te)),Fe},h.prototype.readInt8=function(ce,Te){return ce>>>=0,Te||X(ce,1,this.length),128&this[ce]?-1*(255-this[ce]+1):this[ce]},h.prototype.readInt16LE=function(ce,Te){ce>>>=0,Te||X(ce,2,this.length);var ye=this[ce]|this[ce+1]<<8;return 32768&ye?4294901760|ye:ye},h.prototype.readInt16BE=function(ce,Te){ce>>>=0,Te||X(ce,2,this.length);var ye=this[ce+1]|this[ce]<<8;return 32768&ye?4294901760|ye:ye},h.prototype.readInt32LE=function(ce,Te){return ce>>>=0,Te||X(ce,4,this.length),this[ce]|this[ce+1]<<8|this[ce+2]<<16|this[ce+3]<<24},h.prototype.readInt32BE=function(ce,Te){return ce>>>=0,Te||X(ce,4,this.length),this[ce]<<24|this[ce+1]<<16|this[ce+2]<<8|this[ce+3]},h.prototype.readBigInt64LE=De(function(ce){Ie(ce>>>=0,"offset");var Te=this[ce],ye=this[ce+7];Te!==void 0&&ye!==void 0||Se(ce,this.length-8);var Oe=this[ce+4]+this[ce+5]*Math.pow(2,8)+this[ce+6]*Math.pow(2,16)+(ye<<24);return(BigInt(Oe)<<BigInt(32))+BigInt(Te+this[++ce]*Math.pow(2,8)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,24))}),h.prototype.readBigInt64BE=De(function(ce){Ie(ce>>>=0,"offset");var Te=this[ce],ye=this[ce+7];Te!==void 0&&ye!==void 0||Se(ce,this.length-8);var Oe=(Te<<24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+this[++ce];return(BigInt(Oe)<<BigInt(32))+BigInt(this[++ce]*Math.pow(2,24)+this[++ce]*Math.pow(2,16)+this[++ce]*Math.pow(2,8)+ye)}),h.prototype.readFloatLE=function(ce,Te){return ce>>>=0,Te||X(ce,4,this.length),p.read(this,ce,!0,23,4)},h.prototype.readFloatBE=function(ce,Te){return ce>>>=0,Te||X(ce,4,this.length),p.read(this,ce,!1,23,4)},h.prototype.readDoubleLE=function(ce,Te){return ce>>>=0,Te||X(ce,8,this.length),p.read(this,ce,!0,52,8)},h.prototype.readDoubleBE=function(ce,Te){return ce>>>=0,Te||X(ce,8,this.length),p.read(this,ce,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(ce,Te,ye,Oe){ce=+ce,Te>>>=0,ye>>>=0,Oe||ee(this,ce,Te,ye,Math.pow(2,8*ye)-1,0);var Be=1,Fe=0;for(this[Te]=255&ce;++Fe<ye&&(Be*=256);)this[Te+Fe]=ce/Be&255;return Te+ye},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(ce,Te,ye,Oe){ce=+ce,Te>>>=0,ye>>>=0,Oe||ee(this,ce,Te,ye,Math.pow(2,8*ye)-1,0);var Be=ye-1,Fe=1;for(this[Te+Be]=255&ce;--Be>=0&&(Fe*=256);)this[Te+Be]=ce/Fe&255;return Te+ye},h.prototype.writeUint8=h.prototype.writeUInt8=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,1,255,0),this[Te]=255&ce,Te+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,2,65535,0),this[Te]=255&ce,this[Te+1]=ce>>>8,Te+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,2,65535,0),this[Te]=ce>>>8,this[Te+1]=255&ce,Te+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,4,4294967295,0),this[Te+3]=ce>>>24,this[Te+2]=ce>>>16,this[Te+1]=ce>>>8,this[Te]=255&ce,Te+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,4,4294967295,0),this[Te]=ce>>>24,this[Te+1]=ce>>>16,this[Te+2]=ce>>>8,this[Te+3]=255&ce,Te+4},h.prototype.writeBigUInt64LE=De(function(ce){return ne(this,ce,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=De(function(ce){return re(this,ce,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(ce,Te,ye,Oe){if(ce=+ce,Te>>>=0,!Oe){var Be=Math.pow(2,8*ye-1);ee(this,ce,Te,ye,Be-1,-Be)}var Fe=0,Ge=1,Ze=0;for(this[Te]=255&ce;++Fe<ye&&(Ge*=256);)ce<0&&Ze===0&&this[Te+Fe-1]!==0&&(Ze=1),this[Te+Fe]=(ce/Ge>>0)-Ze&255;return Te+ye},h.prototype.writeIntBE=function(ce,Te,ye,Oe){if(ce=+ce,Te>>>=0,!Oe){var Be=Math.pow(2,8*ye-1);ee(this,ce,Te,ye,Be-1,-Be)}var Fe=ye-1,Ge=1,Ze=0;for(this[Te+Fe]=255&ce;--Fe>=0&&(Ge*=256);)ce<0&&Ze===0&&this[Te+Fe+1]!==0&&(Ze=1),this[Te+Fe]=(ce/Ge>>0)-Ze&255;return Te+ye},h.prototype.writeInt8=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,1,127,-128),ce<0&&(ce=255+ce+1),this[Te]=255&ce,Te+1},h.prototype.writeInt16LE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,2,32767,-32768),this[Te]=255&ce,this[Te+1]=ce>>>8,Te+2},h.prototype.writeInt16BE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,2,32767,-32768),this[Te]=ce>>>8,this[Te+1]=255&ce,Te+2},h.prototype.writeInt32LE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,4,2147483647,-2147483648),this[Te]=255&ce,this[Te+1]=ce>>>8,this[Te+2]=ce>>>16,this[Te+3]=ce>>>24,Te+4},h.prototype.writeInt32BE=function(ce,Te,ye){return ce=+ce,Te>>>=0,ye||ee(this,ce,Te,4,2147483647,-2147483648),ce<0&&(ce=4294967295+ce+1),this[Te]=ce>>>24,this[Te+1]=ce>>>16,this[Te+2]=ce>>>8,this[Te+3]=255&ce,Te+4},h.prototype.writeBigInt64LE=De(function(ce){return ne(this,ce,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=De(function(ce){return re(this,ce,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeFloatLE=function(ce,Te,ye){return ue(this,ce,Te,!0,ye)},h.prototype.writeFloatBE=function(ce,Te,ye){return ue(this,ce,Te,!1,ye)},h.prototype.writeDoubleLE=function(ce,Te,ye){return pe(this,ce,Te,!0,ye)},h.prototype.writeDoubleBE=function(ce,Te,ye){return pe(this,ce,Te,!1,ye)},h.prototype.copy=function(ce,Te,ye,Oe){if(!h.isBuffer(ce))throw new TypeError("argument should be a Buffer");if(ye||(ye=0),Oe||Oe===0||(Oe=this.length),Te>=ce.length&&(Te=ce.length),Te||(Te=0),Oe>0&&Oe<ye&&(Oe=ye),Oe===ye||ce.length===0||this.length===0)return 0;if(Te<0)throw new RangeError("targetStart out of bounds");if(ye<0||ye>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),ce.length-Te<Oe-ye&&(Oe=ce.length-Te+ye);var Be=Oe-ye;return this===ce&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(Te,ye,Oe):Uint8Array.prototype.set.call(ce,this.subarray(ye,Oe),Te),Be},h.prototype.fill=function(ce,Te,ye,Oe){if(typeof ce=="string"){if(typeof Te=="string"?(Oe=Te,Te=0,ye=this.length):typeof ye=="string"&&(Oe=ye,ye=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!h.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(ce.length===1){var Be=ce.charCodeAt(0);(Oe==="utf8"&&Be<128||Oe==="latin1")&&(ce=Be)}}else typeof ce=="number"?ce&=255:typeof ce=="boolean"&&(ce=Number(ce));if(Te<0||this.length<Te||this.length<ye)throw new RangeError("Out of range index");if(ye<=Te)return this;var Fe;if(Te>>>=0,ye=ye===void 0?this.length:ye>>>0,ce||(ce=0),typeof ce=="number")for(Fe=Te;Fe<ye;++Fe)this[Fe]=ce;else{var Ge=h.isBuffer(ce)?ce:h.from(ce,Oe),Ze=Ge.length;if(Ze===0)throw new TypeError('The value "'+ce+'" is invalid for argument "value"');for(Fe=0;Fe<ye-Te;++Fe)this[Fe+Te]=Ge[Fe%Ze]}return this};var ge={};function we(ce,Te,ye){ge[ce]=function(Oe){(function(rt,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");rt.prototype=Object.create(_t&&_t.prototype,{constructor:{value:rt,writable:!0,configurable:!0}}),Object.defineProperty(rt,"prototype",{writable:!1}),_t&&r(rt,_t)})(ft,Oe);var Be,Fe,Ge,Ze,et=(Ge=ft,Ze=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var rt,_t=l(Ge);if(Ze){var kt=l(this).constructor;rt=Reflect.construct(_t,arguments,kt)}else rt=_t.apply(this,arguments);return function(wt,lt){if(lt&&(o(lt)==="object"||typeof lt=="function"))return lt;if(lt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(wt)}(this,rt)});function ft(){var rt;return function(_t,kt){if(!(_t instanceof kt))throw new TypeError("Cannot call a class as a function")}(this,ft),rt=et.call(this),Object.defineProperty(n(rt),"message",{value:Te.apply(n(rt),arguments),writable:!0,configurable:!0}),rt.name="".concat(rt.name," [").concat(ce,"]"),rt.stack,delete rt.name,rt}return Be=ft,(Fe=[{key:"code",get:function(){return ce},set:function(rt){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:rt,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(ce,"]: ").concat(this.message)}}])&&i(Be.prototype,Fe),Object.defineProperty(Be,"prototype",{writable:!1}),ft}(ye)}function me(ce){for(var Te="",ye=ce.length,Oe=ce[0]==="-"?1:0;ye>=Oe+4;ye-=3)Te="_".concat(ce.slice(ye-3,ye)).concat(Te);return"".concat(ce.slice(0,ye)).concat(Te)}function ve(ce,Te,ye,Oe,Be,Fe){if(ce>ye||ce<Te){var Ge,Ze=typeof Te=="bigint"?"n":"";throw Ge=Fe>3?Te===0||Te===BigInt(0)?">= 0".concat(Ze," and < 2").concat(Ze," ** ").concat(8*(Fe+1)).concat(Ze):">= -(2".concat(Ze," ** ").concat(8*(Fe+1)-1).concat(Ze,") and < 2 ** ")+"".concat(8*(Fe+1)-1).concat(Ze):">= ".concat(Te).concat(Ze," and <= ").concat(ye).concat(Ze),new ge.ERR_OUT_OF_RANGE("value",Ge,ce)}(function(et,ft,rt){Ie(ft,"offset"),et[ft]!==void 0&&et[ft+rt]!==void 0||Se(ft,et.length-(rt+1))})(Oe,Be,Fe)}function Ie(ce,Te){if(typeof ce!="number")throw new ge.ERR_INVALID_ARG_TYPE(Te,"number",ce)}function Se(ce,Te,ye){throw Math.floor(ce)!==ce?(Ie(ce,ye),new ge.ERR_OUT_OF_RANGE(ye||"offset","an integer",ce)):Te<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE(ye||"offset",">= ".concat(ye?1:0," and <= ").concat(Te),ce)}we("ERR_BUFFER_OUT_OF_BOUNDS",function(ce){return ce?"".concat(ce," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),we("ERR_INVALID_ARG_TYPE",function(ce,Te){return'The "'.concat(ce,'" argument must be of type number. Received type ').concat(o(Te))},TypeError),we("ERR_OUT_OF_RANGE",function(ce,Te,ye){var Oe='The value of "'.concat(ce,'" is out of range.'),Be=ye;return Number.isInteger(ye)&&Math.abs(ye)>Math.pow(2,32)?Be=me(String(ye)):typeof ye=="bigint"&&(Be=String(ye),(ye>Math.pow(BigInt(2),BigInt(32))||ye<-Math.pow(BigInt(2),BigInt(32)))&&(Be=me(Be)),Be+="n"),Oe+" It must be ".concat(Te,". Received ").concat(Be)},RangeError);var ke=/[^+/0-9A-Za-z-_]/g;function se(ce,Te){var ye;Te=Te||1/0;for(var Oe=ce.length,Be=null,Fe=[],Ge=0;Ge<Oe;++Ge){if((ye=ce.charCodeAt(Ge))>55295&&ye<57344){if(!Be){if(ye>56319){(Te-=3)>-1&&Fe.push(239,191,189);continue}if(Ge+1===Oe){(Te-=3)>-1&&Fe.push(239,191,189);continue}Be=ye;continue}if(ye<56320){(Te-=3)>-1&&Fe.push(239,191,189),Be=ye;continue}ye=65536+(Be-55296<<10|ye-56320)}else Be&&(Te-=3)>-1&&Fe.push(239,191,189);if(Be=null,ye<128){if((Te-=1)<0)break;Fe.push(ye)}else if(ye<2048){if((Te-=2)<0)break;Fe.push(ye>>6|192,63&ye|128)}else if(ye<65536){if((Te-=3)<0)break;Fe.push(ye>>12|224,ye>>6&63|128,63&ye|128)}else{if(!(ye<1114112))throw new Error("Invalid code point");if((Te-=4)<0)break;Fe.push(ye>>18|240,ye>>12&63|128,ye>>6&63|128,63&ye|128)}}return Fe}function oe(ce){return u.toByteArray(function(Te){if((Te=(Te=Te.split("=")[0]).trim().replace(ke,"")).length<2)return"";for(;Te.length%4!=0;)Te+="=";return Te}(ce))}function he(ce,Te,ye,Oe){var Be;for(Be=0;Be<Oe&&!(Be+ye>=Te.length||Be>=ce.length);++Be)Te[Be+ye]=ce[Be];return Be}function Le(ce,Te){return ce instanceof Te||ce!=null&&ce.constructor!=null&&ce.constructor.name!=null&&ce.constructor.name===Te.name}function Me(ce){return ce!=ce}var _e=function(){for(var ce="0123456789abcdef",Te=new Array(256),ye=0;ye<16;++ye)for(var Oe=16*ye,Be=0;Be<16;++Be)Te[Oe+Be]=ce[ye]+ce[Be];return Te}();function De(ce){return typeof BigInt>"u"?Ne:ce}function Ne(){throw new Error("BigInt not supported")}},2321:function(d){d.exports=r,d.exports.isMobile=r,d.exports.default=r;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,i=/android|ipad|playbook|silk/i;function r(n){n||(n={});var l=n.ua;if(l||typeof navigator>"u"||(l=navigator.userAgent),l&&l.headers&&typeof l.headers["user-agent"]=="string"&&(l=l.headers["user-agent"]),typeof l!="string")return!1;var o=s.test(l)&&!t.test(l)||!!n.tablet&&i.test(l);return!o&&n.tablet&&n.featureDetect&&navigator&&navigator.maxTouchPoints>1&&l.indexOf("Macintosh")!==-1&&l.indexOf("Safari")!==-1&&(o=!0),o}},3910:function(d,s){s.byteLength=function(p){var c=o(p),b=c[0],g=c[1];return 3*(b+g)/4-g},s.toByteArray=function(p){var c,b,g=o(p),h=g[0],x=g[1],v=new r(function(f,S,T){return 3*(S+T)/4-T}(0,h,x)),m=0,w=x>0?h-4:h;for(b=0;b<w;b+=4)c=i[p.charCodeAt(b)]<<18|i[p.charCodeAt(b+1)]<<12|i[p.charCodeAt(b+2)]<<6|i[p.charCodeAt(b+3)],v[m++]=c>>16&255,v[m++]=c>>8&255,v[m++]=255&c;return x===2&&(c=i[p.charCodeAt(b)]<<2|i[p.charCodeAt(b+1)]>>4,v[m++]=255&c),x===1&&(c=i[p.charCodeAt(b)]<<10|i[p.charCodeAt(b+1)]<<4|i[p.charCodeAt(b+2)]>>2,v[m++]=c>>8&255,v[m++]=255&c),v},s.fromByteArray=function(p){for(var c,b=p.length,g=b%3,h=[],x=16383,v=0,m=b-g;v<m;v+=x)h.push(u(p,v,v+x>m?m:v+x));return g===1?(c=p[b-1],h.push(t[c>>2]+t[c<<4&63]+"==")):g===2&&(c=(p[b-2]<<8)+p[b-1],h.push(t[c>>10]+t[c>>4&63]+t[c<<2&63]+"=")),h.join("")};for(var t=[],i=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0;l<64;++l)t[l]=n[l],i[n.charCodeAt(l)]=l;function o(p){var c=p.length;if(c%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=p.indexOf("=");return b===-1&&(b=c),[b,b===c?0:4-b%4]}function u(p,c,b){for(var g,h,x=[],v=c;v<b;v+=3)g=(p[v]<<16&16711680)+(p[v+1]<<8&65280)+(255&p[v+2]),x.push(t[(h=g)>>18&63]+t[h>>12&63]+t[h>>6&63]+t[63&h]);return x.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},3187:function(d,s){s.read=function(t,i,r,n,l){var o,u,p=8*l-n-1,c=(1<<p)-1,b=c>>1,g=-7,h=r?l-1:0,x=r?-1:1,v=t[i+h];for(h+=x,o=v&(1<<-g)-1,v>>=-g,g+=p;g>0;o=256*o+t[i+h],h+=x,g-=8);for(u=o&(1<<-g)-1,o>>=-g,g+=n;g>0;u=256*u+t[i+h],h+=x,g-=8);if(o===0)o=1-b;else{if(o===c)return u?NaN:1/0*(v?-1:1);u+=Math.pow(2,n),o-=b}return(v?-1:1)*u*Math.pow(2,o-n)},s.write=function(t,i,r,n,l,o){var u,p,c,b=8*o-l-1,g=(1<<b)-1,h=g>>1,x=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:o-1,m=n?1:-1,w=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(p=isNaN(i)?1:0,u=g):(u=Math.floor(Math.log(i)/Math.LN2),i*(c=Math.pow(2,-u))<1&&(u--,c*=2),(i+=u+h>=1?x/c:x*Math.pow(2,1-h))*c>=2&&(u++,c/=2),u+h>=g?(p=0,u=g):u+h>=1?(p=(i*c-1)*Math.pow(2,l),u+=h):(p=i*Math.pow(2,h-1)*Math.pow(2,l),u=0));l>=8;t[r+v]=255&p,v+=m,p/=256,l-=8);for(u=u<<l|p,b+=l;b>0;t[r+v]=255&u,v+=m,u/=256,b-=8);t[r+v-m]|=128*w}},1152:function(d,s,t){d.exports=function(u){var p=(u=u||{}).eye||[0,0,1],c=u.center||[0,0,0],b=u.up||[0,1,0],g=u.distanceLimits||[0,1/0],h=u.mode||"turntable",x=i(),v=r(),m=n();return x.setDistanceLimits(g[0],g[1]),x.lookAt(0,p,c,b),v.setDistanceLimits(g[0],g[1]),v.lookAt(0,p,c,b),m.setDistanceLimits(g[0],g[1]),m.lookAt(0,p,c,b),new l({turntable:x,orbit:v,matrix:m},h)};var i=t(3440),r=t(7774),n=t(9298);function l(u,p){this._controllerNames=Object.keys(u),this._controllerList=this._controllerNames.map(function(c){return u[c]}),this._mode=p,this._active=u[p],this._active||(this._mode="turntable",this._active=u.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var o=l.prototype;o.flush=function(u){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].flush(u)},o.idle=function(u){for(var p=this._controllerList,c=0;c<p.length;++c)p[c].idle(u)},o.lookAt=function(u,p,c,b){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].lookAt(u,p,c,b)},o.rotate=function(u,p,c,b){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].rotate(u,p,c,b)},o.pan=function(u,p,c,b){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].pan(u,p,c,b)},o.translate=function(u,p,c,b){for(var g=this._controllerList,h=0;h<g.length;++h)g[h].translate(u,p,c,b)},o.setMatrix=function(u,p){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setMatrix(u,p)},o.setDistanceLimits=function(u,p){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setDistanceLimits(u,p)},o.setDistance=function(u,p){for(var c=this._controllerList,b=0;b<c.length;++b)c[b].setDistance(u,p)},o.recalcMatrix=function(u){this._active.recalcMatrix(u)},o.getDistance=function(u){return this._active.getDistance(u)},o.getDistanceLimits=function(u){return this._active.getDistanceLimits(u)},o.lastT=function(){return this._active.lastT()},o.setMode=function(u){if(u!==this._mode){var p=this._controllerNames.indexOf(u);if(!(p<0)){var c=this._active,b=this._controllerList[p],g=Math.max(c.lastT(),b.lastT());c.recalcMatrix(g),b.setMatrix(g,c.computedMatrix),this._active=b,this._mode=u,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},o.getMode=function(){return this._mode}},8126:function(d,s,t){var i=typeof WeakMap>"u"?t(5346):WeakMap,r=t(5827),n=t(2944),l=new i;d.exports=function(o){var u=l.get(o),p=u&&(u._triangleBuffer.handle||u._triangleBuffer.buffer);if(!p||!o.isBuffer(p)){var c=r(o,new Float32Array([-1,-1,-1,4,4,-1]));(u=n(o,[{buffer:c,type:o.FLOAT,size:2}]))._triangleBuffer=c,l.set(o,u)}u.bind(),o.drawArrays(o.TRIANGLES,0,3),u.unbind()}},8008:function(d,s,t){var i=t(4930);d.exports=function(r,n,l){n=typeof n=="number"?n:1,l=l||": ";var o=r.split(/\r?\n/),u=String(o.length+n-1).length;return o.map(function(p,c){var b=c+n,g=String(b).length;return i(b,u-g)+l+p}).join(`
`)}},2153:function(d,s,t){d.exports=function(n){var l=n.length;if(l===0)return[];if(l===1)return[0];for(var o=n[0].length,u=[n[0]],p=[0],c=1;c<l;++c)if(u.push(n[c]),r(u,o)){if(p.push(c),p.length===o+1)return p}else u.pop();return p};var i=t(417);function r(n,l){for(var o=new Array(l+1),u=0;u<n.length;++u)o[u]=n[u];for(u=0;u<=n.length;++u){for(var p=n.length;p<=l;++p){for(var c=new Array(l),b=0;b<l;++b)c[b]=Math.pow(p+1-u,b);o[p]=c}if(i.apply(void 0,o))return!0}return!1}},4653:function(d,s,t){d.exports=function(n,l){return i(l).filter(function(o){for(var u=new Array(o.length),p=0;p<o.length;++p)u[p]=l[o[p]];return r(u)*n<1})};var i=t(4419),r=t(1778)},2350:function(d,s,t){d.exports=function(n,l){return r(i(n,l))};var i=t(4653),r=t(8691)},7896:function(d){d.exports=function(s){return atob(s)}},957:function(d,s,t){d.exports=function(n,l){for(var o=l.length,u=new Array(o+1),p=0;p<o;++p){for(var c=new Array(o+1),b=0;b<=o;++b)c[b]=n[b][p];u[p]=c}for(u[o]=new Array(o+1),p=0;p<=o;++p)u[o][p]=1;var g=new Array(o+1);for(p=0;p<o;++p)g[p]=l[p];g[o]=1;var h=i(u,g),x=r(h[o+1]);x===0&&(x=1);var v=new Array(o+1);for(p=0;p<=o;++p)v[p]=r(h[p])/x;return v};var i=t(6606);function r(n){for(var l=0,o=0;o<n.length;++o)l+=n[o];return l}},1539:function(d,s,t){var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[1]).add(n[0].mul(r[1])),r[1].mul(n[1]))}},8846:function(d){d.exports=function(s,t){return s[0].mul(t[1]).cmp(t[0].mul(s[1]))}},9189:function(d,s,t){var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[1]),r[1].mul(n[0]))}},5125:function(d,s,t){var i=t(234),r=t(3218),n=t(5514),l=t(2813),o=t(8524),u=t(9189);d.exports=function p(c,b){if(i(c))return b?u(c,p(b)):[c[0].clone(),c[1].clone()];var g,h,x=0;if(r(c))g=c.clone();else if(typeof c=="string")g=l(c);else{if(c===0)return[n(0),n(1)];if(c===Math.floor(c))g=n(c);else{for(;c!==Math.floor(c);)c*=Math.pow(2,256),x-=256;g=n(c)}}if(i(b))g.mul(b[1]),h=b[0].clone();else if(r(b))h=b.clone();else if(typeof b=="string")h=l(b);else if(b)if(b===Math.floor(b))h=n(b);else{for(;b!==Math.floor(b);)b*=Math.pow(2,256),x+=256;h=n(b)}else h=n(1);return x>0?g=g.ushln(x):x<0&&(h=h.ushln(-x)),o(g,h)}},234:function(d,s,t){var i=t(3218);d.exports=function(r){return Array.isArray(r)&&r.length===2&&i(r[0])&&i(r[1])}},4275:function(d,s,t){var i=t(1928);d.exports=function(r){return r.cmp(new i(0))}},9958:function(d,s,t){var i=t(4275);d.exports=function(r){var n=r.length,l=r.words,o=0;if(n===1)o=l[0];else if(n===2)o=l[0]+67108864*l[1];else for(var u=0;u<n;u++)o+=l[u]*Math.pow(67108864,u);return i(r)*o}},1112:function(d,s,t){var i=t(8362),r=t(2288).countTrailingZeros;d.exports=function(n){var l=r(i.lo(n));if(l<32)return l;var o=r(i.hi(n));return o>20?52:o+32}},3218:function(d,s,t){t(1928),d.exports=function(i){return i&&typeof i=="object"&&!!i.words}},5514:function(d,s,t){var i=t(1928),r=t(8362);d.exports=function(n){var l=r.exponent(n);return l<52?new i(n):new i(n*Math.pow(2,52-l)).ushln(l-52)}},8524:function(d,s,t){var i=t(5514),r=t(4275);d.exports=function(n,l){var o=r(n),u=r(l);if(o===0)return[i(0),i(1)];if(u===0)return[i(0),i(0)];u<0&&(n=n.neg(),l=l.neg());var p=n.gcd(l);return p.cmpn(1)?[n.div(p),l.div(p)]:[n,l]}},2813:function(d,s,t){var i=t(1928);d.exports=function(r){return new i(r)}},3962:function(d,s,t){var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[0]),r[1].mul(n[1]))}},4951:function(d,s,t){var i=t(4275);d.exports=function(r){return i(r[0])*i(r[1])}},4354:function(d,s,t){var i=t(8524);d.exports=function(r,n){return i(r[0].mul(n[1]).sub(r[1].mul(n[0])),r[1].mul(n[1]))}},7999:function(d,s,t){var i=t(9958),r=t(1112);d.exports=function(n){var l=n[0],o=n[1];if(l.cmpn(0)===0)return 0;var u=l.abs().divmod(o.abs()),p=u.div,c=i(p),b=u.mod,g=l.negative!==o.negative?-1:1;if(b.cmpn(0)===0)return g*c;if(c){var h=r(c)+4;return g*(c+(v=i(b.ushln(h).divRound(o)))*Math.pow(2,-h))}var x=o.bitLength()-b.bitLength()+53,v=i(b.ushln(x).divRound(o));return x<1023?g*v*Math.pow(2,-x):g*(v*=Math.pow(2,-1023))*Math.pow(2,1023-x)}},5070:function(d){function s(o,u,p,c,b){for(var g=b+1;c<=b;){var h=c+b>>>1,x=o[h];(p!==void 0?p(x,u):x-u)>=0?(g=h,b=h-1):c=h+1}return g}function t(o,u,p,c,b){for(var g=b+1;c<=b;){var h=c+b>>>1,x=o[h];(p!==void 0?p(x,u):x-u)>0?(g=h,b=h-1):c=h+1}return g}function i(o,u,p,c,b){for(var g=c-1;c<=b;){var h=c+b>>>1,x=o[h];(p!==void 0?p(x,u):x-u)<0?(g=h,c=h+1):b=h-1}return g}function r(o,u,p,c,b){for(var g=c-1;c<=b;){var h=c+b>>>1,x=o[h];(p!==void 0?p(x,u):x-u)<=0?(g=h,c=h+1):b=h-1}return g}function n(o,u,p,c,b){for(;c<=b;){var g=c+b>>>1,h=o[g],x=p!==void 0?p(h,u):h-u;if(x===0)return g;x<=0?c=g+1:b=g-1}return-1}function l(o,u,p,c,b,g){return typeof p=="function"?g(o,u,p,c===void 0?0:0|c,b===void 0?o.length-1:0|b):g(o,u,void 0,p===void 0?0:0|p,c===void 0?o.length-1:0|c)}d.exports={ge:function(o,u,p,c,b){return l(o,u,p,c,b,s)},gt:function(o,u,p,c,b){return l(o,u,p,c,b,t)},lt:function(o,u,p,c,b){return l(o,u,p,c,b,i)},le:function(o,u,p,c,b){return l(o,u,p,c,b,r)},eq:function(o,u,p,c,b){return l(o,u,p,c,b,n)}}},2288:function(d,s){function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var n=r>>31;return(r^n)-n},s.min=function(r,n){return n^(r^n)&-(r<n)},s.max=function(r,n){return r^(r^n)&-(r<n)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var n,l;return n=(r>65535)<<4,n|=l=((r>>>=n)>255)<<3,n|=l=((r>>>=l)>15)<<2,(n|=l=((r>>>=l)>3)<<1)|(r>>>=l)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var l=n,o=n,u=7;for(l>>>=1;l;l>>>=1)o<<=1,o|=1&l,--u;r[n]=o<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},s.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,n,l){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},s.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},1928:function(d,s,t){(function(i,r){function n(I,H){if(!I)throw new Error(H||"Assertion failed")}function l(I,H){I.super_=H;var N=function(){};N.prototype=H.prototype,I.prototype=new N,I.prototype.constructor=I}function o(I,H,N){if(o.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&(H!=="le"&&H!=="be"||(N=H,H=10),this._init(I||0,H||10,N||"be"))}var u;typeof i=="object"?i.exports=o:r.BN=o,o.BN=o,o.wordSize=26;try{u=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t(6601).Buffer}catch{}function p(I,H){var N=I.charCodeAt(H);return N>=65&&N<=70?N-55:N>=97&&N<=102?N-87:N-48&15}function c(I,H,N){var B=p(I,N);return N-1>=H&&(B|=p(I,N-1)<<4),B}function b(I,H,N,B){for(var V=0,q=Math.min(I.length,N),te=H;te<q;te++){var $=I.charCodeAt(te)-48;V*=B,V+=$>=49?$-49+10:$>=17?$-17+10:$}return V}o.isBN=function(I){return I instanceof o||I!==null&&typeof I=="object"&&I.constructor.wordSize===o.wordSize&&Array.isArray(I.words)},o.max=function(I,H){return I.cmp(H)>0?I:H},o.min=function(I,H){return I.cmp(H)<0?I:H},o.prototype._init=function(I,H,N){if(typeof I=="number")return this._initNumber(I,H,N);if(typeof I=="object")return this._initArray(I,H,N);H==="hex"&&(H=16),n(H===(0|H)&&H>=2&&H<=36);var B=0;(I=I.toString().replace(/\s+/g,""))[0]==="-"&&(B++,this.negative=1),B<I.length&&(H===16?this._parseHex(I,B,N):(this._parseBase(I,H,B),N==="le"&&this._initArray(this.toArray(),H,N)))},o.prototype._initNumber=function(I,H,N){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[67108863&I],this.length=1):I<4503599627370496?(this.words=[67108863&I,I/67108864&67108863],this.length=2):(n(I<9007199254740992),this.words=[67108863&I,I/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),H,N)},o.prototype._initArray=function(I,H,N){if(n(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var V,q,te=0;if(N==="be")for(B=I.length-1,V=0;B>=0;B-=3)q=I[B]|I[B-1]<<8|I[B-2]<<16,this.words[V]|=q<<te&67108863,this.words[V+1]=q>>>26-te&67108863,(te+=24)>=26&&(te-=26,V++);else if(N==="le")for(B=0,V=0;B<I.length;B+=3)q=I[B]|I[B+1]<<8|I[B+2]<<16,this.words[V]|=q<<te&67108863,this.words[V+1]=q>>>26-te&67108863,(te+=24)>=26&&(te-=26,V++);return this.strip()},o.prototype._parseHex=function(I,H,N){this.length=Math.ceil((I.length-H)/6),this.words=new Array(this.length);for(var B=0;B<this.length;B++)this.words[B]=0;var V,q=0,te=0;if(N==="be")for(B=I.length-1;B>=H;B-=2)V=c(I,H,B)<<q,this.words[te]|=67108863&V,q>=18?(q-=18,te+=1,this.words[te]|=V>>>26):q+=8;else for(B=(I.length-H)%2==0?H+1:H;B<I.length;B+=2)V=c(I,H,B)<<q,this.words[te]|=67108863&V,q>=18?(q-=18,te+=1,this.words[te]|=V>>>26):q+=8;this.strip()},o.prototype._parseBase=function(I,H,N){this.words=[0],this.length=1;for(var B=0,V=1;V<=67108863;V*=H)B++;B--,V=V/H|0;for(var q=I.length-N,te=q%B,$=Math.min(q,q-te)+N,K=0,Z=N;Z<$;Z+=B)K=b(I,Z,Z+B,H),this.imuln(V),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K);if(te!==0){var X=1;for(K=b(I,Z,I.length,H),Z=0;Z<te;Z++)X*=H;this.imuln(X),this.words[0]+K<67108864?this.words[0]+=K:this._iaddn(K)}this.strip()},o.prototype.copy=function(I){I.words=new Array(this.length);for(var H=0;H<this.length;H++)I.words[H]=this.words[H];I.length=this.length,I.negative=this.negative,I.red=this.red},o.prototype.clone=function(){var I=new o(null);return this.copy(I),I},o.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(I,H,N){N.negative=H.negative^I.negative;var B=I.length+H.length|0;N.length=B,B=B-1|0;var V=0|I.words[0],q=0|H.words[0],te=V*q,$=67108863&te,K=te/67108864|0;N.words[0]=$;for(var Z=1;Z<B;Z++){for(var X=K>>>26,ee=67108863&K,ne=Math.min(Z,H.length-1),re=Math.max(0,Z-I.length+1);re<=ne;re++){var ae=Z-re|0;X+=(te=(V=0|I.words[ae])*(q=0|H.words[re])+ee)/67108864|0,ee=67108863&te}N.words[Z]=0|ee,K=0|X}return K!==0?N.words[Z]=0|K:N.length--,N.strip()}o.prototype.toString=function(I,H){var N;if(H=0|H||1,(I=I||10)===16||I==="hex"){N="";for(var B=0,V=0,q=0;q<this.length;q++){var te=this.words[q],$=(16777215&(te<<B|V)).toString(16);N=(V=te>>>24-B&16777215)!=0||q!==this.length-1?g[6-$.length]+$+N:$+N,(B+=2)>=26&&(B-=26,q--)}for(V!==0&&(N=V.toString(16)+N);N.length%H!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(I===(0|I)&&I>=2&&I<=36){var K=h[I],Z=x[I];N="";var X=this.clone();for(X.negative=0;!X.isZero();){var ee=X.modn(Z).toString(I);N=(X=X.idivn(Z)).isZero()?ee+N:g[K-ee.length]+ee+N}for(this.isZero()&&(N="0"+N);N.length%H!=0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=67108864*this.words[1]:this.length===3&&this.words[2]===1?I+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(I,H){return n(u!==void 0),this.toArrayLike(u,I,H)},o.prototype.toArray=function(I,H){return this.toArrayLike(Array,I,H)},o.prototype.toArrayLike=function(I,H,N){var B=this.byteLength(),V=N||Math.max(1,B);n(B<=V,"byte array longer than desired length"),n(V>0,"Requested array length <= 0"),this.strip();var q,te,$=H==="le",K=new I(V),Z=this.clone();if($){for(te=0;!Z.isZero();te++)q=Z.andln(255),Z.iushrn(8),K[te]=q;for(;te<V;te++)K[te]=0}else{for(te=0;te<V-B;te++)K[te]=0;for(te=0;!Z.isZero();te++)q=Z.andln(255),Z.iushrn(8),K[V-te-1]=q}return K},Math.clz32?o.prototype._countBits=function(I){return 32-Math.clz32(I)}:o.prototype._countBits=function(I){var H=I,N=0;return H>=4096&&(N+=13,H>>>=13),H>=64&&(N+=7,H>>>=7),H>=8&&(N+=4,H>>>=4),H>=2&&(N+=2,H>>>=2),N+H},o.prototype._zeroBits=function(I){if(I===0)return 26;var H=I,N=0;return!(8191&H)&&(N+=13,H>>>=13),!(127&H)&&(N+=7,H>>>=7),!(15&H)&&(N+=4,H>>>=4),!(3&H)&&(N+=2,H>>>=2),!(1&H)&&N++,N},o.prototype.bitLength=function(){var I=this.words[this.length-1],H=this._countBits(I);return 26*(this.length-1)+H},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,H=0;H<this.length;H++){var N=this._zeroBits(this.words[H]);if(I+=N,N!==26)break}return I},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},o.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var H=0;H<I.length;H++)this.words[H]=this.words[H]|I.words[H];return this.strip()},o.prototype.ior=function(I){return n((this.negative|I.negative)==0),this.iuor(I)},o.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},o.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},o.prototype.iuand=function(I){var H;H=this.length>I.length?I:this;for(var N=0;N<H.length;N++)this.words[N]=this.words[N]&I.words[N];return this.length=H.length,this.strip()},o.prototype.iand=function(I){return n((this.negative|I.negative)==0),this.iuand(I)},o.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},o.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},o.prototype.iuxor=function(I){var H,N;this.length>I.length?(H=this,N=I):(H=I,N=this);for(var B=0;B<N.length;B++)this.words[B]=H.words[B]^N.words[B];if(this!==H)for(;B<H.length;B++)this.words[B]=H.words[B];return this.length=H.length,this.strip()},o.prototype.ixor=function(I){return n((this.negative|I.negative)==0),this.iuxor(I)},o.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},o.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},o.prototype.inotn=function(I){n(typeof I=="number"&&I>=0);var H=0|Math.ceil(I/26),N=I%26;this._expand(H),N>0&&H--;for(var B=0;B<H;B++)this.words[B]=67108863&~this.words[B];return N>0&&(this.words[B]=~this.words[B]&67108863>>26-N),this.strip()},o.prototype.notn=function(I){return this.clone().inotn(I)},o.prototype.setn=function(I,H){n(typeof I=="number"&&I>=0);var N=I/26|0,B=I%26;return this._expand(N+1),this.words[N]=H?this.words[N]|1<<B:this.words[N]&~(1<<B),this.strip()},o.prototype.iadd=function(I){var H,N,B;if(this.negative!==0&&I.negative===0)return this.negative=0,H=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,H=this.isub(I),I.negative=1,H._normSign();this.length>I.length?(N=this,B=I):(N=I,B=this);for(var V=0,q=0;q<B.length;q++)H=(0|N.words[q])+(0|B.words[q])+V,this.words[q]=67108863&H,V=H>>>26;for(;V!==0&&q<N.length;q++)H=(0|N.words[q])+V,this.words[q]=67108863&H,V=H>>>26;if(this.length=N.length,V!==0)this.words[this.length]=V,this.length++;else if(N!==this)for(;q<N.length;q++)this.words[q]=N.words[q];return this},o.prototype.add=function(I){var H;return I.negative!==0&&this.negative===0?(I.negative=0,H=this.sub(I),I.negative^=1,H):I.negative===0&&this.negative!==0?(this.negative=0,H=I.sub(this),this.negative=1,H):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},o.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var H=this.iadd(I);return I.negative=1,H._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var N,B,V=this.cmp(I);if(V===0)return this.negative=0,this.length=1,this.words[0]=0,this;V>0?(N=this,B=I):(N=I,B=this);for(var q=0,te=0;te<B.length;te++)q=(H=(0|N.words[te])-(0|B.words[te])+q)>>26,this.words[te]=67108863&H;for(;q!==0&&te<N.length;te++)q=(H=(0|N.words[te])+q)>>26,this.words[te]=67108863&H;if(q===0&&te<N.length&&N!==this)for(;te<N.length;te++)this.words[te]=N.words[te];return this.length=Math.max(this.length,te),N!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(I){return this.clone().isub(I)};var m=function(I,H,N){var B,V,q,te=I.words,$=H.words,K=N.words,Z=0,X=0|te[0],ee=8191&X,ne=X>>>13,re=0|te[1],ae=8191&re,ue=re>>>13,pe=0|te[2],ge=8191&pe,we=pe>>>13,me=0|te[3],ve=8191&me,Ie=me>>>13,Se=0|te[4],ke=8191&Se,se=Se>>>13,oe=0|te[5],he=8191&oe,Le=oe>>>13,Me=0|te[6],_e=8191&Me,De=Me>>>13,Ne=0|te[7],ce=8191&Ne,Te=Ne>>>13,ye=0|te[8],Oe=8191&ye,Be=ye>>>13,Fe=0|te[9],Ge=8191&Fe,Ze=Fe>>>13,et=0|$[0],ft=8191&et,rt=et>>>13,_t=0|$[1],kt=8191&_t,wt=_t>>>13,lt=0|$[2],ut=8191&lt,Et=lt>>>13,Ot=0|$[3],zt=8191&Ot,Lt=Ot>>>13,Je=0|$[4],Qe=8191&Je,qe=Je>>>13,$e=0|$[5],ct=8191&$e,at=$e>>>13,Re=0|$[6],je=8191&Re,st=Re>>>13,ot=0|$[7],xt=8191&ot,mt=ot>>>13,bt=0|$[8],dt=8191&bt,St=bt>>>13,gt=0|$[9],vt=8191&gt,Mt=gt>>>13;N.negative=I.negative^H.negative,N.length=19;var Bt=(Z+(B=Math.imul(ee,ft))|0)+((8191&(V=(V=Math.imul(ee,rt))+Math.imul(ne,ft)|0))<<13)|0;Z=((q=Math.imul(ne,rt))+(V>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,B=Math.imul(ae,ft),V=(V=Math.imul(ae,rt))+Math.imul(ue,ft)|0,q=Math.imul(ue,rt);var Nt=(Z+(B=B+Math.imul(ee,kt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,wt)|0)+Math.imul(ne,kt)|0))<<13)|0;Z=((q=q+Math.imul(ne,wt)|0)+(V>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,B=Math.imul(ge,ft),V=(V=Math.imul(ge,rt))+Math.imul(we,ft)|0,q=Math.imul(we,rt),B=B+Math.imul(ae,kt)|0,V=(V=V+Math.imul(ae,wt)|0)+Math.imul(ue,kt)|0,q=q+Math.imul(ue,wt)|0;var qt=(Z+(B=B+Math.imul(ee,ut)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Et)|0)+Math.imul(ne,ut)|0))<<13)|0;Z=((q=q+Math.imul(ne,Et)|0)+(V>>>13)|0)+(qt>>>26)|0,qt&=67108863,B=Math.imul(ve,ft),V=(V=Math.imul(ve,rt))+Math.imul(Ie,ft)|0,q=Math.imul(Ie,rt),B=B+Math.imul(ge,kt)|0,V=(V=V+Math.imul(ge,wt)|0)+Math.imul(we,kt)|0,q=q+Math.imul(we,wt)|0,B=B+Math.imul(ae,ut)|0,V=(V=V+Math.imul(ae,Et)|0)+Math.imul(ue,ut)|0,q=q+Math.imul(ue,Et)|0;var an=(Z+(B=B+Math.imul(ee,zt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Lt)|0)+Math.imul(ne,zt)|0))<<13)|0;Z=((q=q+Math.imul(ne,Lt)|0)+(V>>>13)|0)+(an>>>26)|0,an&=67108863,B=Math.imul(ke,ft),V=(V=Math.imul(ke,rt))+Math.imul(se,ft)|0,q=Math.imul(se,rt),B=B+Math.imul(ve,kt)|0,V=(V=V+Math.imul(ve,wt)|0)+Math.imul(Ie,kt)|0,q=q+Math.imul(Ie,wt)|0,B=B+Math.imul(ge,ut)|0,V=(V=V+Math.imul(ge,Et)|0)+Math.imul(we,ut)|0,q=q+Math.imul(we,Et)|0,B=B+Math.imul(ae,zt)|0,V=(V=V+Math.imul(ae,Lt)|0)+Math.imul(ue,zt)|0,q=q+Math.imul(ue,Lt)|0;var Gt=(Z+(B=B+Math.imul(ee,Qe)|0)|0)+((8191&(V=(V=V+Math.imul(ee,qe)|0)+Math.imul(ne,Qe)|0))<<13)|0;Z=((q=q+Math.imul(ne,qe)|0)+(V>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,B=Math.imul(he,ft),V=(V=Math.imul(he,rt))+Math.imul(Le,ft)|0,q=Math.imul(Le,rt),B=B+Math.imul(ke,kt)|0,V=(V=V+Math.imul(ke,wt)|0)+Math.imul(se,kt)|0,q=q+Math.imul(se,wt)|0,B=B+Math.imul(ve,ut)|0,V=(V=V+Math.imul(ve,Et)|0)+Math.imul(Ie,ut)|0,q=q+Math.imul(Ie,Et)|0,B=B+Math.imul(ge,zt)|0,V=(V=V+Math.imul(ge,Lt)|0)+Math.imul(we,zt)|0,q=q+Math.imul(we,Lt)|0,B=B+Math.imul(ae,Qe)|0,V=(V=V+Math.imul(ae,qe)|0)+Math.imul(ue,Qe)|0,q=q+Math.imul(ue,qe)|0;var Yt=(Z+(B=B+Math.imul(ee,ct)|0)|0)+((8191&(V=(V=V+Math.imul(ee,at)|0)+Math.imul(ne,ct)|0))<<13)|0;Z=((q=q+Math.imul(ne,at)|0)+(V>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,B=Math.imul(_e,ft),V=(V=Math.imul(_e,rt))+Math.imul(De,ft)|0,q=Math.imul(De,rt),B=B+Math.imul(he,kt)|0,V=(V=V+Math.imul(he,wt)|0)+Math.imul(Le,kt)|0,q=q+Math.imul(Le,wt)|0,B=B+Math.imul(ke,ut)|0,V=(V=V+Math.imul(ke,Et)|0)+Math.imul(se,ut)|0,q=q+Math.imul(se,Et)|0,B=B+Math.imul(ve,zt)|0,V=(V=V+Math.imul(ve,Lt)|0)+Math.imul(Ie,zt)|0,q=q+Math.imul(Ie,Lt)|0,B=B+Math.imul(ge,Qe)|0,V=(V=V+Math.imul(ge,qe)|0)+Math.imul(we,Qe)|0,q=q+Math.imul(we,qe)|0,B=B+Math.imul(ae,ct)|0,V=(V=V+Math.imul(ae,at)|0)+Math.imul(ue,ct)|0,q=q+Math.imul(ue,at)|0;var en=(Z+(B=B+Math.imul(ee,je)|0)|0)+((8191&(V=(V=V+Math.imul(ee,st)|0)+Math.imul(ne,je)|0))<<13)|0;Z=((q=q+Math.imul(ne,st)|0)+(V>>>13)|0)+(en>>>26)|0,en&=67108863,B=Math.imul(ce,ft),V=(V=Math.imul(ce,rt))+Math.imul(Te,ft)|0,q=Math.imul(Te,rt),B=B+Math.imul(_e,kt)|0,V=(V=V+Math.imul(_e,wt)|0)+Math.imul(De,kt)|0,q=q+Math.imul(De,wt)|0,B=B+Math.imul(he,ut)|0,V=(V=V+Math.imul(he,Et)|0)+Math.imul(Le,ut)|0,q=q+Math.imul(Le,Et)|0,B=B+Math.imul(ke,zt)|0,V=(V=V+Math.imul(ke,Lt)|0)+Math.imul(se,zt)|0,q=q+Math.imul(se,Lt)|0,B=B+Math.imul(ve,Qe)|0,V=(V=V+Math.imul(ve,qe)|0)+Math.imul(Ie,Qe)|0,q=q+Math.imul(Ie,qe)|0,B=B+Math.imul(ge,ct)|0,V=(V=V+Math.imul(ge,at)|0)+Math.imul(we,ct)|0,q=q+Math.imul(we,at)|0,B=B+Math.imul(ae,je)|0,V=(V=V+Math.imul(ae,st)|0)+Math.imul(ue,je)|0,q=q+Math.imul(ue,st)|0;var bn=(Z+(B=B+Math.imul(ee,xt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,mt)|0)+Math.imul(ne,xt)|0))<<13)|0;Z=((q=q+Math.imul(ne,mt)|0)+(V>>>13)|0)+(bn>>>26)|0,bn&=67108863,B=Math.imul(Oe,ft),V=(V=Math.imul(Oe,rt))+Math.imul(Be,ft)|0,q=Math.imul(Be,rt),B=B+Math.imul(ce,kt)|0,V=(V=V+Math.imul(ce,wt)|0)+Math.imul(Te,kt)|0,q=q+Math.imul(Te,wt)|0,B=B+Math.imul(_e,ut)|0,V=(V=V+Math.imul(_e,Et)|0)+Math.imul(De,ut)|0,q=q+Math.imul(De,Et)|0,B=B+Math.imul(he,zt)|0,V=(V=V+Math.imul(he,Lt)|0)+Math.imul(Le,zt)|0,q=q+Math.imul(Le,Lt)|0,B=B+Math.imul(ke,Qe)|0,V=(V=V+Math.imul(ke,qe)|0)+Math.imul(se,Qe)|0,q=q+Math.imul(se,qe)|0,B=B+Math.imul(ve,ct)|0,V=(V=V+Math.imul(ve,at)|0)+Math.imul(Ie,ct)|0,q=q+Math.imul(Ie,at)|0,B=B+Math.imul(ge,je)|0,V=(V=V+Math.imul(ge,st)|0)+Math.imul(we,je)|0,q=q+Math.imul(we,st)|0,B=B+Math.imul(ae,xt)|0,V=(V=V+Math.imul(ae,mt)|0)+Math.imul(ue,xt)|0,q=q+Math.imul(ue,mt)|0;var On=(Z+(B=B+Math.imul(ee,dt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,St)|0)+Math.imul(ne,dt)|0))<<13)|0;Z=((q=q+Math.imul(ne,St)|0)+(V>>>13)|0)+(On>>>26)|0,On&=67108863,B=Math.imul(Ge,ft),V=(V=Math.imul(Ge,rt))+Math.imul(Ze,ft)|0,q=Math.imul(Ze,rt),B=B+Math.imul(Oe,kt)|0,V=(V=V+Math.imul(Oe,wt)|0)+Math.imul(Be,kt)|0,q=q+Math.imul(Be,wt)|0,B=B+Math.imul(ce,ut)|0,V=(V=V+Math.imul(ce,Et)|0)+Math.imul(Te,ut)|0,q=q+Math.imul(Te,Et)|0,B=B+Math.imul(_e,zt)|0,V=(V=V+Math.imul(_e,Lt)|0)+Math.imul(De,zt)|0,q=q+Math.imul(De,Lt)|0,B=B+Math.imul(he,Qe)|0,V=(V=V+Math.imul(he,qe)|0)+Math.imul(Le,Qe)|0,q=q+Math.imul(Le,qe)|0,B=B+Math.imul(ke,ct)|0,V=(V=V+Math.imul(ke,at)|0)+Math.imul(se,ct)|0,q=q+Math.imul(se,at)|0,B=B+Math.imul(ve,je)|0,V=(V=V+Math.imul(ve,st)|0)+Math.imul(Ie,je)|0,q=q+Math.imul(Ie,st)|0,B=B+Math.imul(ge,xt)|0,V=(V=V+Math.imul(ge,mt)|0)+Math.imul(we,xt)|0,q=q+Math.imul(we,mt)|0,B=B+Math.imul(ae,dt)|0,V=(V=V+Math.imul(ae,St)|0)+Math.imul(ue,dt)|0,q=q+Math.imul(ue,St)|0;var gn=(Z+(B=B+Math.imul(ee,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ee,Mt)|0)+Math.imul(ne,vt)|0))<<13)|0;Z=((q=q+Math.imul(ne,Mt)|0)+(V>>>13)|0)+(gn>>>26)|0,gn&=67108863,B=Math.imul(Ge,kt),V=(V=Math.imul(Ge,wt))+Math.imul(Ze,kt)|0,q=Math.imul(Ze,wt),B=B+Math.imul(Oe,ut)|0,V=(V=V+Math.imul(Oe,Et)|0)+Math.imul(Be,ut)|0,q=q+Math.imul(Be,Et)|0,B=B+Math.imul(ce,zt)|0,V=(V=V+Math.imul(ce,Lt)|0)+Math.imul(Te,zt)|0,q=q+Math.imul(Te,Lt)|0,B=B+Math.imul(_e,Qe)|0,V=(V=V+Math.imul(_e,qe)|0)+Math.imul(De,Qe)|0,q=q+Math.imul(De,qe)|0,B=B+Math.imul(he,ct)|0,V=(V=V+Math.imul(he,at)|0)+Math.imul(Le,ct)|0,q=q+Math.imul(Le,at)|0,B=B+Math.imul(ke,je)|0,V=(V=V+Math.imul(ke,st)|0)+Math.imul(se,je)|0,q=q+Math.imul(se,st)|0,B=B+Math.imul(ve,xt)|0,V=(V=V+Math.imul(ve,mt)|0)+Math.imul(Ie,xt)|0,q=q+Math.imul(Ie,mt)|0,B=B+Math.imul(ge,dt)|0,V=(V=V+Math.imul(ge,St)|0)+Math.imul(we,dt)|0,q=q+Math.imul(we,St)|0;var Xt=(Z+(B=B+Math.imul(ae,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ae,Mt)|0)+Math.imul(ue,vt)|0))<<13)|0;Z=((q=q+Math.imul(ue,Mt)|0)+(V>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,B=Math.imul(Ge,ut),V=(V=Math.imul(Ge,Et))+Math.imul(Ze,ut)|0,q=Math.imul(Ze,Et),B=B+Math.imul(Oe,zt)|0,V=(V=V+Math.imul(Oe,Lt)|0)+Math.imul(Be,zt)|0,q=q+Math.imul(Be,Lt)|0,B=B+Math.imul(ce,Qe)|0,V=(V=V+Math.imul(ce,qe)|0)+Math.imul(Te,Qe)|0,q=q+Math.imul(Te,qe)|0,B=B+Math.imul(_e,ct)|0,V=(V=V+Math.imul(_e,at)|0)+Math.imul(De,ct)|0,q=q+Math.imul(De,at)|0,B=B+Math.imul(he,je)|0,V=(V=V+Math.imul(he,st)|0)+Math.imul(Le,je)|0,q=q+Math.imul(Le,st)|0,B=B+Math.imul(ke,xt)|0,V=(V=V+Math.imul(ke,mt)|0)+Math.imul(se,xt)|0,q=q+Math.imul(se,mt)|0,B=B+Math.imul(ve,dt)|0,V=(V=V+Math.imul(ve,St)|0)+Math.imul(Ie,dt)|0,q=q+Math.imul(Ie,St)|0;var ln=(Z+(B=B+Math.imul(ge,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ge,Mt)|0)+Math.imul(we,vt)|0))<<13)|0;Z=((q=q+Math.imul(we,Mt)|0)+(V>>>13)|0)+(ln>>>26)|0,ln&=67108863,B=Math.imul(Ge,zt),V=(V=Math.imul(Ge,Lt))+Math.imul(Ze,zt)|0,q=Math.imul(Ze,Lt),B=B+Math.imul(Oe,Qe)|0,V=(V=V+Math.imul(Oe,qe)|0)+Math.imul(Be,Qe)|0,q=q+Math.imul(Be,qe)|0,B=B+Math.imul(ce,ct)|0,V=(V=V+Math.imul(ce,at)|0)+Math.imul(Te,ct)|0,q=q+Math.imul(Te,at)|0,B=B+Math.imul(_e,je)|0,V=(V=V+Math.imul(_e,st)|0)+Math.imul(De,je)|0,q=q+Math.imul(De,st)|0,B=B+Math.imul(he,xt)|0,V=(V=V+Math.imul(he,mt)|0)+Math.imul(Le,xt)|0,q=q+Math.imul(Le,mt)|0,B=B+Math.imul(ke,dt)|0,V=(V=V+Math.imul(ke,St)|0)+Math.imul(se,dt)|0,q=q+Math.imul(se,St)|0;var nn=(Z+(B=B+Math.imul(ve,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ve,Mt)|0)+Math.imul(Ie,vt)|0))<<13)|0;Z=((q=q+Math.imul(Ie,Mt)|0)+(V>>>13)|0)+(nn>>>26)|0,nn&=67108863,B=Math.imul(Ge,Qe),V=(V=Math.imul(Ge,qe))+Math.imul(Ze,Qe)|0,q=Math.imul(Ze,qe),B=B+Math.imul(Oe,ct)|0,V=(V=V+Math.imul(Oe,at)|0)+Math.imul(Be,ct)|0,q=q+Math.imul(Be,at)|0,B=B+Math.imul(ce,je)|0,V=(V=V+Math.imul(ce,st)|0)+Math.imul(Te,je)|0,q=q+Math.imul(Te,st)|0,B=B+Math.imul(_e,xt)|0,V=(V=V+Math.imul(_e,mt)|0)+Math.imul(De,xt)|0,q=q+Math.imul(De,mt)|0,B=B+Math.imul(he,dt)|0,V=(V=V+Math.imul(he,St)|0)+Math.imul(Le,dt)|0,q=q+Math.imul(Le,St)|0;var hn=(Z+(B=B+Math.imul(ke,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ke,Mt)|0)+Math.imul(se,vt)|0))<<13)|0;Z=((q=q+Math.imul(se,Mt)|0)+(V>>>13)|0)+(hn>>>26)|0,hn&=67108863,B=Math.imul(Ge,ct),V=(V=Math.imul(Ge,at))+Math.imul(Ze,ct)|0,q=Math.imul(Ze,at),B=B+Math.imul(Oe,je)|0,V=(V=V+Math.imul(Oe,st)|0)+Math.imul(Be,je)|0,q=q+Math.imul(Be,st)|0,B=B+Math.imul(ce,xt)|0,V=(V=V+Math.imul(ce,mt)|0)+Math.imul(Te,xt)|0,q=q+Math.imul(Te,mt)|0,B=B+Math.imul(_e,dt)|0,V=(V=V+Math.imul(_e,St)|0)+Math.imul(De,dt)|0,q=q+Math.imul(De,St)|0;var mn=(Z+(B=B+Math.imul(he,vt)|0)|0)+((8191&(V=(V=V+Math.imul(he,Mt)|0)+Math.imul(Le,vt)|0))<<13)|0;Z=((q=q+Math.imul(Le,Mt)|0)+(V>>>13)|0)+(mn>>>26)|0,mn&=67108863,B=Math.imul(Ge,je),V=(V=Math.imul(Ge,st))+Math.imul(Ze,je)|0,q=Math.imul(Ze,st),B=B+Math.imul(Oe,xt)|0,V=(V=V+Math.imul(Oe,mt)|0)+Math.imul(Be,xt)|0,q=q+Math.imul(Be,mt)|0,B=B+Math.imul(ce,dt)|0,V=(V=V+Math.imul(ce,St)|0)+Math.imul(Te,dt)|0,q=q+Math.imul(Te,St)|0;var Mn=(Z+(B=B+Math.imul(_e,vt)|0)|0)+((8191&(V=(V=V+Math.imul(_e,Mt)|0)+Math.imul(De,vt)|0))<<13)|0;Z=((q=q+Math.imul(De,Mt)|0)+(V>>>13)|0)+(Mn>>>26)|0,Mn&=67108863,B=Math.imul(Ge,xt),V=(V=Math.imul(Ge,mt))+Math.imul(Ze,xt)|0,q=Math.imul(Ze,mt),B=B+Math.imul(Oe,dt)|0,V=(V=V+Math.imul(Oe,St)|0)+Math.imul(Be,dt)|0,q=q+Math.imul(Be,St)|0;var Tn=(Z+(B=B+Math.imul(ce,vt)|0)|0)+((8191&(V=(V=V+Math.imul(ce,Mt)|0)+Math.imul(Te,vt)|0))<<13)|0;Z=((q=q+Math.imul(Te,Mt)|0)+(V>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,B=Math.imul(Ge,dt),V=(V=Math.imul(Ge,St))+Math.imul(Ze,dt)|0,q=Math.imul(Ze,St);var Pn=(Z+(B=B+Math.imul(Oe,vt)|0)|0)+((8191&(V=(V=V+Math.imul(Oe,Mt)|0)+Math.imul(Be,vt)|0))<<13)|0;Z=((q=q+Math.imul(Be,Mt)|0)+(V>>>13)|0)+(Pn>>>26)|0,Pn&=67108863;var yn=(Z+(B=Math.imul(Ge,vt))|0)+((8191&(V=(V=Math.imul(Ge,Mt))+Math.imul(Ze,vt)|0))<<13)|0;return Z=((q=Math.imul(Ze,Mt))+(V>>>13)|0)+(yn>>>26)|0,yn&=67108863,K[0]=Bt,K[1]=Nt,K[2]=qt,K[3]=an,K[4]=Gt,K[5]=Yt,K[6]=en,K[7]=bn,K[8]=On,K[9]=gn,K[10]=Xt,K[11]=ln,K[12]=nn,K[13]=hn,K[14]=mn,K[15]=Mn,K[16]=Tn,K[17]=Pn,K[18]=yn,Z!==0&&(K[19]=Z,N.length++),N};function w(I,H,N){return new f().mulp(I,H,N)}function f(I,H){this.x=I,this.y=H}Math.imul||(m=v),o.prototype.mulTo=function(I,H){var N,B=this.length+I.length;return N=this.length===10&&I.length===10?m(this,I,H):B<63?v(this,I,H):B<1024?function(V,q,te){te.negative=q.negative^V.negative,te.length=V.length+q.length;for(var $=0,K=0,Z=0;Z<te.length-1;Z++){var X=K;K=0;for(var ee=67108863&$,ne=Math.min(Z,q.length-1),re=Math.max(0,Z-V.length+1);re<=ne;re++){var ae=Z-re,ue=(0|V.words[ae])*(0|q.words[re]),pe=67108863&ue;ee=67108863&(pe=pe+ee|0),K+=(X=(X=X+(ue/67108864|0)|0)+(pe>>>26)|0)>>>26,X&=67108863}te.words[Z]=ee,$=X,X=K}return $!==0?te.words[Z]=$:te.length--,te.strip()}(this,I,H):w(this,I,H),N},f.prototype.makeRBT=function(I){for(var H=new Array(I),N=o.prototype._countBits(I)-1,B=0;B<I;B++)H[B]=this.revBin(B,N,I);return H},f.prototype.revBin=function(I,H,N){if(I===0||I===N-1)return I;for(var B=0,V=0;V<H;V++)B|=(1&I)<<H-V-1,I>>=1;return B},f.prototype.permute=function(I,H,N,B,V,q){for(var te=0;te<q;te++)B[te]=H[I[te]],V[te]=N[I[te]]},f.prototype.transform=function(I,H,N,B,V,q){this.permute(q,I,H,N,B,V);for(var te=1;te<V;te<<=1)for(var $=te<<1,K=Math.cos(2*Math.PI/$),Z=Math.sin(2*Math.PI/$),X=0;X<V;X+=$)for(var ee=K,ne=Z,re=0;re<te;re++){var ae=N[X+re],ue=B[X+re],pe=N[X+re+te],ge=B[X+re+te],we=ee*pe-ne*ge;ge=ee*ge+ne*pe,pe=we,N[X+re]=ae+pe,B[X+re]=ue+ge,N[X+re+te]=ae-pe,B[X+re+te]=ue-ge,re!==$&&(we=K*ee-Z*ne,ne=K*ne+Z*ee,ee=we)}},f.prototype.guessLen13b=function(I,H){var N=1|Math.max(H,I),B=1&N,V=0;for(N=N/2|0;N;N>>>=1)V++;return 1<<V+1+B},f.prototype.conjugate=function(I,H,N){if(!(N<=1))for(var B=0;B<N/2;B++){var V=I[B];I[B]=I[N-B-1],I[N-B-1]=V,V=H[B],H[B]=-H[N-B-1],H[N-B-1]=-V}},f.prototype.normalize13b=function(I,H){for(var N=0,B=0;B<H/2;B++){var V=8192*Math.round(I[2*B+1]/H)+Math.round(I[2*B]/H)+N;I[B]=67108863&V,N=V<67108864?0:V/67108864|0}return I},f.prototype.convert13b=function(I,H,N,B){for(var V=0,q=0;q<H;q++)V+=0|I[q],N[2*q]=8191&V,V>>>=13,N[2*q+1]=8191&V,V>>>=13;for(q=2*H;q<B;++q)N[q]=0;n(V===0),n((-8192&V)==0)},f.prototype.stub=function(I){for(var H=new Array(I),N=0;N<I;N++)H[N]=0;return H},f.prototype.mulp=function(I,H,N){var B=2*this.guessLen13b(I.length,H.length),V=this.makeRBT(B),q=this.stub(B),te=new Array(B),$=new Array(B),K=new Array(B),Z=new Array(B),X=new Array(B),ee=new Array(B),ne=N.words;ne.length=B,this.convert13b(I.words,I.length,te,B),this.convert13b(H.words,H.length,Z,B),this.transform(te,q,$,K,B,V),this.transform(Z,q,X,ee,B,V);for(var re=0;re<B;re++){var ae=$[re]*X[re]-K[re]*ee[re];K[re]=$[re]*ee[re]+K[re]*X[re],$[re]=ae}return this.conjugate($,K,B),this.transform($,K,ne,q,B,V),this.conjugate(ne,q,B),this.normalize13b(ne,B),N.negative=I.negative^H.negative,N.length=I.length+H.length,N.strip()},o.prototype.mul=function(I){var H=new o(null);return H.words=new Array(this.length+I.length),this.mulTo(I,H)},o.prototype.mulf=function(I){var H=new o(null);return H.words=new Array(this.length+I.length),w(this,I,H)},o.prototype.imul=function(I){return this.clone().mulTo(I,this)},o.prototype.imuln=function(I){n(typeof I=="number"),n(I<67108864);for(var H=0,N=0;N<this.length;N++){var B=(0|this.words[N])*I,V=(67108863&B)+(67108863&H);H>>=26,H+=B/67108864|0,H+=V>>>26,this.words[N]=67108863&V}return H!==0&&(this.words[N]=H,this.length++),this},o.prototype.muln=function(I){return this.clone().imuln(I)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(I){var H=function(q){for(var te=new Array(q.bitLength()),$=0;$<te.length;$++){var K=$/26|0,Z=$%26;te[$]=(q.words[K]&1<<Z)>>>Z}return te}(I);if(H.length===0)return new o(1);for(var N=this,B=0;B<H.length&&H[B]===0;B++,N=N.sqr());if(++B<H.length)for(var V=N.sqr();B<H.length;B++,V=V.sqr())H[B]!==0&&(N=N.mul(V));return N},o.prototype.iushln=function(I){n(typeof I=="number"&&I>=0);var H,N=I%26,B=(I-N)/26,V=67108863>>>26-N<<26-N;if(N!==0){var q=0;for(H=0;H<this.length;H++){var te=this.words[H]&V,$=(0|this.words[H])-te<<N;this.words[H]=$|q,q=te>>>26-N}q&&(this.words[H]=q,this.length++)}if(B!==0){for(H=this.length-1;H>=0;H--)this.words[H+B]=this.words[H];for(H=0;H<B;H++)this.words[H]=0;this.length+=B}return this.strip()},o.prototype.ishln=function(I){return n(this.negative===0),this.iushln(I)},o.prototype.iushrn=function(I,H,N){var B;n(typeof I=="number"&&I>=0),B=H?(H-H%26)/26:0;var V=I%26,q=Math.min((I-V)/26,this.length),te=67108863^67108863>>>V<<V,$=N;if(B-=q,B=Math.max(0,B),$){for(var K=0;K<q;K++)$.words[K]=this.words[K];$.length=q}if(q!==0)if(this.length>q)for(this.length-=q,K=0;K<this.length;K++)this.words[K]=this.words[K+q];else this.words[0]=0,this.length=1;var Z=0;for(K=this.length-1;K>=0&&(Z!==0||K>=B);K--){var X=0|this.words[K];this.words[K]=Z<<26-V|X>>>V,Z=X&te}return $&&Z!==0&&($.words[$.length++]=Z),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(I,H,N){return n(this.negative===0),this.iushrn(I,H,N)},o.prototype.shln=function(I){return this.clone().ishln(I)},o.prototype.ushln=function(I){return this.clone().iushln(I)},o.prototype.shrn=function(I){return this.clone().ishrn(I)},o.prototype.ushrn=function(I){return this.clone().iushrn(I)},o.prototype.testn=function(I){n(typeof I=="number"&&I>=0);var H=I%26,N=(I-H)/26,B=1<<H;return!(this.length<=N||!(this.words[N]&B))},o.prototype.imaskn=function(I){n(typeof I=="number"&&I>=0);var H=I%26,N=(I-H)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(H!==0&&N++,this.length=Math.min(N,this.length),H!==0){var B=67108863^67108863>>>H<<H;this.words[this.length-1]&=B}return this.strip()},o.prototype.maskn=function(I){return this.clone().imaskn(I)},o.prototype.iaddn=function(I){return n(typeof I=="number"),n(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(0|this.words[0])<I?(this.words[0]=I-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},o.prototype._iaddn=function(I){this.words[0]+=I;for(var H=0;H<this.length&&this.words[H]>=67108864;H++)this.words[H]-=67108864,H===this.length-1?this.words[H+1]=1:this.words[H+1]++;return this.length=Math.max(this.length,H+1),this},o.prototype.isubn=function(I){if(n(typeof I=="number"),n(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var H=0;H<this.length&&this.words[H]<0;H++)this.words[H]+=67108864,this.words[H+1]-=1;return this.strip()},o.prototype.addn=function(I){return this.clone().iaddn(I)},o.prototype.subn=function(I){return this.clone().isubn(I)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(I,H,N){var B,V,q=I.length+N;this._expand(q);var te=0;for(B=0;B<I.length;B++){V=(0|this.words[B+N])+te;var $=(0|I.words[B])*H;te=((V-=67108863&$)>>26)-($/67108864|0),this.words[B+N]=67108863&V}for(;B<this.length-N;B++)te=(V=(0|this.words[B+N])+te)>>26,this.words[B+N]=67108863&V;if(te===0)return this.strip();for(n(te===-1),te=0,B=0;B<this.length;B++)te=(V=-(0|this.words[B])+te)>>26,this.words[B]=67108863&V;return this.negative=1,this.strip()},o.prototype._wordDiv=function(I,H){var N=(this.length,I.length),B=this.clone(),V=I,q=0|V.words[V.length-1];(N=26-this._countBits(q))!=0&&(V=V.ushln(N),B.iushln(N),q=0|V.words[V.length-1]);var te,$=B.length-V.length;if(H!=="mod"){(te=new o(null)).length=$+1,te.words=new Array(te.length);for(var K=0;K<te.length;K++)te.words[K]=0}var Z=B.clone()._ishlnsubmul(V,1,$);Z.negative===0&&(B=Z,te&&(te.words[$]=1));for(var X=$-1;X>=0;X--){var ee=67108864*(0|B.words[V.length+X])+(0|B.words[V.length+X-1]);for(ee=Math.min(ee/q|0,67108863),B._ishlnsubmul(V,ee,X);B.negative!==0;)ee--,B.negative=0,B._ishlnsubmul(V,1,X),B.isZero()||(B.negative^=1);te&&(te.words[X]=ee)}return te&&te.strip(),B.strip(),H!=="div"&&N!==0&&B.iushrn(N),{div:te||null,mod:B}},o.prototype.divmod=function(I,H,N){return n(!I.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&I.negative===0?(q=this.neg().divmod(I,H),H!=="mod"&&(B=q.div.neg()),H!=="div"&&(V=q.mod.neg(),N&&V.negative!==0&&V.iadd(I)),{div:B,mod:V}):this.negative===0&&I.negative!==0?(q=this.divmod(I.neg(),H),H!=="mod"&&(B=q.div.neg()),{div:B,mod:q.mod}):this.negative&I.negative?(q=this.neg().divmod(I.neg(),H),H!=="div"&&(V=q.mod.neg(),N&&V.negative!==0&&V.isub(I)),{div:q.div,mod:V}):I.length>this.length||this.cmp(I)<0?{div:new o(0),mod:this}:I.length===1?H==="div"?{div:this.divn(I.words[0]),mod:null}:H==="mod"?{div:null,mod:new o(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new o(this.modn(I.words[0]))}:this._wordDiv(I,H);var B,V,q},o.prototype.div=function(I){return this.divmod(I,"div",!1).div},o.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},o.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},o.prototype.divRound=function(I){var H=this.divmod(I);if(H.mod.isZero())return H.div;var N=H.div.negative!==0?H.mod.isub(I):H.mod,B=I.ushrn(1),V=I.andln(1),q=N.cmp(B);return q<0||V===1&&q===0?H.div:H.div.negative!==0?H.div.isubn(1):H.div.iaddn(1)},o.prototype.modn=function(I){n(I<=67108863);for(var H=67108864%I,N=0,B=this.length-1;B>=0;B--)N=(H*N+(0|this.words[B]))%I;return N},o.prototype.idivn=function(I){n(I<=67108863);for(var H=0,N=this.length-1;N>=0;N--){var B=(0|this.words[N])+67108864*H;this.words[N]=B/I|0,H=B%I}return this.strip()},o.prototype.divn=function(I){return this.clone().idivn(I)},o.prototype.egcd=function(I){n(I.negative===0),n(!I.isZero());var H=this,N=I.clone();H=H.negative!==0?H.umod(I):H.clone();for(var B=new o(1),V=new o(0),q=new o(0),te=new o(1),$=0;H.isEven()&&N.isEven();)H.iushrn(1),N.iushrn(1),++$;for(var K=N.clone(),Z=H.clone();!H.isZero();){for(var X=0,ee=1;!(H.words[0]&ee)&&X<26;++X,ee<<=1);if(X>0)for(H.iushrn(X);X-- >0;)(B.isOdd()||V.isOdd())&&(B.iadd(K),V.isub(Z)),B.iushrn(1),V.iushrn(1);for(var ne=0,re=1;!(N.words[0]&re)&&ne<26;++ne,re<<=1);if(ne>0)for(N.iushrn(ne);ne-- >0;)(q.isOdd()||te.isOdd())&&(q.iadd(K),te.isub(Z)),q.iushrn(1),te.iushrn(1);H.cmp(N)>=0?(H.isub(N),B.isub(q),V.isub(te)):(N.isub(H),q.isub(B),te.isub(V))}return{a:q,b:te,gcd:N.iushln($)}},o.prototype._invmp=function(I){n(I.negative===0),n(!I.isZero());var H=this,N=I.clone();H=H.negative!==0?H.umod(I):H.clone();for(var B,V=new o(1),q=new o(0),te=N.clone();H.cmpn(1)>0&&N.cmpn(1)>0;){for(var $=0,K=1;!(H.words[0]&K)&&$<26;++$,K<<=1);if($>0)for(H.iushrn($);$-- >0;)V.isOdd()&&V.iadd(te),V.iushrn(1);for(var Z=0,X=1;!(N.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(N.iushrn(Z);Z-- >0;)q.isOdd()&&q.iadd(te),q.iushrn(1);H.cmp(N)>=0?(H.isub(N),V.isub(q)):(N.isub(H),q.isub(V))}return(B=H.cmpn(1)===0?V:q).cmpn(0)<0&&B.iadd(I),B},o.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var H=this.clone(),N=I.clone();H.negative=0,N.negative=0;for(var B=0;H.isEven()&&N.isEven();B++)H.iushrn(1),N.iushrn(1);for(;;){for(;H.isEven();)H.iushrn(1);for(;N.isEven();)N.iushrn(1);var V=H.cmp(N);if(V<0){var q=H;H=N,N=q}else if(V===0||N.cmpn(1)===0)break;H.isub(N)}return N.iushln(B)},o.prototype.invm=function(I){return this.egcd(I).a.umod(I)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(I){return this.words[0]&I},o.prototype.bincn=function(I){n(typeof I=="number");var H=I%26,N=(I-H)/26,B=1<<H;if(this.length<=N)return this._expand(N+1),this.words[N]|=B,this;for(var V=B,q=N;V!==0&&q<this.length;q++){var te=0|this.words[q];V=(te+=V)>>>26,te&=67108863,this.words[q]=te}return V!==0&&(this.words[q]=V,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(I){var H,N=I<0;if(this.negative!==0&&!N)return-1;if(this.negative===0&&N)return 1;if(this.strip(),this.length>1)H=1;else{N&&(I=-I),n(I<=67108863,"Number is too big");var B=0|this.words[0];H=B===I?0:B<I?-1:1}return this.negative!==0?0|-H:H},o.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var H=this.ucmp(I);return this.negative!==0?0|-H:H},o.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var H=0,N=this.length-1;N>=0;N--){var B=0|this.words[N],V=0|I.words[N];if(B!==V){B<V?H=-1:B>V&&(H=1);break}}return H},o.prototype.gtn=function(I){return this.cmpn(I)===1},o.prototype.gt=function(I){return this.cmp(I)===1},o.prototype.gten=function(I){return this.cmpn(I)>=0},o.prototype.gte=function(I){return this.cmp(I)>=0},o.prototype.ltn=function(I){return this.cmpn(I)===-1},o.prototype.lt=function(I){return this.cmp(I)===-1},o.prototype.lten=function(I){return this.cmpn(I)<=0},o.prototype.lte=function(I){return this.cmp(I)<=0},o.prototype.eqn=function(I){return this.cmpn(I)===0},o.prototype.eq=function(I){return this.cmp(I)===0},o.red=function(I){return new R(I)},o.prototype.toRed=function(I){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(I){return this.red=I,this},o.prototype.forceRed=function(I){return n(!this.red,"Already a number in reduction context"),this._forceRed(I)},o.prototype.redAdd=function(I){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},o.prototype.redIAdd=function(I){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},o.prototype.redSub=function(I){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},o.prototype.redISub=function(I){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},o.prototype.redShl=function(I){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},o.prototype.redMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},o.prototype.redIMul=function(I){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(I){return n(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var S={k256:null,p224:null,p192:null,p25519:null};function T(I,H){this.name=I,this.p=new o(H,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function E(){T.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function L(){T.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function C(){T.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P(){T.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(I){if(typeof I=="string"){var H=o._prime(I);this.m=H.p,this.prime=H}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}function G(I){R.call(this,I),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}T.prototype._tmp=function(){var I=new o(null);return I.words=new Array(Math.ceil(this.n/13)),I},T.prototype.ireduce=function(I){var H,N=I;do this.split(N,this.tmp),H=(N=(N=this.imulK(N)).iadd(this.tmp)).bitLength();while(H>this.n);var B=H<this.n?-1:N.ucmp(this.p);return B===0?(N.words[0]=0,N.length=1):B>0?N.isub(this.p):N.strip!==void 0?N.strip():N._strip(),N},T.prototype.split=function(I,H){I.iushrn(this.n,0,H)},T.prototype.imulK=function(I){return I.imul(this.k)},l(E,T),E.prototype.split=function(I,H){for(var N=4194303,B=Math.min(I.length,9),V=0;V<B;V++)H.words[V]=I.words[V];if(H.length=B,I.length<=9)return I.words[0]=0,void(I.length=1);var q=I.words[9];for(H.words[H.length++]=q&N,V=10;V<I.length;V++){var te=0|I.words[V];I.words[V-10]=(te&N)<<4|q>>>22,q=te}q>>>=22,I.words[V-10]=q,q===0&&I.length>10?I.length-=10:I.length-=9},E.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var H=0,N=0;N<I.length;N++){var B=0|I.words[N];H+=977*B,I.words[N]=67108863&H,H=64*B+(H/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I},l(L,T),l(C,T),l(P,T),P.prototype.imulK=function(I){for(var H=0,N=0;N<I.length;N++){var B=19*(0|I.words[N])+H,V=67108863&B;B>>>=26,I.words[N]=V,H=B}return H!==0&&(I.words[I.length++]=H),I},o._prime=function(I){if(S[I])return S[I];var H;if(I==="k256")H=new E;else if(I==="p224")H=new L;else if(I==="p192")H=new C;else{if(I!=="p25519")throw new Error("Unknown prime "+I);H=new P}return S[I]=H,H},R.prototype._verify1=function(I){n(I.negative===0,"red works only with positives"),n(I.red,"red works only with red numbers")},R.prototype._verify2=function(I,H){n((I.negative|H.negative)==0,"red works only with positives"),n(I.red&&I.red===H.red,"red works only with red numbers")},R.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},R.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},R.prototype.add=function(I,H){this._verify2(I,H);var N=I.add(H);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},R.prototype.iadd=function(I,H){this._verify2(I,H);var N=I.iadd(H);return N.cmp(this.m)>=0&&N.isub(this.m),N},R.prototype.sub=function(I,H){this._verify2(I,H);var N=I.sub(H);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},R.prototype.isub=function(I,H){this._verify2(I,H);var N=I.isub(H);return N.cmpn(0)<0&&N.iadd(this.m),N},R.prototype.shl=function(I,H){return this._verify1(I),this.imod(I.ushln(H))},R.prototype.imul=function(I,H){return this._verify2(I,H),this.imod(I.imul(H))},R.prototype.mul=function(I,H){return this._verify2(I,H),this.imod(I.mul(H))},R.prototype.isqr=function(I){return this.imul(I,I.clone())},R.prototype.sqr=function(I){return this.mul(I,I)},R.prototype.sqrt=function(I){if(I.isZero())return I.clone();var H=this.m.andln(3);if(n(H%2==1),H===3){var N=this.m.add(new o(1)).iushrn(2);return this.pow(I,N)}for(var B=this.m.subn(1),V=0;!B.isZero()&&B.andln(1)===0;)V++,B.iushrn(1);n(!B.isZero());var q=new o(1).toRed(this),te=q.redNeg(),$=this.m.subn(1).iushrn(1),K=this.m.bitLength();for(K=new o(2*K*K).toRed(this);this.pow(K,$).cmp(te)!==0;)K.redIAdd(te);for(var Z=this.pow(K,B),X=this.pow(I,B.addn(1).iushrn(1)),ee=this.pow(I,B),ne=V;ee.cmp(q)!==0;){for(var re=ee,ae=0;re.cmp(q)!==0;ae++)re=re.redSqr();n(ae<ne);var ue=this.pow(Z,new o(1).iushln(ne-ae-1));X=X.redMul(ue),Z=ue.redSqr(),ee=ee.redMul(Z),ne=ae}return X},R.prototype.invm=function(I){var H=I._invmp(this.m);return H.negative!==0?(H.negative=0,this.imod(H).redNeg()):this.imod(H)},R.prototype.pow=function(I,H){if(H.isZero())return new o(1).toRed(this);if(H.cmpn(1)===0)return I.clone();var N=new Array(16);N[0]=new o(1).toRed(this),N[1]=I;for(var B=2;B<N.length;B++)N[B]=this.mul(N[B-1],I);var V=N[0],q=0,te=0,$=H.bitLength()%26;for($===0&&($=26),B=H.length-1;B>=0;B--){for(var K=H.words[B],Z=$-1;Z>=0;Z--){var X=K>>Z&1;V!==N[0]&&(V=this.sqr(V)),X!==0||q!==0?(q<<=1,q|=X,(++te==4||B===0&&Z===0)&&(V=this.mul(V,N[q]),te=0,q=0)):te=0}$=26}return V},R.prototype.convertTo=function(I){var H=I.umod(this.m);return H===I?H.clone():H},R.prototype.convertFrom=function(I){var H=I.clone();return H.red=null,H},o.mont=function(I){return new G(I)},l(G,R),G.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},G.prototype.convertFrom=function(I){var H=this.imod(I.mul(this.rinv));return H.red=null,H},G.prototype.imul=function(I,H){if(I.isZero()||H.isZero())return I.words[0]=0,I.length=1,I;var N=I.imul(H),B=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=N.isub(B).iushrn(this.shift),q=V;return V.cmp(this.m)>=0?q=V.isub(this.m):V.cmpn(0)<0&&(q=V.iadd(this.m)),q._forceRed(this)},G.prototype.mul=function(I,H){if(I.isZero()||H.isZero())return new o(0)._forceRed(this);var N=I.mul(H),B=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),V=N.isub(B).iushrn(this.shift),q=V;return V.cmp(this.m)>=0?q=V.isub(this.m):V.cmpn(0)<0&&(q=V.iadd(this.m)),q._forceRed(this)},G.prototype.invm=function(I){return this.imod(I._invmp(this.m).mul(this.r2))._forceRed(this)}})(d=t.nmd(d),this)},2692:function(d){d.exports=function(s){var t,i,r,n=s.length,l=0;for(t=0;t<n;++t)l+=s[t].length;var o=new Array(l),u=0;for(t=0;t<n;++t){var p=s[t],c=p.length;for(i=0;i<c;++i){var b=o[u++]=new Array(c-1),g=0;for(r=0;r<c;++r)r!==i&&(b[g++]=p[r]);if(1&i){var h=b[1];b[1]=b[0],b[0]=h}}}return o}},2569:function(d,s,t){d.exports=function(b,g,h){switch(arguments.length){case 1:return i=[],p(x=b,x,c,!0),i;case 2:return typeof g=="function"?p(b,b,g,!0):function(v,m){return i=[],p(v,m,c,!1),i}(b,g);case 3:return p(b,g,h,!1);default:throw new Error("box-intersect: Invalid arguments")}var x};var i,r=t(5306),n=t(1390),l=t(2337);function o(b,g){for(var h=0;h<b;++h)if(!(g[h]<=g[h+b]))return!0;return!1}function u(b,g,h,x){for(var v=0,m=0,w=0,f=b.length;w<f;++w){var S=b[w];if(!o(g,S)){for(var T=0;T<2*g;++T)h[v++]=S[T];x[m++]=w}}return m}function p(b,g,h,x){var v=b.length,m=g.length;if(!(v<=0||m<=0)){var w=b[0].length>>>1;if(!(w<=0)){var f,S=r.mallocDouble(2*w*v),T=r.mallocInt32(v);if((v=u(b,w,S,T))>0){if(w===1&&x)n.init(v),f=n.sweepComplete(w,h,0,v,S,T,0,v,S,T);else{var E=r.mallocDouble(2*w*m),L=r.mallocInt32(m);(m=u(g,w,E,L))>0&&(n.init(v+m),f=w===1?n.sweepBipartite(w,h,0,v,S,T,0,m,E,L):l(w,h,x,v,S,T,m,E,L),r.free(E),r.free(L))}r.free(S),r.free(T)}return f}}}function c(b,g){i.push([b,g])}},7333:function(d,s){function t(i){return i?function(r,n,l,o,u,p,c,b,g,h,x){return u-o>g-b?function(v,m,w,f,S,T,E,L,C,P,R){for(var G=2*v,I=f,H=G*f;I<S;++I,H+=G){var N=T[m+H],B=T[m+H+v],V=E[I];e:for(var q=L,te=G*L;q<C;++q,te+=G){var $=P[m+te],K=P[m+te+v],Z=R[q];if(!(K<N||B<$)){for(var X=m+1;X<v;++X){var ee=T[X+H],ne=T[X+v+H],re=P[X+te],ae=P[X+v+te];if(ne<re||ae<ee)continue e}var ue=w(V,Z);if(ue!==void 0)return ue}}}}(r,n,l,o,u,p,c,b,g,h,x):function(v,m,w,f,S,T,E,L,C,P,R){for(var G=2*v,I=L,H=G*L;I<C;++I,H+=G){var N=P[m+H],B=P[m+H+v],V=R[I];e:for(var q=f,te=G*f;q<S;++q,te+=G){var $=T[m+te],K=T[m+te+v],Z=E[q];if(!(B<$||K<N)){for(var X=m+1;X<v;++X){var ee=T[X+te],ne=T[X+v+te],re=P[X+H],ae=P[X+v+H];if(ne<re||ae<ee)continue e}var ue=w(Z,V);if(ue!==void 0)return ue}}}}(r,n,l,o,u,p,c,b,g,h,x)}:function(r,n,l,o,u,p,c,b,g,h,x,v){return p-u>h-g?o?function(m,w,f,S,T,E,L,C,P,R,G){for(var I=2*m,H=S,N=I*S;H<T;++H,N+=I){var B=E[w+N],V=E[w+N+m],q=L[H];e:for(var te=C,$=I*C;te<P;++te,$+=I){var K=R[w+$],Z=G[te];if(!(K<=B||V<K)){for(var X=w+1;X<m;++X){var ee=E[X+N],ne=E[X+m+N],re=R[X+$],ae=R[X+m+$];if(ne<re||ae<ee)continue e}var ue=f(Z,q);if(ue!==void 0)return ue}}}}(r,n,l,u,p,c,b,g,h,x,v):function(m,w,f,S,T,E,L,C,P,R,G){for(var I=2*m,H=S,N=I*S;H<T;++H,N+=I){var B=E[w+N],V=E[w+N+m],q=L[H];e:for(var te=C,$=I*C;te<P;++te,$+=I){var K=R[w+$],Z=G[te];if(!(K<B||V<K)){for(var X=w+1;X<m;++X){var ee=E[X+N],ne=E[X+m+N],re=R[X+$],ae=R[X+m+$];if(ne<re||ae<ee)continue e}var ue=f(q,Z);if(ue!==void 0)return ue}}}}(r,n,l,u,p,c,b,g,h,x,v):o?function(m,w,f,S,T,E,L,C,P,R,G){for(var I=2*m,H=C,N=I*C;H<P;++H,N+=I){var B=R[w+N],V=G[H];e:for(var q=S,te=I*S;q<T;++q,te+=I){var $=E[w+te],K=E[w+te+m],Z=L[q];if(!(B<=$||K<B)){for(var X=w+1;X<m;++X){var ee=E[X+te],ne=E[X+m+te],re=R[X+N],ae=R[X+m+N];if(ne<re||ae<ee)continue e}var ue=f(V,Z);if(ue!==void 0)return ue}}}}(r,n,l,u,p,c,b,g,h,x,v):function(m,w,f,S,T,E,L,C,P,R,G){for(var I=2*m,H=C,N=I*C;H<P;++H,N+=I){var B=R[w+N],V=G[H];e:for(var q=S,te=I*S;q<T;++q,te+=I){var $=E[w+te],K=E[w+te+m],Z=L[q];if(!(B<$||K<B)){for(var X=w+1;X<m;++X){var ee=E[X+te],ne=E[X+m+te],re=R[X+N],ae=R[X+m+N];if(ne<re||ae<ee)continue e}var ue=f(Z,V);if(ue!==void 0)return ue}}}}(r,n,l,u,p,c,b,g,h,x,v)}}s.partial=t(!1),s.full=t(!0)},2337:function(d,s,t){d.exports=function(I,H,N,B,V,q,te,$,K){(function(Be,Fe){var Ge=8*r.log2(Fe+1)*(Be+1)|0,Ze=r.nextPow2(T*Ge);L.length<Ze&&(i.free(L),L=i.mallocInt32(Ze));var et=r.nextPow2(E*Ge);C.length<et&&(i.free(C),C=i.mallocDouble(et))})(I,B+te);var Z,X=0,ee=2*I;for(P(X++,0,0,B,0,te,N?16:0,-1/0,1/0),N||P(X++,0,0,te,0,B,1,-1/0,1/0);X>0;){var ne=(X-=1)*T,re=L[ne],ae=L[ne+1],ue=L[ne+2],pe=L[ne+3],ge=L[ne+4],we=L[ne+5],me=X*E,ve=C[me],Ie=C[me+1],Se=1&we,ke=!!(16&we),se=V,oe=q,he=$,Le=K;if(Se&&(se=$,oe=K,he=V,Le=q),!(2&we&&ae>=(ue=m(I,re,ae,ue,se,oe,Ie))||4&we&&(ae=w(I,re,ae,ue,se,oe,ve))>=ue)){var Me=ue-ae,_e=ge-pe;if(ke){if(I*Me*(Me+_e)<h){if((Z=u.scanComplete(I,re,H,ae,ue,se,oe,pe,ge,he,Le))!==void 0)return Z;continue}}else{if(I*Math.min(Me,_e)<b){if((Z=l(I,re,H,Se,ae,ue,se,oe,pe,ge,he,Le))!==void 0)return Z;continue}if(I*Me*_e<g){if((Z=u.scanBipartite(I,re,H,Se,ae,ue,se,oe,pe,ge,he,Le))!==void 0)return Z;continue}}var De=x(I,re,ae,ue,se,oe,ve,Ie);if(ae<De)if(I*(De-ae)<b){if((Z=o(I,re+1,H,ae,De,se,oe,pe,ge,he,Le))!==void 0)return Z}else if(re===I-2){if((Z=Se?u.sweepBipartite(I,H,pe,ge,he,Le,ae,De,se,oe):u.sweepBipartite(I,H,ae,De,se,oe,pe,ge,he,Le))!==void 0)return Z}else P(X++,re+1,ae,De,pe,ge,Se,-1/0,1/0),P(X++,re+1,pe,ge,ae,De,1^Se,-1/0,1/0);if(De<ue){var Ne=p(I,re,pe,ge,he,Le),ce=he[ee*Ne+re],Te=v(I,re,Ne,ge,he,Le,ce);if(Te<ge&&P(X++,re,De,ue,Te,ge,(4|Se)+(ke?16:0),ce,Ie),pe<Ne&&P(X++,re,De,ue,pe,Ne,(2|Se)+(ke?16:0),ve,ce),Ne+1===Te){if((Z=ke?G(I,re,H,De,ue,se,oe,Ne,he,Le[Ne]):R(I,re,H,Se,De,ue,se,oe,Ne,he,Le[Ne]))!==void 0)return Z}else if(Ne<Te){var ye;if(ke){if(De<(ye=f(I,re,De,ue,se,oe,ce))){var Oe=v(I,re,De,ye,se,oe,ce);if(re===I-2){if(De<Oe&&(Z=u.sweepComplete(I,H,De,Oe,se,oe,Ne,Te,he,Le))!==void 0||Oe<ye&&(Z=u.sweepBipartite(I,H,Oe,ye,se,oe,Ne,Te,he,Le))!==void 0)return Z}else De<Oe&&P(X++,re+1,De,Oe,Ne,Te,16,-1/0,1/0),Oe<ye&&(P(X++,re+1,Oe,ye,Ne,Te,0,-1/0,1/0),P(X++,re+1,Ne,Te,Oe,ye,1,-1/0,1/0))}}else De<(ye=Se?S(I,re,De,ue,se,oe,ce):f(I,re,De,ue,se,oe,ce))&&(re===I-2?Z=Se?u.sweepBipartite(I,H,Ne,Te,he,Le,De,ye,se,oe):u.sweepBipartite(I,H,De,ye,se,oe,Ne,Te,he,Le):(P(X++,re+1,De,ye,Ne,Te,Se,-1/0,1/0),P(X++,re+1,Ne,Te,De,ye,1^Se,-1/0,1/0)))}}}}};var i=t(5306),r=t(2288),n=t(7333),l=n.partial,o=n.full,u=t(1390),p=t(2464),c=t(122),b=128,g=1<<22,h=1<<22,x=c("!(lo>=p0)&&!(p1>=hi)"),v=c("lo===p0"),m=c("lo<p0"),w=c("hi<=p0"),f=c("lo<=p0&&p0<=hi"),S=c("lo<p0&&p0<=hi"),T=6,E=2,L=i.mallocInt32(1024),C=i.mallocDouble(1024);function P(I,H,N,B,V,q,te,$,K){var Z=T*I;L[Z]=H,L[Z+1]=N,L[Z+2]=B,L[Z+3]=V,L[Z+4]=q,L[Z+5]=te;var X=E*I;C[X]=$,C[X+1]=K}function R(I,H,N,B,V,q,te,$,K,Z,X){var ee=2*I,ne=K*ee,re=Z[ne+H];e:for(var ae=V,ue=V*ee;ae<q;++ae,ue+=ee){var pe=te[ue+H],ge=te[ue+H+I];if(!(re<pe||ge<re||B&&re===pe)){for(var we,me=$[ae],ve=H+1;ve<I;++ve){pe=te[ue+ve],ge=te[ue+ve+I];var Ie=Z[ne+ve],Se=Z[ne+ve+I];if(ge<Ie||Se<pe)continue e}if((we=B?N(X,me):N(me,X))!==void 0)return we}}}function G(I,H,N,B,V,q,te,$,K,Z){var X=2*I,ee=$*X,ne=K[ee+H];e:for(var re=B,ae=B*X;re<V;++re,ae+=X){var ue=te[re];if(ue!==Z){var pe=q[ae+H],ge=q[ae+H+I];if(!(ne<pe||ge<ne)){for(var we=H+1;we<I;++we){pe=q[ae+we],ge=q[ae+we+I];var me=K[ee+we],ve=K[ee+we+I];if(ge<me||ve<pe)continue e}var Ie=N(ue,Z);if(Ie!==void 0)return Ie}}}}},2464:function(d,s,t){d.exports=function(l,o,u,p,c,b){if(p<=u+1)return u;for(var g=u,h=p,x=p+u>>>1,v=2*l,m=x,w=c[v*x+o];g<h;){if(h-g<r){n(l,o,g,h,c,b),w=c[v*x+o];break}var f=h-g,S=Math.random()*f+g|0,T=c[v*S+o],E=Math.random()*f+g|0,L=c[v*E+o],C=Math.random()*f+g|0,P=c[v*C+o];T<=L?P>=L?(m=E,w=L):T>=P?(m=S,w=T):(m=C,w=P):L>=P?(m=E,w=L):P>=T?(m=S,w=T):(m=C,w=P);for(var R=v*(h-1),G=v*m,I=0;I<v;++I,++R,++G){var H=c[R];c[R]=c[G],c[G]=H}var N=b[h-1];for(b[h-1]=b[m],b[m]=N,R=v*(h-1),G=v*(m=i(l,o,g,h-1,c,b,w)),I=0;I<v;++I,++R,++G)H=c[R],c[R]=c[G],c[G]=H;if(N=b[h-1],b[h-1]=b[m],b[m]=N,x<m){for(h=m-1;g<h&&c[v*(h-1)+o]===w;)h-=1;h+=1}else{if(!(m<x))break;for(g=m+1;g<h&&c[v*g+o]===w;)g+=1}}return i(l,o,u,x,c,b,c[v*x+o])};var i=t(122)("lo<p0"),r=8;function n(l,o,u,p,c,b){for(var g=2*l,h=g*(u+1)+o,x=u+1;x<p;++x,h+=g)for(var v=c[h],m=x,w=g*(x-1);m>u&&c[w+o]>v;--m,w-=g){for(var f=w,S=w+g,T=0;T<g;++T,++f,++S){var E=c[f];c[f]=c[S],c[S]=E}var L=b[m];b[m]=b[m-1],b[m-1]=L}}},122:function(d){d.exports=function(t){return s[t]};var s={"lo===p0":function(t,i,r,n,l,o,u){for(var p=2*t,c=p*r,b=c,g=r,h=i,x=r;n>x;++x,c+=p)if(l[c+h]===u)if(g===x)g+=1,b+=p;else{for(var v=0;p>v;++v){var m=l[c+v];l[c+v]=l[b],l[b++]=m}var w=o[x];o[x]=o[g],o[g++]=w}return g},"lo<p0":function(t,i,r,n,l,o,u){for(var p=2*t,c=p*r,b=c,g=r,h=i,x=r;n>x;++x,c+=p)if(l[c+h]<u)if(g===x)g+=1,b+=p;else{for(var v=0;p>v;++v){var m=l[c+v];l[c+v]=l[b],l[b++]=m}var w=o[x];o[x]=o[g],o[g++]=w}return g},"lo<=p0":function(t,i,r,n,l,o,u){for(var p=2*t,c=p*r,b=c,g=r,h=t+i,x=r;n>x;++x,c+=p)if(l[c+h]<=u)if(g===x)g+=1,b+=p;else{for(var v=0;p>v;++v){var m=l[c+v];l[c+v]=l[b],l[b++]=m}var w=o[x];o[x]=o[g],o[g++]=w}return g},"hi<=p0":function(t,i,r,n,l,o,u){for(var p=2*t,c=p*r,b=c,g=r,h=t+i,x=r;n>x;++x,c+=p)if(l[c+h]<=u)if(g===x)g+=1,b+=p;else{for(var v=0;p>v;++v){var m=l[c+v];l[c+v]=l[b],l[b++]=m}var w=o[x];o[x]=o[g],o[g++]=w}return g},"lo<p0&&p0<=hi":function(t,i,r,n,l,o,u){for(var p=2*t,c=p*r,b=c,g=r,h=i,x=t+i,v=r;n>v;++v,c+=p){var m=l[c+h],w=l[c+x];if(m<u&&u<=w)if(g===v)g+=1,b+=p;else{for(var f=0;p>f;++f){var S=l[c+f];l[c+f]=l[b],l[b++]=S}var T=o[v];o[v]=o[g],o[g++]=T}}return g},"lo<=p0&&p0<=hi":function(t,i,r,n,l,o,u){for(var p=2*t,c=p*r,b=c,g=r,h=i,x=t+i,v=r;n>v;++v,c+=p){var m=l[c+h],w=l[c+x];if(m<=u&&u<=w)if(g===v)g+=1,b+=p;else{for(var f=0;p>f;++f){var S=l[c+f];l[c+f]=l[b],l[b++]=S}var T=o[v];o[v]=o[g],o[g++]=T}}return g},"!(lo>=p0)&&!(p1>=hi)":function(t,i,r,n,l,o,u,p){for(var c=2*t,b=c*r,g=b,h=r,x=i,v=t+i,m=r;n>m;++m,b+=c){var w=l[b+x],f=l[b+v];if(!(w>=u||p>=f))if(h===m)h+=1,g+=c;else{for(var S=0;c>S;++S){var T=l[b+S];l[b+S]=l[g],l[g++]=T}var E=o[m];o[m]=o[h],o[h++]=E}}return h}}},309:function(d){d.exports=function(c,b){b<=4*s?t(0,b-1,c):p(0,b-1,c)};var s=32;function t(c,b,g){for(var h=2*(c+1),x=c+1;x<=b;++x){for(var v=g[h++],m=g[h++],w=x,f=h-2;w-- >c;){var S=g[f-2],T=g[f-1];if(S<v||S===v&&T<m)break;g[f]=S,g[f+1]=T,f-=2}g[f]=v,g[f+1]=m}}function i(c,b,g){b*=2;var h=g[c*=2],x=g[c+1];g[c]=g[b],g[c+1]=g[b+1],g[b]=h,g[b+1]=x}function r(c,b,g){b*=2,g[c*=2]=g[b],g[c+1]=g[b+1]}function n(c,b,g,h){b*=2,g*=2;var x=h[c*=2],v=h[c+1];h[c]=h[b],h[c+1]=h[b+1],h[b]=h[g],h[b+1]=h[g+1],h[g]=x,h[g+1]=v}function l(c,b,g,h,x){b*=2,x[c*=2]=x[b],x[b]=g,x[c+1]=x[b+1],x[b+1]=h}function o(c,b,g){b*=2;var h=g[c*=2],x=g[b];return!(h<x)&&(h!==x||g[c+1]>g[b+1])}function u(c,b,g,h){var x=h[c*=2];return x<b||x===b&&h[c+1]<g}function p(c,b,g){var h=(b-c+1)/6|0,x=c+h,v=b-h,m=c+b>>1,w=m-h,f=m+h,S=x,T=w,E=m,L=f,C=v,P=c+1,R=b-1,G=0;o(S,T,g)&&(G=S,S=T,T=G),o(L,C,g)&&(G=L,L=C,C=G),o(S,E,g)&&(G=S,S=E,E=G),o(T,E,g)&&(G=T,T=E,E=G),o(S,L,g)&&(G=S,S=L,L=G),o(E,L,g)&&(G=E,E=L,L=G),o(T,C,g)&&(G=T,T=C,C=G),o(T,E,g)&&(G=T,T=E,E=G),o(L,C,g)&&(G=L,L=C,C=G);for(var I=g[2*T],H=g[2*T+1],N=g[2*L],B=g[2*L+1],V=2*S,q=2*E,te=2*C,$=2*x,K=2*m,Z=2*v,X=0;X<2;++X){var ee=g[V+X],ne=g[q+X],re=g[te+X];g[$+X]=ee,g[K+X]=ne,g[Z+X]=re}r(w,c,g),r(f,b,g);for(var ae=P;ae<=R;++ae)if(u(ae,I,H,g))ae!==P&&i(ae,P,g),++P;else if(!u(ae,N,B,g))for(;;){if(u(R,N,B,g)){u(R,I,H,g)?(n(ae,P,R,g),++P,--R):(i(ae,R,g),--R);break}if(--R<ae)break}l(c,P-1,I,H,g),l(b,R+1,N,B,g),P-2-c<=s?t(c,P-2,g):p(c,P-2,g),b-(R+2)<=s?t(R+2,b,g):p(R+2,b,g),R-P<=s?t(P,R,g):p(P,R,g)}},1390:function(d,s,t){d.exports={init:function(w){var f=r.nextPow2(w);u.length<f&&(i.free(u),u=i.mallocInt32(f)),p.length<f&&(i.free(p),p=i.mallocInt32(f)),c.length<f&&(i.free(c),c=i.mallocInt32(f)),b.length<f&&(i.free(b),b=i.mallocInt32(f)),g.length<f&&(i.free(g),g=i.mallocInt32(f)),h.length<f&&(i.free(h),h=i.mallocInt32(f));var S=8*f;x.length<S&&(i.free(x),x=i.mallocDouble(S))},sweepBipartite:function(w,f,S,T,E,L,C,P,R,G){for(var I=0,H=2*w,N=w-1,B=H-1,V=S;V<T;++V){var q=L[V],te=H*V;x[I++]=E[te+N],x[I++]=-(q+1),x[I++]=E[te+B],x[I++]=q}for(V=C;V<P;++V){q=G[V]+l;var $=H*V;x[I++]=R[$+N],x[I++]=-q,x[I++]=R[$+B],x[I++]=q}var K=I>>>1;n(x,K);var Z=0,X=0;for(V=0;V<K;++V){var ee=0|x[2*V+1];if(ee>=l)v(c,b,X--,ee=ee-l|0);else if(ee>=0)v(u,p,Z--,ee);else if(ee<=-l){ee=-ee-l|0;for(var ne=0;ne<Z;++ne)if((re=f(u[ne],ee))!==void 0)return re;m(c,b,X++,ee)}else{for(ee=-ee-1|0,ne=0;ne<X;++ne){var re;if((re=f(ee,c[ne]))!==void 0)return re}m(u,p,Z++,ee)}}},sweepComplete:function(w,f,S,T,E,L,C,P,R,G){for(var I=0,H=2*w,N=w-1,B=H-1,V=S;V<T;++V){var q=L[V]+1<<1,te=H*V;x[I++]=E[te+N],x[I++]=-q,x[I++]=E[te+B],x[I++]=q}for(V=C;V<P;++V){q=G[V]+1<<1;var $=H*V;x[I++]=R[$+N],x[I++]=1|-q,x[I++]=R[$+B],x[I++]=1|q}var K=I>>>1;n(x,K);var Z=0,X=0,ee=0;for(V=0;V<K;++V){var ne=0|x[2*V+1],re=1&ne;if(V<K-1&&ne>>1==x[2*V+3]>>1&&(re=2,V+=1),ne<0){for(var ae=-(ne>>1)-1,ue=0;ue<ee;++ue)if((pe=f(g[ue],ae))!==void 0)return pe;if(re!==0){for(ue=0;ue<Z;++ue)if((pe=f(u[ue],ae))!==void 0)return pe}if(re!==1)for(ue=0;ue<X;++ue){var pe;if((pe=f(c[ue],ae))!==void 0)return pe}re===0?m(u,p,Z++,ae):re===1?m(c,b,X++,ae):re===2&&m(g,h,ee++,ae)}else ae=(ne>>1)-1,re===0?v(u,p,Z--,ae):re===1?v(c,b,X--,ae):re===2&&v(g,h,ee--,ae)}},scanBipartite:function(w,f,S,T,E,L,C,P,R,G,I,H){var N=0,B=2*w,V=f,q=f+w,te=1,$=1;T?$=l:te=l;for(var K=E;K<L;++K){var Z=K+te,X=B*K;x[N++]=C[X+V],x[N++]=-Z,x[N++]=C[X+q],x[N++]=Z}for(K=R;K<G;++K){Z=K+$;var ee=B*K;x[N++]=I[ee+V],x[N++]=-Z}var ne=N>>>1;n(x,ne);var re=0;for(K=0;K<ne;++K){var ae=0|x[2*K+1];if(ae<0){var ue=!1;if((Z=-ae)>=l?(ue=!T,Z-=l):(ue=!!T,Z-=1),ue)m(u,p,re++,Z);else{var pe=H[Z],ge=B*Z,we=I[ge+f+1],me=I[ge+f+1+w];e:for(var ve=0;ve<re;++ve){var Ie=u[ve],Se=B*Ie;if(!(me<C[Se+f+1]||C[Se+f+1+w]<we)){for(var ke=f+2;ke<w;++ke)if(I[ge+ke+w]<C[Se+ke]||C[Se+ke+w]<I[ge+ke])continue e;var se,oe=P[Ie];if((se=T?S(pe,oe):S(oe,pe))!==void 0)return se}}}}else v(u,p,re--,ae-te)}},scanComplete:function(w,f,S,T,E,L,C,P,R,G,I){for(var H=0,N=2*w,B=f,V=f+w,q=T;q<E;++q){var te=q+l,$=N*q;x[H++]=L[$+B],x[H++]=-te,x[H++]=L[$+V],x[H++]=te}for(q=P;q<R;++q){te=q+1;var K=N*q;x[H++]=G[K+B],x[H++]=-te}var Z=H>>>1;n(x,Z);var X=0;for(q=0;q<Z;++q){var ee=0|x[2*q+1];if(ee<0)if((te=-ee)>=l)u[X++]=te-l;else{var ne=I[te-=1],re=N*te,ae=G[re+f+1],ue=G[re+f+1+w];e:for(var pe=0;pe<X;++pe){var ge=u[pe],we=C[ge];if(we===ne)break;var me=N*ge;if(!(ue<L[me+f+1]||L[me+f+1+w]<ae)){for(var ve=f+2;ve<w;++ve)if(G[re+ve+w]<L[me+ve]||L[me+ve+w]<G[re+ve])continue e;var Ie=S(we,ne);if(Ie!==void 0)return Ie}}}else{for(te=ee-l,pe=X-1;pe>=0;--pe)if(u[pe]===te){for(ve=pe+1;ve<X;++ve)u[ve-1]=u[ve];break}--X}}}};var i=t(5306),r=t(2288),n=t(309),l=1<<28,o=1024,u=i.mallocInt32(o),p=i.mallocInt32(o),c=i.mallocInt32(o),b=i.mallocInt32(o),g=i.mallocInt32(o),h=i.mallocInt32(o),x=i.mallocDouble(8192);function v(w,f,S,T){var E=f[T],L=w[S-1];w[E]=L,f[L]=E}function m(w,f,S,T){w[S]=T,f[T]=S}},7761:function(d,s,t){var i=t(9971),r=t(743),n=t(2161),l=t(7098);function o(c){return[Math.min(c[0],c[1]),Math.max(c[0],c[1])]}function u(c,b){return c[0]-b[0]||c[1]-b[1]}function p(c,b,g){return b in c?c[b]:g}d.exports=function(c,b,g){Array.isArray(b)?(g=g||{},b=b||[]):(g=b||{},b=[]);var h=!!p(g,"delaunay",!0),x=!!p(g,"interior",!0),v=!!p(g,"exterior",!0),m=!!p(g,"infinity",!1);if(!x&&!v||c.length===0)return[];var w=i(c,b);if(h||x!==v||m){for(var f=r(c.length,function(E){return E.map(o).sort(u)}(b)),S=0;S<w.length;++S){var T=w[S];f.addTriangle(T[0],T[1],T[2])}return h&&n(c,f),v?x?m?l(f,0,m):f.cells():l(f,1,m):l(f,-1)}return w}},2161:function(d,s,t){var i=t(2227)[4];function r(n,l,o,u,p,c){var b=l.opposite(u,p);if(!(b<0)){if(p<u){var g=u;u=p,p=g,g=c,c=b,b=g}l.isConstraint(u,p)||i(n[u],n[p],n[c],n[b])<0&&o.push(u,p)}}t(5070),d.exports=function(n,l){for(var o=[],u=n.length,p=l.stars,c=0;c<u;++c)for(var b=p[c],g=1;g<b.length;g+=2)if(!((m=b[g])<c||l.isConstraint(c,m))){for(var h=b[g-1],x=-1,v=1;v<b.length;v+=2)if(b[v-1]===m){x=b[v];break}x<0||i(n[c],n[m],n[h],n[x])<0&&o.push(c,m)}for(;o.length>0;){for(var m=o.pop(),w=(h=-1,x=-1,b=p[c=o.pop()],1);w<b.length;w+=2){var f=b[w-1],S=b[w];f===m?x=S:S===m&&(h=f)}h<0||x<0||i(n[c],n[m],n[h],n[x])>=0||(l.flip(c,m),r(n,l,o,h,c,x),r(n,l,o,c,x,h),r(n,l,o,x,m,h),r(n,l,o,m,h,x))}}},7098:function(d,s,t){var i,r=t(5070);function n(o,u,p,c,b,g,h){this.cells=o,this.neighbor=u,this.flags=c,this.constraint=p,this.active=b,this.next=g,this.boundary=h}function l(o,u){return o[0]-u[0]||o[1]-u[1]||o[2]-u[2]}d.exports=function(o,u,p){var c=function(C,P){for(var R=C.cells(),G=R.length,I=0;I<G;++I){var H=(ee=R[I])[0],N=ee[1],B=ee[2];N<B?N<H&&(ee[0]=N,ee[1]=B,ee[2]=H):B<H&&(ee[0]=B,ee[1]=H,ee[2]=N)}R.sort(l);var V=new Array(G);for(I=0;I<V.length;++I)V[I]=0;var q=[],te=[],$=new Array(3*G),K=new Array(3*G),Z=null;P&&(Z=[]);var X=new n(R,$,K,V,q,te,Z);for(I=0;I<G;++I)for(var ee=R[I],ne=0;ne<3;++ne){H=ee[ne],N=ee[(ne+1)%3];var re=$[3*I+ne]=X.locate(N,H,C.opposite(N,H)),ae=K[3*I+ne]=C.isConstraint(H,N);re<0&&(ae?te.push(I):(q.push(I),V[I]=1),P&&Z.push([N,H,-1]))}return X}(o,p);if(u===0)return p?c.cells.concat(c.boundary):c.cells;for(var b=1,g=c.active,h=c.next,x=c.flags,v=c.cells,m=c.constraint,w=c.neighbor;g.length>0||h.length>0;){for(;g.length>0;){var f=g.pop();if(x[f]!==-b){x[f]=b,v[f];for(var S=0;S<3;++S){var T=w[3*f+S];T>=0&&x[T]===0&&(m[3*f+S]?h.push(T):(g.push(T),x[T]=b))}}}var E=h;h=g,g=E,h.length=0,b=-b}var L=function(C,P,R){for(var G=0,I=0;I<C.length;++I)P[I]===R&&(C[G++]=C[I]);return C.length=G,C}(v,x,u);return p?L.concat(c.boundary):L},n.prototype.locate=(i=[0,0,0],function(o,u,p){var c=o,b=u,g=p;return u<p?u<o&&(c=u,b=p,g=o):p<o&&(c=p,b=o,g=u),c<0?-1:(i[0]=c,i[1]=b,i[2]=g,r.eq(this.cells,i,l))})},9971:function(d,s,t){var i=t(5070),r=t(417)[3];function n(h,x,v,m,w){this.a=h,this.b=x,this.idx=v,this.lowerIds=m,this.upperIds=w}function l(h,x,v,m){this.a=h,this.b=x,this.type=v,this.idx=m}function o(h,x){var v=h.a[0]-x.a[0]||h.a[1]-x.a[1]||h.type-x.type;return v||(h.type!==0&&(v=r(h.a,h.b,x.b))?v:h.idx-x.idx)}function u(h,x){return r(h.a,h.b,x)}function p(h,x,v,m,w){for(var f=i.lt(x,m,u),S=i.gt(x,m,u),T=f;T<S;++T){for(var E=x[T],L=E.lowerIds,C=L.length;C>1&&r(v[L[C-2]],v[L[C-1]],m)>0;)h.push([L[C-1],L[C-2],w]),C-=1;L.length=C,L.push(w);var P=E.upperIds;for(C=P.length;C>1&&r(v[P[C-2]],v[P[C-1]],m)<0;)h.push([P[C-2],P[C-1],w]),C-=1;P.length=C,P.push(w)}}function c(h,x){var v;return(v=h.a[0]<x.a[0]?r(h.a,h.b,x.a):r(x.b,x.a,h.a))?v:(v=x.b[0]<h.b[0]?r(h.a,h.b,x.b):r(x.b,x.a,h.b))||h.idx-x.idx}function b(h,x,v){var m=i.le(h,v,c),w=h[m],f=w.upperIds,S=f[f.length-1];w.upperIds=[S],h.splice(m+1,0,new n(v.a,v.b,v.idx,[S],f))}function g(h,x,v){var m=v.a;v.a=v.b,v.b=m;var w=i.eq(h,v,c),f=h[w];h[w-1].upperIds=f.upperIds,h.splice(w,1)}d.exports=function(h,x){for(var v=h.length,m=x.length,w=[],f=0;f<v;++f)w.push(new l(h[f],null,0,f));for(f=0;f<m;++f){var S=x[f],T=h[S[0]],E=h[S[1]];T[0]<E[0]?w.push(new l(T,E,2,f),new l(E,T,1,f)):T[0]>E[0]&&w.push(new l(E,T,2,f),new l(T,E,1,f))}w.sort(o);for(var L=w[0].a[0]-(1+Math.abs(w[0].a[0]))*Math.pow(2,-52),C=[new n([L,1],[L,0],-1,[],[])],P=[],R=(f=0,w.length);f<R;++f){var G=w[f],I=G.type;I===0?p(P,C,h,G.a,G.idx):I===2?b(C,0,G):g(C,0,G)}return P}},743:function(d,s,t){var i=t(5070);function r(o,u){this.stars=o,this.edges=u}d.exports=function(o,u){for(var p=new Array(o),c=0;c<o;++c)p[c]=[];return new r(p,u)};var n=r.prototype;function l(o,u,p){for(var c=1,b=o.length;c<b;c+=2)if(o[c-1]===u&&o[c]===p)return o[c-1]=o[b-2],o[c]=o[b-1],void(o.length=b-2)}n.isConstraint=function(){var o=[0,0];function u(p,c){return p[0]-c[0]||p[1]-c[1]}return function(p,c){return o[0]=Math.min(p,c),o[1]=Math.max(p,c),i.eq(this.edges,o,u)>=0}}(),n.removeTriangle=function(o,u,p){var c=this.stars;l(c[o],u,p),l(c[u],p,o),l(c[p],o,u)},n.addTriangle=function(o,u,p){var c=this.stars;c[o].push(u,p),c[u].push(p,o),c[p].push(o,u)},n.opposite=function(o,u){for(var p=this.stars[u],c=1,b=p.length;c<b;c+=2)if(p[c]===o)return p[c-1];return-1},n.flip=function(o,u){var p=this.opposite(o,u),c=this.opposite(u,o);this.removeTriangle(o,u,p),this.removeTriangle(u,o,c),this.addTriangle(o,c,p),this.addTriangle(u,p,c)},n.edges=function(){for(var o=this.stars,u=[],p=0,c=o.length;p<c;++p)for(var b=o[p],g=0,h=b.length;g<h;g+=2)u.push([b[g],b[g+1]]);return u},n.cells=function(){for(var o=this.stars,u=[],p=0,c=o.length;p<c;++p)for(var b=o[p],g=0,h=b.length;g<h;g+=2){var x=b[g],v=b[g+1];p<Math.min(x,v)&&u.push([p,x,v])}return u}},9887:function(d){d.exports=function(s){for(var t=1,i=1;i<s.length;++i)for(var r=0;r<i;++r)if(s[i]<s[r])t=-t;else if(s[r]===s[i])return 0;return t}},9243:function(d,s,t){var i=t(3094),r=t(6606);function n(u,p){for(var c=0,b=u.length,g=0;g<b;++g)c+=u[g]*p[g];return c}function l(u){var p=u.length;if(p===0)return[];u[0].length;var c=i([u.length+1,u.length+1],1),b=i([u.length+1],1);c[p][p]=0;for(var g=0;g<p;++g){for(var h=0;h<=g;++h)c[h][g]=c[g][h]=2*n(u[g],u[h]);b[g]=n(u[g],u[g])}var x=r(c,b),v=0,m=x[p+1];for(g=0;g<m.length;++g)v+=m[g];var w=new Array(p);for(g=0;g<p;++g){m=x[g];var f=0;for(h=0;h<m.length;++h)f+=m[h];w[g]=f/v}return w}function o(u){if(u.length===0)return[];for(var p=u[0].length,c=i([p]),b=l(u),g=0;g<u.length;++g)for(var h=0;h<p;++h)c[h]+=u[g][h]*b[g];return c}o.barycenetric=l,d.exports=o},1778:function(d,s,t){d.exports=function(r){for(var n=i(r),l=0,o=0;o<r.length;++o)for(var u=r[o],p=0;p<n.length;++p)l+=Math.pow(u[p]-n[p],2);return Math.sqrt(l/r.length)};var i=t(9243)},197:function(d,s,t){d.exports=function(S,T,E){var L;if(E){L=T;for(var C=new Array(T.length),P=0;P<T.length;++P){var R=T[P];C[P]=[R[0],R[1],E[P]]}T=C}for(var G=function(I,H,N){var B=x(I,[],h(I));return w(H,B,N),!!B}(S,T,!!E);f(S,T,!!E);)G=!0;if(E&&G)for(L.length=0,E.length=0,P=0;P<T.length;++P)R=T[P],L.push([R[0],R[1]]),E.push(R[2]);return G};var i=t(1731),r=t(2569),n=t(4434),l=t(5125),o=t(8846),u=t(7999),p=t(2826),c=t(8551),b=t(5528);function g(S){var T=u(S);return[c(T,-1/0),c(T,1/0)]}function h(S){for(var T=new Array(S.length),E=0;E<S.length;++E){var L=S[E];T[E]=[c(L[0],-1/0),c(L[1],-1/0),c(L[0],1/0),c(L[1],1/0)]}return T}function x(S,T,E){for(var L=T.length,C=new i(L),P=[],R=0;R<T.length;++R){var G=T[R],I=g(G[0]),H=g(G[1]);P.push([c(I[0],-1/0),c(H[0],-1/0),c(I[1],1/0),c(H[1],1/0)])}r(P,function(te,$){C.link(te,$)});var N=!0,B=new Array(L);for(R=0;R<L;++R)(q=C.find(R))!==R&&(N=!1,S[q]=[Math.min(S[R][0],S[q][0]),Math.min(S[R][1],S[q][1])]);if(N)return null;var V=0;for(R=0;R<L;++R){var q;(q=C.find(R))===R?(B[R]=V,S[V++]=S[R]):B[R]=-1}for(S.length=V,R=0;R<L;++R)B[R]<0&&(B[R]=B[C.find(R)]);return B}function v(S,T){return S[0]-T[0]||S[1]-T[1]}function m(S,T){return S[0]-T[0]||S[1]-T[1]||(S[2]<T[2]?-1:S[2]>T[2]?1:0)}function w(S,T,E){if(S.length!==0){if(T)for(var L=0;L<S.length;++L){var C=T[(R=S[L])[0]],P=T[R[1]];R[0]=Math.min(C,P),R[1]=Math.max(C,P)}else for(L=0;L<S.length;++L){var R;C=(R=S[L])[0],P=R[1],R[0]=Math.min(C,P),R[1]=Math.max(C,P)}E?S.sort(m):S.sort(v);var G=1;for(L=1;L<S.length;++L){var I=S[L-1],H=S[L];(H[0]!==I[0]||H[1]!==I[1]||E&&H[2]!==I[2])&&(S[G++]=H)}S.length=G}}function f(S,T,E){var L=function(I,H){for(var N=new Array(H.length),B=0;B<H.length;++B){var V=H[B],q=I[V[0]],te=I[V[1]];N[B]=[c(Math.min(q[0],te[0]),-1/0),c(Math.min(q[1],te[1]),-1/0),c(Math.max(q[0],te[0]),1/0),c(Math.max(q[1],te[1]),1/0)]}return N}(S,T),C=function(I,H,N){var B=[];return r(N,function(V,q){var te=H[V],$=H[q];if(te[0]!==$[0]&&te[0]!==$[1]&&te[1]!==$[0]&&te[1]!==$[1]){var K=I[te[0]],Z=I[te[1]],X=I[$[0]],ee=I[$[1]];n(K,Z,X,ee)&&B.push([V,q])}}),B}(S,T,L),P=function(I,H,N,B){var V=[];return r(N,B,function(q,te){var $=H[q];if($[0]!==te&&$[1]!==te){var K=I[te],Z=I[$[0]],X=I[$[1]];n(Z,X,K,K)&&V.push([q,te])}}),V}(S,T,L,h(S)),R=function(I,H,N,B,V){var q,te,$=I.map(function(se){return[l(se[0]),l(se[1])]});for(q=0;q<N.length;++q){var K=N[q];te=K[0];var Z=K[1],X=H[te],ee=H[Z],ne=b(p(I[X[0]]),p(I[X[1]]),p(I[ee[0]]),p(I[ee[1]]));if(ne){var re=I.length;I.push([u(ne[0]),u(ne[1])]),$.push(ne),B.push([te,re],[Z,re])}}for(B.sort(function(se,oe){if(se[0]!==oe[0])return se[0]-oe[0];var he=$[se[1]],Le=$[oe[1]];return o(he[0],Le[0])||o(he[1],Le[1])}),q=B.length-1;q>=0;--q){var ae=H[te=(Se=B[q])[0]],ue=ae[0],pe=ae[1],ge=I[ue],we=I[pe];if((ge[0]-we[0]||ge[1]-we[1])<0){var me=ue;ue=pe,pe=me}ae[0]=ue;var ve,Ie=ae[1]=Se[1];for(V&&(ve=ae[2]);q>0&&B[q-1][0]===te;){var Se,ke=(Se=B[--q])[1];V?H.push([Ie,ke,ve]):H.push([Ie,ke]),Ie=ke}V?H.push([Ie,pe,ve]):H.push([Ie,pe])}return $}(S,T,C,P,E),G=x(S,R);return w(T,G,E),!!G||C.length>0||P.length>0}},5528:function(d,s,t){d.exports=function(b,g,h,x){var v=o(g,b),m=o(x,h),w=c(v,m);if(l(w)===0)return null;var f=c(m,o(b,h)),S=r(f,w),T=p(v,S);return u(b,T)};var i=t(3962),r=t(9189),n=t(4354),l=t(4951),o=t(6695),u=t(7584),p=t(4469);function c(b,g){return n(i(b[0],g[1]),i(b[1],g[0]))}},5692:function(d){d.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},9156:function(d,s,t){var i=t(5692),r=t(3578);function n(u){return[u[0]/255,u[1]/255,u[2]/255,u[3]]}function l(u){for(var p,c="#",b=0;b<3;++b)c+=("00"+(p=(p=u[b]).toString(16))).substr(p.length);return c}function o(u){return"rgba("+u.join(",")+")"}d.exports=function(u){var p,c,b,g,h,x,v,m,w,f;if(u||(u={}),m=(u.nshades||72)-1,v=u.format||"hex",(x=u.colormap)||(x="jet"),typeof x=="string"){if(x=x.toLowerCase(),!i[x])throw Error(x+" not a supported colorscale");h=i[x]}else{if(!Array.isArray(x))throw Error("unsupported colormap option",x);h=x.slice()}if(h.length>m+1)throw new Error(x+" map requires nshades to be at least size "+h.length);w=Array.isArray(u.alpha)?u.alpha.length!==2?[1,1]:u.alpha.slice():typeof u.alpha=="number"?[u.alpha,u.alpha]:[1,1],p=h.map(function(C){return Math.round(C.index*m)}),w[0]=Math.min(Math.max(w[0],0),1),w[1]=Math.min(Math.max(w[1],0),1);var S=h.map(function(C,P){var R=h[P].index,G=h[P].rgb.slice();return G.length===4&&G[3]>=0&&G[3]<=1||(G[3]=w[0]+(w[1]-w[0])*R),G}),T=[];for(f=0;f<p.length-1;++f){g=p[f+1]-p[f],c=S[f],b=S[f+1];for(var E=0;E<g;E++){var L=E/g;T.push([Math.round(r(c[0],b[0],L)),Math.round(r(c[1],b[1],L)),Math.round(r(c[2],b[2],L)),r(c[3],b[3],L)])}}return T.push(h[h.length-1].rgb.concat(w[1])),v==="hex"?T=T.map(l):v==="rgbaString"?T=T.map(o):v==="float"&&(T=T.map(n)),T}},9398:function(d,s,t){d.exports=function(p,c,b,g){var h=i(c,b,g);if(h===0){var x=r(i(p,c,b)),v=r(i(p,c,g));if(x===v){if(x===0){var m=u(p,c,b);return m===u(p,c,g)?0:m?1:-1}return 0}return v===0?x>0||u(p,c,g)?-1:1:x===0?v>0||u(p,c,b)?1:-1:r(v-x)}var w=i(p,c,b);return w>0?h>0&&i(p,c,g)>0?1:-1:w<0?h>0||i(p,c,g)>0?1:-1:i(p,c,g)>0||u(p,c,b)?1:-1};var i=t(417),r=t(7538),n=t(87),l=t(2019),o=t(9662);function u(p,c,b){var g=n(p[0],-c[0]),h=n(p[1],-c[1]),x=n(b[0],-c[0]),v=n(b[1],-c[1]),m=o(l(g,x),l(h,v));return m[m.length-1]>=0}},7538:function(d){d.exports=function(s){return s<0?-1:s>0?1:0}},9209:function(d){d.exports=function(i,r){var n=i.length,l=i.length-r.length;if(l)return l;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return i[0]+i[1]-r[0]-r[1]||s(i[0],i[1])-s(r[0],r[1]);case 3:var o=i[0]+i[1],u=r[0]+r[1];if(l=o+i[2]-(u+r[2]))return l;var p=s(i[0],i[1]),c=s(r[0],r[1]);return s(p,i[2])-s(c,r[2])||s(p+i[2],o)-s(c+r[2],u);case 4:var b=i[0],g=i[1],h=i[2],x=i[3],v=r[0],m=r[1],w=r[2],f=r[3];return b+g+h+x-(v+m+w+f)||s(b,g,h,x)-s(v,m,w,f,v)||s(b+g,b+h,b+x,g+h,g+x,h+x)-s(v+m,v+w,v+f,m+w,m+f,w+f)||s(b+g+h,b+g+x,b+h+x,g+h+x)-s(v+m+w,v+m+f,v+w+f,m+w+f);default:for(var S=i.slice().sort(t),T=r.slice().sort(t),E=0;E<n;++E)if(l=S[E]-T[E])return l;return 0}};var s=Math.min;function t(i,r){return i-r}},1284:function(d,s,t){var i=t(9209),r=t(9887);d.exports=function(n,l){return i(n,l)||r(n)-r(l)}},5537:function(d,s,t){var i=t(8950),r=t(8722),n=t(3332);d.exports=function(l){var o=l.length;if(o===0)return[];if(o===1)return[[0]];var u=l[0].length;return u===0?[]:u===1?i(l):u===2?r(l):n(l,u)}},8950:function(d){d.exports=function(s){for(var t=0,i=0,r=1;r<s.length;++r)s[r][0]<s[t][0]&&(t=r),s[r][0]>s[i][0]&&(i=r);return t<i?[[t],[i]]:t>i?[[i],[t]]:[[t]]}},8722:function(d,s,t){d.exports=function(r){var n=i(r),l=n.length;if(l<=2)return[];for(var o=new Array(l),u=n[l-1],p=0;p<l;++p){var c=n[p];o[p]=[u,c],u=c}return o};var i=t(3266)},3332:function(d,s,t){d.exports=function(n,l){try{return i(n,!0)}catch{var o=r(n);if(o.length<=l)return[];var u=function(c,b){for(var g=c.length,h=new Array(g),x=0;x<b.length;++x)h[x]=c[b[x]];var v=b.length;for(x=0;x<g;++x)b.indexOf(x)<0&&(h[v++]=c[x]);return h}(n,o);return function(c,b){for(var g=c.length,h=b.length,x=0;x<g;++x)for(var v=c[x],m=0;m<v.length;++m){var w=v[m];if(w<h)v[m]=b[w];else{w-=h;for(var f=0;f<h;++f)w>=b[f]&&(w+=1);v[m]=w}}return c}(i(u,!0),o)}};var i=t(2183),r=t(2153)},9680:function(d){d.exports=function(s,t,i,r,n,l){var o=n-1,u=n*n,p=o*o,c=(1+2*n)*p,b=n*p,g=u*(3-2*n),h=u*o;if(s.length){l||(l=new Array(s.length));for(var x=s.length-1;x>=0;--x)l[x]=c*s[x]+b*t[x]+g*i[x]+h*r[x];return l}return c*s+b*t+g*i+h*r},d.exports.derivative=function(s,t,i,r,n,l){var o=6*n*n-6*n,u=3*n*n-4*n+1,p=-6*n*n+6*n,c=3*n*n-2*n;if(s.length){l||(l=new Array(s.length));for(var b=s.length-1;b>=0;--b)l[b]=o*s[b]+u*t[b]+p*i[b]+c*r[b];return l}return o*s+u*t+p*i[b]+c*r}},4419:function(d,s,t){var i=t(2183),r=t(1215);function n(o,u){this.point=o,this.index=u}function l(o,u){for(var p=o.point,c=u.point,b=p.length,g=0;g<b;++g){var h=c[g]-p[g];if(h)return h}return 0}d.exports=function(o,u){var p=o.length;if(p===0)return[];var c=o[0].length;if(c<1)return[];if(c===1)return function(R,G,I){if(R===1)return I?[[-1,0]]:[];var H=G.map(function(te,$){return[te[0],$]});H.sort(function(te,$){return te[0]-$[0]});for(var N=new Array(R-1),B=1;B<R;++B){var V=H[B-1],q=H[B];N[B-1]=[V[1],q[1]]}return I&&N.push([-1,N[0][1]],[N[R-1][1],-1]),N}(p,o,u);for(var b=new Array(p),g=1,h=0;h<p;++h){for(var x=o[h],v=new Array(c+1),m=0,w=0;w<c;++w){var f=x[w];v[w]=f,m+=f*f}v[c]=m,b[h]=new n(v,h),g=Math.max(m,g)}r(b,l),p=b.length;var S=new Array(p+c+1),T=new Array(p+c+1),E=(c+1)*(c+1)*g,L=new Array(c+1);for(h=0;h<=c;++h)L[h]=0;for(L[c]=E,S[0]=L.slice(),T[0]=-1,h=0;h<=c;++h)(v=L.slice())[h]=1,S[h+1]=v,T[h+1]=-1;for(h=0;h<p;++h){var C=b[h];S[h+c+1]=C.point,T[h+c+1]=C.index}var P=i(S,!1);if(P=u?P.filter(function(R){for(var G=0,I=0;I<=c;++I){var H=T[R[I]];if(H<0&&++G>=2)return!1;R[I]=H}return!0}):P.filter(function(R){for(var G=0;G<=c;++G){var I=T[R[G]];if(I<0)return!1;R[G]=I}return!0}),1&c)for(h=0;h<P.length;++h)v=(C=P[h])[0],C[0]=C[1],C[1]=v;return P}},8362:function(d){var s=!1;if(typeof Float64Array<"u"){var t=new Float64Array(1),i=new Uint32Array(t.buffer);t[0]=1,s=!0,i[1]===1072693248?(d.exports=function(n){return t[0]=n,[i[0],i[1]]},d.exports.pack=function(n,l){return i[0]=n,i[1]=l,t[0]},d.exports.lo=function(n){return t[0]=n,i[0]},d.exports.hi=function(n){return t[0]=n,i[1]}):i[0]===1072693248?(d.exports=function(n){return t[0]=n,[i[1],i[0]]},d.exports.pack=function(n,l){return i[1]=n,i[0]=l,t[0]},d.exports.lo=function(n){return t[0]=n,i[1]},d.exports.hi=function(n){return t[0]=n,i[0]}):s=!1}if(!s){var r=new Buffer(8);d.exports=function(n){return r.writeDoubleLE(n,0,!0),[r.readUInt32LE(0,!0),r.readUInt32LE(4,!0)]},d.exports.pack=function(n,l){return r.writeUInt32LE(n,0,!0),r.writeUInt32LE(l,4,!0),r.readDoubleLE(0,!0)},d.exports.lo=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(0,!0)},d.exports.hi=function(n){return r.writeDoubleLE(n,0,!0),r.readUInt32LE(4,!0)}}d.exports.sign=function(n){return d.exports.hi(n)>>>31},d.exports.exponent=function(n){return(d.exports.hi(n)<<1>>>21)-1023},d.exports.fraction=function(n){var l=d.exports.lo(n),o=d.exports.hi(n),u=1048575&o;return 2146435072&o&&(u+=1048576),[l,u]},d.exports.denormalized=function(n){return!(2146435072&d.exports.hi(n))}},3094:function(d){function s(t,i,r){var n=0|t[r];if(n<=0)return[];var l,o=new Array(n);if(r===t.length-1)for(l=0;l<n;++l)o[l]=i;else for(l=0;l<n;++l)o[l]=s(t,i,r+1);return o}d.exports=function(t,i){switch(i===void 0&&(i=0),typeof t){case"number":if(t>0)return function(r,n){var l,o;for(l=new Array(r),o=0;o<r;++o)l[o]=n;return l}(0|t,i);break;case"object":if(typeof t.length=="number")return s(t,i,0)}return[]}},8348:function(d,s,t){d.exports=function(r,n){var l=r.length;if(typeof n!="number"){n=0;for(var o=0;o<l;++o){var u=r[o];n=Math.max(n,u[0],u[1])}n=1+(0|n)}n|=0;var p=new Array(n);for(o=0;o<n;++o)p[o]=[];for(o=0;o<l;++o)p[(u=r[o])[0]].push(u[1]),p[u[1]].push(u[0]);for(var c=0;c<n;++c)i(p[c],function(b,g){return b-g});return p};var i=t(1215)},5795:function(d){d.exports=function(s,t,i){var r=t||0,n=i||1;return[[s[12]+s[0],s[13]+s[1],s[14]+s[2],s[15]+s[3]],[s[12]-s[0],s[13]-s[1],s[14]-s[2],s[15]-s[3]],[s[12]+s[4],s[13]+s[5],s[14]+s[6],s[15]+s[7]],[s[12]-s[4],s[13]-s[5],s[14]-s[6],s[15]-s[7]],[r*s[12]+s[8],r*s[13]+s[9],r*s[14]+s[10],r*s[15]+s[11]],[n*s[12]-s[8],n*s[13]-s[9],n*s[14]-s[10],n*s[15]-s[11]]]}},8444:function(d,s,t){d.exports=function(p,c,b){switch(arguments.length){case 0:return new l([0],[0],0);case 1:return typeof p=="number"?new l(g=u(p),g,0):new l(p,u(p.length),0);case 2:var g;if(typeof c=="number")return new l(p,g=u(p.length),+c);b=0;case 3:if(p.length!==c.length)throw new Error("state and velocity lengths must match");return new l(p,c,b)}};var i=t(9680),r=t(5070);function n(p,c,b){return Math.min(c,Math.max(p,b))}function l(p,c,b){this.dimension=p.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var g=0;g<this.dimension;++g)this.bounds[0][g]=-1/0,this.bounds[1][g]=1/0;this._state=p.slice().reverse(),this._velocity=c.slice().reverse(),this._time=[b],this._scratch=[p.slice(),p.slice(),p.slice(),p.slice(),p.slice()]}var o=l.prototype;function u(p){for(var c=new Array(p),b=0;b<p;++b)c[b]=0;return c}o.flush=function(p){var c=r.gt(this._time,p)-1;c<=0||(this._time.splice(0,c),this._state.splice(0,c*this.dimension),this._velocity.splice(0,c*this.dimension))},o.curve=function(p){var c=this._time,b=c.length,g=r.le(c,p),h=this._scratch[0],x=this._state,v=this._velocity,m=this.dimension,w=this.bounds;if(g<0)for(var f=m-1,S=0;S<m;++S,--f)h[S]=x[f];else if(g>=b-1){f=x.length-1;var T=p-c[b-1];for(S=0;S<m;++S,--f)h[S]=x[f]+T*v[f]}else{f=m*(g+1)-1;var E=c[g],L=c[g+1]-E||1,C=this._scratch[1],P=this._scratch[2],R=this._scratch[3],G=this._scratch[4],I=!0;for(S=0;S<m;++S,--f)C[S]=x[f],R[S]=v[f]*L,P[S]=x[f+m],G[S]=v[f+m]*L,I=I&&C[S]===P[S]&&R[S]===G[S]&&R[S]===0;if(I)for(S=0;S<m;++S)h[S]=C[S];else i(C,R,P,G,(p-E)/L,h)}var H=w[0],N=w[1];for(S=0;S<m;++S)h[S]=n(H[S],N[S],h[S]);return h},o.dcurve=function(p){var c=this._time,b=c.length,g=r.le(c,p),h=this._scratch[0],x=this._state,v=this._velocity,m=this.dimension;if(g>=b-1)for(var w=x.length-1,f=(c[b-1],0);f<m;++f,--w)h[f]=v[w];else{w=m*(g+1)-1;var S=c[g],T=c[g+1]-S||1,E=this._scratch[1],L=this._scratch[2],C=this._scratch[3],P=this._scratch[4],R=!0;for(f=0;f<m;++f,--w)E[f]=x[w],C[f]=v[w]*T,L[f]=x[w+m],P[f]=v[w+m]*T,R=R&&E[f]===L[f]&&C[f]===P[f]&&C[f]===0;if(R)for(f=0;f<m;++f)h[f]=0;else for(i.derivative(E,C,L,P,(p-S)/T,h),f=0;f<m;++f)h[f]/=T}return h},o.lastT=function(){var p=this._time;return p[p.length-1]},o.stable=function(){for(var p=this._velocity,c=p.length,b=this.dimension-1;b>=0;--b)if(p[--c])return!1;return!0},o.jump=function(p){var c=this.lastT(),b=this.dimension;if(!(p<c||arguments.length!==b+1)){var g=this._state,h=this._velocity,x=g.length-this.dimension,v=this.bounds,m=v[0],w=v[1];this._time.push(c,p);for(var f=0;f<2;++f)for(var S=0;S<b;++S)g.push(g[x++]),h.push(0);for(this._time.push(p),S=b;S>0;--S)g.push(n(m[S-1],w[S-1],arguments[S])),h.push(0)}},o.push=function(p){var c=this.lastT(),b=this.dimension;if(!(p<c||arguments.length!==b+1)){var g=this._state,h=this._velocity,x=g.length-this.dimension,v=p-c,m=this.bounds,w=m[0],f=m[1],S=v>1e-6?1/v:0;this._time.push(p);for(var T=b;T>0;--T){var E=n(w[T-1],f[T-1],arguments[T]);g.push(E),h.push((E-g[x++])*S)}}},o.set=function(p){var c=this.dimension;if(!(p<this.lastT()||arguments.length!==c+1)){var b=this._state,g=this._velocity,h=this.bounds,x=h[0],v=h[1];this._time.push(p);for(var m=c;m>0;--m)b.push(n(x[m-1],v[m-1],arguments[m])),g.push(0)}},o.move=function(p){var c=this.lastT(),b=this.dimension;if(!(p<=c||arguments.length!==b+1)){var g=this._state,h=this._velocity,x=g.length-this.dimension,v=this.bounds,m=v[0],w=v[1],f=p-c,S=f>1e-6?1/f:0;this._time.push(p);for(var T=b;T>0;--T){var E=arguments[T];g.push(n(m[T-1],w[T-1],g[x++]+E)),h.push(E*S)}}},o.idle=function(p){var c=this.lastT();if(!(p<c)){var b=this.dimension,g=this._state,h=this._velocity,x=g.length-b,v=this.bounds,m=v[0],w=v[1],f=p-c;this._time.push(p);for(var S=b-1;S>=0;--S)g.push(n(m[S],w[S],g[x]+f*h[x])),h.push(0),x+=1}}},7080:function(d){function s(x,v,m,w,f,S){this._color=x,this.key=v,this.value=m,this.left=w,this.right=f,this._count=S}function t(x){return new s(x._color,x.key,x.value,x.left,x.right,x._count)}function i(x,v){return new s(x,v.key,v.value,v.left,v.right,v._count)}function r(x){x._count=1+(x.left?x.left._count:0)+(x.right?x.right._count:0)}function n(x,v){this._compare=x,this.root=v}d.exports=function(x){return new n(x||h,null)};var l=n.prototype;function o(x,v){var m;return v.left&&(m=o(x,v.left))?m:(m=x(v.key,v.value))||(v.right?o(x,v.right):void 0)}function u(x,v,m,w){if(v(x,w.key)<=0){var f;if(w.left&&(f=u(x,v,m,w.left))||(f=m(w.key,w.value)))return f}if(w.right)return u(x,v,m,w.right)}function p(x,v,m,w,f){var S,T=m(x,f.key),E=m(v,f.key);if(T<=0&&(f.left&&(S=p(x,v,m,w,f.left))||E>0&&(S=w(f.key,f.value))))return S;if(E>0&&f.right)return p(x,v,m,w,f.right)}function c(x,v){this.tree=x,this._stack=v}Object.defineProperty(l,"keys",{get:function(){var x=[];return this.forEach(function(v,m){x.push(v)}),x}}),Object.defineProperty(l,"values",{get:function(){var x=[];return this.forEach(function(v,m){x.push(m)}),x}}),Object.defineProperty(l,"length",{get:function(){return this.root?this.root._count:0}}),l.insert=function(x,v){for(var m=this._compare,w=this.root,f=[],S=[];w;){var T=m(x,w.key);f.push(w),S.push(T),w=T<=0?w.left:w.right}f.push(new s(0,x,v,null,null,1));for(var E=f.length-2;E>=0;--E)w=f[E],S[E]<=0?f[E]=new s(w._color,w.key,w.value,f[E+1],w.right,w._count+1):f[E]=new s(w._color,w.key,w.value,w.left,f[E+1],w._count+1);for(E=f.length-1;E>1;--E){var L=f[E-1];if(w=f[E],L._color===1||w._color===1)break;var C=f[E-2];if(C.left===L)if(L.left===w){if(!(P=C.right)||P._color!==0){C._color=0,C.left=L.right,L._color=1,L.right=C,f[E-2]=L,f[E-1]=w,r(C),r(L),E>=3&&((R=f[E-3]).left===C?R.left=L:R.right=L);break}L._color=1,C.right=i(1,P),C._color=0,E-=1}else{if(!(P=C.right)||P._color!==0){L.right=w.left,C._color=0,C.left=w.right,w._color=1,w.left=L,w.right=C,f[E-2]=w,f[E-1]=L,r(C),r(L),r(w),E>=3&&((R=f[E-3]).left===C?R.left=w:R.right=w);break}L._color=1,C.right=i(1,P),C._color=0,E-=1}else if(L.right===w){if(!(P=C.left)||P._color!==0){C._color=0,C.right=L.left,L._color=1,L.left=C,f[E-2]=L,f[E-1]=w,r(C),r(L),E>=3&&((R=f[E-3]).right===C?R.right=L:R.left=L);break}L._color=1,C.left=i(1,P),C._color=0,E-=1}else{var P;if(!(P=C.left)||P._color!==0){var R;L.left=w.right,C._color=0,C.right=w.left,w._color=1,w.right=L,w.left=C,f[E-2]=w,f[E-1]=L,r(C),r(L),r(w),E>=3&&((R=f[E-3]).right===C?R.right=w:R.left=w);break}L._color=1,C.left=i(1,P),C._color=0,E-=1}}return f[0]._color=1,new n(m,f[0])},l.forEach=function(x,v,m){if(this.root)switch(arguments.length){case 1:return o(x,this.root);case 2:return u(v,this._compare,x,this.root);case 3:return this._compare(v,m)>=0?void 0:p(v,m,this._compare,x,this.root)}},Object.defineProperty(l,"begin",{get:function(){for(var x=[],v=this.root;v;)x.push(v),v=v.left;return new c(this,x)}}),Object.defineProperty(l,"end",{get:function(){for(var x=[],v=this.root;v;)x.push(v),v=v.right;return new c(this,x)}}),l.at=function(x){if(x<0)return new c(this,[]);for(var v=this.root,m=[];;){if(m.push(v),v.left){if(x<v.left._count){v=v.left;continue}x-=v.left._count}if(!x)return new c(this,m);if(x-=1,!v.right||x>=v.right._count)break;v=v.right}return new c(this,[])},l.ge=function(x){for(var v=this._compare,m=this.root,w=[],f=0;m;){var S=v(x,m.key);w.push(m),S<=0&&(f=w.length),m=S<=0?m.left:m.right}return w.length=f,new c(this,w)},l.gt=function(x){for(var v=this._compare,m=this.root,w=[],f=0;m;){var S=v(x,m.key);w.push(m),S<0&&(f=w.length),m=S<0?m.left:m.right}return w.length=f,new c(this,w)},l.lt=function(x){for(var v=this._compare,m=this.root,w=[],f=0;m;){var S=v(x,m.key);w.push(m),S>0&&(f=w.length),m=S<=0?m.left:m.right}return w.length=f,new c(this,w)},l.le=function(x){for(var v=this._compare,m=this.root,w=[],f=0;m;){var S=v(x,m.key);w.push(m),S>=0&&(f=w.length),m=S<0?m.left:m.right}return w.length=f,new c(this,w)},l.find=function(x){for(var v=this._compare,m=this.root,w=[];m;){var f=v(x,m.key);if(w.push(m),f===0)return new c(this,w);m=f<=0?m.left:m.right}return new c(this,[])},l.remove=function(x){var v=this.find(x);return v?v.remove():this},l.get=function(x){for(var v=this._compare,m=this.root;m;){var w=v(x,m.key);if(w===0)return m.value;m=w<=0?m.left:m.right}};var b=c.prototype;function g(x,v){x.key=v.key,x.value=v.value,x.left=v.left,x.right=v.right,x._color=v._color,x._count=v._count}function h(x,v){return x<v?-1:x>v?1:0}Object.defineProperty(b,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(b,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),b.clone=function(){return new c(this.tree,this._stack.slice())},b.remove=function(){var x=this._stack;if(x.length===0)return this.tree;var v=new Array(x.length),m=x[x.length-1];v[v.length-1]=new s(m._color,m.key,m.value,m.left,m.right,m._count);for(var w=x.length-2;w>=0;--w)(m=x[w]).left===x[w+1]?v[w]=new s(m._color,m.key,m.value,v[w+1],m.right,m._count):v[w]=new s(m._color,m.key,m.value,m.left,v[w+1],m._count);if((m=v[v.length-1]).left&&m.right){var f=v.length;for(m=m.left;m.right;)v.push(m),m=m.right;var S=v[f-1];for(v.push(new s(m._color,S.key,S.value,m.left,m.right,m._count)),v[f-1].key=m.key,v[f-1].value=m.value,w=v.length-2;w>=f;--w)m=v[w],v[w]=new s(m._color,m.key,m.value,m.left,v[w+1],m._count);v[f-1].left=v[f]}if((m=v[v.length-1])._color===0){var T=v[v.length-2];for(T.left===m?T.left=null:T.right===m&&(T.right=null),v.pop(),w=0;w<v.length;++w)v[w]._count--;return new n(this.tree._compare,v[0])}if(m.left||m.right){for(m.left?g(m,m.left):m.right&&g(m,m.right),m._color=1,w=0;w<v.length-1;++w)v[w]._count--;return new n(this.tree._compare,v[0])}if(v.length===1)return new n(this.tree._compare,null);for(w=0;w<v.length;++w)v[w]._count--;var E=v[v.length-2];return function(L){for(var C,P,R,G,I=L.length-1;I>=0;--I){if(C=L[I],I===0)return void(C._color=1);if((P=L[I-1]).left===C){if((R=P.right).right&&R.right._color===0)return G=(R=P.right=t(R)).right=t(R.right),P.right=R.left,R.left=P,R.right=G,R._color=P._color,C._color=1,P._color=1,G._color=1,r(P),r(R),I>1&&((H=L[I-2]).left===P?H.left=R:H.right=R),void(L[I-1]=R);if(R.left&&R.left._color===0)return G=(R=P.right=t(R)).left=t(R.left),P.right=G.left,R.left=G.right,G.left=P,G.right=R,G._color=P._color,P._color=1,R._color=1,C._color=1,r(P),r(R),r(G),I>1&&((H=L[I-2]).left===P?H.left=G:H.right=G),void(L[I-1]=G);if(R._color===1){if(P._color===0)return P._color=1,void(P.right=i(0,R));P.right=i(0,R);continue}R=t(R),P.right=R.left,R.left=P,R._color=P._color,P._color=0,r(P),r(R),I>1&&((H=L[I-2]).left===P?H.left=R:H.right=R),L[I-1]=R,L[I]=P,I+1<L.length?L[I+1]=C:L.push(C),I+=2}else{if((R=P.left).left&&R.left._color===0)return G=(R=P.left=t(R)).left=t(R.left),P.left=R.right,R.right=P,R.left=G,R._color=P._color,C._color=1,P._color=1,G._color=1,r(P),r(R),I>1&&((H=L[I-2]).right===P?H.right=R:H.left=R),void(L[I-1]=R);if(R.right&&R.right._color===0)return G=(R=P.left=t(R)).right=t(R.right),P.left=G.right,R.right=G.left,G.right=P,G.left=R,G._color=P._color,P._color=1,R._color=1,C._color=1,r(P),r(R),r(G),I>1&&((H=L[I-2]).right===P?H.right=G:H.left=G),void(L[I-1]=G);if(R._color===1){if(P._color===0)return P._color=1,void(P.left=i(0,R));P.left=i(0,R);continue}var H;R=t(R),P.left=R.right,R.right=P,R._color=P._color,P._color=0,r(P),r(R),I>1&&((H=L[I-2]).right===P?H.right=R:H.left=R),L[I-1]=R,L[I]=P,I+1<L.length?L[I+1]=C:L.push(C),I+=2}}}(v),E.left===m?E.left=null:E.right=null,new n(this.tree._compare,v[0])},Object.defineProperty(b,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(b,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(b,"index",{get:function(){var x=0,v=this._stack;if(v.length===0){var m=this.tree.root;return m?m._count:0}v[v.length-1].left&&(x=v[v.length-1].left._count);for(var w=v.length-2;w>=0;--w)v[w+1]===v[w].right&&(++x,v[w].left&&(x+=v[w].left._count));return x},enumerable:!0}),b.next=function(){var x=this._stack;if(x.length!==0){var v=x[x.length-1];if(v.right)for(v=v.right;v;)x.push(v),v=v.left;else for(x.pop();x.length>0&&x[x.length-1].right===v;)v=x[x.length-1],x.pop()}},Object.defineProperty(b,"hasNext",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].right)return!0;for(var v=x.length-1;v>0;--v)if(x[v-1].left===x[v])return!0;return!1}}),b.update=function(x){var v=this._stack;if(v.length===0)throw new Error("Can't update empty node!");var m=new Array(v.length),w=v[v.length-1];m[m.length-1]=new s(w._color,w.key,x,w.left,w.right,w._count);for(var f=v.length-2;f>=0;--f)(w=v[f]).left===v[f+1]?m[f]=new s(w._color,w.key,w.value,m[f+1],w.right,w._count):m[f]=new s(w._color,w.key,w.value,w.left,m[f+1],w._count);return new n(this.tree._compare,m[0])},b.prev=function(){var x=this._stack;if(x.length!==0){var v=x[x.length-1];if(v.left)for(v=v.left;v;)x.push(v),v=v.right;else for(x.pop();x.length>0&&x[x.length-1].left===v;)v=x[x.length-1],x.pop()}},Object.defineProperty(b,"hasPrev",{get:function(){var x=this._stack;if(x.length===0)return!1;if(x[x.length-1].left)return!0;for(var v=x.length-1;v>0;--v)if(x[v-1].right===x[v])return!0;return!1}})},7453:function(d,s,t){d.exports=function(T,E){var L=new c(T);return L.update(E),L};var i=t(9557),r=t(1681),n=t(1011),l=t(2864),o=t(8468),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function p(T,E){return T[0]=E[0],T[1]=E[1],T[2]=E[2],T}function c(T){this.gl=T,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=["sans-serif","sans-serif","sans-serif"],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=["auto","auto","auto"],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=["x","y","z"],this.labelEnable=[!0,!0,!0],this.labelFont="sans-serif",this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=["auto","auto","auto"],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=n(T)}var b=c.prototype;function g(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}b.update=function(T){function E(te,$,K){if(K in T){var Z,X=T[K],ee=this[K];(te?Array.isArray(X)&&Array.isArray(X[0]):Array.isArray(X))?this[K]=Z=[$(X[0]),$(X[1]),$(X[2])]:this[K]=Z=[$(X),$(X),$(X)];for(var ne=0;ne<3;++ne)if(Z[ne]!==ee[ne])return!0}return!1}T=T||{};var L,C=E.bind(this,!1,Number),P=E.bind(this,!1,Boolean),R=E.bind(this,!1,String),G=E.bind(this,!0,function(te){if(Array.isArray(te)){if(te.length===3)return[+te[0],+te[1],+te[2],1];if(te.length===4)return[+te[0],+te[1],+te[2],+te[3]]}return[0,0,0,1]}),I=!1,H=!1;if("bounds"in T)for(var N=T.bounds,B=0;B<2;++B)for(var V=0;V<3;++V)N[B][V]!==this.bounds[B][V]&&(H=!0),this.bounds[B][V]=N[B][V];if("ticks"in T)for(L=T.ticks,I=!0,this.autoTicks=!1,B=0;B<3;++B)this.tickSpacing[B]=0;else C("tickSpacing")&&(this.autoTicks=!0,H=!0);if(this._firstInit&&("ticks"in T||"tickSpacing"in T||(this.autoTicks=!0),H=!0,I=!0,this._firstInit=!1),H&&this.autoTicks&&(L=o.create(this.bounds,this.tickSpacing),I=!0),I){for(B=0;B<3;++B)L[B].sort(function(te,$){return te.x-$.x});o.equal(L,this.ticks)?I=!1:this.ticks=L}P("tickEnable"),R("tickFont")&&(I=!0),C("tickSize"),C("tickAngle"),C("tickPad"),G("tickColor");var q=R("labels");R("labelFont")&&(q=!0),P("labelEnable"),C("labelSize"),C("labelPad"),G("labelColor"),P("lineEnable"),P("lineMirror"),C("lineWidth"),G("lineColor"),P("lineTickEnable"),P("lineTickMirror"),C("lineTickLength"),C("lineTickWidth"),G("lineTickColor"),P("gridEnable"),C("gridWidth"),G("gridColor"),P("zeroEnable"),G("zeroLineColor"),C("zeroLineWidth"),P("backgroundEnable"),G("backgroundColor"),this._text?this._text&&(q||I)&&this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=i(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&&I&&(this._lines.dispose(),this._lines=null),this._lines||(this._lines=r(this.gl,this.bounds,this.ticks))};var h=[new g,new g,new g];function x(T,E,L,C,P){for(var R=T.primalOffset,G=T.primalMinor,I=T.mirrorOffset,H=T.mirrorMinor,N=C[E],B=0;B<3;++B)if(E!==B){var V=R,q=I,te=G,$=H;N&1<<B&&(V=I,q=R,te=H,$=G),V[B]=L[0][B],q[B]=L[1][B],P[B]>0?(te[B]=-1,$[B]=0):(te[B]=0,$[B]=1)}}var v=[0,0,0],m={model:u,view:u,projection:u,_ortho:!1};b.isOpaque=function(){return!0},b.isTransparent=function(){return!1},b.drawTransparent=function(T){};var w=[0,0,0],f=[0,0,0],S=[0,0,0];b.draw=function(T){T=T||m;for(var E=this.gl,L=T.model||u,C=T.view||u,P=T.projection||u,R=this.bounds,G=T._ortho||!1,I=l(L,C,P,R,G),H=I.cubeEdges,N=I.axis,B=C[12],V=C[13],q=C[14],te=C[15],$=(G?2:1)*this.pixelRatio*(P[3]*B+P[7]*V+P[11]*q+P[15]*te)/E.drawingBufferHeight,K=0;K<3;++K)this.lastCubeProps.cubeEdges[K]=H[K],this.lastCubeProps.axis[K]=N[K];var Z=h;for(K=0;K<3;++K)x(h[K],K,this.bounds,H,N);E=this.gl;var X,ee,ne,re=v;for(K=0;K<3;++K)this.backgroundEnable[K]?re[K]=N[K]:re[K]=0;for(this._background.draw(L,C,P,R,re,this.backgroundColor),this._lines.bind(L,C,P,this),K=0;K<3;++K){var ae=[0,0,0];N[K]>0?ae[K]=R[1][K]:ae[K]=R[0][K];for(var ue=0;ue<2;++ue){var pe=(K+1+ue)%3,ge=(K+1+(1^ue))%3;this.gridEnable[pe]&&this._lines.drawGrid(pe,ge,this.bounds,ae,this.gridColor[pe],this.gridWidth[pe]*this.pixelRatio)}for(ue=0;ue<2;++ue)pe=(K+1+ue)%3,ge=(K+1+(1^ue))%3,this.zeroEnable[ge]&&Math.min(R[0][ge],R[1][ge])<=0&&Math.max(R[0][ge],R[1][ge])>=0&&this._lines.drawZero(pe,ge,this.bounds,ae,this.zeroLineColor[ge],this.zeroLineWidth[ge]*this.pixelRatio)}for(K=0;K<3;++K){this.lineEnable[K]&&this._lines.drawAxisLine(K,this.bounds,Z[K].primalOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio),this.lineMirror[K]&&this._lines.drawAxisLine(K,this.bounds,Z[K].mirrorOffset,this.lineColor[K],this.lineWidth[K]*this.pixelRatio);var we=p(w,Z[K].primalMinor),me=p(f,Z[K].mirrorMinor),ve=this.lineTickLength;for(ue=0;ue<3;++ue){var Ie=$/L[5*ue];we[ue]*=ve[ue]*Ie,me[ue]*=ve[ue]*Ie}this.lineTickEnable[K]&&this._lines.drawAxisTicks(K,Z[K].primalOffset,we,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio),this.lineTickMirror[K]&&this._lines.drawAxisTicks(K,Z[K].mirrorOffset,me,this.lineTickColor[K],this.lineTickWidth[K]*this.pixelRatio)}function Se(Me){(ne=[0,0,0])[Me]=1}function ke(Me,_e,De){var Ne=(Me+1)%3,ce=(Me+2)%3,Te=_e[Ne],ye=_e[ce],Oe=De[Ne],Be=De[ce];Te>0&&Be>0||Te>0&&Be<0||Te<0&&Be>0||Te<0&&Be<0?Se(Ne):(ye>0&&Oe>0||ye>0&&Oe<0||ye<0&&Oe>0||ye<0&&Oe<0)&&Se(ce)}for(this._lines.unbind(),this._text.bind(L,C,P,this.pixelRatio),K=0;K<3;++K){var se=Z[K].primalMinor,oe=Z[K].mirrorMinor,he=p(S,Z[K].primalOffset);for(ue=0;ue<3;++ue)this.lineTickEnable[K]&&(he[ue]+=$*se[ue]*Math.max(this.lineTickLength[ue],0)/L[5*ue]);var Le=[0,0,0];if(Le[K]=1,this.tickEnable[K]){for(this.tickAngle[K]===-3600?(this.tickAngle[K]=0,this.tickAlign[K]="auto"):this.tickAlign[K]=-1,ee=1,(X=[this.tickAlign[K],.5,ee])[0]==="auto"?X[0]=0:X[0]=parseInt(""+X[0]),ne=[0,0,0],ke(K,se,oe),ue=0;ue<3;++ue)he[ue]+=$*se[ue]*this.tickPad[ue]/L[5*ue];this._text.drawTicks(K,this.tickSize[K],this.tickAngle[K],he,this.tickColor[K],Le,ne,X)}if(this.labelEnable[K]){for(ee=0,ne=[0,0,0],this.labels[K].length>4&&(Se(K),ee=1),(X=[this.labelAlign[K],.5,ee])[0]==="auto"?X[0]=0:X[0]=parseInt(""+X[0]),ue=0;ue<3;++ue)he[ue]+=$*se[ue]*this.labelPad[ue]/L[5*ue];he[K]+=.5*(R[0][K]+R[1][K]),this._text.drawLabel(K,this.labelSize[K],this.labelAngle[K],he,this.labelColor[K],[0,0,0],ne,X)}}this._text.unbind()},b.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},1011:function(d,s,t){d.exports=function(u){for(var p=[],c=[],b=0,g=0;g<3;++g)for(var h=(g+1)%3,x=(g+2)%3,v=[0,0,0],m=[0,0,0],w=-1;w<=1;w+=2){c.push(b,b+2,b+1,b+1,b+2,b+3),v[g]=w,m[g]=w;for(var f=-1;f<=1;f+=2){v[h]=f;for(var S=-1;S<=1;S+=2)v[x]=S,p.push(v[0],v[1],v[2],m[0],m[1],m[2]),b+=1}var T=h;h=x,x=T}var E=i(u,new Float32Array(p)),L=i(u,new Uint16Array(c),u.ELEMENT_ARRAY_BUFFER),C=r(u,[{buffer:E,type:u.FLOAT,size:3,offset:0,stride:24},{buffer:E,type:u.FLOAT,size:3,offset:12,stride:24}],L),P=n(u);return P.attributes.position.location=0,P.attributes.normal.location=1,new l(u,E,C,P)};var i=t(5827),r=t(2944),n=t(1943).bg;function l(u,p,c,b){this.gl=u,this.buffer=p,this.vao=c,this.shader=b}var o=l.prototype;o.draw=function(u,p,c,b,g,h){for(var x=!1,v=0;v<3;++v)x=x||g[v];if(x){var m=this.gl;m.enable(m.POLYGON_OFFSET_FILL),m.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:u,view:p,projection:c,bounds:b,enable:g,colors:h},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),m.disable(m.POLYGON_OFFSET_FILL)}},o.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},2864:function(d,s,t){d.exports=function(f,S,T,E,L){r(o,S,f),r(o,T,o);for(var C=0,P=0;P<2;++P){c[2]=E[P][2];for(var R=0;R<2;++R){c[1]=E[R][1];for(var G=0;G<2;++G)c[0]=E[G][0],g(u[C],c,o),C+=1}}var I=-1;for(P=0;P<8;++P){for(var H=u[P][3],N=0;N<3;++N)p[P][N]=u[P][N]/H;L&&(p[P][2]*=-1),H<0&&(I<0||p[P][2]<p[I][2])&&(I=P)}if(I<0){I=0;for(var B=0;B<3;++B){for(var V=(B+2)%3,q=(B+1)%3,te=-1,$=-1,K=0;K<2;++K){var Z=(ee=K<<B)+(K<<V)+(1-K<<q),X=ee+(1-K<<V)+(K<<q);l(p[ee],p[Z],p[X],b)<0||(K?te=1:$=1)}if(te<0||$<0)$>te&&(I|=1<<B);else{for(K=0;K<2;++K){Z=(ee=K<<B)+(K<<V)+(1-K<<q),X=ee+(1-K<<V)+(K<<q);var ee,ne=x([u[ee],u[Z],u[X],u[ee+(1<<V)+(1<<q)]]);K?te=ne:$=ne}$>te&&(I|=1<<B)}}}var re=7^I,ae=-1;for(P=0;P<8;++P)P!==I&&P!==re&&(ae<0||p[ae][1]>p[P][1])&&(ae=P);var ue=-1;for(P=0;P<3;++P)(ge=ae^1<<P)!==I&&ge!==re&&(ue<0&&(ue=ge),(q=p[ge])[0]<p[ue][0]&&(ue=ge));var pe=-1;for(P=0;P<3;++P){var ge;(ge=ae^1<<P)!==I&&ge!==re&&ge!==ue&&(pe<0&&(pe=ge),(q=p[ge])[0]>p[pe][0]&&(pe=ge))}var we=v;we[0]=we[1]=we[2]=0,we[i.log2(ue^ae)]=ae&ue,we[i.log2(ae^pe)]=ae&pe;var me=7^pe;me===I||me===re?(me=7^ue,we[i.log2(pe^me)]=me&pe):we[i.log2(ue^me)]=me&ue;var ve=m,Ie=I;for(B=0;B<3;++B)ve[B]=Ie&1<<B?-1:1;return w};var i=t(2288),r=t(104),n=t(4670),l=t(417),o=new Array(16),u=new Array(8),p=new Array(8),c=new Array(3),b=[0,0,0];function g(f,S,T){for(var E=0;E<4;++E){f[E]=T[12+E];for(var L=0;L<3;++L)f[E]+=S[L]*T[4*L+E]}}(function(){for(var f=0;f<8;++f)u[f]=[1,1,1,1],p[f]=[1,1,1]})();var h=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function x(f){for(var S=0;S<h.length;++S)if((f=n.positive(f,h[S])).length<3)return 0;var T=f[0],E=T[0]/T[3],L=T[1]/T[3],C=0;for(S=1;S+1<f.length;++S){var P=f[S],R=f[S+1],G=P[0]/P[3]-E,I=P[1]/P[3]-L,H=R[0]/R[3]-E,N=R[1]/R[3]-L;C+=Math.abs(G*N-I*H)}return C}var v=[1,1,1],m=[0,0,0],w={cubeEdges:v,axis:m}},1681:function(d,s,t){d.exports=function(v,m,w){var f=[],S=[0,0,0],T=[0,0,0],E=[0,0,0],L=[0,0,0];f.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var C=0;C<3;++C){for(var P=f.length/3|0,R=0;R<w[C].length;++R){var G=+w[C][R].x;f.push(G,0,1,G,1,1,G,0,-1,G,0,-1,G,1,1,G,1,-1)}var I=f.length/3|0;S[C]=P,T[C]=I-P,P=f.length/3|0;for(var H=0;H<w[C].length;++H)G=+w[C][H].x,f.push(G,0,1,G,1,1,G,0,-1,G,0,-1,G,1,1,G,1,-1);I=f.length/3|0,E[C]=P,L[C]=I-P}var N=i(v,new Float32Array(f)),B=r(v,[{buffer:N,type:v.FLOAT,size:3,stride:0,offset:0}]),V=n(v);return V.attributes.position.location=0,new h(v,N,B,V,T,S,L,E)};var i=t(5827),r=t(2944),n=t(1943).j,l=[0,0,0],o=[0,0,0],u=[0,0,0],p=[0,0,0],c=[1,1];function b(v){return v[0]=v[1]=v[2]=0,v}function g(v,m){return v[0]=m[0],v[1]=m[1],v[2]=m[2],v}function h(v,m,w,f,S,T,E,L){this.gl=v,this.vertBuffer=m,this.vao=w,this.shader=f,this.tickCount=S,this.tickOffset=T,this.gridCount=E,this.gridOffset=L}var x=h.prototype;x.bind=function(v,m,w){this.shader.bind(),this.shader.uniforms.model=v,this.shader.uniforms.view=m,this.shader.uniforms.projection=w,c[0]=this.gl.drawingBufferWidth,c[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=c,this.vao.bind()},x.unbind=function(){this.vao.unbind()},x.drawAxisLine=function(v,m,w,f,S){var T=b(o);this.shader.uniforms.majorAxis=o,T[v]=m[1][v]-m[0][v],this.shader.uniforms.minorAxis=T;var E,L=g(p,w);L[v]+=m[0][v],this.shader.uniforms.offset=L,this.shader.uniforms.lineWidth=S,this.shader.uniforms.color=f,(E=b(u))[(v+2)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6),(E=b(u))[(v+1)%3]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,6)},x.drawAxisTicks=function(v,m,w,f,S){if(this.tickCount[v]){var T=b(l);T[v]=1,this.shader.uniforms.majorAxis=T,this.shader.uniforms.offset=m,this.shader.uniforms.minorAxis=w,this.shader.uniforms.color=f,this.shader.uniforms.lineWidth=S;var E=b(u);E[v]=1,this.shader.uniforms.screenAxis=E,this.vao.draw(this.gl.TRIANGLES,this.tickCount[v],this.tickOffset[v])}},x.drawGrid=function(v,m,w,f,S,T){if(this.gridCount[v]){var E=b(o);E[m]=w[1][m]-w[0][m],this.shader.uniforms.minorAxis=E;var L=g(p,f);L[m]+=w[0][m],this.shader.uniforms.offset=L;var C=b(l);C[v]=1,this.shader.uniforms.majorAxis=C;var P=b(u);P[v]=1,this.shader.uniforms.screenAxis=P,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,this.gridCount[v],this.gridOffset[v])}},x.drawZero=function(v,m,w,f,S,T){var E=b(o);this.shader.uniforms.majorAxis=E,E[v]=w[1][v]-w[0][v],this.shader.uniforms.minorAxis=E;var L=g(p,f);L[v]+=w[0][v],this.shader.uniforms.offset=L;var C=b(u);C[m]=1,this.shader.uniforms.screenAxis=C,this.shader.uniforms.lineWidth=T,this.shader.uniforms.color=S,this.vao.draw(this.gl.TRIANGLES,6)},x.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},1943:function(d,s,t){var i=t(6832),r=t(5158),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, majorAxis, minorAxis, screenAxis;
uniform float lineWidth;
uniform vec2 screenShape;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

void main() {
  vec3 major = position.x * majorAxis;
  vec3 minor = position.y * minorAxis;

  vec3 vPosition = major + minor + offset;
  vec3 pPosition = project(vPosition);
  vec3 offset = project(vPosition + screenAxis * position.z);

  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;

  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.j=function(b){return r(b,n,l,null,[{name:"position",type:"vec3"}])};var o=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;
uniform vec3 offset, axis, alignDir, alignOpt;
uniform float scale, angle, pixelScale;
uniform vec2 resolution;

vec3 project(vec3 p) {
  vec4 pp = projection * view * model * vec4(p, 1.0);
  return pp.xyz / max(pp.w, 0.0001);
}

float computeViewAngle(vec3 a, vec3 b) {
  vec3 A = project(a);
  vec3 B = project(b);

  return atan(
    (B.y - A.y) * resolution.y,
    (B.x - A.x) * resolution.x
  );
}

const float PI = 3.141592;
const float TWO_PI = 2.0 * PI;
const float HALF_PI = 0.5 * PI;
const float ONE_AND_HALF_PI = 1.5 * PI;

int option = int(floor(alignOpt.x + 0.001));
float hv_ratio =       alignOpt.y;
bool enableAlign =    (alignOpt.z != 0.0);

float mod_angle(float a) {
  return mod(a, PI);
}

float positive_angle(float a) {
  return mod_angle((a < 0.0) ?
    a + TWO_PI :
    a
  );
}

float look_upwards(float a) {
  float b = positive_angle(a);
  return ((b > HALF_PI) && (b <= ONE_AND_HALF_PI)) ?
    b - PI :
    b;
}

float look_horizontal_or_vertical(float a, float ratio) {
  // ratio controls the ratio between being horizontal to (vertical + horizontal)
  // if ratio is set to 0.5 then it is 50%, 50%.
  // when using a higher ratio e.g. 0.75 the result would
  // likely be more horizontal than vertical.

  float b = positive_angle(a);

  return
    (b < (      ratio) * HALF_PI) ? 0.0 :
    (b < (2.0 - ratio) * HALF_PI) ? -HALF_PI :
    (b < (2.0 + ratio) * HALF_PI) ? 0.0 :
    (b < (4.0 - ratio) * HALF_PI) ? HALF_PI :
                                    0.0;
}

float roundTo(float a, float b) {
  return float(b * floor((a + 0.5 * b) / b));
}

float look_round_n_directions(float a, int n) {
  float b = positive_angle(a);
  float div = TWO_PI / float(n);
  float c = roundTo(b, div);
  return look_upwards(c);
}

float applyAlignOption(float rawAngle, float delta) {
  return
    (option >  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions
    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical
    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis
    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards
    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal
                    rawAngle;                // otherwise return back raw input angle
}

bool isAxisTitle = (axis.x == 0.0) &&
                   (axis.y == 0.0) &&
                   (axis.z == 0.0);

void main() {
  //Compute world offset
  float axisDistance = position.z;
  vec3 dataPosition = axisDistance * axis + offset;

  float beta = angle; // i.e. user defined attributes for each tick

  float axisAngle;
  float clipAngle;
  float flip;

  if (enableAlign) {
    axisAngle = (isAxisTitle) ? HALF_PI :
                      computeViewAngle(dataPosition, dataPosition + axis);
    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);

    axisAngle += (sin(axisAngle) < 0.0) ? PI : 0.0;
    clipAngle += (sin(clipAngle) < 0.0) ? PI : 0.0;

    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),
                vec2(sin(clipAngle),-cos(clipAngle))) > 0.0) ? 1.0 : 0.0;

    beta += applyAlignOption(clipAngle, flip * PI);
  }

  //Compute plane offset
  vec2 planeCoord = position.xy * pixelScale;

  mat2 planeXform = scale * mat2(
     cos(beta), sin(beta),
    -sin(beta), cos(beta)
  );

  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;

  //Compute clip position
  vec3 clipPosition = project(dataPosition);

  //Apply text offset in clip coordinates
  clipPosition += vec3(viewOffset, 0.0);

  //Done
  gl_Position = vec4(clipPosition, 1.0);
}`]),u=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 color;
void main() {
  gl_FragColor = color;
}`]);s.f=function(b){return r(b,o,u,null,[{name:"position",type:"vec3"}])};var p=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec3 normal;

uniform mat4 model, view, projection;
uniform vec3 enable;
uniform vec3 bounds[2];

varying vec3 colorChannel;

void main() {

  vec3 signAxis = sign(bounds[1] - bounds[0]);

  vec3 realNormal = signAxis * normal;

  if(dot(realNormal, enable) > 0.0) {
    vec3 minRange = min(bounds[0], bounds[1]);
    vec3 maxRange = max(bounds[0], bounds[1]);
    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));
    gl_Position = projection * view * model * vec4(nPosition, 1.0);
  } else {
    gl_Position = vec4(0,0,0,0);
  }

  colorChannel = abs(realNormal);
}`]),c=i([`precision highp float;
#define GLSLIFY 1

uniform vec4 colors[3];

varying vec3 colorChannel;

void main() {
  gl_FragColor = colorChannel.x * colors[0] +
                 colorChannel.y * colors[1] +
                 colorChannel.z * colors[2];
}`]);s.bg=function(b){return r(b,p,c,null,[{name:"position",type:"vec3"},{name:"normal",type:"vec3"}])}},9557:function(d,s,t){d.exports=function(g,h,x,v,m,w){var f=i(g),S=r(g,[{buffer:f,size:3}]),T=l(g);T.attributes.position.location=0;var E=new p(g,T,f,S);return E.update(h,x,v,m,w),E};var i=t(5827),r=t(2944),n=t(875),l=t(1943).f,o=window||k.global||{},u=o.__TEXT_CACHE||{};function p(g,h,x,v){this.gl=g,this.shader=h,this.buffer=x,this.vao=v,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}o.__TEXT_CACHE={};var c=p.prototype,b=[0,0];c.bind=function(g,h,x,v){this.vao.bind(),this.shader.bind();var m=this.shader.uniforms;m.model=g,m.view=h,m.projection=x,m.pixelScale=v,b[0]=this.gl.drawingBufferWidth,b[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=b},c.unbind=function(){this.vao.unbind()},c.update=function(g,h,x,v,m){var w=[];function f(G,I,H,N,B,V){var q=u[H];q||(q=u[H]={});var te=q[I];te||(te=q[I]=function(ue,pe){try{return n(ue,pe)}catch(ge){return console.warn('error vectorizing text:"'+ue+'" error:',ge),{cells:[],positions:[]}}}(I,{triangles:!0,font:H,textAlign:"center",textBaseline:"middle",lineSpacing:B,styletags:V}));for(var $=(N||12)/12,K=te.positions,Z=te.cells,X=0,ee=Z.length;X<ee;++X)for(var ne=Z[X],re=2;re>=0;--re){var ae=K[ne[re]];w.push($*ae[0],-$*ae[1],G)}}for(var S=[0,0,0],T=[0,0,0],E=[0,0,0],L=[0,0,0],C={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},P=0;P<3;++P){E[P]=w.length/3|0,f(.5*(g[0][P]+g[1][P]),h[P],x[P],12,1.25,C),L[P]=(w.length/3|0)-E[P],S[P]=w.length/3|0;for(var R=0;R<v[P].length;++R)v[P][R].text&&f(v[P][R].x,v[P][R].text,v[P][R].font||m,v[P][R].fontSize||12,1.25,C);T[P]=(w.length/3|0)-S[P]}this.buffer.update(w),this.tickOffset=S,this.tickCount=T,this.labelOffset=E,this.labelCount=L},c.drawTicks=function(g,h,x,v,m,w,f,S){this.tickCount[g]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=m,this.shader.uniforms.angle=x,this.shader.uniforms.scale=h,this.shader.uniforms.offset=v,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.tickCount[g],this.tickOffset[g]))},c.drawLabel=function(g,h,x,v,m,w,f,S){this.labelCount[g]&&(this.shader.uniforms.axis=w,this.shader.uniforms.color=m,this.shader.uniforms.angle=x,this.shader.uniforms.scale=h,this.shader.uniforms.offset=v,this.shader.uniforms.alignDir=f,this.shader.uniforms.alignOpt=S,this.vao.draw(this.gl.TRIANGLES,this.labelCount[g],this.labelOffset[g]))},c.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}},8468:function(d,s){function t(i,r){var n=i+"",l=n.indexOf("."),o=0;l>=0&&(o=n.length-l-1);var u=Math.pow(10,o),p=Math.round(i*r*u),c=p+"";if(c.indexOf("e")>=0)return c;var b=p/u,g=p%u;p<0?(b=0|-Math.ceil(b),g=0|-g):(b=0|Math.floor(b),g|=0);var h=""+b;if(p<0&&(h="-"+h),o){for(var x=""+g;x.length<o;)x="0"+x;return h+"."+x}return h}s.create=function(i,r){for(var n=[],l=0;l<3;++l){for(var o=[],u=(i[0][l],i[1][l],0);u*r[l]<=i[1][l];++u)o.push({x:u*r[l],text:t(r[l],u)});for(u=-1;u*r[l]>=i[0][l];--u)o.push({x:u*r[l],text:t(r[l],u)});n.push(o)}return n},s.equal=function(i,r){for(var n=0;n<3;++n){if(i[n].length!==r[n].length)return!1;for(var l=0;l<i[n].length;++l){var o=i[n][l],u=r[n][l];if(o.x!==u.x||o.text!==u.text||o.font!==u.font||o.fontColor!==u.fontColor||o.fontSize!==u.fontSize||o.dx!==u.dx||o.dy!==u.dy)return!1}}return!0}},2771:function(d,s,t){d.exports=function(w,f,S,T,E){var L=f.model||p,C=f.view||p,P=f.projection||p,R=f._ortho||!1,G=w.bounds,I=(E=E||n(L,C,P,G,R)).axis;l(c,C,L),l(c,P,c);for(var H=v,N=0;N<3;++N)H[N].lo=1/0,H[N].hi=-1/0,H[N].pixelsPerDataUnit=1/0;var B=i(o(c,c));o(c,c);for(var V=0;V<3;++V){var q=(V+1)%3,te=(V+2)%3,$=m;e:for(N=0;N<2;++N){var K=[];if(I[V]<0!=!!N){$[V]=G[N][V];for(var Z=0;Z<2;++Z){$[q]=G[Z^N][q];for(var X=0;X<2;++X)$[te]=G[X^Z^N][te],K.push($.slice())}var ee=R?5:4;for(Z=ee;Z===ee;++Z){if(K.length===0)continue e;K=r.positive(K,B[Z])}for(Z=0;Z<K.length;++Z){te=K[Z];var ne=x(m,c,te,S,T);for(X=0;X<3;++X)H[X].lo=Math.min(H[X].lo,te[X]),H[X].hi=Math.max(H[X].hi,te[X]),X!==V&&(H[X].pixelsPerDataUnit=Math.min(H[X].pixelsPerDataUnit,Math.abs(ne[X])))}}}}return H};var i=t(5795),r=t(4670),n=t(2864),l=t(104),o=t(2142),u=t(6342),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),c=new Float32Array(16);function b(w,f,S){this.lo=w,this.hi=f,this.pixelsPerDataUnit=S}var g=[0,0,0,1],h=[0,0,0,1];function x(w,f,S,T,E){for(var L=0;L<3;++L){for(var C=g,P=h,R=0;R<3;++R)P[R]=C[R]=S[R];P[3]=C[3]=1,P[L]+=1,u(P,P,f),P[3]<0&&(w[L]=1/0),C[L]-=1,u(C,C,f),C[3]<0&&(w[L]=1/0);var G=(C[0]/C[3]-P[0]/P[3])*T,I=(C[1]/C[3]-P[1]/P[3])*E;w[L]=.25*Math.sqrt(G*G+I*I)}return w}var v=[new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0),new b(1/0,-1/0,1/0)],m=[0,0,0]},5827:function(d,s,t){var i=t(5306),r=t(7498),n=t(5050),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"];function o(b,g,h,x,v){this.gl=b,this.type=g,this.handle=h,this.length=x,this.usage=v}var u=o.prototype;function p(b,g,h,x,v,m){var w=v.length*v.BYTES_PER_ELEMENT;if(m<0)return b.bufferData(g,v,x),w;if(w+m>h)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return b.bufferSubData(g,m,v),h}function c(b,g){for(var h=i.malloc(b.length,g),x=b.length,v=0;v<x;++v)h[v]=b[v];return h}u.bind=function(){this.gl.bindBuffer(this.type,this.handle)},u.unbind=function(){this.gl.bindBuffer(this.type,null)},u.dispose=function(){this.gl.deleteBuffer(this.handle)},u.update=function(b,g){if(typeof g!="number"&&(g=-1),this.bind(),typeof b=="object"&&b.shape!==void 0){var h=b.dtype;if(l.indexOf(h)<0&&(h="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER&&(h=gl.getExtension("OES_element_index_uint")&&h!=="uint16"?"uint32":"uint16"),h===b.dtype&&function(w,f){for(var S=1,T=f.length-1;T>=0;--T){if(f[T]!==S)return!1;S*=w[T]}return!0}(b.shape,b.stride))b.offset===0&&b.data.length===b.shape[0]?this.length=p(this.gl,this.type,this.length,this.usage,b.data,g):this.length=p(this.gl,this.type,this.length,this.usage,b.data.subarray(b.offset,b.shape[0]),g);else{var x=i.malloc(b.size,h),v=n(x,b.shape);r.assign(v,b),this.length=p(this.gl,this.type,this.length,this.usage,g<0?x:x.subarray(0,b.size),g),i.free(x)}}else if(Array.isArray(b)){var m;m=this.type===this.gl.ELEMENT_ARRAY_BUFFER?c(b,"uint16"):c(b,"float32"),this.length=p(this.gl,this.type,this.length,this.usage,g<0?m:m.subarray(0,b.length),g),i.free(m)}else if(typeof b=="object"&&typeof b.length=="number")this.length=p(this.gl,this.type,this.length,this.usage,b,g);else{if(typeof b!="number"&&b!==void 0)throw new Error("gl-buffer: Invalid data type");if(g>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");(b|=0)<=0&&(b=1),this.gl.bufferData(this.type,0|b,this.usage),this.length=b}},d.exports=function(b,g,h,x){if(h=h||b.ARRAY_BUFFER,x=x||b.DYNAMIC_DRAW,h!==b.ARRAY_BUFFER&&h!==b.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(x!==b.DYNAMIC_DRAW&&x!==b.STATIC_DRAW&&x!==b.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var v=b.createBuffer(),m=new o(b,h,v,0,x);return m.update(g),m}},1140:function(d,s,t){var i=t(2858);d.exports=function(n,l){var o=n.positions,u=n.vectors,p={positions:[],vertexIntensity:[],vertexIntensityBounds:n.vertexIntensityBounds,vectors:[],cells:[],coneOffset:n.coneOffset,colormap:n.colormap};if(n.positions.length===0)return l&&(l[0]=[0,0,0],l[1]=[0,0,0]),p;for(var c=0,b=1/0,g=-1/0,h=1/0,x=-1/0,v=1/0,m=-1/0,w=null,f=null,S=[],T=1/0,E=!1,L=0;L<o.length;L++){var C=o[L];b=Math.min(C[0],b),g=Math.max(C[0],g),h=Math.min(C[1],h),x=Math.max(C[1],x),v=Math.min(C[2],v),m=Math.max(C[2],m);var P=u[L];if(i.length(P)>c&&(c=i.length(P)),L){var R=2*i.distance(w,C)/(i.length(f)+i.length(P));R?(T=Math.min(T,R),E=!1):E=!0}E||(w=C,f=P),S.push(P)}var G=[b,h,v],I=[g,x,m];l&&(l[0]=G,l[1]=I),c===0&&(c=1);var H=1/c;isFinite(T)||(T=1),p.vectorScale=T;var N=n.coneSize||.5;n.absoluteConeSize&&(N=n.absoluteConeSize*H),p.coneScale=N,L=0;for(var B=0;L<o.length;L++)for(var V=(C=o[L])[0],q=C[1],te=C[2],$=S[L],K=i.length($)*H,Z=0;Z<8;Z++){p.positions.push([V,q,te,B++]),p.positions.push([V,q,te,B++]),p.positions.push([V,q,te,B++]),p.positions.push([V,q,te,B++]),p.positions.push([V,q,te,B++]),p.positions.push([V,q,te,B++]),p.vectors.push($),p.vectors.push($),p.vectors.push($),p.vectors.push($),p.vectors.push($),p.vectors.push($),p.vertexIntensity.push(K,K,K),p.vertexIntensity.push(K,K,K);var X=p.positions.length;p.cells.push([X-6,X-5,X-4],[X-3,X-2,X-1])}return p};var r=t(7234);d.exports.createMesh=t(5028),d.exports.createConeMesh=function(n,l){return d.exports.createMesh(n,l,{shaders:r,traceType:"cone"})}},5028:function(d,s,t){var i=t(5158),r=t(5827),n=t(2944),l=t(8931),o=t(104),u=t(7437),p=t(5050),c=t(9156),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(x,v,m,w,f,S,T,E,L,C,P){this.gl=x,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=v,this.dirty=!0,this.triShader=m,this.pickShader=w,this.trianglePositions=f,this.triangleVectors=S,this.triangleColors=E,this.triangleUVs=L,this.triangleIds=T,this.triangleVAO=C,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=P,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=b,this._view=b,this._projection=b,this._resolution=[1,1]}var h=g.prototype;h.isOpaque=function(){return this.opacity>=1},h.isTransparent=function(){return this.opacity<1},h.pickSlots=1,h.setPickBase=function(x){this.pickId=x},h.update=function(x){x=x||{};var v=this.gl;this.dirty=!0,"lightPosition"in x&&(this.lightPosition=x.lightPosition),"opacity"in x&&(this.opacity=x.opacity),"ambient"in x&&(this.ambientLight=x.ambient),"diffuse"in x&&(this.diffuseLight=x.diffuse),"specular"in x&&(this.specularLight=x.specular),"roughness"in x&&(this.roughness=x.roughness),"fresnel"in x&&(this.fresnel=x.fresnel),x.tubeScale!==void 0&&(this.tubeScale=x.tubeScale),x.vectorScale!==void 0&&(this.vectorScale=x.vectorScale),x.coneScale!==void 0&&(this.coneScale=x.coneScale),x.coneOffset!==void 0&&(this.coneOffset=x.coneOffset),x.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=v.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=v.LINEAR,this.texture.setPixels(function(ne){for(var re=c({colormap:ne,nshades:256,format:"rgba"}),ae=new Uint8Array(1024),ue=0;ue<256;++ue){for(var pe=re[ue],ge=0;ge<3;++ge)ae[4*ue+ge]=pe[ge];ae[4*ue+3]=255*pe[3]}return p(ae,[256,256,4],[4,0,1])}(x.colormap)),this.texture.generateMipmap());var m=x.cells,w=x.positions,f=x.vectors;if(w&&m&&f){var S=[],T=[],E=[],L=[],C=[];this.cells=m,this.positions=w,this.vectors=f;var P=x.meshColor||[1,1,1,1],R=x.vertexIntensity,G=1/0,I=-1/0;if(R)if(x.vertexIntensityBounds)G=+x.vertexIntensityBounds[0],I=+x.vertexIntensityBounds[1];else for(var H=0;H<R.length;++H){var N=R[H];G=Math.min(G,N),I=Math.max(I,N)}else for(H=0;H<w.length;++H)N=w[H][2],G=Math.min(G,N),I=Math.max(I,N);for(this.intensity=R||function(ne){for(var re=ne.length,ae=new Array(re),ue=0;ue<re;++ue)ae[ue]=ne[ue][2];return ae}(w),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],H=0;H<w.length;++H)for(var B=w[H],V=0;V<3;++V)!isNaN(B[V])&&isFinite(B[V])&&(this.bounds[0][V]=Math.min(this.bounds[0][V],B[V]),this.bounds[1][V]=Math.max(this.bounds[1][V],B[V]));var q=0;e:for(H=0;H<m.length;++H){var te=m[H];if(te.length===3){for(V=0;V<3;++V){B=w[K=te[V]];for(var $=0;$<3;++$)if(isNaN(B[$])||!isFinite(B[$]))continue e}for(V=0;V<3;++V){var K;B=w[K=te[2-V]],S.push(B[0],B[1],B[2],B[3]);var Z=f[K];T.push(Z[0],Z[1],Z[2],Z[3]||0);var X,ee=P;ee.length===3?E.push(ee[0],ee[1],ee[2],1):E.push(ee[0],ee[1],ee[2],ee[3]),X=R?[(R[K]-G)/(I-G),0]:[(B[2]-G)/(I-G),0],L.push(X[0],X[1]),C.push(H)}q+=1}}this.triangleCount=q,this.trianglePositions.update(S),this.triangleVectors.update(T),this.triangleColors.update(E),this.triangleUVs.update(L),this.triangleIds.update(new Uint32Array(C))}},h.drawTransparent=h.draw=function(x){x=x||{};for(var v=this.gl,m=x.model||b,w=x.view||b,f=x.projection||b,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);var E={model:m,view:w,projection:f,inverseModel:b.slice(),clipBounds:S,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};E.inverseModel=u(E.inverseModel,E.model),v.disable(v.CULL_FACE),this.texture.bind(0);var L=new Array(16);for(o(L,E.view,E.model),o(L,E.projection,L),u(L,L),T=0;T<3;++T)E.eyePosition[T]=L[12+T]/L[15];var C=L[15];for(T=0;T<3;++T)C+=this.lightPosition[T]*L[4*T+3];for(T=0;T<3;++T){for(var P=L[12+T],R=0;R<3;++R)P+=L[4*R+T]*this.lightPosition[R];E.lightPosition[T]=P/C}if(this.triangleCount>0){var G=this.triShader;G.bind(),G.uniforms=E,this.triangleVAO.bind(),v.drawArrays(v.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},h.drawPick=function(x){x=x||{};for(var v=this.gl,m=x.model||b,w=x.view||b,f=x.projection||b,S=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],T=0;T<3;++T)S[0][T]=Math.max(S[0][T],this.clipBounds[0][T]),S[1][T]=Math.min(S[1][T],this.clipBounds[1][T]);this._model=[].slice.call(m),this._view=[].slice.call(w),this._projection=[].slice.call(f),this._resolution=[v.drawingBufferWidth,v.drawingBufferHeight];var E={model:m,view:w,projection:f,clipBounds:S,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},L=this.pickShader;L.bind(),L.uniforms=E,this.triangleCount>0&&(this.triangleVAO.bind(),v.drawArrays(v.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},h.pick=function(x){if(!x||x.id!==this.pickId)return null;var v=x.value[0]+256*x.value[1]+65536*x.value[2],m=this.cells[v],w=this.positions[m[1]].slice(0,3),f={position:w,dataCoordinate:w,index:Math.floor(m[1]/48)};return this.traceType==="cone"?f.index=Math.floor(m[1]/48):this.traceType==="streamtube"&&(f.intensity=this.intensity[m[1]],f.velocity=this.vectors[m[1]].slice(0,3),f.divergence=this.vectors[m[1]][3],f.index=v),f},h.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},d.exports=function(x,v,m){var w=m.shaders;arguments.length===1&&(x=(v=x).gl);var f=function(I,H){var N=i(I,H.meshShader.vertex,H.meshShader.fragment,null,H.meshShader.attributes);return N.attributes.position.location=0,N.attributes.color.location=2,N.attributes.uv.location=3,N.attributes.vector.location=4,N}(x,w),S=function(I,H){var N=i(I,H.pickShader.vertex,H.pickShader.fragment,null,H.pickShader.attributes);return N.attributes.position.location=0,N.attributes.id.location=1,N.attributes.vector.location=4,N}(x,w),T=l(x,p(new Uint8Array([255,255,255,255]),[1,1,4]));T.generateMipmap(),T.minFilter=x.LINEAR_MIPMAP_LINEAR,T.magFilter=x.LINEAR;var E=r(x),L=r(x),C=r(x),P=r(x),R=r(x),G=new g(x,T,f,S,E,L,R,C,P,n(x,[{buffer:E,type:x.FLOAT,size:4},{buffer:R,type:x.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:C,type:x.FLOAT,size:4},{buffer:P,type:x.FLOAT,size:2},{buffer:L,type:x.FLOAT,size:4}]),m.traceType||"cone");return G.update(v),G}},7234:function(d,s,t){var i=t(6832),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec3 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, coneScale, coneOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * conePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(conePosition, 1.0);
  vec4 t_position  = view * conePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = conePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the cone vertex and normal at the given index.
//
// The returned vertex is for a cone with its top at origin and height of 1.0,
// pointing in the direction of the vector attribute.
//
// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.
// These vertices are used to make up the triangles of the cone by the following:
//   segment + 0 top vertex
//   segment + 1 perimeter vertex a+1
//   segment + 2 perimeter vertex a
//   segment + 3 center base vertex
//   segment + 4 perimeter vertex a
//   segment + 5 perimeter vertex a+1
// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.
// To go from index to segment, floor(index / 6)
// To go from segment to angle, 2*pi * (segment/segmentCount)
// To go from index to segment index, index - (segment*6)
//
vec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {

  const float segmentCount = 8.0;

  float index = rawIndex - floor(rawIndex /
    (segmentCount * 6.0)) *
    (segmentCount * 6.0);

  float segment = floor(0.001 + index/6.0);
  float segmentIndex = index - (segment*6.0);

  normal = -normalize(d);

  if (segmentIndex > 2.99 && segmentIndex < 3.01) {
    return mix(vec3(0.0), -d, coneOffset);
  }

  float nextAngle = (
    (segmentIndex > 0.99 &&  segmentIndex < 1.01) ||
    (segmentIndex > 4.99 &&  segmentIndex < 5.01)
  ) ? 1.0 : 0.0;
  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);

  vec3 v1 = mix(d, vec3(0.0), coneOffset);
  vec3 v2 = v1 - d;

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d)*0.25;
  vec3 y = v * sin(angle) * length(d)*0.25;
  vec3 v3 = v2 + x + y;
  if (segmentIndex < 3.0) {
    vec3 tx = u * sin(angle);
    vec3 ty = v * -cos(angle);
    vec3 tangent = tx + ty;
    normal = normalize(cross(v3 - v1, tangent));
  }

  if (segmentIndex == 0.0) {
    return mix(d, vec3(0.0), coneOffset);
  }
  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float vectorScale, coneScale, coneOffset;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);
  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);
  gl_Position = projection * view * conePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec3"}]},s.pickShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec3"}]}},1950:function(d){d.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},6603:function(d,s,t){var i=t(1950);d.exports=function(r){return i[r]}},3110:function(d,s,t){d.exports=function(g){var h=g.gl,x=i(h),v=r(h,[{buffer:x,type:h.FLOAT,size:3,offset:0,stride:40},{buffer:x,type:h.FLOAT,size:4,offset:12,stride:40},{buffer:x,type:h.FLOAT,size:3,offset:28,stride:40}]),m=n(h);m.attributes.position.location=0,m.attributes.color.location=1,m.attributes.offset.location=2;var w=new o(h,x,v,m);return w.update(g),w};var i=t(5827),r=t(2944),n=t(7667),l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(g,h,x,v){this.gl=g,this.shader=v,this.buffer=h,this.vao=x,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var u=o.prototype;function p(g,h){for(var x=0;x<3;++x)g[0][x]=Math.min(g[0][x],h[x]),g[1][x]=Math.max(g[1][x],h[x])}u.isOpaque=function(){return!this.hasAlpha},u.isTransparent=function(){return this.hasAlpha},u.drawTransparent=u.draw=function(g){var h=this.gl,x=this.shader.uniforms;this.shader.bind();var v=x.view=g.view||l,m=x.projection=g.projection||l;x.model=g.model||l,x.clipBounds=this.clipBounds,x.opacity=this.opacity;var w=v[12],f=v[13],S=v[14],T=v[15],E=(g._ortho?2:1)*this.pixelRatio*(m[3]*w+m[7]*f+m[11]*S+m[15]*T)/h.drawingBufferHeight;this.vao.bind();for(var L=0;L<3;++L)h.lineWidth(this.lineWidth[L]*this.pixelRatio),x.capSize=this.capSize[L]*E,this.lineCount[L]&&h.drawArrays(h.LINES,this.lineOffset[L],this.lineCount[L]);this.vao.unbind()};var c=function(){for(var g=new Array(3),h=0;h<3;++h){for(var x=[],v=1;v<=2;++v)for(var m=-1;m<=1;m+=2){var w=[0,0,0];w[(v+h)%3]=m,x.push(w)}g[h]=x}return g}();function b(g,h,x,v){for(var m=c[v],w=0;w<m.length;++w){var f=m[w];g.push(h[0],h[1],h[2],x[0],x[1],x[2],x[3],f[0],f[1],f[2])}return m.length}u.update=function(g){"lineWidth"in(g=g||{})&&(this.lineWidth=g.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),"capSize"in g&&(this.capSize=g.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,"opacity"in g&&(this.opacity=+g.opacity,this.opacity<1&&(this.hasAlpha=!0));var h=g.color||[[0,0,0],[0,0,0],[0,0,0]],x=g.position,v=g.error;if(Array.isArray(h[0])||(h=[h,h,h]),x&&v){var m=[],w=x.length,f=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var S=0;S<3;++S){this.lineOffset[S]=f;e:for(var T=0;T<w;++T){for(var E=x[T],L=0;L<3;++L)if(isNaN(E[L])||!isFinite(E[L]))continue e;var C,P=v[T],R=h[S];Array.isArray(R[0])&&(R=h[T]),R.length===3?R=[R[0],R[1],R[2],1]:R.length===4&&(R=[R[0],R[1],R[2],R[3]],!this.hasAlpha&&R[3]<1&&(this.hasAlpha=!0)),isNaN(P[0][S])||isNaN(P[1][S])||(P[0][S]<0&&((C=E.slice())[S]+=P[0][S],m.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,C[0],C[1],C[2],R[0],R[1],R[2],R[3],0,0,0),p(this.bounds,C),f+=2+b(m,C,R,S)),P[1][S]>0&&((C=E.slice())[S]+=P[1][S],m.push(E[0],E[1],E[2],R[0],R[1],R[2],R[3],0,0,0,C[0],C[1],C[2],R[0],R[1],R[2],R[3],0,0,0),p(this.bounds,C),f+=2+b(m,C,R,S)))}this.lineCount[S]=f-this.lineOffset[S]}this.buffer.update(m)}},u.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},7667:function(d,s,t){var i=t(6832),r=t(5158),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, offset;
attribute vec4 color;
uniform mat4 model, view, projection;
uniform float capSize;
varying vec4 fragColor;
varying vec3 fragPosition;

void main() {
  vec4 worldPosition  = model * vec4(position, 1.0);
  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);
  gl_Position         = projection * view * worldPosition;
  fragColor           = color;
  fragPosition        = position;
}`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float opacity;
varying vec3 fragPosition;
varying vec4 fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  gl_FragColor = opacity * fragColor;
}`]);d.exports=function(o){return r(o,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"offset",type:"vec3"}])}},4234:function(d,s,t){var i=t(8931);d.exports=function(w,f,S,T){r||(r=w.FRAMEBUFFER_UNSUPPORTED,n=w.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,l=w.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,o=w.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var E=w.getExtension("WEBGL_draw_buffers");if(!u&&E&&function(H,N){var B=H.getParameter(N.MAX_COLOR_ATTACHMENTS_WEBGL);u=new Array(B+1);for(var V=0;V<=B;++V){for(var q=new Array(B),te=0;te<V;++te)q[te]=H.COLOR_ATTACHMENT0+te;for(te=V;te<B;++te)q[te]=H.NONE;u[V]=q}}(w,E),Array.isArray(f)&&(T=S,S=0|f[1],f=0|f[0]),typeof f!="number")throw new Error("gl-fbo: Missing shape parameter");var L=w.getParameter(w.MAX_RENDERBUFFER_SIZE);if(f<0||f>L||S<0||S>L)throw new Error("gl-fbo: Parameters are too large for FBO");var C=1;if("color"in(T=T||{})){if((C=Math.max(0|T.color,0))<0)throw new Error("gl-fbo: Must specify a nonnegative number of colors");if(C>1){if(!E)throw new Error("gl-fbo: Multiple draw buffer extension not supported");if(C>w.getParameter(E.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error("gl-fbo: Context does not support "+C+" draw buffers")}}var P=w.UNSIGNED_BYTE,R=w.getExtension("OES_texture_float");if(T.float&&C>0){if(!R)throw new Error("gl-fbo: Context does not support floating point textures");P=w.FLOAT}else T.preferFloat&&C>0&&R&&(P=w.FLOAT);var G=!0;"depth"in T&&(G=!!T.depth);var I=!1;return"stencil"in T&&(I=!!T.stencil),new x(w,f,S,P,C,G,I,E)};var r,n,l,o,u=null;function p(w){return[w.getParameter(w.FRAMEBUFFER_BINDING),w.getParameter(w.RENDERBUFFER_BINDING),w.getParameter(w.TEXTURE_BINDING_2D)]}function c(w,f){w.bindFramebuffer(w.FRAMEBUFFER,f[0]),w.bindRenderbuffer(w.RENDERBUFFER,f[1]),w.bindTexture(w.TEXTURE_2D,f[2])}function b(w){switch(w){case r:throw new Error("gl-fbo: Framebuffer unsupported");case n:throw new Error("gl-fbo: Framebuffer incomplete attachment");case l:throw new Error("gl-fbo: Framebuffer incomplete dimensions");case o:throw new Error("gl-fbo: Framebuffer incomplete missing attachment");default:throw new Error("gl-fbo: Framebuffer failed for unspecified reason")}}function g(w,f,S,T,E,L){if(!T)return null;var C=i(w,f,S,E,T);return C.magFilter=w.NEAREST,C.minFilter=w.NEAREST,C.mipSamples=1,C.bind(),w.framebufferTexture2D(w.FRAMEBUFFER,L,w.TEXTURE_2D,C.handle,0),C}function h(w,f,S,T,E){var L=w.createRenderbuffer();return w.bindRenderbuffer(w.RENDERBUFFER,L),w.renderbufferStorage(w.RENDERBUFFER,T,f,S),w.framebufferRenderbuffer(w.FRAMEBUFFER,E,w.RENDERBUFFER,L),L}function x(w,f,S,T,E,L,C,P){this.gl=w,this._shape=[0|f,0|S],this._destroyed=!1,this._ext=P,this.color=new Array(E);for(var R=0;R<E;++R)this.color[R]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=T,this._useDepth=L,this._useStencil=C;var G=this,I=[0|f,0|S];Object.defineProperties(I,{0:{get:function(){return G._shape[0]},set:function(H){return G.width=H}},1:{get:function(){return G._shape[1]},set:function(H){return G.height=H}}}),this._shapeVector=I,function(H){var N=p(H.gl),B=H.gl,V=H.handle=B.createFramebuffer(),q=H._shape[0],te=H._shape[1],$=H.color.length,K=H._ext,Z=H._useStencil,X=H._useDepth,ee=H._colorType;B.bindFramebuffer(B.FRAMEBUFFER,V);for(var ne=0;ne<$;++ne)H.color[ne]=g(B,q,te,ee,B.RGBA,B.COLOR_ATTACHMENT0+ne);$===0?(H._color_rb=h(B,q,te,B.RGBA4,B.COLOR_ATTACHMENT0),K&&K.drawBuffersWEBGL(u[0])):$>1&&K.drawBuffersWEBGL(u[$]);var re=B.getExtension("WEBGL_depth_texture");re?Z?H.depth=g(B,q,te,re.UNSIGNED_INT_24_8_WEBGL,B.DEPTH_STENCIL,B.DEPTH_STENCIL_ATTACHMENT):X&&(H.depth=g(B,q,te,B.UNSIGNED_SHORT,B.DEPTH_COMPONENT,B.DEPTH_ATTACHMENT)):X&&Z?H._depth_rb=h(B,q,te,B.DEPTH_STENCIL,B.DEPTH_STENCIL_ATTACHMENT):X?H._depth_rb=h(B,q,te,B.DEPTH_COMPONENT16,B.DEPTH_ATTACHMENT):Z&&(H._depth_rb=h(B,q,te,B.STENCIL_INDEX,B.STENCIL_ATTACHMENT));var ae=B.checkFramebufferStatus(B.FRAMEBUFFER);if(ae!==B.FRAMEBUFFER_COMPLETE){for(H._destroyed=!0,B.bindFramebuffer(B.FRAMEBUFFER,null),B.deleteFramebuffer(H.handle),H.handle=null,H.depth&&(H.depth.dispose(),H.depth=null),H._depth_rb&&(B.deleteRenderbuffer(H._depth_rb),H._depth_rb=null),ne=0;ne<H.color.length;++ne)H.color[ne].dispose(),H.color[ne]=null;H._color_rb&&(B.deleteRenderbuffer(H._color_rb),H._color_rb=null),c(B,N),b(ae)}c(B,N)}(this)}var v=x.prototype;function m(w,f,S){if(w._destroyed)throw new Error("gl-fbo: Can't resize destroyed FBO");if(w._shape[0]!==f||w._shape[1]!==S){var T=w.gl,E=T.getParameter(T.MAX_RENDERBUFFER_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-fbo: Can't resize FBO, invalid dimensions");w._shape[0]=f,w._shape[1]=S;for(var L=p(T),C=0;C<w.color.length;++C)w.color[C].shape=w._shape;w._color_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,w._color_rb),T.renderbufferStorage(T.RENDERBUFFER,T.RGBA4,w._shape[0],w._shape[1])),w.depth&&(w.depth.shape=w._shape),w._depth_rb&&(T.bindRenderbuffer(T.RENDERBUFFER,w._depth_rb),w._useDepth&&w._useStencil?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_STENCIL,w._shape[0],w._shape[1]):w._useDepth?T.renderbufferStorage(T.RENDERBUFFER,T.DEPTH_COMPONENT16,w._shape[0],w._shape[1]):w._useStencil&&T.renderbufferStorage(T.RENDERBUFFER,T.STENCIL_INDEX,w._shape[0],w._shape[1])),T.bindFramebuffer(T.FRAMEBUFFER,w.handle);var P=T.checkFramebufferStatus(T.FRAMEBUFFER);P!==T.FRAMEBUFFER_COMPLETE&&(w.dispose(),c(T,L),b(P)),c(T,L)}}Object.defineProperties(v,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(w){if(Array.isArray(w)||(w=[0|w,0|w]),w.length!==2)throw new Error("gl-fbo: Shape vector must be length 2");var f=0|w[0],S=0|w[1];return m(this,f,S),[f,S]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(w){return m(this,w|=0,this._shape[1]),w},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(w){return w|=0,m(this,this._shape[0],w),w},enumerable:!1}}),v.bind=function(){if(!this._destroyed){var w=this.gl;w.bindFramebuffer(w.FRAMEBUFFER,this.handle),w.viewport(0,0,this._shape[0],this._shape[1])}},v.dispose=function(){if(!this._destroyed){this._destroyed=!0;var w=this.gl;w.deleteFramebuffer(this.handle),this.handle=null,this.depth&&(this.depth.dispose(),this.depth=null),this._depth_rb&&(w.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var f=0;f<this.color.length;++f)this.color[f].dispose(),this.color[f]=null;this._color_rb&&(w.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},3530:function(d,s,t){var i=t(8974).sprintf,r=t(6603),n=t(9365),l=t(8008);d.exports=function(o,u,p){var c=n(u)||"of unknown name (see npm glsl-shader-name)",b="unknown type";p!==void 0&&(b=p===r.FRAGMENT_SHADER?"fragment":"vertex");for(var g=i(`Error compiling %s shader %s:
`,b,c),h=i("%s%s",g,o),x=o.split(`
`),v={},m=0;m<x.length;m++){var w=x[m];if(w!==""&&w!=="\0"){var f=parseInt(w.split(":")[2]);if(isNaN(f))throw new Error(i("Could not parse error: %s",w));v[f]=w}}var S=l(u).split(`
`);for(m=0;m<S.length;m++)if((v[m+3]||v[m+2]||v[m+1])&&(g+=S[m]+`
`,v[m+1])){var T=v[m+1];T=T.substr(T.split(":",3).join(":").length+1).trim(),g+=i(`^^^ %s

`,T)}return{long:g.trim(),short:h.trim()}}},6386:function(d,s,t){d.exports=function(h,x){var v=h.gl,m=new p(h,l(v,u.vertex,u.fragment),l(v,u.pickVertex,u.pickFragment),o(v),o(v),o(v),o(v));return m.update(x),h.addObject(m),m};var i=t(5070),r=t(9560),n=t(5306),l=t(5158),o=t(5827),u=t(1292);function p(h,x,v,m,w,f,S){this.plot=h,this.shader=x,this.pickShader=v,this.positionBuffer=m,this.weightBuffer=w,this.colorBuffer=f,this.idBuffer=S,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var c,b=p.prototype,g=[0,0,1,0,0,1,1,0,1,1,0,1];b.draw=(c=[1,0,0,0,1,0,0,0,1],function(){var h=this.plot,x=this.shader,v=this.bounds,m=this.numVertices;if(!(m<=0)){var w=h.gl,f=h.dataBox,S=v[2]-v[0],T=v[3]-v[1],E=f[2]-f[0],L=f[3]-f[1];c[0]=2*S/E,c[4]=2*T/L,c[6]=2*(v[0]-f[0])/E-1,c[7]=2*(v[1]-f[1])/L-1,x.bind();var C=x.uniforms;C.viewTransform=c,C.shape=this.shape;var P=x.attributes;this.positionBuffer.bind(),P.position.pointer(),this.weightBuffer.bind(),P.weight.pointer(w.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),P.color.pointer(w.UNSIGNED_BYTE,!0),w.drawArrays(w.TRIANGLES,0,m)}}),b.drawPick=function(){var h=[1,0,0,0,1,0,0,0,1],x=[0,0,0,0];return function(v){var m=this.plot,w=this.pickShader,f=this.bounds,S=this.numVertices;if(!(S<=0)){var T=m.gl,E=m.dataBox,L=f[2]-f[0],C=f[3]-f[1],P=E[2]-E[0],R=E[3]-E[1];h[0]=2*L/P,h[4]=2*C/R,h[6]=2*(f[0]-E[0])/P-1,h[7]=2*(f[1]-E[1])/R-1;for(var G=0;G<4;++G)x[G]=v>>8*G&255;this.pickOffset=v,w.bind();var I=w.uniforms;I.viewTransform=h,I.pickOffset=x,I.shape=this.shape;var H=w.attributes;return this.positionBuffer.bind(),H.position.pointer(),this.weightBuffer.bind(),H.weight.pointer(T.UNSIGNED_BYTE,!1),this.idBuffer.bind(),H.pickId.pointer(T.UNSIGNED_BYTE,!1),T.drawArrays(T.TRIANGLES,0,S),v+this.shape[0]*this.shape[1]}}}(),b.pick=function(h,x,v){var m=this.pickOffset,w=this.shape[0]*this.shape[1];if(v<m||v>=m+w)return null;var f=v-m,S=this.xData,T=this.yData;return{object:this,pointId:f,dataCoord:[S[f%this.shape[0]],T[f/this.shape[0]|0]]}},b.update=function(h){var x=(h=h||{}).shape||[0,0],v=h.x||r(x[0]),m=h.y||r(x[1]),w=h.z||new Float32Array(x[0]*x[1]),f=h.zsmooth!==!1;this.xData=v,this.yData=m;var S,T,E,L,C=h.colorLevels||[0],P=h.colorValues||[0,0,0,1],R=C.length,G=this.bounds;f?(S=G[0]=v[0],T=G[1]=m[0],E=G[2]=v[v.length-1],L=G[3]=m[m.length-1]):(S=G[0]=v[0]+(v[1]-v[0])/2,T=G[1]=m[0]+(m[1]-m[0])/2,E=G[2]=v[v.length-1]+(v[v.length-1]-v[v.length-2])/2,L=G[3]=m[m.length-1]+(m[m.length-1]-m[m.length-2])/2);var I=1/(E-S),H=1/(L-T),N=x[0],B=x[1];this.shape=[N,B];var V=(f?(N-1)*(B-1):N*B)*(g.length>>>1);this.numVertices=V;for(var q=n.mallocUint8(4*V),te=n.mallocFloat32(2*V),$=n.mallocUint8(2*V),K=n.mallocUint32(V),Z=0,X=f?N-1:N,ee=f?B-1:B,ne=0;ne<ee;++ne){var re,ae;f?(re=H*(m[ne]-T),ae=H*(m[ne+1]-T)):(re=ne<B-1?H*(m[ne]-(m[ne+1]-m[ne])/2-T):H*(m[ne]-(m[ne]-m[ne-1])/2-T),ae=ne<B-1?H*(m[ne]+(m[ne+1]-m[ne])/2-T):H*(m[ne]+(m[ne]-m[ne-1])/2-T));for(var ue=0;ue<X;++ue){var pe,ge;f?(pe=I*(v[ue]-S),ge=I*(v[ue+1]-S)):(pe=ue<N-1?I*(v[ue]-(v[ue+1]-v[ue])/2-S):I*(v[ue]-(v[ue]-v[ue-1])/2-S),ge=ue<N-1?I*(v[ue]+(v[ue+1]-v[ue])/2-S):I*(v[ue]+(v[ue]-v[ue-1])/2-S));for(var we=0;we<g.length;we+=2){var me,ve,Ie,Se,ke=g[we],se=g[we+1],oe=w[f?(ne+se)*N+(ue+ke):ne*N+ue],he=i.le(C,oe);if(he<0)me=P[0],ve=P[1],Ie=P[2],Se=P[3];else if(he===R-1)me=P[4*R-4],ve=P[4*R-3],Ie=P[4*R-2],Se=P[4*R-1];else{var Le=(oe-C[he])/(C[he+1]-C[he]),Me=1-Le,_e=4*he,De=4*(he+1);me=Me*P[_e]+Le*P[De],ve=Me*P[_e+1]+Le*P[De+1],Ie=Me*P[_e+2]+Le*P[De+2],Se=Me*P[_e+3]+Le*P[De+3]}q[4*Z]=255*me,q[4*Z+1]=255*ve,q[4*Z+2]=255*Ie,q[4*Z+3]=255*Se,te[2*Z]=.5*pe+.5*ge,te[2*Z+1]=.5*re+.5*ae,$[2*Z]=ke,$[2*Z+1]=se,K[Z]=ne*N+ue,Z+=1}}}this.positionBuffer.update(te),this.weightBuffer.update($),this.colorBuffer.update(q),this.idBuffer.update(K),n.free(te),n.free(q),n.free($),n.free(K)},b.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},1292:function(d,s,t){var i=t(6832);d.exports={fragment:i([`precision lowp float;
#define GLSLIFY 1
varying vec4 fragColor;
void main() {
  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);
}
`]),vertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 color;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragColor;

void main() {
  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  fragColor = color;
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`]),pickFragment:i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;
varying vec2 vWeight;

uniform vec2 shape;
uniform vec4 pickOffset;

void main() {
  vec2 d = step(.5, vWeight);
  vec4 id = fragId + pickOffset;
  id.x += d.x + d.y*shape.x;

  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  gl_FragColor = id/255.;
}
`]),pickVertex:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;
attribute vec2 weight;

uniform vec2 shape;
uniform mat3 viewTransform;

varying vec4 fragId;
varying vec2 vWeight;

void main() {
  vWeight = weight;

  fragId = pickId;

  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);
  gl_Position = vec4(vPosition.xy, 0, vPosition.z);
}
`])}},248:function(d,s,t){var i=t(6832),r=t(5158),n=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, nextPosition;
attribute float arcLength, lineWidth;
attribute vec4 color;

uniform vec2 screenShape;
uniform float pixelRatio;
uniform mat4 model, view, projection;

varying vec4 fragColor;
varying vec3 worldPosition;
varying float pixelArcLength;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  vec4 startPoint = project(position);
  vec4 endPoint   = project(nextPosition);

  vec2 A = startPoint.xy / startPoint.w;
  vec2 B =   endPoint.xy /   endPoint.w;

  float clipAngle = atan(
    (B.y - A.y) * screenShape.y,
    (B.x - A.x) * screenShape.x
  );

  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(
    sin(clipAngle),
    -cos(clipAngle)
  ) / screenShape;

  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);

  worldPosition = position;
  pixelArcLength = arcLength;
  fragColor = color;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3      clipBounds[2];
uniform sampler2D dashTexture;
uniform float     dashScale;
uniform float     opacity;

varying vec3    worldPosition;
varying float   pixelArcLength;
varying vec4    fragColor;

void main() {
  if (
    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||
    fragColor.a * opacity == 0.
  ) discard;

  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;
  if(dashWeight < 0.5) {
    discard;
  }
  gl_FragColor = fragColor * opacity;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

#define FLOAT_MAX  1.70141184e38
#define FLOAT_MIN  1.17549435e-38

// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl
vec4 packFloat(float v) {
  float av = abs(v);

  //Handle special cases
  if(av < FLOAT_MIN) {
    return vec4(0.0, 0.0, 0.0, 0.0);
  } else if(v > FLOAT_MAX) {
    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;
  } else if(v < -FLOAT_MAX) {
    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;
  }

  vec4 c = vec4(0,0,0,0);

  //Compute exponent and mantissa
  float e = floor(log2(av));
  float m = av * pow(2.0, -e) - 1.0;

  //Unpack mantissa
  c[1] = floor(128.0 * m);
  m -= c[1] / 128.0;
  c[2] = floor(32768.0 * m);
  m -= c[2] / 32768.0;
  c[3] = floor(8388608.0 * m);

  //Unpack exponent
  float ebias = e + 127.0;
  c[0] = floor(ebias / 2.0);
  ebias -= c[0] * 2.0;
  c[1] += floor(ebias) * 128.0;

  //Unpack sign bit
  c[0] += 128.0 * step(0.0, -v);

  //Scale back to range
  return c / 255.0;
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform float pickId;
uniform vec3 clipBounds[2];

varying vec3 worldPosition;
varying float pixelArcLength;
varying vec4 fragColor;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;

  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);
}`]),u=[{name:"position",type:"vec3"},{name:"nextPosition",type:"vec3"},{name:"arcLength",type:"float"},{name:"lineWidth",type:"float"},{name:"color",type:"vec4"}];s.createShader=function(p){return r(p,n,l,null,u)},s.createPickShader=function(p){return r(p,n,o,null,u)}},6086:function(d,s,t){d.exports=function(S){var T=S.gl||S.scene&&S.scene.gl,E=b(T);E.attributes.position.location=0,E.attributes.nextPosition.location=1,E.attributes.arcLength.location=2,E.attributes.lineWidth.location=3,E.attributes.color.location=4;var L=g(T);L.attributes.position.location=0,L.attributes.nextPosition.location=1,L.attributes.arcLength.location=2,L.attributes.lineWidth.location=3,L.attributes.color.location=4;for(var C=i(T),P=r(T,[{buffer:C,size:3,offset:0,stride:48},{buffer:C,size:3,offset:12,stride:48},{buffer:C,size:1,offset:24,stride:48},{buffer:C,size:1,offset:28,stride:48},{buffer:C,size:4,offset:32,stride:48}]),R=p(new Array(1024),[256,1,4]),G=0;G<1024;++G)R.data[G]=255;var I=n(T,R);I.wrap=T.REPEAT;var H=new w(T,E,L,C,P,I);return H.update(S),H};var i=t(5827),r=t(2944),n=t(8931),l=new Uint8Array(4),o=new Float32Array(l.buffer),u=t(5070),p=t(5050),c=t(248),b=c.createShader,g=c.createPickShader,h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function x(S,T){for(var E=0,L=0;L<3;++L){var C=S[L]-T[L];E+=C*C}return Math.sqrt(E)}function v(S){for(var T=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],E=0;E<3;++E)T[0][E]=Math.max(S[0][E],T[0][E]),T[1][E]=Math.min(S[1][E],T[1][E]);return T}function m(S,T,E,L){this.arcLength=S,this.position=T,this.index=E,this.dataCoordinate=L}function w(S,T,E,L,C,P){this.gl=S,this.shader=T,this.pickShader=E,this.buffer=L,this.vao=C,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=P,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var f=w.prototype;f.isTransparent=function(){return this.hasAlpha},f.isOpaque=function(){return!this.hasAlpha},f.pickSlots=1,f.setPickBase=function(S){this.pickId=S},f.drawTransparent=f.draw=function(S){if(this.vertexCount){var T=this.gl,E=this.shader,L=this.vao;E.bind(),E.uniforms={model:S.model||h,view:S.view||h,projection:S.projection||h,clipBounds:v(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},L.bind(),L.draw(T.TRIANGLE_STRIP,this.vertexCount),L.unbind()}},f.drawPick=function(S){if(this.vertexCount){var T=this.gl,E=this.pickShader,L=this.vao;E.bind(),E.uniforms={model:S.model||h,view:S.view||h,projection:S.projection||h,pickId:this.pickId,clipBounds:v(this.clipBounds),screenShape:[T.drawingBufferWidth,T.drawingBufferHeight],pixelRatio:this.pixelRatio},L.bind(),L.draw(T.TRIANGLE_STRIP,this.vertexCount),L.unbind()}},f.update=function(S){var T,E;this.dirty=!0;var L=!!S.connectGaps;"dashScale"in S&&(this.dashScale=S.dashScale),this.hasAlpha=!1,"opacity"in S&&(this.opacity=+S.opacity,this.opacity<1&&(this.hasAlpha=!0));var C=[],P=[],R=[],G=0,I=0,H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],N=S.position||S.positions;if(N){var B=S.color||S.colors||[0,0,0,1],V=S.lineWidth||1,q=!1;e:for(T=1;T<N.length;++T){var te,$,K,Z=N[T-1],X=N[T];for(P.push(G),R.push(Z.slice()),E=0;E<3;++E){if(isNaN(Z[E])||isNaN(X[E])||!isFinite(Z[E])||!isFinite(X[E])){if(!L&&C.length>0){for(var ee=0;ee<24;++ee)C.push(C[C.length-12]);I+=2,q=!0}continue e}H[0][E]=Math.min(H[0][E],Z[E],X[E]),H[1][E]=Math.max(H[1][E],Z[E],X[E])}Array.isArray(B[0])?(te=B.length>T-1?B[T-1]:B.length>0?B[B.length-1]:[0,0,0,1],$=B.length>T?B[T]:B.length>0?B[B.length-1]:[0,0,0,1]):te=$=B,te.length===3&&(te=[te[0],te[1],te[2],1]),$.length===3&&($=[$[0],$[1],$[2],1]),!this.hasAlpha&&te[3]<1&&(this.hasAlpha=!0),K=Array.isArray(V)?V.length>T-1?V[T-1]:V.length>0?V[V.length-1]:[0,0,0,1]:V;var ne=G;if(G+=x(Z,X),q){for(E=0;E<2;++E)C.push(Z[0],Z[1],Z[2],X[0],X[1],X[2],ne,K,te[0],te[1],te[2],te[3]);I+=2,q=!1}C.push(Z[0],Z[1],Z[2],X[0],X[1],X[2],ne,K,te[0],te[1],te[2],te[3],Z[0],Z[1],Z[2],X[0],X[1],X[2],ne,-K,te[0],te[1],te[2],te[3],X[0],X[1],X[2],Z[0],Z[1],Z[2],G,-K,$[0],$[1],$[2],$[3],X[0],X[1],X[2],Z[0],Z[1],Z[2],G,K,$[0],$[1],$[2],$[3]),I+=4}}if(this.buffer.update(C),P.push(G),R.push(N[N.length-1].slice()),this.bounds=H,this.vertexCount=I,this.points=R,this.arcLength=P,"dashes"in S){var re=S.dashes.slice();for(re.unshift(0),T=1;T<re.length;++T)re[T]=re[T-1]+re[T];var ae=p(new Array(1024),[256,1,4]);for(T=0;T<256;++T){for(E=0;E<4;++E)ae.set(T,0,E,0);1&u.le(re,re[re.length-1]*T/255)?ae.set(T,0,0,0):ae.set(T,0,0,255)}this.texture.setPixels(ae)}},f.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},f.pick=function(S){if(!S||S.id!==this.pickId)return null;var T=function(N,B,V,q){return l[0]=0,l[1]=V,l[2]=B,l[3]=N,o[0]}(S.value[0],S.value[1],S.value[2]),E=u.le(this.arcLength,T);if(E<0)return null;if(E===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),E);for(var L=this.points[E],C=this.points[Math.min(E+1,this.points.length-1)],P=(T-this.arcLength[E])/(this.arcLength[E+1]-this.arcLength[E]),R=1-P,G=[0,0,0],I=0;I<3;++I)G[I]=R*L[I]+P*C[I];var H=Math.min(P<.5?E:E+1,this.points.length-1);return new m(T,G,H,this.points[H])}},7332:function(d){d.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},9823:function(d){d.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7787:function(d){d.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3],l=s[4],o=s[5],u=s[6],p=s[7],c=s[8],b=s[9],g=s[10],h=s[11],x=s[12],v=s[13],m=s[14],w=s[15];return(t*o-i*l)*(g*w-h*m)-(t*u-r*l)*(b*w-h*v)+(t*p-n*l)*(b*m-g*v)+(i*u-r*o)*(c*w-h*x)-(i*p-n*o)*(c*m-g*x)+(r*p-n*u)*(c*v-b*x)}},5950:function(d){d.exports=function(s,t){var i=t[0],r=t[1],n=t[2],l=t[3],o=i+i,u=r+r,p=n+n,c=i*o,b=r*o,g=r*u,h=n*o,x=n*u,v=n*p,m=l*o,w=l*u,f=l*p;return s[0]=1-g-v,s[1]=b+f,s[2]=h-w,s[3]=0,s[4]=b-f,s[5]=1-c-v,s[6]=x+m,s[7]=0,s[8]=h+w,s[9]=x-m,s[10]=1-c-g,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7280:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=t[3],u=r+r,p=n+n,c=l+l,b=r*u,g=r*p,h=r*c,x=n*p,v=n*c,m=l*c,w=o*u,f=o*p,S=o*c;return s[0]=1-(x+m),s[1]=g+S,s[2]=h-f,s[3]=0,s[4]=g-S,s[5]=1-(b+m),s[6]=v+w,s[7]=0,s[8]=h+f,s[9]=v-w,s[10]=1-(b+x),s[11]=0,s[12]=i[0],s[13]=i[1],s[14]=i[2],s[15]=1,s}},9947:function(d){d.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},7437:function(d){d.exports=function(s,t){var i=t[0],r=t[1],n=t[2],l=t[3],o=t[4],u=t[5],p=t[6],c=t[7],b=t[8],g=t[9],h=t[10],x=t[11],v=t[12],m=t[13],w=t[14],f=t[15],S=i*u-r*o,T=i*p-n*o,E=i*c-l*o,L=r*p-n*u,C=r*c-l*u,P=n*c-l*p,R=b*m-g*v,G=b*w-h*v,I=b*f-x*v,H=g*w-h*m,N=g*f-x*m,B=h*f-x*w,V=S*B-T*N+E*H+L*I-C*G+P*R;return V?(V=1/V,s[0]=(u*B-p*N+c*H)*V,s[1]=(n*N-r*B-l*H)*V,s[2]=(m*P-w*C+f*L)*V,s[3]=(h*C-g*P-x*L)*V,s[4]=(p*I-o*B-c*G)*V,s[5]=(i*B-n*I+l*G)*V,s[6]=(w*E-v*P-f*T)*V,s[7]=(b*P-h*E+x*T)*V,s[8]=(o*N-u*I+c*R)*V,s[9]=(r*I-i*N-l*R)*V,s[10]=(v*C-m*E+f*S)*V,s[11]=(g*E-b*C-x*S)*V,s[12]=(u*G-o*H-p*R)*V,s[13]=(i*H-r*G+n*R)*V,s[14]=(m*T-v*L-w*S)*V,s[15]=(b*L-g*T+h*S)*V,s):null}},3012:function(d,s,t){var i=t(9947);d.exports=function(r,n,l,o){var u,p,c,b,g,h,x,v,m,w,f=n[0],S=n[1],T=n[2],E=o[0],L=o[1],C=o[2],P=l[0],R=l[1],G=l[2];return Math.abs(f-P)<1e-6&&Math.abs(S-R)<1e-6&&Math.abs(T-G)<1e-6?i(r):(x=f-P,v=S-R,m=T-G,u=L*(m*=w=1/Math.sqrt(x*x+v*v+m*m))-C*(v*=w),p=C*(x*=w)-E*m,c=E*v-L*x,(w=Math.sqrt(u*u+p*p+c*c))?(u*=w=1/w,p*=w,c*=w):(u=0,p=0,c=0),b=v*c-m*p,g=m*u-x*c,h=x*p-v*u,(w=Math.sqrt(b*b+g*g+h*h))?(b*=w=1/w,g*=w,h*=w):(b=0,g=0,h=0),r[0]=u,r[1]=b,r[2]=x,r[3]=0,r[4]=p,r[5]=g,r[6]=v,r[7]=0,r[8]=c,r[9]=h,r[10]=m,r[11]=0,r[12]=-(u*f+p*S+c*T),r[13]=-(b*f+g*S+h*T),r[14]=-(x*f+v*S+m*T),r[15]=1,r)}},104:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=t[3],u=t[4],p=t[5],c=t[6],b=t[7],g=t[8],h=t[9],x=t[10],v=t[11],m=t[12],w=t[13],f=t[14],S=t[15],T=i[0],E=i[1],L=i[2],C=i[3];return s[0]=T*r+E*u+L*g+C*m,s[1]=T*n+E*p+L*h+C*w,s[2]=T*l+E*c+L*x+C*f,s[3]=T*o+E*b+L*v+C*S,T=i[4],E=i[5],L=i[6],C=i[7],s[4]=T*r+E*u+L*g+C*m,s[5]=T*n+E*p+L*h+C*w,s[6]=T*l+E*c+L*x+C*f,s[7]=T*o+E*b+L*v+C*S,T=i[8],E=i[9],L=i[10],C=i[11],s[8]=T*r+E*u+L*g+C*m,s[9]=T*n+E*p+L*h+C*w,s[10]=T*l+E*c+L*x+C*f,s[11]=T*o+E*b+L*v+C*S,T=i[12],E=i[13],L=i[14],C=i[15],s[12]=T*r+E*u+L*g+C*m,s[13]=T*n+E*p+L*h+C*w,s[14]=T*l+E*c+L*x+C*f,s[15]=T*o+E*b+L*v+C*S,s}},5268:function(d){d.exports=function(s,t,i,r,n,l,o){var u=1/(t-i),p=1/(r-n),c=1/(l-o);return s[0]=-2*u,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*p,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*c,s[11]=0,s[12]=(t+i)*u,s[13]=(n+r)*p,s[14]=(o+l)*c,s[15]=1,s}},1120:function(d){d.exports=function(s,t,i,r,n){var l=1/Math.tan(t/2),o=1/(r-n);return s[0]=l/i,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(n+r)*o,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*n*r*o,s[15]=0,s}},4422:function(d){d.exports=function(s,t,i,r){var n,l,o,u,p,c,b,g,h,x,v,m,w,f,S,T,E,L,C,P,R,G,I,H,N=r[0],B=r[1],V=r[2],q=Math.sqrt(N*N+B*B+V*V);return Math.abs(q)<1e-6?null:(N*=q=1/q,B*=q,V*=q,n=Math.sin(i),o=1-(l=Math.cos(i)),u=t[0],p=t[1],c=t[2],b=t[3],g=t[4],h=t[5],x=t[6],v=t[7],m=t[8],w=t[9],f=t[10],S=t[11],T=N*N*o+l,E=B*N*o+V*n,L=V*N*o-B*n,C=N*B*o-V*n,P=B*B*o+l,R=V*B*o+N*n,G=N*V*o+B*n,I=B*V*o-N*n,H=V*V*o+l,s[0]=u*T+g*E+m*L,s[1]=p*T+h*E+w*L,s[2]=c*T+x*E+f*L,s[3]=b*T+v*E+S*L,s[4]=u*C+g*P+m*R,s[5]=p*C+h*P+w*R,s[6]=c*C+x*P+f*R,s[7]=b*C+v*P+S*R,s[8]=u*G+g*I+m*H,s[9]=p*G+h*I+w*H,s[10]=c*G+x*I+f*H,s[11]=b*G+v*I+S*H,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},6109:function(d){d.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),l=t[4],o=t[5],u=t[6],p=t[7],c=t[8],b=t[9],g=t[10],h=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=l*n+c*r,s[5]=o*n+b*r,s[6]=u*n+g*r,s[7]=p*n+h*r,s[8]=c*n-l*r,s[9]=b*n-o*r,s[10]=g*n-u*r,s[11]=h*n-p*r,s}},7115:function(d){d.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),l=t[0],o=t[1],u=t[2],p=t[3],c=t[8],b=t[9],g=t[10],h=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=l*n-c*r,s[1]=o*n-b*r,s[2]=u*n-g*r,s[3]=p*n-h*r,s[8]=l*r+c*n,s[9]=o*r+b*n,s[10]=u*r+g*n,s[11]=p*r+h*n,s}},5240:function(d){d.exports=function(s,t,i){var r=Math.sin(i),n=Math.cos(i),l=t[0],o=t[1],u=t[2],p=t[3],c=t[4],b=t[5],g=t[6],h=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=l*n+c*r,s[1]=o*n+b*r,s[2]=u*n+g*r,s[3]=p*n+h*r,s[4]=c*n-l*r,s[5]=b*n-o*r,s[6]=g*n-u*r,s[7]=h*n-p*r,s}},3668:function(d){d.exports=function(s,t,i){var r=i[0],n=i[1],l=i[2];return s[0]=t[0]*r,s[1]=t[1]*r,s[2]=t[2]*r,s[3]=t[3]*r,s[4]=t[4]*n,s[5]=t[5]*n,s[6]=t[6]*n,s[7]=t[7]*n,s[8]=t[8]*l,s[9]=t[9]*l,s[10]=t[10]*l,s[11]=t[11]*l,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},998:function(d){d.exports=function(s,t,i){var r,n,l,o,u,p,c,b,g,h,x,v,m=i[0],w=i[1],f=i[2];return t===s?(s[12]=t[0]*m+t[4]*w+t[8]*f+t[12],s[13]=t[1]*m+t[5]*w+t[9]*f+t[13],s[14]=t[2]*m+t[6]*w+t[10]*f+t[14],s[15]=t[3]*m+t[7]*w+t[11]*f+t[15]):(r=t[0],n=t[1],l=t[2],o=t[3],u=t[4],p=t[5],c=t[6],b=t[7],g=t[8],h=t[9],x=t[10],v=t[11],s[0]=r,s[1]=n,s[2]=l,s[3]=o,s[4]=u,s[5]=p,s[6]=c,s[7]=b,s[8]=g,s[9]=h,s[10]=x,s[11]=v,s[12]=r*m+u*w+g*f+t[12],s[13]=n*m+p*w+h*f+t[13],s[14]=l*m+c*w+x*f+t[14],s[15]=o*m+b*w+v*f+t[15]),s}},2142:function(d){d.exports=function(s,t){if(s===t){var i=t[1],r=t[2],n=t[3],l=t[6],o=t[7],u=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=i,s[6]=t[9],s[7]=t[13],s[8]=r,s[9]=l,s[11]=t[14],s[12]=n,s[13]=o,s[14]=u}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},4340:function(d,s,t){var i=t(957),r=t(7309);function n(u,p){for(var c=[0,0,0,0],b=0;b<4;++b)for(var g=0;g<4;++g)c[g]+=u[4*b+g]*p[b];return c}function l(u,p,c,b,g){for(var h=n(b,n(c,n(p,[u[0],u[1],u[2],1]))),x=0;x<3;++x)h[x]/=h[3];return[.5*g[0]*(1+h[0]),.5*g[1]*(1-h[1])]}function o(u,p){for(var c=[0,0,0],b=0;b<u.length;++b)for(var g=u[b],h=p[b],x=0;x<3;++x)c[x]+=h*g[x];return c}d.exports=function(u,p,c,b,g,h){if(u.length===1)return[0,u[0].slice()];for(var x=new Array(u.length),v=0;v<u.length;++v)x[v]=l(u[v],c,b,g,h);var m=0,w=1/0;for(v=0;v<x.length;++v){for(var f=0,S=0;S<2;++S)f+=Math.pow(x[v][S]-p[S],2);f<w&&(w=f,m=v)}var T=function(L,C){if(L.length===2){for(var P=0,R=0,G=0;G<2;++G)P+=Math.pow(C[G]-L[0][G],2),R+=Math.pow(C[G]-L[1][G],2);return(P=Math.sqrt(P))+(R=Math.sqrt(R))<1e-6?[1,0]:[R/(P+R),P/(R+P)]}if(L.length===3){var I=[0,0];return r(L[0],L[1],L[2],C,I),i(L,I)}return[]}(x,p),E=0;for(v=0;v<3;++v){if(T[v]<-.001||T[v]>1.0001)return null;E+=T[v]}return Math.abs(E-1)>.001?null:[m,o(u,T),T]}},2056:function(d,s,t){var i=t(6832),r=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position, normal;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model
           , view
           , projection
           , inverseModel;
uniform vec3 eyePosition
           , lightPosition;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

vec4 project(vec3 p) {
  return projection * view * model * vec4(p, 1.0);
}

void main() {
  gl_Position      = project(position);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * vec4(position , 1.0);
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  f_color          = color;
  f_data           = position;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness
            , fresnel
            , kambient
            , kdiffuse
            , kspecular;
uniform sampler2D texture;

varying vec3 f_normal
           , f_lightDirection
           , f_eyeDirection
           , f_data;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (f_color.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], f_data)
  ) discard;

  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d

  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * f_color.a;
}
`]),l=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;

uniform mat4 model, view, projection;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_color = color;
  f_data  = position;
  f_uv    = uv;
}`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec3 f_data;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;

  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),u=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 uv;
attribute float pointSize;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);
  } else {
    gl_Position = projection * view * model * vec4(position, 1.0);
  }
  gl_PointSize = pointSize;
  f_color = color;
  f_uv = uv;
}`]),p=i([`precision highp float;
#define GLSLIFY 1

uniform sampler2D texture;
uniform float opacity;

varying vec4 f_color;
varying vec2 f_uv;

void main() {
  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);
  if(dot(pointR, pointR) > 0.25) {
    discard;
  }
  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;
}`]),c=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;
attribute vec4 id;

uniform mat4 model, view, projection;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
  f_id        = id;
  f_position  = position;
}`]),b=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]),g=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3  position;
attribute float pointSize;
attribute vec4  id;

uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);
  } else {
    gl_Position  = projection * view * model * vec4(position, 1.0);
    gl_PointSize = pointSize;
  }
  f_id         = id;
  f_position   = position;
}`]),h=i([`precision highp float;
#define GLSLIFY 1

attribute vec3 position;

uniform mat4 model, view, projection;

void main() {
  gl_Position = projection * view * model * vec4(position, 1.0);
}`]),x=i([`precision highp float;
#define GLSLIFY 1

uniform vec3 contourColor;

void main() {
  gl_FragColor = vec4(contourColor, 1.0);
}
`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec3"},{name:"normal",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.wireShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"}]},s.pointShader={vertex:u,fragment:p,attributes:[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"pointSize",type:"float"}]},s.pickShader={vertex:c,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"id",type:"vec4"}]},s.pointPickShader={vertex:g,fragment:b,attributes:[{name:"position",type:"vec3"},{name:"pointSize",type:"float"},{name:"id",type:"vec4"}]},s.contourShader={vertex:h,fragment:x,attributes:[{name:"position",type:"vec3"}]}},8116:function(d,s,t){var i=t(5158),r=t(5827),n=t(2944),l=t(8931),o=t(115),u=t(104),p=t(7437),c=t(5050),b=t(9156),g=t(7212),h=t(5306),x=t(2056),v=t(4340),m=x.meshShader,w=x.wireShader,f=x.pointShader,S=x.pickShader,T=x.pointPickShader,E=x.contourShader,L=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function C(B,V,q,te,$,K,Z,X,ee,ne,re,ae,ue,pe,ge,we,me,ve,Ie,Se,ke,se,oe,he,Le,Me,_e){this.gl=B,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=V,this.dirty=!0,this.triShader=q,this.lineShader=te,this.pointShader=$,this.pickShader=K,this.pointPickShader=Z,this.contourShader=X,this.trianglePositions=ee,this.triangleColors=re,this.triangleNormals=ue,this.triangleUVs=ae,this.triangleIds=ne,this.triangleVAO=pe,this.triangleCount=0,this.lineWidth=1,this.edgePositions=ge,this.edgeColors=me,this.edgeUVs=ve,this.edgeIds=we,this.edgeVAO=Ie,this.edgeCount=0,this.pointPositions=Se,this.pointColors=se,this.pointUVs=oe,this.pointSizes=he,this.pointIds=ke,this.pointVAO=Le,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=Me,this.contourVAO=_e,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=L,this._view=L,this._projection=L,this._resolution=[1,1]}var P=C.prototype;function R(B,V){if(!V||!V.length)return 1;for(var q=0;q<V.length;++q){if(V.length<2)return 1;if(V[q][0]===B)return V[q][1];if(V[q][0]>B&&q>0){var te=(V[q][0]-B)/(V[q][0]-V[q-1][0]);return V[q][1]*(1-te)+te*V[q-1][1]}}return 1}function G(B){var V=i(B,f.vertex,f.fragment);return V.attributes.position.location=0,V.attributes.color.location=2,V.attributes.uv.location=3,V.attributes.pointSize.location=4,V}function I(B){var V=i(B,S.vertex,S.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V}function H(B){var V=i(B,T.vertex,T.fragment);return V.attributes.position.location=0,V.attributes.id.location=1,V.attributes.pointSize.location=4,V}function N(B){var V=i(B,E.vertex,E.fragment);return V.attributes.position.location=0,V}P.isOpaque=function(){return!this.hasAlpha},P.isTransparent=function(){return this.hasAlpha},P.pickSlots=1,P.setPickBase=function(B){this.pickId=B},P.highlight=function(B){if(B&&this.contourEnable){for(var V=g(this.cells,this.intensity,B.intensity),q=V.cells,te=V.vertexIds,$=V.vertexWeights,K=q.length,Z=h.mallocFloat32(6*K),X=0,ee=0;ee<K;++ee)for(var ne=q[ee],re=0;re<2;++re){var ae=ne[0];ne.length===2&&(ae=ne[re]);for(var ue=te[ae][0],pe=te[ae][1],ge=$[ae],we=1-ge,me=this.positions[ue],ve=this.positions[pe],Ie=0;Ie<3;++Ie)Z[X++]=ge*me[Ie]+we*ve[Ie]}this.contourCount=X/3|0,this.contourPositions.update(Z.subarray(0,X)),h.free(Z)}else this.contourCount=0},P.update=function(B){B=B||{};var V=this.gl;this.dirty=!0,"contourEnable"in B&&(this.contourEnable=B.contourEnable),"contourColor"in B&&(this.contourColor=B.contourColor),"lineWidth"in B&&(this.lineWidth=B.lineWidth),"lightPosition"in B&&(this.lightPosition=B.lightPosition),this.hasAlpha=!1,"opacity"in B&&(this.opacity=B.opacity,this.opacity<1&&(this.hasAlpha=!0)),"opacityscale"in B&&(this.opacityscale=B.opacityscale,this.hasAlpha=!0),"ambient"in B&&(this.ambientLight=B.ambient),"diffuse"in B&&(this.diffuseLight=B.diffuse),"specular"in B&&(this.specularLight=B.specular),"roughness"in B&&(this.roughness=B.roughness),"fresnel"in B&&(this.fresnel=B.fresnel),B.texture?(this.texture.dispose(),this.texture=l(V,B.texture)):B.colormap&&(this.texture.shape=[256,256],this.texture.minFilter=V.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=V.LINEAR,this.texture.setPixels(function(Ot,zt){for(var Lt=b({colormap:Ot,nshades:256,format:"rgba"}),Je=new Uint8Array(1024),Qe=0;Qe<256;++Qe){for(var qe=Lt[Qe],$e=0;$e<3;++$e)Je[4*Qe+$e]=qe[$e];Je[4*Qe+3]=zt?255*R(Qe/255,zt):255*qe[3]}return c(Je,[256,256,4],[4,0,1])}(B.colormap,this.opacityscale)),this.texture.generateMipmap());var q=B.cells,te=B.positions;if(te&&q){var $=[],K=[],Z=[],X=[],ee=[],ne=[],re=[],ae=[],ue=[],pe=[],ge=[],we=[],me=[],ve=[];this.cells=q,this.positions=te;var Ie=B.vertexNormals,Se=B.cellNormals,ke=B.vertexNormalsEpsilon===void 0?1e-6:B.vertexNormalsEpsilon,se=B.faceNormalsEpsilon===void 0?1e-6:B.faceNormalsEpsilon;B.useFacetNormals&&!Se&&(Se=o.faceNormals(q,te,se)),Se||Ie||(Ie=o.vertexNormals(q,te,ke));var oe=B.vertexColors,he=B.cellColors,Le=B.meshColor||[1,1,1,1],Me=B.vertexUVs,_e=B.vertexIntensity,De=B.cellUVs,Ne=B.cellIntensity,ce=1/0,Te=-1/0;if(!Me&&!De)if(_e)if(B.vertexIntensityBounds)ce=+B.vertexIntensityBounds[0],Te=+B.vertexIntensityBounds[1];else for(var ye=0;ye<_e.length;++ye){var Oe=_e[ye];ce=Math.min(ce,Oe),Te=Math.max(Te,Oe)}else if(Ne)if(B.cellIntensityBounds)ce=+B.cellIntensityBounds[0],Te=+B.cellIntensityBounds[1];else for(ye=0;ye<Ne.length;++ye)Oe=Ne[ye],ce=Math.min(ce,Oe),Te=Math.max(Te,Oe);else for(ye=0;ye<te.length;++ye)Oe=te[ye][2],ce=Math.min(ce,Oe),Te=Math.max(Te,Oe);this.intensity=_e||Ne||function(Ot){for(var zt=Ot.length,Lt=new Array(zt),Je=0;Je<zt;++Je)Lt[Je]=Ot[Je][2];return Lt}(te),this.pickVertex=!(Ne||he);var Be=B.pointSizes,Fe=B.pointSize||1;for(this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],ye=0;ye<te.length;++ye)for(var Ge=te[ye],Ze=0;Ze<3;++Ze)!isNaN(Ge[Ze])&&isFinite(Ge[Ze])&&(this.bounds[0][Ze]=Math.min(this.bounds[0][Ze],Ge[Ze]),this.bounds[1][Ze]=Math.max(this.bounds[1][Ze],Ge[Ze]));var et=0,ft=0,rt=0;e:for(ye=0;ye<q.length;++ye){var _t=q[ye];switch(_t.length){case 1:for(Ge=te[wt=_t[0]],Ze=0;Ze<3;++Ze)if(isNaN(Ge[Ze])||!isFinite(Ge[Ze]))continue e;pe.push(Ge[0],Ge[1],Ge[2]),lt=oe?oe[wt]:he?he[ye]:Le,this.opacityscale&&_e?K.push(lt[0],lt[1],lt[2],this.opacity*R((_e[wt]-ce)/(Te-ce),this.opacityscale)):lt.length===3?ge.push(lt[0],lt[1],lt[2],this.opacity):(ge.push(lt[0],lt[1],lt[2],lt[3]*this.opacity),lt[3]<1&&(this.hasAlpha=!0)),ut=Me?Me[wt]:_e?[(_e[wt]-ce)/(Te-ce),0]:De?De[ye]:Ne?[(Ne[ye]-ce)/(Te-ce),0]:[(Ge[2]-ce)/(Te-ce),0],we.push(ut[0],ut[1]),Be?me.push(Be[wt]):me.push(Fe),ve.push(ye),rt+=1;break;case 2:for(Ze=0;Ze<2;++Ze){Ge=te[wt=_t[Ze]];for(var kt=0;kt<3;++kt)if(isNaN(Ge[kt])||!isFinite(Ge[kt]))continue e}for(Ze=0;Ze<2;++Ze)Ge=te[wt=_t[Ze]],ne.push(Ge[0],Ge[1],Ge[2]),lt=oe?oe[wt]:he?he[ye]:Le,this.opacityscale&&_e?K.push(lt[0],lt[1],lt[2],this.opacity*R((_e[wt]-ce)/(Te-ce),this.opacityscale)):lt.length===3?re.push(lt[0],lt[1],lt[2],this.opacity):(re.push(lt[0],lt[1],lt[2],lt[3]*this.opacity),lt[3]<1&&(this.hasAlpha=!0)),ut=Me?Me[wt]:_e?[(_e[wt]-ce)/(Te-ce),0]:De?De[ye]:Ne?[(Ne[ye]-ce)/(Te-ce),0]:[(Ge[2]-ce)/(Te-ce),0],ae.push(ut[0],ut[1]),ue.push(ye);ft+=1;break;case 3:for(Ze=0;Ze<3;++Ze)for(Ge=te[wt=_t[Ze]],kt=0;kt<3;++kt)if(isNaN(Ge[kt])||!isFinite(Ge[kt]))continue e;for(Ze=0;Ze<3;++Ze){var wt,lt,ut,Et;Ge=te[wt=_t[2-Ze]],$.push(Ge[0],Ge[1],Ge[2]),(lt=oe?oe[wt]:he?he[ye]:Le)?this.opacityscale&&_e?K.push(lt[0],lt[1],lt[2],this.opacity*R((_e[wt]-ce)/(Te-ce),this.opacityscale)):lt.length===3?K.push(lt[0],lt[1],lt[2],this.opacity):(K.push(lt[0],lt[1],lt[2],lt[3]*this.opacity),lt[3]<1&&(this.hasAlpha=!0)):K.push(.5,.5,.5,1),ut=Me?Me[wt]:_e?[(_e[wt]-ce)/(Te-ce),0]:De?De[ye]:Ne?[(Ne[ye]-ce)/(Te-ce),0]:[(Ge[2]-ce)/(Te-ce),0],X.push(ut[0],ut[1]),Et=Ie?Ie[wt]:Se[ye],Z.push(Et[0],Et[1],Et[2]),ee.push(ye)}et+=1}}this.pointCount=rt,this.edgeCount=ft,this.triangleCount=et,this.pointPositions.update(pe),this.pointColors.update(ge),this.pointUVs.update(we),this.pointSizes.update(me),this.pointIds.update(new Uint32Array(ve)),this.edgePositions.update(ne),this.edgeColors.update(re),this.edgeUVs.update(ae),this.edgeIds.update(new Uint32Array(ue)),this.trianglePositions.update($),this.triangleColors.update(K),this.triangleUVs.update(X),this.triangleNormals.update(Z),this.triangleIds.update(new Uint32Array(ee))}},P.drawTransparent=P.draw=function(B){B=B||{};for(var V=this.gl,q=B.model||L,te=B.view||L,$=B.projection||L,K=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Z=0;Z<3;++Z)K[0][Z]=Math.max(K[0][Z],this.clipBounds[0][Z]),K[1][Z]=Math.min(K[1][Z],this.clipBounds[1][Z]);var X={model:q,view:te,projection:$,inverseModel:L.slice(),clipBounds:K,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};X.inverseModel=p(X.inverseModel,X.model),V.disable(V.CULL_FACE),this.texture.bind(0);var ee=new Array(16);for(u(ee,X.view,X.model),u(ee,X.projection,ee),p(ee,ee),Z=0;Z<3;++Z)X.eyePosition[Z]=ee[12+Z]/ee[15];var ne,re=ee[15];for(Z=0;Z<3;++Z)re+=this.lightPosition[Z]*ee[4*Z+3];for(Z=0;Z<3;++Z){for(var ae=ee[12+Z],ue=0;ue<3;++ue)ae+=ee[4*ue+Z]*this.lightPosition[ue];X.lightPosition[Z]=ae/re}this.triangleCount>0&&((ne=this.triShader).bind(),ne.uniforms=X,this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&this.lineWidth>0&&((ne=this.lineShader).bind(),ne.uniforms=X,this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((ne=this.pointShader).bind(),ne.uniforms=X,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind()),this.contourEnable&&this.contourCount>0&&this.contourLineWidth>0&&((ne=this.contourShader).bind(),ne.uniforms=X,this.contourVAO.bind(),V.drawArrays(V.LINES,0,this.contourCount),this.contourVAO.unbind())},P.drawPick=function(B){B=B||{};for(var V=this.gl,q=B.model||L,te=B.view||L,$=B.projection||L,K=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],Z=0;Z<3;++Z)K[0][Z]=Math.max(K[0][Z],this.clipBounds[0][Z]),K[1][Z]=Math.min(K[1][Z],this.clipBounds[1][Z]);this._model=[].slice.call(q),this._view=[].slice.call(te),this._projection=[].slice.call($),this._resolution=[V.drawingBufferWidth,V.drawingBufferHeight];var X,ee={model:q,view:te,projection:$,clipBounds:K,pickId:this.pickId/255};(X=this.pickShader).bind(),X.uniforms=ee,this.triangleCount>0&&(this.triangleVAO.bind(),V.drawArrays(V.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount>0&&(this.edgeVAO.bind(),V.lineWidth(this.lineWidth*this.pixelRatio),V.drawArrays(V.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount>0&&((X=this.pointPickShader).bind(),X.uniforms=ee,this.pointVAO.bind(),V.drawArrays(V.POINTS,0,this.pointCount),this.pointVAO.unbind())},P.pick=function(B){if(!B||B.id!==this.pickId)return null;for(var V=B.value[0]+256*B.value[1]+65536*B.value[2],q=this.cells[V],te=this.positions,$=new Array(q.length),K=0;K<q.length;++K)$[K]=te[q[K]];var Z=B.coord[0],X=B.coord[1];if(!this.pickVertex){var ee=this.positions[q[0]],ne=this.positions[q[1]],re=this.positions[q[2]],ae=[(ee[0]+ne[0]+re[0])/3,(ee[1]+ne[1]+re[1])/3,(ee[2]+ne[2]+re[2])/3];return{_cellCenter:!0,position:[Z,X],index:V,cell:q,cellId:V,intensity:this.intensity[V],dataCoordinate:ae}}var ue=v($,[Z*this.pixelRatio,this._resolution[1]-X*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!ue)return null;var pe=ue[2],ge=0;for(K=0;K<q.length;++K)ge+=pe[K]*this.intensity[q[K]];return{position:ue[1],index:q[ue[0]],cell:q,cellId:V,intensity:ge,dataCoordinate:this.positions[q[ue[0]]]}},P.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},d.exports=function(B,V){if(arguments.length===1&&(B=(V=B).gl),!(B.getExtension("OES_standard_derivatives")||B.getExtension("MOZ_OES_standard_derivatives")||B.getExtension("WEBKIT_OES_standard_derivatives")))throw new Error("derivatives not supported");var q=function(Ne){var ce=i(Ne,m.vertex,m.fragment);return ce.attributes.position.location=0,ce.attributes.color.location=2,ce.attributes.uv.location=3,ce.attributes.normal.location=4,ce}(B),te=function(Ne){var ce=i(Ne,w.vertex,w.fragment);return ce.attributes.position.location=0,ce.attributes.color.location=2,ce.attributes.uv.location=3,ce}(B),$=G(B),K=I(B),Z=H(B),X=N(B),ee=l(B,c(new Uint8Array([255,255,255,255]),[1,1,4]));ee.generateMipmap(),ee.minFilter=B.LINEAR_MIPMAP_LINEAR,ee.magFilter=B.LINEAR;var ne=r(B),re=r(B),ae=r(B),ue=r(B),pe=r(B),ge=n(B,[{buffer:ne,type:B.FLOAT,size:3},{buffer:pe,type:B.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:re,type:B.FLOAT,size:4},{buffer:ae,type:B.FLOAT,size:2},{buffer:ue,type:B.FLOAT,size:3}]),we=r(B),me=r(B),ve=r(B),Ie=r(B),Se=n(B,[{buffer:we,type:B.FLOAT,size:3},{buffer:Ie,type:B.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:me,type:B.FLOAT,size:4},{buffer:ve,type:B.FLOAT,size:2}]),ke=r(B),se=r(B),oe=r(B),he=r(B),Le=r(B),Me=n(B,[{buffer:ke,type:B.FLOAT,size:3},{buffer:Le,type:B.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:se,type:B.FLOAT,size:4},{buffer:oe,type:B.FLOAT,size:2},{buffer:he,type:B.FLOAT,size:1}]),_e=r(B),De=new C(B,ee,q,te,$,K,Z,X,ne,pe,re,ae,ue,ge,we,Ie,me,ve,Se,ke,Le,se,oe,he,Me,_e,n(B,[{buffer:_e,type:B.FLOAT,size:3}]));return De.update(V),De}},4554:function(d,s,t){d.exports=function(c){var b=c.gl;return new l(c,i(b,[0,0,0,1,1,0,1,1]),r(b,n.boxVert,n.lineFrag))};var i=t(5827),r=t(5158),n=t(2709);function l(c,b,g){this.plot=c,this.vbo=b,this.shader=g}var o,u,p=l.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawBox=(o=[0,0],u=[0,0],function(c,b,g,h,x){var v=this.plot,m=this.shader,w=v.gl;o[0]=c,o[1]=b,u[0]=g,u[1]=h,m.uniforms.lo=o,m.uniforms.hi=u,m.uniforms.color=x,w.drawArrays(w.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},3016:function(d,s,t){d.exports=function(v){var m=v.gl;return new o(v,i(m),r(m,l.gridVert,l.gridFrag),r(m,l.tickVert,l.gridFrag))};var i=t(5827),r=t(5158),n=t(5070),l=t(2709);function o(v,m,w,f){this.plot=v,this.vbo=m,this.shader=w,this.tickShader=f,this.ticks=[[],[]]}function u(v,m){return v-m}var p,c,b,g,h,x=o.prototype;x.draw=(p=[0,0],c=[0,0],b=[0,0],function(){for(var v=this.plot,m=this.vbo,w=this.shader,f=this.ticks,S=v.gl,T=v._tickBounds,E=v.dataBox,L=v.viewBox,C=v.gridLineWidth,P=v.gridLineColor,R=v.gridLineEnable,G=v.pixelRatio,I=0;I<2;++I){var H=T[I],N=T[I+2]-H,B=.5*(E[I+2]+E[I]),V=E[I+2]-E[I];c[I]=2*N/V,p[I]=2*(H-B)/V}w.bind(),m.bind(),w.attributes.dataCoord.pointer(),w.uniforms.dataShift=p,w.uniforms.dataScale=c;var q=0;for(I=0;I<2;++I){b[0]=b[1]=0,b[I]=1,w.uniforms.dataAxis=b,w.uniforms.lineWidth=C[I]/(L[I+2]-L[I])*G,w.uniforms.color=P[I];var te=6*f[I].length;R[I]&&te&&S.drawArrays(S.TRIANGLES,q,te),q+=te}}),x.drawTickMarks=function(){var v=[0,0],m=[0,0],w=[1,0],f=[0,1],S=[0,0],T=[0,0];return function(){for(var E=this.plot,L=this.vbo,C=this.tickShader,P=this.ticks,R=E.gl,G=E._tickBounds,I=E.dataBox,H=E.viewBox,N=E.pixelRatio,B=E.screenBox,V=B[2]-B[0],q=B[3]-B[1],te=H[2]-H[0],$=H[3]-H[1],K=0;K<2;++K){var Z=G[K],X=G[K+2]-Z,ee=.5*(I[K+2]+I[K]),ne=I[K+2]-I[K];m[K]=2*X/ne,v[K]=2*(Z-ee)/ne}m[0]*=te/V,v[0]*=te/V,m[1]*=$/q,v[1]*=$/q,C.bind(),L.bind(),C.attributes.dataCoord.pointer();var re=C.uniforms;re.dataShift=v,re.dataScale=m;var ae=E.tickMarkLength,ue=E.tickMarkWidth,pe=E.tickMarkColor,ge=6*P[0].length,we=Math.min(n.ge(P[0],(I[0]-G[0])/(G[2]-G[0]),u),P[0].length),me=Math.min(n.gt(P[0],(I[2]-G[0])/(G[2]-G[0]),u),P[0].length),ve=0+6*we,Ie=6*Math.max(0,me-we),Se=Math.min(n.ge(P[1],(I[1]-G[1])/(G[3]-G[1]),u),P[1].length),ke=Math.min(n.gt(P[1],(I[3]-G[1])/(G[3]-G[1]),u),P[1].length),se=ge+6*Se,oe=6*Math.max(0,ke-Se);S[0]=2*(H[0]-ae[1])/V-1,S[1]=(H[3]+H[1])/q-1,T[0]=ae[1]*N/V,T[1]=ue[1]*N/q,oe&&(re.color=pe[1],re.tickScale=T,re.dataAxis=f,re.screenOffset=S,R.drawArrays(R.TRIANGLES,se,oe)),S[0]=(H[2]+H[0])/V-1,S[1]=2*(H[1]-ae[0])/q-1,T[0]=ue[0]*N/V,T[1]=ae[0]*N/q,Ie&&(re.color=pe[0],re.tickScale=T,re.dataAxis=w,re.screenOffset=S,R.drawArrays(R.TRIANGLES,ve,Ie)),S[0]=2*(H[2]+ae[3])/V-1,S[1]=(H[3]+H[1])/q-1,T[0]=ae[3]*N/V,T[1]=ue[3]*N/q,oe&&(re.color=pe[3],re.tickScale=T,re.dataAxis=f,re.screenOffset=S,R.drawArrays(R.TRIANGLES,se,oe)),S[0]=(H[2]+H[0])/V-1,S[1]=2*(H[3]+ae[2])/q-1,T[0]=ue[2]*N/V,T[1]=ae[2]*N/q,Ie&&(re.color=pe[2],re.tickScale=T,re.dataAxis=w,re.screenOffset=S,R.drawArrays(R.TRIANGLES,ve,Ie))}}(),x.update=(g=[1,1,-1,-1,1,-1],h=[1,-1,1,1,-1,-1],function(v){for(var m=v.ticks,w=v.bounds,f=new Float32Array(18*(m[0].length+m[1].length)),S=(this.plot.zeroLineEnable,0),T=[[],[]],E=0;E<2;++E)for(var L=T[E],C=m[E],P=w[E],R=w[E+2],G=0;G<C.length;++G){var I=(C[G].x-P)/(R-P);L.push(I);for(var H=0;H<6;++H)f[S++]=I,f[S++]=g[H],f[S++]=h[H]}this.ticks=T,this.vbo.update(f)}),x.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},1154:function(d,s,t){d.exports=function(c){var b=c.gl;return new l(c,i(b,[-1,-1,-1,1,1,-1,1,1]),r(b,n.lineVert,n.lineFrag))};var i=t(5827),r=t(5158),n=t(2709);function l(c,b,g){this.plot=c,this.vbo=b,this.shader=g}var o,u,p=l.prototype;p.bind=function(){var c=this.shader;this.vbo.bind(),this.shader.bind(),c.attributes.coord.pointer(),c.uniforms.screenBox=this.plot.screenBox},p.drawLine=(o=[0,0],u=[0,0],function(c,b,g,h,x,v){var m=this.plot,w=this.shader,f=m.gl;o[0]=c,o[1]=b,u[0]=g,u[1]=h,w.uniforms.start=o,w.uniforms.end=u,w.uniforms.width=x*m.pixelRatio,w.uniforms.color=v,f.drawArrays(f.TRIANGLE_STRIP,0,4)}),p.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2709:function(d,s,t){var i=t(6832),r=i([`precision lowp float;
#define GLSLIFY 1
uniform vec4 color;
void main() {
  gl_FragColor = vec4(color.xyz * color.w, color.w);
}
`]);d.exports={lineVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 start, end;
uniform float width;

vec2 perp(vec2 v) {
  return vec2(v.y, -v.x);
}

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  vec2 delta = normalize(perp(start - end));
  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));
  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);
}
`]),lineFrag:r,textVert:i([`#define GLSLIFY 1
attribute vec3 textCoordinate;

uniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;
uniform float angle;

void main() {
  float dataOffset  = textCoordinate.z;
  vec2 glyphOffset  = textCoordinate.xy;
  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));
  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +
    glyphMatrix * glyphOffset * textScale + screenOffset;
  gl_Position = vec4(screenCoordinate, 0, 1);
}
`]),textFrag:r,gridVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale;
uniform float lineWidth;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;
  gl_Position = vec4(pos, 0, 1);
}
`]),gridFrag:r,boxVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 coord;

uniform vec4 screenBox;
uniform vec2 lo, hi;

vec2 screen(vec2 v) {
  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;
}

void main() {
  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);
}
`]),tickVert:i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 dataCoord;

uniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;

void main() {
  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);
  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);
}
`])}},5613:function(d,s,t){d.exports=function(m){var w=m.gl;return new u(m,i(w),r(w,o.textVert,o.textFrag))};var i=t(5827),r=t(5158),n=t(6946),l=t(5070),o=t(2709);function u(m,w,f){this.plot=m,this.vbo=w,this.shader=f,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var p,c,b,g,h,x,v=u.prototype;v.drawTicks=(p=[0,0],c=[0,0],b=[0,0],function(m){var w=this.plot,f=this.shader,S=this.tickX[m],T=this.tickOffset[m],E=w.gl,L=w.viewBox,C=w.dataBox,P=w.screenBox,R=w.pixelRatio,G=w.tickEnable,I=w.tickPad,H=w.tickColor,N=w.tickAngle,B=w.labelEnable,V=w.labelPad,q=w.labelColor,te=w.labelAngle,$=this.labelOffset[m],K=this.labelCount[m],Z=l.lt(S,C[m]),X=l.le(S,C[m+2]);p[0]=p[1]=0,p[m]=1,c[m]=(L[2+m]+L[m])/(P[2+m]-P[m])-1;var ee=2/P[2+(1^m)]-P[1^m];c[1^m]=ee*L[1^m]-1,G[m]&&(c[1^m]-=ee*R*I[m],Z<X&&T[X]>T[Z]&&(f.uniforms.dataAxis=p,f.uniforms.screenOffset=c,f.uniforms.color=H[m],f.uniforms.angle=N[m],E.drawArrays(E.TRIANGLES,T[Z],T[X]-T[Z]))),B[m]&&K&&(c[1^m]-=ee*R*V[m],f.uniforms.dataAxis=b,f.uniforms.screenOffset=c,f.uniforms.color=q[m],f.uniforms.angle=te[m],E.drawArrays(E.TRIANGLES,$,K)),c[1^m]=ee*L[2+(1^m)]-1,G[m+2]&&(c[1^m]+=ee*R*I[m+2],Z<X&&T[X]>T[Z]&&(f.uniforms.dataAxis=p,f.uniforms.screenOffset=c,f.uniforms.color=H[m+2],f.uniforms.angle=N[m+2],E.drawArrays(E.TRIANGLES,T[Z],T[X]-T[Z]))),B[m+2]&&K&&(c[1^m]+=ee*R*V[m+2],f.uniforms.dataAxis=b,f.uniforms.screenOffset=c,f.uniforms.color=q[m+2],f.uniforms.angle=te[m+2],E.drawArrays(E.TRIANGLES,$,K))}),v.drawTitle=function(){var m=[0,0],w=[0,0];return function(){var f=this.plot,S=this.shader,T=f.gl,E=f.screenBox,L=f.titleCenter,C=f.titleAngle,P=f.titleColor,R=f.pixelRatio;if(this.titleCount){for(var G=0;G<2;++G)w[G]=2*(L[G]*R-E[G])/(E[2+G]-E[G])-1;S.bind(),S.uniforms.dataAxis=m,S.uniforms.screenOffset=w,S.uniforms.angle=C,S.uniforms.color=P,T.drawArrays(T.TRIANGLES,this.titleOffset,this.titleCount)}}}(),v.bind=(g=[0,0],h=[0,0],x=[0,0],function(){var m=this.plot,w=this.shader,f=m._tickBounds,S=m.dataBox,T=m.screenBox,E=m.viewBox;w.bind();for(var L=0;L<2;++L){var C=f[L],P=f[L+2]-C,R=.5*(S[L+2]+S[L]),G=S[L+2]-S[L],I=E[L],H=E[L+2]-I,N=T[L],B=T[L+2]-N;h[L]=2*P/G*H/B,g[L]=2*(C-R)/G*H/B}x[1]=2*m.pixelRatio/(T[3]-T[1]),x[0]=x[1]*(T[3]-T[1])/(T[2]-T[0]),w.uniforms.dataScale=h,w.uniforms.dataShift=g,w.uniforms.textScale=x,this.vbo.bind(),w.attributes.textCoordinate.pointer()}),v.update=function(m){var w,f,S,T,E,L=[],C=m.ticks,P=m.bounds;for(E=0;E<2;++E){var R=[Math.floor(L.length/3)],G=[-1/0],I=C[E];for(w=0;w<I.length;++w){var H=I[w],N=H.x,B=H.text,V=H.font||"sans-serif";T=H.fontSize||12;for(var q=1/(P[E+2]-P[E]),te=P[E],$=B.split(`
`),K=0;K<$.length;K++)for(S=n(V,$[K]).data,f=0;f<S.length;f+=2)L.push(S[f]*T,-S[f+1]*T-K*T*1.2,(N-te)*q);R.push(Math.floor(L.length/3)),G.push(N)}this.tickOffset[E]=R,this.tickX[E]=G}for(E=0;E<2;++E){for(this.labelOffset[E]=Math.floor(L.length/3),S=n(m.labelFont[E],m.labels[E],{textAlign:"center"}).data,T=m.labelSize[E],w=0;w<S.length;w+=2)L.push(S[w]*T,-S[w+1]*T,0);this.labelCount[E]=Math.floor(L.length/3)-this.labelOffset[E]}for(this.titleOffset=Math.floor(L.length/3),S=n(m.titleFont,m.title).data,T=m.titleSize,w=0;w<S.length;w+=2)L.push(S[w]*T,-S[w+1]*T,0);this.titleCount=Math.floor(L.length/3)-this.titleOffset,this.vbo.update(L)},v.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},2117:function(d,s,t){d.exports=function(g){var h=g.gl,x=new u(h,i(h,[h.drawingBufferWidth,h.drawingBufferHeight]));return x.grid=r(x),x.text=n(x),x.line=l(x),x.box=o(x),x.update(g),x};var i=t(2611),r=t(3016),n=t(5613),l=t(1154),o=t(4554);function u(g,h){this.gl=g,this.pickBuffer=h,this.screenBox=[0,0,g.drawingBufferWidth,g.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var p=u.prototype;function c(g){for(var h=g.slice(),x=0;x<h.length;++x)h[x]=h[x].slice();return h}function b(g,h){return g.x-h.x}p.setDirty=function(){this.dirty=this.pickDirty=!0},p.setOverlayDirty=function(){this.dirty=!0},p.nextDepthValue=function(){return this._depthCounter++/65536},p.draw=function(){var g=this.gl,h=this.screenBox,x=this.viewBox,v=this.dataBox,m=this.pixelRatio,w=this.grid,f=this.line,S=this.text,T=this.objects;if(this._depthCounter=0,this.pickDirty&&(this._pickTimeout&&clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,g.bindFramebuffer(g.FRAMEBUFFER,null),g.enable(g.SCISSOR_TEST),g.disable(g.DEPTH_TEST),g.depthFunc(g.LESS),g.depthMask(!1),g.enable(g.BLEND),g.blendEquation(g.FUNC_ADD,g.FUNC_ADD),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),this.borderColor){g.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]);var E=this.borderColor;g.clearColor(E[0]*E[3],E[1]*E[3],E[2]*E[3],E[3]),g.clear(g.COLOR_BUFFER_BIT|g.DEPTH_BUFFER_BIT)}g.scissor(x[0],x[1],x[2]-x[0],x[3]-x[1]),g.viewport(x[0],x[1],x[2]-x[0],x[3]-x[1]);var L=this.backgroundColor;g.clearColor(L[0]*L[3],L[1]*L[3],L[2]*L[3],L[3]),g.clear(g.COLOR_BUFFER_BIT),w.draw();var C=this.zeroLineEnable,P=this.zeroLineColor,R=this.zeroLineWidth;if(C[0]||C[1]){f.bind();for(var G=0;G<2;++G)if(C[G]&&v[G]<=0&&v[G+2]>=0){var I=h[G]-v[G]*(h[G+2]-h[G])/(v[G+2]-v[G]);G===0?f.drawLine(I,h[1],I,h[3],R[G],P[G]):f.drawLine(h[0],I,h[2],I,R[G],P[G])}}for(G=0;G<T.length;++G)T[G].draw();g.viewport(h[0],h[1],h[2]-h[0],h[3]-h[1]),g.scissor(h[0],h[1],h[2]-h[0],h[3]-h[1]),this.grid.drawTickMarks(),f.bind();var H=this.borderLineEnable,N=this.borderLineWidth,B=this.borderLineColor;for(H[1]&&f.drawLine(x[0],x[1]-.5*N[1]*m,x[0],x[3]+.5*N[3]*m,N[1],B[1]),H[0]&&f.drawLine(x[0]-.5*N[0]*m,x[1],x[2]+.5*N[2]*m,x[1],N[0],B[0]),H[3]&&f.drawLine(x[2],x[1]-.5*N[1]*m,x[2],x[3]+.5*N[3]*m,N[3],B[3]),H[2]&&f.drawLine(x[0]-.5*N[0]*m,x[3],x[2]+.5*N[2]*m,x[3],N[2],B[2]),S.bind(),G=0;G<2;++G)S.drawTicks(G);this.titleEnable&&S.drawTitle();var V=this.overlays;for(G=0;G<V.length;++G)V[G].draw();g.disable(g.SCISSOR_TEST),g.disable(g.BLEND),g.depthMask(!0)}},p.drawPick=function(){if(!this.static){var g=this.pickBuffer;this.gl,this._pickTimeout=null,g.begin();for(var h=1,x=this.objects,v=0;v<x.length;++v)h=x[v].drawPick(h);g.end()}},p.pick=function(g,h){if(!this.static){var x=this.pixelRatio,v=this.pickPixelRatio,m=this.viewBox,w=0|Math.round((g-m[0]/x)*v),f=0|Math.round((h-m[1]/x)*v),S=this.pickBuffer.query(w,f,this.pickRadius);if(!S)return null;for(var T=S.id+(S.value[0]<<8)+(S.value[1]<<16)+(S.value[2]<<24),E=this.objects,L=0;L<E.length;++L){var C=E[L].pick(w,f,T);if(C)return C}return null}},p.setScreenBox=function(g){var h=this.screenBox,x=this.pixelRatio;h[0]=0|Math.round(g[0]*x),h[1]=0|Math.round(g[1]*x),h[2]=0|Math.round(g[2]*x),h[3]=0|Math.round(g[3]*x),this.setDirty()},p.setDataBox=function(g){var h=this.dataBox;(h[0]!==g[0]||h[1]!==g[1]||h[2]!==g[2]||h[3]!==g[3])&&(h[0]=g[0],h[1]=g[1],h[2]=g[2],h[3]=g[3],this.setDirty())},p.setViewBox=function(g){var h=this.pixelRatio,x=this.viewBox;x[0]=0|Math.round(g[0]*h),x[1]=0|Math.round(g[1]*h),x[2]=0|Math.round(g[2]*h),x[3]=0|Math.round(g[3]*h);var v=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((g[2]-g[0])*v),0|Math.round((g[3]-g[1])*v)],this.setDirty()},p.update=function(g){g=g||{};var h=this.gl;this.pixelRatio=g.pixelRatio||1;var x=this.pixelRatio;this.pickPixelRatio=Math.max(x,1),this.setScreenBox(g.screenBox||[0,0,h.drawingBufferWidth/x,h.drawingBufferHeight/x]),this.screenBox,this.setViewBox(g.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/x,.125*(this.screenBox[3]-this.screenBox[1])/x,.875*(this.screenBox[2]-this.screenBox[0])/x,.875*(this.screenBox[3]-this.screenBox[1])/x]);var v=this.viewBox,m=(v[2]-v[0])/(v[3]-v[1]);this.setDataBox(g.dataBox||[-10,-10/m,10,10/m]),this.borderColor=g.borderColor!==!1&&(g.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(g.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(g.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(g.gridLineWidth||[1,1]).slice(),this.gridLineColor=c(g.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(g.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(g.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=c(g.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(g.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(g.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=c(g.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(g.titleCenter||[.5*(v[0]+v[2])/x,(v[3]+120)/x]).slice(),this.titleEnable=!("titleEnable"in g)||!!g.titleEnable,this.titleAngle=g.titleAngle||0,this.titleColor=(g.titleColor||[0,0,0,1]).slice(),this.labelPad=(g.labelPad||[15,15,15,15]).slice(),this.labelAngle=(g.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(g.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=c(g.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(g.tickPad||[15,15,15,15]).slice(),this.tickAngle=(g.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(g.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=c(g.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(g.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(g.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=c(g.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var w=g.ticks||[[],[]],f=this._tickBounds;f[0]=f[1]=1/0,f[2]=f[3]=-1/0;for(var S=0;S<2;++S){var T=w[S].slice(0);T.length!==0&&(T.sort(b),f[S]=Math.min(f[S],T[0].x),f[S+2]=Math.max(f[S+2],T[T.length-1].x))}this.grid.update({bounds:f,ticks:w}),this.text.update({bounds:f,ticks:w,labels:g.labels||["x","y"],labelSize:g.labelSize||[12,12],labelFont:g.labelFont||["sans-serif","sans-serif"],title:g.title||"",titleSize:g.titleSize||18,titleFont:g.titleFont||"sans-serif"}),this.static=!!g.static,this.setDirty()},p.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var g=this.objects.length-1;g>=0;--g)this.objects[g].dispose();for(this.objects.length=0,g=this.overlays.length-1;g>=0;--g)this.overlays[g].dispose();this.overlays.length=0,this.gl=null},p.addObject=function(g){this.objects.indexOf(g)<0&&(this.objects.push(g),this.setDirty())},p.removeObject=function(g){for(var h=this.objects,x=0;x<h.length;++x)if(h[x]===g){h.splice(x,1),this.setDirty();break}},p.addOverlay=function(g){this.overlays.indexOf(g)<0&&(this.overlays.push(g),this.setOverlayDirty())},p.removeOverlay=function(g){for(var h=this.overlays,x=0;x<h.length;++x)if(h[x]===g){h.splice(x,1),this.setOverlayDirty();break}}},4296:function(d,s,t){d.exports=function(p,c){p=p||document.body;var b=[.01,1/0];"distanceLimits"in(c=c||{})&&(b[0]=c.distanceLimits[0],b[1]=c.distanceLimits[1]),"zoomMin"in c&&(b[0]=c.zoomMin),"zoomMax"in c&&(b[1]=c.zoomMax);var g=r({center:c.center||[0,0,0],up:c.up||[0,1,0],eye:c.eye||[0,0,10],mode:c.mode||"orbit",distanceLimits:b}),h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0,v=p.clientWidth,m=p.clientHeight,w={keyBindingMode:"rotate",enableWheel:!0,view:g,element:p,delay:c.delay||16,rotateSpeed:c.rotateSpeed||1,zoomSpeed:c.zoomSpeed||1,translateSpeed:c.translateSpeed||1,flipX:!!c.flipX,flipY:!!c.flipY,modes:g.modes,_ortho:c._ortho||c.projection&&c.projection.type==="orthographic"||!1,tick:function(){var f=i(),S=this.delay,T=f-2*S;g.idle(f-S),g.recalcMatrix(T),g.flush(f-(100+2*S));for(var E=!0,L=g.computedMatrix,C=0;C<16;++C)E=E&&h[C]===L[C],h[C]=L[C];var P=p.clientWidth===v&&p.clientHeight===m;return v=p.clientWidth,m=p.clientHeight,E?!P:(x=Math.exp(g.computedRadius[0]),!0)},lookAt:function(f,S,T){g.lookAt(g.lastT(),f,S,T)},rotate:function(f,S,T){g.rotate(g.lastT(),f,S,T)},pan:function(f,S,T){g.pan(g.lastT(),f,S,T)},translate:function(f,S,T){g.translate(g.lastT(),f,S,T)}};return Object.defineProperties(w,{matrix:{get:function(){return g.computedMatrix},set:function(f){return g.setMatrix(g.lastT(),f),g.computedMatrix},enumerable:!0},mode:{get:function(){return g.getMode()},set:function(f){var S=g.computedUp.slice(),T=g.computedEye.slice(),E=g.computedCenter.slice();if(g.setMode(f),f==="turntable"){var L=i();g._active.lookAt(L,T,E,S),g._active.lookAt(L+500,T,E,[0,0,1]),g._active.flush(L)}return g.getMode()},enumerable:!0},center:{get:function(){return g.computedCenter},set:function(f){return g.lookAt(g.lastT(),null,f),g.computedCenter},enumerable:!0},eye:{get:function(){return g.computedEye},set:function(f){return g.lookAt(g.lastT(),f),g.computedEye},enumerable:!0},up:{get:function(){return g.computedUp},set:function(f){return g.lookAt(g.lastT(),null,null,f),g.computedUp},enumerable:!0},distance:{get:function(){return x},set:function(f){return g.setDistance(g.lastT(),f),f},enumerable:!0},distanceLimits:{get:function(){return g.getDistanceLimits(b)},set:function(f){return g.setDistanceLimits(f),f},enumerable:!0}}),p.addEventListener("contextmenu",function(f){return f.preventDefault(),!1}),w._lastX=-1,w._lastY=-1,w._lastMods={shift:!1,control:!1,alt:!1,meta:!1},w.enableMouseListeners=function(){function f(S,T,E,L){var C=w.keyBindingMode;if(C!==!1){var P=C==="rotate",R=C==="pan",G=C==="zoom",I=!!L.control,H=!!L.alt,N=!!L.shift,B=!!(1&S),V=!!(2&S),q=!!(4&S),te=1/p.clientHeight,$=te*(T-w._lastX),K=te*(E-w._lastY),Z=w.flipX?1:-1,X=w.flipY?1:-1,ee=Math.PI*w.rotateSpeed,ne=i();if(w._lastX!==-1&&w._lastY!==-1&&((P&&B&&!I&&!H&&!N||B&&!I&&!H&&N)&&g.rotate(ne,Z*ee*$,-X*ee*K,0),(R&&B&&!I&&!H&&!N||V||B&&I&&!H&&!N)&&g.pan(ne,-w.translateSpeed*$*x,w.translateSpeed*K*x,0),G&&B&&!I&&!H&&!N||q||B&&!I&&H&&!N)){var re=-w.zoomSpeed*K/window.innerHeight*(ne-g.lastT())*100;g.pan(ne,0,0,x*(Math.exp(re)-1))}return w._lastX=T,w._lastY=E,w._lastMods=L,!0}}w.mouseListener=n(p,f),p.addEventListener("touchstart",function(S){var T=o(S.changedTouches[0],p);f(0,T[0],T[1],w._lastMods),f(1,T[0],T[1],w._lastMods)},!!u&&{passive:!0}),p.addEventListener("touchmove",function(S){var T=o(S.changedTouches[0],p);f(1,T[0],T[1],w._lastMods),S.preventDefault()},!!u&&{passive:!1}),p.addEventListener("touchend",function(S){f(0,w._lastX,w._lastY,w._lastMods)},!!u&&{passive:!0}),w.wheelListener=l(p,function(S,T){if(w.keyBindingMode!==!1&&w.enableWheel){var E=w.flipX?1:-1,L=w.flipY?1:-1,C=i();if(Math.abs(S)>Math.abs(T))g.rotate(C,0,0,-S*E*Math.PI*w.rotateSpeed/window.innerWidth);else if(!w._ortho){var P=-w.zoomSpeed*L*T/window.innerHeight*(C-g.lastT())/20;g.pan(C,0,0,x*(Math.exp(P)-1))}}},!0)},w.enableMouseListeners(),w};var i=t(8161),r=t(1152),n=t(6145),l=t(6475),o=t(2565),u=t(5233)},8245:function(d,s,t){var i=t(6832),r=t(5158),n=i([`precision mediump float;
#define GLSLIFY 1
attribute vec2 position;
varying vec2 uv;
void main() {
  uv = position;
  gl_Position = vec4(position, 0, 1);
}`]),l=i([`precision mediump float;
#define GLSLIFY 1

uniform sampler2D accumBuffer;
varying vec2 uv;

void main() {
  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));
  gl_FragColor = min(vec4(1,1,1,1), accum);
}`]);d.exports=function(o){return r(o,n,l,null,[{name:"position",type:"vec2"}])}},1059:function(d,s,t){var i=t(4296),r=t(7453),n=t(2771),l=t(6496),o=t(2611),u=t(4234),p=t(8126),c=t(6145),b=t(1120),g=t(5268),h=t(8245),x=t(2321)({tablet:!0,featureDetect:!0});function v(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(f){var S=Math.round(Math.log(Math.abs(f))/Math.log(10));if(S<0){var T=Math.round(Math.pow(10,-S));return Math.ceil(f*T)/T}return S>0?(T=Math.round(Math.pow(10,S)),Math.ceil(f/T)*T):Math.ceil(f)}function w(f){return typeof f!="boolean"||f}d.exports={createScene:function(f){(f=f||{}).camera=f.camera||{};var S=f.canvas;S||(S=document.createElement("canvas"),f.container?f.container.appendChild(S):document.body.appendChild(S));var T=f.gl;if(T||(f.glOptions&&(x=!!f.glOptions.preserveDrawingBuffer),T=function(Ie,Se){var ke=null;try{(ke=Ie.getContext("webgl",Se))||(ke=Ie.getContext("experimental-webgl",Se))}catch{return null}return ke}(S,f.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:x})),!T)throw new Error("webgl not supported");var E=f.bounds||[[-10,-10,-10],[10,10,10]],L=new v,C=u(T,T.drawingBufferWidth,T.drawingBufferHeight,{preferFloat:!x}),P=h(T),R=f.cameraObject&&f.cameraObject._ortho===!0||f.camera.projection&&f.camera.projection.type==="orthographic"||!1,G={eye:f.camera.eye||[2,0,0],center:f.camera.center||[0,0,0],up:f.camera.up||[0,1,0],zoomMin:f.camera.zoomMax||.1,zoomMax:f.camera.zoomMin||100,mode:f.camera.mode||"turntable",_ortho:R},I=f.axes||{},H=r(T,I);H.enable=!I.disable;var N=f.spikes||{},B=l(T,N),V=[],q=[],te=[],$=[],K=!0,Z=!0,X={view:null,projection:new Array(16),model:new Array(16),_ortho:!1},ee=(Z=!0,[T.drawingBufferWidth,T.drawingBufferHeight]),ne=f.cameraObject||i(S,G),re={gl:T,contextLost:!1,pixelRatio:f.pixelRatio||1,canvas:S,selection:L,camera:ne,axes:H,axesPixels:null,spikes:B,bounds:E,objects:V,shape:ee,aspect:f.aspectRatio||[1,1,1],pickRadius:f.pickRadius||10,zNear:f.zNear||.01,zFar:f.zFar||1e3,fovy:f.fovy||Math.PI/4,clearColor:f.clearColor||[0,0,0,0],autoResize:w(f.autoResize),autoBounds:w(f.autoBounds),autoScale:!!f.autoScale,autoCenter:w(f.autoCenter),clipToBounds:w(f.clipToBounds),snapToData:!!f.snapToData,onselect:f.onselect||null,onrender:f.onrender||null,onclick:f.onclick||null,cameraParams:X,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(Ie){this.aspect[0]=Ie.x,this.aspect[1]=Ie.y,this.aspect[2]=Ie.z,Z=!0},setBounds:function(Ie,Se){this.bounds[0][Ie]=Se.min,this.bounds[1][Ie]=Se.max},setClearColor:function(Ie){this.clearColor=Ie},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},ae=[T.drawingBufferWidth/re.pixelRatio|0,T.drawingBufferHeight/re.pixelRatio|0];function ue(){if(!re._stopped&&re.autoResize){var Ie=S.parentNode,Se=1,ke=1;Ie&&Ie!==document.body?(Se=Ie.clientWidth,ke=Ie.clientHeight):(Se=window.innerWidth,ke=window.innerHeight);var se=0|Math.ceil(Se*re.pixelRatio),oe=0|Math.ceil(ke*re.pixelRatio);if(se!==S.width||oe!==S.height){S.width=se,S.height=oe;var he=S.style;he.position=he.position||"absolute",he.left="0px",he.top="0px",he.width=Se+"px",he.height=ke+"px",K=!0}}}function pe(){for(var Ie=V.length,Se=$.length,ke=0;ke<Se;++ke)te[ke]=0;e:for(ke=0;ke<Ie;++ke){var se=V[ke],oe=se.pickSlots;if(oe){for(var he=0;he<Se;++he)if(te[he]+oe<255){q[ke]=he,se.setPickBase(te[he]+1),te[he]+=oe;continue e}var Le=o(T,ee);q[ke]=Se,$.push(Le),te.push(oe),se.setPickBase(1),Se+=1}else q[ke]=-1}for(;Se>0&&te[Se-1]===0;)te.pop(),$.pop().dispose()}function ge(){if(re.contextLost)return!0;T.isContextLost()&&(re.contextLost=!0,re.mouseListener.enabled=!1,re.selection.object=null,re.oncontextloss&&re.oncontextloss())}re.autoResize&&ue(),window.addEventListener("resize",ue),re.update=function(Ie){re._stopped||(K=!0,Z=!0)},re.add=function(Ie){re._stopped||(Ie.axes=H,V.push(Ie),q.push(-1),K=!0,Z=!0,pe())},re.remove=function(Ie){if(!re._stopped){var Se=V.indexOf(Ie);Se<0||(V.splice(Se,1),q.pop(),K=!0,Z=!0,pe())}},re.dispose=function(){if(!re._stopped&&(re._stopped=!0,window.removeEventListener("resize",ue),S.removeEventListener("webglcontextlost",ge),re.mouseListener.enabled=!1,!re.contextLost)){H.dispose(),B.dispose();for(var Ie=0;Ie<V.length;++Ie)V[Ie].dispose();for(C.dispose(),Ie=0;Ie<$.length;++Ie)$[Ie].dispose();P.dispose(),T=null,H=null,B=null,V=[]}},re._mouseRotating=!1,re._prevButtons=0,re.enableMouseListeners=function(){re.mouseListener=c(S,function(Ie,Se,ke){if(!re._stopped){var se=$.length,oe=V.length,he=L.object;L.distance=1/0,L.mouse[0]=Se,L.mouse[1]=ke,L.object=null,L.screen=null,L.dataCoordinate=L.dataPosition=null;var Le=!1;if(Ie&&re._prevButtons)re._mouseRotating=!0;else{re._mouseRotating&&(Z=!0),re._mouseRotating=!1;for(var Me=0;Me<se;++Me){var _e=$[Me].query(Se,ae[1]-ke-1,re.pickRadius);if(_e){if(_e.distance>L.distance)continue;for(var De=0;De<oe;++De){var Ne=V[De];if(q[De]===Me){var ce=Ne.pick(_e);ce&&(L.buttons=Ie,L.screen=_e.coord,L.distance=_e.distance,L.object=Ne,L.index=ce.distance,L.dataPosition=ce.position,L.dataCoordinate=ce.dataCoordinate,L.data=ce,Le=!0)}}}}}he&&he!==L.object&&(he.highlight&&he.highlight(null),K=!0),L.object&&(L.object.highlight&&L.object.highlight(L.data),K=!0),(Le=Le||L.object!==he)&&re.onselect&&re.onselect(L),1&Ie&&!(1&re._prevButtons)&&re.onclick&&re.onclick(L),re._prevButtons=Ie}})},S.addEventListener("webglcontextlost",ge);var we=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],me=[we[0].slice(),we[1].slice()];function ve(){if(!ge()){ue();var Ie=re.camera.tick();X.view=re.camera.matrix,K=K||Ie,Z=Z||Ie,H.pixelRatio=re.pixelRatio,B.pixelRatio=re.pixelRatio;var Se=V.length,ke=we[0],se=we[1];ke[0]=ke[1]=ke[2]=1/0,se[0]=se[1]=se[2]=-1/0;for(var oe=0;oe<Se;++oe){(Fe=V[oe]).pixelRatio=re.pixelRatio,Fe.axes=re.axes,K=K||!!Fe.dirty,Z=Z||!!Fe.dirty;var he=Fe.bounds;if(he)for(var Le=he[0],Me=he[1],_e=0;_e<3;++_e)ke[_e]=Math.min(ke[_e],Le[_e]),se[_e]=Math.max(se[_e],Me[_e])}var De=re.bounds;if(re.autoBounds)for(_e=0;_e<3;++_e){if(se[_e]<ke[_e])ke[_e]=-1,se[_e]=1;else{ke[_e]===se[_e]&&(ke[_e]-=1,se[_e]+=1);var Ne=.05*(se[_e]-ke[_e]);ke[_e]=ke[_e]-Ne,se[_e]=se[_e]+Ne}De[0][_e]=ke[_e],De[1][_e]=se[_e]}var ce=!1;for(_e=0;_e<3;++_e)ce=ce||me[0][_e]!==De[0][_e]||me[1][_e]!==De[1][_e],me[0][_e]=De[0][_e],me[1][_e]=De[1][_e];if(Z=Z||ce,K=K||ce){if(ce){var Te=[0,0,0];for(oe=0;oe<3;++oe)Te[oe]=m((De[1][oe]-De[0][oe])/10);H.autoTicks?H.update({bounds:De,tickSpacing:Te}):H.update({bounds:De})}var ye=T.drawingBufferWidth,Oe=T.drawingBufferHeight;for(ee[0]=ye,ee[1]=Oe,ae[0]=0|Math.max(ye/re.pixelRatio,1),ae[1]=0|Math.max(Oe/re.pixelRatio,1),function(Ge,Ze){var et=Ge.bounds,ft=Ge.cameraParams,rt=ft.projection,_t=ft.model,kt=Ge.gl.drawingBufferWidth,wt=Ge.gl.drawingBufferHeight,lt=Ge.zNear,ut=Ge.zFar,Et=Ge.fovy,Ot=kt/wt;Ze?(g(rt,-Ot,Ot,-1,1,lt,ut),ft._ortho=!0):(b(rt,Et,Ot,lt,ut),ft._ortho=!1);for(var zt=0;zt<16;++zt)_t[zt]=0;_t[15]=1;var Lt=0;for(zt=0;zt<3;++zt)Lt=Math.max(Lt,et[1][zt]-et[0][zt]);for(zt=0;zt<3;++zt)Ge.autoScale?_t[5*zt]=Ge.aspect[zt]/(et[1][zt]-et[0][zt]):_t[5*zt]=1/Lt,Ge.autoCenter&&(_t[12+zt]=.5*-_t[5*zt]*(et[0][zt]+et[1][zt]))}(re,R),oe=0;oe<Se;++oe)(Fe=V[oe]).axesBounds=De,re.clipToBounds&&(Fe.clipBounds=De);L.object&&(re.snapToData?B.position=L.dataCoordinate:B.position=L.dataPosition,B.bounds=De),Z&&(Z=!1,function(){if(!ge()){T.colorMask(!0,!0,!0,!0),T.depthMask(!0),T.disable(T.BLEND),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL);for(var Ge=V.length,Ze=$.length,et=0;et<Ze;++et){var ft=$[et];ft.shape=ae,ft.begin();for(var rt=0;rt<Ge;++rt)if(q[rt]===et){var _t=V[rt];_t.drawPick&&(_t.pixelRatio=1,_t.drawPick(X))}ft.end()}}}()),re.axesPixels=n(re.axes,X,ye,Oe),re.onrender&&re.onrender(),T.bindFramebuffer(T.FRAMEBUFFER,null),T.viewport(0,0,ye,Oe),re.clearRGBA(),T.depthMask(!0),T.colorMask(!0,!0,!0,!0),T.enable(T.DEPTH_TEST),T.depthFunc(T.LEQUAL),T.disable(T.BLEND),T.disable(T.CULL_FACE);var Be=!1;for(H.enable&&(Be=Be||H.isTransparent(),H.draw(X)),B.axes=H,L.object&&B.draw(X),T.disable(T.CULL_FACE),oe=0;oe<Se;++oe)(Fe=V[oe]).axes=H,Fe.pixelRatio=re.pixelRatio,Fe.isOpaque&&Fe.isOpaque()&&Fe.draw(X),Fe.isTransparent&&Fe.isTransparent()&&(Be=!0);if(Be){for(C.shape=ee,C.bind(),T.clear(T.DEPTH_BUFFER_BIT),T.colorMask(!1,!1,!1,!1),T.depthMask(!0),T.depthFunc(T.LESS),H.enable&&H.isTransparent()&&H.drawTransparent(X),oe=0;oe<Se;++oe)(Fe=V[oe]).isOpaque&&Fe.isOpaque()&&Fe.draw(X);for(T.enable(T.BLEND),T.blendEquation(T.FUNC_ADD),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.colorMask(!0,!0,!0,!0),T.depthMask(!1),T.clearColor(0,0,0,0),T.clear(T.COLOR_BUFFER_BIT),H.isTransparent()&&H.drawTransparent(X),oe=0;oe<Se;++oe){var Fe;(Fe=V[oe]).isTransparent&&Fe.isTransparent()&&Fe.drawTransparent(X)}T.bindFramebuffer(T.FRAMEBUFFER,null),T.blendFunc(T.ONE,T.ONE_MINUS_SRC_ALPHA),T.disable(T.DEPTH_TEST),P.bind(),C.color[0].bind(0),P.uniforms.accumBuffer=0,p(T),T.disable(T.BLEND)}for(K=!1,oe=0;oe<Se;++oe)V[oe].dirty=!1}}}return re.enableMouseListeners(),function Ie(){re._stopped||re.contextLost||(ve(),requestAnimationFrame(Ie))}(),re.redraw=function(){re._stopped||(K=!0,ve())},re},createCamera:i}},8023:function(d,s,t){var i=t(6832);s.pointVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;

uniform mat3 matrix;
uniform float pointSize;
uniform float pointCloud;

highp float rand(vec2 co) {
  highp float a = 12.9898;
  highp float b = 78.233;
  highp float c = 43758.5453;
  highp float d = dot(co.xy, vec2(a, b));
  highp float e = mod(d, 3.14);
  return fract(sin(e) * c);
}

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
    // if we don't jitter the point size a bit, overall point cloud
    // saturation 'jumps' on zooming, which is disturbing and confusing
  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);
  if(pointCloud != 0.0) { // pointCloud is truthy
    // get the same square surface as circle would be
    gl_PointSize *= 0.886;
  }
}`]),s.pointFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color, borderColor;
uniform float centerFraction;
uniform float pointCloud;

void main() {
  float radius;
  vec4 baseColor;
  if(pointCloud != 0.0) { // pointCloud is truthy
    if(centerFraction == 1.0) {
      gl_FragColor = color;
    } else {
      gl_FragColor = mix(borderColor, color, centerFraction);
    }
  } else {
    radius = length(2.0 * gl_PointCoord.xy - 1.0);
    if(radius > 1.0) {
      discard;
    }
    baseColor = mix(borderColor, color, step(radius, centerFraction));
    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);
  }
}
`]),s.pickVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 position;
attribute vec4 pickId;

uniform mat3 matrix;
uniform float pointSize;
uniform vec4 pickOffset;

varying vec4 fragId;

void main() {
  vec3 hgPosition = matrix * vec3(position, 1);
  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);
  gl_PointSize = pointSize;

  vec4 id = pickId + pickOffset;
  id.y += floor(id.x / 256.0);
  id.x -= floor(id.x / 256.0) * 256.0;

  id.z += floor(id.y / 256.0);
  id.y -= floor(id.y / 256.0) * 256.0;

  id.w += floor(id.z / 256.0);
  id.z -= floor(id.z / 256.0) * 256.0;

  fragId = id;
}
`]),s.pickFragment=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragId;

void main() {
  float radius = length(2.0 * gl_PointCoord.xy - 1.0);
  if(radius > 1.0) {
    discard;
  }
  gl_FragColor = fragId / 255.0;
}
`])},8271:function(d,s,t){var i=t(5158),r=t(5827),n=t(5306),l=t(8023);function o(b,g,h,x,v){this.plot=b,this.offsetBuffer=g,this.pickBuffer=h,this.shader=x,this.pickShader=v,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}d.exports=function(b,g){var h=b.gl,x=new o(b,r(h),r(h),i(h,l.pointVertex,l.pointFragment),i(h,l.pickVertex,l.pickFragment));return x.update(g),b.addObject(x),x};var u,p,c=o.prototype;c.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},c.update=function(b){var g;function h(T,E){return T in b?b[T]:E}b=b||{},this.sizeMin=h("sizeMin",.5),this.sizeMax=h("sizeMax",20),this.color=h("color",[1,0,0,1]).slice(),this.areaRatio=h("areaRatio",1),this.borderColor=h("borderColor",[0,0,0,1]).slice(),this.blend=h("blend",!1);var x=b.positions.length>>>1,v=b.positions instanceof Float32Array,m=b.idToIndex instanceof Int32Array&&b.idToIndex.length>=x,w=b.positions,f=v?w:n.mallocFloat32(w.length),S=m?b.idToIndex:n.mallocInt32(x);if(v||f.set(w),!m)for(f.set(w),g=0;g<x;g++)S[g]=g;this.points=w,this.offsetBuffer.update(f),this.pickBuffer.update(S),v||n.free(f),m||n.free(S),this.pointCount=x,this.pickOffset=0},c.unifiedDraw=(u=[1,0,0,0,1,0,0,0,1],p=[0,0,0,0],function(b){var g=b!==void 0,h=g?this.pickShader:this.shader,x=this.plot.gl,v=this.plot.dataBox;if(this.pointCount===0)return b;var m=v[2]-v[0],w=v[3]-v[1],f=function(L,C){var P,R=0,G=L.length>>>1;for(P=0;P<G;P++){var I=L[2*P],H=L[2*P+1];I>=C[0]&&I<=C[2]&&H>=C[1]&&H<=C[3]&&R++}return R}(this.points,v),S=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(f,.33333)));u[0]=2/m,u[4]=2/w,u[6]=-2*v[0]/m-1,u[7]=-2*v[1]/w-1,this.offsetBuffer.bind(),h.bind(),h.attributes.position.pointer(),h.uniforms.matrix=u,h.uniforms.color=this.color,h.uniforms.borderColor=this.borderColor,h.uniforms.pointCloud=S<5,h.uniforms.pointSize=S,h.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),g&&(p[0]=255&b,p[1]=b>>8&255,p[2]=b>>16&255,p[3]=b>>24&255,this.pickBuffer.bind(),h.attributes.pickId.pointer(x.UNSIGNED_BYTE),h.uniforms.pickOffset=p,this.pickOffset=b);var T=x.getParameter(x.BLEND),E=x.getParameter(x.DITHER);return T&&!this.blend&&x.disable(x.BLEND),E&&x.disable(x.DITHER),x.drawArrays(x.POINTS,0,this.pointCount),T&&!this.blend&&x.enable(x.BLEND),E&&x.enable(x.DITHER),b+this.pointCount}),c.draw=c.unifiedDraw,c.drawPick=c.unifiedDraw,c.pick=function(b,g,h){var x=this.pickOffset,v=this.pointCount;if(h<x||h>=x+v)return null;var m=h-x,w=this.points;return{object:this,pointId:m,dataCoord:[w[2*m],w[2*m+1]]}}},6093:function(d){d.exports=function(s,t,i,r){var n,l,o,u,p,c=t[0],b=t[1],g=t[2],h=t[3],x=i[0],v=i[1],m=i[2],w=i[3];return(l=c*x+b*v+g*m+h*w)<0&&(l=-l,x=-x,v=-v,m=-m,w=-w),1-l>1e-6?(n=Math.acos(l),o=Math.sin(n),u=Math.sin((1-r)*n)/o,p=Math.sin(r*n)/o):(u=1-r,p=r),s[0]=u*c+p*x,s[1]=u*b+p*v,s[2]=u*g+p*m,s[3]=u*h+p*w,s}},8240:function(d){d.exports=function(s){return s||s===0?s.toString():""}},4123:function(d,s,t){var i=t(875);d.exports=function(n,l,o){var u=r[l];if(u||(u=r[l]={}),n in u)return u[n];var p={textAlign:"center",textBaseline:"middle",lineHeight:1,font:l,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},c=i(n,p);p.triangles=!1;var b,g,h=i(n,p);if(o&&o!==1){for(b=0;b<c.positions.length;++b)for(g=0;g<c.positions[b].length;++g)c.positions[b][g]/=o;for(b=0;b<h.positions.length;++b)for(g=0;g<h.positions[b].length;++g)h.positions[b][g]/=o}var x=[[1/0,1/0],[-1/0,-1/0]],v=h.positions.length;for(b=0;b<v;++b){var m=h.positions[b];for(g=0;g<2;++g)x[0][g]=Math.min(x[0][g],m[g]),x[1][g]=Math.max(x[1][g],m[g])}return u[n]=[c,h,x]};var r={}},9282:function(d,s,t){var i=t(5158),r=t(6832),n=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform vec4 highlightId;
uniform float highlightScale;
uniform mat4 model, view, projection;
uniform vec3 clipBounds[2];

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = 1.0;
    if(distance(highlightId, id) < 0.0001) {
      scale = highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1);
    vec4 viewPosition = view * worldPosition;
    viewPosition = viewPosition / viewPosition.w;
    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),l=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float highlightScale, pixelRatio;
uniform vec4 highlightId;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float scale = pixelRatio;
    if(distance(highlightId.bgr, id.bgr) < 0.001) {
      scale *= highlightScale;
    }

    vec4 worldPosition = model * vec4(position, 1.0);
    vec4 viewPosition = view * worldPosition;
    vec4 clipPosition = projection * viewPosition;
    clipPosition /= clipPosition.w;

    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);
    interpColor = color;
    pickId = id;
    dataCoordinate = position;
  }
}`]),o=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

attribute vec3 position;
attribute vec4 color;
attribute vec2 glyph;
attribute vec4 id;

uniform float highlightScale;
uniform vec4 highlightId;
uniform vec3 axes[2];
uniform mat4 model, view, projection;
uniform vec2 screenSize;
uniform vec3 clipBounds[2];
uniform float scale, pixelRatio;

varying vec4 interpColor;
varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], position)) {

    gl_Position = vec4(0,0,0,0);
  } else {
    float lscale = pixelRatio * scale;
    if(distance(highlightId, id) < 0.0001) {
      lscale *= highlightScale;
    }

    vec4 clipCenter   = projection * view * model * vec4(position, 1);
    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;
    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);

    gl_Position = clipPosition;
    interpColor = color;
    pickId = id;
    dataCoordinate = dataPosition;
  }
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float opacity;

varying vec4 interpColor;
varying vec3 dataCoordinate;

void main() {
  if (
    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||
    interpColor.a * opacity == 0.
  ) discard;
  gl_FragColor = interpColor * opacity;
}
`]),p=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 fragClipBounds[2];
uniform float pickGroup;

varying vec4 pickId;
varying vec3 dataCoordinate;

void main() {
  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;

  gl_FragColor = vec4(pickGroup, pickId.bgr);
}`]),c=[{name:"position",type:"vec3"},{name:"color",type:"vec4"},{name:"glyph",type:"vec2"},{name:"id",type:"vec4"}],b={vertex:n,fragment:u,attributes:c},g={vertex:l,fragment:u,attributes:c},h={vertex:o,fragment:u,attributes:c},x={vertex:n,fragment:p,attributes:c},v={vertex:l,fragment:p,attributes:c},m={vertex:o,fragment:p,attributes:c};function w(f,S){var T=i(f,S),E=T.attributes;return E.position.location=0,E.color.location=1,E.glyph.location=2,E.id.location=3,T}s.createPerspective=function(f){return w(f,b)},s.createOrtho=function(f){return w(f,g)},s.createProject=function(f){return w(f,h)},s.createPickPerspective=function(f){return w(f,x)},s.createPickOrtho=function(f){return w(f,v)},s.createPickProject=function(f){return w(f,m)}},2182:function(d,s,t){var i=t(3596),r=t(5827),n=t(2944),l=t(5306),o=t(104),u=t(9282),p=t(4123),c=t(8240),b=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function g(q,te){var $=q[0],K=q[1],Z=q[2],X=q[3];return q[0]=te[0]*$+te[4]*K+te[8]*Z+te[12]*X,q[1]=te[1]*$+te[5]*K+te[9]*Z+te[13]*X,q[2]=te[2]*$+te[6]*K+te[10]*Z+te[14]*X,q[3]=te[3]*$+te[7]*K+te[11]*Z+te[15]*X,q}function h(q,te,$,K){return g(K,K),g(K,K),g(K,K)}function x(q,te){this.index=q,this.dataCoordinate=this.position=te}function v(q){return q===!0||q>1?1:q}function m(q,te,$,K,Z,X,ee,ne,re,ae,ue,pe){this.gl=q,this.pixelRatio=1,this.shader=te,this.orthoShader=$,this.projectShader=K,this.pointBuffer=Z,this.colorBuffer=X,this.glyphBuffer=ee,this.idBuffer=ne,this.vao=re,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[.6666666666666666,.6666666666666666,.6666666666666666],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=ae,this.pickOrthoShader=ue,this.pickProjectShader=pe,this.points=[],this._selectResult=new x(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}d.exports=function(q){var te=q.gl,$=u.createPerspective(te),K=u.createOrtho(te),Z=u.createProject(te),X=u.createPickPerspective(te),ee=u.createPickOrtho(te),ne=u.createPickProject(te),re=r(te),ae=r(te),ue=r(te),pe=r(te),ge=new m(te,$,K,Z,re,ae,ue,pe,n(te,[{buffer:re,size:3,type:te.FLOAT},{buffer:ae,size:4,type:te.FLOAT},{buffer:ue,size:2,type:te.FLOAT},{buffer:pe,size:4,type:te.UNSIGNED_BYTE,normalized:!0}]),X,ee,ne);return ge.update(q),ge};var w=m.prototype;w.pickSlots=1,w.setPickBase=function(q){this.pickId=q},w.isTransparent=function(){if(this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&this.projectHasAlpha)return!0;return!1},w.isOpaque=function(){if(!this.hasAlpha)return!0;for(var q=0;q<3;++q)if(this.axesProject[q]&&!this.projectHasAlpha)return!0;return!1};var f=[0,0],S=[0,0,0],T=[0,0,0],E=[0,0,0,1],L=[0,0,0,1],C=b.slice(),P=[0,0,0],R=[[0,0,0],[0,0,0]];function G(q){return q[0]=q[1]=q[2]=0,q}function I(q,te){return q[0]=te[0],q[1]=te[1],q[2]=te[2],q[3]=1,q}function H(q,te,$,K){return q[0]=te[0],q[1]=te[1],q[2]=te[2],q[$]=K,q}var N=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function B(q,te,$,K,Z,X,ee){var ne=$.gl;if((X===$.projectHasAlpha||ee)&&function(ae,ue,pe,ge){var we,me=ue.axesProject,ve=ue.gl,Ie=ae.uniforms,Se=pe.model||b,ke=pe.view||b,se=pe.projection||b,oe=ue.axesBounds,he=function(et){for(var ft=R,rt=0;rt<2;++rt)for(var _t=0;_t<3;++_t)ft[rt][_t]=Math.max(Math.min(et[rt][_t],1e8),-1e8);return ft}(ue.clipBounds);we=ue.axes&&ue.axes.lastCubeProps?ue.axes.lastCubeProps.axis:[1,1,1],f[0]=2/ve.drawingBufferWidth,f[1]=2/ve.drawingBufferHeight,ae.bind(),Ie.view=ke,Ie.projection=se,Ie.screenSize=f,Ie.highlightId=ue.highlightId,Ie.highlightScale=ue.highlightScale,Ie.clipBounds=he,Ie.pickGroup=ue.pickId/255,Ie.pixelRatio=ge;for(var Le=0;Le<3;++Le)if(me[Le]){Ie.scale=ue.projectScale[Le],Ie.opacity=ue.projectOpacity[Le];for(var Me=C,_e=0;_e<16;++_e)Me[_e]=0;for(_e=0;_e<4;++_e)Me[5*_e]=1;Me[5*Le]=0,we[Le]<0?Me[12+Le]=oe[0][Le]:Me[12+Le]=oe[1][Le],o(Me,Se,Me),Ie.model=Me;var De=(Le+1)%3,Ne=(Le+2)%3,ce=G(S),Te=G(T);ce[De]=1,Te[Ne]=1;var ye=h(0,0,0,I(E,ce)),Oe=h(0,0,0,I(L,Te));if(Math.abs(ye[1])>Math.abs(Oe[1])){var Be=ye;ye=Oe,Oe=Be,Be=ce,ce=Te,Te=Be;var Fe=De;De=Ne,Ne=Fe}ye[0]<0&&(ce[De]=-1),Oe[1]>0&&(Te[Ne]=-1);var Ge=0,Ze=0;for(_e=0;_e<4;++_e)Ge+=Math.pow(Se[4*De+_e],2),Ze+=Math.pow(Se[4*Ne+_e],2);ce[De]/=Math.sqrt(Ge),Te[Ne]/=Math.sqrt(Ze),Ie.axes[0]=ce,Ie.axes[1]=Te,Ie.fragClipBounds[0]=H(P,he[0],Le,-1e8),Ie.fragClipBounds[1]=H(P,he[1],Le,1e8),ue.vao.bind(),ue.vao.draw(ve.TRIANGLES,ue.vertexCount),ue.lineWidth>0&&(ve.lineWidth(ue.lineWidth*ge),ue.vao.draw(ve.LINES,ue.lineVertexCount,ue.vertexCount)),ue.vao.unbind()}}(te,$,K,Z),X===$.hasAlpha||ee){q.bind();var re=q.uniforms;re.model=K.model||b,re.view=K.view||b,re.projection=K.projection||b,f[0]=2/ne.drawingBufferWidth,f[1]=2/ne.drawingBufferHeight,re.screenSize=f,re.highlightId=$.highlightId,re.highlightScale=$.highlightScale,re.fragClipBounds=N,re.clipBounds=$.axes.bounds,re.opacity=$.opacity,re.pickGroup=$.pickId/255,re.pixelRatio=Z,$.vao.bind(),$.vao.draw(ne.TRIANGLES,$.vertexCount),$.lineWidth>0&&(ne.lineWidth($.lineWidth*Z),$.vao.draw(ne.LINES,$.lineVertexCount,$.vertexCount)),$.vao.unbind()}}function V(q,te,$,K){var Z;Z=Array.isArray(q)?te<q.length?q[te]:void 0:q,Z=c(Z);var X=!0;i(Z)&&(Z="▼",X=!1);var ee=p(Z,$,K);return{mesh:ee[0],lines:ee[1],bounds:ee[2],visible:X}}w.draw=function(q){B(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,q,this.pixelRatio,!1,!1)},w.drawTransparent=function(q){B(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,q,this.pixelRatio,!0,!1)},w.drawPick=function(q){B(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,q,1,!0,!0)},w.pick=function(q){if(!q||q.id!==this.pickId)return null;var te=q.value[2]+(q.value[1]<<8)+(q.value[0]<<16);if(te>=this.pointCount||te<0)return null;var $=this.points[te],K=this._selectResult;K.index=te;for(var Z=0;Z<3;++Z)K.position[Z]=K.dataCoordinate[Z]=$[Z];return K},w.highlight=function(q){if(q){var te=q.index,$=255&te,K=te>>8&255,Z=te>>16&255;this.highlightId=[$/255,K/255,Z/255,0]}else this.highlightId=[1,1,1,1]},w.update=function(q){if("perspective"in(q=q||{})&&(this.useOrtho=!q.perspective),"orthographic"in q&&(this.useOrtho=!!q.orthographic),"lineWidth"in q&&(this.lineWidth=q.lineWidth),"project"in q)if(Array.isArray(q.project))this.axesProject=q.project;else{var te=!!q.project;this.axesProject=[te,te,te]}if("projectScale"in q)if(Array.isArray(q.projectScale))this.projectScale=q.projectScale.slice();else{var $=+q.projectScale;this.projectScale=[$,$,$]}if(this.projectHasAlpha=!1,"projectOpacity"in q){Array.isArray(q.projectOpacity)?this.projectOpacity=q.projectOpacity.slice():($=+q.projectOpacity,this.projectOpacity=[$,$,$]);for(var K=0;K<3;++K)this.projectOpacity[K]=v(this.projectOpacity[K]),this.projectOpacity[K]<1&&(this.projectHasAlpha=!0)}this.hasAlpha=!1,"opacity"in q&&(this.opacity=v(q.opacity),this.opacity<1&&(this.hasAlpha=!0)),this.dirty=!0;var Z,X,ee=q.position,ne=q.font||"normal",re=q.alignment||[0,0];if(re.length===2)Z=re[0],X=re[1];else for(Z=[],X=[],K=0;K<re.length;++K)Z[K]=re[K][0],X[K]=re[K][1];var ae=[1/0,1/0,1/0],ue=[-1/0,-1/0,-1/0],pe=q.glyph,ge=q.color,we=q.size,me=q.angle,ve=q.lineColor,Ie=-1,Se=0,ke=0,se=0;if(ee.length){se=ee.length;e:for(K=0;K<se;++K){for(var oe=ee[K],he=0;he<3;++he)if(isNaN(oe[he])||!isFinite(oe[he]))continue e;var Le=(ft=V(pe,K,ne,this.pixelRatio)).mesh,Me=ft.lines,_e=ft.bounds;Se+=3*Le.cells.length,ke+=2*Me.edges.length}}var De=Se+ke,Ne=l.mallocFloat(3*De),ce=l.mallocFloat(4*De),Te=l.mallocFloat(2*De),ye=l.mallocUint32(De);if(De>0){var Oe=0,Be=Se,Fe=[0,0,0,1],Ge=[0,0,0,1],Ze=Array.isArray(ge)&&Array.isArray(ge[0]),et=Array.isArray(ve)&&Array.isArray(ve[0]);e:for(K=0;K<se;++K){for(Ie+=1,oe=ee[K],he=0;he<3;++he){if(isNaN(oe[he])||!isFinite(oe[he]))continue e;ue[he]=Math.max(ue[he],oe[he]),ae[he]=Math.min(ae[he],oe[he])}Le=(ft=V(pe,K,ne,this.pixelRatio)).mesh,Me=ft.lines,_e=ft.bounds;var ft,rt=ft.visible;if(rt)if(Array.isArray(ge)){if((_t=Ze?K<ge.length?ge[K]:[0,0,0,0]:ge).length===3){for(he=0;he<3;++he)Fe[he]=_t[he];Fe[3]=1}else if(_t.length===4){for(he=0;he<4;++he)Fe[he]=_t[he];!this.hasAlpha&&_t[3]<1&&(this.hasAlpha=!0)}}else Fe[0]=Fe[1]=Fe[2]=0,Fe[3]=1;else Fe=[1,1,1,0];if(rt)if(Array.isArray(ve)){var _t;if((_t=et?K<ve.length?ve[K]:[0,0,0,0]:ve).length===3){for(he=0;he<3;++he)Ge[he]=_t[he];Ge[he]=1}else if(_t.length===4){for(he=0;he<4;++he)Ge[he]=_t[he];!this.hasAlpha&&_t[3]<1&&(this.hasAlpha=!0)}}else Ge[0]=Ge[1]=Ge[2]=0,Ge[3]=1;else Ge=[1,1,1,0];var kt=.5;rt?Array.isArray(we)?kt=K<we.length?+we[K]:12:we?kt=+we:this.useOrtho&&(kt=12):kt=0;var wt=0;Array.isArray(me)?wt=K<me.length?+me[K]:0:me&&(wt=+me);var lt=Math.cos(wt),ut=Math.sin(wt);for(oe=ee[K],he=0;he<3;++he)ue[he]=Math.max(ue[he],oe[he]),ae[he]=Math.min(ae[he],oe[he]);var Et=Z,Ot=X;Et=0,Array.isArray(Z)?Et=K<Z.length?Z[K]:0:Z&&(Et=Z),Ot=0,Array.isArray(X)?Ot=K<X.length?X[K]:0:X&&(Ot=X);var zt=[Et*=Et>0?1-_e[0][0]:Et<0?1+_e[1][0]:1,Ot*=Ot>0?1-_e[0][1]:Ot<0?1+_e[1][1]:1],Lt=Le.cells||[],Je=Le.positions||[];for(he=0;he<Lt.length;++he)for(var Qe=Lt[he],qe=0;qe<3;++qe){for(var $e=0;$e<3;++$e)Ne[3*Oe+$e]=oe[$e];for($e=0;$e<4;++$e)ce[4*Oe+$e]=Fe[$e];ye[Oe]=Ie;var ct=Je[Qe[qe]];Te[2*Oe]=kt*(lt*ct[0]-ut*ct[1]+zt[0]),Te[2*Oe+1]=kt*(ut*ct[0]+lt*ct[1]+zt[1]),Oe+=1}for(Lt=Me.edges,Je=Me.positions,he=0;he<Lt.length;++he)for(Qe=Lt[he],qe=0;qe<2;++qe){for($e=0;$e<3;++$e)Ne[3*Be+$e]=oe[$e];for($e=0;$e<4;++$e)ce[4*Be+$e]=Ge[$e];ye[Be]=Ie,ct=Je[Qe[qe]],Te[2*Be]=kt*(lt*ct[0]-ut*ct[1]+zt[0]),Te[2*Be+1]=kt*(ut*ct[0]+lt*ct[1]+zt[1]),Be+=1}}}this.bounds=[ae,ue],this.points=ee,this.pointCount=ee.length,this.vertexCount=Se,this.lineVertexCount=ke,this.pointBuffer.update(Ne),this.colorBuffer.update(ce),this.glyphBuffer.update(Te),this.idBuffer.update(ye),l.free(Ne),l.free(ce),l.free(Te),l.free(ye)},w.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},1884:function(d,s,t){var i=t(6832);s.boxVertex=i([`precision mediump float;
#define GLSLIFY 1

attribute vec2 vertex;

uniform vec2 cornerA, cornerB;

void main() {
  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);
}
`]),s.boxFragment=i([`precision mediump float;
#define GLSLIFY 1

uniform vec4 color;

void main() {
  gl_FragColor = color;
}
`])},6623:function(d,s,t){var i=t(5158),r=t(5827),n=t(1884);function l(u,p,c){this.plot=u,this.boxBuffer=p,this.boxShader=c,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}d.exports=function(u,p){var c=u.gl,b=new l(u,r(c,[0,0,0,1,1,0,1,1]),i(c,n.boxVertex,n.boxFragment));return b.update(p),u.addOverlay(b),b};var o=l.prototype;o.draw=function(){if(this.enabled){var u=this.plot,p=this.selectBox,c=this.borderWidth,b=(this.innerFill,this.innerColor),g=(this.outerFill,this.outerColor),h=this.borderColor,x=u.box,v=u.screenBox,m=u.dataBox,w=u.viewBox,f=u.pixelRatio,S=(p[0]-m[0])*(w[2]-w[0])/(m[2]-m[0])+w[0],T=(p[1]-m[1])*(w[3]-w[1])/(m[3]-m[1])+w[1],E=(p[2]-m[0])*(w[2]-w[0])/(m[2]-m[0])+w[0],L=(p[3]-m[1])*(w[3]-w[1])/(m[3]-m[1])+w[1];if(S=Math.max(S,w[0]),T=Math.max(T,w[1]),E=Math.min(E,w[2]),L=Math.min(L,w[3]),!(E<S||L<T)){x.bind();var C=v[2]-v[0],P=v[3]-v[1];if(this.outerFill&&(x.drawBox(0,0,C,T,g),x.drawBox(0,T,S,L,g),x.drawBox(0,L,C,P,g),x.drawBox(E,T,C,L,g)),this.innerFill&&x.drawBox(S,T,E,L,b),c>0){var R=c*f;x.drawBox(S-R,T-R,E+R,T+R,h),x.drawBox(S-R,L-R,E+R,L+R,h),x.drawBox(S-R,T-R,S+R,L+R,h),x.drawBox(E-R,T-R,E+R,L+R,h)}}}},o.update=function(u){u=u||{},this.innerFill=!!u.innerFill,this.outerFill=!!u.outerFill,this.innerColor=(u.innerColor||[0,0,0,.5]).slice(),this.outerColor=(u.outerColor||[0,0,0,.5]).slice(),this.borderColor=(u.borderColor||[0,0,0,1]).slice(),this.borderWidth=u.borderWidth||0,this.selectBox=(u.selectBox||this.selectBox).slice()},o.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},2611:function(d,s,t){d.exports=function(c,b){var g=b[0],h=b[1];return new u(c,i(c,g,h,{}),r.mallocUint8(g*h*4))};var i=t(4234),r=t(5306),n=t(5050),l=t(2288).nextPow2;function o(c,b,g,h,x){this.coord=[c,b],this.id=g,this.value=h,this.distance=x}function u(c,b,g){this.gl=c,this.fbo=b,this.buffer=g,this._readTimeout=null;var h=this;this._readCallback=function(){h.gl&&(b.bind(),c.readPixels(0,0,b.shape[0],b.shape[1],c.RGBA,c.UNSIGNED_BYTE,h.buffer),h._readTimeout=null)}}var p=u.prototype;Object.defineProperty(p,"shape",{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(c){if(this.gl){this.fbo.shape=c;var b=this.fbo.shape[0],g=this.fbo.shape[1];if(g*b*4>this.buffer.length){r.free(this.buffer);for(var h=this.buffer=r.mallocUint8(l(g*b*4)),x=0;x<g*b*4;++x)h[x]=255}return c}}}),p.begin=function(){var c=this.gl;this.shape,c&&(this.fbo.bind(),c.clearColor(1,1,1,1),c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT))},p.end=function(){var c=this.gl;c&&(c.bindFramebuffer(c.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},p.query=function(c,b,g){if(!this.gl)return null;var h=this.fbo.shape.slice();c|=0,b|=0,typeof g!="number"&&(g=1);var x=0|Math.min(Math.max(c-g,0),h[0]),v=0|Math.min(Math.max(c+g,0),h[0]),m=0|Math.min(Math.max(b-g,0),h[1]),w=0|Math.min(Math.max(b+g,0),h[1]);if(v<=x||w<=m)return null;var f=[v-x,w-m],S=n(this.buffer,[f[0],f[1],4],[4,4*h[0],1],4*(x+h[0]*m)),T=function(C,P,R){for(var G=1e8,I=-1,H=-1,N=C.shape[0],B=C.shape[1],V=0;V<N;V++)for(var q=0;q<B;q++){var te=C.get(V,q,0),$=C.get(V,q,1),K=C.get(V,q,2),Z=C.get(V,q,3);if(te<255||$<255||K<255||Z<255){var X=P-V,ee=R-q,ne=X*X+ee*ee;ne<G&&(G=ne,I=V,H=q)}}return[I,H,G]}(S.hi(f[0],f[1],1),g,g),E=T[0],L=T[1];return E<0||Math.pow(this.radius,2)<T[2]?null:new o(E+x|0,L+m|0,S.get(E,L,0),[S.get(E,L,1),S.get(E,L,2),S.get(E,L,3)],Math.sqrt(T[2]))},p.dispose=function(){this.gl&&(this.fbo.dispose(),r.free(this.buffer),this.gl=null,this._readTimeout&&clearTimeout(this._readTimeout))}},5158:function(d,s,t){var i=t(9016),r=t(4280),n=t(3984),l=t(1628),o=t(2631),u=t(9068);function p(g){this.gl=g,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var c=p.prototype;function b(g,h){return g.name<h.name?-1:1}c.bind=function(){var g;this.program||this._relink();var h=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),x=this.gl.lastAttribCount;if(h>x)for(g=x;g<h;g++)this.gl.enableVertexAttribArray(g);else if(x>h)for(g=h;g<x;g++)this.gl.disableVertexAttribArray(g);this.gl.lastAttribCount=h,this.gl.useProgram(this.program)},c.dispose=function(){for(var g=this.gl.lastAttribCount,h=0;h<g;h++)this.gl.disableVertexAttribArray(h);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},c.update=function(g,h,x,v){if(!h||arguments.length===1){var m=g;g=m.vertex,h=m.fragment,x=m.uniforms,v=m.attributes}var w=this,f=w.gl,S=w._vref;w._vref=l.shader(f,f.VERTEX_SHADER,g),S&&S.dispose(),w.vertShader=w._vref.shader;var T=this._fref;if(w._fref=l.shader(f,f.FRAGMENT_SHADER,h),T&&T.dispose(),w.fragShader=w._fref.shader,!x||!v){var E=f.createProgram();if(f.attachShader(E,w.fragShader),f.attachShader(E,w.vertShader),f.linkProgram(E),!f.getProgramParameter(E,f.LINK_STATUS)){var L=f.getProgramInfoLog(E);throw new u(L,"Error linking program:"+L)}x=x||o.uniforms(f,E),v=v||o.attributes(f,E),f.deleteProgram(E)}(v=v.slice()).sort(b);var C,P=[],R=[],G=[];for(C=0;C<v.length;++C){var I=v[C];if(I.type.indexOf("mat")>=0){for(var H=0|I.type.charAt(I.type.length-1),N=new Array(H),B=0;B<H;++B)N[B]=G.length,R.push(I.name+"["+B+"]"),typeof I.location=="number"?G.push(I.location+B):Array.isArray(I.location)&&I.location.length===H&&typeof I.location[B]=="number"?G.push(0|I.location[B]):G.push(-1);P.push({name:I.name,type:I.type,locations:N})}else P.push({name:I.name,type:I.type,locations:[G.length]}),R.push(I.name),typeof I.location=="number"?G.push(0|I.location):G.push(-1)}var V=0;for(C=0;C<G.length;++C)if(G[C]<0){for(;G.indexOf(V)>=0;)V+=1;G[C]=V}var q=new Array(x.length);function te(){w.program=l.program(f,w._vref,w._fref,R,G);for(var $=0;$<x.length;++$)q[$]=f.getUniformLocation(w.program,x[$].name)}te(),w._relink=te,w.types={uniforms:n(x),attributes:n(v)},w.attributes=r(f,w,P,G),Object.defineProperty(w,"uniforms",i(f,w,x,q))},d.exports=function(g,h,x,v,m){var w=new p(g);return w.update(h,x,v,m),w}},9068:function(d){function s(t,i,r){this.shortMessage=i||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(i||t||"")+(r?`
`+r:""),this.stack=new Error().stack}s.prototype=new Error,s.prototype.name="GLError",s.prototype.constructor=s,d.exports=s},4280:function(d,s,t){d.exports=function(p,c,b,g){for(var h={},x=0,v=b.length;x<v;++x){var m=b[x],w=m.name,f=m.type,S=m.locations;switch(f){case"bool":case"int":case"float":o(p,c,S[0],g,1,h,w);break;default:if(f.indexOf("vec")>=0){if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+w+": "+f);o(p,c,S[0],g,T,h,w)}else{if(!(f.indexOf("mat")>=0))throw new i("","Unknown data type for attribute "+w+": "+f);var T;if((T=f.charCodeAt(f.length-1)-48)<2||T>4)throw new i("","Invalid data type for attribute "+w+": "+f);u(p,c,S,g,T,h,w)}}}return h};var i=t(9068);function r(p,c,b,g,h,x){this._gl=p,this._wrapper=c,this._index=b,this._locations=g,this._dimension=h,this._constFunc=x}var n=r.prototype;n.pointer=function(p,c,b,g){var h=this,x=h._gl,v=h._locations[h._index];x.vertexAttribPointer(v,h._dimension,p||x.FLOAT,!!c,b||0,g||0),x.enableVertexAttribArray(v)},n.set=function(p,c,b,g){return this._constFunc(this._locations[this._index],p,c,b,g)},Object.defineProperty(n,"location",{get:function(){return this._locations[this._index]},set:function(p){return p!==this._locations[this._index]&&(this._locations[this._index]=0|p,this._wrapper.program=null),0|p}});var l=[function(p,c,b){return b.length===void 0?p.vertexAttrib1f(c,b):p.vertexAttrib1fv(c,b)},function(p,c,b,g){return b.length===void 0?p.vertexAttrib2f(c,b,g):p.vertexAttrib2fv(c,b)},function(p,c,b,g,h){return b.length===void 0?p.vertexAttrib3f(c,b,g,h):p.vertexAttrib3fv(c,b)},function(p,c,b,g,h,x){return b.length===void 0?p.vertexAttrib4f(c,b,g,h,x):p.vertexAttrib4fv(c,b)}];function o(p,c,b,g,h,x,v){var m=l[h],w=new r(p,c,b,g,h,m);Object.defineProperty(x,v,{set:function(f){return p.disableVertexAttribArray(g[b]),m(p,g[b],f),f},get:function(){return w},enumerable:!0})}function u(p,c,b,g,h,x,v){for(var m=new Array(h),w=new Array(h),f=0;f<h;++f)o(p,c,b[f],g,h,m,f),w[f]=m[f];Object.defineProperty(m,"location",{set:function(E){if(Array.isArray(E))for(var L=0;L<h;++L)w[L].location=E[L];else for(L=0;L<h;++L)w[L].location=E+L;return E},get:function(){for(var E=new Array(h),L=0;L<h;++L)E[L]=g[b[L]];return E},enumerable:!0}),m.pointer=function(E,L,C,P){E=E||p.FLOAT,L=!!L,C=C||h*h,P=P||0;for(var R=0;R<h;++R){var G=g[b[R]];p.vertexAttribPointer(G,h,E,L,C,P+R*h),p.enableVertexAttribArray(G)}};var S=new Array(h),T=p["vertexAttrib"+h+"fv"];Object.defineProperty(x,v,{set:function(E){for(var L=0;L<h;++L){var C=g[b[L]];if(p.disableVertexAttribArray(C),Array.isArray(E[0]))T.call(p,C,E[L]);else{for(var P=0;P<h;++P)S[P]=E[h*L+P];T.call(p,C,S)}}return E},get:function(){return m},enumerable:!0})}},9016:function(d,s,t){var i=t(3984),r=t(9068);function n(o){return function(){return o}}function l(o,u){for(var p=new Array(o),c=0;c<o;++c)p[c]=u;return p}d.exports=function(o,u,p,c){function b(m){return function(w){for(var f=g("",m),S=0;S<f.length;++S){var T=f[S],E=T[0],L=T[1];if(c[L]){var C=w;if(typeof E=="string"&&(E.indexOf(".")===0||E.indexOf("[")===0)){var P=E;if(E.indexOf(".")===0&&(P=E.slice(1)),P.indexOf("]")===P.length-1){var R=P.indexOf("["),G=P.slice(0,R),I=P.slice(R+1,P.length-1);C=G?w[G][I]:w[I]}else C=w[P]}var H,N=p[L].type;switch(N){case"bool":case"int":case"sampler2D":case"samplerCube":o.uniform1i(c[L],C);break;case"float":o.uniform1f(c[L],C);break;default:var B=N.indexOf("vec");if(!(0<=B&&B<=1&&N.length===4+B)){if(N.indexOf("mat")===0&&N.length===4){if((H=N.charCodeAt(N.length-1)-48)<2||H>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+N);o["uniformMatrix"+H+"fv"](c[L],!1,C);break}throw new r("","Unknown uniform data type for "+name+": "+N)}if((H=N.charCodeAt(N.length-1)-48)<2||H>4)throw new r("","Invalid data type");switch(N.charAt(0)){case"b":case"i":o["uniform"+H+"iv"](c[L],C);break;case"v":o["uniform"+H+"fv"](c[L],C);break;default:throw new r("","Unrecognized data type for vector "+name+": "+N)}}}}}}function g(m,w){if(typeof w!="object")return[[m,w]];var f=[];for(var S in w){var T=w[S],E=m;parseInt(S)+""===S?E+="["+S+"]":E+="."+S,typeof T=="object"?f.push.apply(f,g(E,T)):f.push([E,T])}return f}function h(m,w,f){if(typeof f=="object"){var S=x(f);Object.defineProperty(m,w,{get:n(S),set:b(f),enumerable:!0,configurable:!1})}else c[f]?Object.defineProperty(m,w,{get:(T=f,function(E,L,C){return E.getUniform(L.program,C[T])}),set:b(f),enumerable:!0,configurable:!1}):m[w]=function(E){switch(E){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var L=E.indexOf("vec");if(0<=L&&L<=1&&E.length===4+L){if((C=E.charCodeAt(E.length-1)-48)<2||C>4)throw new r("","Invalid data type");return E.charAt(0)==="b"?l(C,!1):l(C,0)}if(E.indexOf("mat")===0&&E.length===4){var C;if((C=E.charCodeAt(E.length-1)-48)<2||C>4)throw new r("","Invalid uniform dimension type for matrix "+name+": "+E);return l(C*C,0)}throw new r("","Unknown uniform data type for "+name+": "+E)}}(p[f].type);var T}function x(m){var w;if(Array.isArray(m)){w=new Array(m.length);for(var f=0;f<m.length;++f)h(w,f,m[f])}else for(var S in w={},m)h(w,S,m[S]);return w}var v=i(p,!0);return{get:n(x(v)),set:b(v),enumerable:!0,configurable:!0}}},3984:function(d){d.exports=function(s,t){for(var i={},r=0;r<s.length;++r)for(var n=s[r].name.split("."),l=i,o=0;o<n.length;++o){var u=n[o].split("[");if(u.length>1){u[0]in l||(l[u[0]]=[]),l=l[u[0]];for(var p=1;p<u.length;++p){var c=parseInt(u[p]);p<u.length-1||o<n.length-1?(c in l||(p<u.length-1?l[c]=[]:l[c]={}),l=l[c]):l[c]=t?r:s[r].type}}else o<n.length-1?(u[0]in l||(l[u[0]]={}),l=l[u[0]]):l[u[0]]=t?r:s[r].type}return i}},2631:function(d,s){s.uniforms=function(n,l){for(var o=n.getProgramParameter(l,n.ACTIVE_UNIFORMS),u=[],p=0;p<o;++p){var c=n.getActiveUniform(l,p);if(c){var b=r(n,c.type);if(c.size>1)for(var g=0;g<c.size;++g)u.push({name:c.name.replace("[0]","["+g+"]"),type:b});else u.push({name:c.name,type:b})}}return u},s.attributes=function(n,l){for(var o=n.getProgramParameter(l,n.ACTIVE_ATTRIBUTES),u=[],p=0;p<o;++p){var c=n.getActiveAttrib(l,p);c&&u.push({name:c.name,type:r(n,c.type)})}return u};var t={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},i=null;function r(n,l){if(!i){var o=Object.keys(t);i={};for(var u=0;u<o.length;++u){var p=o[u];i[n[p]]=t[p]}}return i[l]}},1628:function(d,s,t){s.shader=function(b,g,h){return c(b).getShaderReference(g,h)},s.program=function(b,g,h,x,v){return c(b).getProgram(g,h,x,v)};var i=t(9068),r=t(3530),n=new(typeof WeakMap>"u"?t(4037):WeakMap),l=0;function o(b,g,h,x,v,m,w){this.id=b,this.src=g,this.type=h,this.shader=x,this.count=m,this.programs=[],this.cache=w}function u(b){this.gl=b,this.shaders=[{},{}],this.programs={}}o.prototype.dispose=function(){if(--this.count==0){for(var b=this.cache,g=b.gl,h=this.programs,x=0,v=h.length;x<v;++x){var m=b.programs[h[x]];m&&(delete b.programs[x],g.deleteProgram(m))}g.deleteShader(this.shader),delete b.shaders[this.type===g.FRAGMENT_SHADER|0][this.src]}};var p=u.prototype;function c(b){var g=n.get(b);return g||(g=new u(b),n.set(b,g)),g}p.getShaderReference=function(b,g){var h=this.gl,x=this.shaders[b===h.FRAGMENT_SHADER|0],v=x[g];if(v&&h.isShader(v.shader))v.count+=1;else{var m=function(w,f,S){var T=w.createShader(f);if(w.shaderSource(T,S),w.compileShader(T),!w.getShaderParameter(T,w.COMPILE_STATUS)){var E=w.getShaderInfoLog(T);try{var L=r(E,S,f)}catch(C){throw console.warn("Failed to format compiler error: "+C),new i(E,`Error compiling shader:
`+E)}throw new i(E,L.short,L.long)}return T}(h,b,g);v=x[g]=new o(l++,g,b,m,[],1,this)}return v},p.getProgram=function(b,g,h,x){var v=[b.id,g.id,h.join(":"),x.join(":")].join("@"),m=this.programs[v];return m&&this.gl.isProgram(m)||(this.programs[v]=m=function(w,f,S,T,E){var L=w.createProgram();w.attachShader(L,f),w.attachShader(L,S);for(var C=0;C<T.length;++C)w.bindAttribLocation(L,E[C],T[C]);if(w.linkProgram(L),!w.getProgramParameter(L,w.LINK_STATUS)){var P=w.getProgramInfoLog(L);throw new i(P,"Error linking program: "+P)}return L}(this.gl,b.shader,g.shader,h,x),b.programs.push(v),g.programs.push(v)),m}},3050:function(d){function s(i){this.plot=i,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}d.exports=function(i,r){var n=new s(i);return n.update(r),i.addOverlay(n),n};var t=s.prototype;t.update=function(i){i=i||{},this.enable=(i.enable||[!0,!0,!1,!1]).slice(),this.width=(i.width||[1,1,1,1]).slice(),this.color=(i.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map(function(r){return r.slice()}),this.center=(i.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},t.draw=function(){var i=this.enable,r=this.width,n=this.color,l=this.center,o=this.plot,u=o.line,p=o.dataBox,c=o.viewBox;if(u.bind(),p[0]<=l[0]&&l[0]<=p[2]&&p[1]<=l[1]&&l[1]<=p[3]){var b=c[0]+(l[0]-p[0])/(p[2]-p[0])*(c[2]-c[0]),g=c[1]+(l[1]-p[1])/(p[3]-p[1])*(c[3]-c[1]);i[0]&&u.drawLine(b,g,c[0],g,r[0],n[0]),i[1]&&u.drawLine(b,g,b,c[1],r[1],n[1]),i[2]&&u.drawLine(b,g,c[2],g,r[2],n[2]),i[3]&&u.drawLine(b,g,b,c[3],r[3],n[3])}},t.dispose=function(){this.plot.removeOverlay(this)}},3540:function(d,s,t){var i=t(6832),r=t(5158),n=i([`precision mediump float;
#define GLSLIFY 1

attribute vec3 position, color;
attribute float weight;

uniform mat4 model, view, projection;
uniform vec3 coordinates[3];
uniform vec4 colors[3];
uniform vec2 screenShape;
uniform float lineWidth;

varying vec4 fragColor;

void main() {
  vec3 vertexPosition = mix(coordinates[0],
    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));

  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);
  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;
  vec2 delta = weight * clipOffset * screenShape;
  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;

  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);
  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];
}
`]),l=i([`precision mediump float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
  gl_FragColor = fragColor;
}`]);d.exports=function(o){return r(o,n,l,null,[{name:"position",type:"vec3"},{name:"color",type:"vec3"},{name:"weight",type:"float"}])}},6496:function(d,s,t){var i=t(5827),r=t(2944),n=t(3540);d.exports=function(g,h){var x=[];function v(T,E,L,C,P,R){var G=[T,E,L,0,0,0,1];G[C+3]=1,G[C]=P,x.push.apply(x,G),G[6]=-1,x.push.apply(x,G),G[C]=R,x.push.apply(x,G),x.push.apply(x,G),G[6]=1,x.push.apply(x,G),G[C]=P,x.push.apply(x,G)}v(0,0,0,0,0,1),v(0,0,0,1,0,1),v(0,0,0,2,0,1),v(1,0,0,1,-1,1),v(1,0,0,2,-1,1),v(0,1,0,0,-1,1),v(0,1,0,2,-1,1),v(0,0,1,0,-1,1),v(0,0,1,1,-1,1);var m=i(g,x),w=r(g,[{type:g.FLOAT,buffer:m,size:3,offset:0,stride:28},{type:g.FLOAT,buffer:m,size:3,offset:12,stride:28},{type:g.FLOAT,buffer:m,size:1,offset:24,stride:28}]),f=n(g);f.attributes.position.location=0,f.attributes.color.location=1,f.attributes.weight.location=2;var S=new o(g,m,w,f);return S.update(h),S};var l=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function o(g,h,x,v){this.gl=g,this.buffer=h,this.vao=x,this.shader=v,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var u=o.prototype,p=[0,0,0],c=[0,0,0],b=[0,0];u.isTransparent=function(){return!1},u.drawTransparent=function(g){},u.draw=function(g){var h=this.gl,x=this.vao,v=this.shader;x.bind(),v.bind();var m,w=g.model||l,f=g.view||l,S=g.projection||l;this.axes&&(m=this.axes.lastCubeProps.axis);for(var T=p,E=c,L=0;L<3;++L)m&&m[L]<0?(T[L]=this.bounds[0][L],E[L]=this.bounds[1][L]):(T[L]=this.bounds[1][L],E[L]=this.bounds[0][L]);for(b[0]=h.drawingBufferWidth,b[1]=h.drawingBufferHeight,v.uniforms.model=w,v.uniforms.view=f,v.uniforms.projection=S,v.uniforms.coordinates=[this.position,T,E],v.uniforms.colors=this.colors,v.uniforms.screenShape=b,L=0;L<3;++L)v.uniforms.lineWidth=this.lineWidth[L]*this.pixelRatio,this.enabled[L]&&(x.draw(h.TRIANGLES,6,6*L),this.drawSides[L]&&x.draw(h.TRIANGLES,12,18+12*L));x.unbind()},u.update=function(g){g&&("bounds"in g&&(this.bounds=g.bounds),"position"in g&&(this.position=g.position),"lineWidth"in g&&(this.lineWidth=g.lineWidth),"colors"in g&&(this.colors=g.colors),"enabled"in g&&(this.enabled=g.enabled),"drawSides"in g&&(this.drawSides=g.drawSides))},u.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},9578:function(d,s,t){var i=t(6832),r=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 color, position;
attribute vec2 uv;

uniform float vectorScale, tubeScale;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 eyePosition, lightPosition;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  // Scale the vector magnitude to stay constant with
  // model & view changes.
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * tubePosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  f_lightDirection = lightPosition - cameraCoordinate.xyz;
  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;
  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);

  // vec4 m_position  = model * vec4(tubePosition, 1.0);
  vec4 t_position  = view * tubePosition;
  gl_Position      = projection * t_position;

  f_color          = color;
  f_data           = tubePosition.xyz;
  f_position       = position.xyz;
  f_uv             = uv;
}
`]),n=i([`#extension GL_OES_standard_derivatives : enable

precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float cookTorranceSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness,
  float fresnel) {

  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);
  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);

  //Half angle vector
  vec3 H = normalize(lightDirection + viewDirection);

  //Geometric term
  float NdotH = max(dot(surfaceNormal, H), 0.0);
  float VdotH = max(dot(viewDirection, H), 0.000001);
  float LdotH = max(dot(lightDirection, H), 0.000001);
  float G1 = (2.0 * NdotH * VdotN) / VdotH;
  float G2 = (2.0 * NdotH * LdotN) / LdotH;
  float G = min(1.0, min(G1, G2));
  
  //Distribution term
  float D = beckmannDistribution(NdotH, roughness);

  //Fresnel term
  float F = pow(1.0 - VdotN, fresnel);

  //Multiply terms and done
  return  G * F * D / max(3.14159265 * VdotN, 0.000001);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform sampler2D texture;

varying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;
varying vec4 f_color;
varying vec2 f_uv;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;
  vec3 N = normalize(f_normal);
  vec3 L = normalize(f_lightDirection);
  vec3 V = normalize(f_eyeDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  vec4 surfaceColor = f_color * texture2D(texture, f_uv);
  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = litColor * opacity;
}
`]),l=i([`precision highp float;

precision highp float;
#define GLSLIFY 1

vec3 getOrthogonalVector(vec3 v) {
  // Return up-vector for only-z vector.
  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).
  // From the above if-statement we have ||a|| > 0  U  ||b|| > 0.
  // Assign z = 0, x = -b, y = a:
  // a*-b + b*a + c*0 = -ba + ba + 0 = 0
  if (v.x*v.x > v.z*v.z || v.y*v.y > v.z*v.z) {
    return normalize(vec3(-v.y, v.x, 0.0));
  } else {
    return normalize(vec3(0.0, v.z, -v.y));
  }
}

// Calculate the tube vertex and normal at the given index.
//
// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.
//
// Each tube segment is made up of a ring of vertices.
// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.
// The indexes of tube segments run from 0 to 8.
//
vec3 getTubePosition(vec3 d, float index, out vec3 normal) {
  float segmentCount = 8.0;

  float angle = 2.0 * 3.14159 * (index / segmentCount);

  vec3 u = getOrthogonalVector(d);
  vec3 v = normalize(cross(u, d));

  vec3 x = u * cos(angle) * length(d);
  vec3 y = v * sin(angle) * length(d);
  vec3 v3 = x + y;

  normal = normalize(v3);

  return v3;
}

attribute vec4 vector;
attribute vec4 position;
attribute vec4 id;

uniform mat4 model, view, projection;
uniform float tubeScale;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  vec3 normal;
  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);
  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);

  gl_Position = projection * view * tubePosition;
  f_id        = id;
  f_position  = position.xyz;
}
`]),o=i([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3  clipBounds[2];
uniform float pickId;

varying vec3 f_position;
varying vec4 f_id;

void main() {
  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;

  gl_FragColor = vec4(pickId, f_id.xyz);
}`]);s.meshShader={vertex:r,fragment:n,attributes:[{name:"position",type:"vec4"},{name:"color",type:"vec4"},{name:"uv",type:"vec2"},{name:"vector",type:"vec4"}]},s.pickShader={vertex:l,fragment:o,attributes:[{name:"position",type:"vec4"},{name:"id",type:"vec4"},{name:"vector",type:"vec4"}]}},7307:function(d,s,t){var i=t(2858),r=t(4020),n=["xyz","xzy","yxz","yzx","zxy","zyx"],l=function(b,g){var h,x=b.length;for(h=0;h<x;h++){var v=b[h];if(v===g)return h;if(v>g)return h-1}return h},o=function(b,g,h){return b<g?g:b>h?h:b},u=function(b){var g=1/0;b.sort(function(m,w){return m-w});for(var h=b.length,x=1;x<h;x++){var v=Math.abs(b[x]-b[x-1]);v<g&&(g=v)}return g};d.exports=function(b,g){var h=b.startingPositions,x=b.maxLength||1e3,v=b.tubeSize||1,m=b.absoluteTubeSize,w=b.gridFill||"+x+y+z",f={};w.indexOf("-x")!==-1&&(f.reversedX=!0),w.indexOf("-y")!==-1&&(f.reversedY=!0),w.indexOf("-z")!==-1&&(f.reversedZ=!0),f.filled=n.indexOf(w.replace(/-/g,"").replace(/\+/g,""));var S=b.getVelocity||function(ve){return function(Ie,Se,ke){var se=Se.vectors,oe=Se.meshgrid,he=Ie[0],Le=Ie[1],Me=Ie[2],_e=oe[0].length,De=oe[1].length,Ne=oe[2].length,ce=l(oe[0],he),Te=l(oe[1],Le),ye=l(oe[2],Me),Oe=ce+1,Be=Te+1,Fe=ye+1;if(ce=o(ce,0,_e-1),Oe=o(Oe,0,_e-1),Te=o(Te,0,De-1),Be=o(Be,0,De-1),ye=o(ye,0,Ne-1),Fe=o(Fe,0,Ne-1),ce<0||Te<0||ye<0||Oe>_e-1||Be>De-1||Fe>Ne-1)return i.create();var Ge,Ze,et,ft,rt,_t,kt=oe[0][ce],wt=oe[0][Oe],lt=oe[1][Te],ut=oe[1][Be],Et=oe[2][ye],Ot=(he-kt)/(wt-kt),zt=(Le-lt)/(ut-lt),Lt=(Me-Et)/(oe[2][Fe]-Et);switch(isFinite(Ot)||(Ot=.5),isFinite(zt)||(zt=.5),isFinite(Lt)||(Lt=.5),ke.reversedX&&(ce=_e-1-ce,Oe=_e-1-Oe),ke.reversedY&&(Te=De-1-Te,Be=De-1-Be),ke.reversedZ&&(ye=Ne-1-ye,Fe=Ne-1-Fe),ke.filled){case 5:rt=ye,_t=Fe,et=Te*Ne,ft=Be*Ne,Ge=ce*Ne*De,Ze=Oe*Ne*De;break;case 4:rt=ye,_t=Fe,Ge=ce*Ne,Ze=Oe*Ne,et=Te*Ne*_e,ft=Be*Ne*_e;break;case 3:et=Te,ft=Be,rt=ye*De,_t=Fe*De,Ge=ce*De*Ne,Ze=Oe*De*Ne;break;case 2:et=Te,ft=Be,Ge=ce*De,Ze=Oe*De,rt=ye*De*_e,_t=Fe*De*_e;break;case 1:Ge=ce,Ze=Oe,rt=ye*_e,_t=Fe*_e,et=Te*_e*Ne,ft=Be*_e*Ne;break;default:Ge=ce,Ze=Oe,et=Te*_e,ft=Be*_e,rt=ye*_e*De,_t=Fe*_e*De}var Je=se[Ge+et+rt],Qe=se[Ge+et+_t],qe=se[Ge+ft+rt],$e=se[Ge+ft+_t],ct=se[Ze+et+rt],at=se[Ze+et+_t],Re=se[Ze+ft+rt],je=se[Ze+ft+_t],st=i.create(),ot=i.create(),xt=i.create(),mt=i.create();i.lerp(st,Je,ct,Ot),i.lerp(ot,Qe,at,Ot),i.lerp(xt,qe,Re,Ot),i.lerp(mt,$e,je,Ot);var bt=i.create(),dt=i.create();i.lerp(bt,st,xt,zt),i.lerp(dt,ot,mt,zt);var St=i.create();return i.lerp(St,bt,dt,Lt),St}(ve,b,f)},T=b.getDivergence||function(ve,Ie){var Se=i.create(),ke=1e-4;i.add(Se,ve,[ke,0,0]);var se=S(Se);i.subtract(se,se,Ie),i.scale(se,se,1/ke),i.add(Se,ve,[0,ke,0]);var oe=S(Se);i.subtract(oe,oe,Ie),i.scale(oe,oe,1/ke),i.add(Se,ve,[0,0,ke]);var he=S(Se);return i.subtract(he,he,Ie),i.scale(he,he,1/ke),i.add(Se,se,oe),i.add(Se,Se,he),Se},E=[],L=g[0][0],C=g[0][1],P=g[0][2],R=g[1][0],G=g[1][1],I=g[1][2],H=function(ve){var Ie=ve[0],Se=ve[1],ke=ve[2];return!(Ie<L||Ie>R||Se<C||Se>G||ke<P||ke>I)},N=10*i.distance(g[0],g[1])/x,B=N*N,V=1,q=0,te=h.length;te>1&&(V=function(ve){for(var Ie=[],Se=[],ke=[],se={},oe={},he={},Le=ve.length,Me=0;Me<Le;Me++){var _e=ve[Me],De=_e[0],Ne=_e[1],ce=_e[2];se[De]||(Ie.push(De),se[De]=!0),oe[Ne]||(Se.push(Ne),oe[Ne]=!0),he[ce]||(ke.push(ce),he[ce]=!0)}var Te=u(Ie),ye=u(Se),Oe=u(ke),Be=Math.min(Te,ye,Oe);return isFinite(Be)?Be:1}(h));for(var $=0;$<te;$++){var K=i.create();i.copy(K,h[$]);var Z=[K],X=[],ee=S(K),ne=K;X.push(ee);var re=[],ae=T(K,ee),ue=i.length(ae);isFinite(ue)&&ue>q&&(q=ue),re.push(ue),E.push({points:Z,velocities:X,divergences:re});for(var pe=0;pe<100*x&&Z.length<x&&H(K);){pe++;var ge=i.clone(ee),we=i.squaredLength(ge);if(we===0)break;we>B&&i.scale(ge,ge,N/Math.sqrt(we)),i.add(ge,ge,K),ee=S(ge),i.squaredDistance(ne,ge)-B>-1e-4*B&&(Z.push(ge),ne=ge,X.push(ee),ae=T(ge,ee),ue=i.length(ae),isFinite(ue)&&ue>q&&(q=ue),re.push(ue)),K=ge}}var me=function(ve,Ie,Se,ke){for(var se=0,oe=0;oe<ve.length;oe++)for(var he=ve[oe].velocities,Le=0;Le<he.length;Le++)se=Math.max(se,i.length(he[Le]));var Me=ve.map(function(Ge){return function(Ze,et,ft,rt){for(var _t=Ze.points,kt=Ze.velocities,wt=Ze.divergences,lt=[],ut=[],Et=[],Ot=[],zt=[],Lt=[],Je=0,Qe=0,qe=r.create(),$e=r.create(),ct=0;ct<_t.length;ct++){var at=_t[ct],Re=kt[ct],je=wt[ct];et===0&&(je=.05*ft),Qe=i.length(Re)/rt,qe=r.create(),i.copy(qe,Re),qe[3]=je;for(var st=0;st<8;st++)zt[st]=[at[0],at[1],at[2],st];if(Ot.length>0)for(st=0;st<8;st++){var ot=(st+1)%8;lt.push(Ot[st],zt[st],zt[ot],zt[ot],Ot[ot],Ot[st]),Et.push($e,qe,qe,qe,$e,$e),Lt.push(Je,Qe,Qe,Qe,Je,Je);var xt=lt.length;ut.push([xt-6,xt-5,xt-4],[xt-3,xt-2,xt-1])}var mt=Ot;Ot=zt,zt=mt;var bt=$e;$e=qe,qe=bt;var dt=Je;Je=Qe,Qe=dt}return{positions:lt,cells:ut,vectors:Et,vertexIntensity:Lt}}(Ge,Se,ke,se)}),_e=[],De=[],Ne=[],ce=[];for(oe=0;oe<Me.length;oe++){var Te=Me[oe],ye=_e.length;for(_e=_e.concat(Te.positions),Ne=Ne.concat(Te.vectors),ce=ce.concat(Te.vertexIntensity),Le=0;Le<Te.cells.length;Le++){var Oe=Te.cells[Le],Be=[];De.push(Be);for(var Fe=0;Fe<Oe.length;Fe++)Be.push(Oe[Fe]+ye)}}return{positions:_e,cells:De,vectors:Ne,vertexIntensity:ce,colormap:Ie}}(E,b.colormap,q,V);return m?me.tubeScale=m:(q===0&&(q=1),me.tubeScale=.5*v*V/q),me};var p=t(9578),c=t(1140).createMesh;d.exports.createTubeMesh=function(b,g){return c(b,g,{shaders:p,traceType:"streamtube"})}},9054:function(d,s,t){var i=t(5158),r=t(6832),n=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute vec3 f;
attribute vec3 normal;

uniform vec3 objectOffset;
uniform mat4 model, view, projection, inverseModel;
uniform vec3 lightPosition, eyePosition;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 localCoordinate = vec3(uv.zw, f.x);
  worldCoordinate = objectOffset + localCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);
  vec4 clipPosition = projection * view * worldPosition;
  gl_Position = clipPosition;
  kill = f.y;
  value = f.z;
  planeCoordinate = uv.xy;

  vColor = texture2D(colormap, vec2(value, value));

  //Lighting geometry parameters
  vec4 cameraCoordinate = view * worldPosition;
  cameraCoordinate.xyz /= cameraCoordinate.w;
  lightDirection = lightPosition - cameraCoordinate.xyz;
  eyeDirection   = eyePosition - cameraCoordinate.xyz;
  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);
}
`]),l=r([`precision highp float;
#define GLSLIFY 1

float beckmannDistribution(float x, float roughness) {
  float NdotH = max(x, 0.0001);
  float cos2Alpha = NdotH * NdotH;
  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;
  float roughness2 = roughness * roughness;
  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;
  return exp(tan2Alpha / roughness2) / denom;
}

float beckmannSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float roughness) {
  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);
}

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec3 lowerBound, upperBound;
uniform float contourTint;
uniform vec4 contourColor;
uniform sampler2D colormap;
uniform vec3 clipBounds[2];
uniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;
uniform float vertexColor;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  if (
    kill > 0.0 ||
    vColor.a == 0.0 ||
    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)
  ) discard;

  vec3 N = normalize(surfaceNormal);
  vec3 V = normalize(eyeDirection);
  vec3 L = normalize(lightDirection);

  if(gl_FrontFacing) {
    N = -N;
  }

  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);
  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);

  //decide how to interpolate color — in vertex or in fragment
  vec4 surfaceColor =
    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +
    step(.5, vertexColor) * vColor;

  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);

  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;
}
`]),o=r([`precision highp float;
#define GLSLIFY 1

attribute vec4 uv;
attribute float f;

uniform vec3 objectOffset;
uniform mat3 permutation;
uniform mat4 model, view, projection;
uniform float height, zOffset;
uniform sampler2D colormap;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 lightDirection, eyeDirection, surfaceNormal;
varying vec4 vColor;

void main() {
  vec3 dataCoordinate = permutation * vec3(uv.xy, height);
  worldCoordinate = objectOffset + dataCoordinate;
  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);

  vec4 clipPosition = projection * view * worldPosition;
  clipPosition.z += zOffset;

  gl_Position = clipPosition;
  value = f + objectOffset.z;
  kill = -1.0;
  planeCoordinate = uv.zw;

  vColor = texture2D(colormap, vec2(value, value));

  //Don't do lighting for contours
  surfaceNormal   = vec3(1,0,0);
  eyeDirection    = vec3(0,1,0);
  lightDirection  = vec3(0,0,1);
}
`]),u=r([`precision highp float;
#define GLSLIFY 1

bool outOfRange(float a, float b, float p) {
  return ((p > max(a, b)) || 
          (p < min(a, b)));
}

bool outOfRange(vec2 a, vec2 b, vec2 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y));
}

bool outOfRange(vec3 a, vec3 b, vec3 p) {
  return (outOfRange(a.x, b.x, p.x) ||
          outOfRange(a.y, b.y, p.y) ||
          outOfRange(a.z, b.z, p.z));
}

bool outOfRange(vec4 a, vec4 b, vec4 p) {
  return outOfRange(a.xyz, b.xyz, p.xyz);
}

uniform vec2 shape;
uniform vec3 clipBounds[2];
uniform float pickId;

varying float value, kill;
varying vec3 worldCoordinate;
varying vec2 planeCoordinate;
varying vec3 surfaceNormal;

vec2 splitFloat(float v) {
  float vh = 255.0 * v;
  float upper = floor(vh);
  float lower = fract(vh);
  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);
}

void main() {
  if ((kill > 0.0) ||
      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;

  vec2 ux = splitFloat(planeCoordinate.x / shape.x);
  vec2 uy = splitFloat(planeCoordinate.y / shape.y);
  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));
}
`]);s.createShader=function(p){var c=i(p,n,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createPickShader=function(p){var c=i(p,n,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"vec3"},{name:"normal",type:"vec3"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c.attributes.normal.location=2,c},s.createContourShader=function(p){var c=i(p,o,l,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c},s.createPickContourShader=function(p){var c=i(p,o,u,null,[{name:"uv",type:"vec4"},{name:"f",type:"float"}]);return c.attributes.uv.location=0,c.attributes.f.location=1,c}},3754:function(d,s,t){d.exports=function(ae){var ue=ae.gl,pe=f(ue),ge=T(ue),we=S(ue),me=E(ue),ve=r(ue),Ie=n(ue,[{buffer:ve,size:4,stride:L,offset:0},{buffer:ve,size:3,stride:L,offset:16},{buffer:ve,size:3,stride:L,offset:28}]),Se=r(ue),ke=n(ue,[{buffer:Se,size:4,stride:20,offset:0},{buffer:Se,size:1,stride:20,offset:16}]),se=r(ue),oe=n(ue,[{buffer:se,size:2,type:ue.FLOAT}]),he=l(ue,1,I,ue.RGBA,ue.UNSIGNED_BYTE);he.minFilter=ue.LINEAR,he.magFilter=ue.LINEAR;var Le=new H(ue,[0,0],[[0,0,0],[0,0,0]],pe,ge,ve,Ie,he,we,me,Se,ke,se,oe,[0,0,0]),Me={levels:[[],[],[]]};for(var _e in ae)Me[_e]=ae[_e];return Me.colormap=Me.colormap||"jet",Le.update(Me),Le};var i=t(2288),r=t(5827),n=t(2944),l=t(8931),o=t(5306),u=t(9156),p=t(7498),c=t(7382),b=t(5050),g=t(4162),h=t(104),x=t(7437),v=t(5070),m=t(9144),w=t(9054),f=w.createShader,S=w.createContourShader,T=w.createPickShader,E=w.createPickContourShader,L=40,C=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],P=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],R=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function G(ae,ue,pe,ge,we){this.position=ae,this.index=ue,this.uv=pe,this.level=ge,this.dataCoordinate=we}(function(){for(var ae=0;ae<3;++ae){var ue=R[ae],pe=(ae+2)%3;ue[(ae+1)%3+0]=1,ue[pe+3]=1,ue[ae+6]=1}})();var I=256;function H(ae,ue,pe,ge,we,me,ve,Ie,Se,ke,se,oe,he,Le,Me){this.gl=ae,this.shape=ue,this.bounds=pe,this.objectOffset=Me,this.intensityBounds=[],this._shader=ge,this._pickShader=we,this._coordinateBuffer=me,this._vao=ve,this._colorMap=Ie,this._contourShader=Se,this._contourPickShader=ke,this._contourBuffer=se,this._contourVAO=oe,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new G([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=he,this._dynamicVAO=Le,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[b(o.mallocFloat(1024),[0,0]),b(o.mallocFloat(1024),[0,0]),b(o.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var N=H.prototype;N.genColormap=function(ae,ue){var pe=!1,ge=c([u({colormap:ae,nshades:I,format:"rgba"}).map(function(we,me){var ve=ue?function(Ie,Se){if(!Se||!Se.length)return 1;for(var ke=0;ke<Se.length;++ke){if(Se.length<2)return 1;if(Se[ke][0]===Ie)return Se[ke][1];if(Se[ke][0]>Ie&&ke>0){var se=(Se[ke][0]-Ie)/(Se[ke][0]-Se[ke-1][0]);return Se[ke][1]*(1-se)+se*Se[ke-1][1]}}return 1}(me/255,ue):we[3];return ve<1&&(pe=!0),[we[0],we[1],we[2],255*ve]})]);return p.divseq(ge,255),this.hasAlphaScale=pe,ge},N.isTransparent=function(){return this.opacity<1||this.hasAlphaScale},N.isOpaque=function(){return!this.isTransparent()},N.pickSlots=1,N.setPickBase=function(ae){this.pickId=ae};var B=[0,0,0],V={showSurface:!1,showContour:!1,projections:[C.slice(),C.slice(),C.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function q(ae,ue){var pe,ge,we,me=ue.axes&&ue.axes.lastCubeProps.axis||B,ve=ue.showSurface,Ie=ue.showContour;for(pe=0;pe<3;++pe)for(ve=ve||ue.surfaceProject[pe],ge=0;ge<3;++ge)Ie=Ie||ue.contourProject[pe][ge];for(pe=0;pe<3;++pe){var Se=V.projections[pe];for(ge=0;ge<16;++ge)Se[ge]=0;for(ge=0;ge<4;++ge)Se[5*ge]=1;Se[5*pe]=0,Se[12+pe]=ue.axesBounds[+(me[pe]>0)][pe],h(Se,ae.model,Se);var ke=V.clipBounds[pe];for(we=0;we<2;++we)for(ge=0;ge<3;++ge)ke[we][ge]=ae.clipBounds[we][ge];ke[0][pe]=-1e8,ke[1][pe]=1e8}return V.showSurface=ve,V.showContour=Ie,V}var te={model:C,view:C,projection:C,inverseModel:C.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},$=C.slice(),K=[1,0,0,0,1,0,0,0,1];function Z(ae,ue){ae=ae||{};var pe=this.gl;pe.disable(pe.CULL_FACE),this._colorMap.bind(0);var ge=te;ge.model=ae.model||C,ge.view=ae.view||C,ge.projection=ae.projection||C,ge.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],ge.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],ge.objectOffset=this.objectOffset,ge.contourColor=this.contourColor[0],ge.inverseModel=x(ge.inverseModel,ge.model);for(var we=0;we<2;++we)for(var me=ge.clipBounds[we],ve=0;ve<3;++ve)me[ve]=Math.min(Math.max(this.clipBounds[we][ve],-1e8),1e8);ge.kambient=this.ambientLight,ge.kdiffuse=this.diffuseLight,ge.kspecular=this.specularLight,ge.roughness=this.roughness,ge.fresnel=this.fresnel,ge.opacity=this.opacity,ge.height=0,ge.permutation=K,ge.vertexColor=this.vertexColor;var Ie=$;for(h(Ie,ge.view,ge.model),h(Ie,ge.projection,Ie),x(Ie,Ie),we=0;we<3;++we)ge.eyePosition[we]=Ie[12+we]/Ie[15];var Se=Ie[15];for(we=0;we<3;++we)Se+=this.lightPosition[we]*Ie[4*we+3];for(we=0;we<3;++we){var ke=Ie[12+we];for(ve=0;ve<3;++ve)ke+=Ie[4*ve+we]*this.lightPosition[ve];ge.lightPosition[we]=ke/Se}var se=q(ge,this);if(se.showSurface){for(this._shader.bind(),this._shader.uniforms=ge,this._vao.bind(),this.showSurface&&this._vertexCount&&this._vao.draw(pe.TRIANGLES,this._vertexCount),we=0;we<3;++we)this.surfaceProject[we]&&this.vertexCount&&(this._shader.uniforms.model=se.projections[we],this._shader.uniforms.clipBounds=se.clipBounds[we],this._vao.draw(pe.TRIANGLES,this._vertexCount));this._vao.unbind()}if(se.showContour){var oe=this._contourShader;ge.kambient=1,ge.kdiffuse=0,ge.kspecular=0,ge.opacity=1,oe.bind(),oe.uniforms=ge;var he=this._contourVAO;for(he.bind(),we=0;we<3;++we)for(oe.uniforms.permutation=R[we],pe.lineWidth(this.contourWidth[we]*this.pixelRatio),ve=0;ve<this.contourLevels[we].length;++ve)ve===this.highlightLevel[we]?(oe.uniforms.contourColor=this.highlightColor[we],oe.uniforms.contourTint=this.highlightTint[we]):ve!==0&&ve-1!==this.highlightLevel[we]||(oe.uniforms.contourColor=this.contourColor[we],oe.uniforms.contourTint=this.contourTint[we]),this._contourCounts[we][ve]&&(oe.uniforms.height=this.contourLevels[we][ve],he.draw(pe.LINES,this._contourCounts[we][ve],this._contourOffsets[we][ve]));for(we=0;we<3;++we)for(oe.uniforms.model=se.projections[we],oe.uniforms.clipBounds=se.clipBounds[we],ve=0;ve<3;++ve)if(this.contourProject[we][ve]){oe.uniforms.permutation=R[ve],pe.lineWidth(this.contourWidth[ve]*this.pixelRatio);for(var Le=0;Le<this.contourLevels[ve].length;++Le)Le===this.highlightLevel[ve]?(oe.uniforms.contourColor=this.highlightColor[ve],oe.uniforms.contourTint=this.highlightTint[ve]):Le!==0&&Le-1!==this.highlightLevel[ve]||(oe.uniforms.contourColor=this.contourColor[ve],oe.uniforms.contourTint=this.contourTint[ve]),this._contourCounts[ve][Le]&&(oe.uniforms.height=this.contourLevels[ve][Le],he.draw(pe.LINES,this._contourCounts[ve][Le],this._contourOffsets[ve][Le]))}for(he.unbind(),(he=this._dynamicVAO).bind(),we=0;we<3;++we)if(this._dynamicCounts[we]!==0)for(oe.uniforms.model=ge.model,oe.uniforms.clipBounds=ge.clipBounds,oe.uniforms.permutation=R[we],pe.lineWidth(this.dynamicWidth[we]*this.pixelRatio),oe.uniforms.contourColor=this.dynamicColor[we],oe.uniforms.contourTint=this.dynamicTint[we],oe.uniforms.height=this.dynamicLevel[we],he.draw(pe.LINES,this._dynamicCounts[we],this._dynamicOffsets[we]),ve=0;ve<3;++ve)this.contourProject[ve][we]&&(oe.uniforms.model=se.projections[ve],oe.uniforms.clipBounds=se.clipBounds[ve],he.draw(pe.LINES,this._dynamicCounts[we],this._dynamicOffsets[we]));he.unbind()}}N.draw=function(ae){return Z.call(this,ae,!1)},N.drawTransparent=function(ae){return Z.call(this,ae,!0)};var X={model:C,view:C,projection:C,inverseModel:C,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function ee(ae,ue){return Array.isArray(ae)?[ue(ae[0]),ue(ae[1]),ue(ae[2])]:[ue(ae),ue(ae),ue(ae)]}function ne(ae){return Array.isArray(ae)?ae.length===3?[ae[0],ae[1],ae[2],1]:[ae[0],ae[1],ae[2],ae[3]]:[0,0,0,1]}function re(ae){if(Array.isArray(ae)){if(Array.isArray(ae))return[ne(ae[0]),ne(ae[1]),ne(ae[2])];var ue=ne(ae);return[ue.slice(),ue.slice(),ue.slice()]}}N.drawPick=function(ae){ae=ae||{};var ue=this.gl;ue.disable(ue.CULL_FACE);var pe=X;pe.model=ae.model||C,pe.view=ae.view||C,pe.projection=ae.projection||C,pe.shape=this._field[2].shape,pe.pickId=this.pickId/255,pe.lowerBound=this.bounds[0],pe.upperBound=this.bounds[1],pe.objectOffset=this.objectOffset,pe.permutation=K;for(var ge=0;ge<2;++ge)for(var we=pe.clipBounds[ge],me=0;me<3;++me)we[me]=Math.min(Math.max(this.clipBounds[ge][me],-1e8),1e8);var ve=q(pe,this);if(ve.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=pe,this._vao.bind(),this._vao.draw(ue.TRIANGLES,this._vertexCount),ge=0;ge<3;++ge)this.surfaceProject[ge]&&(this._pickShader.uniforms.model=ve.projections[ge],this._pickShader.uniforms.clipBounds=ve.clipBounds[ge],this._vao.draw(ue.TRIANGLES,this._vertexCount));this._vao.unbind()}if(ve.showContour){var Ie=this._contourPickShader;Ie.bind(),Ie.uniforms=pe;var Se=this._contourVAO;for(Se.bind(),me=0;me<3;++me)for(ue.lineWidth(this.contourWidth[me]*this.pixelRatio),Ie.uniforms.permutation=R[me],ge=0;ge<this.contourLevels[me].length;++ge)this._contourCounts[me][ge]&&(Ie.uniforms.height=this.contourLevels[me][ge],Se.draw(ue.LINES,this._contourCounts[me][ge],this._contourOffsets[me][ge]));for(ge=0;ge<3;++ge)for(Ie.uniforms.model=ve.projections[ge],Ie.uniforms.clipBounds=ve.clipBounds[ge],me=0;me<3;++me)if(this.contourProject[ge][me]){Ie.uniforms.permutation=R[me],ue.lineWidth(this.contourWidth[me]*this.pixelRatio);for(var ke=0;ke<this.contourLevels[me].length;++ke)this._contourCounts[me][ke]&&(Ie.uniforms.height=this.contourLevels[me][ke],Se.draw(ue.LINES,this._contourCounts[me][ke],this._contourOffsets[me][ke]))}Se.unbind()}},N.pick=function(ae){if(!ae||ae.id!==this.pickId)return null;var ue=this._field[2].shape,pe=this._pickResult,ge=ue[0]*(ae.value[0]+(ae.value[2]>>4)/16)/255,we=Math.floor(ge),me=ge-we,ve=ue[1]*(ae.value[1]+(15&ae.value[2])/16)/255,Ie=Math.floor(ve),Se=ve-Ie;we+=1,Ie+=1;var ke=pe.position;ke[0]=ke[1]=ke[2]=0;for(var se=0;se<2;++se)for(var oe=se?me:1-me,he=0;he<2;++he)for(var Le=we+se,Me=Ie+he,_e=oe*(he?Se:1-Se),De=0;De<3;++De)ke[De]+=this._field[De].get(Le,Me)*_e;for(var Ne=this._pickResult.level,ce=0;ce<3;++ce)if(Ne[ce]=v.le(this.contourLevels[ce],ke[ce]),Ne[ce]<0)this.contourLevels[ce].length>0&&(Ne[ce]=0);else if(Ne[ce]<this.contourLevels[ce].length-1){var Te=this.contourLevels[ce][Ne[ce]],ye=this.contourLevels[ce][Ne[ce]+1];Math.abs(Te-ke[ce])>Math.abs(ye-ke[ce])&&(Ne[ce]+=1)}for(pe.index[0]=me<.5?we:we+1,pe.index[1]=Se<.5?Ie:Ie+1,pe.uv[0]=ge/ue[0],pe.uv[1]=ve/ue[1],De=0;De<3;++De)pe.dataCoordinate[De]=this._field[De].get(pe.index[0],pe.index[1]);return pe},N.padField=function(ae,ue){var pe=ue.shape.slice(),ge=ae.shape.slice();p.assign(ae.lo(1,1).hi(pe[0],pe[1]),ue),p.assign(ae.lo(1).hi(pe[0],1),ue.hi(pe[0],1)),p.assign(ae.lo(1,ge[1]-1).hi(pe[0],1),ue.lo(0,pe[1]-1).hi(pe[0],1)),p.assign(ae.lo(0,1).hi(1,pe[1]),ue.hi(1)),p.assign(ae.lo(ge[0]-1,1).hi(1,pe[1]),ue.lo(pe[0]-1)),ae.set(0,0,ue.get(0,0)),ae.set(0,ge[1]-1,ue.get(0,pe[1]-1)),ae.set(ge[0]-1,0,ue.get(pe[0]-1,0)),ae.set(ge[0]-1,ge[1]-1,ue.get(pe[0]-1,pe[1]-1))},N.update=function(ae){ae=ae||{},this.objectOffset=ae.objectOffset||this.objectOffset,this.dirty=!0,"contourWidth"in ae&&(this.contourWidth=ee(ae.contourWidth,Number)),"showContour"in ae&&(this.showContour=ee(ae.showContour,Boolean)),"showSurface"in ae&&(this.showSurface=!!ae.showSurface),"contourTint"in ae&&(this.contourTint=ee(ae.contourTint,Boolean)),"contourColor"in ae&&(this.contourColor=re(ae.contourColor)),"contourProject"in ae&&(this.contourProject=ee(ae.contourProject,function(ln){return ee(ln,Boolean)})),"surfaceProject"in ae&&(this.surfaceProject=ae.surfaceProject),"dynamicColor"in ae&&(this.dynamicColor=re(ae.dynamicColor)),"dynamicTint"in ae&&(this.dynamicTint=ee(ae.dynamicTint,Number)),"dynamicWidth"in ae&&(this.dynamicWidth=ee(ae.dynamicWidth,Number)),"opacity"in ae&&(this.opacity=ae.opacity),"opacityscale"in ae&&(this.opacityscale=ae.opacityscale),"colorBounds"in ae&&(this.colorBounds=ae.colorBounds),"vertexColor"in ae&&(this.vertexColor=ae.vertexColor?1:0),"colormap"in ae&&this._colorMap.setPixels(this.genColormap(ae.colormap,this.opacityscale));var ue=ae.field||ae.coords&&ae.coords[2]||null,pe=!1;if(ue||(ue=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),"field"in ae||"coords"in ae){var ge=(ue.shape[0]+2)*(ue.shape[1]+2);ge>this._field[2].data.length&&(o.freeFloat(this._field[2].data),this._field[2].data=o.mallocFloat(i.nextPow2(ge))),this._field[2]=b(this._field[2].data,[ue.shape[0]+2,ue.shape[1]+2]),this.padField(this._field[2],ue),this.shape=ue.shape.slice();for(var we=this.shape,me=0;me<2;++me)this._field[2].size>this._field[me].data.length&&(o.freeFloat(this._field[me].data),this._field[me].data=o.mallocFloat(this._field[2].size)),this._field[me]=b(this._field[me].data,[we[0]+2,we[1]+2]);if(ae.coords){var ve=ae.coords;if(!Array.isArray(ve)||ve.length!==3)throw new Error("gl-surface: invalid coordinates for x/y");for(me=0;me<2;++me){var Ie=ve[me];for(he=0;he<2;++he)if(Ie.shape[he]!==we[he])throw new Error("gl-surface: coords have incorrect shape");this.padField(this._field[me],Ie)}}else if(ae.ticks){var Se=ae.ticks;if(!Array.isArray(Se)||Se.length!==2)throw new Error("gl-surface: invalid ticks");for(me=0;me<2;++me){var ke=Se[me];if((Array.isArray(ke)||ke.length)&&(ke=b(ke)),ke.shape[0]!==we[me])throw new Error("gl-surface: invalid tick length");var se=b(ke.data,we);se.stride[me]=ke.stride[0],se.stride[1^me]=0,this.padField(this._field[me],se)}}else{for(me=0;me<2;++me){var oe=[0,0];oe[me]=1,this._field[me]=b(this._field[me].data,[we[0]+2,we[1]+2],oe,0)}this._field[0].set(0,0,0);for(var he=0;he<we[0];++he)this._field[0].set(he+1,0,he);for(this._field[0].set(we[0]+1,0,we[0]-1),this._field[1].set(0,0,0),he=0;he<we[1];++he)this._field[1].set(0,he+1,he);this._field[1].set(0,we[1]+1,we[1]-1)}var Le=this._field,Me=b(o.mallocFloat(3*Le[2].size*2),[3,we[0]+2,we[1]+2,2]);for(me=0;me<3;++me)m(Me.pick(me),Le[me],"mirror");var _e=b(o.mallocFloat(3*Le[2].size),[we[0]+2,we[1]+2,3]);for(me=0;me<we[0]+2;++me)for(he=0;he<we[1]+2;++he){var De=Me.get(0,me,he,0),Ne=Me.get(0,me,he,1),ce=Me.get(1,me,he,0),Te=Me.get(1,me,he,1),ye=Me.get(2,me,he,0),Oe=Me.get(2,me,he,1),Be=ce*Oe-Te*ye,Fe=ye*Ne-Oe*De,Ge=De*Te-Ne*ce,Ze=Math.sqrt(Be*Be+Fe*Fe+Ge*Ge);Ze<1e-8?(Ze=Math.max(Math.abs(Be),Math.abs(Fe),Math.abs(Ge)))<1e-8?(Ge=1,Fe=Be=0,Ze=1):Ze=1/Ze:Ze=1/Math.sqrt(Ze),_e.set(me,he,0,Be*Ze),_e.set(me,he,1,Fe*Ze),_e.set(me,he,2,Ge*Ze)}o.free(Me.data);var et=[1/0,1/0,1/0],ft=[-1/0,-1/0,-1/0],rt=1/0,_t=-1/0,kt=(we[0]-1)*(we[1]-1)*6,wt=o.mallocFloat(i.nextPow2(10*kt)),lt=0,ut=0;for(me=0;me<we[0]-1;++me)e:for(he=0;he<we[1]-1;++he){for(var Et=0;Et<2;++Et)for(var Ot=0;Ot<2;++Ot)for(var zt=0;zt<3;++zt){var Lt=this._field[zt].get(1+me+Et,1+he+Ot);if(isNaN(Lt)||!isFinite(Lt))continue e}for(zt=0;zt<6;++zt){var Je=me+P[zt][0],Qe=he+P[zt][1],qe=this._field[0].get(Je+1,Qe+1),$e=this._field[1].get(Je+1,Qe+1);Lt=this._field[2].get(Je+1,Qe+1),Be=_e.get(Je+1,Qe+1,0),Fe=_e.get(Je+1,Qe+1,1),Ge=_e.get(Je+1,Qe+1,2),ae.intensity&&(ct=ae.intensity.get(Je,Qe));var ct=ae.intensity?ae.intensity.get(Je,Qe):Lt+this.objectOffset[2];wt[lt++]=Je,wt[lt++]=Qe,wt[lt++]=qe,wt[lt++]=$e,wt[lt++]=Lt,wt[lt++]=0,wt[lt++]=ct,wt[lt++]=Be,wt[lt++]=Fe,wt[lt++]=Ge,et[0]=Math.min(et[0],qe+this.objectOffset[0]),et[1]=Math.min(et[1],$e+this.objectOffset[1]),et[2]=Math.min(et[2],Lt+this.objectOffset[2]),rt=Math.min(rt,ct),ft[0]=Math.max(ft[0],qe+this.objectOffset[0]),ft[1]=Math.max(ft[1],$e+this.objectOffset[1]),ft[2]=Math.max(ft[2],Lt+this.objectOffset[2]),_t=Math.max(_t,ct),ut+=1}}for(ae.intensityBounds&&(rt=+ae.intensityBounds[0],_t=+ae.intensityBounds[1]),me=6;me<lt;me+=10)wt[me]=(wt[me]-rt)/(_t-rt);this._vertexCount=ut,this._coordinateBuffer.update(wt.subarray(0,lt)),o.freeFloat(wt),o.free(_e.data),this.bounds=[et,ft],this.intensity=ae.intensity||this._field[2],this.intensityBounds[0]===rt&&this.intensityBounds[1]===_t||(pe=!0),this.intensityBounds=[rt,_t]}if("levels"in ae){var at=ae.levels;for(at=Array.isArray(at[0])?at.slice():[[],[],at],me=0;me<3;++me)at[me]=at[me].slice(),at[me].sort(function(ln,nn){return ln-nn});for(me=0;me<3;++me)for(he=0;he<at[me].length;++he)at[me][he]-=this.objectOffset[me];e:for(me=0;me<3;++me){if(at[me].length!==this.contourLevels[me].length){pe=!0;break}for(he=0;he<at[me].length;++he)if(at[me][he]!==this.contourLevels[me][he]){pe=!0;break e}}this.contourLevels=at}if(pe){Le=this._field,we=this.shape;for(var Re=[],je=0;je<3;++je){var st=this.contourLevels[je],ot=[],xt=[],mt=[0,0,0];for(me=0;me<st.length;++me){var bt=g(this._field[je],st[me]);ot.push(Re.length/5|0),ut=0;e:for(he=0;he<bt.cells.length;++he){var dt=bt.cells[he];for(zt=0;zt<2;++zt){var St=bt.positions[dt[zt]],gt=St[0],vt=0|Math.floor(gt),Mt=gt-vt,Bt=St[1],Nt=0|Math.floor(Bt),qt=Bt-Nt,an=!1;t:for(var Gt=0;Gt<3;++Gt){mt[Gt]=0;var Yt=(je+Gt+1)%3;for(Et=0;Et<2;++Et){var en=Et?Mt:1-Mt;for(Je=0|Math.min(Math.max(vt+Et,0),we[0]),Ot=0;Ot<2;++Ot){var bn=Ot?qt:1-qt;if(Qe=0|Math.min(Math.max(Nt+Ot,0),we[1]),Lt=Gt<2?this._field[Yt].get(Je,Qe):(this.intensity.get(Je,Qe)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(Lt)||isNaN(Lt)){an=!0;break t}var On=en*bn;mt[Gt]+=On*Lt}}}if(an){if(zt>0){for(var gn=0;gn<5;++gn)Re.pop();ut-=1}continue e}Re.push(mt[0],mt[1],St[0],St[1],mt[2]),ut+=1}}xt.push(ut)}this._contourOffsets[je]=ot,this._contourCounts[je]=xt}var Xt=o.mallocFloat(Re.length);for(me=0;me<Re.length;++me)Xt[me]=Re[me];this._contourBuffer.update(Xt),o.freeFloat(Xt)}},N.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var ae=0;ae<3;++ae)o.freeFloat(this._field[ae].data)},N.highlight=function(ae){var ue,pe;if(!ae)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(ue=0;ue<3;++ue)this.enableHighlight[ue]?this.highlightLevel[ue]=ae.level[ue]:this.highlightLevel[ue]=-1;for(pe=this.snapToData?ae.dataCoordinate:ae.position,ue=0;ue<3;++ue)pe[ue]-=this.objectOffset[ue];if(this.enableDynamic[0]&&pe[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&&pe[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&&pe[2]!==this.dynamicLevel[2]){for(var ge=0,we=this.shape,me=o.mallocFloat(12*we[0]*we[1]),ve=0;ve<3;++ve)if(this.enableDynamic[ve]){this.dynamicLevel[ve]=pe[ve];var Ie=(ve+1)%3,Se=(ve+2)%3,ke=this._field[ve],se=this._field[Ie],oe=this._field[Se],he=g(ke,pe[ve]),Le=he.cells,Me=he.positions;for(this._dynamicOffsets[ve]=ge,ue=0;ue<Le.length;++ue)for(var _e=Le[ue],De=0;De<2;++De){var Ne=Me[_e[De]],ce=+Ne[0],Te=0|ce,ye=0|Math.min(Te+1,we[0]),Oe=ce-Te,Be=1-Oe,Fe=+Ne[1],Ge=0|Fe,Ze=0|Math.min(Ge+1,we[1]),et=Fe-Ge,ft=1-et,rt=Be*ft,_t=Be*et,kt=Oe*ft,wt=Oe*et,lt=rt*se.get(Te,Ge)+_t*se.get(Te,Ze)+kt*se.get(ye,Ge)+wt*se.get(ye,Ze),ut=rt*oe.get(Te,Ge)+_t*oe.get(Te,Ze)+kt*oe.get(ye,Ge)+wt*oe.get(ye,Ze);if(isNaN(lt)||isNaN(ut)){De&&(ge-=1);break}me[2*ge+0]=lt,me[2*ge+1]=ut,ge+=1}this._dynamicCounts[ve]=ge-this._dynamicOffsets[ve]}else this.dynamicLevel[ve]=NaN,this._dynamicCounts[ve]=0;this._dynamicBuffer.update(me.subarray(0,2*ge)),o.freeFloat(me)}}},8931:function(d,s,t){var i=t(5050),r=t(7498),n=t(5306);d.exports=function(w){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(l||function(T){l=[T.LINEAR,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_NEAREST],o=[T.NEAREST,T.LINEAR,T.NEAREST_MIPMAP_NEAREST,T.NEAREST_MIPMAP_LINEAR,T.LINEAR_MIPMAP_NEAREST,T.LINEAR_MIPMAP_LINEAR],u=[T.REPEAT,T.CLAMP_TO_EDGE,T.MIRRORED_REPEAT]}(w),typeof arguments[1]=="number")return m(w,arguments[1],arguments[2],arguments[3]||w.RGBA,arguments[4]||w.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return m(w,0|arguments[1][0],0|arguments[1][1],arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(typeof arguments[1]=="object"){var f=arguments[1],S=p(f)?f:f.raw;if(S)return function(T,E,L,C,P,R){var G=v(T);return T.texImage2D(T.TEXTURE_2D,0,P,P,R,E),new g(T,G,L,C,P,R)}(w,S,0|f.width,0|f.height,arguments[2]||w.RGBA,arguments[3]||w.UNSIGNED_BYTE);if(f.shape&&f.data&&f.stride)return function(T,E){var L=E.dtype,C=E.shape.slice(),P=T.getParameter(T.MAX_TEXTURE_SIZE);if(C[0]<0||C[0]>P||C[1]<0||C[1]>P)throw new Error("gl-texture2d: Invalid texture size");var R=x(C,E.stride.slice()),G=0;L==="float32"?G=T.FLOAT:L==="float64"?(G=T.FLOAT,R=!1,L="float32"):L==="uint8"?G=T.UNSIGNED_BYTE:(G=T.UNSIGNED_BYTE,R=!1,L="uint8");var I,H,N=0;if(C.length===2)N=T.LUMINANCE,C=[C[0],C[1],1],E=i(E.data,C,[E.stride[0],E.stride[1],1],E.offset);else{if(C.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(C[2]===1)N=T.ALPHA;else if(C[2]===2)N=T.LUMINANCE_ALPHA;else if(C[2]===3)N=T.RGB;else{if(C[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");N=T.RGBA}}G!==T.FLOAT||T.getExtension("OES_texture_float")||(G=T.UNSIGNED_BYTE,R=!1);var B=E.size;if(R)I=E.offset===0&&E.data.length===B?E.data:E.data.subarray(E.offset,E.offset+B);else{var V=[C[2],C[2]*C[0],1];H=n.malloc(B,L);var q=i(H,C,V,0);L!=="float32"&&L!=="float64"||G!==T.UNSIGNED_BYTE?r.assign(q,E):c(q,E),I=H.subarray(0,B)}var te=v(T);return T.texImage2D(T.TEXTURE_2D,0,N,C[0],C[1],0,N,G,I),R||n.free(H),new g(T,te,C[0],C[1],N,G)}(w,f)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")};var l=null,o=null,u=null;function p(w){return typeof HTMLCanvasElement<"u"&&w instanceof HTMLCanvasElement||typeof HTMLImageElement<"u"&&w instanceof HTMLImageElement||typeof HTMLVideoElement<"u"&&w instanceof HTMLVideoElement||typeof ImageData<"u"&&w instanceof ImageData}var c=function(w,f){r.muls(w,f,255)};function b(w,f,S){var T=w.gl,E=T.getParameter(T.MAX_TEXTURE_SIZE);if(f<0||f>E||S<0||S>E)throw new Error("gl-texture2d: Invalid texture size");return w._shape=[f,S],w.bind(),T.texImage2D(T.TEXTURE_2D,0,w.format,f,S,0,w.format,w.type,null),w._mipLevels=[0],w}function g(w,f,S,T,E,L){this.gl=w,this.handle=f,this.format=E,this.type=L,this._shape=[S,T],this._mipLevels=[0],this._magFilter=w.NEAREST,this._minFilter=w.NEAREST,this._wrapS=w.CLAMP_TO_EDGE,this._wrapT=w.CLAMP_TO_EDGE,this._anisoSamples=1;var C=this,P=[this._wrapS,this._wrapT];Object.defineProperties(P,[{get:function(){return C._wrapS},set:function(G){return C.wrapS=G}},{get:function(){return C._wrapT},set:function(G){return C.wrapT=G}}]),this._wrapVector=P;var R=[this._shape[0],this._shape[1]];Object.defineProperties(R,[{get:function(){return C._shape[0]},set:function(G){return C.width=G}},{get:function(){return C._shape[1]},set:function(G){return C.height=G}}]),this._shapeVector=R}var h=g.prototype;function x(w,f){return w.length===3?f[2]===1&&f[1]===w[0]*w[2]&&f[0]===w[2]:f[0]===1&&f[1]===w[0]}function v(w){var f=w.createTexture();return w.bindTexture(w.TEXTURE_2D,f),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MIN_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_MAG_FILTER,w.NEAREST),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_S,w.CLAMP_TO_EDGE),w.texParameteri(w.TEXTURE_2D,w.TEXTURE_WRAP_T,w.CLAMP_TO_EDGE),f}function m(w,f,S,T,E){var L=w.getParameter(w.MAX_TEXTURE_SIZE);if(f<0||f>L||S<0||S>L)throw new Error("gl-texture2d: Invalid texture shape");if(E===w.FLOAT&&!w.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var C=v(w);return w.texImage2D(w.TEXTURE_2D,0,T,f,S,0,T,E,null),new g(w,C,f,S,T,E)}Object.defineProperties(h,{minFilter:{get:function(){return this._minFilter},set:function(w){this.bind();var f=this.gl;if(this.type===f.FLOAT&&l.indexOf(w)>=0&&(f.getExtension("OES_texture_float_linear")||(w=f.NEAREST)),o.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,w),this._minFilter=w}},magFilter:{get:function(){return this._magFilter},set:function(w){this.bind();var f=this.gl;if(this.type===f.FLOAT&&l.indexOf(w)>=0&&(f.getExtension("OES_texture_float_linear")||(w=f.NEAREST)),o.indexOf(w)<0)throw new Error("gl-texture2d: Unknown filter mode "+w);return f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,w),this._magFilter=w}},mipSamples:{get:function(){return this._anisoSamples},set:function(w){var f=this._anisoSamples;if(this._anisoSamples=0|Math.max(w,1),f!==this._anisoSamples){var S=this.gl.getExtension("EXT_texture_filter_anisotropic");S&&this.gl.texParameterf(this.gl.TEXTURE_2D,S.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(w){if(this.bind(),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,w),this._wrapS=w}},wrapT:{get:function(){return this._wrapT},set:function(w){if(this.bind(),u.indexOf(w)<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,w),this._wrapT=w}},wrap:{get:function(){return this._wrapVector},set:function(w){if(Array.isArray(w)||(w=[w,w]),w.length!==2)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var f=0;f<2;++f)if(u.indexOf(w[f])<0)throw new Error("gl-texture2d: Unknown wrap mode "+w);this._wrapS=w[0],this._wrapT=w[1];var S=this.gl;return this.bind(),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,this._wrapS),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,this._wrapT),w}},shape:{get:function(){return this._shapeVector},set:function(w){if(Array.isArray(w)){if(w.length!==2)throw new Error("gl-texture2d: Invalid texture shape")}else w=[0|w,0|w];return b(this,0|w[0],0|w[1]),[0|w[0],0|w[1]]}},width:{get:function(){return this._shape[0]},set:function(w){return b(this,w|=0,this._shape[1]),w}},height:{get:function(){return this._shape[1]},set:function(w){return w|=0,b(this,this._shape[0],w),w}}}),h.bind=function(w){var f=this.gl;return w!==void 0&&f.activeTexture(f.TEXTURE0+(0|w)),f.bindTexture(f.TEXTURE_2D,this.handle),w!==void 0?0|w:f.getParameter(f.ACTIVE_TEXTURE)-f.TEXTURE0},h.dispose=function(){this.gl.deleteTexture(this.handle)},h.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var w=Math.min(this._shape[0],this._shape[1]),f=0;w>0;++f,w>>>=1)this._mipLevels.indexOf(f)<0&&this._mipLevels.push(f)},h.setPixels=function(w,f,S,T){var E=this.gl;this.bind(),Array.isArray(f)?(T=S,S=0|f[1],f=0|f[0]):(f=f||0,S=S||0),T=T||0;var L=p(w)?w:w.raw;if(L)this._mipLevels.indexOf(T)<0?(E.texImage2D(E.TEXTURE_2D,0,this.format,this.format,this.type,L),this._mipLevels.push(T)):E.texSubImage2D(E.TEXTURE_2D,T,f,S,this.format,this.type,L);else{if(!(w.shape&&w.stride&&w.data))throw new Error("gl-texture2d: Unsupported data type");if(w.shape.length<2||f+w.shape[1]>this._shape[1]>>>T||S+w.shape[0]>this._shape[0]>>>T||f<0||S<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");(function(C,P,R,G,I,H,N,B){var V=B.dtype,q=B.shape.slice();if(q.length<2||q.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var te=0,$=0,K=x(q,B.stride.slice());if(V==="float32"?te=C.FLOAT:V==="float64"?(te=C.FLOAT,K=!1,V="float32"):V==="uint8"?te=C.UNSIGNED_BYTE:(te=C.UNSIGNED_BYTE,K=!1,V="uint8"),q.length===2)$=C.LUMINANCE,q=[q[0],q[1],1],B=i(B.data,q,[B.stride[0],B.stride[1],1],B.offset);else{if(q.length!==3)throw new Error("gl-texture2d: Invalid shape for texture");if(q[2]===1)$=C.ALPHA;else if(q[2]===2)$=C.LUMINANCE_ALPHA;else if(q[2]===3)$=C.RGB;else{if(q[2]!==4)throw new Error("gl-texture2d: Invalid shape for pixel coords");$=C.RGBA}q[2]}if($!==C.LUMINANCE&&$!==C.ALPHA||I!==C.LUMINANCE&&I!==C.ALPHA||($=I),$!==I)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var Z=B.size,X=N.indexOf(G)<0;if(X&&N.push(G),te===H&&K)B.offset===0&&B.data.length===Z?X?C.texImage2D(C.TEXTURE_2D,G,I,q[0],q[1],0,I,H,B.data):C.texSubImage2D(C.TEXTURE_2D,G,P,R,q[0],q[1],I,H,B.data):X?C.texImage2D(C.TEXTURE_2D,G,I,q[0],q[1],0,I,H,B.data.subarray(B.offset,B.offset+Z)):C.texSubImage2D(C.TEXTURE_2D,G,P,R,q[0],q[1],I,H,B.data.subarray(B.offset,B.offset+Z));else{var ee;ee=H===C.FLOAT?n.mallocFloat32(Z):n.mallocUint8(Z);var ne=i(ee,q,[q[2],q[2]*q[0],1]);te===C.FLOAT&&H===C.UNSIGNED_BYTE?c(ne,B):r.assign(ne,B),X?C.texImage2D(C.TEXTURE_2D,G,I,q[0],q[1],0,I,H,ee.subarray(0,Z)):C.texSubImage2D(C.TEXTURE_2D,G,P,R,q[0],q[1],I,H,ee.subarray(0,Z)),H===C.FLOAT?n.freeFloat32(ee):n.freeUint8(ee)}})(E,f,S,T,this.format,this.type,this._mipLevels,w)}}},3056:function(d){d.exports=function(s,t,i){t?t.bind():s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null);var r=0|s.getParameter(s.MAX_VERTEX_ATTRIBS);if(i){if(i.length>r)throw new Error("gl-vao: Too many vertex attributes");for(var n=0;n<i.length;++n){var l=i[n];if(l.buffer){var o=l.buffer,u=l.size||4,p=l.type||s.FLOAT,c=!!l.normalized,b=l.stride||0,g=l.offset||0;o.bind(),s.enableVertexAttribArray(n),s.vertexAttribPointer(n,u,p,c,b,g)}else{if(typeof l=="number")s.vertexAttrib1f(n,l);else if(l.length===1)s.vertexAttrib1f(n,l[0]);else if(l.length===2)s.vertexAttrib2f(n,l[0],l[1]);else if(l.length===3)s.vertexAttrib3f(n,l[0],l[1],l[2]);else{if(l.length!==4)throw new Error("gl-vao: Invalid vertex attribute");s.vertexAttrib4f(n,l[0],l[1],l[2],l[3])}s.disableVertexAttribArray(n)}}for(;n<r;++n)s.disableVertexAttribArray(n)}else for(s.bindBuffer(s.ARRAY_BUFFER,null),n=0;n<r;++n)s.disableVertexAttribArray(n)}},7220:function(d,s,t){var i=t(3056);function r(n){this.gl=n,this._elements=null,this._attributes=null,this._elementsType=n.UNSIGNED_SHORT}r.prototype.bind=function(){i(this.gl,this._elements,this._attributes)},r.prototype.update=function(n,l,o){this._elements=l,this._attributes=n,this._elementsType=o||this.gl.UNSIGNED_SHORT},r.prototype.dispose=function(){},r.prototype.unbind=function(){},r.prototype.draw=function(n,l,o){o=o||0;var u=this.gl;this._elements?u.drawElements(n,l,this._elementsType,o):u.drawArrays(n,o,l)},d.exports=function(n){return new r(n)}},3778:function(d,s,t){var i=t(3056);function r(l,o,u,p,c,b){this.location=l,this.dimension=o,this.a=u,this.b=p,this.c=c,this.d=b}function n(l,o,u){this.gl=l,this._ext=o,this.handle=u,this._attribs=[],this._useElements=!1,this._elementsType=l.UNSIGNED_SHORT}r.prototype.bind=function(l){switch(this.dimension){case 1:l.vertexAttrib1f(this.location,this.a);break;case 2:l.vertexAttrib2f(this.location,this.a,this.b);break;case 3:l.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:l.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},n.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var l=0;l<this._attribs.length;++l)this._attribs[l].bind(this.gl)},n.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},n.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},n.prototype.update=function(l,o,u){if(this.bind(),i(this.gl,o,l),this.unbind(),this._attribs.length=0,l)for(var p=0;p<l.length;++p){var c=l[p];typeof c=="number"?this._attribs.push(new r(p,1,c)):Array.isArray(c)&&this._attribs.push(new r(p,c.length,c[0],c[1],c[2],c[3]))}this._useElements=!!o,this._elementsType=u||this.gl.UNSIGNED_SHORT},n.prototype.draw=function(l,o,u){u=u||0;var p=this.gl;this._useElements?p.drawElements(l,o,this._elementsType,u):p.drawArrays(l,u,o)},d.exports=function(l,o){return new n(l,o,o.createVertexArrayOES())}},2944:function(d,s,t){var i=t(3778),r=t(7220);function n(l){this.bindVertexArrayOES=l.bindVertexArray.bind(l),this.createVertexArrayOES=l.createVertexArray.bind(l),this.deleteVertexArrayOES=l.deleteVertexArray.bind(l)}d.exports=function(l,o,u,p){var c,b=l.createVertexArray?new n(l):l.getExtension("OES_vertex_array_object");return(c=b?i(l,b):r(l)).update(o,u,p),c}},2598:function(d){d.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s}},5879:function(d,s,t){d.exports=function(l,o){var u=i(l[0],l[1],l[2]),p=i(o[0],o[1],o[2]);r(u,u),r(p,p);var c=n(u,p);return c>1?0:Math.acos(c)};var i=t(5415),r=t(899),n=t(9305)},8827:function(d){d.exports=function(s,t){return s[0]=Math.ceil(t[0]),s[1]=Math.ceil(t[1]),s[2]=Math.ceil(t[2]),s}},7622:function(d){d.exports=function(s){var t=new Float32Array(3);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t}},8782:function(d){d.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s}},8501:function(d){d.exports=function(){var s=new Float32Array(3);return s[0]=0,s[1]=0,s[2]=0,s}},903:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=i[0],u=i[1],p=i[2];return s[0]=n*p-l*u,s[1]=l*o-r*p,s[2]=r*u-n*o,s}},5981:function(d,s,t){d.exports=t(8288)},8288:function(d){d.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2];return Math.sqrt(i*i+r*r+n*n)}},8629:function(d,s,t){d.exports=t(7979)},7979:function(d){d.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s}},9305:function(d){d.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]}},154:function(d){d.exports=1e-6},4932:function(d,s,t){d.exports=function(r,n){var l=r[0],o=r[1],u=r[2],p=n[0],c=n[1],b=n[2];return Math.abs(l-p)<=i*Math.max(1,Math.abs(l),Math.abs(p))&&Math.abs(o-c)<=i*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(u-b)<=i*Math.max(1,Math.abs(u),Math.abs(b))};var i=t(154)},5777:function(d){d.exports=function(s,t){return s[0]===t[0]&&s[1]===t[1]&&s[2]===t[2]}},3306:function(d){d.exports=function(s,t){return s[0]=Math.floor(t[0]),s[1]=Math.floor(t[1]),s[2]=Math.floor(t[2]),s}},7447:function(d,s,t){d.exports=function(r,n,l,o,u,p){var c,b;for(n||(n=3),l||(l=0),b=o?Math.min(o*n+l,r.length):r.length,c=l;c<b;c+=n)i[0]=r[c],i[1]=r[c+1],i[2]=r[c+2],u(i,i,p),r[c]=i[0],r[c+1]=i[1],r[c+2]=i[2];return r};var i=t(8501)()},5415:function(d){d.exports=function(s,t,i){var r=new Float32Array(3);return r[0]=s,r[1]=t,r[2]=i,r}},2858:function(d,s,t){d.exports={EPSILON:t(154),create:t(8501),clone:t(7622),angle:t(5879),fromValues:t(5415),copy:t(8782),set:t(831),equals:t(4932),exactEquals:t(5777),add:t(2598),subtract:t(911),sub:t(8921),multiply:t(105),mul:t(5733),divide:t(7979),div:t(8629),min:t(3605),max:t(1716),floor:t(3306),ceil:t(8827),round:t(1624),scale:t(5685),scaleAndAdd:t(6722),distance:t(8288),dist:t(5981),squaredDistance:t(6403),sqrDist:t(5294),length:t(4693),len:t(1468),squaredLength:t(4337),sqrLen:t(3303),negate:t(435),inverse:t(2073),normalize:t(899),dot:t(9305),cross:t(903),lerp:t(1868),random:t(6660),transformMat4:t(3255),transformMat3:t(9908),transformQuat:t(6568),rotateX:t(392),rotateY:t(3222),rotateZ:t(3388),forEach:t(7447)}},2073:function(d){d.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s}},1468:function(d,s,t){d.exports=t(4693)},4693:function(d){d.exports=function(s){var t=s[0],i=s[1],r=s[2];return Math.sqrt(t*t+i*i+r*r)}},1868:function(d){d.exports=function(s,t,i,r){var n=t[0],l=t[1],o=t[2];return s[0]=n+r*(i[0]-n),s[1]=l+r*(i[1]-l),s[2]=o+r*(i[2]-o),s}},1716:function(d){d.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s}},3605:function(d){d.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s}},5733:function(d,s,t){d.exports=t(105)},105:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s}},435:function(d){d.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s}},899:function(d){d.exports=function(s,t){var i=t[0],r=t[1],n=t[2],l=i*i+r*r+n*n;return l>0&&(l=1/Math.sqrt(l),s[0]=t[0]*l,s[1]=t[1]*l,s[2]=t[2]*l),s}},6660:function(d){d.exports=function(s,t){t=t||1;var i=2*Math.random()*Math.PI,r=2*Math.random()-1,n=Math.sqrt(1-r*r)*t;return s[0]=Math.cos(i)*n,s[1]=Math.sin(i)*n,s[2]=r*t,s}},392:function(d){d.exports=function(s,t,i,r){var n=i[1],l=i[2],o=t[1]-n,u=t[2]-l,p=Math.sin(r),c=Math.cos(r);return s[0]=t[0],s[1]=n+o*c-u*p,s[2]=l+o*p+u*c,s}},3222:function(d){d.exports=function(s,t,i,r){var n=i[0],l=i[2],o=t[0]-n,u=t[2]-l,p=Math.sin(r),c=Math.cos(r);return s[0]=n+u*p+o*c,s[1]=t[1],s[2]=l+u*c-o*p,s}},3388:function(d){d.exports=function(s,t,i,r){var n=i[0],l=i[1],o=t[0]-n,u=t[1]-l,p=Math.sin(r),c=Math.cos(r);return s[0]=n+o*c-u*p,s[1]=l+o*p+u*c,s[2]=t[2],s}},1624:function(d){d.exports=function(s,t){return s[0]=Math.round(t[0]),s[1]=Math.round(t[1]),s[2]=Math.round(t[2]),s}},5685:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s}},6722:function(d){d.exports=function(s,t,i,r){return s[0]=t[0]+i[0]*r,s[1]=t[1]+i[1]*r,s[2]=t[2]+i[2]*r,s}},831:function(d){d.exports=function(s,t,i,r){return s[0]=t,s[1]=i,s[2]=r,s}},5294:function(d,s,t){d.exports=t(6403)},3303:function(d,s,t){d.exports=t(4337)},6403:function(d){d.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2];return i*i+r*r+n*n}},4337:function(d){d.exports=function(s){var t=s[0],i=s[1],r=s[2];return t*t+i*i+r*r}},8921:function(d,s,t){d.exports=t(911)},911:function(d){d.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s}},9908:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2];return s[0]=r*i[0]+n*i[3]+l*i[6],s[1]=r*i[1]+n*i[4]+l*i[7],s[2]=r*i[2]+n*i[5]+l*i[8],s}},3255:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=i[3]*r+i[7]*n+i[11]*l+i[15];return o=o||1,s[0]=(i[0]*r+i[4]*n+i[8]*l+i[12])/o,s[1]=(i[1]*r+i[5]*n+i[9]*l+i[13])/o,s[2]=(i[2]*r+i[6]*n+i[10]*l+i[14])/o,s}},6568:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=i[0],u=i[1],p=i[2],c=i[3],b=c*r+u*l-p*n,g=c*n+p*r-o*l,h=c*l+o*n-u*r,x=-o*r-u*n-p*l;return s[0]=b*c+x*-o+g*-p-h*-u,s[1]=g*c+x*-u+h*-o-b*-p,s[2]=h*c+x*-p+b*-u-g*-o,s}},3433:function(d){d.exports=function(s,t,i){return s[0]=t[0]+i[0],s[1]=t[1]+i[1],s[2]=t[2]+i[2],s[3]=t[3]+i[3],s}},1413:function(d){d.exports=function(s){var t=new Float32Array(4);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t}},3470:function(d){d.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s}},5313:function(d){d.exports=function(){var s=new Float32Array(4);return s[0]=0,s[1]=0,s[2]=0,s[3]=0,s}},5446:function(d){d.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2],l=t[3]-s[3];return Math.sqrt(i*i+r*r+n*n+l*l)}},205:function(d){d.exports=function(s,t,i){return s[0]=t[0]/i[0],s[1]=t[1]/i[1],s[2]=t[2]/i[2],s[3]=t[3]/i[3],s}},4242:function(d){d.exports=function(s,t){return s[0]*t[0]+s[1]*t[1]+s[2]*t[2]+s[3]*t[3]}},5680:function(d){d.exports=function(s,t,i,r){var n=new Float32Array(4);return n[0]=s,n[1]=t,n[2]=i,n[3]=r,n}},4020:function(d,s,t){d.exports={create:t(5313),clone:t(1413),fromValues:t(5680),copy:t(3470),set:t(6453),add:t(3433),subtract:t(2705),multiply:t(746),divide:t(205),min:t(2170),max:t(3030),scale:t(5510),scaleAndAdd:t(4224),distance:t(5446),squaredDistance:t(1542),length:t(8177),squaredLength:t(9037),negate:t(6459),inverse:t(8057),normalize:t(381),dot:t(4242),lerp:t(8746),random:t(3770),transformMat4:t(6342),transformQuat:t(5022)}},8057:function(d){d.exports=function(s,t){return s[0]=1/t[0],s[1]=1/t[1],s[2]=1/t[2],s[3]=1/t[3],s}},8177:function(d){d.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3];return Math.sqrt(t*t+i*i+r*r+n*n)}},8746:function(d){d.exports=function(s,t,i,r){var n=t[0],l=t[1],o=t[2],u=t[3];return s[0]=n+r*(i[0]-n),s[1]=l+r*(i[1]-l),s[2]=o+r*(i[2]-o),s[3]=u+r*(i[3]-u),s}},3030:function(d){d.exports=function(s,t,i){return s[0]=Math.max(t[0],i[0]),s[1]=Math.max(t[1],i[1]),s[2]=Math.max(t[2],i[2]),s[3]=Math.max(t[3],i[3]),s}},2170:function(d){d.exports=function(s,t,i){return s[0]=Math.min(t[0],i[0]),s[1]=Math.min(t[1],i[1]),s[2]=Math.min(t[2],i[2]),s[3]=Math.min(t[3],i[3]),s}},746:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i[0],s[1]=t[1]*i[1],s[2]=t[2]*i[2],s[3]=t[3]*i[3],s}},6459:function(d){d.exports=function(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=-t[3],s}},381:function(d){d.exports=function(s,t){var i=t[0],r=t[1],n=t[2],l=t[3],o=i*i+r*r+n*n+l*l;return o>0&&(o=1/Math.sqrt(o),s[0]=i*o,s[1]=r*o,s[2]=n*o,s[3]=l*o),s}},3770:function(d,s,t){var i=t(381),r=t(5510);d.exports=function(n,l){return l=l||1,n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),i(n,n),r(n,n,l),n}},5510:function(d){d.exports=function(s,t,i){return s[0]=t[0]*i,s[1]=t[1]*i,s[2]=t[2]*i,s[3]=t[3]*i,s}},4224:function(d){d.exports=function(s,t,i,r){return s[0]=t[0]+i[0]*r,s[1]=t[1]+i[1]*r,s[2]=t[2]+i[2]*r,s[3]=t[3]+i[3]*r,s}},6453:function(d){d.exports=function(s,t,i,r,n){return s[0]=t,s[1]=i,s[2]=r,s[3]=n,s}},1542:function(d){d.exports=function(s,t){var i=t[0]-s[0],r=t[1]-s[1],n=t[2]-s[2],l=t[3]-s[3];return i*i+r*r+n*n+l*l}},9037:function(d){d.exports=function(s){var t=s[0],i=s[1],r=s[2],n=s[3];return t*t+i*i+r*r+n*n}},2705:function(d){d.exports=function(s,t,i){return s[0]=t[0]-i[0],s[1]=t[1]-i[1],s[2]=t[2]-i[2],s[3]=t[3]-i[3],s}},6342:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=t[3];return s[0]=i[0]*r+i[4]*n+i[8]*l+i[12]*o,s[1]=i[1]*r+i[5]*n+i[9]*l+i[13]*o,s[2]=i[2]*r+i[6]*n+i[10]*l+i[14]*o,s[3]=i[3]*r+i[7]*n+i[11]*l+i[15]*o,s}},5022:function(d){d.exports=function(s,t,i){var r=t[0],n=t[1],l=t[2],o=i[0],u=i[1],p=i[2],c=i[3],b=c*r+u*l-p*n,g=c*n+p*r-o*l,h=c*l+o*n-u*r,x=-o*r-u*n-p*l;return s[0]=b*c+x*-o+g*-p-h*-u,s[1]=g*c+x*-u+h*-o-b*-p,s[2]=h*c+x*-p+b*-u-g*-o,s[3]=t[3],s}},9365:function(d,s,t){var i=t(8096),r=t(7896);d.exports=function(n){for(var l=Array.isArray(n)?n:i(n),o=0;o<l.length;o++){var u=l[o];if(u.type==="preprocessor"){var p=u.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(p&&p[2]){var c=p[1],b=p[2];return(c?r(b):b).trim()}}}}},3193:function(d,s,t){d.exports=function(C){var P,R,G,I=0,H=0,N=u,B=[],V=[],q=1,te=0,$=0,K=!1,Z=!1,X="",ee=n,ne=i;(C=C||{}).version==="300 es"&&(ee=o,ne=l);var re={},ae={};for(I=0;I<ee.length;I++)re[ee[I]]=!0;for(I=0;I<ne.length;I++)ae[ne[I]]=!0;return function(he){return V=[],he!==null?function(Le){var Me;for(I=0,Le.toString&&(Le=Le.toString()),X+=Le.replace(/\r\n/g,`
`),G=X.length;P=X[I],I<G;){switch(Me=I,N){case c:I=me();break;case b:case g:I=we();break;case h:I=ve();break;case x:I=ke();break;case E:I=Se();break;case v:I=se();break;case p:I=oe();break;case S:I=ge();break;case u:I=pe()}Me!==I&&(X[Me]===`
`?(te=0,++q):++te)}return H+=I,X=X.slice(I),V}(he):(B.length&&ue(B.join("")),N=T,ue("(eof)"),V)};function ue(he){he.length&&V.push({type:L[N],data:he,position:$,line:q,column:te})}function pe(){return B=B.length?[]:B,R==="/"&&P==="*"?($=H+I-1,N=c,R=P,I+1):R==="/"&&P==="/"?($=H+I-1,N=b,R=P,I+1):P==="#"?(N=g,$=H+I,I):/\s/.test(P)?(N=S,$=H+I,I):(K=/\d/.test(P),Z=/[^\w_]/.test(P),$=H+I,N=K?x:Z?h:p,I)}function ge(){return/[^\s]/g.test(P)?(ue(B.join("")),N=u,I):(B.push(P),R=P,I+1)}function we(){return P!=="\r"&&P!==`
`||R==="\\"?(B.push(P),R=P,I+1):(ue(B.join("")),N=u,I)}function me(){return P==="/"&&R==="*"?(B.push(P),ue(B.join("")),N=u,I+1):(B.push(P),R=P,I+1)}function ve(){if(R==="."&&/\d/.test(P))return N=v,I;if(R==="/"&&P==="*")return N=c,I;if(R==="/"&&P==="/")return N=b,I;if(P==="."&&B.length){for(;Ie(B););return N=v,I}if(P===";"||P===")"||P==="("){if(B.length)for(;Ie(B););return ue(P),N=u,I+1}var he=B.length===2&&P!=="=";if(/[\w_\d\s]/.test(P)||he){for(;Ie(B););return N=u,I}return B.push(P),R=P,I+1}function Ie(he){for(var Le,Me,_e=0;;){if(Le=r.indexOf(he.slice(0,he.length+_e).join("")),Me=r[Le],Le===-1){if(_e--+he.length>0)continue;Me=he.slice(0,1).join("")}return ue(Me),$+=Me.length,(B=B.slice(Me.length)).length}}function Se(){return/[^a-fA-F0-9]/.test(P)?(ue(B.join("")),N=u,I):(B.push(P),R=P,I+1)}function ke(){return P==="."||/[eE]/.test(P)?(B.push(P),N=v,R=P,I+1):P==="x"&&B.length===1&&B[0]==="0"?(N=E,B.push(P),R=P,I+1):/[^\d]/.test(P)?(ue(B.join("")),N=u,I):(B.push(P),R=P,I+1)}function se(){return P==="f"&&(B.push(P),R=P,I+=1),/[eE]/.test(P)?(B.push(P),R=P,I+1):(P!=="-"&&P!=="+"||!/[eE]/.test(R))&&/[^\d]/.test(P)?(ue(B.join("")),N=u,I):(B.push(P),R=P,I+1)}function oe(){if(/[^\d\w_]/.test(P)){var he=B.join("");return N=ae[he]?f:re[he]?w:m,ue(B.join("")),N=u,I}return B.push(P),R=P,I+1}};var i=t(399),r=t(9746),n=t(9525),l=t(9458),o=t(3585),u=999,p=9999,c=0,b=1,g=2,h=3,x=4,v=5,m=6,w=7,f=8,S=9,T=10,E=11,L=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},3585:function(d,s,t){var i=t(9525);i=i.slice().filter(function(r){return!/^(gl\_|texture)/.test(r)}),d.exports=i.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},9525:function(d){d.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},9458:function(d,s,t){var i=t(399);d.exports=i.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},399:function(d){d.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","uint","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},9746:function(d){d.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},8096:function(d,s,t){var i=t(3193);d.exports=function(r,n){var l=i(n),o=[];return(o=o.concat(l(r))).concat(l(null))}},6832:function(d){d.exports=function(s){typeof s=="string"&&(s=[s]);for(var t=[].slice.call(arguments,1),i=[],r=0;r<s.length-1;r++)i.push(s[r],t[r]||"");return i.push(s[r]),i.join("")}},5233:function(d,s,t){var i=t(4846);d.exports=i&&function(){var r=!1;try{var n=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,n),window.removeEventListener("test",null,n)}catch{r=!1}return r}()},2183:function(d,s,t){d.exports=function(b,g){var h=b.length;if(h===0)throw new Error("Must have at least d+1 points");var x=b[0].length;if(h<=x)throw new Error("Must input at least d+1 points");var v=b.slice(0,x+1),m=i.apply(void 0,v);if(m===0)throw new Error("Input not in general position");for(var w=new Array(x+1),f=0;f<=x;++f)w[f]=f;m<0&&(w[0]=1,w[1]=0);var S=new n(w,new Array(x+1),!1),T=S.adjacent,E=new Array(x+2);for(f=0;f<=x;++f){for(var L=w.slice(),C=0;C<=x;++C)C===f&&(L[C]=-1);var P=L[0];L[0]=L[1],L[1]=P;var R=new n(L,new Array(x+1),!0);T[f]=R,E[f]=R}for(E[x+1]=S,f=0;f<=x;++f){L=T[f].vertices;var G=T[f].adjacent;for(C=0;C<=x;++C){var I=L[C];if(I<0)G[C]=S;else for(var H=0;H<=x;++H)T[H].vertices.indexOf(I)<0&&(G[C]=T[H])}}var N=new p(x,v,E),B=!!g;for(f=x+1;f<h;++f)N.insert(b[f],B);return N.boundary()};var i=t(417),r=t(8211).H;function n(b,g,h){this.vertices=b,this.adjacent=g,this.boundary=h,this.lastVisited=-1}function l(b,g,h){this.vertices=b,this.cell=g,this.index=h}function o(b,g){return r(b.vertices,g.vertices)}n.prototype.flip=function(){var b=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=b;var g=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=g};var u=[];function p(b,g,h){this.dimension=b,this.vertices=g,this.simplices=h,this.interior=h.filter(function(w){return!w.boundary}),this.tuple=new Array(b+1);for(var x=0;x<=b;++x)this.tuple[x]=this.vertices[x];var v,m=u[b];m||(m=u[b]=((v=i[b+1])||(v=i),function(w){return function(){var f=this.tuple;return w.apply(this,f)}}(v))),this.orient=m}var c=p.prototype;c.handleBoundaryDegeneracy=function(b,g){var h=this.dimension,x=this.vertices.length-1,v=this.tuple,m=this.vertices,w=[b];for(b.lastVisited=-x;w.length>0;)for(var f=(b=w.pop()).adjacent,S=0;S<=h;++S){var T=f[S];if(T.boundary&&!(T.lastVisited<=-x)){for(var E=T.vertices,L=0;L<=h;++L){var C=E[L];v[L]=C<0?g:m[C]}var P=this.orient();if(P>0)return T;T.lastVisited=-x,P===0&&w.push(T)}}return null},c.walk=function(b,g){var h=this.vertices.length-1,x=this.dimension,v=this.vertices,m=this.tuple,w=g?this.interior.length*Math.random()|0:this.interior.length-1,f=this.interior[w];e:for(;!f.boundary;){for(var S=f.vertices,T=f.adjacent,E=0;E<=x;++E)m[E]=v[S[E]];for(f.lastVisited=h,E=0;E<=x;++E){var L=T[E];if(!(L.lastVisited>=h)){var C=m[E];m[E]=b;var P=this.orient();if(m[E]=C,P<0){f=L;continue e}L.boundary?L.lastVisited=-h:L.lastVisited=h}}return}return f},c.addPeaks=function(b,g){var h=this.vertices.length-1,x=this.dimension,v=this.vertices,m=this.tuple,w=this.interior,f=this.simplices,S=[g];g.lastVisited=h,g.vertices[g.vertices.indexOf(-1)]=h,g.boundary=!1,w.push(g);for(var T=[];S.length>0;){var E=(g=S.pop()).vertices,L=g.adjacent,C=E.indexOf(h);if(!(C<0)){for(var P=0;P<=x;++P)if(P!==C){var R=L[P];if(R.boundary&&!(R.lastVisited>=h)){var G=R.vertices;if(R.lastVisited!==-h){for(var I=0,H=0;H<=x;++H)G[H]<0?(I=H,m[H]=b):m[H]=v[G[H]];if(this.orient()>0){G[I]=h,R.boundary=!1,w.push(R),S.push(R),R.lastVisited=h;continue}R.lastVisited=-h}var N=R.adjacent,B=E.slice(),V=L.slice(),q=new n(B,V,!0);f.push(q);var te=N.indexOf(g);if(!(te<0))for(N[te]=q,V[C]=R,B[P]=-1,V[P]=g,L[P]=q,q.flip(),H=0;H<=x;++H){var $=B[H];if(!($<0||$===h)){for(var K=new Array(x-1),Z=0,X=0;X<=x;++X){var ee=B[X];ee<0||X===H||(K[Z++]=ee)}T.push(new l(K,q,H))}}}}}}for(T.sort(o),P=0;P+1<T.length;P+=2){var ne=T[P],re=T[P+1],ae=ne.index,ue=re.index;ae<0||ue<0||(ne.cell.adjacent[ne.index]=re.cell,re.cell.adjacent[re.index]=ne.cell)}},c.insert=function(b,g){var h=this.vertices;h.push(b);var x=this.walk(b,g);if(x){for(var v=this.dimension,m=this.tuple,w=0;w<=v;++w){var f=x.vertices[w];m[w]=f<0?b:h[f]}var S=this.orient(m);S<0||(S!==0||(x=this.handleBoundaryDegeneracy(x,b)))&&this.addPeaks(b,x)}},c.boundary=function(){for(var b=this.dimension,g=[],h=this.simplices,x=h.length,v=0;v<x;++v){var m=h[v];if(m.boundary){for(var w=new Array(b),f=m.vertices,S=0,T=0,E=0;E<=b;++E)f[E]>=0?w[S++]=f[E]:T=1&E;if(T===(1&b)){var L=w[0];w[0]=w[1],w[1]=L}g.push(w)}}return g}},9014:function(d,s,t){var i=t(5070);function r(S,T,E,L,C){this.mid=S,this.left=T,this.right=E,this.leftPoints=L,this.rightPoints=C,this.count=(T?T.count:0)+(E?E.count:0)+L.length}d.exports=function(S){return S&&S.length!==0?new w(m(S)):new w(null)};var n=r.prototype;function l(S,T){S.mid=T.mid,S.left=T.left,S.right=T.right,S.leftPoints=T.leftPoints,S.rightPoints=T.rightPoints,S.count=T.count}function o(S,T){var E=m(T);S.mid=E.mid,S.left=E.left,S.right=E.right,S.leftPoints=E.leftPoints,S.rightPoints=E.rightPoints,S.count=E.count}function u(S,T){var E=S.intervals([]);E.push(T),o(S,E)}function p(S,T){var E=S.intervals([]),L=E.indexOf(T);return L<0?0:(E.splice(L,1),o(S,E),1)}function c(S,T,E){for(var L=0;L<S.length&&S[L][0]<=T;++L){var C=E(S[L]);if(C)return C}}function b(S,T,E){for(var L=S.length-1;L>=0&&S[L][1]>=T;--L){var C=E(S[L]);if(C)return C}}function g(S,T){for(var E=0;E<S.length;++E){var L=T(S[E]);if(L)return L}}function h(S,T){return S-T}function x(S,T){return S[0]-T[0]||S[1]-T[1]}function v(S,T){return S[1]-T[1]||S[0]-T[0]}function m(S){if(S.length===0)return null;for(var T=[],E=0;E<S.length;++E)T.push(S[E][0],S[E][1]);T.sort(h);var L=T[T.length>>1],C=[],P=[],R=[];for(E=0;E<S.length;++E){var G=S[E];G[1]<L?C.push(G):L<G[0]?P.push(G):R.push(G)}var I=R,H=R.slice();return I.sort(x),H.sort(v),new r(L,m(C),m(P),I,H)}function w(S){this.root=S}n.intervals=function(S){return S.push.apply(S,this.leftPoints),this.left&&this.left.intervals(S),this.right&&this.right.intervals(S),S},n.insert=function(S){var T=this.count-this.leftPoints.length;if(this.count+=1,S[1]<this.mid)this.left?4*(this.left.count+1)>3*(T+1)?u(this,S):this.left.insert(S):this.left=m([S]);else if(S[0]>this.mid)this.right?4*(this.right.count+1)>3*(T+1)?u(this,S):this.right.insert(S):this.right=m([S]);else{var E=i.ge(this.leftPoints,S,x),L=i.ge(this.rightPoints,S,v);this.leftPoints.splice(E,0,S),this.rightPoints.splice(L,0,S)}},n.remove=function(S){var T=this.count-this.leftPoints;if(S[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(T-1)?p(this,S):(P=this.left.remove(S))===2?(this.left=null,this.count-=1,1):(P===1&&(this.count-=1),P):0;if(S[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(T-1)?p(this,S):(P=this.right.remove(S))===2?(this.right=null,this.count-=1,1):(P===1&&(this.count-=1),P):0;if(this.count===1)return this.leftPoints[0]===S?2:0;if(this.leftPoints.length===1&&this.leftPoints[0]===S){if(this.left&&this.right){for(var E=this,L=this.left;L.right;)E=L,L=L.right;if(E===this)L.right=this.right;else{var C=this.left,P=this.right;E.count-=L.count,E.right=L.left,L.left=C,L.right=P}l(this,L),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?l(this,this.left):l(this,this.right);return 1}for(C=i.ge(this.leftPoints,S,x);C<this.leftPoints.length&&this.leftPoints[C][0]===S[0];++C)if(this.leftPoints[C]===S){for(this.count-=1,this.leftPoints.splice(C,1),P=i.ge(this.rightPoints,S,v);P<this.rightPoints.length&&this.rightPoints[P][1]===S[1];++P)if(this.rightPoints[P]===S)return this.rightPoints.splice(P,1),1}return 0},n.queryPoint=function(S,T){return S<this.mid?this.left&&(E=this.left.queryPoint(S,T))?E:c(this.leftPoints,S,T):S>this.mid?this.right&&(E=this.right.queryPoint(S,T))?E:b(this.rightPoints,S,T):g(this.leftPoints,T);var E},n.queryInterval=function(S,T,E){var L;return S<this.mid&&this.left&&(L=this.left.queryInterval(S,T,E))||T>this.mid&&this.right&&(L=this.right.queryInterval(S,T,E))?L:T<this.mid?c(this.leftPoints,T,E):S>this.mid?b(this.rightPoints,S,E):g(this.leftPoints,E)};var f=w.prototype;f.insert=function(S){this.root?this.root.insert(S):this.root=new r(S[0],null,null,[S],[S])},f.remove=function(S){if(this.root){var T=this.root.remove(S);return T===2&&(this.root=null),T!==0}return!1},f.queryPoint=function(S,T){if(this.root)return this.root.queryPoint(S,T)},f.queryInterval=function(S,T,E){if(S<=T&&this.root)return this.root.queryInterval(S,T,E)},Object.defineProperty(f,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(f,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}})},9560:function(d){d.exports=function(s){for(var t=new Array(s),i=0;i<s;++i)t[i]=i;return t}},4846:function(d){d.exports=!0},4780:function(d){function s(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}d.exports=function(t){return t!=null&&(s(t)||function(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&s(i.slice(0,0))}(t)||!!t._isBuffer)}},3596:function(d){d.exports=function(s){for(var t,i=s.length,r=0;r<i;r++)if(((t=s.charCodeAt(r))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},3578:function(d){d.exports=function(s,t,i){return s*(1-i)+t*i}},7191:function(d,s,t){var i=t(4690),r=t(9823),n=t(7332),l=t(7787),o=t(7437),u=t(2142),p={length:t(4693),normalize:t(899),dot:t(9305),cross:t(903)},c=r(),b=r(),g=[0,0,0,0],h=[[0,0,0],[0,0,0],[0,0,0]],x=[0,0,0];function v(m,w,f,S,T){m[0]=w[0]*S+f[0]*T,m[1]=w[1]*S+f[1]*T,m[2]=w[2]*S+f[2]*T}d.exports=function(m,w,f,S,T,E){if(w||(w=[0,0,0]),f||(f=[0,0,0]),S||(S=[0,0,0]),T||(T=[0,0,0,1]),E||(E=[0,0,0,1]),!i(c,m)||(n(b,c),b[3]=0,b[7]=0,b[11]=0,b[15]=1,Math.abs(l(b)<1e-8)))return!1;var L,C,P,R,G,I,H,N=c[3],B=c[7],V=c[11],q=c[12],te=c[13],$=c[14],K=c[15];if(N!==0||B!==0||V!==0){if(g[0]=N,g[1]=B,g[2]=V,g[3]=K,!o(b,b))return!1;u(b,b),L=T,P=b,R=(C=g)[0],G=C[1],I=C[2],H=C[3],L[0]=P[0]*R+P[4]*G+P[8]*I+P[12]*H,L[1]=P[1]*R+P[5]*G+P[9]*I+P[13]*H,L[2]=P[2]*R+P[6]*G+P[10]*I+P[14]*H,L[3]=P[3]*R+P[7]*G+P[11]*I+P[15]*H}else T[0]=T[1]=T[2]=0,T[3]=1;if(w[0]=q,w[1]=te,w[2]=$,function(X,ee){X[0][0]=ee[0],X[0][1]=ee[1],X[0][2]=ee[2],X[1][0]=ee[4],X[1][1]=ee[5],X[1][2]=ee[6],X[2][0]=ee[8],X[2][1]=ee[9],X[2][2]=ee[10]}(h,c),f[0]=p.length(h[0]),p.normalize(h[0],h[0]),S[0]=p.dot(h[0],h[1]),v(h[1],h[1],h[0],1,-S[0]),f[1]=p.length(h[1]),p.normalize(h[1],h[1]),S[0]/=f[1],S[1]=p.dot(h[0],h[2]),v(h[2],h[2],h[0],1,-S[1]),S[2]=p.dot(h[1],h[2]),v(h[2],h[2],h[1],1,-S[2]),f[2]=p.length(h[2]),p.normalize(h[2],h[2]),S[1]/=f[2],S[2]/=f[2],p.cross(x,h[1],h[2]),p.dot(h[0],x)<0)for(var Z=0;Z<3;Z++)f[Z]*=-1,h[Z][0]*=-1,h[Z][1]*=-1,h[Z][2]*=-1;return E[0]=.5*Math.sqrt(Math.max(1+h[0][0]-h[1][1]-h[2][2],0)),E[1]=.5*Math.sqrt(Math.max(1-h[0][0]+h[1][1]-h[2][2],0)),E[2]=.5*Math.sqrt(Math.max(1-h[0][0]-h[1][1]+h[2][2],0)),E[3]=.5*Math.sqrt(Math.max(1+h[0][0]+h[1][1]+h[2][2],0)),h[2][1]>h[1][2]&&(E[0]=-E[0]),h[0][2]>h[2][0]&&(E[1]=-E[1]),h[1][0]>h[0][1]&&(E[2]=-E[2]),!0}},4690:function(d){d.exports=function(s,t){var i=t[15];if(i===0)return!1;for(var r=1/i,n=0;n<16;n++)s[n]=t[n]*r;return!0}},7649:function(d,s,t){var i=t(1868),r=t(1102),n=t(7191),l=t(7787),o=t(1116),u=b(),p=b(),c=b();function b(){return{translate:g(),scale:g(1),skew:g(),perspective:[0,0,0,1],quaternion:[0,0,0,1]}}function g(h){return[h||0,h||0,h||0]}d.exports=function(h,x,v,m){if(l(x)===0||l(v)===0)return!1;var w=n(x,u.translate,u.scale,u.skew,u.perspective,u.quaternion),f=n(v,p.translate,p.scale,p.skew,p.perspective,p.quaternion);return!(!w||!f||(i(c.translate,u.translate,p.translate,m),i(c.skew,u.skew,p.skew,m),i(c.scale,u.scale,p.scale,m),i(c.perspective,u.perspective,p.perspective,m),o(c.quaternion,u.quaternion,p.quaternion,m),r(h,c.translate,c.scale,c.skew,c.perspective,c.quaternion),0))}},1102:function(d,s,t){var i={identity:t(9947),translate:t(998),multiply:t(104),create:t(9823),scale:t(3668),fromRotationTranslation:t(7280)},r=(i.create(),i.create());d.exports=function(n,l,o,u,p,c){return i.identity(n),i.fromRotationTranslation(n,c,l),n[3]=p[0],n[7]=p[1],n[11]=p[2],n[15]=p[3],i.identity(r),u[2]!==0&&(r[9]=u[2],i.multiply(n,n,r)),u[1]!==0&&(r[9]=0,r[8]=u[1],i.multiply(n,n,r)),u[0]!==0&&(r[8]=0,r[4]=u[0],i.multiply(n,n,r)),i.scale(n,n,o),n}},9298:function(d,s,t){var i=t(5070),r=t(7649),n=t(7437),l=t(6109),o=t(7115),u=t(5240),p=t(3012),c=t(998),b=(t(3668),t(899)),g=[0,0,0];function h(m){this._components=m.slice(),this._time=[0],this.prevMatrix=m.slice(),this.nextMatrix=m.slice(),this.computedMatrix=m.slice(),this.computedInverse=m.slice(),this.computedEye=[0,0,0],this.computedUp=[0,0,0],this.computedCenter=[0,0,0],this.computedRadius=[0],this._limits=[-1/0,1/0]}d.exports=function(m){return new h((m=m||{}).matrix||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};var x=h.prototype;x.recalcMatrix=function(m){var w=this._time,f=i.le(w,m),S=this.computedMatrix;if(!(f<0)){var T=this._components;if(f===w.length-1)for(var E=16*f,L=0;L<16;++L)S[L]=T[E++];else{var C=w[f+1]-w[f],P=(E=16*f,this.prevMatrix),R=!0;for(L=0;L<16;++L)P[L]=T[E++];var G=this.nextMatrix;for(L=0;L<16;++L)G[L]=T[E++],R=R&&P[L]===G[L];if(C<1e-6||R)for(L=0;L<16;++L)S[L]=P[L];else r(S,P,G,(m-w[f])/C)}var I=this.computedUp;I[0]=S[1],I[1]=S[5],I[2]=S[9],b(I,I);var H=this.computedInverse;n(H,S);var N=this.computedEye,B=H[15];N[0]=H[12]/B,N[1]=H[13]/B,N[2]=H[14]/B;var V=this.computedCenter,q=Math.exp(this.computedRadius[0]);for(L=0;L<3;++L)V[L]=N[L]-S[2+4*L]*q}},x.idle=function(m){if(!(m<this.lastT())){for(var w=this._components,f=w.length-16,S=0;S<16;++S)w.push(w[f++]);this._time.push(m)}},x.flush=function(m){var w=i.gt(this._time,m)-2;w<0||(this._time.splice(0,w),this._components.splice(0,16*w))},x.lastT=function(){return this._time[this._time.length-1]},x.lookAt=function(m,w,f,S){this.recalcMatrix(m),w=w||this.computedEye,f=f||g,S=S||this.computedUp,this.setMatrix(m,p(this.computedMatrix,w,f,S));for(var T=0,E=0;E<3;++E)T+=Math.pow(f[E]-w[E],2);T=Math.log(Math.sqrt(T)),this.computedRadius[0]=T},x.rotate=function(m,w,f,S){this.recalcMatrix(m);var T=this.computedInverse;w&&o(T,T,w),f&&l(T,T,f),S&&u(T,T,S),this.setMatrix(m,n(this.computedMatrix,T))};var v=[0,0,0];x.pan=function(m,w,f,S){v[0]=-(w||0),v[1]=-(f||0),v[2]=-(S||0),this.recalcMatrix(m);var T=this.computedInverse;c(T,T,v),this.setMatrix(m,n(T,T))},x.translate=function(m,w,f,S){v[0]=w||0,v[1]=f||0,v[2]=S||0,this.recalcMatrix(m);var T=this.computedMatrix;c(T,T,v),this.setMatrix(m,T)},x.setMatrix=function(m,w){if(!(m<this.lastT())){this._time.push(m);for(var f=0;f<16;++f)this._components.push(w[f])}},x.setDistance=function(m,w){this.computedRadius[0]=w},x.setDistanceLimits=function(m,w){var f=this._limits;f[0]=m,f[1]=w},x.getDistanceLimits=function(m){var w=this._limits;return m?(m[0]=w[0],m[1]=w[1],m):w}},3266:function(d,s,t){d.exports=function(r){var n=r.length;if(n<3){for(var l=new Array(n),o=0;o<n;++o)l[o]=o;return n===2&&r[0][0]===r[1][0]&&r[0][1]===r[1][1]?[0]:l}var u=new Array(n);for(o=0;o<n;++o)u[o]=o;u.sort(function(w,f){return r[w][0]-r[f][0]||r[w][1]-r[f][1]});var p=[u[0],u[1]],c=[u[0],u[1]];for(o=2;o<n;++o){for(var b=u[o],g=r[b],h=p.length;h>1&&i(r[p[h-2]],r[p[h-1]],g)<=0;)h-=1,p.pop();for(p.push(b),h=c.length;h>1&&i(r[c[h-2]],r[c[h-1]],g)>=0;)h-=1,c.pop();c.push(b)}l=new Array(c.length+p.length-2);for(var x=0,v=(o=0,p.length);o<v;++o)l[x++]=p[o];for(var m=c.length-2;m>0;--m)l[x++]=c[m];return l};var i=t(417)[3]},6145:function(d,s,t){d.exports=function(r,n){n||(n=r,r=window);var l=0,o=0,u=0,p={shift:!1,alt:!1,control:!1,meta:!1},c=!1;function b(E){var L=!1;return"altKey"in E&&(L=L||E.altKey!==p.alt,p.alt=!!E.altKey),"shiftKey"in E&&(L=L||E.shiftKey!==p.shift,p.shift=!!E.shiftKey),"ctrlKey"in E&&(L=L||E.ctrlKey!==p.control,p.control=!!E.ctrlKey),"metaKey"in E&&(L=L||E.metaKey!==p.meta,p.meta=!!E.metaKey),L}function g(E,L){var C=i.x(L),P=i.y(L);"buttons"in L&&(E=0|L.buttons),(E!==l||C!==o||P!==u||b(L))&&(l=0|E,o=C||0,u=P||0,n&&n(l,o,u,p))}function h(E){g(0,E)}function x(){(l||o||u||p.shift||p.alt||p.meta||p.control)&&(o=u=0,l=0,p.shift=p.alt=p.control=p.meta=!1,n&&n(0,0,0,p))}function v(E){b(E)&&n&&n(l,o,u,p)}function m(E){i.buttons(E)===0?g(0,E):g(l,E)}function w(E){g(l|i.buttons(E),E)}function f(E){g(l&~i.buttons(E),E)}function S(){c||(c=!0,r.addEventListener("mousemove",m),r.addEventListener("mousedown",w),r.addEventListener("mouseup",f),r.addEventListener("mouseleave",h),r.addEventListener("mouseenter",h),r.addEventListener("mouseout",h),r.addEventListener("mouseover",h),r.addEventListener("blur",x),r.addEventListener("keyup",v),r.addEventListener("keydown",v),r.addEventListener("keypress",v),r!==window&&(window.addEventListener("blur",x),window.addEventListener("keyup",v),window.addEventListener("keydown",v),window.addEventListener("keypress",v)))}S();var T={element:r};return Object.defineProperties(T,{enabled:{get:function(){return c},set:function(E){E?S():c&&(c=!1,r.removeEventListener("mousemove",m),r.removeEventListener("mousedown",w),r.removeEventListener("mouseup",f),r.removeEventListener("mouseleave",h),r.removeEventListener("mouseenter",h),r.removeEventListener("mouseout",h),r.removeEventListener("mouseover",h),r.removeEventListener("blur",x),r.removeEventListener("keyup",v),r.removeEventListener("keydown",v),r.removeEventListener("keypress",v),r!==window&&(window.removeEventListener("blur",x),window.removeEventListener("keyup",v),window.removeEventListener("keydown",v),window.removeEventListener("keypress",v)))},enumerable:!0},buttons:{get:function(){return l},enumerable:!0},x:{get:function(){return o},enumerable:!0},y:{get:function(){return u},enumerable:!0},mods:{get:function(){return p},enumerable:!0}}),T};var i=t(4110)},2565:function(d){var s={left:0,top:0};d.exports=function(t,i,r){i=i||t.currentTarget||t.srcElement,Array.isArray(r)||(r=[0,0]);var n,l=t.clientX||0,o=t.clientY||0,u=(n=i)===window||n===document||n===document.body?s:n.getBoundingClientRect();return r[0]=l-u.left,r[1]=o-u.top,r}},4110:function(d,s){function t(i){return i.target||i.srcElement||window}s.buttons=function(i){if(typeof i=="object"){if("buttons"in i)return i.buttons;if("which"in i){if((r=i.which)===2)return 4;if(r===3)return 2;if(r>0)return 1<<r-1}else if("button"in i){var r;if((r=i.button)===1)return 4;if(r===2)return 2;if(r>=0)return 1<<r}}return 0},s.element=t,s.x=function(i){if(typeof i=="object"){if("offsetX"in i)return i.offsetX;var r=t(i).getBoundingClientRect();return i.clientX-r.left}return 0},s.y=function(i){if(typeof i=="object"){if("offsetY"in i)return i.offsetY;var r=t(i).getBoundingClientRect();return i.clientY-r.top}return 0}},6475:function(d,s,t){var i=t(14);d.exports=function(r,n,l){typeof r=="function"&&(l=!!n,n=r,r=window);var o=i("ex",r),u=function(p){l&&p.preventDefault();var c=p.deltaX||0,b=p.deltaY||0,g=p.deltaZ||0,h=1;switch(p.deltaMode){case 1:h=o;break;case 2:h=window.innerHeight}if(b*=h,g*=h,(c*=h)||b||g)return n(c,b,g,p)};return r.addEventListener("wheel",u),u}},9284:function(d,s,t){var i=t(5306);d.exports=function(n){function l(g){throw new Error("ndarray-extract-contour: "+g)}typeof n!="object"&&l("Must specify arguments");var o=n.order;Array.isArray(o)||l("Must specify order");var u=n.arrayArguments||1;u<1&&l("Must have at least one array argument"),(n.scalarArguments||0)<0&&l("Scalar arg count must be > 0"),typeof n.vertex!="function"&&l("Must specify vertex creation function"),typeof n.cell!="function"&&l("Must specify cell creation function"),typeof n.phase!="function"&&l("Must specify phase function");for(var p=n.getters||[],c=new Array(u),b=0;b<u;++b)p.indexOf(b)>=0?c[b]=!0:c[b]=!1;return function(g,h,x,v,m,w){var f=[w,m].join(",");return(0,r[f])(g,h,x,i.mallocUint32,i.freeUint32)}(n.vertex,n.cell,n.phase,0,o,c)};var r={"false,0,1":function(n,l,o,u,p){return function(c,b,g,h){var x,v=0|c.shape[0],m=0|c.shape[1],w=c.data,f=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=f,L=0|-S,C=0,P=0|-T,R=0,G=-S-T|0,I=0,H=0|S,N=T-S*v|0,B=0,V=0,q=0,te=2*v|0,$=u(te),K=u(te),Z=0,X=0,ee=-1,ne=-1,re=0,ae=0|-v,ue=0|v,pe=0,ge=-v-1|0,we=v-1|0,me=0,ve=0,Ie=0;for(B=0;B<v;++B)$[Z++]=o(w[E],b,g,h),E+=H;if(E+=N,m>0){if(V=1,$[Z++]=o(w[E],b,g,h),E+=H,v>0)for(B=1,x=w[E],X=$[Z]=o(x,b,g,h),re=$[Z+ee],pe=$[Z+ae],me=$[Z+ge],X===re&&X===pe&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,re,pe,me,b,g,h),ve=K[Z]=q++),Z+=1,E+=H,B=2;B<v;++B)x=w[E],X=$[Z]=o(x,b,g,h),re=$[Z+ee],pe=$[Z+ae],me=$[Z+ge],X===re&&X===pe&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,re,pe,me,b,g,h),ve=K[Z]=q++,me!==re&&l(K[Z+ee],ve,I,C,me,re,b,g,h)),Z+=1,E+=H;for(E+=N,Z=0,Ie=ee,ee=ne,ne=Ie,Ie=ae,ae=ue,ue=Ie,Ie=ge,ge=we,we=Ie,V=2;V<m;++V){if($[Z++]=o(w[E],b,g,h),E+=H,v>0)for(B=1,x=w[E],X=$[Z]=o(x,b,g,h),re=$[Z+ee],pe=$[Z+ae],me=$[Z+ge],X===re&&X===pe&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,re,pe,me,b,g,h),ve=K[Z]=q++,me!==pe&&l(K[Z+ae],ve,R,I,pe,me,b,g,h)),Z+=1,E+=H,B=2;B<v;++B)x=w[E],X=$[Z]=o(x,b,g,h),re=$[Z+ee],pe=$[Z+ae],me=$[Z+ge],X===re&&X===pe&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,re,pe,me,b,g,h),ve=K[Z]=q++,me!==pe&&l(K[Z+ae],ve,R,I,pe,me,b,g,h),me!==re&&l(K[Z+ee],ve,I,C,me,re,b,g,h)),Z+=1,E+=H;1&V&&(Z=0),Ie=ee,ee=ne,ne=Ie,Ie=ae,ae=ue,ue=Ie,Ie=ge,ge=we,we=Ie,E+=N}}p(K),p($)}},"false,1,0":function(n,l,o,u,p){return function(c,b,g,h){var x,v=0|c.shape[0],m=0|c.shape[1],w=c.data,f=0|c.offset,S=0|c.stride[0],T=0|c.stride[1],E=f,L=0|-S,C=0,P=0|-T,R=0,G=-S-T|0,I=0,H=0|T,N=S-T*m|0,B=0,V=0,q=0,te=2*m|0,$=u(te),K=u(te),Z=0,X=0,ee=-1,ne=-1,re=0,ae=0|-m,ue=0|m,pe=0,ge=-m-1|0,we=m-1|0,me=0,ve=0,Ie=0;for(V=0;V<m;++V)$[Z++]=o(w[E],b,g,h),E+=H;if(E+=N,v>0){if(B=1,$[Z++]=o(w[E],b,g,h),E+=H,m>0)for(V=1,x=w[E],X=$[Z]=o(x,b,g,h),pe=$[Z+ae],re=$[Z+ee],me=$[Z+ge],X===pe&&X===re&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,pe,re,me,b,g,h),ve=K[Z]=q++),Z+=1,E+=H,V=2;V<m;++V)x=w[E],X=$[Z]=o(x,b,g,h),pe=$[Z+ae],re=$[Z+ee],me=$[Z+ge],X===pe&&X===re&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,pe,re,me,b,g,h),ve=K[Z]=q++,me!==re&&l(K[Z+ee],ve,R,I,re,me,b,g,h)),Z+=1,E+=H;for(E+=N,Z=0,Ie=ae,ae=ue,ue=Ie,Ie=ee,ee=ne,ne=Ie,Ie=ge,ge=we,we=Ie,B=2;B<v;++B){if($[Z++]=o(w[E],b,g,h),E+=H,m>0)for(V=1,x=w[E],X=$[Z]=o(x,b,g,h),pe=$[Z+ae],re=$[Z+ee],me=$[Z+ge],X===pe&&X===re&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,pe,re,me,b,g,h),ve=K[Z]=q++,me!==pe&&l(K[Z+ae],ve,I,C,me,pe,b,g,h)),Z+=1,E+=H,V=2;V<m;++V)x=w[E],X=$[Z]=o(x,b,g,h),pe=$[Z+ae],re=$[Z+ee],me=$[Z+ge],X===pe&&X===re&&X===me||(C=w[E+L],R=w[E+P],I=w[E+G],n(B,V,x,C,R,I,X,pe,re,me,b,g,h),ve=K[Z]=q++,me!==re&&l(K[Z+ee],ve,R,I,re,me,b,g,h),me!==pe&&l(K[Z+ae],ve,I,C,me,pe,b,g,h)),Z+=1,E+=H;1&B&&(Z=0),Ie=ae,ae=ue,ue=Ie,Ie=ee,ee=ne,ne=Ie,Ie=ge,ge=we,we=Ie,E+=N}}p(K),p($)}}}},9144:function(d,s,t){var i=t(3094),r={zero:function(v,m,w,f){var S=v[0];f|=0;var T=0,E=w[0];for(T=0;T<S;++T)m[f]=0,f+=E},fdTemplate1:function(v,m,w,f,S,T,E){var L=v[0],C=w[0],P=-1*C,R=C;f|=0,E|=0;var G=0,I=C,H=T[0];for(G=0;G<L;++G)S[E]=.5*(m[f+P]-m[f+R]),f+=I,E+=H},fdTemplate2:function(v,m,w,f,S,T,E,L,C,P){var R=v[0],G=v[1],I=w[0],H=w[1],N=T[0],B=T[1],V=C[0],q=C[1],te=-1*I,$=I,K=-1*H,Z=H;f|=0,E|=0,P|=0;var X=0,ee=0,ne=H,re=I-G*H,ae=B,ue=N-G*B,pe=q,ge=V-G*q;for(ee=0;ee<R;++ee){for(X=0;X<G;++X)S[E]=.5*(m[f+te]-m[f+$]),L[P]=.5*(m[f+K]-m[f+Z]),f+=ne,E+=ae,P+=pe;f+=re,E+=ue,P+=ge}}},n={cdiff:function(v){var m={};return function(w,f,S){var T=w.dtype,E=w.order,L=f.dtype,C=f.order,P=S.dtype,R=S.order,G=[T,E.join(),L,C.join(),P,R.join()].join(),I=m[G];return I||(m[G]=I=v([T,E,L,C,P,R])),I(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}},zero:function(v){var m={};return function(w){var f=w.dtype,S=w.order,T=[f,S.join()].join(),E=m[T];return E||(m[T]=E=v([f,S])),E(w.shape.slice(0),w.data,w.stride,0|w.offset)}},fdTemplate1:function(v){var m={};return function(w,f){var S=w.dtype,T=w.order,E=f.dtype,L=f.order,C=[S,T.join(),E,L.join()].join(),P=m[C];return P||(m[C]=P=v([S,T,E,L])),P(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset)}},fdTemplate2:function(v){var m={};return function(w,f,S){var T=w.dtype,E=w.order,L=f.dtype,C=f.order,P=S.dtype,R=S.order,G=[T,E.join(),L,C.join(),P,R.join()].join(),I=m[G];return I||(m[G]=I=v([T,E,L,C,P,R])),I(w.shape.slice(0),w.data,w.stride,0|w.offset,f.data,f.stride,0|f.offset,S.data,S.stride,0|S.offset)}}};function l(v){return(0,n[v.funcName])(o.bind(void 0,v))}function o(v){return r[v.funcName]}function u(v){return l({funcName:v.funcName})}var p={},c={},b=u({funcName:"cdiff"}),g=u({funcName:"zero"});function h(v){return v in p?p[v]:p[v]=u({funcName:"fdTemplate"+v})}function x(v,m,w,f){return function(S,T){var E=T.shape.slice();return E[0]>2&&E[1]>2&&f(T.pick(-1,-1).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,0).lo(1,1).hi(E[0]-2,E[1]-2),S.pick(-1,-1,1).lo(1,1).hi(E[0]-2,E[1]-2)),E[1]>2&&(w(T.pick(0,-1).lo(1).hi(E[1]-2),S.pick(0,-1,1).lo(1).hi(E[1]-2)),m(S.pick(0,-1,0).lo(1).hi(E[1]-2))),E[1]>2&&(w(T.pick(E[0]-1,-1).lo(1).hi(E[1]-2),S.pick(E[0]-1,-1,1).lo(1).hi(E[1]-2)),m(S.pick(E[0]-1,-1,0).lo(1).hi(E[1]-2))),E[0]>2&&(w(T.pick(-1,0).lo(1).hi(E[0]-2),S.pick(-1,0,0).lo(1).hi(E[0]-2)),m(S.pick(-1,0,1).lo(1).hi(E[0]-2))),E[0]>2&&(w(T.pick(-1,E[1]-1).lo(1).hi(E[0]-2),S.pick(-1,E[1]-1,0).lo(1).hi(E[0]-2)),m(S.pick(-1,E[1]-1,1).lo(1).hi(E[0]-2))),S.set(0,0,0,0),S.set(0,0,1,0),S.set(E[0]-1,0,0,0),S.set(E[0]-1,0,1,0),S.set(0,E[1]-1,0,0),S.set(0,E[1]-1,1,0),S.set(E[0]-1,E[1]-1,0,0),S.set(E[0]-1,E[1]-1,1,0),S}}d.exports=function(v,m,w){return Array.isArray(w)||(w=i(m.dimension,typeof w=="string"?w:"clamp")),m.size===0?v:m.dimension===0?(v.set(0),v):function(f){var S=f.join();if(C=c[S])return C;for(var T=f.length,E=[b,g],L=1;L<=T;++L)E.push(h(L));var C=x.apply(void 0,E);return c[S]=C,C}(w)(v,m)}},3581:function(d){function s(n,l){var o=Math.floor(l),u=l-o,p=0<=o&&o<n.shape[0],c=0<=o+1&&o+1<n.shape[0];return(1-u)*(p?+n.get(o):0)+u*(c?+n.get(o+1):0)}function t(n,l,o){var u=Math.floor(l),p=l-u,c=0<=u&&u<n.shape[0],b=0<=u+1&&u+1<n.shape[0],g=Math.floor(o),h=o-g,x=0<=g&&g<n.shape[1],v=0<=g+1&&g+1<n.shape[1],m=c&&x?n.get(u,g):0,w=c&&v?n.get(u,g+1):0;return(1-h)*((1-p)*m+p*(b&&x?n.get(u+1,g):0))+h*((1-p)*w+p*(b&&v?n.get(u+1,g+1):0))}function i(n,l,o,u){var p=Math.floor(l),c=l-p,b=0<=p&&p<n.shape[0],g=0<=p+1&&p+1<n.shape[0],h=Math.floor(o),x=o-h,v=0<=h&&h<n.shape[1],m=0<=h+1&&h+1<n.shape[1],w=Math.floor(u),f=u-w,S=0<=w&&w<n.shape[2],T=0<=w+1&&w+1<n.shape[2],E=b&&v&&S?n.get(p,h,w):0,L=b&&m&&S?n.get(p,h+1,w):0,C=g&&v&&S?n.get(p+1,h,w):0,P=g&&m&&S?n.get(p+1,h+1,w):0,R=b&&v&&T?n.get(p,h,w+1):0,G=b&&m&&T?n.get(p,h+1,w+1):0;return(1-f)*((1-x)*((1-c)*E+c*C)+x*((1-c)*L+c*P))+f*((1-x)*((1-c)*R+c*(g&&v&&T?n.get(p+1,h,w+1):0))+x*((1-c)*G+c*(g&&m&&T?n.get(p+1,h+1,w+1):0)))}function r(n){var l,o,u=0|n.shape.length,p=new Array(u),c=new Array(u),b=new Array(u),g=new Array(u);for(l=0;l<u;++l)o=+arguments[l+1],p[l]=Math.floor(o),c[l]=o-p[l],b[l]=0<=p[l]&&p[l]<n.shape[l],g[l]=0<=p[l]+1&&p[l]+1<n.shape[l];var h,x,v,m=0;e:for(l=0;l<1<<u;++l){for(x=1,v=n.offset,h=0;h<u;++h)if(l&1<<h){if(!g[h])continue e;x*=c[h],v+=n.stride[h]*(p[h]+1)}else{if(!b[h])continue e;x*=1-c[h],v+=n.stride[h]*p[h]}m+=x*n.data[v]}return m}d.exports=function(n,l,o,u){switch(n.shape.length){case 0:return 0;case 1:return s(n,l);case 2:return t(n,l,o);case 3:return i(n,l,o,u);default:return r.apply(void 0,arguments)}},d.exports.d1=s,d.exports.d2=t,d.exports.d3=i},7498:function(d,s){var t={"float64,2,1,0":function(){return function(o,u,p,c,b){var g=o[0],h=o[1],x=o[2],v=p[0],m=p[1],w=p[2];c|=0;var f=0,S=0,T=0,E=w,L=m-x*w,C=v-h*m;for(T=0;T<g;++T){for(S=0;S<h;++S){for(f=0;f<x;++f)u[c]/=b,c+=E;c+=L}c+=C}}},"uint8,2,0,1,float64,2,1,0":function(){return function(o,u,p,c,b,g,h,x){for(var v=o[0],m=o[1],w=o[2],f=p[0],S=p[1],T=p[2],E=g[0],L=g[1],C=g[2],P=c|=0,R=h|=0,G=0|o[0];G>0;){G<64?(v=G,G=0):(v=64,G-=64);for(var I=0|o[1];I>0;){I<64?(m=I,I=0):(m=64,I-=64),c=P+G*f+I*S,h=R+G*E+I*L;var H=0,N=0,B=0,V=T,q=f-w*T,te=S-v*f,$=C,K=E-w*C,Z=L-v*E;for(B=0;B<m;++B){for(N=0;N<v;++N){for(H=0;H<w;++H)u[c]=b[h]*x,c+=V,h+=$;c+=q,h+=K}c+=te,h+=Z}}}}},"float32,1,0,float32,1,0":function(){return function(o,u,p,c,b,g,h){var x=o[0],v=o[1],m=p[0],w=p[1],f=g[0],S=g[1];c|=0,h|=0;var T=0,E=0,L=w,C=m-v*w,P=S,R=f-v*S;for(E=0;E<x;++E){for(T=0;T<v;++T)u[c]=b[h],c+=L,h+=P;c+=C,h+=R}}},"float32,1,0,float32,0,1":function(){return function(o,u,p,c,b,g,h){for(var x=o[0],v=o[1],m=p[0],w=p[1],f=g[0],S=g[1],T=c|=0,E=h|=0,L=0|o[1];L>0;){L<64?(v=L,L=0):(v=64,L-=64);for(var C=0|o[0];C>0;){C<64?(x=C,C=0):(x=64,C-=64),c=T+L*w+C*m,h=E+L*S+C*f;var P=0,R=0,G=w,I=m-v*w,H=S,N=f-v*S;for(R=0;R<x;++R){for(P=0;P<v;++P)u[c]=b[h],c+=G,h+=H;c+=I,h+=N}}}}},"uint8,2,0,1,uint8,1,2,0":function(){return function(o,u,p,c,b,g,h){for(var x=o[0],v=o[1],m=o[2],w=p[0],f=p[1],S=p[2],T=g[0],E=g[1],L=g[2],C=c|=0,P=h|=0,R=0|o[2];R>0;){R<64?(m=R,R=0):(m=64,R-=64);for(var G=0|o[0];G>0;){G<64?(x=G,G=0):(x=64,G-=64);for(var I=0|o[1];I>0;){I<64?(v=I,I=0):(v=64,I-=64),c=C+R*S+G*w+I*f,h=P+R*L+G*T+I*E;var H=0,N=0,B=0,V=S,q=w-m*S,te=f-x*w,$=L,K=T-m*L,Z=E-x*T;for(B=0;B<v;++B){for(N=0;N<x;++N){for(H=0;H<m;++H)u[c]=b[h],c+=V,h+=$;c+=q,h+=K}c+=te,h+=Z}}}}}},"uint8,2,0,1,array,2,0,1":function(){return function(o,u,p,c,b,g,h){var x=o[0],v=o[1],m=o[2],w=p[0],f=p[1],S=p[2],T=g[0],E=g[1],L=g[2];c|=0,h|=0;var C=0,P=0,R=0,G=S,I=w-m*S,H=f-x*w,N=L,B=T-m*L,V=E-x*T;for(R=0;R<v;++R){for(P=0;P<x;++P){for(C=0;C<m;++C)u[c]=b[h],c+=G,h+=N;c+=I,h+=B}c+=H,h+=V}}}},i=function(o,u){var p=u.join(",");return(0,t[p])()},r={mul:function(o){var u={};return function(p,c,b){var g=p.dtype,h=p.order,x=c.dtype,v=c.order,m=b.dtype,w=b.order,f=[g,h.join(),x,v.join(),m,w.join()].join(),S=u[f];return S||(u[f]=S=o([g,h,x,v,m,w])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,b.data,b.stride,0|b.offset)}},muls:function(o){var u={};return function(p,c,b){var g=p.dtype,h=p.order,x=c.dtype,v=c.order,m=[g,h.join(),x,v.join()].join(),w=u[m];return w||(u[m]=w=o([g,h,x,v])),w(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,b)}},mulseq:function(o){var u={};return function(p,c){var b=p.dtype,g=p.order,h=[b,g.join()].join(),x=u[h];return x||(u[h]=x=o([b,g])),x(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},div:function(o){var u={};return function(p,c,b){var g=p.dtype,h=p.order,x=c.dtype,v=c.order,m=b.dtype,w=b.order,f=[g,h.join(),x,v.join(),m,w.join()].join(),S=u[f];return S||(u[f]=S=o([g,h,x,v,m,w])),S(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,b.data,b.stride,0|b.offset)}},divs:function(o){var u={};return function(p,c,b){var g=p.dtype,h=p.order,x=c.dtype,v=c.order,m=[g,h.join(),x,v.join()].join(),w=u[m];return w||(u[m]=w=o([g,h,x,v])),w(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset,b)}},divseq:function(o){var u={};return function(p,c){var b=p.dtype,g=p.order,h=[b,g.join()].join(),x=u[h];return x||(u[h]=x=o([b,g])),x(p.shape.slice(0),p.data,p.stride,0|p.offset,c)}},assign:function(o){var u={};return function(p,c){var b=p.dtype,g=p.order,h=c.dtype,x=c.order,v=[b,g.join(),h,x.join()].join(),m=u[v];return m||(u[v]=m=o([b,g,h,x])),m(p.shape.slice(0),p.data,p.stride,0|p.offset,c.data,c.stride,0|c.offset)}}};function n(o){return u={funcName:o.funcName},(0,r[u.funcName])(i.bind(void 0,u));var u}var l={mul:"*",div:"/"};(function(){for(var o in l)s[o]=n({funcName:o}),s[o+"s"]=n({funcName:o+"s"}),s[o+"seq"]=n({funcName:o+"seq"})})(),s.assign=n({funcName:"assign"})},7382:function(d,s,t){var i=t(5050),r=t(9262);d.exports=function(n,l){for(var o=[],u=n,p=1;Array.isArray(u);)o.push(u.length),p*=u.length,u=u[0];return o.length===0?i():(l||(l=i(new Float64Array(p),o)),r(l,n),l)}},9262:function(d){d.exports=function(s){var t={};return function(i,r){var n=i.dtype,l=i.order,o=[n,l.join()].join(),u=t[o];return u||(t[o]=u=s([n,l])),u(i.shape.slice(0),i.data,i.stride,0|i.offset,r)}}((function(){return function(s,t,i,r,n){var l=s[0],o=s[1],u=s[2],p=i[0],c=i[1],b=i[2],g=[0,0,0];r|=0;var h=0,x=0,v=0,m=b,w=c-u*b,f=p-o*c;for(v=0;v<l;++v){for(x=0;x<o;++x){for(h=0;h<u;++h){var S,T=n;for(S=0;S<g.length-1;++S)T=T[g[S]];t[r]=T[g[g.length-1]],r+=m,++g[2]}r+=w,g[2]-=u,++g[1]}r+=f,g[1]-=o,++g[0]}}}).bind(void 0,{funcName:"convert"}))},8139:function(d,s,t){var i=t(5306);function r(u){return u==="uint32"?[i.mallocUint32,i.freeUint32]:null}var n={"uint32,1,0":function(u,p){return function(c,b,g,h,x,v,m,w,f,S,T){var E,L,C,P,R,G,I,H,N=c*x+h,B=u(w);for(E=c+1;E<=b;++E){for(L=E,C=N+=x,R=0,G=N,P=0;P<w;++P)B[R++]=g[G],G+=f;e:for(;L-- >c;){R=0,G=C-x;t:for(P=0;P<w;++P){if((I=g[G])<(H=B[R]))break e;if(I>H)break t;G+=S,R+=T}for(R=C,G=C-x,P=0;P<w;++P)g[R]=g[G],R+=f,G+=f;C-=x}for(R=C,G=0,P=0;P<w;++P)g[R]=B[G++],R+=f}p(B)}}},l={"uint32,1,0":function(u,p,c){return function b(g,h,x,v,m,w,f,S,T,E,L){var C,P,R,G,I,H,N,B,V,q,te,$,K,Z,X,ee,ne,re,ae,ue,pe,ge,we,me,ve,Ie=(h-g+1)/6|0,Se=g+Ie,ke=h-Ie,se=g+h>>1,oe=se-Ie,he=se+Ie,Le=Se,Me=oe,_e=se,De=he,Ne=ke,ce=g+1,Te=h-1,ye=!0,Oe=0,Be=0,Fe=0,Ge=S,Ze=p(Ge),et=p(Ge);te=m*Le,$=m*Me,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=Le,Le=Me,Me=P;break e}if(Fe<0)break e;ve+=E}te=m*De,$=m*Ne,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=De,De=Ne,Ne=P;break e}if(Fe<0)break e;ve+=E}te=m*Le,$=m*_e,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=Le,Le=_e,_e=P;break e}if(Fe<0)break e;ve+=E}te=m*Me,$=m*_e,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=Me,Me=_e,_e=P;break e}if(Fe<0)break e;ve+=E}te=m*Le,$=m*De,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=Le,Le=De,De=P;break e}if(Fe<0)break e;ve+=E}te=m*_e,$=m*De,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=_e,_e=De,De=P;break e}if(Fe<0)break e;ve+=E}te=m*Me,$=m*Ne,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=Me,Me=Ne,Ne=P;break e}if(Fe<0)break e;ve+=E}te=m*Me,$=m*_e,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=Me,Me=_e,_e=P;break e}if(Fe<0)break e;ve+=E}te=m*De,$=m*Ne,ve=v;e:for(q=0;q<S;++q){if(B=$+ve,(Fe=x[N=te+ve]-x[B])>0){P=De,De=Ne,Ne=P;break e}if(Fe<0)break e;ve+=E}for(te=m*Le,$=m*Me,K=m*_e,Z=m*De,X=m*Ne,ee=m*Se,ne=m*se,re=m*ke,me=0,ve=v,q=0;q<S;++q)N=te+ve,B=$+ve,V=K+ve,ae=Z+ve,ue=X+ve,pe=ee+ve,ge=ne+ve,we=re+ve,Ze[me]=x[B],et[me]=x[ae],ye=ye&&Ze[me]===et[me],R=x[N],G=x[V],I=x[ue],x[pe]=R,x[ge]=G,x[we]=I,++me,ve+=T;for(te=m*oe,$=m*g,ve=v,q=0;q<S;++q)B=$+ve,x[N=te+ve]=x[B],ve+=T;for(te=m*he,$=m*h,ve=v,q=0;q<S;++q)B=$+ve,x[N=te+ve]=x[B],ve+=T;if(ye)for(H=ce;H<=Te;++H){for(N=v+H*m,me=0,q=0;q<S&&(Fe=x[N]-Ze[me])==0;++q)me+=L,N+=E;if(Fe!==0)if(Fe<0){if(H!==ce)for(te=m*H,$=m*ce,ve=v,q=0;q<S;++q)B=$+ve,C=x[N=te+ve],x[N]=x[B],x[B]=C,ve+=T;++ce}else for(;;){for(N=v+Te*m,me=0,q=0;q<S&&(Fe=x[N]-Ze[me])==0;++q)me+=L,N+=E;if(!(Fe>0)){if(Fe<0){for(te=m*H,$=m*ce,K=m*Te,ve=v,q=0;q<S;++q)B=$+ve,V=K+ve,C=x[N=te+ve],x[N]=x[B],x[B]=x[V],x[V]=C,ve+=T;++ce,--Te;break}for(te=m*H,$=m*Te,ve=v,q=0;q<S;++q)B=$+ve,C=x[N=te+ve],x[N]=x[B],x[B]=C,ve+=T;--Te;break}Te--}}else for(H=ce;H<=Te;++H){for(N=v+H*m,me=0,q=0;q<S&&(Oe=x[N]-Ze[me])==0;++q)me+=L,N+=E;if(Oe<0){if(H!==ce)for(te=m*H,$=m*ce,ve=v,q=0;q<S;++q)B=$+ve,C=x[N=te+ve],x[N]=x[B],x[B]=C,ve+=T;++ce}else{for(N=v+H*m,me=0,q=0;q<S&&(Be=x[N]-et[me])==0;++q)me+=L,N+=E;if(Be>0)for(;;){for(N=v+Te*m,me=0,q=0;q<S&&(Fe=x[N]-et[me])==0;++q)me+=L,N+=E;if(!(Fe>0)){for(N=v+Te*m,me=0,q=0;q<S&&(Fe=x[N]-Ze[me])==0;++q)me+=L,N+=E;if(Fe<0){for(te=m*H,$=m*ce,K=m*Te,ve=v,q=0;q<S;++q)B=$+ve,V=K+ve,C=x[N=te+ve],x[N]=x[B],x[B]=x[V],x[V]=C,ve+=T;++ce,--Te}else{for(te=m*H,$=m*Te,ve=v,q=0;q<S;++q)B=$+ve,C=x[N=te+ve],x[N]=x[B],x[B]=C,ve+=T;--Te}break}if(--Te<H)break}}}for(te=m*g,$=m*(ce-1),me=0,ve=v,q=0;q<S;++q)B=$+ve,x[N=te+ve]=x[B],x[B]=Ze[me],++me,ve+=T;for(te=m*h,$=m*(Te+1),me=0,ve=v,q=0;q<S;++q)B=$+ve,x[N=te+ve]=x[B],x[B]=et[me],++me,ve+=T;if(ce-2-g<=32?u(g,ce-2,x,v,m,w,f,S,T,E,L):b(g,ce-2,x,v,m,w,f,S,T,E,L),h-(Te+2)<=32?u(Te+2,h,x,v,m,w,f,S,T,E,L):b(Te+2,h,x,v,m,w,f,S,T,E,L),ye)return c(Ze),void c(et);if(ce<Se&&Te>ke){e:for(;;){for(N=v+ce*m,me=0,ve=v,q=0;q<S;++q){if(x[N]!==Ze[me])break e;++me,N+=T}++ce}e:for(;;){for(N=v+Te*m,me=0,ve=v,q=0;q<S;++q){if(x[N]!==et[me])break e;++me,N+=T}--Te}for(H=ce;H<=Te;++H){for(N=v+H*m,me=0,q=0;q<S&&(Oe=x[N]-Ze[me])==0;++q)me+=L,N+=E;if(Oe===0){if(H!==ce)for(te=m*H,$=m*ce,ve=v,q=0;q<S;++q)B=$+ve,C=x[N=te+ve],x[N]=x[B],x[B]=C,ve+=T;++ce}else{for(N=v+H*m,me=0,q=0;q<S&&(Be=x[N]-et[me])==0;++q)me+=L,N+=E;if(Be===0)for(;;){for(N=v+Te*m,me=0,q=0;q<S&&(Fe=x[N]-et[me])==0;++q)me+=L,N+=E;if(Fe!==0){for(N=v+Te*m,me=0,q=0;q<S&&(Fe=x[N]-Ze[me])==0;++q)me+=L,N+=E;if(Fe<0){for(te=m*H,$=m*ce,K=m*Te,ve=v,q=0;q<S;++q)B=$+ve,V=K+ve,C=x[N=te+ve],x[N]=x[B],x[B]=x[V],x[V]=C,ve+=T;++ce,--Te}else{for(te=m*H,$=m*Te,ve=v,q=0;q<S;++q)B=$+ve,C=x[N=te+ve],x[N]=x[B],x[B]=C,ve+=T;--Te}break}if(--Te<H)break}}}}c(Ze),c(et),Te-ce<=32?u(ce,Te,x,v,m,w,f,S,T,E,L):b(ce,Te,x,v,m,w,f,S,T,E,L)}}},o={"uint32,1,0":function(u,p){return function(c){var b=c.data,g=0|c.offset,h=c.shape,x=c.stride,v=0|x[0],m=0|h[0],w=0|x[1],f=0|h[1],S=w,T=w;m<=32?u(0,m-1,b,g,v,w,m,f,S,T,1):p(0,m-1,b,g,v,w,m,f,S,T,1)}}};d.exports=function(u,p){var c=[p,u].join(","),b=o[c],g=function(x,v){var m=r(v),w=[v,x].join(","),f=n[w];return m?f(m[0],m[1]):f()}(u,p),h=function(x,v,m){var w=r(v),f=[v,x].join(","),S=l[f];return x.length>1&&w?S(m,w[0],w[1]):S(m)}(u,p,g);return b(g,h)}},8729:function(d,s,t){var i=t(8139),r={};d.exports=function(n){var l=n.order,o=n.dtype,u=[l,o].join(":"),p=r[u];return p||(r[u]=p=i(l,o)),p(n),n}},5050:function(d,s,t){var i=t(4780),r=typeof Float64Array<"u";function n(c,b){return c[0]-b[0]}function l(){var c,b=this.stride,g=new Array(b.length);for(c=0;c<g.length;++c)g[c]=[Math.abs(b[c]),c];g.sort(n);var h=new Array(g.length);for(c=0;c<h.length;++c)h[c]=g[c][1];return h}var o={T:function(c){function b(h){this.data=h}var g=b.prototype;return g.dtype=c,g.index=function(){return-1},g.size=0,g.dimension=-1,g.shape=g.stride=g.order=[],g.lo=g.hi=g.transpose=g.step=function(){return new b(this.data)},g.get=g.set=function(){},g.pick=function(){return null},function(h){return new b(h)}},0:function(c,b){function g(x,v){this.data=x,this.offset=v}var h=g.prototype;return h.dtype=c,h.index=function(){return this.offset},h.dimension=0,h.size=1,h.shape=h.stride=h.order=[],h.lo=h.hi=h.transpose=h.step=function(){return new g(this.data,this.offset)},h.pick=function(){return b(this.data)},h.valueOf=h.get=function(){return c==="generic"?this.data.get(this.offset):this.data[this.offset]},h.set=function(x){return c==="generic"?this.data.set(this.offset,x):this.data[this.offset]=x},function(x,v,m,w){return new g(x,w)}},1:function(c,b,g){function h(v,m,w,f){this.data=v,this.shape=[m],this.stride=[w],this.offset=0|f}var x=h.prototype;return x.dtype=c,x.dimension=1,Object.defineProperty(x,"size",{get:function(){return this.shape[0]}}),x.order=[0],x.set=function(v,m){return c==="generic"?this.data.set(this.offset+this.stride[0]*v,m):this.data[this.offset+this.stride[0]*v]=m},x.get=function(v){return c==="generic"?this.data.get(this.offset+this.stride[0]*v):this.data[this.offset+this.stride[0]*v]},x.index=function(v){return this.offset+this.stride[0]*v},x.hi=function(v){return new h(this.data,typeof v!="number"||v<0?this.shape[0]:0|v,this.stride[0],this.offset)},x.lo=function(v){var m=this.offset,w=0,f=this.shape[0],S=this.stride[0];return typeof v=="number"&&v>=0&&(m+=S*(w=0|v),f-=w),new h(this.data,f,S,m)},x.step=function(v){var m=this.shape[0],w=this.stride[0],f=this.offset,S=0,T=Math.ceil;return typeof v=="number"&&((S=0|v)<0?(f+=w*(m-1),m=T(-m/S)):m=T(m/S),w*=S),new h(this.data,m,w,f)},x.transpose=function(v){v=v===void 0?0:0|v;var m=this.shape,w=this.stride;return new h(this.data,m[v],w[v],this.offset)},x.pick=function(v){var m=[],w=[],f=this.offset;return typeof v=="number"&&v>=0?f=f+this.stride[0]*v|0:(m.push(this.shape[0]),w.push(this.stride[0])),(0,b[m.length+1])(this.data,m,w,f)},function(v,m,w,f){return new h(v,m[0],w[0],f)}},2:function(c,b,g){function h(v,m,w,f,S,T){this.data=v,this.shape=[m,w],this.stride=[f,S],this.offset=0|T}var x=h.prototype;return x.dtype=c,x.dimension=2,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]}}),Object.defineProperty(x,"order",{get:function(){return Math.abs(this.stride[0])>Math.abs(this.stride[1])?[1,0]:[0,1]}}),x.set=function(v,m,w){return c==="generic"?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m,w):this.data[this.offset+this.stride[0]*v+this.stride[1]*m]=w},x.get=function(v,m){return c==="generic"?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m):this.data[this.offset+this.stride[0]*v+this.stride[1]*m]},x.index=function(v,m){return this.offset+this.stride[0]*v+this.stride[1]*m},x.hi=function(v,m){return new h(this.data,typeof v!="number"||v<0?this.shape[0]:0|v,typeof m!="number"||m<0?this.shape[1]:0|m,this.stride[0],this.stride[1],this.offset)},x.lo=function(v,m){var w=this.offset,f=0,S=this.shape[0],T=this.shape[1],E=this.stride[0],L=this.stride[1];return typeof v=="number"&&v>=0&&(w+=E*(f=0|v),S-=f),typeof m=="number"&&m>=0&&(w+=L*(f=0|m),T-=f),new h(this.data,S,T,E,L,w)},x.step=function(v,m){var w=this.shape[0],f=this.shape[1],S=this.stride[0],T=this.stride[1],E=this.offset,L=0,C=Math.ceil;return typeof v=="number"&&((L=0|v)<0?(E+=S*(w-1),w=C(-w/L)):w=C(w/L),S*=L),typeof m=="number"&&((L=0|m)<0?(E+=T*(f-1),f=C(-f/L)):f=C(f/L),T*=L),new h(this.data,w,f,S,T,E)},x.transpose=function(v,m){v=v===void 0?0:0|v,m=m===void 0?1:0|m;var w=this.shape,f=this.stride;return new h(this.data,w[v],w[m],f[v],f[m],this.offset)},x.pick=function(v,m){var w=[],f=[],S=this.offset;return typeof v=="number"&&v>=0?S=S+this.stride[0]*v|0:(w.push(this.shape[0]),f.push(this.stride[0])),typeof m=="number"&&m>=0?S=S+this.stride[1]*m|0:(w.push(this.shape[1]),f.push(this.stride[1])),(0,b[w.length+1])(this.data,w,f,S)},function(v,m,w,f){return new h(v,m[0],m[1],w[0],w[1],f)}},3:function(c,b,g){function h(v,m,w,f,S,T,E,L){this.data=v,this.shape=[m,w,f],this.stride=[S,T,E],this.offset=0|L}var x=h.prototype;return x.dtype=c,x.dimension=3,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]}}),Object.defineProperty(x,"order",{get:function(){var v=Math.abs(this.stride[0]),m=Math.abs(this.stride[1]),w=Math.abs(this.stride[2]);return v>m?m>w?[2,1,0]:v>w?[1,2,0]:[1,0,2]:v>w?[2,0,1]:w>m?[0,1,2]:[0,2,1]}}),x.set=function(v,m,w,f){return c==="generic"?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w,f):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w]=f},x.get=function(v,m,w){return c==="generic"?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w]},x.index=function(v,m,w){return this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w},x.hi=function(v,m,w){return new h(this.data,typeof v!="number"||v<0?this.shape[0]:0|v,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,this.stride[0],this.stride[1],this.stride[2],this.offset)},x.lo=function(v,m,w){var f=this.offset,S=0,T=this.shape[0],E=this.shape[1],L=this.shape[2],C=this.stride[0],P=this.stride[1],R=this.stride[2];return typeof v=="number"&&v>=0&&(f+=C*(S=0|v),T-=S),typeof m=="number"&&m>=0&&(f+=P*(S=0|m),E-=S),typeof w=="number"&&w>=0&&(f+=R*(S=0|w),L-=S),new h(this.data,T,E,L,C,P,R,f)},x.step=function(v,m,w){var f=this.shape[0],S=this.shape[1],T=this.shape[2],E=this.stride[0],L=this.stride[1],C=this.stride[2],P=this.offset,R=0,G=Math.ceil;return typeof v=="number"&&((R=0|v)<0?(P+=E*(f-1),f=G(-f/R)):f=G(f/R),E*=R),typeof m=="number"&&((R=0|m)<0?(P+=L*(S-1),S=G(-S/R)):S=G(S/R),L*=R),typeof w=="number"&&((R=0|w)<0?(P+=C*(T-1),T=G(-T/R)):T=G(T/R),C*=R),new h(this.data,f,S,T,E,L,C,P)},x.transpose=function(v,m,w){v=v===void 0?0:0|v,m=m===void 0?1:0|m,w=w===void 0?2:0|w;var f=this.shape,S=this.stride;return new h(this.data,f[v],f[m],f[w],S[v],S[m],S[w],this.offset)},x.pick=function(v,m,w){var f=[],S=[],T=this.offset;return typeof v=="number"&&v>=0?T=T+this.stride[0]*v|0:(f.push(this.shape[0]),S.push(this.stride[0])),typeof m=="number"&&m>=0?T=T+this.stride[1]*m|0:(f.push(this.shape[1]),S.push(this.stride[1])),typeof w=="number"&&w>=0?T=T+this.stride[2]*w|0:(f.push(this.shape[2]),S.push(this.stride[2])),(0,b[f.length+1])(this.data,f,S,T)},function(v,m,w,f){return new h(v,m[0],m[1],m[2],w[0],w[1],w[2],f)}},4:function(c,b,g){function h(v,m,w,f,S,T,E,L,C,P){this.data=v,this.shape=[m,w,f,S],this.stride=[T,E,L,C],this.offset=0|P}var x=h.prototype;return x.dtype=c,x.dimension=4,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]}}),Object.defineProperty(x,"order",{get:g}),x.set=function(v,m,w,f,S){return c==="generic"?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f,S):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f]=S},x.get=function(v,m,w,f){return c==="generic"?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f]},x.index=function(v,m,w,f){return this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f},x.hi=function(v,m,w,f){return new h(this.data,typeof v!="number"||v<0?this.shape[0]:0|v,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,typeof f!="number"||f<0?this.shape[3]:0|f,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.offset)},x.lo=function(v,m,w,f){var S=this.offset,T=0,E=this.shape[0],L=this.shape[1],C=this.shape[2],P=this.shape[3],R=this.stride[0],G=this.stride[1],I=this.stride[2],H=this.stride[3];return typeof v=="number"&&v>=0&&(S+=R*(T=0|v),E-=T),typeof m=="number"&&m>=0&&(S+=G*(T=0|m),L-=T),typeof w=="number"&&w>=0&&(S+=I*(T=0|w),C-=T),typeof f=="number"&&f>=0&&(S+=H*(T=0|f),P-=T),new h(this.data,E,L,C,P,R,G,I,H,S)},x.step=function(v,m,w,f){var S=this.shape[0],T=this.shape[1],E=this.shape[2],L=this.shape[3],C=this.stride[0],P=this.stride[1],R=this.stride[2],G=this.stride[3],I=this.offset,H=0,N=Math.ceil;return typeof v=="number"&&((H=0|v)<0?(I+=C*(S-1),S=N(-S/H)):S=N(S/H),C*=H),typeof m=="number"&&((H=0|m)<0?(I+=P*(T-1),T=N(-T/H)):T=N(T/H),P*=H),typeof w=="number"&&((H=0|w)<0?(I+=R*(E-1),E=N(-E/H)):E=N(E/H),R*=H),typeof f=="number"&&((H=0|f)<0?(I+=G*(L-1),L=N(-L/H)):L=N(L/H),G*=H),new h(this.data,S,T,E,L,C,P,R,G,I)},x.transpose=function(v,m,w,f){v=v===void 0?0:0|v,m=m===void 0?1:0|m,w=w===void 0?2:0|w,f=f===void 0?3:0|f;var S=this.shape,T=this.stride;return new h(this.data,S[v],S[m],S[w],S[f],T[v],T[m],T[w],T[f],this.offset)},x.pick=function(v,m,w,f){var S=[],T=[],E=this.offset;return typeof v=="number"&&v>=0?E=E+this.stride[0]*v|0:(S.push(this.shape[0]),T.push(this.stride[0])),typeof m=="number"&&m>=0?E=E+this.stride[1]*m|0:(S.push(this.shape[1]),T.push(this.stride[1])),typeof w=="number"&&w>=0?E=E+this.stride[2]*w|0:(S.push(this.shape[2]),T.push(this.stride[2])),typeof f=="number"&&f>=0?E=E+this.stride[3]*f|0:(S.push(this.shape[3]),T.push(this.stride[3])),(0,b[S.length+1])(this.data,S,T,E)},function(v,m,w,f){return new h(v,m[0],m[1],m[2],m[3],w[0],w[1],w[2],w[3],f)}},5:function(c,b,g){function h(v,m,w,f,S,T,E,L,C,P,R,G){this.data=v,this.shape=[m,w,f,S,T],this.stride=[E,L,C,P,R],this.offset=0|G}var x=h.prototype;return x.dtype=c,x.dimension=5,Object.defineProperty(x,"size",{get:function(){return this.shape[0]*this.shape[1]*this.shape[2]*this.shape[3]*this.shape[4]}}),Object.defineProperty(x,"order",{get:g}),x.set=function(v,m,w,f,S,T){return c==="generic"?this.data.set(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S,T):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S]=T},x.get=function(v,m,w,f,S){return c==="generic"?this.data.get(this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S):this.data[this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S]},x.index=function(v,m,w,f,S){return this.offset+this.stride[0]*v+this.stride[1]*m+this.stride[2]*w+this.stride[3]*f+this.stride[4]*S},x.hi=function(v,m,w,f,S){return new h(this.data,typeof v!="number"||v<0?this.shape[0]:0|v,typeof m!="number"||m<0?this.shape[1]:0|m,typeof w!="number"||w<0?this.shape[2]:0|w,typeof f!="number"||f<0?this.shape[3]:0|f,typeof S!="number"||S<0?this.shape[4]:0|S,this.stride[0],this.stride[1],this.stride[2],this.stride[3],this.stride[4],this.offset)},x.lo=function(v,m,w,f,S){var T=this.offset,E=0,L=this.shape[0],C=this.shape[1],P=this.shape[2],R=this.shape[3],G=this.shape[4],I=this.stride[0],H=this.stride[1],N=this.stride[2],B=this.stride[3],V=this.stride[4];return typeof v=="number"&&v>=0&&(T+=I*(E=0|v),L-=E),typeof m=="number"&&m>=0&&(T+=H*(E=0|m),C-=E),typeof w=="number"&&w>=0&&(T+=N*(E=0|w),P-=E),typeof f=="number"&&f>=0&&(T+=B*(E=0|f),R-=E),typeof S=="number"&&S>=0&&(T+=V*(E=0|S),G-=E),new h(this.data,L,C,P,R,G,I,H,N,B,V,T)},x.step=function(v,m,w,f,S){var T=this.shape[0],E=this.shape[1],L=this.shape[2],C=this.shape[3],P=this.shape[4],R=this.stride[0],G=this.stride[1],I=this.stride[2],H=this.stride[3],N=this.stride[4],B=this.offset,V=0,q=Math.ceil;return typeof v=="number"&&((V=0|v)<0?(B+=R*(T-1),T=q(-T/V)):T=q(T/V),R*=V),typeof m=="number"&&((V=0|m)<0?(B+=G*(E-1),E=q(-E/V)):E=q(E/V),G*=V),typeof w=="number"&&((V=0|w)<0?(B+=I*(L-1),L=q(-L/V)):L=q(L/V),I*=V),typeof f=="number"&&((V=0|f)<0?(B+=H*(C-1),C=q(-C/V)):C=q(C/V),H*=V),typeof S=="number"&&((V=0|S)<0?(B+=N*(P-1),P=q(-P/V)):P=q(P/V),N*=V),new h(this.data,T,E,L,C,P,R,G,I,H,N,B)},x.transpose=function(v,m,w,f,S){v=v===void 0?0:0|v,m=m===void 0?1:0|m,w=w===void 0?2:0|w,f=f===void 0?3:0|f,S=S===void 0?4:0|S;var T=this.shape,E=this.stride;return new h(this.data,T[v],T[m],T[w],T[f],T[S],E[v],E[m],E[w],E[f],E[S],this.offset)},x.pick=function(v,m,w,f,S){var T=[],E=[],L=this.offset;return typeof v=="number"&&v>=0?L=L+this.stride[0]*v|0:(T.push(this.shape[0]),E.push(this.stride[0])),typeof m=="number"&&m>=0?L=L+this.stride[1]*m|0:(T.push(this.shape[1]),E.push(this.stride[1])),typeof w=="number"&&w>=0?L=L+this.stride[2]*w|0:(T.push(this.shape[2]),E.push(this.stride[2])),typeof f=="number"&&f>=0?L=L+this.stride[3]*f|0:(T.push(this.shape[3]),E.push(this.stride[3])),typeof S=="number"&&S>=0?L=L+this.stride[4]*S|0:(T.push(this.shape[4]),E.push(this.stride[4])),(0,b[T.length+1])(this.data,T,E,L)},function(v,m,w,f){return new h(v,m[0],m[1],m[2],m[3],m[4],w[0],w[1],w[2],w[3],w[4],f)}}};function u(c,b){var g=b===-1?"T":String(b),h=o[g];return b===-1?h(c):b===0?h(c,p[c][0]):h(c,p[c],l)}var p={generic:[],buffer:[],array:[],float32:[],float64:[],int8:[],int16:[],int32:[],uint8_clamped:[],uint8:[],uint16:[],uint32:[],bigint64:[],biguint64:[]};d.exports=function(c,b,g,h){if(c===void 0)return(0,p.array[0])([]);typeof c=="number"&&(c=[c]),b===void 0&&(b=[c.length]);var x=b.length;if(g===void 0){g=new Array(x);for(var v=x-1,m=1;v>=0;--v)g[v]=m,m*=b[v]}if(h===void 0)for(h=0,v=0;v<x;++v)g[v]<0&&(h-=(b[v]-1)*g[v]);for(var w=function(S){if(i(S))return"buffer";if(r)switch(Object.prototype.toString.call(S)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(S)?"array":"generic"}(c),f=p[w];f.length<=x+1;)f.push(u(w,f.length-1));return(0,f[x+1])(c,b,g,h)}},8551:function(d,s,t){var i=t(8362),r=Math.pow(2,-1074),n=-1>>>0;d.exports=function(l,o){if(isNaN(l)||isNaN(o))return NaN;if(l===o)return l;if(l===0)return o<0?-r:r;var u=i.hi(l),p=i.lo(l);return o>l==l>0?p===n?(u+=1,p=0):p+=1:p===0?(p=n,u-=1):p-=1,i.pack(p,u)}},115:function(d,s){s.vertexNormals=function(t,i,r){for(var n=i.length,l=new Array(n),o=r===void 0?1e-6:r,u=0;u<n;++u)l[u]=[0,0,0];for(u=0;u<t.length;++u)for(var p=t[u],c=0,b=p[p.length-1],g=p[0],h=0;h<p.length;++h){c=b,b=g,g=p[(h+1)%p.length];for(var x=i[c],v=i[b],m=i[g],w=new Array(3),f=0,S=new Array(3),T=0,E=0;E<3;++E)w[E]=x[E]-v[E],f+=w[E]*w[E],S[E]=m[E]-v[E],T+=S[E]*S[E];if(f*T>o){var L=l[b],C=1/Math.sqrt(f*T);for(E=0;E<3;++E){var P=(E+1)%3,R=(E+2)%3;L[E]+=C*(S[P]*w[R]-S[R]*w[P])}}}for(u=0;u<n;++u){L=l[u];var G=0;for(E=0;E<3;++E)G+=L[E]*L[E];if(G>o)for(C=1/Math.sqrt(G),E=0;E<3;++E)L[E]*=C;else for(E=0;E<3;++E)L[E]=0}return l},s.faceNormals=function(t,i,r){for(var n=t.length,l=new Array(n),o=r===void 0?1e-6:r,u=0;u<n;++u){for(var p=t[u],c=new Array(3),b=0;b<3;++b)c[b]=i[p[b]];var g=new Array(3),h=new Array(3);for(b=0;b<3;++b)g[b]=c[1][b]-c[0][b],h[b]=c[2][b]-c[0][b];var x=new Array(3),v=0;for(b=0;b<3;++b){var m=(b+1)%3,w=(b+2)%3;x[b]=g[m]*h[w]-g[w]*h[m],v+=x[b]*x[b]}for(v=v>o?1/Math.sqrt(v):0,b=0;b<3;++b)x[b]*=v;l[u]=x}return l}},567:function(d){d.exports=function(s,t,i,r,n,l,o,u,p,c){var b=t+l+c;if(g>0){var g=Math.sqrt(b+1);s[0]=.5*(o-p)/g,s[1]=.5*(u-r)/g,s[2]=.5*(i-l)/g,s[3]=.5*g}else{var h=Math.max(t,l,c);g=Math.sqrt(2*h-b+1),t>=h?(s[0]=.5*g,s[1]=.5*(n+i)/g,s[2]=.5*(u+r)/g,s[3]=.5*(o-p)/g):l>=h?(s[0]=.5*(i+n)/g,s[1]=.5*g,s[2]=.5*(p+o)/g,s[3]=.5*(u-r)/g):(s[0]=.5*(r+u)/g,s[1]=.5*(o+p)/g,s[2]=.5*g,s[3]=.5*(i-n)/g)}return s}},7774:function(d,s,t){d.exports=function(h){var x=(h=h||{}).center||[0,0,0],v=h.rotation||[0,0,0,1],m=h.radius||1;x=[].slice.call(x,0,3),c(v=[].slice.call(v,0,4),v);var w=new b(v,x,Math.log(m));return w.setDistanceLimits(h.zoomMin,h.zoomMax),("eye"in h||"up"in h)&&w.lookAt(0,h.eye,h.center,h.up),w};var i=t(8444),r=t(3012),n=t(5950),l=t(7437),o=t(567);function u(h,x,v){return Math.sqrt(Math.pow(h,2)+Math.pow(x,2)+Math.pow(v,2))}function p(h,x,v,m){return Math.sqrt(Math.pow(h,2)+Math.pow(x,2)+Math.pow(v,2)+Math.pow(m,2))}function c(h,x){var v=x[0],m=x[1],w=x[2],f=x[3],S=p(v,m,w,f);S>1e-6?(h[0]=v/S,h[1]=m/S,h[2]=w/S,h[3]=f/S):(h[0]=h[1]=h[2]=0,h[3]=1)}function b(h,x,v){this.radius=i([v]),this.center=i(x),this.rotation=i(h),this.computedRadius=this.radius.curve(0),this.computedCenter=this.center.curve(0),this.computedRotation=this.rotation.curve(0),this.computedUp=[.1,0,0],this.computedEye=[.1,0,0],this.computedMatrix=[.1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.recalcMatrix(0)}var g=b.prototype;g.lastT=function(){return Math.max(this.radius.lastT(),this.center.lastT(),this.rotation.lastT())},g.recalcMatrix=function(h){this.radius.curve(h),this.center.curve(h),this.rotation.curve(h);var x=this.computedRotation;c(x,x);var v=this.computedMatrix;n(v,x);var m=this.computedCenter,w=this.computedEye,f=this.computedUp,S=Math.exp(this.computedRadius[0]);w[0]=m[0]+S*v[2],w[1]=m[1]+S*v[6],w[2]=m[2]+S*v[10],f[0]=v[1],f[1]=v[5],f[2]=v[9];for(var T=0;T<3;++T){for(var E=0,L=0;L<3;++L)E+=v[T+4*L]*w[L];v[12+T]=-E}},g.getMatrix=function(h,x){this.recalcMatrix(h);var v=this.computedMatrix;if(x){for(var m=0;m<16;++m)x[m]=v[m];return x}return v},g.idle=function(h){this.center.idle(h),this.radius.idle(h),this.rotation.idle(h)},g.flush=function(h){this.center.flush(h),this.radius.flush(h),this.rotation.flush(h)},g.pan=function(h,x,v,m){x=x||0,v=v||0,m=m||0,this.recalcMatrix(h);var w=this.computedMatrix,f=w[1],S=w[5],T=w[9],E=u(f,S,T);f/=E,S/=E,T/=E;var L=w[0],C=w[4],P=w[8],R=L*f+C*S+P*T,G=u(L-=f*R,C-=S*R,P-=T*R);L/=G,C/=G,P/=G,w[2],w[6],w[10];var I=L*x+f*v,H=C*x+S*v,N=P*x+T*v;this.center.move(h,I,H,N);var B=Math.exp(this.computedRadius[0]);B=Math.max(1e-4,B+m),this.radius.set(h,Math.log(B))},g.rotate=function(h,x,v,m){this.recalcMatrix(h),x=x||0,v=v||0;var w=this.computedMatrix,f=w[0],S=w[4],T=w[8],E=w[1],L=w[5],C=w[9],P=w[2],R=w[6],G=w[10],I=x*f+v*E,H=x*S+v*L,N=x*T+v*C,B=-(R*N-G*H),V=-(G*I-P*N),q=-(P*H-R*I),te=Math.sqrt(Math.max(0,1-Math.pow(B,2)-Math.pow(V,2)-Math.pow(q,2))),$=p(B,V,q,te);$>1e-6?(B/=$,V/=$,q/=$,te/=$):(B=V=q=0,te=1);var K=this.computedRotation,Z=K[0],X=K[1],ee=K[2],ne=K[3],re=Z*te+ne*B+X*q-ee*V,ae=X*te+ne*V+ee*B-Z*q,ue=ee*te+ne*q+Z*V-X*B,pe=ne*te-Z*B-X*V-ee*q;if(m){B=P,V=R,q=G;var ge=Math.sin(m)/u(B,V,q);B*=ge,V*=ge,q*=ge,pe=pe*(te=Math.cos(x))-(re=re*te+pe*B+ae*q-ue*V)*B-(ae=ae*te+pe*V+ue*B-re*q)*V-(ue=ue*te+pe*q+re*V-ae*B)*q}var we=p(re,ae,ue,pe);we>1e-6?(re/=we,ae/=we,ue/=we,pe/=we):(re=ae=ue=0,pe=1),this.rotation.set(h,re,ae,ue,pe)},g.lookAt=function(h,x,v,m){this.recalcMatrix(h),v=v||this.computedCenter,x=x||this.computedEye,m=m||this.computedUp;var w=this.computedMatrix;r(w,x,v,m);var f=this.computedRotation;o(f,w[0],w[1],w[2],w[4],w[5],w[6],w[8],w[9],w[10]),c(f,f),this.rotation.set(h,f[0],f[1],f[2],f[3]);for(var S=0,T=0;T<3;++T)S+=Math.pow(v[T]-x[T],2);this.radius.set(h,.5*Math.log(Math.max(S,1e-6))),this.center.set(h,v[0],v[1],v[2])},g.translate=function(h,x,v,m){this.center.move(h,x||0,v||0,m||0)},g.setMatrix=function(h,x){var v=this.computedRotation;o(v,x[0],x[1],x[2],x[4],x[5],x[6],x[8],x[9],x[10]),c(v,v),this.rotation.set(h,v[0],v[1],v[2],v[3]);var m=this.computedMatrix;l(m,x);var w=m[15];if(Math.abs(w)>1e-6){var f=m[12]/w,S=m[13]/w,T=m[14]/w;this.recalcMatrix(h);var E=Math.exp(this.computedRadius[0]);this.center.set(h,f-m[2]*E,S-m[6]*E,T-m[10]*E),this.radius.idle(h)}else this.center.idle(h),this.radius.idle(h)},g.setDistance=function(h,x){x>0&&this.radius.set(h,Math.log(x))},g.setDistanceLimits=function(h,x){h=h>0?Math.log(h):-1/0,x=x>0?Math.log(x):1/0,x=Math.max(x,h),this.radius.bounds[0][0]=h,this.radius.bounds[1][0]=x},g.getDistanceLimits=function(h){var x=this.radius.bounds;return h?(h[0]=Math.exp(x[0][0]),h[1]=Math.exp(x[1][0]),h):[Math.exp(x[0][0]),Math.exp(x[1][0])]},g.toJSON=function(){return this.recalcMatrix(this.lastT()),{center:this.computedCenter.slice(),rotation:this.computedRotation.slice(),distance:Math.log(this.computedRadius[0]),zoomMin:this.radius.bounds[0][0],zoomMax:this.radius.bounds[1][0]}},g.fromJSON=function(h){var x=this.lastT(),v=h.center;v&&this.center.set(x,v[0],v[1],v[2]);var m=h.rotation;m&&this.rotation.set(x,m[0],m[1],m[2],m[3]);var w=h.distance;w&&w>0&&this.radius.set(x,Math.log(w)),this.setDistanceLimits(h.zoomMin,h.zoomMax)}},4930:function(d,s,t){var i=t(6184);d.exports=function(r,n,l){return i(l=l!==void 0?l+"":" ",n)+r}},4405:function(d){d.exports=function(s,t){t||(t=[0,""]),s=String(s);var i=parseFloat(s,10);return t[0]=i,t[1]=s.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},4166:function(d,s,t){d.exports=function(r,n){for(var l=0|n.length,o=r.length,u=[new Array(l),new Array(l)],p=0;p<l;++p)u[0][p]=[],u[1][p]=[];for(p=0;p<o;++p){var c=r[p];u[0][c[0]].push(c),u[1][c[1]].push(c)}var b=[];for(p=0;p<l;++p)u[0][p].length+u[1][p].length===0&&b.push([p]);function g(S,T){var E=u[T][S[T]];E.splice(E.indexOf(S),1)}function h(S,T,E){for(var L,C,P,R=0;R<2;++R)if(u[R][T].length>0){L=u[R][T][0],P=R;break}C=L[1^P];for(var G=0;G<2;++G)for(var I=u[G][T],H=0;H<I.length;++H){var N=I[H],B=N[1^G];i(n[S],n[T],n[C],n[B])>0&&(L=N,C=B,P=G)}return E||L&&g(L,P),C}function x(S,T){var E=u[T][S][0],L=[S];g(E,T);for(var C=E[1^T];;){for(;C!==S;)L.push(C),C=h(L[L.length-2],C,!1);if(u[0][S].length+u[1][S].length===0)break;var P=L[L.length-1],R=S,G=L[1],I=h(P,R,!0);if(i(n[P],n[R],n[G],n[I])<0)break;L.push(S),C=h(P,R)}return L}function v(S,T){return T[1]===T[T.length-1]}for(p=0;p<l;++p)for(var m=0;m<2;++m){for(var w=[];u[m][p].length>0;){u[0][p].length;var f=x(p,m);v(0,f)?w.push.apply(w,f):(w.length>0&&b.push(w),w=f)}w.length>0&&b.push(w)}return b};var i=t(9398)},3959:function(d,s,t){d.exports=function(r,n){for(var l=i(r,n.length),o=new Array(n.length),u=new Array(n.length),p=[],c=0;c<n.length;++c){var b=l[c].length;u[c]=b,o[c]=!0,b<=1&&p.push(c)}for(;p.length>0;){o[m=p.pop()]=!1;var g=l[m];for(c=0;c<g.length;++c){var h=g[c];--u[h]==0&&p.push(h)}}var x=new Array(n.length),v=[];for(c=0;c<n.length;++c)if(o[c]){var m=v.length;x[c]=m,v.push(n[c])}else x[c]=-1;var w=[];for(c=0;c<r.length;++c){var f=r[c];o[f[0]]&&o[f[1]]&&w.push([x[f[0]],x[f[1]]])}return[w,v]};var i=t(8348)},8040:function(d,s,t){d.exports=function(b,g){var h=p(b,g);b=h[0];for(var x=(g=h[1]).length,v=(b.length,i(b,g.length)),m=0;m<x;++m)if(v[m].length%2==1)throw new Error("planar-graph-to-polyline: graph must be manifold");var w=r(b,g),f=(w=w.filter(function(Ie){for(var Se=Ie.length,ke=[0],se=0;se<Se;++se){var oe=g[Ie[se]],he=g[Ie[(se+1)%Se]],Le=l(-oe[0],oe[1]),Me=l(-oe[0],he[1]),_e=l(he[0],oe[1]),De=l(he[0],he[1]);ke=o(ke,o(o(Le,Me),o(_e,De)))}return ke[ke.length-1]>0})).length,S=new Array(f),T=new Array(f);for(m=0;m<f;++m){S[m]=m;var E=new Array(f),L=w[m].map(function(Ie){return g[Ie]}),C=n([L]),P=0;e:for(var R=0;R<f;++R)if(E[R]=0,m!==R){for(var G=(me=w[R]).length,I=0;I<G;++I){var H=C(g[me[I]]);if(H!==0){H<0&&(E[R]=1,P+=1);continue e}}E[R]=1,P+=1}T[m]=[P,m,E]}for(T.sort(function(Ie,Se){return Se[0]-Ie[0]}),m=0;m<f;++m){var N=(E=T[m])[1],B=E[2];for(R=0;R<f;++R)B[R]&&(S[R]=N)}var V=function(Ie){for(var Se=new Array(Ie),ke=0;ke<Ie;++ke)Se[ke]=[];return Se}(f);for(m=0;m<f;++m)V[m].push(S[m]),V[S[m]].push(m);var q={},te=c(x,!1);for(m=0;m<f;++m)for(G=(me=w[m]).length,R=0;R<G;++R){var $=me[R],K=me[(R+1)%G],Z=Math.min($,K)+":"+Math.max($,K);if(Z in q){var X=q[Z];V[X].push(m),V[m].push(X),te[$]=te[K]=!0}else q[Z]=m}function ee(Ie){for(var Se=Ie.length,ke=0;ke<Se;++ke)if(!te[Ie[ke]])return!1;return!0}var ne=[],re=c(f,-1);for(m=0;m<f;++m)S[m]!==m||ee(w[m])?re[m]=-1:(ne.push(m),re[m]=0);for(h=[];ne.length>0;){var ae=ne.pop(),ue=V[ae];u(ue,function(Ie,Se){return Ie-Se});var pe,ge=ue.length,we=re[ae];for(we===0&&(pe=[me=w[ae]]),m=0;m<ge;++m){var me,ve=ue[m];re[ve]>=0||(re[ve]=1^we,ne.push(ve),we===0&&(ee(me=w[ve])||(me.reverse(),pe.push(me))))}we===0&&h.push(pe)}return h};var i=t(8348),r=t(4166),n=t(211),l=t(9660),o=t(9662),u=t(1215),p=t(3959);function c(b,g){for(var h=new Array(b),x=0;x<b;++x)h[x]=g;return h}},211:function(d,s,t){d.exports=function(c){for(var b=c.length,g=[],h=[],x=0;x<b;++x)for(var v=c[x],m=v.length,w=m-1,f=0;f<m;w=f++){var S=v[w],T=v[f];S[0]===T[0]?h.push([S,T]):g.push([S,T])}if(g.length===0)return h.length===0?p:(E=u(h),function(P){return E(P[0],P[1])?0:1});var E,L=r(g),C=function(P,R){return function(G){var I=l.le(R,G[0]);if(I<0)return 1;var H=P[I];if(!H){if(!(I>0&&R[I]===G[0]))return 1;H=P[I-1]}for(var N=1;H;){var B=H.key,V=i(G,B[0],B[1]);if(B[0][0]<B[1][0])if(V<0)H=H.left;else{if(!(V>0))return 0;N=-1,H=H.right}else if(V>0)H=H.left;else{if(!(V<0))return 0;N=1,H=H.right}}return N}}(L.slabs,L.coordinates);return h.length===0?C:function(P,R){return function(G){return P(G[0],G[1])?0:R(G)}}(u(h),C)};var i=t(417)[3],r=t(4385),n=t(9014),l=t(5070);function o(){return!0}function u(c){for(var b={},g=0;g<c.length;++g){var h=c[g],x=h[0][0],v=h[0][1],m=h[1][1],w=[Math.min(v,m),Math.max(v,m)];x in b?b[x].push(w):b[x]=[w]}var f={},S=Object.keys(b);for(g=0;g<S.length;++g){var T=b[S[g]];f[S[g]]=n(T)}return function(E){return function(L,C){var P=E[L];return!!P&&!!P.queryPoint(C,o)}}(f)}function p(c){return 1}},7309:function(d){var s=new Float64Array(4),t=new Float64Array(4),i=new Float64Array(4);d.exports=function(r,n,l,o,u){s.length<o.length&&(s=new Float64Array(o.length),t=new Float64Array(o.length),i=new Float64Array(o.length));for(var p=0;p<o.length;++p)s[p]=r[p]-o[p],t[p]=n[p]-r[p],i[p]=l[p]-r[p];var c=0,b=0,g=0,h=0,x=0,v=0;for(p=0;p<o.length;++p){var m=t[p],w=i[p],f=s[p];c+=m*m,b+=m*w,g+=w*w,h+=f*m,x+=f*w,v+=f*f}var S,T,E,L,C,P=Math.abs(c*g-b*b),R=b*x-g*h,G=b*h-c*x;if(R+G<=P)if(R<0)G<0&&h<0?(G=0,-h>=c?(R=1,S=c+2*h+v):S=h*(R=-h/c)+v):(R=0,x>=0?(G=0,S=v):-x>=g?(G=1,S=g+2*x+v):S=x*(G=-x/g)+v);else if(G<0)G=0,h>=0?(R=0,S=v):-h>=c?(R=1,S=c+2*h+v):S=h*(R=-h/c)+v;else{var I=1/P;S=(R*=I)*(c*R+b*(G*=I)+2*h)+G*(b*R+g*G+2*x)+v}else R<0?(E=g+x)>(T=b+h)?(L=E-T)>=(C=c-2*b+g)?(R=1,G=0,S=c+2*h+v):S=(R=L/C)*(c*R+b*(G=1-R)+2*h)+G*(b*R+g*G+2*x)+v:(R=0,E<=0?(G=1,S=g+2*x+v):x>=0?(G=0,S=v):S=x*(G=-x/g)+v):G<0?(E=c+h)>(T=b+x)?(L=E-T)>=(C=c-2*b+g)?(G=1,R=0,S=g+2*x+v):S=(R=1-(G=L/C))*(c*R+b*G+2*h)+G*(b*R+g*G+2*x)+v:(G=0,E<=0?(R=1,S=c+2*h+v):h>=0?(R=0,S=v):S=h*(R=-h/c)+v):(L=g+x-b-h)<=0?(R=0,G=1,S=g+2*x+v):L>=(C=c-2*b+g)?(R=1,G=0,S=c+2*h+v):S=(R=L/C)*(c*R+b*(G=1-R)+2*h)+G*(b*R+g*G+2*x)+v;var H=1-R-G;for(p=0;p<o.length;++p)u[p]=H*r[p]+R*n[p]+G*l[p];return S<0?0:S}},1116:function(d,s,t){d.exports=t(6093)},7584:function(d,s,t){var i=t(1539);d.exports=function(r,n){for(var l=r.length,o=new Array(l),u=0;u<l;++u)o[u]=i(r[u],n[u]);return o}},2826:function(d,s,t){d.exports=function(r){for(var n=new Array(r.length),l=0;l<r.length;++l)n[l]=i(r[l]);return n};var i=t(5125)},4469:function(d,s,t){var i=t(5125),r=t(3962);d.exports=function(n,l){for(var o=i(l),u=n.length,p=new Array(u),c=0;c<u;++c)p[c]=r(n[c],o);return p}},6695:function(d,s,t){var i=t(4354);d.exports=function(r,n){for(var l=r.length,o=new Array(l),u=0;u<l;++u)o[u]=i(r[u],n[u]);return o}},7037:function(d,s,t){var i=t(9209),r=t(1284),n=t(9887);d.exports=function(l){l.sort(r);for(var o=l.length,u=0,p=0;p<o;++p){var c=l[p],b=n(c);if(b!==0){if(u>0){var g=l[u-1];if(i(c,g)===0&&n(g)!==b){u-=1;continue}}l[u++]=c}}return l.length=u,l}},6184:function(d){var s,t="";d.exports=function(i,r){if(typeof i!="string")throw new TypeError("expected a string");if(r===1)return i;if(r===2)return i+i;var n=i.length*r;if(s!==i||s===void 0)s=i,t="";else if(t.length>=n)return t.substr(0,n);for(;n>t.length&&r>1;)1&r&&(t+=i),r>>=1,i+=i;return t=(t+=i).substr(0,n)}},8161:function(d,s,t){d.exports=t.g.performance&&t.g.performance.now?function(){return performance.now()}:Date.now||function(){return+new Date}},402:function(d){d.exports=function(s){for(var t=s.length,i=s[s.length-1],r=t,n=t-2;n>=0;--n){var l=i;(p=(u=s[n])-((i=l+u)-l))&&(s[--r]=i,i=p)}var o=0;for(n=r;n<t;++n){var u,p;(p=(u=i)-((i=(l=s[n])+u)-l))&&(s[o++]=p)}return s[o++]=i,s.length=o,s}},8167:function(d,s,t){var i=t(9660),r=t(9662),n=t(8289),l=t(402);function o(x,v,m,w){return function(f){return w(x(m(f[0][0],f[1][1]),m(-f[0][1],f[1][0])))}}function u(x,v,m,w){return function(f){return w(x(v(x(m(f[1][1],f[2][2]),m(-f[1][2],f[2][1])),f[0][0]),x(v(x(m(f[1][0],f[2][2]),m(-f[1][2],f[2][0])),-f[0][1]),v(x(m(f[1][0],f[2][1]),m(-f[1][1],f[2][0])),f[0][2]))))}}function p(x,v,m,w){return function(f){return w(x(x(v(x(v(x(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][1]),x(v(x(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),-f[1][2]),v(x(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][3]))),f[0][0]),v(x(v(x(m(f[2][2],f[3][3]),m(-f[2][3],f[3][2])),f[1][0]),x(v(x(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][2]),v(x(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),f[1][3]))),-f[0][1])),x(v(x(v(x(m(f[2][1],f[3][3]),m(-f[2][3],f[3][1])),f[1][0]),x(v(x(m(f[2][0],f[3][3]),m(-f[2][3],f[3][0])),-f[1][1]),v(x(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][3]))),f[0][2]),v(x(v(x(m(f[2][1],f[3][2]),m(-f[2][2],f[3][1])),f[1][0]),x(v(x(m(f[2][0],f[3][2]),m(-f[2][2],f[3][0])),-f[1][1]),v(x(m(f[2][0],f[3][1]),m(-f[2][1],f[3][0])),f[1][2]))),-f[0][3]))))}}function c(x,v,m,w){return function(f){return w(x(x(v(x(x(v(x(v(x(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),x(v(x(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),v(x(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][1]),v(x(v(x(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),x(v(x(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),v(x(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),-f[1][2])),x(v(x(v(x(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),x(v(x(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),v(x(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][3]),v(x(v(x(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),x(v(x(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),v(x(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),-f[1][4]))),f[0][0]),v(x(x(v(x(v(x(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][2]),x(v(x(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),-f[2][3]),v(x(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][4]))),f[1][0]),v(x(v(x(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),x(v(x(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),v(x(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][2])),x(v(x(v(x(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),x(v(x(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),v(x(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),f[1][3]),v(x(v(x(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),x(v(x(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),v(x(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][4]))),-f[0][1])),x(v(x(x(v(x(v(x(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][1]),x(v(x(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][3]),v(x(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][4]))),f[1][0]),v(x(v(x(m(f[3][3],f[4][4]),m(-f[3][4],f[4][3])),f[2][0]),x(v(x(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][3]),v(x(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),f[2][4]))),-f[1][1])),x(v(x(v(x(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),x(v(x(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),v(x(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][3]),v(x(v(x(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),x(v(x(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),v(x(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),-f[1][4]))),f[0][2]),x(v(x(x(v(x(v(x(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][1]),x(v(x(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),-f[2][2]),v(x(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][4]))),f[1][0]),v(x(v(x(m(f[3][2],f[4][4]),m(-f[3][4],f[4][2])),f[2][0]),x(v(x(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][2]),v(x(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][4]))),-f[1][1])),x(v(x(v(x(m(f[3][1],f[4][4]),m(-f[3][4],f[4][1])),f[2][0]),x(v(x(m(f[3][0],f[4][4]),m(-f[3][4],f[4][0])),-f[2][1]),v(x(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][4]))),f[1][2]),v(x(v(x(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),x(v(x(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),v(x(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][4]))),-f[0][3]),v(x(x(v(x(v(x(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][1]),x(v(x(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),-f[2][2]),v(x(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][3]))),f[1][0]),v(x(v(x(m(f[3][2],f[4][3]),m(-f[3][3],f[4][2])),f[2][0]),x(v(x(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][2]),v(x(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),f[2][3]))),-f[1][1])),x(v(x(v(x(m(f[3][1],f[4][3]),m(-f[3][3],f[4][1])),f[2][0]),x(v(x(m(f[3][0],f[4][3]),m(-f[3][3],f[4][0])),-f[2][1]),v(x(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][3]))),f[1][2]),v(x(v(x(m(f[3][1],f[4][2]),m(-f[3][2],f[4][1])),f[2][0]),x(v(x(m(f[3][0],f[4][2]),m(-f[3][2],f[4][0])),-f[2][1]),v(x(m(f[3][0],f[4][1]),m(-f[3][1],f[4][0])),f[2][2]))),-f[1][3]))),f[0][4])))))}}function b(x){return(x===2?o:x===3?u:x===4?p:x===5?c:void 0)(r,n,i,l)}var g=[function(){return[0]},function(x){return[x[0][0]]}];function h(x,v,m,w,f,S,T,E){return function(L){switch(L.length){case 0:return x(L);case 1:return v(L);case 2:return m(L);case 3:return w(L);case 4:return f(L);case 5:return S(L)}var C=T[L.length];return C||(C=T[L.length]=E(L.length)),C(L)}}(function(){for(;g.length<6;)g.push(b(g.length));d.exports=h.apply(void 0,g.concat([g,b]));for(var x=0;x<g.length;++x)d.exports[x]=g[x]})()},9130:function(d,s,t){var i=t(9660),r=t(9662);d.exports=function(n,l){for(var o=i(n[0],l[0]),u=1;u<n.length;++u)o=r(o,i(n[u],l[u]));return o}},2227:function(d,s,t){var i=t(9660),r=t(9662),n=t(4078),l=t(8289);function o(v){return(v===3?u:v===4?p:v===5?c:b)(r,n,i,l)}function u(v,m,w,f){return function(S,T,E){var L=w(S[0],S[0]),C=f(L,T[0]),P=f(L,E[0]),R=w(T[0],T[0]),G=f(R,S[0]),I=f(R,E[0]),H=w(E[0],E[0]),N=f(H,S[0]),B=f(H,T[0]),V=v(m(B,I),m(G,C)),q=m(N,P),te=m(V,q);return te[te.length-1]}}function p(v,m,w,f){return function(S,T,E,L){var C=v(w(S[0],S[0]),w(S[1],S[1])),P=f(C,T[0]),R=f(C,E[0]),G=f(C,L[0]),I=v(w(T[0],T[0]),w(T[1],T[1])),H=f(I,S[0]),N=f(I,E[0]),B=f(I,L[0]),V=v(w(E[0],E[0]),w(E[1],E[1])),q=f(V,S[0]),te=f(V,T[0]),$=f(V,L[0]),K=v(w(L[0],L[0]),w(L[1],L[1])),Z=f(K,S[0]),X=f(K,T[0]),ee=f(K,E[0]),ne=v(v(f(m(ee,$),T[1]),v(f(m(X,B),-E[1]),f(m(te,N),L[1]))),v(f(m(X,B),S[1]),v(f(m(Z,G),-T[1]),f(m(H,P),L[1])))),re=v(v(f(m(ee,$),S[1]),v(f(m(Z,G),-E[1]),f(m(q,R),L[1]))),v(f(m(te,N),S[1]),v(f(m(q,R),-T[1]),f(m(H,P),E[1])))),ae=m(ne,re);return ae[ae.length-1]}}function c(v,m,w,f){return function(S,T,E,L,C){var P=v(w(S[0],S[0]),v(w(S[1],S[1]),w(S[2],S[2]))),R=f(P,T[0]),G=f(P,E[0]),I=f(P,L[0]),H=f(P,C[0]),N=v(w(T[0],T[0]),v(w(T[1],T[1]),w(T[2],T[2]))),B=f(N,S[0]),V=f(N,E[0]),q=f(N,L[0]),te=f(N,C[0]),$=v(w(E[0],E[0]),v(w(E[1],E[1]),w(E[2],E[2]))),K=f($,S[0]),Z=f($,T[0]),X=f($,L[0]),ee=f($,C[0]),ne=v(w(L[0],L[0]),v(w(L[1],L[1]),w(L[2],L[2]))),re=f(ne,S[0]),ae=f(ne,T[0]),ue=f(ne,E[0]),pe=f(ne,C[0]),ge=v(w(C[0],C[0]),v(w(C[1],C[1]),w(C[2],C[2]))),we=f(ge,S[0]),me=f(ge,T[0]),ve=f(ge,E[0]),Ie=f(ge,L[0]),Se=v(v(v(f(v(f(m(Ie,pe),E[1]),v(f(m(ve,ee),-L[1]),f(m(ue,X),C[1]))),T[2]),v(f(v(f(m(Ie,pe),T[1]),v(f(m(me,te),-L[1]),f(m(ae,q),C[1]))),-E[2]),f(v(f(m(ve,ee),T[1]),v(f(m(me,te),-E[1]),f(m(Z,V),C[1]))),L[2]))),v(f(v(f(m(ue,X),T[1]),v(f(m(ae,q),-E[1]),f(m(Z,V),L[1]))),-C[2]),v(f(v(f(m(Ie,pe),T[1]),v(f(m(me,te),-L[1]),f(m(ae,q),C[1]))),S[2]),f(v(f(m(Ie,pe),S[1]),v(f(m(we,H),-L[1]),f(m(re,I),C[1]))),-T[2])))),v(v(f(v(f(m(me,te),S[1]),v(f(m(we,H),-T[1]),f(m(B,R),C[1]))),L[2]),v(f(v(f(m(ae,q),S[1]),v(f(m(re,I),-T[1]),f(m(B,R),L[1]))),-C[2]),f(v(f(m(ue,X),T[1]),v(f(m(ae,q),-E[1]),f(m(Z,V),L[1]))),S[2]))),v(f(v(f(m(ue,X),S[1]),v(f(m(re,I),-E[1]),f(m(K,G),L[1]))),-T[2]),v(f(v(f(m(ae,q),S[1]),v(f(m(re,I),-T[1]),f(m(B,R),L[1]))),E[2]),f(v(f(m(Z,V),S[1]),v(f(m(K,G),-T[1]),f(m(B,R),E[1]))),-L[2]))))),ke=v(v(v(f(v(f(m(Ie,pe),E[1]),v(f(m(ve,ee),-L[1]),f(m(ue,X),C[1]))),S[2]),f(v(f(m(Ie,pe),S[1]),v(f(m(we,H),-L[1]),f(m(re,I),C[1]))),-E[2])),v(f(v(f(m(ve,ee),S[1]),v(f(m(we,H),-E[1]),f(m(K,G),C[1]))),L[2]),f(v(f(m(ue,X),S[1]),v(f(m(re,I),-E[1]),f(m(K,G),L[1]))),-C[2]))),v(v(f(v(f(m(ve,ee),T[1]),v(f(m(me,te),-E[1]),f(m(Z,V),C[1]))),S[2]),f(v(f(m(ve,ee),S[1]),v(f(m(we,H),-E[1]),f(m(K,G),C[1]))),-T[2])),v(f(v(f(m(me,te),S[1]),v(f(m(we,H),-T[1]),f(m(B,R),C[1]))),E[2]),f(v(f(m(Z,V),S[1]),v(f(m(K,G),-T[1]),f(m(B,R),E[1]))),-C[2])))),se=m(Se,ke);return se[se.length-1]}}function b(v,m,w,f){return function(S,T,E,L,C,P){var R=v(v(w(S[0],S[0]),w(S[1],S[1])),v(w(S[2],S[2]),w(S[3],S[3]))),G=f(R,T[0]),I=f(R,E[0]),H=f(R,L[0]),N=f(R,C[0]),B=f(R,P[0]),V=v(v(w(T[0],T[0]),w(T[1],T[1])),v(w(T[2],T[2]),w(T[3],T[3]))),q=f(V,S[0]),te=f(V,E[0]),$=f(V,L[0]),K=f(V,C[0]),Z=f(V,P[0]),X=v(v(w(E[0],E[0]),w(E[1],E[1])),v(w(E[2],E[2]),w(E[3],E[3]))),ee=f(X,S[0]),ne=f(X,T[0]),re=f(X,L[0]),ae=f(X,C[0]),ue=f(X,P[0]),pe=v(v(w(L[0],L[0]),w(L[1],L[1])),v(w(L[2],L[2]),w(L[3],L[3]))),ge=f(pe,S[0]),we=f(pe,T[0]),me=f(pe,E[0]),ve=f(pe,C[0]),Ie=f(pe,P[0]),Se=v(v(w(C[0],C[0]),w(C[1],C[1])),v(w(C[2],C[2]),w(C[3],C[3]))),ke=f(Se,S[0]),se=f(Se,T[0]),oe=f(Se,E[0]),he=f(Se,L[0]),Le=f(Se,P[0]),Me=v(v(w(P[0],P[0]),w(P[1],P[1])),v(w(P[2],P[2]),w(P[3],P[3]))),_e=f(Me,S[0]),De=f(Me,T[0]),Ne=f(Me,E[0]),ce=f(Me,L[0]),Te=f(Me,C[0]),ye=v(v(v(f(v(v(f(v(f(m(Te,Le),L[1]),v(f(m(ce,Ie),-C[1]),f(m(he,ve),P[1]))),E[2]),f(v(f(m(Te,Le),E[1]),v(f(m(Ne,ue),-C[1]),f(m(oe,ae),P[1]))),-L[2])),v(f(v(f(m(ce,Ie),E[1]),v(f(m(Ne,ue),-L[1]),f(m(me,re),P[1]))),C[2]),f(v(f(m(he,ve),E[1]),v(f(m(oe,ae),-L[1]),f(m(me,re),C[1]))),-P[2]))),T[3]),v(f(v(v(f(v(f(m(Te,Le),L[1]),v(f(m(ce,Ie),-C[1]),f(m(he,ve),P[1]))),T[2]),f(v(f(m(Te,Le),T[1]),v(f(m(De,Z),-C[1]),f(m(se,K),P[1]))),-L[2])),v(f(v(f(m(ce,Ie),T[1]),v(f(m(De,Z),-L[1]),f(m(we,$),P[1]))),C[2]),f(v(f(m(he,ve),T[1]),v(f(m(se,K),-L[1]),f(m(we,$),C[1]))),-P[2]))),-E[3]),f(v(v(f(v(f(m(Te,Le),E[1]),v(f(m(Ne,ue),-C[1]),f(m(oe,ae),P[1]))),T[2]),f(v(f(m(Te,Le),T[1]),v(f(m(De,Z),-C[1]),f(m(se,K),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),T[1]),v(f(m(De,Z),-E[1]),f(m(ne,te),P[1]))),C[2]),f(v(f(m(oe,ae),T[1]),v(f(m(se,K),-E[1]),f(m(ne,te),C[1]))),-P[2]))),L[3]))),v(v(f(v(v(f(v(f(m(ce,Ie),E[1]),v(f(m(Ne,ue),-L[1]),f(m(me,re),P[1]))),T[2]),f(v(f(m(ce,Ie),T[1]),v(f(m(De,Z),-L[1]),f(m(we,$),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),T[1]),v(f(m(De,Z),-E[1]),f(m(ne,te),P[1]))),L[2]),f(v(f(m(me,re),T[1]),v(f(m(we,$),-E[1]),f(m(ne,te),L[1]))),-P[2]))),-C[3]),f(v(v(f(v(f(m(he,ve),E[1]),v(f(m(oe,ae),-L[1]),f(m(me,re),C[1]))),T[2]),f(v(f(m(he,ve),T[1]),v(f(m(se,K),-L[1]),f(m(we,$),C[1]))),-E[2])),v(f(v(f(m(oe,ae),T[1]),v(f(m(se,K),-E[1]),f(m(ne,te),C[1]))),L[2]),f(v(f(m(me,re),T[1]),v(f(m(we,$),-E[1]),f(m(ne,te),L[1]))),-C[2]))),P[3])),v(f(v(v(f(v(f(m(Te,Le),L[1]),v(f(m(ce,Ie),-C[1]),f(m(he,ve),P[1]))),T[2]),f(v(f(m(Te,Le),T[1]),v(f(m(De,Z),-C[1]),f(m(se,K),P[1]))),-L[2])),v(f(v(f(m(ce,Ie),T[1]),v(f(m(De,Z),-L[1]),f(m(we,$),P[1]))),C[2]),f(v(f(m(he,ve),T[1]),v(f(m(se,K),-L[1]),f(m(we,$),C[1]))),-P[2]))),S[3]),f(v(v(f(v(f(m(Te,Le),L[1]),v(f(m(ce,Ie),-C[1]),f(m(he,ve),P[1]))),S[2]),f(v(f(m(Te,Le),S[1]),v(f(m(_e,B),-C[1]),f(m(ke,N),P[1]))),-L[2])),v(f(v(f(m(ce,Ie),S[1]),v(f(m(_e,B),-L[1]),f(m(ge,H),P[1]))),C[2]),f(v(f(m(he,ve),S[1]),v(f(m(ke,N),-L[1]),f(m(ge,H),C[1]))),-P[2]))),-T[3])))),v(v(v(f(v(v(f(v(f(m(Te,Le),T[1]),v(f(m(De,Z),-C[1]),f(m(se,K),P[1]))),S[2]),f(v(f(m(Te,Le),S[1]),v(f(m(_e,B),-C[1]),f(m(ke,N),P[1]))),-T[2])),v(f(v(f(m(De,Z),S[1]),v(f(m(_e,B),-T[1]),f(m(q,G),P[1]))),C[2]),f(v(f(m(se,K),S[1]),v(f(m(ke,N),-T[1]),f(m(q,G),C[1]))),-P[2]))),L[3]),f(v(v(f(v(f(m(ce,Ie),T[1]),v(f(m(De,Z),-L[1]),f(m(we,$),P[1]))),S[2]),f(v(f(m(ce,Ie),S[1]),v(f(m(_e,B),-L[1]),f(m(ge,H),P[1]))),-T[2])),v(f(v(f(m(De,Z),S[1]),v(f(m(_e,B),-T[1]),f(m(q,G),P[1]))),L[2]),f(v(f(m(we,$),S[1]),v(f(m(ge,H),-T[1]),f(m(q,G),L[1]))),-P[2]))),-C[3])),v(f(v(v(f(v(f(m(he,ve),T[1]),v(f(m(se,K),-L[1]),f(m(we,$),C[1]))),S[2]),f(v(f(m(he,ve),S[1]),v(f(m(ke,N),-L[1]),f(m(ge,H),C[1]))),-T[2])),v(f(v(f(m(se,K),S[1]),v(f(m(ke,N),-T[1]),f(m(q,G),C[1]))),L[2]),f(v(f(m(we,$),S[1]),v(f(m(ge,H),-T[1]),f(m(q,G),L[1]))),-C[2]))),P[3]),f(v(v(f(v(f(m(ce,Ie),E[1]),v(f(m(Ne,ue),-L[1]),f(m(me,re),P[1]))),T[2]),f(v(f(m(ce,Ie),T[1]),v(f(m(De,Z),-L[1]),f(m(we,$),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),T[1]),v(f(m(De,Z),-E[1]),f(m(ne,te),P[1]))),L[2]),f(v(f(m(me,re),T[1]),v(f(m(we,$),-E[1]),f(m(ne,te),L[1]))),-P[2]))),S[3]))),v(v(f(v(v(f(v(f(m(ce,Ie),E[1]),v(f(m(Ne,ue),-L[1]),f(m(me,re),P[1]))),S[2]),f(v(f(m(ce,Ie),S[1]),v(f(m(_e,B),-L[1]),f(m(ge,H),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),S[1]),v(f(m(_e,B),-E[1]),f(m(ee,I),P[1]))),L[2]),f(v(f(m(me,re),S[1]),v(f(m(ge,H),-E[1]),f(m(ee,I),L[1]))),-P[2]))),-T[3]),f(v(v(f(v(f(m(ce,Ie),T[1]),v(f(m(De,Z),-L[1]),f(m(we,$),P[1]))),S[2]),f(v(f(m(ce,Ie),S[1]),v(f(m(_e,B),-L[1]),f(m(ge,H),P[1]))),-T[2])),v(f(v(f(m(De,Z),S[1]),v(f(m(_e,B),-T[1]),f(m(q,G),P[1]))),L[2]),f(v(f(m(we,$),S[1]),v(f(m(ge,H),-T[1]),f(m(q,G),L[1]))),-P[2]))),E[3])),v(f(v(v(f(v(f(m(Ne,ue),T[1]),v(f(m(De,Z),-E[1]),f(m(ne,te),P[1]))),S[2]),f(v(f(m(Ne,ue),S[1]),v(f(m(_e,B),-E[1]),f(m(ee,I),P[1]))),-T[2])),v(f(v(f(m(De,Z),S[1]),v(f(m(_e,B),-T[1]),f(m(q,G),P[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m(ee,I),-T[1]),f(m(q,G),E[1]))),-P[2]))),-L[3]),f(v(v(f(v(f(m(me,re),T[1]),v(f(m(we,$),-E[1]),f(m(ne,te),L[1]))),S[2]),f(v(f(m(me,re),S[1]),v(f(m(ge,H),-E[1]),f(m(ee,I),L[1]))),-T[2])),v(f(v(f(m(we,$),S[1]),v(f(m(ge,H),-T[1]),f(m(q,G),L[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m(ee,I),-T[1]),f(m(q,G),E[1]))),-L[2]))),P[3]))))),Oe=v(v(v(f(v(v(f(v(f(m(Te,Le),L[1]),v(f(m(ce,Ie),-C[1]),f(m(he,ve),P[1]))),E[2]),f(v(f(m(Te,Le),E[1]),v(f(m(Ne,ue),-C[1]),f(m(oe,ae),P[1]))),-L[2])),v(f(v(f(m(ce,Ie),E[1]),v(f(m(Ne,ue),-L[1]),f(m(me,re),P[1]))),C[2]),f(v(f(m(he,ve),E[1]),v(f(m(oe,ae),-L[1]),f(m(me,re),C[1]))),-P[2]))),S[3]),v(f(v(v(f(v(f(m(Te,Le),L[1]),v(f(m(ce,Ie),-C[1]),f(m(he,ve),P[1]))),S[2]),f(v(f(m(Te,Le),S[1]),v(f(m(_e,B),-C[1]),f(m(ke,N),P[1]))),-L[2])),v(f(v(f(m(ce,Ie),S[1]),v(f(m(_e,B),-L[1]),f(m(ge,H),P[1]))),C[2]),f(v(f(m(he,ve),S[1]),v(f(m(ke,N),-L[1]),f(m(ge,H),C[1]))),-P[2]))),-E[3]),f(v(v(f(v(f(m(Te,Le),E[1]),v(f(m(Ne,ue),-C[1]),f(m(oe,ae),P[1]))),S[2]),f(v(f(m(Te,Le),S[1]),v(f(m(_e,B),-C[1]),f(m(ke,N),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),S[1]),v(f(m(_e,B),-E[1]),f(m(ee,I),P[1]))),C[2]),f(v(f(m(oe,ae),S[1]),v(f(m(ke,N),-E[1]),f(m(ee,I),C[1]))),-P[2]))),L[3]))),v(v(f(v(v(f(v(f(m(ce,Ie),E[1]),v(f(m(Ne,ue),-L[1]),f(m(me,re),P[1]))),S[2]),f(v(f(m(ce,Ie),S[1]),v(f(m(_e,B),-L[1]),f(m(ge,H),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),S[1]),v(f(m(_e,B),-E[1]),f(m(ee,I),P[1]))),L[2]),f(v(f(m(me,re),S[1]),v(f(m(ge,H),-E[1]),f(m(ee,I),L[1]))),-P[2]))),-C[3]),f(v(v(f(v(f(m(he,ve),E[1]),v(f(m(oe,ae),-L[1]),f(m(me,re),C[1]))),S[2]),f(v(f(m(he,ve),S[1]),v(f(m(ke,N),-L[1]),f(m(ge,H),C[1]))),-E[2])),v(f(v(f(m(oe,ae),S[1]),v(f(m(ke,N),-E[1]),f(m(ee,I),C[1]))),L[2]),f(v(f(m(me,re),S[1]),v(f(m(ge,H),-E[1]),f(m(ee,I),L[1]))),-C[2]))),P[3])),v(f(v(v(f(v(f(m(Te,Le),E[1]),v(f(m(Ne,ue),-C[1]),f(m(oe,ae),P[1]))),T[2]),f(v(f(m(Te,Le),T[1]),v(f(m(De,Z),-C[1]),f(m(se,K),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),T[1]),v(f(m(De,Z),-E[1]),f(m(ne,te),P[1]))),C[2]),f(v(f(m(oe,ae),T[1]),v(f(m(se,K),-E[1]),f(m(ne,te),C[1]))),-P[2]))),S[3]),f(v(v(f(v(f(m(Te,Le),E[1]),v(f(m(Ne,ue),-C[1]),f(m(oe,ae),P[1]))),S[2]),f(v(f(m(Te,Le),S[1]),v(f(m(_e,B),-C[1]),f(m(ke,N),P[1]))),-E[2])),v(f(v(f(m(Ne,ue),S[1]),v(f(m(_e,B),-E[1]),f(m(ee,I),P[1]))),C[2]),f(v(f(m(oe,ae),S[1]),v(f(m(ke,N),-E[1]),f(m(ee,I),C[1]))),-P[2]))),-T[3])))),v(v(v(f(v(v(f(v(f(m(Te,Le),T[1]),v(f(m(De,Z),-C[1]),f(m(se,K),P[1]))),S[2]),f(v(f(m(Te,Le),S[1]),v(f(m(_e,B),-C[1]),f(m(ke,N),P[1]))),-T[2])),v(f(v(f(m(De,Z),S[1]),v(f(m(_e,B),-T[1]),f(m(q,G),P[1]))),C[2]),f(v(f(m(se,K),S[1]),v(f(m(ke,N),-T[1]),f(m(q,G),C[1]))),-P[2]))),E[3]),f(v(v(f(v(f(m(Ne,ue),T[1]),v(f(m(De,Z),-E[1]),f(m(ne,te),P[1]))),S[2]),f(v(f(m(Ne,ue),S[1]),v(f(m(_e,B),-E[1]),f(m(ee,I),P[1]))),-T[2])),v(f(v(f(m(De,Z),S[1]),v(f(m(_e,B),-T[1]),f(m(q,G),P[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m(ee,I),-T[1]),f(m(q,G),E[1]))),-P[2]))),-C[3])),v(f(v(v(f(v(f(m(oe,ae),T[1]),v(f(m(se,K),-E[1]),f(m(ne,te),C[1]))),S[2]),f(v(f(m(oe,ae),S[1]),v(f(m(ke,N),-E[1]),f(m(ee,I),C[1]))),-T[2])),v(f(v(f(m(se,K),S[1]),v(f(m(ke,N),-T[1]),f(m(q,G),C[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m(ee,I),-T[1]),f(m(q,G),E[1]))),-C[2]))),P[3]),f(v(v(f(v(f(m(he,ve),E[1]),v(f(m(oe,ae),-L[1]),f(m(me,re),C[1]))),T[2]),f(v(f(m(he,ve),T[1]),v(f(m(se,K),-L[1]),f(m(we,$),C[1]))),-E[2])),v(f(v(f(m(oe,ae),T[1]),v(f(m(se,K),-E[1]),f(m(ne,te),C[1]))),L[2]),f(v(f(m(me,re),T[1]),v(f(m(we,$),-E[1]),f(m(ne,te),L[1]))),-C[2]))),S[3]))),v(v(f(v(v(f(v(f(m(he,ve),E[1]),v(f(m(oe,ae),-L[1]),f(m(me,re),C[1]))),S[2]),f(v(f(m(he,ve),S[1]),v(f(m(ke,N),-L[1]),f(m(ge,H),C[1]))),-E[2])),v(f(v(f(m(oe,ae),S[1]),v(f(m(ke,N),-E[1]),f(m(ee,I),C[1]))),L[2]),f(v(f(m(me,re),S[1]),v(f(m(ge,H),-E[1]),f(m(ee,I),L[1]))),-C[2]))),-T[3]),f(v(v(f(v(f(m(he,ve),T[1]),v(f(m(se,K),-L[1]),f(m(we,$),C[1]))),S[2]),f(v(f(m(he,ve),S[1]),v(f(m(ke,N),-L[1]),f(m(ge,H),C[1]))),-T[2])),v(f(v(f(m(se,K),S[1]),v(f(m(ke,N),-T[1]),f(m(q,G),C[1]))),L[2]),f(v(f(m(we,$),S[1]),v(f(m(ge,H),-T[1]),f(m(q,G),L[1]))),-C[2]))),E[3])),v(f(v(v(f(v(f(m(oe,ae),T[1]),v(f(m(se,K),-E[1]),f(m(ne,te),C[1]))),S[2]),f(v(f(m(oe,ae),S[1]),v(f(m(ke,N),-E[1]),f(m(ee,I),C[1]))),-T[2])),v(f(v(f(m(se,K),S[1]),v(f(m(ke,N),-T[1]),f(m(q,G),C[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m(ee,I),-T[1]),f(m(q,G),E[1]))),-C[2]))),-L[3]),f(v(v(f(v(f(m(me,re),T[1]),v(f(m(we,$),-E[1]),f(m(ne,te),L[1]))),S[2]),f(v(f(m(me,re),S[1]),v(f(m(ge,H),-E[1]),f(m(ee,I),L[1]))),-T[2])),v(f(v(f(m(we,$),S[1]),v(f(m(ge,H),-T[1]),f(m(q,G),L[1]))),E[2]),f(v(f(m(ne,te),S[1]),v(f(m(ee,I),-T[1]),f(m(q,G),E[1]))),-L[2]))),C[3]))))),Be=m(ye,Oe);return Be[Be.length-1]}}var g=[function(){return 0},function(){return 0},function(){return 0}];function h(v){var m=g[v.length];return m||(m=g[v.length]=o(v.length)),m.apply(void 0,v)}function x(v,m,w,f,S,T,E,L){return function(C,P,R,G,I,H){switch(arguments.length){case 0:case 1:return 0;case 2:return f(C,P);case 3:return S(C,P,R);case 4:return T(C,P,R,G);case 5:return E(C,P,R,G,I);case 6:return L(C,P,R,G,I,H)}for(var N=new Array(arguments.length),B=0;B<arguments.length;++B)N[B]=arguments[B];return v(N)}}(function(){for(;g.length<=6;)g.push(o(g.length));d.exports=x.apply(void 0,[h].concat(g));for(var v=0;v<=6;++v)d.exports[v]=g[v]})()},6606:function(d,s,t){var i=t(8167);function r(g){return(g===2?n:g===3?l:g===4?o:g===5?u:p)(g<6?i[g]:i)}function n(g){return function(h,x){return[g([[+x[0],+h[0][1]],[+x[1],+h[1][1]]]),g([[+h[0][0],+x[0]],[+h[1][0],+x[1]]]),g(h)]}}function l(g){return function(h,x){return[g([[+x[0],+h[0][1],+h[0][2]],[+x[1],+h[1][1],+h[1][2]],[+x[2],+h[2][1],+h[2][2]]]),g([[+h[0][0],+x[0],+h[0][2]],[+h[1][0],+x[1],+h[1][2]],[+h[2][0],+x[2],+h[2][2]]]),g([[+h[0][0],+h[0][1],+x[0]],[+h[1][0],+h[1][1],+x[1]],[+h[2][0],+h[2][1],+x[2]]]),g(h)]}}function o(g){return function(h,x){return[g([[+x[0],+h[0][1],+h[0][2],+h[0][3]],[+x[1],+h[1][1],+h[1][2],+h[1][3]],[+x[2],+h[2][1],+h[2][2],+h[2][3]],[+x[3],+h[3][1],+h[3][2],+h[3][3]]]),g([[+h[0][0],+x[0],+h[0][2],+h[0][3]],[+h[1][0],+x[1],+h[1][2],+h[1][3]],[+h[2][0],+x[2],+h[2][2],+h[2][3]],[+h[3][0],+x[3],+h[3][2],+h[3][3]]]),g([[+h[0][0],+h[0][1],+x[0],+h[0][3]],[+h[1][0],+h[1][1],+x[1],+h[1][3]],[+h[2][0],+h[2][1],+x[2],+h[2][3]],[+h[3][0],+h[3][1],+x[3],+h[3][3]]]),g([[+h[0][0],+h[0][1],+h[0][2],+x[0]],[+h[1][0],+h[1][1],+h[1][2],+x[1]],[+h[2][0],+h[2][1],+h[2][2],+x[2]],[+h[3][0],+h[3][1],+h[3][2],+x[3]]]),g(h)]}}function u(g){return function(h,x){return[g([[+x[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4]],[+x[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4]],[+x[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4]],[+x[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4]],[+x[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4]]]),g([[+h[0][0],+x[0],+h[0][2],+h[0][3],+h[0][4]],[+h[1][0],+x[1],+h[1][2],+h[1][3],+h[1][4]],[+h[2][0],+x[2],+h[2][2],+h[2][3],+h[2][4]],[+h[3][0],+x[3],+h[3][2],+h[3][3],+h[3][4]],[+h[4][0],+x[4],+h[4][2],+h[4][3],+h[4][4]]]),g([[+h[0][0],+h[0][1],+x[0],+h[0][3],+h[0][4]],[+h[1][0],+h[1][1],+x[1],+h[1][3],+h[1][4]],[+h[2][0],+h[2][1],+x[2],+h[2][3],+h[2][4]],[+h[3][0],+h[3][1],+x[3],+h[3][3],+h[3][4]],[+h[4][0],+h[4][1],+x[4],+h[4][3],+h[4][4]]]),g([[+h[0][0],+h[0][1],+h[0][2],+x[0],+h[0][4]],[+h[1][0],+h[1][1],+h[1][2],+x[1],+h[1][4]],[+h[2][0],+h[2][1],+h[2][2],+x[2],+h[2][4]],[+h[3][0],+h[3][1],+h[3][2],+x[3],+h[3][4]],[+h[4][0],+h[4][1],+h[4][2],+x[4],+h[4][4]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+x[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+x[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+x[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+x[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+x[4]]]),g(h)]}}function p(g){return function(h,x){return[g([[+x[0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+x[1],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+x[2],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+x[3],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+x[4],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+x[5],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+x[0],+h[0][2],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+x[1],+h[1][2],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+x[2],+h[2][2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+x[3],+h[3][2],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+x[4],+h[4][2],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+x[5],+h[5][2],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+x[0],+h[0][3],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+x[1],+h[1][3],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+x[2],+h[2][3],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+x[3],+h[3][3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+x[4],+h[4][3],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+x[5],+h[5][3],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+x[0],+h[0][4],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+x[1],+h[1][4],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+x[2],+h[2][4],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+x[3],+h[3][4],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+x[4],+h[4][4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+x[5],+h[5][4],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+x[0],+h[0][5]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+x[1],+h[1][5]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+x[2],+h[2][5]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+x[3],+h[3][5]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+x[4],+h[4][5]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+x[5],+h[5][5]]]),g([[+h[0][0],+h[0][1],+h[0][2],+h[0][3],+h[0][4],+x[0]],[+h[1][0],+h[1][1],+h[1][2],+h[1][3],+h[1][4],+x[1]],[+h[2][0],+h[2][1],+h[2][2],+h[2][3],+h[2][4],+x[2]],[+h[3][0],+h[3][1],+h[3][2],+h[3][3],+h[3][4],+x[3]],[+h[4][0],+h[4][1],+h[4][2],+h[4][3],+h[4][4],+x[4]],[+h[5][0],+h[5][1],+h[5][2],+h[5][3],+h[5][4],+x[5]]]),g(h)]}}var c=[function(){return[[0]]},function(g,h){return[[h[0]],[g[0][0]]]}];function b(g,h,x,v,m,w,f,S){return function(T,E){switch(T.length){case 0:return g(T,E);case 1:return h(T,E);case 2:return x(T,E);case 3:return v(T,E);case 4:return m(T,E);case 5:return w(T,E)}var L=f[T.length];return L||(L=f[T.length]=S(T.length)),L(T,E)}}(function(){for(;c.length<6;)c.push(r(c.length));d.exports=b.apply(void 0,c.concat([c,r]));for(var g=0;g<6;++g)d.exports[g]=c[g]})()},417:function(d,s,t){var i=t(9660),r=t(9662),n=t(8289),l=t(4078);function o(m,w,f,S){return function(T,E,L){var C=m(m(w(E[1],L[0]),w(-L[1],E[0])),m(w(T[1],E[0]),w(-E[1],T[0]))),P=m(w(T[1],L[0]),w(-L[1],T[0])),R=S(C,P);return R[R.length-1]}}function u(m,w,f,S){return function(T,E,L,C){var P=m(m(f(m(w(L[1],C[0]),w(-C[1],L[0])),E[2]),m(f(m(w(E[1],C[0]),w(-C[1],E[0])),-L[2]),f(m(w(E[1],L[0]),w(-L[1],E[0])),C[2]))),m(f(m(w(E[1],C[0]),w(-C[1],E[0])),T[2]),m(f(m(w(T[1],C[0]),w(-C[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),C[2])))),R=m(m(f(m(w(L[1],C[0]),w(-C[1],L[0])),T[2]),m(f(m(w(T[1],C[0]),w(-C[1],T[0])),-L[2]),f(m(w(T[1],L[0]),w(-L[1],T[0])),C[2]))),m(f(m(w(E[1],L[0]),w(-L[1],E[0])),T[2]),m(f(m(w(T[1],L[0]),w(-L[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),L[2])))),G=S(P,R);return G[G.length-1]}}function p(m,w,f,S){return function(T,E,L,C,P){var R=m(m(m(f(m(f(m(w(C[1],P[0]),w(-P[1],C[0])),L[2]),m(f(m(w(L[1],P[0]),w(-P[1],L[0])),-C[2]),f(m(w(L[1],C[0]),w(-C[1],L[0])),P[2]))),E[3]),m(f(m(f(m(w(C[1],P[0]),w(-P[1],C[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-C[2]),f(m(w(E[1],C[0]),w(-C[1],E[0])),P[2]))),-L[3]),f(m(f(m(w(L[1],P[0]),w(-P[1],L[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-L[2]),f(m(w(E[1],L[0]),w(-L[1],E[0])),P[2]))),C[3]))),m(f(m(f(m(w(L[1],C[0]),w(-C[1],L[0])),E[2]),m(f(m(w(E[1],C[0]),w(-C[1],E[0])),-L[2]),f(m(w(E[1],L[0]),w(-L[1],E[0])),C[2]))),-P[3]),m(f(m(f(m(w(C[1],P[0]),w(-P[1],C[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-C[2]),f(m(w(E[1],C[0]),w(-C[1],E[0])),P[2]))),T[3]),f(m(f(m(w(C[1],P[0]),w(-P[1],C[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-C[2]),f(m(w(T[1],C[0]),w(-C[1],T[0])),P[2]))),-E[3])))),m(m(f(m(f(m(w(E[1],P[0]),w(-P[1],E[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),P[2]))),C[3]),m(f(m(f(m(w(E[1],C[0]),w(-C[1],E[0])),T[2]),m(f(m(w(T[1],C[0]),w(-C[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),C[2]))),-P[3]),f(m(f(m(w(L[1],C[0]),w(-C[1],L[0])),E[2]),m(f(m(w(E[1],C[0]),w(-C[1],E[0])),-L[2]),f(m(w(E[1],L[0]),w(-L[1],E[0])),C[2]))),T[3]))),m(f(m(f(m(w(L[1],C[0]),w(-C[1],L[0])),T[2]),m(f(m(w(T[1],C[0]),w(-C[1],T[0])),-L[2]),f(m(w(T[1],L[0]),w(-L[1],T[0])),C[2]))),-E[3]),m(f(m(f(m(w(E[1],C[0]),w(-C[1],E[0])),T[2]),m(f(m(w(T[1],C[0]),w(-C[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),C[2]))),L[3]),f(m(f(m(w(E[1],L[0]),w(-L[1],E[0])),T[2]),m(f(m(w(T[1],L[0]),w(-L[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),L[2]))),-C[3]))))),G=m(m(m(f(m(f(m(w(C[1],P[0]),w(-P[1],C[0])),L[2]),m(f(m(w(L[1],P[0]),w(-P[1],L[0])),-C[2]),f(m(w(L[1],C[0]),w(-C[1],L[0])),P[2]))),T[3]),f(m(f(m(w(C[1],P[0]),w(-P[1],C[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-C[2]),f(m(w(T[1],C[0]),w(-C[1],T[0])),P[2]))),-L[3])),m(f(m(f(m(w(L[1],P[0]),w(-P[1],L[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-L[2]),f(m(w(T[1],L[0]),w(-L[1],T[0])),P[2]))),C[3]),f(m(f(m(w(L[1],C[0]),w(-C[1],L[0])),T[2]),m(f(m(w(T[1],C[0]),w(-C[1],T[0])),-L[2]),f(m(w(T[1],L[0]),w(-L[1],T[0])),C[2]))),-P[3]))),m(m(f(m(f(m(w(L[1],P[0]),w(-P[1],L[0])),E[2]),m(f(m(w(E[1],P[0]),w(-P[1],E[0])),-L[2]),f(m(w(E[1],L[0]),w(-L[1],E[0])),P[2]))),T[3]),f(m(f(m(w(L[1],P[0]),w(-P[1],L[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-L[2]),f(m(w(T[1],L[0]),w(-L[1],T[0])),P[2]))),-E[3])),m(f(m(f(m(w(E[1],P[0]),w(-P[1],E[0])),T[2]),m(f(m(w(T[1],P[0]),w(-P[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),P[2]))),L[3]),f(m(f(m(w(E[1],L[0]),w(-L[1],E[0])),T[2]),m(f(m(w(T[1],L[0]),w(-L[1],T[0])),-E[2]),f(m(w(T[1],E[0]),w(-E[1],T[0])),L[2]))),-P[3])))),I=S(R,G);return I[I.length-1]}}function c(m){return(m===3?o:m===4?u:p)(r,i,n,l)}var b=c(3),g=c(4),h=[function(){return 0},function(){return 0},function(m,w){return w[0]-m[0]},function(m,w,f){var S,T=(m[1]-f[1])*(w[0]-f[0]),E=(m[0]-f[0])*(w[1]-f[1]),L=T-E;if(T>0){if(E<=0)return L;S=T+E}else{if(!(T<0)||E>=0)return L;S=-(T+E)}var C=33306690738754716e-32*S;return L>=C||L<=-C?L:b(m,w,f)},function(m,w,f,S){var T=m[0]-S[0],E=w[0]-S[0],L=f[0]-S[0],C=m[1]-S[1],P=w[1]-S[1],R=f[1]-S[1],G=m[2]-S[2],I=w[2]-S[2],H=f[2]-S[2],N=E*R,B=L*P,V=L*C,q=T*R,te=T*P,$=E*C,K=G*(N-B)+I*(V-q)+H*(te-$),Z=7771561172376103e-31*((Math.abs(N)+Math.abs(B))*Math.abs(G)+(Math.abs(V)+Math.abs(q))*Math.abs(I)+(Math.abs(te)+Math.abs($))*Math.abs(H));return K>Z||-K>Z?K:g(m,w,f,S)}];function x(m){var w=h[m.length];return w||(w=h[m.length]=c(m.length)),w.apply(void 0,m)}function v(m,w,f,S,T,E,L){return function(C,P,R,G,I){switch(arguments.length){case 0:case 1:return 0;case 2:return S(C,P);case 3:return T(C,P,R);case 4:return E(C,P,R,G);case 5:return L(C,P,R,G,I)}for(var H=new Array(arguments.length),N=0;N<arguments.length;++N)H[N]=arguments[N];return m(H)}}(function(){for(;h.length<=5;)h.push(c(h.length));d.exports=v.apply(void 0,[x].concat(h));for(var m=0;m<=5;++m)d.exports[m]=h[m]})()},2019:function(d,s,t){var i=t(9662),r=t(8289);d.exports=function(n,l){if(n.length===1)return r(l,n[0]);if(l.length===1)return r(n,l[0]);if(n.length===0||l.length===0)return[0];var o=[0];if(n.length<l.length)for(var u=0;u<n.length;++u)o=i(o,r(l,n[u]));else for(u=0;u<l.length;++u)o=i(o,r(n,l[u]));return o}},8289:function(d,s,t){var i=t(9660),r=t(87);d.exports=function(n,l){var o=n.length;if(o===1){var u=i(n[0],l);return u[0]?u:[u[1]]}var p=new Array(2*o),c=[.1,.1],b=[.1,.1],g=0;i(n[0],l,c),c[0]&&(p[g++]=c[0]);for(var h=1;h<o;++h){i(n[h],l,b);var x=c[1];r(x,b[0],c),c[0]&&(p[g++]=c[0]);var v=b[1],m=c[1],w=v+m,f=m-(w-v);c[1]=w,f&&(p[g++]=f)}return c[1]&&(p[g++]=c[1]),g===0&&(p[g++]=0),p.length=g,p}},4434:function(d,s,t){d.exports=function(r,n,l,o){var u=i(r,l,o),p=i(n,l,o);if(u>0&&p>0||u<0&&p<0)return!1;var c=i(l,r,n),b=i(o,r,n);return!(c>0&&b>0||c<0&&b<0)&&(u!==0||p!==0||c!==0||b!==0||function(g,h,x,v){for(var m=0;m<2;++m){var w=g[m],f=h[m],S=Math.min(w,f),T=Math.max(w,f),E=x[m],L=v[m],C=Math.min(E,L);if(Math.max(E,L)<S||T<C)return!1}return!0}(r,n,l,o))};var i=t(417)[3]},4078:function(d){d.exports=function(s,t){var i=0|s.length,r=0|t.length;if(i===1&&r===1)return function(C,P){var R=C+P,G=R-C,I=C-(R-G)+(P-G);return I?[I,R]:[R]}(s[0],-t[0]);var n,l,o=new Array(i+r),u=0,p=0,c=0,b=Math.abs,g=s[p],h=b(g),x=-t[c],v=b(x);h<v?(l=g,(p+=1)<i&&(h=b(g=s[p]))):(l=x,(c+=1)<r&&(v=b(x=-t[c]))),p<i&&h<v||c>=r?(n=g,(p+=1)<i&&(h=b(g=s[p]))):(n=x,(c+=1)<r&&(v=b(x=-t[c])));for(var m,w,f=n+l,S=f-n,T=l-S,E=T,L=f;p<i&&c<r;)h<v?(n=g,(p+=1)<i&&(h=b(g=s[p]))):(n=x,(c+=1)<r&&(v=b(x=-t[c]))),(T=(l=E)-(S=(f=n+l)-n))&&(o[u++]=T),E=L-((m=L+f)-(w=m-L))+(f-w),L=m;for(;p<i;)(T=(l=E)-(S=(f=(n=g)+l)-n))&&(o[u++]=T),E=L-((m=L+f)-(w=m-L))+(f-w),L=m,(p+=1)<i&&(g=s[p]);for(;c<r;)(T=(l=E)-(S=(f=(n=x)+l)-n))&&(o[u++]=T),E=L-((m=L+f)-(w=m-L))+(f-w),L=m,(c+=1)<r&&(x=-t[c]);return E&&(o[u++]=E),L&&(o[u++]=L),u||(o[u++]=0),o.length=u,o}},9662:function(d){d.exports=function(s,t){var i=0|s.length,r=0|t.length;if(i===1&&r===1)return function(C,P){var R=C+P,G=R-C,I=C-(R-G)+(P-G);return I?[I,R]:[R]}(s[0],t[0]);var n,l,o=new Array(i+r),u=0,p=0,c=0,b=Math.abs,g=s[p],h=b(g),x=t[c],v=b(x);h<v?(l=g,(p+=1)<i&&(h=b(g=s[p]))):(l=x,(c+=1)<r&&(v=b(x=t[c]))),p<i&&h<v||c>=r?(n=g,(p+=1)<i&&(h=b(g=s[p]))):(n=x,(c+=1)<r&&(v=b(x=t[c])));for(var m,w,f=n+l,S=f-n,T=l-S,E=T,L=f;p<i&&c<r;)h<v?(n=g,(p+=1)<i&&(h=b(g=s[p]))):(n=x,(c+=1)<r&&(v=b(x=t[c]))),(T=(l=E)-(S=(f=n+l)-n))&&(o[u++]=T),E=L-((m=L+f)-(w=m-L))+(f-w),L=m;for(;p<i;)(T=(l=E)-(S=(f=(n=g)+l)-n))&&(o[u++]=T),E=L-((m=L+f)-(w=m-L))+(f-w),L=m,(p+=1)<i&&(g=s[p]);for(;c<r;)(T=(l=E)-(S=(f=(n=x)+l)-n))&&(o[u++]=T),E=L-((m=L+f)-(w=m-L))+(f-w),L=m,(c+=1)<r&&(x=t[c]);return E&&(o[u++]=E),L&&(o[u++]=L),u||(o[u++]=0),o.length=u,o}},8691:function(d,s,t){d.exports=function(n){return r(i(n))};var i=t(2692),r=t(7037)},7212:function(d,s,t){d.exports=function(o,u,p,c){if(p=p||0,c===void 0&&(c=function(f){for(var S=f.length,T=0,E=0;E<S;++E)T=0|Math.max(T,f[E].length);return T-1}(o)),o.length===0||c<1)return{cells:[],vertexIds:[],vertexWeights:[]};var b=function(f,S){for(var T=f.length,E=r.mallocUint8(T),L=0;L<T;++L)E[L]=f[L]<S|0;return E}(u,+p),g=function(f,S){for(var T=f.length,E=S*(S+1)/2*T|0,L=r.mallocUint32(2*E),C=0,P=0;P<T;++P)for(var R=f[P],G=(S=R.length,0);G<S;++G)for(var I=0;I<G;++I){var H=R[I],N=R[G];L[C++]=0|Math.min(H,N),L[C++]=0|Math.max(H,N)}n(i(L,[C/2|0,2]));var B=2;for(P=2;P<C;P+=2)L[P-2]===L[P]&&L[P-1]===L[P+1]||(L[B++]=L[P],L[B++]=L[P+1]);return i(L,[B/2|0,2])}(o,c),h=function(f,S,T,E){for(var L=f.data,C=f.shape[0],P=r.mallocDouble(C),R=0,G=0;G<C;++G){var I=L[2*G],H=L[2*G+1];if(T[I]!==T[H]){var N=S[I],B=S[H];L[2*R]=I,L[2*R+1]=H,P[R++]=(B-E)/(B-N)}}return f.shape[0]=R,i(P,[R])}(g,u,b,+p),x=function(f,S){var T=r.mallocInt32(2*S),E=f.shape[0],L=f.data;T[0]=0;for(var C=0,P=0;P<E;++P){var R=L[2*P];if(R!==C){for(T[2*C+1]=P;++C<R;)T[2*C]=P,T[2*C+1]=P;T[2*C]=P}}for(T[2*C+1]=E;++C<S;)T[2*C]=T[2*C+1]=E;return T}(g,0|u.length),v=l(c)(o,g.data,x,b),m=function(f){for(var S=0|f.shape[0],T=f.data,E=new Array(S),L=0;L<S;++L)E[L]=[T[2*L],T[2*L+1]];return E}(g),w=[].slice.call(h.data,0,h.shape[0]);return r.free(b),r.free(g.data),r.free(h.data),r.free(x),{cells:v,vertexIds:m,vertexWeights:w}};var i=t(5050),r=t(5306),n=t(8729),l=t(1168)},1168:function(d){d.exports=function(t){return s[t]()};var s=[function(){return function(t,i,r,n){for(var l=t.length,o=0;o<l;++o)t[o].length;return[]}},function(){function t(i,r,n,l){for(var o=0|Math.min(n,l),u=0|Math.max(n,l),p=i[2*o],c=i[2*o+1];p<c;){var b=p+c>>1,g=r[2*b+1];if(g===u)return b;u<g?c=b:p=b+1}return p}return function(i,r,n,l){for(var o=i.length,u=[],p=0;p<o;++p){var c=i[p];if(c.length===2){var b=(l[c[0]]<<0)+(l[c[1]]<<1);if(b===0||b===3)continue;switch(b){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,l){for(var o=0|Math.min(n,l),u=0|Math.max(n,l),p=i[2*o],c=i[2*o+1];p<c;){var b=p+c>>1,g=r[2*b+1];if(g===u)return b;u<g?c=b:p=b+1}return p}return function(i,r,n,l){for(var o=i.length,u=[],p=0;p<o;++p){var c=i[p],b=c.length;if(b===3){if((g=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(b===2){var g;if((g=(l[c[0]]<<0)+(l[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}},function(){function t(i,r,n,l){for(var o=0|Math.min(n,l),u=0|Math.max(n,l),p=i[2*o],c=i[2*o+1];p<c;){var b=p+c>>1,g=r[2*b+1];if(g===u)return b;u<g?c=b:p=b+1}return p}return function(i,r,n,l){for(var o=i.length,u=[],p=0;p<o;++p){var c=i[p],b=c.length;if(b===4){if((g=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2)+(l[c[3]]<<3))==0||g===15)continue;switch(g){case 0:case 15:break;case 1:u.push([t(n,r,c[0],c[1]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])]);break;case 2:u.push([t(n,r,c[1],c[2]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])]);break;case 3:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[0],c[3])],[t(n,r,c[1],c[3]),t(n,r,c[1],c[2]),t(n,r,c[0],c[3])]);break;case 4:u.push([t(n,r,c[2],c[0]),t(n,r,c[2],c[1]),t(n,r,c[2],c[3])]);break;case 5:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[0],c[3])],[t(n,r,c[2],c[1]),t(n,r,c[2],c[3]),t(n,r,c[0],c[3])]);break;case 6:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[1],c[3])],[t(n,r,c[2],c[3]),t(n,r,c[2],c[0]),t(n,r,c[1],c[3])]);break;case 7:u.push([t(n,r,c[0],c[3]),t(n,r,c[1],c[3]),t(n,r,c[2],c[3])]);break;case 8:u.push([t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[3],c[2])]);break;case 9:u.push([t(n,r,c[3],c[1]),t(n,r,c[0],c[1]),t(n,r,c[0],c[2])],[t(n,r,c[3],c[2]),t(n,r,c[3],c[1]),t(n,r,c[0],c[2])]);break;case 10:u.push([t(n,r,c[1],c[0]),t(n,r,c[3],c[0]),t(n,r,c[1],c[2])],[t(n,r,c[3],c[0]),t(n,r,c[3],c[2]),t(n,r,c[1],c[2])]);break;case 11:u.push([t(n,r,c[1],c[2]),t(n,r,c[0],c[2]),t(n,r,c[3],c[2])]);break;case 12:u.push([t(n,r,c[3],c[0]),t(n,r,c[2],c[0]),t(n,r,c[2],c[1])],[t(n,r,c[3],c[1]),t(n,r,c[3],c[0]),t(n,r,c[2],c[1])]);break;case 13:u.push([t(n,r,c[0],c[1]),t(n,r,c[2],c[1]),t(n,r,c[3],c[1])]);break;case 14:u.push([t(n,r,c[2],c[0]),t(n,r,c[1],c[0]),t(n,r,c[3],c[0])])}}else if(b===3){if((g=(l[c[0]]<<0)+(l[c[1]]<<1)+(l[c[2]]<<2))==0||g===7)continue;switch(g){case 0:case 7:break;case 1:u.push([t(n,r,c[0],c[2]),t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0]),t(n,r,c[1],c[2])]);break;case 3:u.push([t(n,r,c[0],c[2]),t(n,r,c[1],c[2])]);break;case 4:u.push([t(n,r,c[2],c[1]),t(n,r,c[2],c[0])]);break;case 5:u.push([t(n,r,c[2],c[1]),t(n,r,c[0],c[1])]);break;case 6:u.push([t(n,r,c[1],c[0]),t(n,r,c[2],c[0])])}}else if(b===2){var g;if((g=(l[c[0]]<<0)+(l[c[1]]<<1))==0||g===3)continue;switch(g){case 0:case 3:break;case 1:u.push([t(n,r,c[0],c[1])]);break;case 2:u.push([t(n,r,c[1],c[0])])}}}return u}}]},8211:function(d,s,t){t(2288),t(1731),s.H=function(i,r){var n=i.length,l=i.length-r.length,o=Math.min;if(l)return l;switch(n){case 0:return 0;case 1:return i[0]-r[0];case 2:return(c=i[0]+i[1]-r[0]-r[1])||o(i[0],i[1])-o(r[0],r[1]);case 3:var u=i[0]+i[1],p=r[0]+r[1];if(c=u+i[2]-(p+r[2]))return c;var c,b=o(i[0],i[1]),g=o(r[0],r[1]);return(c=o(b,i[2])-o(g,r[2]))||o(b+i[2],u)-o(g+r[2],p);default:var h=i.slice(0);h.sort();var x=r.slice(0);x.sort();for(var v=0;v<n;++v)if(l=h[v]-x[v])return l;return 0}}},9392:function(d,s){function t(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}s.INT_BITS=32,s.INT_MAX=2147483647,s.INT_MIN=-2147483648,s.sign=function(r){return(r>0)-(r<0)},s.abs=function(r){var n=r>>31;return(r^n)-n},s.min=function(r,n){return n^(r^n)&-(r<n)},s.max=function(r,n){return r^(r^n)&-(r<n)},s.isPow2=function(r){return!(r&r-1||!r)},s.log2=function(r){var n,l;return n=(r>65535)<<4,n|=l=((r>>>=n)>255)<<3,n|=l=((r>>>=l)>15)<<2,(n|=l=((r>>>=l)>3)<<1)|(r>>>=l)>>1},s.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},s.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},s.countTrailingZeros=t,s.nextPow2=function(r){return r+=r===0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,1+((r|=r>>>8)|r>>>16)},s.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},s.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var i=new Array(256);(function(r){for(var n=0;n<256;++n){var l=n,o=n,u=7;for(l>>>=1;l;l>>>=1)o<<=1,o|=1&l,--u;r[n]=o<<u&255}})(i),s.reverse=function(r){return i[255&r]<<24|i[r>>>8&255]<<16|i[r>>>16&255]<<8|i[r>>>24&255]},s.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},s.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},s.interleave3=function(r,n,l){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(l=1227133513&((l=3272356035&((l=251719695&((l=4278190335&((l&=1023)|l<<16))|l<<8))|l<<4))|l<<2))<<2},s.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},s.nextCombination=function(r){var n=r|r-1;return n+1|(~n&-~n)-1>>>t(r)+1}},6656:function(d,s,t){var i=t(9392),r=t(9521);function n(g,h){var x=g.length,v=g.length-h.length,m=Math.min;if(v)return v;switch(x){case 0:return 0;case 1:return g[0]-h[0];case 2:return(S=g[0]+g[1]-h[0]-h[1])||m(g[0],g[1])-m(h[0],h[1]);case 3:var w=g[0]+g[1],f=h[0]+h[1];if(S=w+g[2]-(f+h[2]))return S;var S,T=m(g[0],g[1]),E=m(h[0],h[1]);return(S=m(T,g[2])-m(E,h[2]))||m(T+g[2],w)-m(E+h[2],f);default:var L=g.slice(0);L.sort();var C=h.slice(0);C.sort();for(var P=0;P<x;++P)if(v=L[P]-C[P])return v;return 0}}function l(g,h){return n(g[0],h[0])}function o(g,h){if(h){for(var x=g.length,v=new Array(x),m=0;m<x;++m)v[m]=[g[m],h[m]];for(v.sort(l),m=0;m<x;++m)g[m]=v[m][0],h[m]=v[m][1];return g}return g.sort(n),g}function u(g){if(g.length===0)return[];for(var h=1,x=g.length,v=1;v<x;++v){var m=g[v];if(n(m,g[v-1])){if(v===h){h++;continue}g[h++]=m}}return g.length=h,g}function p(g,h){for(var x=0,v=g.length-1,m=-1;x<=v;){var w=x+v>>1,f=n(g[w],h);f<=0?(f===0&&(m=w),x=w+1):f>0&&(v=w-1)}return m}function c(g,h){for(var x=new Array(g.length),v=0,m=x.length;v<m;++v)x[v]=[];for(var w=[],f=(v=0,h.length);v<f;++v)for(var S=h[v],T=S.length,E=1,L=1<<T;E<L;++E){w.length=i.popCount(E);for(var C=0,P=0;P<T;++P)E&1<<P&&(w[C++]=S[P]);var R=p(g,w);if(!(R<0))for(;x[R++].push(v),!(R>=g.length||n(g[R],w)!==0););}return x}function b(g,h){if(h<0)return[];for(var x=[],v=(1<<h+1)-1,m=0;m<g.length;++m)for(var w=g[m],f=v;f<1<<w.length;f=i.nextCombination(f)){for(var S=new Array(h+1),T=0,E=0;E<w.length;++E)f&1<<E&&(S[T++]=w[E]);x.push(S)}return o(x)}s.dimension=function(g){for(var h=0,x=Math.max,v=0,m=g.length;v<m;++v)h=x(h,g[v].length);return h-1},s.countVertices=function(g){for(var h=-1,x=Math.max,v=0,m=g.length;v<m;++v)for(var w=g[v],f=0,S=w.length;f<S;++f)h=x(h,w[f]);return h+1},s.cloneCells=function(g){for(var h=new Array(g.length),x=0,v=g.length;x<v;++x)h[x]=g[x].slice(0);return h},s.compareCells=n,s.normalize=o,s.unique=u,s.findCell=p,s.incidence=c,s.dual=function(g,h){if(!h)return c(u(b(g,0)),g);for(var x=new Array(h),v=0;v<h;++v)x[v]=[];v=0;for(var m=g.length;v<m;++v)for(var w=g[v],f=0,S=w.length;f<S;++f)x[w[f]].push(v);return x},s.explode=function(g){for(var h=[],x=0,v=g.length;x<v;++x)for(var m=g[x],w=0|m.length,f=1,S=1<<w;f<S;++f){for(var T=[],E=0;E<w;++E)f>>>E&1&&T.push(m[E]);h.push(T)}return o(h)},s.skeleton=b,s.boundary=function(g){for(var h=[],x=0,v=g.length;x<v;++x)for(var m=g[x],w=0,f=m.length;w<f;++w){for(var S=new Array(m.length-1),T=0,E=0;T<f;++T)T!==w&&(S[E++]=m[T]);h.push(S)}return o(h)},s.connectedComponents=function(g,h){return h?function(x,v){for(var m=new r(v),w=0;w<x.length;++w)for(var f=x[w],S=0;S<f.length;++S)for(var T=S+1;T<f.length;++T)m.link(f[S],f[T]);var E=[],L=m.ranks;for(w=0;w<L.length;++w)L[w]=-1;for(w=0;w<x.length;++w){var C=m.find(x[w][0]);L[C]<0?(L[C]=E.length,E.push([x[w].slice(0)])):E[L[C]].push(x[w].slice(0))}return E}(g,h):function(x){for(var v=u(o(b(x,0))),m=new r(v.length),w=0;w<x.length;++w)for(var f=x[w],S=0;S<f.length;++S)for(var T=p(v,[f[S]]),E=S+1;E<f.length;++E)m.link(T,p(v,[f[E]]));var L=[],C=m.ranks;for(w=0;w<C.length;++w)C[w]=-1;for(w=0;w<x.length;++w){var P=m.find(p(v,[x[w][0]]));C[P]<0?(C[P]=L.length,L.push([x[w].slice(0)])):L[C[P]].push(x[w].slice(0))}return L}(g)}},9521:function(d){function s(t){this.roots=new Array(t),this.ranks=new Array(t);for(var i=0;i<t;++i)this.roots[i]=i,this.ranks[i]=0}d.exports=s,s.prototype.length=function(){return this.roots.length},s.prototype.makeSet=function(){var t=this.roots.length;return this.roots.push(t),this.ranks.push(0),t},s.prototype.find=function(t){for(var i=this.roots;i[t]!==t;){var r=i[t];i[t]=i[r],t=r}return t},s.prototype.link=function(t,i){var r=this.find(t),n=this.find(i);if(r!==n){var l=this.ranks,o=this.roots,u=l[r],p=l[n];u<p?o[r]=n:p<u?o[n]=r:(o[n]=r,++l[r])}}},8243:function(d,s,t){d.exports=function(n,l,o){for(var u=l.length,p=n.length,c=new Array(u),b=new Array(u),g=new Array(u),h=new Array(u),x=0;x<u;++x)c[x]=b[x]=-1,g[x]=1/0,h[x]=!1;for(x=0;x<p;++x){var v=n[x];if(v.length!==2)throw new Error("Input must be a graph");var m=v[1],w=v[0];b[w]!==-1?b[w]=-2:b[w]=m,c[m]!==-1?c[m]=-2:c[m]=w}function f($){if(h[$])return 1/0;var K,Z,X,ee=c[$],ne=b[$];return ee<0||ne<0?1/0:(K=l[$],Z=l[ee],X=l[ne],Math.abs(i(K,Z,X))/Math.sqrt(Math.pow(Z[0]-X[0],2)+Math.pow(Z[1]-X[1],2)))}function S($,K){var Z=I[$],X=I[K];I[$]=X,I[K]=Z,H[Z]=K,H[X]=$}function T($){return g[I[$]]}function E($){return 1&$?$-1>>1:($>>1)-1}function L($){for(var K=T($);;){var Z=K,X=2*$+1,ee=2*($+1),ne=$;if(X<N){var re=T(X);re<Z&&(ne=X,Z=re)}if(ee<N&&T(ee)<Z&&(ne=ee),ne===$)return $;S($,ne),$=ne}}function C($){for(var K=T($);$>0;){var Z=E($);if(!(Z>=0&&K<T(Z)))return $;S($,Z),$=Z}}function P(){if(N>0){var $=I[0];return S(0,N-1),N-=1,L(0),$}return-1}function R($,K){var Z=I[$];return g[Z]===K?$:(g[Z]=-1/0,C($),P(),g[Z]=K,C((N+=1)-1))}function G($){if(!h[$]){h[$]=!0;var K=c[$],Z=b[$];c[Z]>=0&&(c[Z]=K),b[K]>=0&&(b[K]=Z),H[K]>=0&&R(H[K],f(K)),H[Z]>=0&&R(H[Z],f(Z))}}var I=[],H=new Array(u);for(x=0;x<u;++x)(g[x]=f(x))<1/0?(H[x]=I.length,I.push(x)):H[x]=-1;var N=I.length;for(x=N>>1;x>=0;--x)L(x);for(;;){var B=P();if(B<0||g[B]>o)break;G(B)}var V=[];for(x=0;x<u;++x)h[x]||(H[x]=V.length,V.push(l[x].slice()));function q($,K){if($[K]<0)return K;var Z=K,X=K;do{var ee=$[X];if(!h[X]||ee<0||ee===X||(ee=$[X=ee],!h[X]||ee<0||ee===X))break;X=ee,Z=$[Z]}while(Z!==X);for(var ne=K;ne!==X;ne=$[ne])$[ne]=X;return X}V.length;var te=[];return n.forEach(function($){var K=q(c,$[0]),Z=q(b,$[1]);if(K>=0&&Z>=0&&K!==Z){var X=H[K],ee=H[Z];X!==ee&&te.push([X,ee])}}),r.unique(r.normalize(te)),{positions:V,edges:te}};var i=t(417),r=t(6656)},6638:function(d,s,t){d.exports=function(n,l){var o,u,p,c;if(l[0][0]<l[1][0])o=l[0],u=l[1];else{if(!(l[0][0]>l[1][0]))return r(l,n);o=l[1],u=l[0]}if(n[0][0]<n[1][0])p=n[0],c=n[1];else{if(!(n[0][0]>n[1][0]))return-r(n,l);p=n[1],c=n[0]}var b=i(o,u,c),g=i(o,u,p);if(b<0){if(g<=0)return b}else if(b>0){if(g>=0)return b}else if(g)return g;if(b=i(c,p,u),g=i(c,p,o),b<0){if(g<=0)return b}else if(b>0){if(g>=0)return b}else if(g)return g;return u[0]-c[0]};var i=t(417);function r(n,l){var o,u,p,c;if(l[0][0]<l[1][0])o=l[0],u=l[1];else{if(!(l[0][0]>l[1][0])){var b=Math.min(n[0][1],n[1][1]),g=Math.max(n[0][1],n[1][1]),h=Math.min(l[0][1],l[1][1]),x=Math.max(l[0][1],l[1][1]);return g<h?g-h:b>x?b-x:g-x}o=l[1],u=l[0]}n[0][1]<n[1][1]?(p=n[0],c=n[1]):(p=n[1],c=n[0]);var v=i(u,o,p);return v||(v=i(u,o,c))||c-u}},4385:function(d,s,t){d.exports=function(g){for(var h=g.length,x=2*h,v=new Array(x),m=0;m<h;++m){var w=g[m],f=w[0][0]<w[1][0];v[2*m]=new b(w[0][0],w,f,m),v[2*m+1]=new b(w[1][0],w,!f,m)}v.sort(function(G,I){var H=G.x-I.x;return H||(H=G.create-I.create)||Math.min(G.segment[0][1],G.segment[1][1])-Math.min(I.segment[0][1],I.segment[1][1])});var S=r(l),T=[],E=[],L=[];for(m=0;m<x;){for(var C=v[m].x,P=[];m<x;){var R=v[m];if(R.x!==C)break;m+=1,R.segment[0][0]===R.x&&R.segment[1][0]===R.x?R.create&&(R.segment[0][1]<R.segment[1][1]?(P.push(new c(R.segment[0][1],R.index,!0,!0)),P.push(new c(R.segment[1][1],R.index,!1,!1))):(P.push(new c(R.segment[1][1],R.index,!0,!1)),P.push(new c(R.segment[0][1],R.index,!1,!0)))):S=R.create?S.insert(R.segment,R.index):S.remove(R.segment)}T.push(S.root),E.push(C),L.push(P)}return new o(T,E,L)};var i=t(5070),r=t(7080),n=t(417),l=t(6638);function o(g,h,x){this.slabs=g,this.coordinates=h,this.horizontal=x}function u(g,h){return g.y-h}function p(g,h){for(var x=null;g;){var v,m,w=g.key;w[0][0]<w[1][0]?(v=w[0],m=w[1]):(v=w[1],m=w[0]);var f=n(v,m,h);if(f<0)g=g.left;else if(f>0)if(h[0]!==w[1][0])x=g,g=g.right;else{if(S=p(g.right,h))return S;g=g.left}else{if(h[0]!==w[1][0])return g;var S;if(S=p(g.right,h))return S;g=g.left}}return x}function c(g,h,x,v){this.y=g,this.index=h,this.start=x,this.closed=v}function b(g,h,x,v){this.x=g,this.segment=h,this.create=x,this.index=v}o.prototype.castUp=function(g){var h=i.le(this.coordinates,g[0]);if(h<0)return-1;this.slabs[h];var x=p(this.slabs[h],g),v=-1;if(x&&(v=x.value),this.coordinates[h]===g[0]){var m=null;if(x&&(m=x.key),h>0){var w=p(this.slabs[h-1],g);w&&(m?l(w.key,m)>0&&(m=w.key,v=w.value):(v=w.value,m=w.key))}var f=this.horizontal[h];if(f.length>0){var S=i.ge(f,g[1],u);if(S<f.length){var T=f[S];if(g[1]===T.y){if(T.closed)return T.index;for(;S<f.length-1&&f[S+1].y===g[1];)if((T=f[S+=1]).closed)return T.index;if(T.y===g[1]&&!T.start){if((S+=1)>=f.length)return v;T=f[S]}}if(T.start)if(m){var E=n(m[0],m[1],[g[0],T.y]);m[0][0]>m[1][0]&&(E=-E),E>0&&(v=T.index)}else v=T.index;else T.y!==g[1]&&(v=T.index)}}}return v}},4670:function(d,s,t){var i=t(9130),r=t(9662);function n(o,u){var p=r(i(o,u),[u[u.length-1]]);return p[p.length-1]}function l(o,u,p,c){var b=-u/(c-u);b<0?b=0:b>1&&(b=1);for(var g=1-b,h=o.length,x=new Array(h),v=0;v<h;++v)x[v]=b*o[v]+g*p[v];return x}d.exports=function(o,u){for(var p=[],c=[],b=n(o[o.length-1],u),g=o[o.length-1],h=o[0],x=0;x<o.length;++x,g=h){var v=n(h=o[x],u);if(b<0&&v>0||b>0&&v<0){var m=l(g,v,h,b);p.push(m),c.push(m.slice())}v<0?c.push(h.slice()):v>0?p.push(h.slice()):(p.push(h.slice()),c.push(h.slice())),b=v}return{positive:p,negative:c}},d.exports.positive=function(o,u){for(var p=[],c=n(o[o.length-1],u),b=o[o.length-1],g=o[0],h=0;h<o.length;++h,b=g){var x=n(g=o[h],u);(c<0&&x>0||c>0&&x<0)&&p.push(l(b,x,g,c)),x>=0&&p.push(g.slice()),c=x}return p},d.exports.negative=function(o,u){for(var p=[],c=n(o[o.length-1],u),b=o[o.length-1],g=o[0],h=0;h<o.length;++h,b=g){var x=n(g=o[h],u);(c<0&&x>0||c>0&&x<0)&&p.push(l(b,x,g,c)),x<=0&&p.push(g.slice()),c=x}return p}},8974:function(d,s,t){var i;(function(){var r={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function n(u){return function(p,c){var b,g,h,x,v,m,w,f,S,T=1,E=p.length,L="";for(g=0;g<E;g++)if(typeof p[g]=="string")L+=p[g];else if(typeof p[g]=="object"){if((x=p[g]).keys)for(b=c[T],h=0;h<x.keys.length;h++){if(b==null)throw new Error(n('[sprintf] Cannot access property "%s" of undefined value "%s"',x.keys[h],x.keys[h-1]));b=b[x.keys[h]]}else b=x.param_no?c[x.param_no]:c[T++];if(r.not_type.test(x.type)&&r.not_primitive.test(x.type)&&b instanceof Function&&(b=b()),r.numeric_arg.test(x.type)&&typeof b!="number"&&isNaN(b))throw new TypeError(n("[sprintf] expecting number but found %T",b));switch(r.number.test(x.type)&&(f=b>=0),x.type){case"b":b=parseInt(b,10).toString(2);break;case"c":b=String.fromCharCode(parseInt(b,10));break;case"d":case"i":b=parseInt(b,10);break;case"j":b=JSON.stringify(b,null,x.width?parseInt(x.width):0);break;case"e":b=x.precision?parseFloat(b).toExponential(x.precision):parseFloat(b).toExponential();break;case"f":b=x.precision?parseFloat(b).toFixed(x.precision):parseFloat(b);break;case"g":b=x.precision?String(Number(b.toPrecision(x.precision))):parseFloat(b);break;case"o":b=(parseInt(b,10)>>>0).toString(8);break;case"s":b=String(b),b=x.precision?b.substring(0,x.precision):b;break;case"t":b=String(!!b),b=x.precision?b.substring(0,x.precision):b;break;case"T":b=Object.prototype.toString.call(b).slice(8,-1).toLowerCase(),b=x.precision?b.substring(0,x.precision):b;break;case"u":b=parseInt(b,10)>>>0;break;case"v":b=b.valueOf(),b=x.precision?b.substring(0,x.precision):b;break;case"x":b=(parseInt(b,10)>>>0).toString(16);break;case"X":b=(parseInt(b,10)>>>0).toString(16).toUpperCase()}r.json.test(x.type)?L+=b:(!r.number.test(x.type)||f&&!x.sign?S="":(S=f?"+":"-",b=b.toString().replace(r.sign,"")),m=x.pad_char?x.pad_char==="0"?"0":x.pad_char.charAt(1):" ",w=x.width-(S+b).length,v=x.width&&w>0?m.repeat(w):"",L+=x.align?S+b+v:m==="0"?S+v+b:v+S+b)}return L}(function(p){if(o[p])return o[p];for(var c,b=p,g=[],h=0;b;){if((c=r.text.exec(b))!==null)g.push(c[0]);else if((c=r.modulo.exec(b))!==null)g.push("%");else{if((c=r.placeholder.exec(b))===null)throw new SyntaxError("[sprintf] unexpected placeholder");if(c[2]){h|=1;var x=[],v=c[2],m=[];if((m=r.key.exec(v))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");for(x.push(m[1]);(v=v.substring(m[0].length))!=="";)if((m=r.key_access.exec(v))!==null)x.push(m[1]);else{if((m=r.index_access.exec(v))===null)throw new SyntaxError("[sprintf] failed to parse named argument key");x.push(m[1])}c[2]=x}else h|=2;if(h===3)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");g.push({placeholder:c[0],param_no:c[1],keys:c[2],sign:c[3],pad_char:c[4],align:c[5],width:c[6],precision:c[7],type:c[8]})}b=b.substring(c[0].length)}return o[p]=g}(u),arguments)}function l(u,p){return n.apply(null,[u].concat(p||[]))}var o=Object.create(null);s.sprintf=n,s.vsprintf=l,typeof window<"u"&&(window.sprintf=n,window.vsprintf=l,(i=(function(){return{sprintf:n,vsprintf:l}}).call(s,t,s,d))===void 0||(d.exports=i))})()},4162:function(d,s,t){d.exports=function(o,u){if(o.dimension<=0)return{positions:[],cells:[]};if(o.dimension===1)return function(b,g){for(var h=r(b,g),x=h.length,v=new Array(x),m=new Array(x),w=0;w<x;++w)v[w]=[h[w]],m[w]=[w];return{positions:v,cells:m}}(o,u);var p=o.order.join()+"-"+o.dtype,c=l[p];return u=+u||0,c||(c=l[p]=function(b,g){var h=b.length+"d",x=n[h];if(x)return x(i,b,g)}(o.order,o.dtype)),c(o,u)};var i=t(9284),r=t(9584),n={"2d":function(o,u,p){var c=o({order:u,scalarArguments:3,getters:p==="generic"?[0]:void 0,phase:function(b,g,h,x){return b>x|0},vertex:function(b,g,h,x,v,m,w,f,S,T,E,L,C){var P=(w<<0)+(f<<1)+(S<<2)+(T<<3)|0;if(P!==0&&P!==15)switch(P){case 0:case 15:E.push([b-.5,g-.5]);break;case 1:E.push([b-.25-.25*(x+h-2*C)/(h-x),g-.25-.25*(v+h-2*C)/(h-v)]);break;case 2:E.push([b-.75-.25*(-x-h+2*C)/(x-h),g-.25-.25*(m+x-2*C)/(x-m)]);break;case 3:E.push([b-.5,g-.5-.5*(v+h+m+x-4*C)/(h-v+x-m)]);break;case 4:E.push([b-.25-.25*(m+v-2*C)/(v-m),g-.75-.25*(-v-h+2*C)/(v-h)]);break;case 5:E.push([b-.5-.5*(x+h+m+v-4*C)/(h-x+v-m),g-.5]);break;case 6:E.push([b-.5-.25*(-x-h+m+v)/(x-h+v-m),g-.5-.25*(-v-h+m+x)/(v-h+x-m)]);break;case 7:E.push([b-.75-.25*(m+v-2*C)/(v-m),g-.75-.25*(m+x-2*C)/(x-m)]);break;case 8:E.push([b-.75-.25*(-m-v+2*C)/(m-v),g-.75-.25*(-m-x+2*C)/(m-x)]);break;case 9:E.push([b-.5-.25*(x+h+-m-v)/(h-x+m-v),g-.5-.25*(v+h+-m-x)/(h-v+m-x)]);break;case 10:E.push([b-.5-.5*(-x-h-m-v+4*C)/(x-h+m-v),g-.5]);break;case 11:E.push([b-.25-.25*(-m-v+2*C)/(m-v),g-.75-.25*(v+h-2*C)/(h-v)]);break;case 12:E.push([b-.5,g-.5-.5*(-v-h-m-x+4*C)/(v-h+m-x)]);break;case 13:E.push([b-.75-.25*(x+h-2*C)/(h-x),g-.25-.25*(-m-x+2*C)/(m-x)]);break;case 14:E.push([b-.25-.25*(-x-h+2*C)/(x-h),g-.25-.25*(-v-h+2*C)/(v-h)])}},cell:function(b,g,h,x,v,m,w,f,S){v?f.push([b,g]):f.push([g,b])}});return function(b,g){var h=[],x=[];return c(b,h,x,g),{positions:h,cells:x}}}},l={}},6946:function(d,s,t){d.exports=function l(o,u,p){p=p||{};var c=n[o];c||(c=n[o]={" ":{data:new Float32Array(0),shape:.2}});var b=c[u];if(!b)if(u.length<=1||!/\d/.test(u))b=c[u]=function(L){for(var C=L.cells,P=L.positions,R=new Float32Array(6*C.length),G=0,I=0,H=0;H<C.length;++H)for(var N=C[H],B=0;B<3;++B){var V=P[N[B]];R[G++]=V[0],R[G++]=V[1]+1.4,I=Math.max(V[0],I)}return{data:R,shape:I}}(i(u,{triangles:!0,font:o,textAlign:p.textAlign||"left",textBaseline:"alphabetic",styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0}}));else{for(var g=u.split(/(\d|\s)/),h=new Array(g.length),x=0,v=0,m=0;m<g.length;++m)h[m]=l(o,g[m]),x+=h[m].data.length,v+=h[m].shape,m>0&&(v+=.02);var w=new Float32Array(x),f=0,S=-.5*v;for(m=0;m<h.length;++m){for(var T=h[m].data,E=0;E<T.length;E+=2)w[f++]=T[E]+S,w[f++]=T[E+1];S+=h[m].shape+.02}b=c[u]={data:w,shape:v}}return b};var i=t(875),r=window||k.global||{},n=r.__TEXT_CACHE||{};r.__TEXT_CACHE={}},14:function(d,s,t){var i=t(4405);d.exports=l;var r=96;function n(o,u){var p=i(getComputedStyle(o).getPropertyValue(u));return p[0]*l(p[1],o)}function l(o,u){switch(u=u||document.body,o=(o||"px").trim().toLowerCase(),u!==window&&u!==document||(u=document.body),o){case"%":return u.clientHeight/100;case"ch":case"ex":return function(p,c){var b=document.createElement("div");b.style["font-size"]="128"+p,c.appendChild(b);var g=n(b,"font-size")/128;return c.removeChild(b),g}(o,u);case"em":return n(u,"font-size");case"rem":return n(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return r;case"cm":return r/2.54;case"mm":return r/25.4;case"pt":return r/72;case"pc":return r/6}return 1}},3440:function(d,s,t){d.exports=function(v){var m=(v=v||{}).center||[0,0,0],w=v.up||[0,1,0],f=v.right||b(w),S=v.radius||1,T=v.theta||0,E=v.phi||0;if(m=[].slice.call(m,0,3),w=[].slice.call(w,0,3),o(w,w),f=[].slice.call(f,0,3),o(f,f),"eye"in v){var L=v.eye,C=[L[0]-m[0],L[1]-m[1],L[2]-m[2]];l(f,C,w),p(f[0],f[1],f[2])<1e-6?f=b(w):o(f,f),S=p(C[0],C[1],C[2]);var P=u(w,C)/S,R=u(f,C)/S;E=Math.acos(P),T=Math.acos(R)}return S=Math.log(S),new g(v.zoomMin,v.zoomMax,m,w,f,S,T,E)};var i=t(8444),r=t(7437),n=t(4422),l=t(903),o=t(899),u=t(9305);function p(v,m,w){return Math.sqrt(Math.pow(v,2)+Math.pow(m,2)+Math.pow(w,2))}function c(v){return Math.min(1,Math.max(-1,v))}function b(v){var m=Math.abs(v[0]),w=Math.abs(v[1]),f=Math.abs(v[2]),S=[0,0,0];m>Math.max(w,f)?S[2]=1:w>Math.max(m,f)?S[0]=1:S[1]=1;for(var T=0,E=0,L=0;L<3;++L)T+=v[L]*v[L],E+=S[L]*v[L];for(L=0;L<3;++L)S[L]-=E/T*v[L];return o(S,S),S}function g(v,m,w,f,S,T,E,L){this.center=i(w),this.up=i(f),this.right=i(S),this.radius=i([T]),this.angle=i([E,L]),this.angle.bounds=[[-1/0,-Math.PI/2],[1/0,Math.PI/2]],this.setDistanceLimits(v,m),this.computedCenter=this.center.curve(0),this.computedUp=this.up.curve(0),this.computedRight=this.right.curve(0),this.computedRadius=this.radius.curve(0),this.computedAngle=this.angle.curve(0),this.computedToward=[0,0,0],this.computedEye=[0,0,0],this.computedMatrix=new Array(16);for(var C=0;C<16;++C)this.computedMatrix[C]=.5;this.recalcMatrix(0)}var h=g.prototype;h.setDistanceLimits=function(v,m){v=v>0?Math.log(v):-1/0,m=m>0?Math.log(m):1/0,m=Math.max(m,v),this.radius.bounds[0][0]=v,this.radius.bounds[1][0]=m},h.getDistanceLimits=function(v){var m=this.radius.bounds[0];return v?(v[0]=Math.exp(m[0][0]),v[1]=Math.exp(m[1][0]),v):[Math.exp(m[0][0]),Math.exp(m[1][0])]},h.recalcMatrix=function(v){this.center.curve(v),this.up.curve(v),this.right.curve(v),this.radius.curve(v),this.angle.curve(v);for(var m=this.computedUp,w=this.computedRight,f=0,S=0,T=0;T<3;++T)S+=m[T]*w[T],f+=m[T]*m[T];var E=Math.sqrt(f),L=0;for(T=0;T<3;++T)w[T]-=m[T]*S/f,L+=w[T]*w[T],m[T]/=E;var C=Math.sqrt(L);for(T=0;T<3;++T)w[T]/=C;var P=this.computedToward;l(P,m,w),o(P,P);var R=Math.exp(this.computedRadius[0]),G=this.computedAngle[0],I=this.computedAngle[1],H=Math.cos(G),N=Math.sin(G),B=Math.cos(I),V=Math.sin(I),q=this.computedCenter,te=H*B,$=N*B,K=V,Z=-H*V,X=-N*V,ee=B,ne=this.computedEye,re=this.computedMatrix;for(T=0;T<3;++T){var ae=te*w[T]+$*P[T]+K*m[T];re[4*T+1]=Z*w[T]+X*P[T]+ee*m[T],re[4*T+2]=ae,re[4*T+3]=0}var ue=re[1],pe=re[5],ge=re[9],we=re[2],me=re[6],ve=re[10],Ie=pe*ve-ge*me,Se=ge*we-ue*ve,ke=ue*me-pe*we,se=p(Ie,Se,ke);for(Ie/=se,Se/=se,ke/=se,re[0]=Ie,re[4]=Se,re[8]=ke,T=0;T<3;++T)ne[T]=q[T]+re[2+4*T]*R;for(T=0;T<3;++T){L=0;for(var oe=0;oe<3;++oe)L+=re[T+4*oe]*ne[oe];re[12+T]=-L}re[15]=1},h.getMatrix=function(v,m){this.recalcMatrix(v);var w=this.computedMatrix;if(m){for(var f=0;f<16;++f)m[f]=w[f];return m}return w};var x=[0,0,0];h.rotate=function(v,m,w,f){if(this.angle.move(v,m,w),f){this.recalcMatrix(v);var S=this.computedMatrix;x[0]=S[2],x[1]=S[6],x[2]=S[10];for(var T=this.computedUp,E=this.computedRight,L=this.computedToward,C=0;C<3;++C)S[4*C]=T[C],S[4*C+1]=E[C],S[4*C+2]=L[C];for(n(S,S,f,x),C=0;C<3;++C)T[C]=S[4*C],E[C]=S[4*C+1];this.up.set(v,T[0],T[1],T[2]),this.right.set(v,E[0],E[1],E[2])}},h.pan=function(v,m,w,f){m=m||0,w=w||0,f=f||0,this.recalcMatrix(v);var S=this.computedMatrix,T=(Math.exp(this.computedRadius[0]),S[1]),E=S[5],L=S[9],C=p(T,E,L);T/=C,E/=C,L/=C;var P=S[0],R=S[4],G=S[8],I=P*T+R*E+G*L,H=p(P-=T*I,R-=E*I,G-=L*I),N=(P/=H)*m+T*w,B=(R/=H)*m+E*w,V=(G/=H)*m+L*w;this.center.move(v,N,B,V);var q=Math.exp(this.computedRadius[0]);q=Math.max(1e-4,q+f),this.radius.set(v,Math.log(q))},h.translate=function(v,m,w,f){this.center.move(v,m||0,w||0,f||0)},h.setMatrix=function(v,m,w,f){var S=1;typeof w=="number"&&(S=0|w),(S<0||S>3)&&(S=1);var T=(S+2)%3;m||(this.recalcMatrix(v),m=this.computedMatrix);var E=m[S],L=m[S+4],C=m[S+8];if(f){var P=Math.abs(E),R=Math.abs(L),G=Math.abs(C),I=Math.max(P,R,G);P===I?(E=E<0?-1:1,L=C=0):G===I?(C=C<0?-1:1,E=L=0):(L=L<0?-1:1,E=C=0)}else{var H=p(E,L,C);E/=H,L/=H,C/=H}var N,B,V=m[T],q=m[T+4],te=m[T+8],$=V*E+q*L+te*C,K=p(V-=E*$,q-=L*$,te-=C*$),Z=L*(te/=K)-C*(q/=K),X=C*(V/=K)-E*te,ee=E*q-L*V,ne=p(Z,X,ee);if(Z/=ne,X/=ne,ee/=ne,this.center.jump(v,_e,De,Ne),this.radius.idle(v),this.up.jump(v,E,L,C),this.right.jump(v,V,q,te),S===2){var re=m[1],ae=m[5],ue=m[9],pe=re*V+ae*q+ue*te,ge=re*Z+ae*X+ue*ee;N=Ie<0?-Math.PI/2:Math.PI/2,B=Math.atan2(ge,pe)}else{var we=m[2],me=m[6],ve=m[10],Ie=we*E+me*L+ve*C,Se=we*V+me*q+ve*te,ke=we*Z+me*X+ve*ee;N=Math.asin(c(Ie)),B=Math.atan2(ke,Se)}this.angle.jump(v,B,N),this.recalcMatrix(v);var se=m[2],oe=m[6],he=m[10],Le=this.computedMatrix;r(Le,m);var Me=Le[15],_e=Le[12]/Me,De=Le[13]/Me,Ne=Le[14]/Me,ce=Math.exp(this.computedRadius[0]);this.center.jump(v,_e-se*ce,De-oe*ce,Ne-he*ce)},h.lastT=function(){return Math.max(this.center.lastT(),this.up.lastT(),this.right.lastT(),this.radius.lastT(),this.angle.lastT())},h.idle=function(v){this.center.idle(v),this.up.idle(v),this.right.idle(v),this.radius.idle(v),this.angle.idle(v)},h.flush=function(v){this.center.flush(v),this.up.flush(v),this.right.flush(v),this.radius.flush(v),this.angle.flush(v)},h.setDistance=function(v,m){m>0&&this.radius.set(v,Math.log(m))},h.lookAt=function(v,m,w,f){this.recalcMatrix(v),m=m||this.computedEye,w=w||this.computedCenter;var S=(f=f||this.computedUp)[0],T=f[1],E=f[2],L=p(S,T,E);if(!(L<1e-6)){S/=L,T/=L,E/=L;var C=m[0]-w[0],P=m[1]-w[1],R=m[2]-w[2],G=p(C,P,R);if(!(G<1e-6)){C/=G,P/=G,R/=G;var I=this.computedRight,H=I[0],N=I[1],B=I[2],V=S*H+T*N+E*B,q=p(H-=V*S,N-=V*T,B-=V*E);if(!(q<.01&&(q=p(H=T*R-E*P,N=E*C-S*R,B=S*P-T*C))<1e-6)){H/=q,N/=q,B/=q,this.up.set(v,S,T,E),this.right.set(v,H,N,B),this.center.set(v,w[0],w[1],w[2]),this.radius.set(v,Math.log(G));var te=T*B-E*N,$=E*H-S*B,K=S*N-T*H,Z=p(te,$,K),X=S*C+T*P+E*R,ee=H*C+N*P+B*R,ne=(te/=Z)*C+($/=Z)*P+(K/=Z)*R,re=Math.asin(c(X)),ae=Math.atan2(ne,ee),ue=this.angle._state,pe=ue[ue.length-1],ge=ue[ue.length-2];pe%=2*Math.PI;var we=Math.abs(pe+2*Math.PI-ae),me=Math.abs(pe-ae),ve=Math.abs(pe-2*Math.PI-ae);we<me&&(pe+=2*Math.PI),ve<me&&(pe-=2*Math.PI),this.angle.jump(this.angle.lastT(),pe,ge),this.angle.set(v,ae,re)}}}}},9660:function(d){d.exports=function(t,i,r){var n=t*i,l=s*t,o=l-(l-t),u=t-o,p=s*i,c=p-(p-i),b=i-c,g=u*b-(n-o*c-u*c-o*b);return r?(r[0]=g,r[1]=n,r):[g,n]};var s=+(Math.pow(2,27)+1)},87:function(d){d.exports=function(s,t,i){var r=s+t,n=r-s,l=t-n,o=s-(r-n);return i?(i[0]=o+l,i[1]=r,i):[o+l,r]}},5306:function(d,s,t){var i=t(2288),r=t(3094),n=t(2146).lW;t.g.__TYPEDARRAY_POOL||(t.g.__TYPEDARRAY_POOL={UINT8:r([32,0]),UINT16:r([32,0]),UINT32:r([32,0]),BIGUINT64:r([32,0]),INT8:r([32,0]),INT16:r([32,0]),INT32:r([32,0]),BIGINT64:r([32,0]),FLOAT:r([32,0]),DOUBLE:r([32,0]),DATA:r([32,0]),UINT8C:r([32,0]),BUFFER:r([32,0])});var l=typeof Uint8ClampedArray<"u",o=typeof BigUint64Array<"u",u=typeof BigInt64Array<"u",p=t.g.__TYPEDARRAY_POOL;p.UINT8C||(p.UINT8C=r([32,0])),p.BIGUINT64||(p.BIGUINT64=r([32,0])),p.BIGINT64||(p.BIGINT64=r([32,0])),p.BUFFER||(p.BUFFER=r([32,0]));var c=p.DATA,b=p.BUFFER;function g(I){if(I){var H=I.length||I.byteLength,N=i.log2(H);c[N].push(I)}}function h(I){I=i.nextPow2(I);var H=i.log2(I),N=c[H];return N.length>0?N.pop():new ArrayBuffer(I)}function x(I){return new Uint8Array(h(I),0,I)}function v(I){return new Uint16Array(h(2*I),0,I)}function m(I){return new Uint32Array(h(4*I),0,I)}function w(I){return new Int8Array(h(I),0,I)}function f(I){return new Int16Array(h(2*I),0,I)}function S(I){return new Int32Array(h(4*I),0,I)}function T(I){return new Float32Array(h(4*I),0,I)}function E(I){return new Float64Array(h(8*I),0,I)}function L(I){return l?new Uint8ClampedArray(h(I),0,I):x(I)}function C(I){return o?new BigUint64Array(h(8*I),0,I):null}function P(I){return u?new BigInt64Array(h(8*I),0,I):null}function R(I){return new DataView(h(I),0,I)}function G(I){I=i.nextPow2(I);var H=i.log2(I),N=b[H];return N.length>0?N.pop():new n(I)}s.free=function(I){if(n.isBuffer(I))b[i.log2(I.length)].push(I);else{if(Object.prototype.toString.call(I)!=="[object ArrayBuffer]"&&(I=I.buffer),!I)return;var H=I.length||I.byteLength,N=0|i.log2(H);c[N].push(I)}},s.freeUint8=s.freeUint16=s.freeUint32=s.freeBigUint64=s.freeInt8=s.freeInt16=s.freeInt32=s.freeBigInt64=s.freeFloat32=s.freeFloat=s.freeFloat64=s.freeDouble=s.freeUint8Clamped=s.freeDataView=function(I){g(I.buffer)},s.freeArrayBuffer=g,s.freeBuffer=function(I){b[i.log2(I.length)].push(I)},s.malloc=function(I,H){if(H===void 0||H==="arraybuffer")return h(I);switch(H){case"uint8":return x(I);case"uint16":return v(I);case"uint32":return m(I);case"int8":return w(I);case"int16":return f(I);case"int32":return S(I);case"float":case"float32":return T(I);case"double":case"float64":return E(I);case"uint8_clamped":return L(I);case"bigint64":return P(I);case"biguint64":return C(I);case"buffer":return G(I);case"data":case"dataview":return R(I);default:return null}return null},s.mallocArrayBuffer=h,s.mallocUint8=x,s.mallocUint16=v,s.mallocUint32=m,s.mallocInt8=w,s.mallocInt16=f,s.mallocInt32=S,s.mallocFloat32=s.mallocFloat=T,s.mallocFloat64=s.mallocDouble=E,s.mallocUint8Clamped=L,s.mallocBigUint64=C,s.mallocBigInt64=P,s.mallocDataView=R,s.mallocBuffer=G,s.clearCache=function(){for(var I=0;I<32;++I)p.UINT8[I].length=0,p.UINT16[I].length=0,p.UINT32[I].length=0,p.INT8[I].length=0,p.INT16[I].length=0,p.INT32[I].length=0,p.FLOAT[I].length=0,p.DOUBLE[I].length=0,p.BIGUINT64[I].length=0,p.BIGINT64[I].length=0,p.UINT8C[I].length=0,c[I].length=0,b[I].length=0}},1731:function(d){function s(i){this.roots=new Array(i),this.ranks=new Array(i);for(var r=0;r<i;++r)this.roots[r]=r,this.ranks[r]=0}d.exports=s;var t=s.prototype;Object.defineProperty(t,"length",{get:function(){return this.roots.length}}),t.makeSet=function(){var i=this.roots.length;return this.roots.push(i),this.ranks.push(0),i},t.find=function(i){for(var r=i,n=this.roots;n[i]!==i;)i=n[i];for(;n[r]!==i;){var l=n[r];n[r]=i,r=l}return i},t.link=function(i,r){var n=this.find(i),l=this.find(r);if(n!==l){var o=this.ranks,u=this.roots,p=o[n],c=o[l];p<c?u[n]=l:c<p?u[l]=n:(u[l]=n,++o[n])}}},1215:function(d){d.exports=function(s,t,i){return s.length===0?s:t?(i||s.sort(t),function(r,n){for(var l=1,o=r.length,u=r[0],p=r[0],c=1;c<o;++c)if(p=u,n(u=r[c],p)){if(c===l){l++;continue}r[l++]=u}return r.length=l,r}(s,t)):(i||s.sort(),function(r){for(var n=1,l=r.length,o=r[0],u=r[0],p=1;p<l;++p,u=o)if(u=o,(o=r[p])!==u){if(p===n){n++;continue}r[n++]=o}return r.length=n,r}(s))}},875:function(d,s,t){d.exports=function(l,o){return typeof o=="object"&&o!==null||(o={}),i(l,o.canvas||r,o.context||n,o)};var i=t(712),r=null,n=null;typeof document<"u"&&((r=document.createElement("canvas")).width=8192,r.height=1024,n=r.getContext("2d"))},712:function(d,s,t){d.exports=function(C,P,R,G){var I=64,H=1.25,N={breaklines:!1,bolds:!1,italics:!1,subscripts:!1,superscripts:!1};return G&&(G.size&&G.size>0&&(I=G.size),G.lineSpacing&&G.lineSpacing>0&&(H=G.lineSpacing),G.styletags&&G.styletags.breaklines&&(N.breaklines=!!G.styletags.breaklines),G.styletags&&G.styletags.bolds&&(N.bolds=!!G.styletags.bolds),G.styletags&&G.styletags.italics&&(N.italics=!!G.styletags.italics),G.styletags&&G.styletags.subscripts&&(N.subscripts=!!G.styletags.subscripts),G.styletags&&G.styletags.superscripts&&(N.superscripts=!!G.styletags.superscripts)),R.font=[G.fontStyle,G.fontVariant,G.fontWeight,I+"px",G.font].filter(function(B){return B}).join(" "),R.textAlign="start",R.textBaseline="alphabetic",R.direction="ltr",L(function(B,V,q,te,$,K){q=q.replace(/\n/g,""),q=K.breaklines===!0?q.replace(/\<br\>/g,`
`):q.replace(/\<br\>/g," ");var Z="",X=[];for(ae=0;ae<q.length;++ae)X[ae]=Z;K.bolds===!0&&(X=S(p,c,q,X)),K.italics===!0&&(X=S(b,g,q,X)),K.superscripts===!0&&(X=S(h,v,q,X)),K.subscripts===!0&&(X=S(m,f,q,X));var ee=[],ne="";for(ae=0;ae<q.length;++ae)X[ae]!==null&&(ne+=q[ae],ee.push(X[ae]));var re,ae,ue,pe,ge,we=ne.split(`
`),me=we.length,ve=Math.round($*te),Ie=te,Se=2*te,ke=0,se=me*ve+Se;B.height<se&&(B.height=se),V.fillStyle="#000",V.fillRect(0,0,B.width,B.height),V.fillStyle="#fff";var oe=0,he="";function Le(){if(he!==""){var Oe=V.measureText(he).width;V.fillText(he,Ie+ue,Se+pe),ue+=Oe}}function Me(){return Math.round(ge)+"px "}function _e(Oe,Be){var Fe=""+V.font;if(K.subscripts===!0){var Ge=Oe.indexOf(w),Ze=Be.indexOf(w),et=Ge>-1?parseInt(Oe[1+Ge]):0,ft=Ze>-1?parseInt(Be[1+Ze]):0;et!==ft&&(Fe=Fe.replace(Me(),"?px "),ge*=Math.pow(.75,ft-et),Fe=Fe.replace("?px ",Me())),pe+=.25*ve*(ft-et)}if(K.superscripts===!0){var rt=Oe.indexOf(x),_t=Be.indexOf(x),kt=rt>-1?parseInt(Oe[1+rt]):0,wt=_t>-1?parseInt(Be[1+_t]):0;kt!==wt&&(Fe=Fe.replace(Me(),"?px "),ge*=Math.pow(.75,wt-kt),Fe=Fe.replace("?px ",Me())),pe-=.25*ve*(wt-kt)}if(K.bolds===!0){var lt=Oe.indexOf(c)>-1,ut=Be.indexOf(c)>-1;!lt&&ut&&(Fe=Et?Fe.replace("italic ","italic bold "):"bold "+Fe),lt&&!ut&&(Fe=Fe.replace("bold ",""))}if(K.italics===!0){var Et=Oe.indexOf(g)>-1,Ot=Be.indexOf(g)>-1;!Et&&Ot&&(Fe="italic "+Fe),Et&&!Ot&&(Fe=Fe.replace("italic ",""))}V.font=Fe}for(re=0;re<me;++re){var De=we[re]+`
`;for(ue=0,pe=re*ve,ge=te,he="",ae=0;ae<De.length;++ae){var Ne=ae+oe<ee.length?ee[ae+oe]:ee[ee.length-1];Z===Ne?he+=De[ae]:(Le(),he=De[ae],Ne!==void 0&&(_e(Z,Ne),Z=Ne))}Le(),oe+=De.length;var ce=0|Math.round(ue+2*Ie);ke<ce&&(ke=ce)}var Te=ke,ye=Se+ve*me;return r(V.getImageData(0,0,Te,ye).data,[ye,Te,4]).pick(-1,-1,0).transpose(1,0)}(P,R,C,I,H,N),G,I)},d.exports.processPixels=L;var i=t(4162),r=t(5050),n=t(8243),l=t(197),o=t(7761),u=t(8040),p="b",c="b|",b="i",g="i|",h="sup",x="+",v="+1",m="sub",w="-",f="-1";function S(C,P,R,G){for(var I="<"+C+">",H="</"+C+">",N=I.length,B=H.length,V=P[0]===x||P[0]===w,q=0,te=-B;q>-1&&(q=R.indexOf(I,q))!==-1&&(te=R.indexOf(H,q+N))!==-1&&!(te<=q);){for(var $=q;$<te+B;++$)if($<q+N||$>=te)G[$]=null,R=R.substr(0,$)+" "+R.substr($+1);else if(G[$]!==null){var K=G[$].indexOf(P[0]);K===-1?G[$]+=P:V&&(G[$]=G[$].substr(0,K+1)+(1+parseInt(G[$][K+1]))+G[$].substr(K+2))}var Z=q+N,X=R.substr(Z,te-Z).indexOf(I);q=X!==-1?X:te+B}return G}function T(C,P){var R=i(C,128);return P?n(R.cells,R.positions,.25):{edges:R.cells,positions:R.positions}}function E(C,P,R,G){var I=T(C,G),H=function(re,ae,ue){for(var pe=ae.textAlign||"start",ge=ae.textBaseline||"alphabetic",we=[1<<30,1<<30],me=[0,0],ve=re.length,Ie=0;Ie<ve;++Ie)for(var Se=re[Ie],ke=0;ke<2;++ke)we[ke]=0|Math.min(we[ke],Se[ke]),me[ke]=0|Math.max(me[ke],Se[ke]);var se=0;switch(pe){case"center":se=-.5*(we[0]+me[0]);break;case"right":case"end":se=-me[0];break;case"left":case"start":se=-we[0];break;default:throw new Error("vectorize-text: Unrecognized textAlign: '"+pe+"'")}var oe=0;switch(ge){case"hanging":case"top":oe=-we[1];break;case"middle":oe=-.5*(we[1]+me[1]);break;case"alphabetic":case"ideographic":oe=-3*ue;break;case"bottom":oe=-me[1];break;default:throw new Error("vectorize-text: Unrecoginized textBaseline: '"+ge+"'")}var he=1/ue;return"lineHeight"in ae?he*=+ae.lineHeight:"width"in ae?he=ae.width/(me[0]-we[0]):"height"in ae&&(he=ae.height/(me[1]-we[1])),re.map(function(Le){return[he*(Le[0]+se),he*(Le[1]+oe)]})}(I.positions,P,R),N=I.edges,B=P.orientation==="ccw";if(l(H,N),P.polygons||P.polygon||P.polyline){for(var V=u(N,H),q=new Array(V.length),te=0;te<V.length;++te){for(var $=V[te],K=new Array($.length),Z=0;Z<$.length;++Z){for(var X=$[Z],ee=new Array(X.length),ne=0;ne<X.length;++ne)ee[ne]=H[X[ne]].slice();B&&ee.reverse(),K[Z]=ee}q[te]=K}return q}return P.triangles||P.triangulate||P.triangle?{cells:o(H,N,{delaunay:!1,exterior:!1,interior:!0}),positions:H}:{edges:N,positions:H}}function L(C,P,R){try{return E(C,P,R,!0)}catch{}try{return E(C,P,R,!1)}catch{}return P.polygons||P.polyline||P.polygon?[]:P.triangles||P.triangulate||P.triangle?{cells:[],positions:[]}:{edges:[],positions:[]}}},5346:function(d){(function(){if(typeof ses>"u"||!ses.ok||ses.ok()){typeof ses<"u"&&(ses.weakMapPermitHostObjects=m);var s=!1;if(typeof WeakMap=="function"){var t=WeakMap;if(!(typeof navigator<"u"&&/Firefox/.test(navigator.userAgent))){var i=new t,r=Object.freeze({});if(i.set(r,1),i.get(r)===1)return void(d.exports=WeakMap);s=!0}}var n=Object.getOwnPropertyNames,l=Object.defineProperty,o=Object.isExtensible,u="weakmap:",p=u+"ident:"+Math.random()+"___";if(typeof crypto<"u"&&typeof crypto.getRandomValues=="function"&&typeof ArrayBuffer=="function"&&typeof Uint8Array=="function"){var c=new ArrayBuffer(25),b=new Uint8Array(c);crypto.getRandomValues(b),p=u+"rand:"+Array.prototype.map.call(b,function(E){return(E%36).toString(36)}).join("")+"___"}if(l(Object,"getOwnPropertyNames",{value:function(E){return n(E).filter(w)}}),"getPropertyNames"in Object){var g=Object.getPropertyNames;l(Object,"getPropertyNames",{value:function(E){return g(E).filter(w)}})}(function(){var E=Object.freeze;l(Object,"freeze",{value:function(P){return f(P),E(P)}});var L=Object.seal;l(Object,"seal",{value:function(P){return f(P),L(P)}});var C=Object.preventExtensions;l(Object,"preventExtensions",{value:function(P){return f(P),C(P)}})})();var h=!1,x=0,v=function(){this instanceof v||T();var E=[],L=[],C=x++;return Object.create(v.prototype,{get___:{value:S(function(P,R){var G,I=f(P);return I?C in I?I[C]:R:(G=E.indexOf(P))>=0?L[G]:R})},has___:{value:S(function(P){var R=f(P);return R?C in R:E.indexOf(P)>=0})},set___:{value:S(function(P,R){var G,I=f(P);return I?I[C]=R:(G=E.indexOf(P))>=0?L[G]=R:(G=E.length,L[G]=R,E[G]=P),this})},delete___:{value:S(function(P){var R,G,I=f(P);return I?C in I&&delete I[C]:!((R=E.indexOf(P))<0||(G=E.length-1,E[R]=void 0,L[R]=L[G],E[R]=E[G],E.length=G,L.length=G,0))})}})};v.prototype=Object.create(Object.prototype,{get:{value:function(E,L){return this.get___(E,L)},writable:!0,configurable:!0},has:{value:function(E){return this.has___(E)},writable:!0,configurable:!0},set:{value:function(E,L){return this.set___(E,L)},writable:!0,configurable:!0},delete:{value:function(E){return this.delete___(E)},writable:!0,configurable:!0}}),typeof t=="function"?function(){function E(){this instanceof v||T();var L,C=new t,P=void 0,R=!1;return L=s?function(G,I){return C.set(G,I),C.has(G)||(P||(P=new v),P.set(G,I)),this}:function(G,I){if(R)try{C.set(G,I)}catch{P||(P=new v),P.set___(G,I)}else C.set(G,I);return this},Object.create(v.prototype,{get___:{value:S(function(G,I){return P?C.has(G)?C.get(G):P.get___(G,I):C.get(G,I)})},has___:{value:S(function(G){return C.has(G)||!!P&&P.has___(G)})},set___:{value:S(L)},delete___:{value:S(function(G){var I=!!C.delete(G);return P&&P.delete___(G)||I})},permitHostObjects___:{value:S(function(G){if(G!==m)throw new Error("bogus call to permitHostObjects___");R=!0})}})}s&&typeof Proxy<"u"&&(Proxy=void 0),E.prototype=v.prototype,d.exports=E,Object.defineProperty(WeakMap.prototype,"constructor",{value:WeakMap,enumerable:!1,configurable:!0,writable:!0})}():(typeof Proxy<"u"&&(Proxy=void 0),d.exports=v)}function m(E){E.permitHostObjects___&&E.permitHostObjects___(m)}function w(E){return!(E.substr(0,8)==u&&E.substr(E.length-3)==="___")}function f(E){if(E!==Object(E))throw new TypeError("Not an object: "+E);var L=E[p];if(L&&L.key===E)return L;if(o(E)){L={key:E};try{return l(E,p,{value:L,writable:!1,enumerable:!1,configurable:!1}),L}catch{return}}}function S(E){return E.prototype=null,Object.freeze(E)}function T(){h||typeof console>"u"||(h=!0,console.warn("WeakMap should be invoked as new WeakMap(), not WeakMap(). This will be an error in the future."))}})()},9222:function(d,s,t){var i=t(7178);d.exports=function(){var r={};return function(n){if((typeof n!="object"||n===null)&&typeof n!="function")throw new Error("Weakmap-shim: Key must be object");var l=n.valueOf(r);return l&&l.identity===r?l:i(n,r)}}},7178:function(d){d.exports=function(s,t){var i={identity:t},r=s.valueOf;return Object.defineProperty(s,"valueOf",{value:function(n){return n!==t?r.apply(this,arguments):i},writable:!0}),i}},4037:function(d,s,t){var i=t(9222);d.exports=function(){var r=i();return{get:function(n,l){var o=r(n);return o.hasOwnProperty("value")?o.value:l},set:function(n,l){return r(n).value=l,this},has:function(n){return"value"in r(n)},delete:function(n){return delete r(n).value}}}},6183:function(d){d.exports=function(s){var t={};return function(i,r,n){var l=i.dtype,o=i.order,u=[l,o.join()].join(),p=t[u];return p||(t[u]=p=s([l,o])),p(i.shape.slice(0),i.data,i.stride,0|i.offset,r,n)}}((function(){return function(s,t,i,r,n,l){var o=s[0],u=i[0],p=[0],c=u;r|=0;var b=0,g=u;for(b=0;b<o;++b){var h=t[r]-l,x=t[r+c]-l;h>=0!=x>=0&&n.push(p[0]+.5+.5*(h+x)/(h-x)),r+=g,++p[0]}}}).bind(void 0,{funcName:"zeroCrossings"}))},9584:function(d,s,t){d.exports=function(r,n){var l=[];return n=+n||0,i(r.hi(r.shape[0]-1),l,n),l};var i=t(6183)},6601:function(){}},_={};function y(d){var s=_[d];if(s!==void 0)return s.exports;var t=_[d]={id:d,loaded:!1,exports:{}};return a[d].call(t.exports,t,t.exports,y),t.loaded=!0,t.exports}return y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),y.nmd=function(d){return d.paths=[],d.children||(d.children=[]),d},y(7386)}()},Y.exports=M()},12856:function(Y,O,e){function M(se,oe){for(var he=0;he<oe.length;he++){var Le=oe[he];Le.enumerable=Le.enumerable||!1,Le.configurable=!0,"value"in Le&&(Le.writable=!0),Object.defineProperty(se,(Me=function(_e,De){if(y(_e)!=="object"||_e===null)return _e;var Ne=_e[Symbol.toPrimitive];if(Ne!==void 0){var ce=Ne.call(_e,"string");if(y(ce)!=="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_e)}(Le.key),y(Me)==="symbol"?Me:String(Me)),Le)}var Me}function k(se,oe){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(he,Le){return he.__proto__=Le,he},k(se,oe)}function a(se){if(se===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}function _(se){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},_(se)}function y(se){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(oe){return typeof oe}:function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},y(se)}var d=e(95341),s=e(95280),t=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;O.Buffer=n,O.SlowBuffer=function(se){return+se!=se&&(se=0),n.alloc(+se)},O.INSPECT_MAX_BYTES=50;var i=2147483647;function r(se){if(se>i)throw new RangeError('The value "'+se+'" is invalid for option "size"');var oe=new Uint8Array(se);return Object.setPrototypeOf(oe,n.prototype),oe}function n(se,oe,he){if(typeof se=="number"){if(typeof oe=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(se)}return l(se,oe,he)}function l(se,oe,he){if(typeof se=="string")return function(_e,De){if(typeof De=="string"&&De!==""||(De="utf8"),!n.isEncoding(De))throw new TypeError("Unknown encoding: "+De);var Ne=0|g(_e,De),ce=r(Ne),Te=ce.write(_e,De);return Te!==Ne&&(ce=ce.slice(0,Te)),ce}(se,oe);if(ArrayBuffer.isView(se))return function(_e){if(me(_e,Uint8Array)){var De=new Uint8Array(_e);return c(De.buffer,De.byteOffset,De.byteLength)}return p(_e)}(se);if(se==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+y(se));if(me(se,ArrayBuffer)||se&&me(se.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(se,SharedArrayBuffer)||se&&me(se.buffer,SharedArrayBuffer)))return c(se,oe,he);if(typeof se=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Le=se.valueOf&&se.valueOf();if(Le!=null&&Le!==se)return n.from(Le,oe,he);var Me=function(_e){if(n.isBuffer(_e)){var De=0|b(_e.length),Ne=r(De);return Ne.length===0||_e.copy(Ne,0,0,De),Ne}return _e.length!==void 0?typeof _e.length!="number"||ve(_e.length)?r(0):p(_e):_e.type==="Buffer"&&Array.isArray(_e.data)?p(_e.data):void 0}(se);if(Me)return Me;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof se[Symbol.toPrimitive]=="function")return n.from(se[Symbol.toPrimitive]("string"),oe,he);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+y(se))}function o(se){if(typeof se!="number")throw new TypeError('"size" argument must be of type number');if(se<0)throw new RangeError('The value "'+se+'" is invalid for option "size"')}function u(se){return o(se),r(se<0?0:0|b(se))}function p(se){for(var oe=se.length<0?0:0|b(se.length),he=r(oe),Le=0;Le<oe;Le+=1)he[Le]=255&se[Le];return he}function c(se,oe,he){if(oe<0||se.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(se.byteLength<oe+(he||0))throw new RangeError('"length" is outside of buffer bounds');var Le;return Le=oe===void 0&&he===void 0?new Uint8Array(se):he===void 0?new Uint8Array(se,oe):new Uint8Array(se,oe,he),Object.setPrototypeOf(Le,n.prototype),Le}function b(se){if(se>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|se}function g(se,oe){if(n.isBuffer(se))return se.length;if(ArrayBuffer.isView(se)||me(se,ArrayBuffer))return se.byteLength;if(typeof se!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+y(se));var he=se.length,Le=arguments.length>2&&arguments[2]===!0;if(!Le&&he===0)return 0;for(var Me=!1;;)switch(oe){case"ascii":case"latin1":case"binary":return he;case"utf8":case"utf-8":return pe(se).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*he;case"hex":return he>>>1;case"base64":return ge(se).length;default:if(Me)return Le?-1:pe(se).length;oe=(""+oe).toLowerCase(),Me=!0}}function h(se,oe,he){var Le=!1;if((oe===void 0||oe<0)&&(oe=0),oe>this.length||((he===void 0||he>this.length)&&(he=this.length),he<=0)||(he>>>=0)<=(oe>>>=0))return"";for(se||(se="utf8");;)switch(se){case"hex":return I(this,oe,he);case"utf8":case"utf-8":return C(this,oe,he);case"ascii":return R(this,oe,he);case"latin1":case"binary":return G(this,oe,he);case"base64":return L(this,oe,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,oe,he);default:if(Le)throw new TypeError("Unknown encoding: "+se);se=(se+"").toLowerCase(),Le=!0}}function x(se,oe,he){var Le=se[oe];se[oe]=se[he],se[he]=Le}function v(se,oe,he,Le,Me){if(se.length===0)return-1;if(typeof he=="string"?(Le=he,he=0):he>2147483647?he=2147483647:he<-2147483648&&(he=-2147483648),ve(he=+he)&&(he=Me?0:se.length-1),he<0&&(he=se.length+he),he>=se.length){if(Me)return-1;he=se.length-1}else if(he<0){if(!Me)return-1;he=0}if(typeof oe=="string"&&(oe=n.from(oe,Le)),n.isBuffer(oe))return oe.length===0?-1:m(se,oe,he,Le,Me);if(typeof oe=="number")return oe&=255,typeof Uint8Array.prototype.indexOf=="function"?Me?Uint8Array.prototype.indexOf.call(se,oe,he):Uint8Array.prototype.lastIndexOf.call(se,oe,he):m(se,[oe],he,Le,Me);throw new TypeError("val must be string, number or Buffer")}function m(se,oe,he,Le,Me){var _e,De=1,Ne=se.length,ce=oe.length;if(Le!==void 0&&((Le=String(Le).toLowerCase())==="ucs2"||Le==="ucs-2"||Le==="utf16le"||Le==="utf-16le")){if(se.length<2||oe.length<2)return-1;De=2,Ne/=2,ce/=2,he/=2}function Te(Fe,Ge){return De===1?Fe[Ge]:Fe.readUInt16BE(Ge*De)}if(Me){var ye=-1;for(_e=he;_e<Ne;_e++)if(Te(se,_e)===Te(oe,ye===-1?0:_e-ye)){if(ye===-1&&(ye=_e),_e-ye+1===ce)return ye*De}else ye!==-1&&(_e-=_e-ye),ye=-1}else for(he+ce>Ne&&(he=Ne-ce),_e=he;_e>=0;_e--){for(var Oe=!0,Be=0;Be<ce;Be++)if(Te(se,_e+Be)!==Te(oe,Be)){Oe=!1;break}if(Oe)return _e}return-1}function w(se,oe,he,Le){he=Number(he)||0;var Me=se.length-he;Le?(Le=Number(Le))>Me&&(Le=Me):Le=Me;var _e,De=oe.length;for(Le>De/2&&(Le=De/2),_e=0;_e<Le;++_e){var Ne=parseInt(oe.substr(2*_e,2),16);if(ve(Ne))return _e;se[he+_e]=Ne}return _e}function f(se,oe,he,Le){return we(pe(oe,se.length-he),se,he,Le)}function S(se,oe,he,Le){return we(function(Me){for(var _e=[],De=0;De<Me.length;++De)_e.push(255&Me.charCodeAt(De));return _e}(oe),se,he,Le)}function T(se,oe,he,Le){return we(ge(oe),se,he,Le)}function E(se,oe,he,Le){return we(function(Me,_e){for(var De,Ne,ce,Te=[],ye=0;ye<Me.length&&!((_e-=2)<0);++ye)Ne=(De=Me.charCodeAt(ye))>>8,ce=De%256,Te.push(ce),Te.push(Ne);return Te}(oe,se.length-he),se,he,Le)}function L(se,oe,he){return oe===0&&he===se.length?d.fromByteArray(se):d.fromByteArray(se.slice(oe,he))}function C(se,oe,he){he=Math.min(se.length,he);for(var Le=[],Me=oe;Me<he;){var _e=se[Me],De=null,Ne=_e>239?4:_e>223?3:_e>191?2:1;if(Me+Ne<=he){var ce=void 0,Te=void 0,ye=void 0,Oe=void 0;switch(Ne){case 1:_e<128&&(De=_e);break;case 2:(192&(ce=se[Me+1]))==128&&(Oe=(31&_e)<<6|63&ce)>127&&(De=Oe);break;case 3:ce=se[Me+1],Te=se[Me+2],(192&ce)==128&&(192&Te)==128&&(Oe=(15&_e)<<12|(63&ce)<<6|63&Te)>2047&&(Oe<55296||Oe>57343)&&(De=Oe);break;case 4:ce=se[Me+1],Te=se[Me+2],ye=se[Me+3],(192&ce)==128&&(192&Te)==128&&(192&ye)==128&&(Oe=(15&_e)<<18|(63&ce)<<12|(63&Te)<<6|63&ye)>65535&&Oe<1114112&&(De=Oe)}}De===null?(De=65533,Ne=1):De>65535&&(De-=65536,Le.push(De>>>10&1023|55296),De=56320|1023&De),Le.push(De),Me+=Ne}return function(Be){var Fe=Be.length;if(Fe<=P)return String.fromCharCode.apply(String,Be);for(var Ge="",Ze=0;Ze<Fe;)Ge+=String.fromCharCode.apply(String,Be.slice(Ze,Ze+=P));return Ge}(Le)}O.kMaxLength=i,n.TYPED_ARRAY_SUPPORT=function(){try{var se=new Uint8Array(1),oe={foo:function(){return 42}};return Object.setPrototypeOf(oe,Uint8Array.prototype),Object.setPrototypeOf(se,oe),se.foo()===42}catch{return!1}}(),n.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(n.prototype,"parent",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.buffer}}),Object.defineProperty(n.prototype,"offset",{enumerable:!0,get:function(){if(n.isBuffer(this))return this.byteOffset}}),n.poolSize=8192,n.from=function(se,oe,he){return l(se,oe,he)},Object.setPrototypeOf(n.prototype,Uint8Array.prototype),Object.setPrototypeOf(n,Uint8Array),n.alloc=function(se,oe,he){return function(Le,Me,_e){return o(Le),Le<=0?r(Le):Me!==void 0?typeof _e=="string"?r(Le).fill(Me,_e):r(Le).fill(Me):r(Le)}(se,oe,he)},n.allocUnsafe=function(se){return u(se)},n.allocUnsafeSlow=function(se){return u(se)},n.isBuffer=function(se){return se!=null&&se._isBuffer===!0&&se!==n.prototype},n.compare=function(se,oe){if(me(se,Uint8Array)&&(se=n.from(se,se.offset,se.byteLength)),me(oe,Uint8Array)&&(oe=n.from(oe,oe.offset,oe.byteLength)),!n.isBuffer(se)||!n.isBuffer(oe))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(se===oe)return 0;for(var he=se.length,Le=oe.length,Me=0,_e=Math.min(he,Le);Me<_e;++Me)if(se[Me]!==oe[Me]){he=se[Me],Le=oe[Me];break}return he<Le?-1:Le<he?1:0},n.isEncoding=function(se){switch(String(se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(se,oe){if(!Array.isArray(se))throw new TypeError('"list" argument must be an Array of Buffers');if(se.length===0)return n.alloc(0);var he;if(oe===void 0)for(oe=0,he=0;he<se.length;++he)oe+=se[he].length;var Le=n.allocUnsafe(oe),Me=0;for(he=0;he<se.length;++he){var _e=se[he];if(me(_e,Uint8Array))Me+_e.length>Le.length?(n.isBuffer(_e)||(_e=n.from(_e)),_e.copy(Le,Me)):Uint8Array.prototype.set.call(Le,_e,Me);else{if(!n.isBuffer(_e))throw new TypeError('"list" argument must be an Array of Buffers');_e.copy(Le,Me)}Me+=_e.length}return Le},n.byteLength=g,n.prototype._isBuffer=!0,n.prototype.swap16=function(){var se=this.length;if(se%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var oe=0;oe<se;oe+=2)x(this,oe,oe+1);return this},n.prototype.swap32=function(){var se=this.length;if(se%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var oe=0;oe<se;oe+=4)x(this,oe,oe+3),x(this,oe+1,oe+2);return this},n.prototype.swap64=function(){var se=this.length;if(se%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var oe=0;oe<se;oe+=8)x(this,oe,oe+7),x(this,oe+1,oe+6),x(this,oe+2,oe+5),x(this,oe+3,oe+4);return this},n.prototype.toString=function(){var se=this.length;return se===0?"":arguments.length===0?C(this,0,se):h.apply(this,arguments)},n.prototype.toLocaleString=n.prototype.toString,n.prototype.equals=function(se){if(!n.isBuffer(se))throw new TypeError("Argument must be a Buffer");return this===se||n.compare(this,se)===0},n.prototype.inspect=function(){var se="",oe=O.INSPECT_MAX_BYTES;return se=this.toString("hex",0,oe).replace(/(.{2})/g,"$1 ").trim(),this.length>oe&&(se+=" ... "),"<Buffer "+se+">"},t&&(n.prototype[t]=n.prototype.inspect),n.prototype.compare=function(se,oe,he,Le,Me){if(me(se,Uint8Array)&&(se=n.from(se,se.offset,se.byteLength)),!n.isBuffer(se))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+y(se));if(oe===void 0&&(oe=0),he===void 0&&(he=se?se.length:0),Le===void 0&&(Le=0),Me===void 0&&(Me=this.length),oe<0||he>se.length||Le<0||Me>this.length)throw new RangeError("out of range index");if(Le>=Me&&oe>=he)return 0;if(Le>=Me)return-1;if(oe>=he)return 1;if(this===se)return 0;for(var _e=(Me>>>=0)-(Le>>>=0),De=(he>>>=0)-(oe>>>=0),Ne=Math.min(_e,De),ce=this.slice(Le,Me),Te=se.slice(oe,he),ye=0;ye<Ne;++ye)if(ce[ye]!==Te[ye]){_e=ce[ye],De=Te[ye];break}return _e<De?-1:De<_e?1:0},n.prototype.includes=function(se,oe,he){return this.indexOf(se,oe,he)!==-1},n.prototype.indexOf=function(se,oe,he){return v(this,se,oe,he,!0)},n.prototype.lastIndexOf=function(se,oe,he){return v(this,se,oe,he,!1)},n.prototype.write=function(se,oe,he,Le){if(oe===void 0)Le="utf8",he=this.length,oe=0;else if(he===void 0&&typeof oe=="string")Le=oe,he=this.length,oe=0;else{if(!isFinite(oe))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");oe>>>=0,isFinite(he)?(he>>>=0,Le===void 0&&(Le="utf8")):(Le=he,he=void 0)}var Me=this.length-oe;if((he===void 0||he>Me)&&(he=Me),se.length>0&&(he<0||oe<0)||oe>this.length)throw new RangeError("Attempt to write outside buffer bounds");Le||(Le="utf8");for(var _e=!1;;)switch(Le){case"hex":return w(this,se,oe,he);case"utf8":case"utf-8":return f(this,se,oe,he);case"ascii":case"latin1":case"binary":return S(this,se,oe,he);case"base64":return T(this,se,oe,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,se,oe,he);default:if(_e)throw new TypeError("Unknown encoding: "+Le);Le=(""+Le).toLowerCase(),_e=!0}},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function R(se,oe,he){var Le="";he=Math.min(se.length,he);for(var Me=oe;Me<he;++Me)Le+=String.fromCharCode(127&se[Me]);return Le}function G(se,oe,he){var Le="";he=Math.min(se.length,he);for(var Me=oe;Me<he;++Me)Le+=String.fromCharCode(se[Me]);return Le}function I(se,oe,he){var Le=se.length;(!oe||oe<0)&&(oe=0),(!he||he<0||he>Le)&&(he=Le);for(var Me="",_e=oe;_e<he;++_e)Me+=Ie[se[_e]];return Me}function H(se,oe,he){for(var Le=se.slice(oe,he),Me="",_e=0;_e<Le.length-1;_e+=2)Me+=String.fromCharCode(Le[_e]+256*Le[_e+1]);return Me}function N(se,oe,he){if(se%1!=0||se<0)throw new RangeError("offset is not uint");if(se+oe>he)throw new RangeError("Trying to access beyond buffer length")}function B(se,oe,he,Le,Me,_e){if(!n.isBuffer(se))throw new TypeError('"buffer" argument must be a Buffer instance');if(oe>Me||oe<_e)throw new RangeError('"value" argument is out of bounds');if(he+Le>se.length)throw new RangeError("Index out of range")}function V(se,oe,he,Le,Me){ne(oe,Le,Me,se,he,7);var _e=Number(oe&BigInt(4294967295));se[he++]=_e,_e>>=8,se[he++]=_e,_e>>=8,se[he++]=_e,_e>>=8,se[he++]=_e;var De=Number(oe>>BigInt(32)&BigInt(4294967295));return se[he++]=De,De>>=8,se[he++]=De,De>>=8,se[he++]=De,De>>=8,se[he++]=De,he}function q(se,oe,he,Le,Me){ne(oe,Le,Me,se,he,7);var _e=Number(oe&BigInt(4294967295));se[he+7]=_e,_e>>=8,se[he+6]=_e,_e>>=8,se[he+5]=_e,_e>>=8,se[he+4]=_e;var De=Number(oe>>BigInt(32)&BigInt(4294967295));return se[he+3]=De,De>>=8,se[he+2]=De,De>>=8,se[he+1]=De,De>>=8,se[he]=De,he+8}function te(se,oe,he,Le,Me,_e){if(he+Le>se.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("Index out of range")}function $(se,oe,he,Le,Me){return oe=+oe,he>>>=0,Me||te(se,0,he,4),s.write(se,oe,he,Le,23,4),he+4}function K(se,oe,he,Le,Me){return oe=+oe,he>>>=0,Me||te(se,0,he,8),s.write(se,oe,he,Le,52,8),he+8}n.prototype.slice=function(se,oe){var he=this.length;(se=~~se)<0?(se+=he)<0&&(se=0):se>he&&(se=he),(oe=oe===void 0?he:~~oe)<0?(oe+=he)<0&&(oe=0):oe>he&&(oe=he),oe<se&&(oe=se);var Le=this.subarray(se,oe);return Object.setPrototypeOf(Le,n.prototype),Le},n.prototype.readUintLE=n.prototype.readUIntLE=function(se,oe,he){se>>>=0,oe>>>=0,he||N(se,oe,this.length);for(var Le=this[se],Me=1,_e=0;++_e<oe&&(Me*=256);)Le+=this[se+_e]*Me;return Le},n.prototype.readUintBE=n.prototype.readUIntBE=function(se,oe,he){se>>>=0,oe>>>=0,he||N(se,oe,this.length);for(var Le=this[se+--oe],Me=1;oe>0&&(Me*=256);)Le+=this[se+--oe]*Me;return Le},n.prototype.readUint8=n.prototype.readUInt8=function(se,oe){return se>>>=0,oe||N(se,1,this.length),this[se]},n.prototype.readUint16LE=n.prototype.readUInt16LE=function(se,oe){return se>>>=0,oe||N(se,2,this.length),this[se]|this[se+1]<<8},n.prototype.readUint16BE=n.prototype.readUInt16BE=function(se,oe){return se>>>=0,oe||N(se,2,this.length),this[se]<<8|this[se+1]},n.prototype.readUint32LE=n.prototype.readUInt32LE=function(se,oe){return se>>>=0,oe||N(se,4,this.length),(this[se]|this[se+1]<<8|this[se+2]<<16)+16777216*this[se+3]},n.prototype.readUint32BE=n.prototype.readUInt32BE=function(se,oe){return se>>>=0,oe||N(se,4,this.length),16777216*this[se]+(this[se+1]<<16|this[se+2]<<8|this[se+3])},n.prototype.readBigUInt64LE=Se(function(se){re(se>>>=0,"offset");var oe=this[se],he=this[se+7];oe!==void 0&&he!==void 0||ae(se,this.length-8);var Le=oe+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,24),Me=this[++se]+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+he*Math.pow(2,24);return BigInt(Le)+(BigInt(Me)<<BigInt(32))}),n.prototype.readBigUInt64BE=Se(function(se){re(se>>>=0,"offset");var oe=this[se],he=this[se+7];oe!==void 0&&he!==void 0||ae(se,this.length-8);var Le=oe*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+this[++se],Me=this[++se]*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+he;return(BigInt(Le)<<BigInt(32))+BigInt(Me)}),n.prototype.readIntLE=function(se,oe,he){se>>>=0,oe>>>=0,he||N(se,oe,this.length);for(var Le=this[se],Me=1,_e=0;++_e<oe&&(Me*=256);)Le+=this[se+_e]*Me;return Le>=(Me*=128)&&(Le-=Math.pow(2,8*oe)),Le},n.prototype.readIntBE=function(se,oe,he){se>>>=0,oe>>>=0,he||N(se,oe,this.length);for(var Le=oe,Me=1,_e=this[se+--Le];Le>0&&(Me*=256);)_e+=this[se+--Le]*Me;return _e>=(Me*=128)&&(_e-=Math.pow(2,8*oe)),_e},n.prototype.readInt8=function(se,oe){return se>>>=0,oe||N(se,1,this.length),128&this[se]?-1*(255-this[se]+1):this[se]},n.prototype.readInt16LE=function(se,oe){se>>>=0,oe||N(se,2,this.length);var he=this[se]|this[se+1]<<8;return 32768&he?4294901760|he:he},n.prototype.readInt16BE=function(se,oe){se>>>=0,oe||N(se,2,this.length);var he=this[se+1]|this[se]<<8;return 32768&he?4294901760|he:he},n.prototype.readInt32LE=function(se,oe){return se>>>=0,oe||N(se,4,this.length),this[se]|this[se+1]<<8|this[se+2]<<16|this[se+3]<<24},n.prototype.readInt32BE=function(se,oe){return se>>>=0,oe||N(se,4,this.length),this[se]<<24|this[se+1]<<16|this[se+2]<<8|this[se+3]},n.prototype.readBigInt64LE=Se(function(se){re(se>>>=0,"offset");var oe=this[se],he=this[se+7];oe!==void 0&&he!==void 0||ae(se,this.length-8);var Le=this[se+4]+this[se+5]*Math.pow(2,8)+this[se+6]*Math.pow(2,16)+(he<<24);return(BigInt(Le)<<BigInt(32))+BigInt(oe+this[++se]*Math.pow(2,8)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,24))}),n.prototype.readBigInt64BE=Se(function(se){re(se>>>=0,"offset");var oe=this[se],he=this[se+7];oe!==void 0&&he!==void 0||ae(se,this.length-8);var Le=(oe<<24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+this[++se];return(BigInt(Le)<<BigInt(32))+BigInt(this[++se]*Math.pow(2,24)+this[++se]*Math.pow(2,16)+this[++se]*Math.pow(2,8)+he)}),n.prototype.readFloatLE=function(se,oe){return se>>>=0,oe||N(se,4,this.length),s.read(this,se,!0,23,4)},n.prototype.readFloatBE=function(se,oe){return se>>>=0,oe||N(se,4,this.length),s.read(this,se,!1,23,4)},n.prototype.readDoubleLE=function(se,oe){return se>>>=0,oe||N(se,8,this.length),s.read(this,se,!0,52,8)},n.prototype.readDoubleBE=function(se,oe){return se>>>=0,oe||N(se,8,this.length),s.read(this,se,!1,52,8)},n.prototype.writeUintLE=n.prototype.writeUIntLE=function(se,oe,he,Le){se=+se,oe>>>=0,he>>>=0,Le||B(this,se,oe,he,Math.pow(2,8*he)-1,0);var Me=1,_e=0;for(this[oe]=255&se;++_e<he&&(Me*=256);)this[oe+_e]=se/Me&255;return oe+he},n.prototype.writeUintBE=n.prototype.writeUIntBE=function(se,oe,he,Le){se=+se,oe>>>=0,he>>>=0,Le||B(this,se,oe,he,Math.pow(2,8*he)-1,0);var Me=he-1,_e=1;for(this[oe+Me]=255&se;--Me>=0&&(_e*=256);)this[oe+Me]=se/_e&255;return oe+he},n.prototype.writeUint8=n.prototype.writeUInt8=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,1,255,0),this[oe]=255&se,oe+1},n.prototype.writeUint16LE=n.prototype.writeUInt16LE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,2,65535,0),this[oe]=255&se,this[oe+1]=se>>>8,oe+2},n.prototype.writeUint16BE=n.prototype.writeUInt16BE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,2,65535,0),this[oe]=se>>>8,this[oe+1]=255&se,oe+2},n.prototype.writeUint32LE=n.prototype.writeUInt32LE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,4,4294967295,0),this[oe+3]=se>>>24,this[oe+2]=se>>>16,this[oe+1]=se>>>8,this[oe]=255&se,oe+4},n.prototype.writeUint32BE=n.prototype.writeUInt32BE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,4,4294967295,0),this[oe]=se>>>24,this[oe+1]=se>>>16,this[oe+2]=se>>>8,this[oe+3]=255&se,oe+4},n.prototype.writeBigUInt64LE=Se(function(se){return V(this,se,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeBigUInt64BE=Se(function(se){return q(this,se,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),n.prototype.writeIntLE=function(se,oe,he,Le){if(se=+se,oe>>>=0,!Le){var Me=Math.pow(2,8*he-1);B(this,se,oe,he,Me-1,-Me)}var _e=0,De=1,Ne=0;for(this[oe]=255&se;++_e<he&&(De*=256);)se<0&&Ne===0&&this[oe+_e-1]!==0&&(Ne=1),this[oe+_e]=(se/De>>0)-Ne&255;return oe+he},n.prototype.writeIntBE=function(se,oe,he,Le){if(se=+se,oe>>>=0,!Le){var Me=Math.pow(2,8*he-1);B(this,se,oe,he,Me-1,-Me)}var _e=he-1,De=1,Ne=0;for(this[oe+_e]=255&se;--_e>=0&&(De*=256);)se<0&&Ne===0&&this[oe+_e+1]!==0&&(Ne=1),this[oe+_e]=(se/De>>0)-Ne&255;return oe+he},n.prototype.writeInt8=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,1,127,-128),se<0&&(se=255+se+1),this[oe]=255&se,oe+1},n.prototype.writeInt16LE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,2,32767,-32768),this[oe]=255&se,this[oe+1]=se>>>8,oe+2},n.prototype.writeInt16BE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,2,32767,-32768),this[oe]=se>>>8,this[oe+1]=255&se,oe+2},n.prototype.writeInt32LE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,4,2147483647,-2147483648),this[oe]=255&se,this[oe+1]=se>>>8,this[oe+2]=se>>>16,this[oe+3]=se>>>24,oe+4},n.prototype.writeInt32BE=function(se,oe,he){return se=+se,oe>>>=0,he||B(this,se,oe,4,2147483647,-2147483648),se<0&&(se=4294967295+se+1),this[oe]=se>>>24,this[oe+1]=se>>>16,this[oe+2]=se>>>8,this[oe+3]=255&se,oe+4},n.prototype.writeBigInt64LE=Se(function(se){return V(this,se,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeBigInt64BE=Se(function(se){return q(this,se,arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),n.prototype.writeFloatLE=function(se,oe,he){return $(this,se,oe,!0,he)},n.prototype.writeFloatBE=function(se,oe,he){return $(this,se,oe,!1,he)},n.prototype.writeDoubleLE=function(se,oe,he){return K(this,se,oe,!0,he)},n.prototype.writeDoubleBE=function(se,oe,he){return K(this,se,oe,!1,he)},n.prototype.copy=function(se,oe,he,Le){if(!n.isBuffer(se))throw new TypeError("argument should be a Buffer");if(he||(he=0),Le||Le===0||(Le=this.length),oe>=se.length&&(oe=se.length),oe||(oe=0),Le>0&&Le<he&&(Le=he),Le===he||se.length===0||this.length===0)return 0;if(oe<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Le<0)throw new RangeError("sourceEnd out of bounds");Le>this.length&&(Le=this.length),se.length-oe<Le-he&&(Le=se.length-oe+he);var Me=Le-he;return this===se&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(oe,he,Le):Uint8Array.prototype.set.call(se,this.subarray(he,Le),oe),Me},n.prototype.fill=function(se,oe,he,Le){if(typeof se=="string"){if(typeof oe=="string"?(Le=oe,oe=0,he=this.length):typeof he=="string"&&(Le=he,he=this.length),Le!==void 0&&typeof Le!="string")throw new TypeError("encoding must be a string");if(typeof Le=="string"&&!n.isEncoding(Le))throw new TypeError("Unknown encoding: "+Le);if(se.length===1){var Me=se.charCodeAt(0);(Le==="utf8"&&Me<128||Le==="latin1")&&(se=Me)}}else typeof se=="number"?se&=255:typeof se=="boolean"&&(se=Number(se));if(oe<0||this.length<oe||this.length<he)throw new RangeError("Out of range index");if(he<=oe)return this;var _e;if(oe>>>=0,he=he===void 0?this.length:he>>>0,se||(se=0),typeof se=="number")for(_e=oe;_e<he;++_e)this[_e]=se;else{var De=n.isBuffer(se)?se:n.from(se,Le),Ne=De.length;if(Ne===0)throw new TypeError('The value "'+se+'" is invalid for argument "value"');for(_e=0;_e<he-oe;++_e)this[_e+oe]=De[_e%Ne]}return this};var Z={};function X(se,oe,he){Z[se]=function(Le){(function(ye,Oe){if(typeof Oe!="function"&&Oe!==null)throw new TypeError("Super expression must either be null or a function");ye.prototype=Object.create(Oe&&Oe.prototype,{constructor:{value:ye,writable:!0,configurable:!0}}),Object.defineProperty(ye,"prototype",{writable:!1}),Oe&&k(ye,Oe)})(Te,Le);var Me,_e,De,Ne,ce=(De=Te,Ne=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var ye,Oe=_(De);if(Ne){var Be=_(this).constructor;ye=Reflect.construct(Oe,arguments,Be)}else ye=Oe.apply(this,arguments);return function(Fe,Ge){if(Ge&&(y(Ge)==="object"||typeof Ge=="function"))return Ge;if(Ge!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a(Fe)}(this,ye)});function Te(){var ye;return function(Oe,Be){if(!(Oe instanceof Be))throw new TypeError("Cannot call a class as a function")}(this,Te),ye=ce.call(this),Object.defineProperty(a(ye),"message",{value:oe.apply(a(ye),arguments),writable:!0,configurable:!0}),ye.name="".concat(ye.name," [").concat(se,"]"),ye.stack,delete ye.name,ye}return Me=Te,(_e=[{key:"code",get:function(){return se},set:function(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(se,"]: ").concat(this.message)}}])&&M(Me.prototype,_e),Object.defineProperty(Me,"prototype",{writable:!1}),Te}(he)}function ee(se){for(var oe="",he=se.length,Le=se[0]==="-"?1:0;he>=Le+4;he-=3)oe="_".concat(se.slice(he-3,he)).concat(oe);return"".concat(se.slice(0,he)).concat(oe)}function ne(se,oe,he,Le,Me,_e){if(se>he||se<oe){var De,Ne=typeof oe=="bigint"?"n":"";throw De=_e>3?oe===0||oe===BigInt(0)?">= 0".concat(Ne," and < 2").concat(Ne," ** ").concat(8*(_e+1)).concat(Ne):">= -(2".concat(Ne," ** ").concat(8*(_e+1)-1).concat(Ne,") and < 2 ** ")+"".concat(8*(_e+1)-1).concat(Ne):">= ".concat(oe).concat(Ne," and <= ").concat(he).concat(Ne),new Z.ERR_OUT_OF_RANGE("value",De,se)}(function(ce,Te,ye){re(Te,"offset"),ce[Te]!==void 0&&ce[Te+ye]!==void 0||ae(Te,ce.length-(ye+1))})(Le,Me,_e)}function re(se,oe){if(typeof se!="number")throw new Z.ERR_INVALID_ARG_TYPE(oe,"number",se)}function ae(se,oe,he){throw Math.floor(se)!==se?(re(se,he),new Z.ERR_OUT_OF_RANGE(he||"offset","an integer",se)):oe<0?new Z.ERR_BUFFER_OUT_OF_BOUNDS:new Z.ERR_OUT_OF_RANGE(he||"offset",">= ".concat(he?1:0," and <= ").concat(oe),se)}X("ERR_BUFFER_OUT_OF_BOUNDS",function(se){return se?"".concat(se," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(se,oe){return'The "'.concat(se,'" argument must be of type number. Received type ').concat(y(oe))},TypeError),X("ERR_OUT_OF_RANGE",function(se,oe,he){var Le='The value of "'.concat(se,'" is out of range.'),Me=he;return Number.isInteger(he)&&Math.abs(he)>Math.pow(2,32)?Me=ee(String(he)):typeof he=="bigint"&&(Me=String(he),(he>Math.pow(BigInt(2),BigInt(32))||he<-Math.pow(BigInt(2),BigInt(32)))&&(Me=ee(Me)),Me+="n"),Le+" It must be ".concat(oe,". Received ").concat(Me)},RangeError);var ue=/[^+/0-9A-Za-z-_]/g;function pe(se,oe){var he;oe=oe||1/0;for(var Le=se.length,Me=null,_e=[],De=0;De<Le;++De){if((he=se.charCodeAt(De))>55295&&he<57344){if(!Me){if(he>56319){(oe-=3)>-1&&_e.push(239,191,189);continue}if(De+1===Le){(oe-=3)>-1&&_e.push(239,191,189);continue}Me=he;continue}if(he<56320){(oe-=3)>-1&&_e.push(239,191,189),Me=he;continue}he=65536+(Me-55296<<10|he-56320)}else Me&&(oe-=3)>-1&&_e.push(239,191,189);if(Me=null,he<128){if((oe-=1)<0)break;_e.push(he)}else if(he<2048){if((oe-=2)<0)break;_e.push(he>>6|192,63&he|128)}else if(he<65536){if((oe-=3)<0)break;_e.push(he>>12|224,he>>6&63|128,63&he|128)}else{if(!(he<1114112))throw new Error("Invalid code point");if((oe-=4)<0)break;_e.push(he>>18|240,he>>12&63|128,he>>6&63|128,63&he|128)}}return _e}function ge(se){return d.toByteArray(function(oe){if((oe=(oe=oe.split("=")[0]).trim().replace(ue,"")).length<2)return"";for(;oe.length%4!=0;)oe+="=";return oe}(se))}function we(se,oe,he,Le){var Me;for(Me=0;Me<Le&&!(Me+he>=oe.length||Me>=se.length);++Me)oe[Me+he]=se[Me];return Me}function me(se,oe){return se instanceof oe||se!=null&&se.constructor!=null&&se.constructor.name!=null&&se.constructor.name===oe.name}function ve(se){return se!=se}var Ie=function(){for(var se="0123456789abcdef",oe=new Array(256),he=0;he<16;++he)for(var Le=16*he,Me=0;Me<16;++Me)oe[Le+Me]=se[he]+se[Me];return oe}();function Se(se){return typeof BigInt>"u"?ke:se}function ke(){throw new Error("BigInt not supported")}},35791:function(Y){Y.exports=k,Y.exports.isMobile=k,Y.exports.default=k;var O=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,e=/CrOS/,M=/android|ipad|playbook|silk/i;function k(a){a||(a={});var _=a.ua;if(_||typeof navigator>"u"||(_=navigator.userAgent),_&&_.headers&&typeof _.headers["user-agent"]=="string"&&(_=_.headers["user-agent"]),typeof _!="string")return!1;var y=O.test(_)&&!e.test(_)||!!a.tablet&&M.test(_);return!y&&a.tablet&&a.featureDetect&&navigator&&navigator.maxTouchPoints>1&&_.indexOf("Macintosh")!==-1&&_.indexOf("Safari")!==-1&&(y=!0),y}},86781:function(Y,O,e){e.r(O),e.d(O,{sankeyCenter:function(){return r},sankeyCircular:function(){return L},sankeyJustify:function(){return i},sankeyLeft:function(){return s},sankeyRight:function(){return t}});var M=e(33064),k=e(15140),a=e(45879),_=e(2502),y=e.n(_);function d(we){return we.target.depth}function s(we){return we.depth}function t(we,me){return me-1-we.height}function i(we,me){return we.sourceLinks.length?we.depth:me-1}function r(we){return we.targetLinks.length?we.depth:we.sourceLinks.length?(0,M.VV)(we.sourceLinks,d)-1:0}function n(we){return function(){return we}}var l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(we){return typeof we}:function(we){return we&&typeof Symbol=="function"&&we.constructor===Symbol&&we!==Symbol.prototype?"symbol":typeof we};function o(we,me){return p(we.source,me.source)||we.index-me.index}function u(we,me){return p(we.target,me.target)||we.index-me.index}function p(we,me){return we.partOfCycle===me.partOfCycle?we.y0-me.y0:we.circularLinkType==="top"||me.circularLinkType==="bottom"?-1:1}function c(we){return we.value}function b(we){return(we.y0+we.y1)/2}function g(we){return b(we.source)}function h(we){return b(we.target)}function x(we){return we.index}function v(we){return we.nodes}function m(we){return we.links}function w(we,me){var ve=we.get(me);if(!ve)throw new Error("missing: "+me);return ve}function f(we,me){return me(we)}var S=25,T=10,E=.3;function L(){var we,me,ve=0,Ie=0,Se=1,ke=1,se=24,oe=x,he=i,Le=v,Me=m,_e=32,De=2,Ne=null;function ce(){var ye={nodes:Le.apply(null,arguments),links:Me.apply(null,arguments)};(function(Be){Be.nodes.forEach(function(Ge,Ze){Ge.index=Ze,Ge.sourceLinks=[],Ge.targetLinks=[]});var Fe=(0,k.UI)(Be.nodes,oe);Be.links.forEach(function(Ge,Ze){Ge.index=Ze;var et=Ge.source,ft=Ge.target;(et===void 0?"undefined":l(et))!=="object"&&(et=Ge.source=w(Fe,et)),(ft===void 0?"undefined":l(ft))!=="object"&&(ft=Ge.target=w(Fe,ft)),et.sourceLinks.push(Ge),ft.targetLinks.push(Ge)})})(ye),function(Be,Fe,Ge){var Ze=0;if(Ge===null){for(var et=[],ft=0;ft<Be.links.length;ft++){var rt=Be.links[ft],_t=rt.source.index,kt=rt.target.index;et[_t]||(et[_t]=[]),et[kt]||(et[kt]=[]),et[_t].indexOf(kt)===-1&&et[_t].push(kt)}var wt=y()(et);wt.sort(function(Et,Ot){return Et.length-Ot.length});var lt={};for(ft=0;ft<wt.length;ft++){var ut=wt[ft].slice(-2);lt[ut[0]]||(lt[ut[0]]={}),lt[ut[0]][ut[1]]=!0}Be.links.forEach(function(Et){var Ot=Et.target.index,zt=Et.source.index;Ot===zt||lt[zt]&&lt[zt][Ot]?(Et.circular=!0,Et.circularLinkID=Ze,Ze+=1):Et.circular=!1})}else Be.links.forEach(function(Et){Et.source[Ge]<Et.target[Ge]?Et.circular=!1:(Et.circular=!0,Et.circularLinkID=Ze,Ze+=1)})}(ye,0,Ne),function(Be){Be.nodes.forEach(function(Fe){Fe.partOfCycle=!1,Fe.value=Math.max((0,M.Sm)(Fe.sourceLinks,c),(0,M.Sm)(Fe.targetLinks,c)),Fe.sourceLinks.forEach(function(Ge){Ge.circular&&(Fe.partOfCycle=!0,Fe.circularLinkType=Ge.circularLinkType)}),Fe.targetLinks.forEach(function(Ge){Ge.circular&&(Fe.partOfCycle=!0,Fe.circularLinkType=Ge.circularLinkType)})})}(ye),function(Be){var Fe,Ge,Ze;for(Fe=Be.nodes,Ge=[],Ze=0;Fe.length;++Ze,Fe=Ge,Ge=[])Fe.forEach(function(et){et.depth=Ze,et.sourceLinks.forEach(function(ft){Ge.indexOf(ft.target)<0&&!ft.circular&&Ge.push(ft.target)})});for(Fe=Be.nodes,Ge=[],Ze=0;Fe.length;++Ze,Fe=Ge,Ge=[])Fe.forEach(function(et){et.height=Ze,et.targetLinks.forEach(function(ft){Ge.indexOf(ft.source)<0&&!ft.circular&&Ge.push(ft.source)})});Be.nodes.forEach(function(et){et.column=Math.floor(he.call(null,et,Ze))})}(ye),C(ye,oe),function(Be,Fe,Ge){var Ze=(0,k.b1)().key(function(kt){return kt.column}).sortKeys(M.j2).entries(Be.nodes).map(function(kt){return kt.values});(function(kt){if(me){var wt=1/0;Ze.forEach(function(Ot){var zt=ke*me/(Ot.length+1);wt=zt<wt?zt:wt}),we=wt}var lt=(0,M.VV)(Ze,function(Ot){return(ke-Ie-(Ot.length-1)*we)/(0,M.Sm)(Ot,c)});lt*=E,Be.links.forEach(function(Ot){Ot.width=Ot.value*lt});var ut=function(Ot){var zt=0,Lt=0,Je=0,Qe=0,qe=(0,M.Fp)(Ot.nodes,function($e){return $e.column});return Ot.links.forEach(function($e){$e.circular&&($e.circularLinkType=="top"?zt+=$e.width:Lt+=$e.width,$e.target.column==0&&(Qe+=$e.width),$e.source.column==qe&&(Je+=$e.width))}),{top:zt=zt>0?zt+S+T:zt,bottom:Lt=Lt>0?Lt+S+T:Lt,left:Qe=Qe>0?Qe+S+T:Qe,right:Je=Je>0?Je+S+T:Je}}(Be),Et=function(Ot,zt){var Lt=(0,M.Fp)(Ot.nodes,function(ct){return ct.column}),Je=Se-ve,Qe=ke-Ie,qe=Je/(Je+zt.right+zt.left),$e=Qe/(Qe+zt.top+zt.bottom);return ve=ve*qe+zt.left,Se=zt.right==0?Se:Se*qe,Ie=Ie*$e+zt.top,ke*=$e,Ot.nodes.forEach(function(ct){ct.x0=ve+ct.column*((Se-ve-se)/Lt),ct.x1=ct.x0+se}),$e}(Be,ut);lt*=Et,Be.links.forEach(function(Ot){Ot.width=Ot.value*lt}),Ze.forEach(function(Ot){var zt=Ot.length;Ot.forEach(function(Lt,Je){Lt.depth==Ze.length-1&&zt==1||Lt.depth==0&&zt==1?(Lt.y0=ke/2-Lt.value*lt,Lt.y1=Lt.y0+Lt.value*lt):Lt.partOfCycle?R(Lt,kt)==0?(Lt.y0=ke/2+Je,Lt.y1=Lt.y0+Lt.value*lt):Lt.circularLinkType=="top"?(Lt.y0=Ie+Je,Lt.y1=Lt.y0+Lt.value*lt):(Lt.y0=ke-Lt.value*lt-Je,Lt.y1=Lt.y0+Lt.value*lt):ut.top==0||ut.bottom==0?(Lt.y0=(ke-Ie)/zt*Je,Lt.y1=Lt.y0+Lt.value*lt):(Lt.y0=(ke-Ie)/2-zt/2+Je,Lt.y1=Lt.y0+Lt.value*lt)})})})(Ge),_t();for(var et=1,ft=Fe;ft>0;--ft)rt(et*=.99,Ge),_t();function rt(kt,wt){var lt=Ze.length;Ze.forEach(function(ut){var Et=ut.length,Ot=ut[0].depth;ut.forEach(function(zt){var Lt;if((zt.sourceLinks.length||zt.targetLinks.length)&&!(zt.partOfCycle&&R(zt,wt)>0))if(Ot==0&&Et==1)Lt=zt.y1-zt.y0,zt.y0=ke/2-Lt/2,zt.y1=ke/2+Lt/2;else if(Ot==lt-1&&Et==1)Lt=zt.y1-zt.y0,zt.y0=ke/2-Lt/2,zt.y1=ke/2+Lt/2;else{var Je=(0,M.J6)(zt.sourceLinks,h),Qe=(0,M.J6)(zt.targetLinks,g),qe=((Je&&Qe?(Je+Qe)/2:Je||Qe)-b(zt))*kt;zt.y0+=qe,zt.y1+=qe}})})}function _t(){Ze.forEach(function(kt){var wt,lt,ut,Et=Ie,Ot=kt.length;for(kt.sort(p),ut=0;ut<Ot;++ut)(lt=Et-(wt=kt[ut]).y0)>0&&(wt.y0+=lt,wt.y1+=lt),Et=wt.y1+we;if((lt=Et-we-ke)>0)for(Et=wt.y0-=lt,wt.y1-=lt,ut=Ot-2;ut>=0;--ut)(lt=(wt=kt[ut]).y1+we-Et)>0&&(wt.y0-=lt,wt.y1-=lt),Et=wt.y0})}}(ye,_e,oe),Te(ye);for(var Oe=0;Oe<4;Oe++)re(ye,ke,oe),ae(ye,0,oe),ee(ye,Ie,ke,oe),re(ye,ke,oe),ae(ye,0,oe);return function(Be,Fe,Ge){var Ze=Be.nodes,et=Be.links,ft=!1,rt=!1;if(et.forEach(function(wt){wt.circularLinkType=="top"?ft=!0:wt.circularLinkType=="bottom"&&(rt=!0)}),ft==0||rt==0){var _t=(0,M.VV)(Ze,function(wt){return wt.y0}),kt=(Ge-Fe)/((0,M.Fp)(Ze,function(wt){return wt.y1})-_t);Ze.forEach(function(wt){var lt=(wt.y1-wt.y0)*kt;wt.y0=(wt.y0-_t)*kt,wt.y1=wt.y0+lt}),et.forEach(function(wt){wt.y0=(wt.y0-_t)*kt,wt.y1=(wt.y1-_t)*kt,wt.width=wt.width*kt})}}(ye,Ie,ke),H(ye,De,ke,oe),ye}function Te(ye){ye.nodes.forEach(function(Oe){Oe.sourceLinks.sort(u),Oe.targetLinks.sort(o)}),ye.nodes.forEach(function(Oe){var Be=Oe.y0,Fe=Be,Ge=Oe.y1,Ze=Ge;Oe.sourceLinks.forEach(function(et){et.circular?(et.y0=Ge-et.width/2,Ge-=et.width):(et.y0=Be+et.width/2,Be+=et.width)}),Oe.targetLinks.forEach(function(et){et.circular?(et.y1=Ze-et.width/2,Ze-=et.width):(et.y1=Fe+et.width/2,Fe+=et.width)})})}return ce.nodeId=function(ye){return arguments.length?(oe=typeof ye=="function"?ye:n(ye),ce):oe},ce.nodeAlign=function(ye){return arguments.length?(he=typeof ye=="function"?ye:n(ye),ce):he},ce.nodeWidth=function(ye){return arguments.length?(se=+ye,ce):se},ce.nodePadding=function(ye){return arguments.length?(we=+ye,ce):we},ce.nodes=function(ye){return arguments.length?(Le=typeof ye=="function"?ye:n(ye),ce):Le},ce.links=function(ye){return arguments.length?(Me=typeof ye=="function"?ye:n(ye),ce):Me},ce.size=function(ye){return arguments.length?(ve=Ie=0,Se=+ye[0],ke=+ye[1],ce):[Se-ve,ke-Ie]},ce.extent=function(ye){return arguments.length?(ve=+ye[0][0],Se=+ye[1][0],Ie=+ye[0][1],ke=+ye[1][1],ce):[[ve,Ie],[Se,ke]]},ce.iterations=function(ye){return arguments.length?(_e=+ye,ce):_e},ce.circularLinkGap=function(ye){return arguments.length?(De=+ye,ce):De},ce.nodePaddingRatio=function(ye){return arguments.length?(me=+ye,ce):me},ce.sortNodes=function(ye){return arguments.length?(Ne=ye,ce):Ne},ce.update=function(ye){return C(ye,oe),Te(ye),ye.links.forEach(function(Oe){Oe.circular&&(Oe.circularLinkType=Oe.y0+Oe.y1<ke?"top":"bottom",Oe.source.circularLinkType=Oe.circularLinkType,Oe.target.circularLinkType=Oe.circularLinkType)}),re(ye,ke,oe,!1),ae(ye,0,oe),H(ye,De,ke,oe),ye},ce}function C(we,me){var ve=0,Ie=0;we.links.forEach(function(Se){Se.circular&&(Se.source.circularLinkType||Se.target.circularLinkType?Se.circularLinkType=Se.source.circularLinkType?Se.source.circularLinkType:Se.target.circularLinkType:Se.circularLinkType=ve<Ie?"top":"bottom",Se.circularLinkType=="top"?ve+=1:Ie+=1,we.nodes.forEach(function(ke){f(ke,me)!=f(Se.source,me)&&f(ke,me)!=f(Se.target,me)||(ke.circularLinkType=Se.circularLinkType)}))}),we.links.forEach(function(Se){Se.circular&&(Se.source.circularLinkType==Se.target.circularLinkType&&(Se.circularLinkType=Se.source.circularLinkType),ge(Se,me)&&(Se.circularLinkType=Se.source.circularLinkType))})}function P(we){var me=Math.abs(we.y1-we.y0),ve=Math.abs(we.target.x0-we.source.x1);return Math.atan(ve/me)}function R(we,me){var ve=0;we.sourceLinks.forEach(function(Se){ve=Se.circular&&!ge(Se,me)?ve+1:ve});var Ie=0;return we.targetLinks.forEach(function(Se){Ie=Se.circular&&!ge(Se,me)?Ie+1:Ie}),ve+Ie}function G(we){var me=we.source.sourceLinks,ve=0;me.forEach(function(ke){ve=ke.circular?ve+1:ve});var Ie=we.target.targetLinks,Se=0;return Ie.forEach(function(ke){Se=ke.circular?Se+1:Se}),!(ve>1||Se>1)}function I(we,me,ve){return we.sort(N),we.forEach(function(Ie,Se){var ke,se,oe=0;if(ge(Ie,ve)&&G(Ie))Ie.circularPathData.verticalBuffer=oe+Ie.width/2;else{for(var he=0;he<Se;he++)if(ke=we[Se],se=we[he],!(ke.source.column<se.target.column||ke.target.column>se.source.column)){var Le=we[he].circularPathData.verticalBuffer+we[he].width/2+me;oe=Le>oe?Le:oe}Ie.circularPathData.verticalBuffer=oe+Ie.width/2}}),we}function H(we,me,ve,Ie){var Se=(0,M.VV)(we.links,function(ke){return ke.source.y0});we.links.forEach(function(ke){ke.circular&&(ke.circularPathData={})}),I(we.links.filter(function(ke){return ke.circularLinkType=="top"}),me,Ie),I(we.links.filter(function(ke){return ke.circularLinkType=="bottom"}),me,Ie),we.links.forEach(function(ke){if(ke.circular){if(ke.circularPathData.arcRadius=ke.width+T,ke.circularPathData.leftNodeBuffer=5,ke.circularPathData.rightNodeBuffer=5,ke.circularPathData.sourceWidth=ke.source.x1-ke.source.x0,ke.circularPathData.sourceX=ke.source.x0+ke.circularPathData.sourceWidth,ke.circularPathData.targetX=ke.target.x0,ke.circularPathData.sourceY=ke.y0,ke.circularPathData.targetY=ke.y1,ge(ke,Ie)&&G(ke))ke.circularPathData.leftSmallArcRadius=T+ke.width/2,ke.circularPathData.leftLargeArcRadius=T+ke.width/2,ke.circularPathData.rightSmallArcRadius=T+ke.width/2,ke.circularPathData.rightLargeArcRadius=T+ke.width/2,ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=ke.source.y1+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=ke.source.y0-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius);else{var se=ke.source.column,oe=ke.circularLinkType,he=we.links.filter(function(_e){return _e.source.column==se&&_e.circularLinkType==oe});ke.circularLinkType=="bottom"?he.sort(V):he.sort(B);var Le=0;he.forEach(function(_e,De){_e.circularLinkID==ke.circularLinkID&&(ke.circularPathData.leftSmallArcRadius=T+ke.width/2+Le,ke.circularPathData.leftLargeArcRadius=T+ke.width/2+De*me+Le),Le+=_e.width}),se=ke.target.column,he=we.links.filter(function(_e){return _e.target.column==se&&_e.circularLinkType==oe}),ke.circularLinkType=="bottom"?he.sort(te):he.sort(q),Le=0,he.forEach(function(_e,De){_e.circularLinkID==ke.circularLinkID&&(ke.circularPathData.rightSmallArcRadius=T+ke.width/2+Le,ke.circularPathData.rightLargeArcRadius=T+ke.width/2+De*me+Le),Le+=_e.width}),ke.circularLinkType=="bottom"?(ke.circularPathData.verticalFullExtent=Math.max(ve,ke.source.y1,ke.target.y1)+S+ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent-ke.circularPathData.rightLargeArcRadius):(ke.circularPathData.verticalFullExtent=Se-S-ke.circularPathData.verticalBuffer,ke.circularPathData.verticalLeftInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.leftLargeArcRadius,ke.circularPathData.verticalRightInnerExtent=ke.circularPathData.verticalFullExtent+ke.circularPathData.rightLargeArcRadius)}ke.circularPathData.leftInnerExtent=ke.circularPathData.sourceX+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightInnerExtent=ke.circularPathData.targetX-ke.circularPathData.rightNodeBuffer,ke.circularPathData.leftFullExtent=ke.circularPathData.sourceX+ke.circularPathData.leftLargeArcRadius+ke.circularPathData.leftNodeBuffer,ke.circularPathData.rightFullExtent=ke.circularPathData.targetX-ke.circularPathData.rightLargeArcRadius-ke.circularPathData.rightNodeBuffer}if(ke.circular)ke.path=function(_e){return _e.circularLinkType=="top"?"M"+_e.circularPathData.sourceX+" "+_e.circularPathData.sourceY+" L"+_e.circularPathData.leftInnerExtent+" "+_e.circularPathData.sourceY+" A"+_e.circularPathData.leftLargeArcRadius+" "+_e.circularPathData.leftSmallArcRadius+" 0 0 0 "+_e.circularPathData.leftFullExtent+" "+(_e.circularPathData.sourceY-_e.circularPathData.leftSmallArcRadius)+" L"+_e.circularPathData.leftFullExtent+" "+_e.circularPathData.verticalLeftInnerExtent+" A"+_e.circularPathData.leftLargeArcRadius+" "+_e.circularPathData.leftLargeArcRadius+" 0 0 0 "+_e.circularPathData.leftInnerExtent+" "+_e.circularPathData.verticalFullExtent+" L"+_e.circularPathData.rightInnerExtent+" "+_e.circularPathData.verticalFullExtent+" A"+_e.circularPathData.rightLargeArcRadius+" "+_e.circularPathData.rightLargeArcRadius+" 0 0 0 "+_e.circularPathData.rightFullExtent+" "+_e.circularPathData.verticalRightInnerExtent+" L"+_e.circularPathData.rightFullExtent+" "+(_e.circularPathData.targetY-_e.circularPathData.rightSmallArcRadius)+" A"+_e.circularPathData.rightLargeArcRadius+" "+_e.circularPathData.rightSmallArcRadius+" 0 0 0 "+_e.circularPathData.rightInnerExtent+" "+_e.circularPathData.targetY+" L"+_e.circularPathData.targetX+" "+_e.circularPathData.targetY:"M"+_e.circularPathData.sourceX+" "+_e.circularPathData.sourceY+" L"+_e.circularPathData.leftInnerExtent+" "+_e.circularPathData.sourceY+" A"+_e.circularPathData.leftLargeArcRadius+" "+_e.circularPathData.leftSmallArcRadius+" 0 0 1 "+_e.circularPathData.leftFullExtent+" "+(_e.circularPathData.sourceY+_e.circularPathData.leftSmallArcRadius)+" L"+_e.circularPathData.leftFullExtent+" "+_e.circularPathData.verticalLeftInnerExtent+" A"+_e.circularPathData.leftLargeArcRadius+" "+_e.circularPathData.leftLargeArcRadius+" 0 0 1 "+_e.circularPathData.leftInnerExtent+" "+_e.circularPathData.verticalFullExtent+" L"+_e.circularPathData.rightInnerExtent+" "+_e.circularPathData.verticalFullExtent+" A"+_e.circularPathData.rightLargeArcRadius+" "+_e.circularPathData.rightLargeArcRadius+" 0 0 1 "+_e.circularPathData.rightFullExtent+" "+_e.circularPathData.verticalRightInnerExtent+" L"+_e.circularPathData.rightFullExtent+" "+(_e.circularPathData.targetY+_e.circularPathData.rightSmallArcRadius)+" A"+_e.circularPathData.rightLargeArcRadius+" "+_e.circularPathData.rightSmallArcRadius+" 0 0 1 "+_e.circularPathData.rightInnerExtent+" "+_e.circularPathData.targetY+" L"+_e.circularPathData.targetX+" "+_e.circularPathData.targetY}(ke);else{var Me=(0,a.h5)().source(function(_e){return[_e.source.x0+(_e.source.x1-_e.source.x0),_e.y0]}).target(function(_e){return[_e.target.x0,_e.y1]});ke.path=Me(ke)}})}function N(we,me){return $(we)==$(me)?we.circularLinkType=="bottom"?V(we,me):B(we,me):$(me)-$(we)}function B(we,me){return we.y0-me.y0}function V(we,me){return me.y0-we.y0}function q(we,me){return we.y1-me.y1}function te(we,me){return me.y1-we.y1}function $(we){return we.target.column-we.source.column}function K(we){return we.target.x0-we.source.x1}function Z(we,me){var ve=P(we),Ie=K(me)/Math.tan(ve);return pe(we)=="up"?we.y1+Ie:we.y1-Ie}function X(we,me){var ve=P(we),Ie=K(me)/Math.tan(ve);return pe(we)=="up"?we.y1-Ie:we.y1+Ie}function ee(we,me,ve,Ie){we.links.forEach(function(Se){if(!Se.circular&&Se.target.column-Se.source.column>1){var ke=Se.source.column+1,se=Se.target.column-1,oe=1,he=se-ke+1;for(oe=1;ke<=se;ke++,oe++)we.nodes.forEach(function(Le){if(Le.column==ke){var Me,_e=oe/(he+1),De=Math.pow(1-_e,3),Ne=3*_e*Math.pow(1-_e,2),ce=3*Math.pow(_e,2)*(1-_e),Te=Math.pow(_e,3),ye=De*Se.y0+Ne*Se.y0+ce*Se.y1+Te*Se.y1,Oe=ye-Se.width/2,Be=ye+Se.width/2;Oe>Le.y0&&Oe<Le.y1?(Me=Le.y1-Oe+10,Me=Le.circularLinkType=="bottom"?Me:-Me,Le=ne(Le,Me,me,ve),we.nodes.forEach(function(Fe){var Ge,Ze;f(Fe,Ie)!=f(Le,Ie)&&Fe.column==Le.column&&(Ze=Fe,(Ge=Le).y0>Ze.y0&&Ge.y0<Ze.y1||Ge.y1>Ze.y0&&Ge.y1<Ze.y1||Ge.y0<Ze.y0&&Ge.y1>Ze.y1)&&ne(Fe,Me,me,ve)})):(Be>Le.y0&&Be<Le.y1||Oe<Le.y0&&Be>Le.y1)&&(Me=Be-Le.y0+10,Le=ne(Le,Me,me,ve),we.nodes.forEach(function(Fe){f(Fe,Ie)!=f(Le,Ie)&&Fe.column==Le.column&&Fe.y0<Le.y1&&Fe.y1>Le.y1&&ne(Fe,Me,me,ve)}))}})}})}function ne(we,me,ve,Ie){return we.y0+me>=ve&&we.y1+me<=Ie&&(we.y0=we.y0+me,we.y1=we.y1+me,we.targetLinks.forEach(function(Se){Se.y1=Se.y1+me}),we.sourceLinks.forEach(function(Se){Se.y0=Se.y0+me})),we}function re(we,me,ve,Ie){we.nodes.forEach(function(Se){Ie&&Se.y+(Se.y1-Se.y0)>me&&(Se.y=Se.y-(Se.y+(Se.y1-Se.y0)-me));var ke=we.links.filter(function(he){return f(he.source,ve)==f(Se,ve)}),se=ke.length;se>1&&ke.sort(function(he,Le){if(!he.circular&&!Le.circular){if(he.target.column==Le.target.column||!ue(he,Le))return he.y1-Le.y1;if(he.target.column>Le.target.column){var Me=X(Le,he);return he.y1-Me}if(Le.target.column>he.target.column)return X(he,Le)-Le.y1}return he.circular&&!Le.circular?he.circularLinkType=="top"?-1:1:Le.circular&&!he.circular?Le.circularLinkType=="top"?1:-1:he.circular&&Le.circular?he.circularLinkType===Le.circularLinkType&&he.circularLinkType=="top"?he.target.column===Le.target.column?he.target.y1-Le.target.y1:Le.target.column-he.target.column:he.circularLinkType===Le.circularLinkType&&he.circularLinkType=="bottom"?he.target.column===Le.target.column?Le.target.y1-he.target.y1:he.target.column-Le.target.column:he.circularLinkType=="top"?-1:1:void 0});var oe=Se.y0;ke.forEach(function(he){he.y0=oe+he.width/2,oe+=he.width}),ke.forEach(function(he,Le){if(he.circularLinkType=="bottom"){for(var Me=Le+1,_e=0;Me<se;Me++)_e+=ke[Me].width;he.y0=Se.y1-_e-he.width/2}})})}function ae(we,me,ve){we.nodes.forEach(function(Ie){var Se=we.links.filter(function(oe){return f(oe.target,ve)==f(Ie,ve)}),ke=Se.length;ke>1&&Se.sort(function(oe,he){if(!oe.circular&&!he.circular){if(oe.source.column==he.source.column||!ue(oe,he))return oe.y0-he.y0;if(he.source.column<oe.source.column){var Le=Z(he,oe);return oe.y0-Le}if(oe.source.column<he.source.column)return Z(oe,he)-he.y0}return oe.circular&&!he.circular?oe.circularLinkType=="top"?-1:1:he.circular&&!oe.circular?he.circularLinkType=="top"?1:-1:oe.circular&&he.circular?oe.circularLinkType===he.circularLinkType&&oe.circularLinkType=="top"?oe.source.column===he.source.column?oe.source.y1-he.source.y1:oe.source.column-he.source.column:oe.circularLinkType===he.circularLinkType&&oe.circularLinkType=="bottom"?oe.source.column===he.source.column?oe.source.y1-he.source.y1:he.source.column-oe.source.column:oe.circularLinkType=="top"?-1:1:void 0});var se=Ie.y0;Se.forEach(function(oe){oe.y1=se+oe.width/2,se+=oe.width}),Se.forEach(function(oe,he){if(oe.circularLinkType=="bottom"){for(var Le=he+1,Me=0;Le<ke;Le++)Me+=Se[Le].width;oe.y1=Ie.y1-Me-oe.width/2}})})}function ue(we,me){return pe(we)==pe(me)}function pe(we){return we.y0-we.y1>0?"up":"down"}function ge(we,me){return f(we.source,me)==f(we.target,me)}},30838:function(Y,O,e){e.r(O),e.d(O,{sankey:function(){return x},sankeyCenter:function(){return s},sankeyJustify:function(){return d},sankeyLeft:function(){return _},sankeyLinkHorizontal:function(){return f},sankeyRight:function(){return y}});var M=e(33064),k=e(15140);function a(S){return S.target.depth}function _(S){return S.depth}function y(S,T){return T-1-S.height}function d(S,T){return S.sourceLinks.length?S.depth:T-1}function s(S){return S.targetLinks.length?S.depth:S.sourceLinks.length?(0,M.VV)(S.sourceLinks,a)-1:0}function t(S){return function(){return S}}function i(S,T){return n(S.source,T.source)||S.index-T.index}function r(S,T){return n(S.target,T.target)||S.index-T.index}function n(S,T){return S.y0-T.y0}function l(S){return S.value}function o(S){return(S.y0+S.y1)/2}function u(S){return o(S.source)*S.value}function p(S){return o(S.target)*S.value}function c(S){return S.index}function b(S){return S.nodes}function g(S){return S.links}function h(S,T){var E=S.get(T);if(!E)throw new Error("missing: "+T);return E}function x(){var S=0,T=0,E=1,L=1,C=24,P=8,R=c,G=d,I=b,H=g,N=32;function B(){var q={nodes:I.apply(null,arguments),links:H.apply(null,arguments)};return function(te){te.nodes.forEach(function(K,Z){K.index=Z,K.sourceLinks=[],K.targetLinks=[]});var $=(0,k.UI)(te.nodes,R);te.links.forEach(function(K,Z){K.index=Z;var X=K.source,ee=K.target;typeof X!="object"&&(X=K.source=h($,X)),typeof ee!="object"&&(ee=K.target=h($,ee)),X.sourceLinks.push(K),ee.targetLinks.push(K)})}(q),function(te){te.nodes.forEach(function($){$.value=Math.max((0,M.Sm)($.sourceLinks,l),(0,M.Sm)($.targetLinks,l))})}(q),function(te){var $,K,Z;for($=te.nodes,K=[],Z=0;$.length;++Z,$=K,K=[])$.forEach(function(ee){ee.depth=Z,ee.sourceLinks.forEach(function(ne){K.indexOf(ne.target)<0&&K.push(ne.target)})});for($=te.nodes,K=[],Z=0;$.length;++Z,$=K,K=[])$.forEach(function(ee){ee.height=Z,ee.targetLinks.forEach(function(ne){K.indexOf(ne.source)<0&&K.push(ne.source)})});var X=(E-S-C)/(Z-1);te.nodes.forEach(function(ee){ee.x1=(ee.x0=S+Math.max(0,Math.min(Z-1,Math.floor(G.call(null,ee,Z))))*X)+C})}(q),function(te){var $=(0,k.b1)().key(function(re){return re.x0}).sortKeys(M.j2).entries(te.nodes).map(function(re){return re.values});(function(){var re=(0,M.Fp)($,function(pe){return pe.length}),ae=.6666666666666666*(L-T)/(re-1);P>ae&&(P=ae);var ue=(0,M.VV)($,function(pe){return(L-T-(pe.length-1)*P)/(0,M.Sm)(pe,l)});$.forEach(function(pe){pe.forEach(function(ge,we){ge.y1=(ge.y0=we)+ge.value*ue})}),te.links.forEach(function(pe){pe.width=pe.value*ue})})(),ne();for(var K=1,Z=N;Z>0;--Z)ee(K*=.99),ne(),X(K),ne();function X(re){$.forEach(function(ae){ae.forEach(function(ue){if(ue.targetLinks.length){var pe=((0,M.Sm)(ue.targetLinks,u)/(0,M.Sm)(ue.targetLinks,l)-o(ue))*re;ue.y0+=pe,ue.y1+=pe}})})}function ee(re){$.slice().reverse().forEach(function(ae){ae.forEach(function(ue){if(ue.sourceLinks.length){var pe=((0,M.Sm)(ue.sourceLinks,p)/(0,M.Sm)(ue.sourceLinks,l)-o(ue))*re;ue.y0+=pe,ue.y1+=pe}})})}function ne(){$.forEach(function(re){var ae,ue,pe,ge=T,we=re.length;for(re.sort(n),pe=0;pe<we;++pe)(ue=ge-(ae=re[pe]).y0)>0&&(ae.y0+=ue,ae.y1+=ue),ge=ae.y1+P;if((ue=ge-P-L)>0)for(ge=ae.y0-=ue,ae.y1-=ue,pe=we-2;pe>=0;--pe)(ue=(ae=re[pe]).y1+P-ge)>0&&(ae.y0-=ue,ae.y1-=ue),ge=ae.y0})}}(q),V(q),q}function V(q){q.nodes.forEach(function(te){te.sourceLinks.sort(r),te.targetLinks.sort(i)}),q.nodes.forEach(function(te){var $=te.y0,K=$;te.sourceLinks.forEach(function(Z){Z.y0=$+Z.width/2,$+=Z.width}),te.targetLinks.forEach(function(Z){Z.y1=K+Z.width/2,K+=Z.width})})}return B.update=function(q){return V(q),q},B.nodeId=function(q){return arguments.length?(R=typeof q=="function"?q:t(q),B):R},B.nodeAlign=function(q){return arguments.length?(G=typeof q=="function"?q:t(q),B):G},B.nodeWidth=function(q){return arguments.length?(C=+q,B):C},B.nodePadding=function(q){return arguments.length?(P=+q,B):P},B.nodes=function(q){return arguments.length?(I=typeof q=="function"?q:t(q),B):I},B.links=function(q){return arguments.length?(H=typeof q=="function"?q:t(q),B):H},B.size=function(q){return arguments.length?(S=T=0,E=+q[0],L=+q[1],B):[E-S,L-T]},B.extent=function(q){return arguments.length?(S=+q[0][0],E=+q[1][0],T=+q[0][1],L=+q[1][1],B):[[S,T],[E,L]]},B.iterations=function(q){return arguments.length?(N=+q,B):N},B}var v=e(45879);function m(S){return[S.source.x1,S.y0]}function w(S){return[S.target.x0,S.y1]}function f(){return(0,v.h5)().source(m).target(w)}},39898:function(Y,O,e){var M,k;(function(){var a={version:"3.8.0"},_=[].slice,y=function(F){return _.call(F)},d=self.document;function s(F){return F&&(F.ownerDocument||F.document||F).documentElement}function t(F){return F&&(F.ownerDocument&&F.ownerDocument.defaultView||F.document&&F||F.defaultView)}if(d)try{y(d.documentElement.childNodes)[0].nodeType}catch{y=function(Q){for(var ie=Q.length,de=new Array(ie);ie--;)de[ie]=Q[ie];return de}}if(Date.now||(Date.now=function(){return+new Date}),d)try{d.createElement("DIV").style.setProperty("opacity",0,"")}catch{var i=this.Element.prototype,r=i.setAttribute,n=i.setAttributeNS,l=this.CSSStyleDeclaration.prototype,o=l.setProperty;i.setAttribute=function(Q,ie){r.call(this,Q,ie+"")},i.setAttributeNS=function(Q,ie,de){n.call(this,Q,ie,de+"")},l.setProperty=function(Q,ie,de){o.call(this,Q,ie+"",de)}}function u(F,Q){return F<Q?-1:F>Q?1:F>=Q?0:NaN}function p(F){return F===null?NaN:+F}function c(F){return!isNaN(F)}function b(F){return{left:function(Q,ie,de,xe){for(arguments.length<3&&(de=0),arguments.length<4&&(xe=Q.length);de<xe;){var Ce=de+xe>>>1;F(Q[Ce],ie)<0?de=Ce+1:xe=Ce}return de},right:function(Q,ie,de,xe){for(arguments.length<3&&(de=0),arguments.length<4&&(xe=Q.length);de<xe;){var Ce=de+xe>>>1;F(Q[Ce],ie)>0?xe=Ce:de=Ce+1}return de}}}a.ascending=u,a.descending=function(F,Q){return Q<F?-1:Q>F?1:Q>=F?0:NaN},a.min=function(F,Q){var ie,de,xe=-1,Ce=F.length;if(arguments.length===1){for(;++xe<Ce;)if((de=F[xe])!=null&&de>=de){ie=de;break}for(;++xe<Ce;)(de=F[xe])!=null&&ie>de&&(ie=de)}else{for(;++xe<Ce;)if((de=Q.call(F,F[xe],xe))!=null&&de>=de){ie=de;break}for(;++xe<Ce;)(de=Q.call(F,F[xe],xe))!=null&&ie>de&&(ie=de)}return ie},a.max=function(F,Q){var ie,de,xe=-1,Ce=F.length;if(arguments.length===1){for(;++xe<Ce;)if((de=F[xe])!=null&&de>=de){ie=de;break}for(;++xe<Ce;)(de=F[xe])!=null&&de>ie&&(ie=de)}else{for(;++xe<Ce;)if((de=Q.call(F,F[xe],xe))!=null&&de>=de){ie=de;break}for(;++xe<Ce;)(de=Q.call(F,F[xe],xe))!=null&&de>ie&&(ie=de)}return ie},a.extent=function(F,Q){var ie,de,xe,Ce=-1,Ue=F.length;if(arguments.length===1){for(;++Ce<Ue;)if((de=F[Ce])!=null&&de>=de){ie=xe=de;break}for(;++Ce<Ue;)(de=F[Ce])!=null&&(ie>de&&(ie=de),xe<de&&(xe=de))}else{for(;++Ce<Ue;)if((de=Q.call(F,F[Ce],Ce))!=null&&de>=de){ie=xe=de;break}for(;++Ce<Ue;)(de=Q.call(F,F[Ce],Ce))!=null&&(ie>de&&(ie=de),xe<de&&(xe=de))}return[ie,xe]},a.sum=function(F,Q){var ie,de=0,xe=F.length,Ce=-1;if(arguments.length===1)for(;++Ce<xe;)c(ie=+F[Ce])&&(de+=ie);else for(;++Ce<xe;)c(ie=+Q.call(F,F[Ce],Ce))&&(de+=ie);return de},a.mean=function(F,Q){var ie,de=0,xe=F.length,Ce=-1,Ue=xe;if(arguments.length===1)for(;++Ce<xe;)c(ie=p(F[Ce]))?de+=ie:--Ue;else for(;++Ce<xe;)c(ie=p(Q.call(F,F[Ce],Ce)))?de+=ie:--Ue;if(Ue)return de/Ue},a.quantile=function(F,Q){var ie=(F.length-1)*Q+1,de=Math.floor(ie),xe=+F[de-1],Ce=ie-de;return Ce?xe+Ce*(F[de]-xe):xe},a.median=function(F,Q){var ie,de=[],xe=F.length,Ce=-1;if(arguments.length===1)for(;++Ce<xe;)c(ie=p(F[Ce]))&&de.push(ie);else for(;++Ce<xe;)c(ie=p(Q.call(F,F[Ce],Ce)))&&de.push(ie);if(de.length)return a.quantile(de.sort(u),.5)},a.variance=function(F,Q){var ie,de,xe=F.length,Ce=0,Ue=0,He=-1,We=0;if(arguments.length===1)for(;++He<xe;)c(ie=p(F[He]))&&(Ue+=(de=ie-Ce)*(ie-(Ce+=de/++We)));else for(;++He<xe;)c(ie=p(Q.call(F,F[He],He)))&&(Ue+=(de=ie-Ce)*(ie-(Ce+=de/++We)));if(We>1)return Ue/(We-1)},a.deviation=function(){var F=a.variance.apply(this,arguments);return F&&Math.sqrt(F)};var g=b(u);function h(F){return F.length}a.bisectLeft=g.left,a.bisect=a.bisectRight=g.right,a.bisector=function(F){return b(F.length===1?function(Q,ie){return u(F(Q),ie)}:F)},a.shuffle=function(F,Q,ie){(Ce=arguments.length)<3&&(ie=F.length,Ce<2&&(Q=0));for(var de,xe,Ce=ie-Q;Ce;)xe=Math.random()*Ce--|0,de=F[Ce+Q],F[Ce+Q]=F[xe+Q],F[xe+Q]=de;return F},a.permute=function(F,Q){for(var ie=Q.length,de=new Array(ie);ie--;)de[ie]=F[Q[ie]];return de},a.pairs=function(F){for(var Q=0,ie=F.length-1,de=F[0],xe=new Array(ie<0?0:ie);Q<ie;)xe[Q]=[de,de=F[++Q]];return xe},a.transpose=function(F){if(!(xe=F.length))return[];for(var Q=-1,ie=a.min(F,h),de=new Array(ie);++Q<ie;)for(var xe,Ce=-1,Ue=de[Q]=new Array(xe);++Ce<xe;)Ue[Ce]=F[Ce][Q];return de},a.zip=function(){return a.transpose(arguments)},a.keys=function(F){var Q=[];for(var ie in F)Q.push(ie);return Q},a.values=function(F){var Q=[];for(var ie in F)Q.push(F[ie]);return Q},a.entries=function(F){var Q=[];for(var ie in F)Q.push({key:ie,value:F[ie]});return Q},a.merge=function(F){for(var Q,ie,de,xe=F.length,Ce=-1,Ue=0;++Ce<xe;)Ue+=F[Ce].length;for(ie=new Array(Ue);--xe>=0;)for(Q=(de=F[xe]).length;--Q>=0;)ie[--Ue]=de[Q];return ie};var x=Math.abs;function v(F,Q){for(var ie in Q)Object.defineProperty(F.prototype,ie,{value:Q[ie],enumerable:!1})}function m(){this._=Object.create(null)}a.range=function(F,Q,ie){if(arguments.length<3&&(ie=1,arguments.length<2&&(Q=F,F=0)),(Q-F)/ie==1/0)throw new Error("infinite range");var de,xe=[],Ce=function(He){for(var We=1;He*We%1;)We*=10;return We}(x(ie)),Ue=-1;if(F*=Ce,Q*=Ce,(ie*=Ce)<0)for(;(de=F+ie*++Ue)>Q;)xe.push(de/Ce);else for(;(de=F+ie*++Ue)<Q;)xe.push(de/Ce);return xe},a.map=function(F,Q){var ie=new m;if(F instanceof m)F.forEach(function(He,We){ie.set(He,We)});else if(Array.isArray(F)){var de,xe=-1,Ce=F.length;if(arguments.length===1)for(;++xe<Ce;)ie.set(xe,F[xe]);else for(;++xe<Ce;)ie.set(Q.call(F,de=F[xe],xe),de)}else for(var Ue in F)ie.set(Ue,F[Ue]);return ie};var w="__proto__",f="\0";function S(F){return(F+="")===w||F[0]===f?f+F:F}function T(F){return(F+="")[0]===f?F.slice(1):F}function E(F){return S(F)in this._}function L(F){return(F=S(F))in this._&&delete this._[F]}function C(){var F=[];for(var Q in this._)F.push(T(Q));return F}function P(){var F=0;for(var Q in this._)++F;return F}function R(){for(var F in this._)return!1;return!0}function G(){this._=Object.create(null)}function I(F){return F}function H(F,Q,ie){return function(){var de=ie.apply(Q,arguments);return de===Q?F:de}}function N(F,Q){if(Q in F)return Q;Q=Q.charAt(0).toUpperCase()+Q.slice(1);for(var ie=0,de=B.length;ie<de;++ie){var xe=B[ie]+Q;if(xe in F)return xe}}v(m,{has:E,get:function(F){return this._[S(F)]},set:function(F,Q){return this._[S(F)]=Q},remove:L,keys:C,values:function(){var F=[];for(var Q in this._)F.push(this._[Q]);return F},entries:function(){var F=[];for(var Q in this._)F.push({key:T(Q),value:this._[Q]});return F},size:P,empty:R,forEach:function(F){for(var Q in this._)F.call(this,T(Q),this._[Q])}}),a.nest=function(){var F,Q,ie={},de=[],xe=[];function Ce(He,We,Ke){if(Ke>=de.length)return Q?Q.call(ie,We):F?We.sort(F):We;for(var nt,pt,yt,It,Rt=-1,Pt=We.length,Vt=de[Ke++],Dt=new m;++Rt<Pt;)(It=Dt.get(nt=Vt(pt=We[Rt])))?It.push(pt):Dt.set(nt,[pt]);return He?(pt=He(),yt=function(sn,Kt){pt.set(sn,Ce(He,Kt,Ke))}):(pt={},yt=function(sn,Kt){pt[sn]=Ce(He,Kt,Ke)}),Dt.forEach(yt),pt}function Ue(He,We){if(We>=de.length)return He;var Ke=[],nt=xe[We++];return He.forEach(function(pt,yt){Ke.push({key:pt,values:Ue(yt,We)})}),nt?Ke.sort(function(pt,yt){return nt(pt.key,yt.key)}):Ke}return ie.map=function(He,We){return Ce(We,He,0)},ie.entries=function(He){return Ue(Ce(a.map,He,0),0)},ie.key=function(He){return de.push(He),ie},ie.sortKeys=function(He){return xe[de.length-1]=He,ie},ie.sortValues=function(He){return F=He,ie},ie.rollup=function(He){return Q=He,ie},ie},a.set=function(F){var Q=new G;if(F)for(var ie=0,de=F.length;ie<de;++ie)Q.add(F[ie]);return Q},v(G,{has:E,add:function(F){return this._[S(F+="")]=!0,F},remove:L,values:C,size:P,empty:R,forEach:function(F){for(var Q in this._)F.call(this,T(Q))}}),a.behavior={},a.rebind=function(F,Q){for(var ie,de=1,xe=arguments.length;++de<xe;)F[ie=arguments[de]]=H(F,Q,Q[ie]);return F};var B=["webkit","ms","moz","Moz","o","O"];function V(){}function q(){}function te(F){var Q=[],ie=new m;function de(){for(var xe,Ce=Q,Ue=-1,He=Ce.length;++Ue<He;)(xe=Ce[Ue].on)&&xe.apply(this,arguments);return F}return de.on=function(xe,Ce){var Ue,He=ie.get(xe);return arguments.length<2?He&&He.on:(He&&(He.on=null,Q=Q.slice(0,Ue=Q.indexOf(He)).concat(Q.slice(Ue+1)),ie.remove(xe)),Ce&&Q.push(ie.set(xe,{on:Ce})),F)},de}function $(){a.event.preventDefault()}function K(){for(var F,Q=a.event;F=Q.sourceEvent;)Q=F;return Q}function Z(F){for(var Q=new q,ie=0,de=arguments.length;++ie<de;)Q[arguments[ie]]=te(Q);return Q.of=function(xe,Ce){return function(Ue){try{var He=Ue.sourceEvent=a.event;Ue.target=F,a.event=Ue,Q[Ue.type].apply(xe,Ce)}finally{a.event=He}}},Q}a.dispatch=function(){for(var F=new q,Q=-1,ie=arguments.length;++Q<ie;)F[arguments[Q]]=te(F);return F},q.prototype.on=function(F,Q){var ie=F.indexOf("."),de="";if(ie>=0&&(de=F.slice(ie+1),F=F.slice(0,ie)),F)return arguments.length<2?this[F].on(de):this[F].on(de,Q);if(arguments.length===2){if(Q==null)for(F in this)this.hasOwnProperty(F)&&this[F].on(de,null);return this}},a.event=null,a.requote=function(F){return F.replace(X,"\\$&")};var X=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ee={}.__proto__?function(F,Q){F.__proto__=Q}:function(F,Q){for(var ie in Q)F[ie]=Q[ie]};function ne(F){return ee(F,pe),F}var re=function(F,Q){return Q.querySelector(F)},ae=function(F,Q){return Q.querySelectorAll(F)},ue=function(F,Q){var ie=F.matches||F[N(F,"matchesSelector")];return ue=function(de,xe){return ie.call(de,xe)},ue(F,Q)};typeof Sizzle=="function"&&(re=function(F,Q){return Sizzle(F,Q)[0]||null},ae=Sizzle,ue=Sizzle.matchesSelector),a.selection=function(){return a.select(d.documentElement)};var pe=a.selection.prototype=[];function ge(F){return typeof F=="function"?F:function(){return re(F,this)}}function we(F){return typeof F=="function"?F:function(){return ae(F,this)}}pe.select=function(F){var Q,ie,de,xe,Ce=[];F=ge(F);for(var Ue=-1,He=this.length;++Ue<He;){Ce.push(Q=[]),Q.parentNode=(de=this[Ue]).parentNode;for(var We=-1,Ke=de.length;++We<Ke;)(xe=de[We])?(Q.push(ie=F.call(xe,xe.__data__,We,Ue)),ie&&"__data__"in xe&&(ie.__data__=xe.__data__)):Q.push(null)}return ne(Ce)},pe.selectAll=function(F){var Q,ie,de=[];F=we(F);for(var xe=-1,Ce=this.length;++xe<Ce;)for(var Ue=this[xe],He=-1,We=Ue.length;++He<We;)(ie=Ue[He])&&(de.push(Q=y(F.call(ie,ie.__data__,He,xe))),Q.parentNode=ie);return ne(de)};var me="http://www.w3.org/1999/xhtml",ve={svg:"http://www.w3.org/2000/svg",xhtml:me,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ie(F,Q){return F=a.ns.qualify(F),Q==null?F.local?function(){this.removeAttributeNS(F.space,F.local)}:function(){this.removeAttribute(F)}:typeof Q=="function"?F.local?function(){var ie=Q.apply(this,arguments);ie==null?this.removeAttributeNS(F.space,F.local):this.setAttributeNS(F.space,F.local,ie)}:function(){var ie=Q.apply(this,arguments);ie==null?this.removeAttribute(F):this.setAttribute(F,ie)}:F.local?function(){this.setAttributeNS(F.space,F.local,Q)}:function(){this.setAttribute(F,Q)}}function Se(F){return F.trim().replace(/\s+/g," ")}function ke(F){return new RegExp("(?:^|\\s+)"+a.requote(F)+"(?:\\s+|$)","g")}function se(F){return(F+"").trim().split(/^|\s+/)}function oe(F,Q){var ie=(F=se(F).map(he)).length;return typeof Q=="function"?function(){for(var de=-1,xe=Q.apply(this,arguments);++de<ie;)F[de](this,xe)}:function(){for(var de=-1;++de<ie;)F[de](this,Q)}}function he(F){var Q=ke(F);return function(ie,de){if(xe=ie.classList)return de?xe.add(F):xe.remove(F);var xe=ie.getAttribute("class")||"";de?(Q.lastIndex=0,Q.test(xe)||ie.setAttribute("class",Se(xe+" "+F))):ie.setAttribute("class",Se(xe.replace(Q," ")))}}function Le(F,Q,ie){return Q==null?function(){this.style.removeProperty(F)}:typeof Q=="function"?function(){var de=Q.apply(this,arguments);de==null?this.style.removeProperty(F):this.style.setProperty(F,de,ie)}:function(){this.style.setProperty(F,Q,ie)}}function Me(F,Q){return Q==null?function(){delete this[F]}:typeof Q=="function"?function(){var ie=Q.apply(this,arguments);ie==null?delete this[F]:this[F]=ie}:function(){this[F]=Q}}function _e(F){return typeof F=="function"?F:(F=a.ns.qualify(F)).local?function(){return this.ownerDocument.createElementNS(F.space,F.local)}:function(){var Q=this.ownerDocument,ie=this.namespaceURI;return ie===me&&Q.documentElement.namespaceURI===me?Q.createElement(F):Q.createElementNS(ie,F)}}function De(){var F=this.parentNode;F&&F.removeChild(this)}function Ne(F){return{__data__:F}}function ce(F){return function(){return ue(this,F)}}function Te(F){return arguments.length||(F=u),function(Q,ie){return Q&&ie?F(Q.__data__,ie.__data__):!Q-!ie}}function ye(F,Q){for(var ie=0,de=F.length;ie<de;ie++)for(var xe,Ce=F[ie],Ue=0,He=Ce.length;Ue<He;Ue++)(xe=Ce[Ue])&&Q(xe,Ue,ie);return F}function Oe(F){return ee(F,Be),F}a.ns={prefix:ve,qualify:function(F){var Q=F.indexOf(":"),ie=F;return Q>=0&&(ie=F.slice(0,Q))!=="xmlns"&&(F=F.slice(Q+1)),ve.hasOwnProperty(ie)?{space:ve[ie],local:F}:F}},pe.attr=function(F,Q){if(arguments.length<2){if(typeof F=="string"){var ie=this.node();return(F=a.ns.qualify(F)).local?ie.getAttributeNS(F.space,F.local):ie.getAttribute(F)}for(Q in F)this.each(Ie(Q,F[Q]));return this}return this.each(Ie(F,Q))},pe.classed=function(F,Q){if(arguments.length<2){if(typeof F=="string"){var ie=this.node(),de=(F=se(F)).length,xe=-1;if(Q=ie.classList){for(;++xe<de;)if(!Q.contains(F[xe]))return!1}else for(Q=ie.getAttribute("class");++xe<de;)if(!ke(F[xe]).test(Q))return!1;return!0}for(Q in F)this.each(oe(Q,F[Q]));return this}return this.each(oe(F,Q))},pe.style=function(F,Q,ie){var de=arguments.length;if(de<3){if(typeof F!="string"){for(ie in de<2&&(Q=""),F)this.each(Le(ie,F[ie],Q));return this}if(de<2){var xe=this.node();return t(xe).getComputedStyle(xe,null).getPropertyValue(F)}ie=""}return this.each(Le(F,Q,ie))},pe.property=function(F,Q){if(arguments.length<2){if(typeof F=="string")return this.node()[F];for(Q in F)this.each(Me(Q,F[Q]));return this}return this.each(Me(F,Q))},pe.text=function(F){return arguments.length?this.each(typeof F=="function"?function(){var Q=F.apply(this,arguments);this.textContent=Q??""}:F==null?function(){this.textContent=""}:function(){this.textContent=F}):this.node().textContent},pe.html=function(F){return arguments.length?this.each(typeof F=="function"?function(){var Q=F.apply(this,arguments);this.innerHTML=Q??""}:F==null?function(){this.innerHTML=""}:function(){this.innerHTML=F}):this.node().innerHTML},pe.append=function(F){return F=_e(F),this.select(function(){return this.appendChild(F.apply(this,arguments))})},pe.insert=function(F,Q){return F=_e(F),Q=ge(Q),this.select(function(){return this.insertBefore(F.apply(this,arguments),Q.apply(this,arguments)||null)})},pe.remove=function(){return this.each(De)},pe.data=function(F,Q){var ie,de,xe=-1,Ce=this.length;if(!arguments.length){for(F=new Array(Ce=(ie=this[0]).length);++xe<Ce;)(de=ie[xe])&&(F[xe]=de.__data__);return F}function Ue(nt,pt){var yt,It,Rt,Pt=nt.length,Vt=pt.length,Dt=Math.min(Pt,Vt),sn=new Array(Vt),Kt=new Array(Vt),Zt=new Array(Pt);if(Q){var xn,_n=new m,jn=new Array(Pt);for(yt=-1;++yt<Pt;)(It=nt[yt])&&(_n.has(xn=Q.call(It,It.__data__,yt))?Zt[yt]=It:_n.set(xn,It),jn[yt]=xn);for(yt=-1;++yt<Vt;)(It=_n.get(xn=Q.call(pt,Rt=pt[yt],yt)))?It!==!0&&(sn[yt]=It,It.__data__=Rt):Kt[yt]=Ne(Rt),_n.set(xn,!0);for(yt=-1;++yt<Pt;)yt in jn&&_n.get(jn[yt])!==!0&&(Zt[yt]=nt[yt])}else{for(yt=-1;++yt<Dt;)It=nt[yt],Rt=pt[yt],It?(It.__data__=Rt,sn[yt]=It):Kt[yt]=Ne(Rt);for(;yt<Vt;++yt)Kt[yt]=Ne(pt[yt]);for(;yt<Pt;++yt)Zt[yt]=nt[yt]}Kt.update=sn,Kt.parentNode=sn.parentNode=Zt.parentNode=nt.parentNode,He.push(Kt),We.push(sn),Ke.push(Zt)}var He=Oe([]),We=ne([]),Ke=ne([]);if(typeof F=="function")for(;++xe<Ce;)Ue(ie=this[xe],F.call(ie,ie.parentNode.__data__,xe));else for(;++xe<Ce;)Ue(ie=this[xe],F);return We.enter=function(){return He},We.exit=function(){return Ke},We},pe.datum=function(F){return arguments.length?this.property("__data__",F):this.property("__data__")},pe.filter=function(F){var Q,ie,de,xe=[];typeof F!="function"&&(F=ce(F));for(var Ce=0,Ue=this.length;Ce<Ue;Ce++){xe.push(Q=[]),Q.parentNode=(ie=this[Ce]).parentNode;for(var He=0,We=ie.length;He<We;He++)(de=ie[He])&&F.call(de,de.__data__,He,Ce)&&Q.push(de)}return ne(xe)},pe.order=function(){for(var F=-1,Q=this.length;++F<Q;)for(var ie,de=this[F],xe=de.length-1,Ce=de[xe];--xe>=0;)(ie=de[xe])&&(Ce&&Ce!==ie.nextSibling&&Ce.parentNode.insertBefore(ie,Ce),Ce=ie);return this},pe.sort=function(F){F=Te.apply(this,arguments);for(var Q=-1,ie=this.length;++Q<ie;)this[Q].sort(F);return this.order()},pe.each=function(F){return ye(this,function(Q,ie,de){F.call(Q,Q.__data__,ie,de)})},pe.call=function(F){var Q=y(arguments);return F.apply(Q[0]=this,Q),this},pe.empty=function(){return!this.node()},pe.node=function(){for(var F=0,Q=this.length;F<Q;F++)for(var ie=this[F],de=0,xe=ie.length;de<xe;de++){var Ce=ie[de];if(Ce)return Ce}return null},pe.size=function(){var F=0;return ye(this,function(){++F}),F};var Be=[];function Fe(F,Q,ie){var de="__on"+F,xe=F.indexOf("."),Ce=Ze;xe>0&&(F=F.slice(0,xe));var Ue=Ge.get(F);function He(){var We=this[de];We&&(this.removeEventListener(F,We,We.$),delete this[de])}return Ue&&(F=Ue,Ce=et),xe?Q?function(){var We=Ce(Q,y(arguments));He.call(this),this.addEventListener(F,this[de]=We,We.$=ie),We._=Q}:He:Q?V:function(){var We,Ke=new RegExp("^__on([^.]+)"+a.requote(F)+"$");for(var nt in this)if(We=nt.match(Ke)){var pt=this[nt];this.removeEventListener(We[1],pt,pt.$),delete this[nt]}}}a.selection.enter=Oe,a.selection.enter.prototype=Be,Be.append=pe.append,Be.empty=pe.empty,Be.node=pe.node,Be.call=pe.call,Be.size=pe.size,Be.select=function(F){for(var Q,ie,de,xe,Ce,Ue=[],He=-1,We=this.length;++He<We;){de=(xe=this[He]).update,Ue.push(Q=[]),Q.parentNode=xe.parentNode;for(var Ke=-1,nt=xe.length;++Ke<nt;)(Ce=xe[Ke])?(Q.push(de[Ke]=ie=F.call(xe.parentNode,Ce.__data__,Ke,He)),ie.__data__=Ce.__data__):Q.push(null)}return ne(Ue)},Be.insert=function(F,Q){var ie,de,xe;return arguments.length<2&&(ie=this,Q=function(Ce,Ue,He){var We,Ke=ie[He].update,nt=Ke.length;for(He!=xe&&(xe=He,de=0),Ue>=de&&(de=Ue+1);!(We=Ke[de])&&++de<nt;);return We}),pe.insert.call(this,F,Q)},a.select=function(F){var Q;return typeof F=="string"?(Q=[re(F,d)]).parentNode=d.documentElement:(Q=[F]).parentNode=s(F),ne([Q])},a.selectAll=function(F){var Q;return typeof F=="string"?(Q=y(ae(F,d))).parentNode=d.documentElement:(Q=y(F)).parentNode=null,ne([Q])},pe.on=function(F,Q,ie){var de=arguments.length;if(de<3){if(typeof F!="string"){for(ie in de<2&&(Q=!1),F)this.each(Fe(ie,F[ie],Q));return this}if(de<2)return(de=this.node()["__on"+F])&&de._;ie=!1}return this.each(Fe(F,Q,ie))};var Ge=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function Ze(F,Q){return function(ie){var de=a.event;a.event=ie,Q[0]=this.__data__;try{F.apply(this,Q)}finally{a.event=de}}}function et(F,Q){var ie=Ze(F,Q);return function(de){var xe=this,Ce=de.relatedTarget;Ce&&(Ce===xe||8&Ce.compareDocumentPosition(xe))||ie.call(xe,de)}}d&&Ge.forEach(function(F){"on"+F in d&&Ge.remove(F)});var ft,rt=0;function _t(F){var Q=".dragsuppress-"+ ++rt,ie="click"+Q,de=a.select(t(F)).on("touchmove"+Q,$).on("dragstart"+Q,$).on("selectstart"+Q,$);if(ft==null&&(ft=!("onselectstart"in F)&&N(F.style,"userSelect")),ft){var xe=s(F).style,Ce=xe[ft];xe[ft]="none"}return function(Ue){if(de.on(Q,null),ft&&(xe[ft]=Ce),Ue){var He=function(){de.on(ie,null)};de.on(ie,function(){$(),He()},!0),setTimeout(He,0)}}}a.mouse=function(F){return wt(F,K())};var kt=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function wt(F,Q){Q.changedTouches&&(Q=Q.changedTouches[0]);var ie=F.ownerSVGElement||F;if(ie.createSVGPoint){var de=ie.createSVGPoint();if(kt<0){var xe=t(F);if(xe.scrollX||xe.scrollY){var Ce=(ie=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();kt=!(Ce.f||Ce.e),ie.remove()}}return kt?(de.x=Q.pageX,de.y=Q.pageY):(de.x=Q.clientX,de.y=Q.clientY),[(de=de.matrixTransform(F.getScreenCTM().inverse())).x,de.y]}var Ue=F.getBoundingClientRect();return[Q.clientX-Ue.left-F.clientLeft,Q.clientY-Ue.top-F.clientTop]}function lt(){return a.event.changedTouches[0].identifier}a.touch=function(F,Q,ie){if(arguments.length<3&&(ie=Q,Q=K().changedTouches),Q){for(var de,xe=0,Ce=Q.length;xe<Ce;++xe)if((de=Q[xe]).identifier===ie)return wt(F,de)}},a.behavior.drag=function(){var F=Z(xe,"drag","dragstart","dragend"),Q=null,ie=Ce(V,a.mouse,t,"mousemove","mouseup"),de=Ce(lt,a.touch,I,"touchmove","touchend");function xe(){this.on("mousedown.drag",ie).on("touchstart.drag",de)}function Ce(Ue,He,We,Ke,nt){return function(){var pt,yt=this,It=a.event.target.correspondingElement||a.event.target,Rt=yt.parentNode,Pt=F.of(yt,arguments),Vt=0,Dt=Ue(),sn=".drag"+(Dt==null?"":"-"+Dt),Kt=a.select(We(It)).on(Ke+sn,function(){var _n,jn,Un=He(Rt,Dt);Un&&(_n=Un[0]-xn[0],jn=Un[1]-xn[1],Vt|=_n|jn,xn=Un,Pt({type:"drag",x:Un[0]+pt[0],y:Un[1]+pt[1],dx:_n,dy:jn}))}).on(nt+sn,function(){He(Rt,Dt)&&(Kt.on(Ke+sn,null).on(nt+sn,null),Zt(Vt),Pt({type:"dragend"}))}),Zt=_t(It),xn=He(Rt,Dt);pt=Q?[(pt=Q.apply(yt,arguments)).x-xn[0],pt.y-xn[1]]:[0,0],Pt({type:"dragstart"})}}return xe.origin=function(Ue){return arguments.length?(Q=Ue,xe):Q},a.rebind(xe,F,"on")},a.touches=function(F,Q){return arguments.length<2&&(Q=K().touches),Q?y(Q).map(function(ie){var de=wt(F,ie);return de.identifier=ie.identifier,de}):[]};var ut=1e-6,Et=ut*ut,Ot=Math.PI,zt=2*Ot,Lt=zt-ut,Je=Ot/2,Qe=Ot/180,qe=180/Ot;function $e(F){return F>1?Je:F<-1?-Je:Math.asin(F)}function ct(F){return((F=Math.exp(F))+1/F)/2}var at=Math.SQRT2;a.interpolateZoom=function(F,Q){var ie,de,xe=F[0],Ce=F[1],Ue=F[2],He=Q[0],We=Q[1],Ke=Q[2],nt=He-xe,pt=We-Ce,yt=nt*nt+pt*pt;if(yt<Et)de=Math.log(Ke/Ue)/at,ie=function(sn){return[xe+sn*nt,Ce+sn*pt,Ue*Math.exp(at*sn*de)]};else{var It=Math.sqrt(yt),Rt=(Ke*Ke-Ue*Ue+4*yt)/(2*Ue*2*It),Pt=(Ke*Ke-Ue*Ue-4*yt)/(2*Ke*2*It),Vt=Math.log(Math.sqrt(Rt*Rt+1)-Rt),Dt=Math.log(Math.sqrt(Pt*Pt+1)-Pt);de=(Dt-Vt)/at,ie=function(sn){var Kt,Zt=sn*de,xn=ct(Vt),_n=Ue/(2*It)*(xn*(Kt=at*Zt+Vt,((Kt=Math.exp(2*Kt))-1)/(Kt+1))-function(jn){return((jn=Math.exp(jn))-1/jn)/2}(Vt));return[xe+_n*nt,Ce+_n*pt,Ue*xn/ct(at*Zt+Vt)]}}return ie.duration=1e3*de,ie},a.behavior.zoom=function(){var F,Q,ie,de,xe,Ce,Ue,He,We,Ke={x:0,y:0,k:1},nt=[960,500],pt=st,yt=250,It=0,Rt="mousedown.zoom",Pt="mousemove.zoom",Vt="mouseup.zoom",Dt="touchstart.zoom",sn=Z(Kt,"zoomstart","zoom","zoomend");function Kt(qn){qn.on(Rt,cr).on(je+".zoom",kr).on("dblclick.zoom",Br).on(Dt,vr)}function Zt(qn){return[(qn[0]-Ke.x)/Ke.k,(qn[1]-Ke.y)/Ke.k]}function xn(qn){Ke.k=Math.max(pt[0],Math.min(pt[1],qn))}function _n(qn,ur){ur=function(mr){return[mr[0]*Ke.k+Ke.x,mr[1]*Ke.k+Ke.y]}(ur),Ke.x+=qn[0]-ur[0],Ke.y+=qn[1]-ur[1]}function jn(qn,ur,mr,Mr){qn.__chart__={x:Ke.x,y:Ke.y,k:Ke.k},xn(Math.pow(2,Mr)),_n(Q=ur,mr),qn=a.select(qn),yt>0&&(qn=qn.transition().duration(yt)),qn.call(Kt.event)}function Un(){Ue&&Ue.domain(Ce.range().map(function(qn){return(qn-Ke.x)/Ke.k}).map(Ce.invert)),We&&We.domain(He.range().map(function(qn){return(qn-Ke.y)/Ke.k}).map(He.invert))}function Wn(qn){It++||qn({type:"zoomstart"})}function er(qn){Un(),qn({type:"zoom",scale:Ke.k,translate:[Ke.x,Ke.y]})}function fr(qn){--It||(qn({type:"zoomend"}),Q=null)}function cr(){var qn=this,ur=sn.of(qn,arguments),mr=0,Mr=a.select(t(qn)).on(Pt,function(){mr=1,_n(a.mouse(qn),Dr),er(ur)}).on(Vt,function(){Mr.on(Pt,null).on(Vt,null),Hr(mr),fr(ur)}),Dr=Zt(a.mouse(qn)),Hr=_t(qn);xa.call(qn),Wn(ur)}function vr(){var qn,ur=this,mr=sn.of(ur,arguments),Mr={},Dr=0,Hr=".zoom-"+a.event.changedTouches[0].identifier,Jr="touchmove"+Hr,ai="touchend"+Hr,wi=[],Ti=a.select(ur),oi=_t(ur);function Hi(){var ei=a.touches(ur);return qn=Ke.k,ei.forEach(function(Xr){Xr.identifier in Mr&&(Mr[Xr.identifier]=Zt(Xr))}),ei}function ha(){var ei=a.event.target;a.select(ei).on(Jr,Ki).on(ai,ia),wi.push(ei);for(var Xr=a.event.changedTouches,ki=0,gi=Xr.length;ki<gi;++ki)Mr[Xr[ki].identifier]=null;var Ei=Hi(),Da=Date.now();if(Ei.length===1){if(Da-xe<500){var Bi=Ei[0];jn(ur,Bi,Mr[Bi.identifier],Math.floor(Math.log(Ke.k)/Math.LN2)+1),$()}xe=Da}else if(Ei.length>1){Bi=Ei[0];var si=Ei[1],Rs=Bi[0]-si[0],Ha=Bi[1]-si[1];Dr=Rs*Rs+Ha*Ha}}function Ki(){var ei,Xr,ki,gi,Ei=a.touches(ur);xa.call(ur);for(var Da=0,Bi=Ei.length;Da<Bi;++Da,gi=null)if(ki=Ei[Da],gi=Mr[ki.identifier]){if(Xr)break;ei=ki,Xr=gi}if(gi){var si=(si=ki[0]-ei[0])*si+(si=ki[1]-ei[1])*si,Rs=Dr&&Math.sqrt(si/Dr);ei=[(ei[0]+ki[0])/2,(ei[1]+ki[1])/2],Xr=[(Xr[0]+gi[0])/2,(Xr[1]+gi[1])/2],xn(Rs*qn)}xe=null,_n(ei,Xr),er(mr)}function ia(){if(a.event.touches.length){for(var ei=a.event.changedTouches,Xr=0,ki=ei.length;Xr<ki;++Xr)delete Mr[ei[Xr].identifier];for(var gi in Mr)return void Hi()}a.selectAll(wi).on(Hr,null),Ti.on(Rt,cr).on(Dt,vr),oi(),fr(mr)}ha(),Wn(mr),Ti.on(Rt,null).on(Dt,ha)}function kr(){var qn=sn.of(this,arguments);de?clearTimeout(de):(xa.call(this),F=Zt(Q=ie||a.mouse(this)),Wn(qn)),de=setTimeout(function(){de=null,fr(qn)},50),$(),xn(Math.pow(2,.002*Re())*Ke.k),_n(Q,F),er(qn)}function Br(){var qn=a.mouse(this),ur=Math.log(Ke.k)/Math.LN2;jn(this,qn,Zt(qn),a.event.shiftKey?Math.ceil(ur)-1:Math.floor(ur)+1)}return je||(je="onwheel"in d?(Re=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in d?(Re=function(){return a.event.wheelDelta},"mousewheel"):(Re=function(){return-a.event.detail},"MozMousePixelScroll")),Kt.event=function(qn){qn.each(function(){var ur=sn.of(this,arguments),mr=Ke;fs?a.select(this).transition().each("start.zoom",function(){Ke=this.__chart__||{x:0,y:0,k:1},Wn(ur)}).tween("zoom:zoom",function(){var Mr=nt[0],Dr=nt[1],Hr=Q?Q[0]:Mr/2,Jr=Q?Q[1]:Dr/2,ai=a.interpolateZoom([(Hr-Ke.x)/Ke.k,(Jr-Ke.y)/Ke.k,Mr/Ke.k],[(Hr-mr.x)/mr.k,(Jr-mr.y)/mr.k,Mr/mr.k]);return function(wi){var Ti=ai(wi),oi=Mr/Ti[2];this.__chart__=Ke={x:Hr-Ti[0]*oi,y:Jr-Ti[1]*oi,k:oi},er(ur)}}).each("interrupt.zoom",function(){fr(ur)}).each("end.zoom",function(){fr(ur)}):(this.__chart__=Ke,Wn(ur),er(ur),fr(ur))})},Kt.translate=function(qn){return arguments.length?(Ke={x:+qn[0],y:+qn[1],k:Ke.k},Un(),Kt):[Ke.x,Ke.y]},Kt.scale=function(qn){return arguments.length?(Ke={x:Ke.x,y:Ke.y,k:null},xn(+qn),Un(),Kt):Ke.k},Kt.scaleExtent=function(qn){return arguments.length?(pt=qn==null?st:[+qn[0],+qn[1]],Kt):pt},Kt.center=function(qn){return arguments.length?(ie=qn&&[+qn[0],+qn[1]],Kt):ie},Kt.size=function(qn){return arguments.length?(nt=qn&&[+qn[0],+qn[1]],Kt):nt},Kt.duration=function(qn){return arguments.length?(yt=+qn,Kt):yt},Kt.x=function(qn){return arguments.length?(Ue=qn,Ce=qn.copy(),Ke={x:0,y:0,k:1},Kt):Ue},Kt.y=function(qn){return arguments.length?(We=qn,He=qn.copy(),Ke={x:0,y:0,k:1},Kt):We},a.rebind(Kt,sn,"on")};var Re,je,st=[0,1/0];function ot(){}function xt(F,Q,ie){return this instanceof xt?(this.h=+F,this.s=+Q,void(this.l=+ie)):arguments.length<2?F instanceof xt?new xt(F.h,F.s,F.l):hn(""+F,mn,xt):new xt(F,Q,ie)}a.color=ot,ot.prototype.toString=function(){return this.rgb()+""},a.hsl=xt;var mt=xt.prototype=new ot;function bt(F,Q,ie){var de,xe;function Ce(Ue){return Math.round(255*function(He){return He>360?He-=360:He<0&&(He+=360),He<60?de+(xe-de)*He/60:He<180?xe:He<240?de+(xe-de)*(240-He)/60:de}(Ue))}return F=isNaN(F)?0:(F%=360)<0?F+360:F,Q=isNaN(Q)||Q<0?0:Q>1?1:Q,de=2*(ie=ie<0?0:ie>1?1:ie)-(xe=ie<=.5?ie*(1+Q):ie+Q-ie*Q),new On(Ce(F+120),Ce(F),Ce(F-120))}function dt(F,Q,ie){return this instanceof dt?(this.h=+F,this.c=+Q,void(this.l=+ie)):arguments.length<2?F instanceof dt?new dt(F.h,F.c,F.l):function(de,xe,Ce){return de>0?new dt(Math.atan2(Ce,xe)*qe,Math.sqrt(xe*xe+Ce*Ce),de):new dt(NaN,NaN,de)}(F instanceof vt?F.l:(F=Mn((F=a.rgb(F)).r,F.g,F.b)).l,F.a,F.b):new dt(F,Q,ie)}mt.brighter=function(F){return F=Math.pow(.7,arguments.length?F:1),new xt(this.h,this.s,this.l/F)},mt.darker=function(F){return F=Math.pow(.7,arguments.length?F:1),new xt(this.h,this.s,F*this.l)},mt.rgb=function(){return bt(this.h,this.s,this.l)},a.hcl=dt;var St=dt.prototype=new ot;function gt(F,Q,ie){return isNaN(F)&&(F=0),isNaN(Q)&&(Q=0),new vt(ie,Math.cos(F*=Qe)*Q,Math.sin(F)*Q)}function vt(F,Q,ie){return this instanceof vt?(this.l=+F,this.a=+Q,void(this.b=+ie)):arguments.length<2?F instanceof vt?new vt(F.l,F.a,F.b):F instanceof dt?gt(F.h,F.c,F.l):Mn((F=On(F)).r,F.g,F.b):new vt(F,Q,ie)}St.brighter=function(F){return new dt(this.h,this.c,Math.min(100,this.l+Mt*(arguments.length?F:1)))},St.darker=function(F){return new dt(this.h,this.c,Math.max(0,this.l-Mt*(arguments.length?F:1)))},St.rgb=function(){return gt(this.h,this.c,this.l).rgb()},a.lab=vt;var Mt=18,Bt=.95047,Nt=1,qt=1.08883,an=vt.prototype=new ot;function Gt(F,Q,ie){var de=(F+16)/116,xe=de+Q/500,Ce=de-ie/200;return new On(bn(3.2404542*(xe=Yt(xe)*Bt)-1.5371385*(de=Yt(de)*Nt)-.4985314*(Ce=Yt(Ce)*qt)),bn(-.969266*xe+1.8760108*de+.041556*Ce),bn(.0556434*xe-.2040259*de+1.0572252*Ce))}function Yt(F){return F>.206893034?F*F*F:(F-.13793103448275862)/7.787037}function en(F){return F>.008856?Math.pow(F,.3333333333333333):7.787037*F+.13793103448275862}function bn(F){return Math.round(255*(F<=.00304?12.92*F:1.055*Math.pow(F,.4166666666666667)-.055))}function On(F,Q,ie){return this instanceof On?(this.r=~~F,this.g=~~Q,void(this.b=~~ie)):arguments.length<2?F instanceof On?new On(F.r,F.g,F.b):hn(""+F,On,bt):new On(F,Q,ie)}function gn(F){return new On(F>>16,F>>8&255,255&F)}function Xt(F){return gn(F)+""}an.brighter=function(F){return new vt(Math.min(100,this.l+Mt*(arguments.length?F:1)),this.a,this.b)},an.darker=function(F){return new vt(Math.max(0,this.l-Mt*(arguments.length?F:1)),this.a,this.b)},an.rgb=function(){return Gt(this.l,this.a,this.b)},a.rgb=On;var ln=On.prototype=new ot;function nn(F){return F<16?"0"+Math.max(0,F).toString(16):Math.min(255,F).toString(16)}function hn(F,Q,ie){var de,xe,Ce,Ue=0,He=0,We=0;if(de=/([a-z]+)\((.*)\)/.exec(F=F.toLowerCase()))switch(xe=de[2].split(","),de[1]){case"hsl":return ie(parseFloat(xe[0]),parseFloat(xe[1])/100,parseFloat(xe[2])/100);case"rgb":return Q(Pn(xe[0]),Pn(xe[1]),Pn(xe[2]))}return(Ce=yn.get(F))?Q(Ce.r,Ce.g,Ce.b):(F==null||F.charAt(0)!=="#"||isNaN(Ce=parseInt(F.slice(1),16))||(F.length===4?(Ue=(3840&Ce)>>4,Ue|=Ue>>4,He=240&Ce,He|=He>>4,We=15&Ce,We|=We<<4):F.length===7&&(Ue=(16711680&Ce)>>16,He=(65280&Ce)>>8,We=255&Ce)),Q(Ue,He,We))}function mn(F,Q,ie){var de,xe,Ce=Math.min(F/=255,Q/=255,ie/=255),Ue=Math.max(F,Q,ie),He=Ue-Ce,We=(Ue+Ce)/2;return He?(xe=We<.5?He/(Ue+Ce):He/(2-Ue-Ce),de=F==Ue?(Q-ie)/He+(Q<ie?6:0):Q==Ue?(ie-F)/He+2:(F-Q)/He+4,de*=60):(de=NaN,xe=We>0&&We<1?0:de),new xt(de,xe,We)}function Mn(F,Q,ie){var de=en((.4124564*(F=Tn(F))+.3575761*(Q=Tn(Q))+.1804375*(ie=Tn(ie)))/Bt),xe=en((.2126729*F+.7151522*Q+.072175*ie)/Nt);return vt(116*xe-16,500*(de-xe),200*(xe-en((.0193339*F+.119192*Q+.9503041*ie)/qt)))}function Tn(F){return(F/=255)<=.04045?F/12.92:Math.pow((F+.055)/1.055,2.4)}function Pn(F){var Q=parseFloat(F);return F.charAt(F.length-1)==="%"?Math.round(2.55*Q):Q}ln.brighter=function(F){F=Math.pow(.7,arguments.length?F:1);var Q=this.r,ie=this.g,de=this.b,xe=30;return Q||ie||de?(Q&&Q<xe&&(Q=xe),ie&&ie<xe&&(ie=xe),de&&de<xe&&(de=xe),new On(Math.min(255,Q/F),Math.min(255,ie/F),Math.min(255,de/F))):new On(xe,xe,xe)},ln.darker=function(F){return new On((F=Math.pow(.7,arguments.length?F:1))*this.r,F*this.g,F*this.b)},ln.hsl=function(){return mn(this.r,this.g,this.b)},ln.toString=function(){return"#"+nn(this.r)+nn(this.g)+nn(this.b)};var yn=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function Rn(F){return typeof F=="function"?F:function(){return F}}function Zn(F){return function(Q,ie,de){return arguments.length===2&&typeof ie=="function"&&(de=ie,ie=null),ir(Q,ie,F,de)}}function ir(F,Q,ie,de){var xe={},Ce=a.dispatch("beforesend","progress","load","error"),Ue={},He=new XMLHttpRequest,We=null;function Ke(){var nt,pt=He.status;if(!pt&&function(yt){var It=yt.responseType;return It&&It!=="text"?yt.response:yt.responseText}(He)||pt>=200&&pt<300||pt===304){try{nt=ie.call(xe,He)}catch(yt){return void Ce.error.call(xe,yt)}Ce.load.call(xe,nt)}else Ce.error.call(xe,He)}return self.XDomainRequest&&!("withCredentials"in He)&&/^(http(s)?:)?\/\//.test(F)&&(He=new XDomainRequest),"onload"in He?He.onload=He.onerror=Ke:He.onreadystatechange=function(){He.readyState>3&&Ke()},He.onprogress=function(nt){var pt=a.event;a.event=nt;try{Ce.progress.call(xe,He)}finally{a.event=pt}},xe.header=function(nt,pt){return nt=(nt+"").toLowerCase(),arguments.length<2?Ue[nt]:(pt==null?delete Ue[nt]:Ue[nt]=pt+"",xe)},xe.mimeType=function(nt){return arguments.length?(Q=nt==null?null:nt+"",xe):Q},xe.responseType=function(nt){return arguments.length?(We=nt,xe):We},xe.response=function(nt){return ie=nt,xe},["get","post"].forEach(function(nt){xe[nt]=function(){return xe.send.apply(xe,[nt].concat(y(arguments)))}}),xe.send=function(nt,pt,yt){if(arguments.length===2&&typeof pt=="function"&&(yt=pt,pt=null),He.open(nt,F,!0),Q==null||"accept"in Ue||(Ue.accept=Q+",*/*"),He.setRequestHeader)for(var It in Ue)He.setRequestHeader(It,Ue[It]);return Q!=null&&He.overrideMimeType&&He.overrideMimeType(Q),We!=null&&(He.responseType=We),yt!=null&&xe.on("error",yt).on("load",function(Rt){yt(null,Rt)}),Ce.beforesend.call(xe,He),He.send(pt??null),xe},xe.abort=function(){return He.abort(),xe},a.rebind(xe,Ce,"on"),de==null?xe:xe.get(function(nt){return nt.length===1?function(pt,yt){nt(pt==null?yt:null)}:nt}(de))}yn.forEach(function(F,Q){yn.set(F,gn(Q))}),a.functor=Rn,a.xhr=Zn(I),a.dsv=function(F,Q){var ie=new RegExp('["'+F+`
]`),de=F.charCodeAt(0);function xe(Ke,nt,pt){arguments.length<3&&(pt=nt,nt=null);var yt=ir(Ke,Q,nt==null?Ce:Ue(nt),pt);return yt.row=function(It){return arguments.length?yt.response((nt=It)==null?Ce:Ue(It)):nt},yt}function Ce(Ke){return xe.parse(Ke.responseText)}function Ue(Ke){return function(nt){return xe.parse(nt.responseText,Ke)}}function He(Ke){return Ke.map(We).join(F)}function We(Ke){return ie.test(Ke)?'"'+Ke.replace(/\"/g,'""')+'"':Ke}return xe.parse=function(Ke,nt){var pt;return xe.parseRows(Ke,function(yt,It){if(pt)return pt(yt,It-1);var Rt=function(Pt){for(var Vt={},Dt=yt.length,sn=0;sn<Dt;++sn)Vt[yt[sn]]=Pt[sn];return Vt};pt=nt?function(Pt,Vt){return nt(Rt(Pt),Vt)}:Rt})},xe.parseRows=function(Ke,nt){var pt,yt,It={},Rt={},Pt=[],Vt=Ke.length,Dt=0,sn=0;function Kt(){if(Dt>=Vt)return Rt;if(yt)return yt=!1,It;var xn=Dt;if(Ke.charCodeAt(xn)===34){for(var _n=xn;_n++<Vt;)if(Ke.charCodeAt(_n)===34){if(Ke.charCodeAt(_n+1)!==34)break;++_n}return Dt=_n+2,(jn=Ke.charCodeAt(_n+1))===13?(yt=!0,Ke.charCodeAt(_n+2)===10&&++Dt):jn===10&&(yt=!0),Ke.slice(xn+1,_n).replace(/""/g,'"')}for(;Dt<Vt;){var jn,Un=1;if((jn=Ke.charCodeAt(Dt++))===10)yt=!0;else if(jn===13)yt=!0,Ke.charCodeAt(Dt)===10&&(++Dt,++Un);else if(jn!==de)continue;return Ke.slice(xn,Dt-Un)}return Ke.slice(xn)}for(;(pt=Kt())!==Rt;){for(var Zt=[];pt!==It&&pt!==Rt;)Zt.push(pt),pt=Kt();nt&&(Zt=nt(Zt,sn++))==null||Pt.push(Zt)}return Pt},xe.format=function(Ke){if(Array.isArray(Ke[0]))return xe.formatRows(Ke);var nt=new G,pt=[];return Ke.forEach(function(yt){for(var It in yt)nt.has(It)||pt.push(nt.add(It))}),[pt.map(We).join(F)].concat(Ke.map(function(yt){return pt.map(function(It){return We(yt[It])}).join(F)})).join(`
`)},xe.formatRows=function(Ke){return Ke.map(He).join(`
`)},xe},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("	","text/tab-separated-values");var sr,tr,Jn,pr,Ut=this[N(this,"requestAnimationFrame")]||function(F){setTimeout(F,17)};function rn(F,Q,ie){var de=arguments.length;de<2&&(Q=0),de<3&&(ie=Date.now());var xe={c:F,t:ie+Q,n:null};return tr?tr.n=xe:sr=xe,tr=xe,Jn||(pr=clearTimeout(pr),Jn=1,Ut(cn)),xe}function cn(){var F=vn(),Q=Sn()-F;Q>24?(isFinite(Q)&&(clearTimeout(pr),pr=setTimeout(cn,Q)),Jn=0):(Jn=1,Ut(cn))}function vn(){for(var F=Date.now(),Q=sr;Q;)F>=Q.t&&Q.c(F-Q.t)&&(Q.c=null),Q=Q.n;return F}function Sn(){for(var F,Q=sr,ie=1/0;Q;)Q.c?(Q.t<ie&&(ie=Q.t),Q=(F=Q).n):Q=F?F.n=Q.n:sr=Q.n;return tr=F,ie}function Hn(F){return F[0]}function Dn(F){return F[1]}function Bn(F){for(var Q,ie,de,xe=F.length,Ce=[0,1],Ue=2,He=2;He<xe;He++){for(;Ue>1&&(Q=F[Ce[Ue-2]],ie=F[Ce[Ue-1]],de=F[He],(ie[0]-Q[0])*(de[1]-Q[1])-(ie[1]-Q[1])*(de[0]-Q[0])<=0);)--Ue;Ce[Ue++]=He}return Ce.slice(0,Ue)}function Qn(F,Q){return F[0]-Q[0]||F[1]-Q[1]}a.timer=function(){rn.apply(this,arguments)},a.timer.flush=function(){vn(),Sn()},a.round=function(F,Q){return Q?Math.round(F*(Q=Math.pow(10,Q)))/Q:Math.round(F)},a.geom={},a.geom.hull=function(F){var Q=Hn,ie=Dn;if(arguments.length)return de(F);function de(xe){if(xe.length<3)return[];var Ce,Ue=Rn(Q),He=Rn(ie),We=xe.length,Ke=[],nt=[];for(Ce=0;Ce<We;Ce++)Ke.push([+Ue.call(this,xe[Ce],Ce),+He.call(this,xe[Ce],Ce),Ce]);for(Ke.sort(Qn),Ce=0;Ce<We;Ce++)nt.push([Ke[Ce][0],-Ke[Ce][1]]);var pt=Bn(Ke),yt=Bn(nt),It=yt[0]===pt[0],Rt=yt[yt.length-1]===pt[pt.length-1],Pt=[];for(Ce=pt.length-1;Ce>=0;--Ce)Pt.push(xe[Ke[pt[Ce]][2]]);for(Ce=+It;Ce<yt.length-Rt;++Ce)Pt.push(xe[Ke[yt[Ce]][2]]);return Pt}return de.x=function(xe){return arguments.length?(Q=xe,de):Q},de.y=function(xe){return arguments.length?(ie=xe,de):ie},de},a.geom.polygon=function(F){return ee(F,Wt),F};var Wt=a.geom.polygon.prototype=[];function An(F,Q,ie){return(ie[0]-Q[0])*(F[1]-Q[1])<(ie[1]-Q[1])*(F[0]-Q[0])}function Ct(F,Q,ie,de){var xe=F[0],Ce=ie[0],Ue=Q[0]-xe,He=de[0]-Ce,We=F[1],Ke=ie[1],nt=Q[1]-We,pt=de[1]-Ke,yt=(He*(We-Ke)-pt*(xe-Ce))/(pt*Ue-He*nt);return[xe+yt*Ue,We+yt*nt]}function Jt(F){var Q=F[0],ie=F[F.length-1];return!(Q[0]-ie[0]||Q[1]-ie[1])}Wt.area=function(){for(var F,Q=-1,ie=this.length,de=this[ie-1],xe=0;++Q<ie;)F=de,de=this[Q],xe+=F[1]*de[0]-F[0]*de[1];return .5*xe},Wt.centroid=function(F){var Q,ie,de=-1,xe=this.length,Ce=0,Ue=0,He=this[xe-1];for(arguments.length||(F=-1/(6*this.area()));++de<xe;)Q=He,He=this[de],ie=Q[0]*He[1]-He[0]*Q[1],Ce+=(Q[0]+He[0])*ie,Ue+=(Q[1]+He[1])*ie;return[Ce*F,Ue*F]},Wt.clip=function(F){for(var Q,ie,de,xe,Ce,Ue,He=Jt(F),We=-1,Ke=this.length-Jt(this),nt=this[Ke-1];++We<Ke;){for(Q=F.slice(),F.length=0,xe=this[We],Ce=Q[(de=Q.length-He)-1],ie=-1;++ie<de;)An(Ue=Q[ie],nt,xe)?(An(Ce,nt,xe)||F.push(Ct(Ce,Ue,nt,xe)),F.push(Ue)):An(Ce,nt,xe)&&F.push(Ct(Ce,Ue,nt,xe)),Ce=Ue;He&&F.push(F[0]),nt=xe}return F};var tn,wn,kn,Cn,pn,$t=[],Qt=[];function fn(){_i(this),this.edge=this.site=this.circle=null}function dn(F){var Q=$t.pop()||new fn;return Q.site=F,Q}function In(F){dr(F),kn.remove(F),$t.push(F),_i(F)}function zn(F){var Q=F.circle,ie=Q.x,de=Q.cy,xe={x:ie,y:de},Ce=F.P,Ue=F.N,He=[F];In(F);for(var We=Ce;We.circle&&x(ie-We.circle.x)<ut&&x(de-We.circle.cy)<ut;)Ce=We.P,He.unshift(We),In(We),We=Ce;He.unshift(We),dr(We);for(var Ke=Ue;Ke.circle&&x(ie-Ke.circle.x)<ut&&x(de-Ke.circle.cy)<ut;)Ue=Ke.N,He.push(Ke),In(Ke),Ke=Ue;He.push(Ke),dr(Ke);var nt,pt=He.length;for(nt=1;nt<pt;++nt)Ke=He[nt],We=He[nt-1],xr(Ke.edge,We.site,Ke.site,xe);We=He[0],(Ke=He[pt-1]).edge=$n(We.site,Ke.site,null,xe),or(We),or(Ke)}function Yn(F){for(var Q,ie,de,xe,Ce=F.x,Ue=F.y,He=kn._;He;)if((de=Vn(He,Ue)-Ce)>ut)He=He.L;else{if(!((xe=Ce-nr(He,Ue))>ut)){de>-ut?(Q=He.P,ie=He):xe>-ut?(Q=He,ie=He.N):Q=ie=He;break}if(!He.R){Q=He;break}He=He.R}var We=dn(F);if(kn.insert(Q,We),Q||ie){if(Q===ie)return dr(Q),ie=dn(Q.site),kn.insert(We,ie),We.edge=ie.edge=$n(Q.site,We.site),or(Q),void or(ie);if(ie){dr(Q),dr(ie);var Ke=Q.site,nt=Ke.x,pt=Ke.y,yt=F.x-nt,It=F.y-pt,Rt=ie.site,Pt=Rt.x-nt,Vt=Rt.y-pt,Dt=2*(yt*Vt-It*Pt),sn=yt*yt+It*It,Kt=Pt*Pt+Vt*Vt,Zt={x:(Vt*sn-It*Kt)/Dt+nt,y:(yt*Kt-Pt*sn)/Dt+pt};xr(ie.edge,Ke,Rt,Zt),We.edge=$n(Ke,F,null,Zt),ie.edge=$n(F,Rt,null,Zt),or(Q),or(ie)}else We.edge=$n(Q.site,We.site)}}function Vn(F,Q){var ie=F.site,de=ie.x,xe=ie.y,Ce=xe-Q;if(!Ce)return de;var Ue=F.P;if(!Ue)return-1/0;var He=(ie=Ue.site).x,We=ie.y,Ke=We-Q;if(!Ke)return He;var nt=He-de,pt=1/Ce-1/Ke,yt=nt/Ke;return pt?(-yt+Math.sqrt(yt*yt-2*pt*(nt*nt/(-2*Ke)-We+Ke/2+xe-Ce/2)))/pt+de:(de+He)/2}function nr(F,Q){var ie=F.N;if(ie)return Vn(ie,Q);var de=F.site;return de.y===Q?de.x:1/0}function Xn(F){this.site=F,this.edges=[]}function lr(F,Q){return Q.angle-F.angle}function ar(){_i(this),this.x=this.y=this.arc=this.site=this.cy=null}function or(F){var Q=F.P,ie=F.N;if(Q&&ie){var de=Q.site,xe=F.site,Ce=ie.site;if(de!==Ce){var Ue=xe.x,He=xe.y,We=de.x-Ue,Ke=de.y-He,nt=Ce.x-Ue,pt=2*(We*(Vt=Ce.y-He)-Ke*nt);if(!(pt>=-Et)){var yt=We*We+Ke*Ke,It=nt*nt+Vt*Vt,Rt=(Vt*yt-Ke*It)/pt,Pt=(We*It-nt*yt)/pt,Vt=Pt+He,Dt=Qt.pop()||new ar;Dt.arc=F,Dt.site=xe,Dt.x=Rt+Ue,Dt.y=Vt+Math.sqrt(Rt*Rt+Pt*Pt),Dt.cy=Vt,F.circle=Dt;for(var sn=null,Kt=pn._;Kt;)if(Dt.y<Kt.y||Dt.y===Kt.y&&Dt.x<=Kt.x){if(!Kt.L){sn=Kt.P;break}Kt=Kt.L}else{if(!Kt.R){sn=Kt;break}Kt=Kt.R}pn.insert(sn,Dt),sn||(Cn=Dt)}}}}function dr(F){var Q=F.circle;Q&&(Q.P||(Cn=Q.N),pn.remove(Q),Qt.push(Q),_i(Q),F.circle=null)}function gr(F,Q){var ie=F.b;if(ie)return!0;var de,xe,Ce=F.a,Ue=Q[0][0],He=Q[1][0],We=Q[0][1],Ke=Q[1][1],nt=F.l,pt=F.r,yt=nt.x,It=nt.y,Rt=pt.x,Pt=pt.y,Vt=(yt+Rt)/2,Dt=(It+Pt)/2;if(Pt===It){if(Vt<Ue||Vt>=He)return;if(yt>Rt){if(Ce){if(Ce.y>=Ke)return}else Ce={x:Vt,y:We};ie={x:Vt,y:Ke}}else{if(Ce){if(Ce.y<We)return}else Ce={x:Vt,y:Ke};ie={x:Vt,y:We}}}else if(xe=Dt-(de=(yt-Rt)/(Pt-It))*Vt,de<-1||de>1)if(yt>Rt){if(Ce){if(Ce.y>=Ke)return}else Ce={x:(We-xe)/de,y:We};ie={x:(Ke-xe)/de,y:Ke}}else{if(Ce){if(Ce.y<We)return}else Ce={x:(Ke-xe)/de,y:Ke};ie={x:(We-xe)/de,y:We}}else if(It<Pt){if(Ce){if(Ce.x>=He)return}else Ce={x:Ue,y:de*Ue+xe};ie={x:He,y:de*He+xe}}else{if(Ce){if(Ce.x<Ue)return}else Ce={x:He,y:de*He+xe};ie={x:Ue,y:de*Ue+xe}}return F.a=Ce,F.b=ie,!0}function Sr(F,Q){this.l=F,this.r=Q,this.a=this.b=null}function $n(F,Q,ie,de){var xe=new Sr(F,Q);return tn.push(xe),ie&&xr(xe,F,Q,ie),de&&xr(xe,Q,F,de),wn[F.i].edges.push(new Rr(xe,F,Q)),wn[Q.i].edges.push(new Rr(xe,Q,F)),xe}function xr(F,Q,ie,de){F.a||F.b?F.l===ie?F.b=de:F.a=de:(F.a=de,F.l=Q,F.r=ie)}function Rr(F,Q,ie){var de=F.a,xe=F.b;this.edge=F,this.site=Q,this.angle=ie?Math.atan2(ie.y-Q.y,ie.x-Q.x):F.l===Q?Math.atan2(xe.x-de.x,de.y-xe.y):Math.atan2(de.x-xe.x,xe.y-de.y)}function ii(){this._=null}function _i(F){F.U=F.C=F.L=F.R=F.P=F.N=null}function vi(F,Q){var ie=Q,de=Q.R,xe=ie.U;xe?xe.L===ie?xe.L=de:xe.R=de:F._=de,de.U=xe,ie.U=de,ie.R=de.L,ie.R&&(ie.R.U=ie),de.L=ie}function Si(F,Q){var ie=Q,de=Q.L,xe=ie.U;xe?xe.L===ie?xe.L=de:xe.R=de:F._=de,de.U=xe,ie.U=de,ie.L=de.R,ie.L&&(ie.L.U=ie),de.R=ie}function fi(F){for(;F.L;)F=F.L;return F}function Ui(F,Q){var ie,de,xe,Ce=F.sort(bo).pop();for(tn=[],wn=new Array(F.length),kn=new ii,pn=new ii;;)if(xe=Cn,Ce&&(!xe||Ce.y<xe.y||Ce.y===xe.y&&Ce.x<xe.x))Ce.x===ie&&Ce.y===de||(wn[Ce.i]=new Xn(Ce),Yn(Ce),ie=Ce.x,de=Ce.y),Ce=F.pop();else{if(!xe)break;zn(xe.arc)}Q&&(function(He){for(var We,Ke,nt,pt,yt,It=tn,Rt=(Ke=He[0][0],nt=He[0][1],pt=He[1][0],yt=He[1][1],function(Vt){var Dt,sn=Vt.a,Kt=Vt.b,Zt=sn.x,xn=sn.y,_n=0,jn=1,Un=Kt.x-Zt,Wn=Kt.y-xn;if(Dt=Ke-Zt,Un||!(Dt>0)){if(Dt/=Un,Un<0){if(Dt<_n)return;Dt<jn&&(jn=Dt)}else if(Un>0){if(Dt>jn)return;Dt>_n&&(_n=Dt)}if(Dt=pt-Zt,Un||!(Dt<0)){if(Dt/=Un,Un<0){if(Dt>jn)return;Dt>_n&&(_n=Dt)}else if(Un>0){if(Dt<_n)return;Dt<jn&&(jn=Dt)}if(Dt=nt-xn,Wn||!(Dt>0)){if(Dt/=Wn,Wn<0){if(Dt<_n)return;Dt<jn&&(jn=Dt)}else if(Wn>0){if(Dt>jn)return;Dt>_n&&(_n=Dt)}if(Dt=yt-xn,Wn||!(Dt<0)){if(Dt/=Wn,Wn<0){if(Dt>jn)return;Dt>_n&&(_n=Dt)}else if(Wn>0){if(Dt<_n)return;Dt<jn&&(jn=Dt)}return _n>0&&(Vt.a={x:Zt+_n*Un,y:xn+_n*Wn}),jn<1&&(Vt.b={x:Zt+jn*Un,y:xn+jn*Wn}),Vt}}}}}),Pt=It.length;Pt--;)(!gr(We=It[Pt],He)||!Rt(We)||x(We.a.x-We.b.x)<ut&&x(We.a.y-We.b.y)<ut)&&(We.a=We.b=null,It.splice(Pt,1))}(Q),function(He){for(var We,Ke,nt,pt,yt,It,Rt,Pt,Vt,Dt,sn=He[0][0],Kt=He[1][0],Zt=He[0][1],xn=He[1][1],_n=wn,jn=_n.length;jn--;)if((yt=_n[jn])&&yt.prepare())for(Pt=(Rt=yt.edges).length,It=0;It<Pt;)nt=(Dt=Rt[It].end()).x,pt=Dt.y,We=(Vt=Rt[++It%Pt].start()).x,Ke=Vt.y,(x(nt-We)>ut||x(pt-Ke)>ut)&&(Rt.splice(It,0,new Rr((Un=yt.site,Wn=Dt,er=x(nt-sn)<ut&&xn-pt>ut?{x:sn,y:x(We-sn)<ut?Ke:xn}:x(pt-xn)<ut&&Kt-nt>ut?{x:x(Ke-xn)<ut?We:Kt,y:xn}:x(nt-Kt)<ut&&pt-Zt>ut?{x:Kt,y:x(We-Kt)<ut?Ke:Zt}:x(pt-Zt)<ut&&nt-sn>ut?{x:x(Ke-Zt)<ut?We:sn,y:Zt}:null,fr=void 0,(fr=new Sr(Un,null)).a=Wn,fr.b=er,tn.push(fr),fr),yt.site,null)),++Pt);var Un,Wn,er,fr}(Q));var Ue={cells:wn,edges:tn};return kn=pn=tn=wn=null,Ue}function bo(F,Q){return Q.y-F.y||Q.x-F.x}Xn.prototype.prepare=function(){for(var F,Q=this.edges,ie=Q.length;ie--;)(F=Q[ie].edge).b&&F.a||Q.splice(ie,1);return Q.sort(lr),Q.length},Rr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ii.prototype={insert:function(F,Q){var ie,de,xe;if(F){if(Q.P=F,Q.N=F.N,F.N&&(F.N.P=Q),F.N=Q,F.R){for(F=F.R;F.L;)F=F.L;F.L=Q}else F.R=Q;ie=F}else this._?(F=fi(this._),Q.P=null,Q.N=F,F.P=F.L=Q,ie=F):(Q.P=Q.N=null,this._=Q,ie=null);for(Q.L=Q.R=null,Q.U=ie,Q.C=!0,F=Q;ie&&ie.C;)ie===(de=ie.U).L?(xe=de.R)&&xe.C?(ie.C=xe.C=!1,de.C=!0,F=de):(F===ie.R&&(vi(this,ie),ie=(F=ie).U),ie.C=!1,de.C=!0,Si(this,de)):(xe=de.L)&&xe.C?(ie.C=xe.C=!1,de.C=!0,F=de):(F===ie.L&&(Si(this,ie),ie=(F=ie).U),ie.C=!1,de.C=!0,vi(this,de)),ie=F.U;this._.C=!1},remove:function(F){F.N&&(F.N.P=F.P),F.P&&(F.P.N=F.N),F.N=F.P=null;var Q,ie,de,xe=F.U,Ce=F.L,Ue=F.R;if(ie=Ce?Ue?fi(Ue):Ce:Ue,xe?xe.L===F?xe.L=ie:xe.R=ie:this._=ie,Ce&&Ue?(de=ie.C,ie.C=F.C,ie.L=Ce,Ce.U=ie,ie!==Ue?(xe=ie.U,ie.U=F.U,F=ie.R,xe.L=F,ie.R=Ue,Ue.U=ie):(ie.U=xe,xe=ie,F=ie.R)):(de=F.C,F=ie),F&&(F.U=xe),!de)if(F&&F.C)F.C=!1;else{do{if(F===this._)break;if(F===xe.L){if((Q=xe.R).C&&(Q.C=!1,xe.C=!0,vi(this,xe),Q=xe.R),Q.L&&Q.L.C||Q.R&&Q.R.C){Q.R&&Q.R.C||(Q.L.C=!1,Q.C=!0,Si(this,Q),Q=xe.R),Q.C=xe.C,xe.C=Q.R.C=!1,vi(this,xe),F=this._;break}}else if((Q=xe.L).C&&(Q.C=!1,xe.C=!0,Si(this,xe),Q=xe.L),Q.L&&Q.L.C||Q.R&&Q.R.C){Q.L&&Q.L.C||(Q.R.C=!1,Q.C=!0,vi(this,Q),Q=xe.L),Q.C=xe.C,xe.C=Q.L.C=!1,Si(this,xe),F=this._;break}Q.C=!0,F=xe,xe=xe.U}while(!F.C);F&&(F.C=!1)}}},a.geom.voronoi=function(F){var Q=Hn,ie=Dn,de=Q,xe=ie,Ce=ja;if(F)return Ue(F);function Ue(We){var Ke=new Array(We.length),nt=Ce[0][0],pt=Ce[0][1],yt=Ce[1][0],It=Ce[1][1];return Ui(He(We),Ce).cells.forEach(function(Rt,Pt){var Vt=Rt.edges,Dt=Rt.site;(Ke[Pt]=Vt.length?Vt.map(function(sn){var Kt=sn.start();return[Kt.x,Kt.y]}):Dt.x>=nt&&Dt.x<=yt&&Dt.y>=pt&&Dt.y<=It?[[nt,It],[yt,It],[yt,pt],[nt,pt]]:[]).point=We[Pt]}),Ke}function He(We){return We.map(function(Ke,nt){return{x:Math.round(de(Ke,nt)/ut)*ut,y:Math.round(xe(Ke,nt)/ut)*ut,i:nt}})}return Ue.links=function(We){return Ui(He(We)).edges.filter(function(Ke){return Ke.l&&Ke.r}).map(function(Ke){return{source:We[Ke.l.i],target:We[Ke.r.i]}})},Ue.triangles=function(We){var Ke=[];return Ui(He(We)).cells.forEach(function(nt,pt){for(var yt,It,Rt,Pt,Vt=nt.site,Dt=nt.edges.sort(lr),sn=-1,Kt=Dt.length,Zt=Dt[Kt-1].edge,xn=Zt.l===Vt?Zt.r:Zt.l;++sn<Kt;)yt=xn,xn=(Zt=Dt[sn].edge).l===Vt?Zt.r:Zt.l,pt<yt.i&&pt<xn.i&&(Rt=yt,Pt=xn,((It=Vt).x-Pt.x)*(Rt.y-It.y)-(It.x-Rt.x)*(Pt.y-It.y)<0)&&Ke.push([We[pt],We[yt.i],We[xn.i]])}),Ke},Ue.x=function(We){return arguments.length?(de=Rn(Q=We),Ue):Q},Ue.y=function(We){return arguments.length?(xe=Rn(ie=We),Ue):ie},Ue.clipExtent=function(We){return arguments.length?(Ce=We??ja,Ue):Ce===ja?null:Ce},Ue.size=function(We){return arguments.length?Ue.clipExtent(We&&[[0,0],We]):Ce===ja?null:Ce&&Ce[1]},Ue};var ja=[[-1e6,-1e6],[1e6,1e6]];function Do(F){return F.x}function Vl(F){return F.y}function ys(F,Q,ie,de,xe,Ce){if(!F(Q,ie,de,xe,Ce)){var Ue=.5*(ie+xe),He=.5*(de+Ce),We=Q.nodes;We[0]&&ys(F,We[0],ie,de,Ue,He),We[1]&&ys(F,We[1],Ue,de,xe,He),We[2]&&ys(F,We[2],ie,He,Ue,Ce),We[3]&&ys(F,We[3],Ue,He,xe,Ce)}}function Qs(F,Q){F=a.rgb(F),Q=a.rgb(Q);var ie=F.r,de=F.g,xe=F.b,Ce=Q.r-ie,Ue=Q.g-de,He=Q.b-xe;return function(We){return"#"+nn(Math.round(ie+Ce*We))+nn(Math.round(de+Ue*We))+nn(Math.round(xe+He*We))}}function Hl(F,Q){var ie,de={},xe={};for(ie in F)ie in Q?de[ie]=wo(F[ie],Q[ie]):xe[ie]=F[ie];for(ie in Q)ie in F||(xe[ie]=Q[ie]);return function(Ce){for(ie in de)xe[ie]=de[ie](Ce);return xe}}function _o(F,Q){return F=+F,Q=+Q,function(ie){return F*(1-ie)+Q*ie}}function fu(F,Q){var ie,de,xe,Ce=xs.lastIndex=bs.lastIndex=0,Ue=-1,He=[],We=[];for(F+="",Q+="";(ie=xs.exec(F))&&(de=bs.exec(Q));)(xe=de.index)>Ce&&(xe=Q.slice(Ce,xe),He[Ue]?He[Ue]+=xe:He[++Ue]=xe),(ie=ie[0])===(de=de[0])?He[Ue]?He[Ue]+=de:He[++Ue]=de:(He[++Ue]=null,We.push({i:Ue,x:_o(ie,de)})),Ce=bs.lastIndex;return Ce<Q.length&&(xe=Q.slice(Ce),He[Ue]?He[Ue]+=xe:He[++Ue]=xe),He.length<2?We[0]?(Q=We[0].x,function(Ke){return Q(Ke)+""}):function(){return Q}:(Q=We.length,function(Ke){for(var nt,pt=0;pt<Q;++pt)He[(nt=We[pt]).i]=nt.x(Ke);return He.join("")})}a.geom.delaunay=function(F){return a.geom.voronoi().triangles(F)},a.geom.quadtree=function(F,Q,ie,de,xe){var Ce,Ue=Hn,He=Dn;if(Ce=arguments.length)return Ue=Do,He=Vl,Ce===3&&(xe=ie,de=Q,ie=Q=0),We(F);function We(Ke){var nt,pt,yt,It,Rt,Pt,Vt,Dt,sn,Kt=Rn(Ue),Zt=Rn(He);if(Q!=null)Pt=Q,Vt=ie,Dt=de,sn=xe;else if(Dt=sn=-(Pt=Vt=1/0),pt=[],yt=[],Rt=Ke.length,Ce)for(It=0;It<Rt;++It)(nt=Ke[It]).x<Pt&&(Pt=nt.x),nt.y<Vt&&(Vt=nt.y),nt.x>Dt&&(Dt=nt.x),nt.y>sn&&(sn=nt.y),pt.push(nt.x),yt.push(nt.y);else for(It=0;It<Rt;++It){var xn=+Kt(nt=Ke[It],It),_n=+Zt(nt,It);xn<Pt&&(Pt=xn),_n<Vt&&(Vt=_n),xn>Dt&&(Dt=xn),_n>sn&&(sn=_n),pt.push(xn),yt.push(_n)}var jn=Dt-Pt,Un=sn-Vt;function Wn(cr,vr,kr,Br,qn,ur,mr,Mr){if(!isNaN(kr)&&!isNaN(Br))if(cr.leaf){var Dr=cr.x,Hr=cr.y;if(Dr!=null)if(x(Dr-kr)+x(Hr-Br)<.01)er(cr,vr,kr,Br,qn,ur,mr,Mr);else{var Jr=cr.point;cr.x=cr.y=cr.point=null,er(cr,Jr,Dr,Hr,qn,ur,mr,Mr),er(cr,vr,kr,Br,qn,ur,mr,Mr)}else cr.x=kr,cr.y=Br,cr.point=vr}else er(cr,vr,kr,Br,qn,ur,mr,Mr)}function er(cr,vr,kr,Br,qn,ur,mr,Mr){var Dr=.5*(qn+mr),Hr=.5*(ur+Mr),Jr=kr>=Dr,ai=Br>=Hr,wi=ai<<1|Jr;cr.leaf=!1,Jr?qn=Dr:mr=Dr,ai?ur=Hr:Mr=Hr,Wn(cr=cr.nodes[wi]||(cr.nodes[wi]={leaf:!0,nodes:[],point:null,x:null,y:null}),vr,kr,Br,qn,ur,mr,Mr)}jn>Un?sn=Vt+jn:Dt=Pt+Un;var fr={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(cr){Wn(fr,cr,+Kt(cr,++It),+Zt(cr,It),Pt,Vt,Dt,sn)}};if(fr.visit=function(cr){ys(cr,fr,Pt,Vt,Dt,sn)},fr.find=function(cr){return function(vr,kr,Br,qn,ur,mr,Mr){var Dr,Hr=1/0;return function Jr(ai,wi,Ti,oi,Hi){if(!(wi>mr||Ti>Mr||oi<qn||Hi<ur)){if(ha=ai.point){var ha,Ki=kr-ai.x,ia=Br-ai.y,ei=Ki*Ki+ia*ia;if(ei<Hr){var Xr=Math.sqrt(Hr=ei);qn=kr-Xr,ur=Br-Xr,mr=kr+Xr,Mr=Br+Xr,Dr=ha}}for(var ki=ai.nodes,gi=.5*(wi+oi),Ei=.5*(Ti+Hi),Da=(Br>=Ei)<<1|kr>=gi,Bi=Da+4;Da<Bi;++Da)if(ai=ki[3&Da])switch(3&Da){case 0:Jr(ai,wi,Ti,gi,Ei);break;case 1:Jr(ai,gi,Ti,oi,Ei);break;case 2:Jr(ai,wi,Ei,gi,Hi);break;case 3:Jr(ai,gi,Ei,oi,Hi)}}}(vr,qn,ur,mr,Mr),Dr}(fr,cr[0],cr[1],Pt,Vt,Dt,sn)},It=-1,Q==null){for(;++It<Rt;)Wn(fr,Ke[It],pt[It],yt[It],Pt,Vt,Dt,sn);--It}else Ke.forEach(fr.add);return pt=yt=Ke=nt=null,fr}return We.x=function(Ke){return arguments.length?(Ue=Ke,We):Ue},We.y=function(Ke){return arguments.length?(He=Ke,We):He},We.extent=function(Ke){return arguments.length?(Ke==null?Q=ie=de=xe=null:(Q=+Ke[0][0],ie=+Ke[0][1],de=+Ke[1][0],xe=+Ke[1][1]),We):Q==null?null:[[Q,ie],[de,xe]]},We.size=function(Ke){return arguments.length?(Ke==null?Q=ie=de=xe=null:(Q=ie=0,de=+Ke[0],xe=+Ke[1]),We):Q==null?null:[de-Q,xe-ie]},We},a.interpolateRgb=Qs,a.interpolateObject=Hl,a.interpolateNumber=_o,a.interpolateString=fu;var xs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bs=new RegExp(xs.source,"g");function wo(F,Q){for(var ie,de=a.interpolators.length;--de>=0&&!(ie=a.interpolators[de](F,Q)););return ie}function Xi(F,Q){var ie,de=[],xe=[],Ce=F.length,Ue=Q.length,He=Math.min(F.length,Q.length);for(ie=0;ie<He;++ie)de.push(wo(F[ie],Q[ie]));for(;ie<Ce;++ie)xe[ie]=F[ie];for(;ie<Ue;++ie)xe[ie]=Q[ie];return function(We){for(ie=0;ie<He;++ie)xe[ie]=de[ie](We);return xe}}a.interpolate=wo,a.interpolators=[function(F,Q){var ie=typeof Q;return(ie==="string"?yn.has(Q.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(Q)?Qs:fu:Q instanceof ot?Qs:Array.isArray(Q)?Xi:ie==="object"&&isNaN(Q)?Hl:_o)(F,Q)}],a.interpolateArray=Xi;var el=function(){return I},ti=a.map({linear:el,poly:function(F){return function(Q){return Math.pow(Q,F)}},quad:function(){return uo},cubic:function(){return Ko},sin:function(){return Fo},exp:function(){return _l},circle:function(){return hu},elastic:function(F,Q){var ie;return arguments.length<2&&(Q=.45),arguments.length?ie=Q/zt*Math.asin(1/F):(F=1,ie=Q/4),function(de){return 1+F*Math.pow(2,-10*de)*Math.sin((de-ie)*zt/Q)}},back:function(F){return F||(F=1.70158),function(Q){return Q*Q*((F+1)*Q-F)}},bounce:function(){return $o}}),To=a.map({in:I,out:Za,"in-out":Ro,"out-in":function(F){return Ro(Za(F))}});function Za(F){return function(Q){return 1-F(1-Q)}}function Ro(F){return function(Q){return .5*(Q<.5?F(2*Q):2-F(2-2*Q))}}function uo(F){return F*F}function Ko(F){return F*F*F}function zo(F){if(F<=0)return 0;if(F>=1)return 1;var Q=F*F,ie=Q*F;return 4*(F<.5?ie:3*(F-Q)+ie-.75)}function Fo(F){return 1-Math.cos(F*Je)}function _l(F){return Math.pow(2,10*(F-1))}function hu(F){return 1-Math.sqrt(1-F*F)}function $o(F){return F<.36363636363636365?7.5625*F*F:F<.7272727272727273?7.5625*(F-=.5454545454545454)*F+.75:F<.9090909090909091?7.5625*(F-=.8181818181818182)*F+.9375:7.5625*(F-=.9545454545454546)*F+.984375}function pu(F,Q){return Q-=F,function(ie){return Math.round(F+Q*ie)}}function ql(F){var Q,ie,de,xe=[F.a,F.b],Ce=[F.c,F.d],Ue=Gl(xe),He=du(xe,Ce),We=Gl(((Q=Ce)[0]+=(de=-He)*(ie=xe)[0],Q[1]+=de*ie[1],Q))||0;xe[0]*Ce[1]<Ce[0]*xe[1]&&(xe[0]*=-1,xe[1]*=-1,Ue*=-1,He*=-1),this.rotate=(Ue?Math.atan2(xe[1],xe[0]):Math.atan2(-Ce[0],Ce[1]))*qe,this.translate=[F.e,F.f],this.scale=[Ue,We],this.skew=We?Math.atan2(He,We)*qe:0}function du(F,Q){return F[0]*Q[0]+F[1]*Q[1]}function Gl(F){var Q=Math.sqrt(du(F,F));return Q&&(F[0]/=Q,F[1]/=Q),Q}a.ease=function(F){var Q,ie=F.indexOf("-"),de=ie>=0?F.slice(0,ie):F,xe=ie>=0?F.slice(ie+1):"in";return de=ti.get(de)||el,xe=To.get(xe)||I,Q=xe(de.apply(null,_.call(arguments,1))),function(Ce){return Ce<=0?0:Ce>=1?1:Q(Ce)}},a.interpolateHcl=function(F,Q){F=a.hcl(F),Q=a.hcl(Q);var ie=F.h,de=F.c,xe=F.l,Ce=Q.h-ie,Ue=Q.c-de,He=Q.l-xe;return isNaN(Ue)&&(Ue=0,de=isNaN(de)?Q.c:de),isNaN(Ce)?(Ce=0,ie=isNaN(ie)?Q.h:ie):Ce>180?Ce-=360:Ce<-180&&(Ce+=360),function(We){return gt(ie+Ce*We,de+Ue*We,xe+He*We)+""}},a.interpolateHsl=function(F,Q){F=a.hsl(F),Q=a.hsl(Q);var ie=F.h,de=F.s,xe=F.l,Ce=Q.h-ie,Ue=Q.s-de,He=Q.l-xe;return isNaN(Ue)&&(Ue=0,de=isNaN(de)?Q.s:de),isNaN(Ce)?(Ce=0,ie=isNaN(ie)?Q.h:ie):Ce>180?Ce-=360:Ce<-180&&(Ce+=360),function(We){return bt(ie+Ce*We,de+Ue*We,xe+He*We)+""}},a.interpolateLab=function(F,Q){F=a.lab(F),Q=a.lab(Q);var ie=F.l,de=F.a,xe=F.b,Ce=Q.l-ie,Ue=Q.a-de,He=Q.b-xe;return function(We){return Gt(ie+Ce*We,de+Ue*We,xe+He*We)+""}},a.interpolateRound=pu,a.transform=function(F){var Q=d.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(ie){if(ie!=null){Q.setAttribute("transform",ie);var de=Q.transform.baseVal.consolidate()}return new ql(de?de.matrix:gu)})(F)},ql.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gu={a:1,b:0,c:0,d:1,e:0,f:0};function Bs(F){return F.length?F.pop()+",":""}function Qo(F,Q){var ie=[],de=[];return F=a.transform(F),Q=a.transform(Q),function(xe,Ce,Ue,He){if(xe[0]!==Ce[0]||xe[1]!==Ce[1]){var We=Ue.push("translate(",null,",",null,")");He.push({i:We-4,x:_o(xe[0],Ce[0])},{i:We-2,x:_o(xe[1],Ce[1])})}else(Ce[0]||Ce[1])&&Ue.push("translate("+Ce+")")}(F.translate,Q.translate,ie,de),function(xe,Ce,Ue,He){xe!==Ce?(xe-Ce>180?Ce+=360:Ce-xe>180&&(xe+=360),He.push({i:Ue.push(Bs(Ue)+"rotate(",null,")")-2,x:_o(xe,Ce)})):Ce&&Ue.push(Bs(Ue)+"rotate("+Ce+")")}(F.rotate,Q.rotate,ie,de),function(xe,Ce,Ue,He){xe!==Ce?He.push({i:Ue.push(Bs(Ue)+"skewX(",null,")")-2,x:_o(xe,Ce)}):Ce&&Ue.push(Bs(Ue)+"skewX("+Ce+")")}(F.skew,Q.skew,ie,de),function(xe,Ce,Ue,He){if(xe[0]!==Ce[0]||xe[1]!==Ce[1]){var We=Ue.push(Bs(Ue)+"scale(",null,",",null,")");He.push({i:We-4,x:_o(xe[0],Ce[0])},{i:We-2,x:_o(xe[1],Ce[1])})}else Ce[0]===1&&Ce[1]===1||Ue.push(Bs(Ue)+"scale("+Ce+")")}(F.scale,Q.scale,ie,de),F=Q=null,function(xe){for(var Ce,Ue=-1,He=de.length;++Ue<He;)ie[(Ce=de[Ue]).i]=Ce.x(xe);return ie.join("")}}function _s(F,Q){return Q=(Q-=F=+F)||1/Q,function(ie){return(ie-F)/Q}}function Ns(F,Q){return Q=(Q-=F=+F)||1/Q,function(ie){return Math.max(0,Math.min(1,(ie-F)/Q))}}function wl(F){for(var Q=F.source,ie=F.target,de=function(Ue,He){if(Ue===He)return Ue;for(var We=Yl(Ue),Ke=Yl(He),nt=We.pop(),pt=Ke.pop(),yt=null;nt===pt;)yt=nt,nt=We.pop(),pt=Ke.pop();return yt}(Q,ie),xe=[Q];Q!==de;)Q=Q.parent,xe.push(Q);for(var Ce=xe.length;ie!==de;)xe.splice(Ce,0,ie),ie=ie.parent;return xe}function Yl(F){for(var Q=[],ie=F.parent;ie!=null;)Q.push(F),F=ie,ie=ie.parent;return Q.push(F),Q}function Wl(F){F.fixed|=2}function eo(F){F.fixed&=-7}function ws(F){F.fixed|=4,F.px=F.x,F.py=F.y}function ko(F){F.fixed&=-5}function Bo(F,Q,ie){var de=0,xe=0;if(F.charge=0,!F.leaf)for(var Ce,Ue=F.nodes,He=Ue.length,We=-1;++We<He;)(Ce=Ue[We])!=null&&(Bo(Ce,Q,ie),F.charge+=Ce.charge,de+=Ce.charge*Ce.cx,xe+=Ce.charge*Ce.cy);if(F.point){F.leaf||(F.point.x+=Math.random()-.5,F.point.y+=Math.random()-.5);var Ke=Q*ie[F.point.index];F.charge+=F.pointCharge=Ke,de+=Ke*F.point.x,xe+=Ke*F.point.y}F.cx=de/F.charge,F.cy=xe/F.charge}a.interpolateTransform=Qo,a.layout={},a.layout.bundle=function(){return function(F){for(var Q=[],ie=-1,de=F.length;++ie<de;)Q.push(wl(F[ie]));return Q}},a.layout.chord=function(){var F,Q,ie,de,xe,Ce,Ue,He={},We=0;function Ke(){var pt,yt,It,Rt,Pt,Vt={},Dt=[],sn=a.range(de),Kt=[];for(F=[],Q=[],pt=0,Rt=-1;++Rt<de;){for(yt=0,Pt=-1;++Pt<de;)yt+=ie[Rt][Pt];Dt.push(yt),Kt.push(a.range(de)),pt+=yt}for(xe&&sn.sort(function(fr,cr){return xe(Dt[fr],Dt[cr])}),Ce&&Kt.forEach(function(fr,cr){fr.sort(function(vr,kr){return Ce(ie[cr][vr],ie[cr][kr])})}),pt=(zt-We*de)/pt,yt=0,Rt=-1;++Rt<de;){for(It=yt,Pt=-1;++Pt<de;){var Zt=sn[Rt],xn=Kt[Zt][Pt],_n=ie[Zt][xn],jn=yt,Un=yt+=_n*pt;Vt[Zt+"-"+xn]={index:Zt,subindex:xn,startAngle:jn,endAngle:Un,value:_n}}Q[Zt]={index:Zt,startAngle:It,endAngle:yt,value:Dt[Zt]},yt+=We}for(Rt=-1;++Rt<de;)for(Pt=Rt-1;++Pt<de;){var Wn=Vt[Rt+"-"+Pt],er=Vt[Pt+"-"+Rt];(Wn.value||er.value)&&F.push(Wn.value<er.value?{source:er,target:Wn}:{source:Wn,target:er})}Ue&&nt()}function nt(){F.sort(function(pt,yt){return Ue((pt.source.value+pt.target.value)/2,(yt.source.value+yt.target.value)/2)})}return He.matrix=function(pt){return arguments.length?(de=(ie=pt)&&ie.length,F=Q=null,He):ie},He.padding=function(pt){return arguments.length?(We=pt,F=Q=null,He):We},He.sortGroups=function(pt){return arguments.length?(xe=pt,F=Q=null,He):xe},He.sortSubgroups=function(pt){return arguments.length?(Ce=pt,F=null,He):Ce},He.sortChords=function(pt){return arguments.length?(Ue=pt,F&&nt(),He):Ue},He.chords=function(){return F||Ke(),F},He.groups=function(){return Q||Ke(),Q},He},a.layout.force=function(){var F,Q,ie,de,xe,Ce,Ue={},He=a.dispatch("start","tick","end"),We=[1,1],Ke=.9,nt=vu,pt=es,yt=-30,It=hi,Rt=.1,Pt=.64,Vt=[],Dt=[];function sn(Zt){return function(xn,_n,jn,Un){if(xn.point!==Zt){var Wn=xn.cx-Zt.x,er=xn.cy-Zt.y,fr=Un-_n,cr=Wn*Wn+er*er;if(fr*fr/Pt<cr){if(cr<It){var vr=xn.charge/cr;Zt.px-=Wn*vr,Zt.py-=er*vr}return!0}xn.point&&cr&&cr<It&&(vr=xn.pointCharge/cr,Zt.px-=Wn*vr,Zt.py-=er*vr)}return!xn.charge}}function Kt(Zt){Zt.px=a.event.x,Zt.py=a.event.y,Ue.resume()}return Ue.tick=function(){if((ie*=.99)<.005)return F=null,He.end({type:"end",alpha:ie=0}),!0;var Zt,xn,_n,jn,Un,Wn,er,fr,cr,vr=Vt.length,kr=Dt.length;for(xn=0;xn<kr;++xn)jn=(_n=Dt[xn]).source,(Wn=(fr=(Un=_n.target).x-jn.x)*fr+(cr=Un.y-jn.y)*cr)&&(fr*=Wn=ie*xe[xn]*((Wn=Math.sqrt(Wn))-de[xn])/Wn,cr*=Wn,Un.x-=fr*(er=jn.weight+Un.weight?jn.weight/(jn.weight+Un.weight):.5),Un.y-=cr*er,jn.x+=fr*(er=1-er),jn.y+=cr*er);if((er=ie*Rt)&&(fr=We[0]/2,cr=We[1]/2,xn=-1,er))for(;++xn<vr;)(_n=Vt[xn]).x+=(fr-_n.x)*er,_n.y+=(cr-_n.y)*er;if(yt)for(Bo(Zt=a.geom.quadtree(Vt),ie,Ce),xn=-1;++xn<vr;)(_n=Vt[xn]).fixed||Zt.visit(sn(_n));for(xn=-1;++xn<vr;)(_n=Vt[xn]).fixed?(_n.x=_n.px,_n.y=_n.py):(_n.x-=(_n.px-(_n.px=_n.x))*Ke,_n.y-=(_n.py-(_n.py=_n.y))*Ke);He.tick({type:"tick",alpha:ie})},Ue.nodes=function(Zt){return arguments.length?(Vt=Zt,Ue):Vt},Ue.links=function(Zt){return arguments.length?(Dt=Zt,Ue):Dt},Ue.size=function(Zt){return arguments.length?(We=Zt,Ue):We},Ue.linkDistance=function(Zt){return arguments.length?(nt=typeof Zt=="function"?Zt:+Zt,Ue):nt},Ue.distance=Ue.linkDistance,Ue.linkStrength=function(Zt){return arguments.length?(pt=typeof Zt=="function"?Zt:+Zt,Ue):pt},Ue.friction=function(Zt){return arguments.length?(Ke=+Zt,Ue):Ke},Ue.charge=function(Zt){return arguments.length?(yt=typeof Zt=="function"?Zt:+Zt,Ue):yt},Ue.chargeDistance=function(Zt){return arguments.length?(It=Zt*Zt,Ue):Math.sqrt(It)},Ue.gravity=function(Zt){return arguments.length?(Rt=+Zt,Ue):Rt},Ue.theta=function(Zt){return arguments.length?(Pt=Zt*Zt,Ue):Math.sqrt(Pt)},Ue.alpha=function(Zt){return arguments.length?(Zt=+Zt,ie?Zt>0?ie=Zt:(F.c=null,F.t=NaN,F=null,He.end({type:"end",alpha:ie=0})):Zt>0&&(He.start({type:"start",alpha:ie=Zt}),F=rn(Ue.tick)),Ue):ie},Ue.start=function(){var Zt,xn,_n,jn=Vt.length,Un=Dt.length,Wn=We[0],er=We[1];for(Zt=0;Zt<jn;++Zt)(_n=Vt[Zt]).index=Zt,_n.weight=0;for(Zt=0;Zt<Un;++Zt)typeof(_n=Dt[Zt]).source=="number"&&(_n.source=Vt[_n.source]),typeof _n.target=="number"&&(_n.target=Vt[_n.target]),++_n.source.weight,++_n.target.weight;for(Zt=0;Zt<jn;++Zt)_n=Vt[Zt],isNaN(_n.x)&&(_n.x=fr("x",Wn)),isNaN(_n.y)&&(_n.y=fr("y",er)),isNaN(_n.px)&&(_n.px=_n.x),isNaN(_n.py)&&(_n.py=_n.y);if(de=[],typeof nt=="function")for(Zt=0;Zt<Un;++Zt)de[Zt]=+nt.call(this,Dt[Zt],Zt);else for(Zt=0;Zt<Un;++Zt)de[Zt]=nt;if(xe=[],typeof pt=="function")for(Zt=0;Zt<Un;++Zt)xe[Zt]=+pt.call(this,Dt[Zt],Zt);else for(Zt=0;Zt<Un;++Zt)xe[Zt]=pt;if(Ce=[],typeof yt=="function")for(Zt=0;Zt<jn;++Zt)Ce[Zt]=+yt.call(this,Vt[Zt],Zt);else for(Zt=0;Zt<jn;++Zt)Ce[Zt]=yt;function fr(cr,vr){if(!xn){for(xn=new Array(jn),ur=0;ur<jn;++ur)xn[ur]=[];for(ur=0;ur<Un;++ur){var kr=Dt[ur];xn[kr.source.index].push(kr.target),xn[kr.target.index].push(kr.source)}}for(var Br,qn=xn[Zt],ur=-1,mr=qn.length;++ur<mr;)if(!isNaN(Br=qn[ur][cr]))return Br;return Math.random()*vr}return Ue.resume()},Ue.resume=function(){return Ue.alpha(.1)},Ue.stop=function(){return Ue.alpha(0)},Ue.drag=function(){if(Q||(Q=a.behavior.drag().origin(I).on("dragstart.force",Wl).on("drag.force",Kt).on("dragend.force",eo)),!arguments.length)return Q;this.on("mouseover.force",ws).on("mouseout.force",ko).call(Q)},a.rebind(Ue,He,"on")};var vu=20,es=1,hi=1/0;function co(F,Q){return a.rebind(F,Q,"sort","children","value"),F.nodes=F,F.links=mu,F}function tl(F,Q){for(var ie=[F];(F=ie.pop())!=null;)if(Q(F),(xe=F.children)&&(de=xe.length))for(var de,xe;--de>=0;)ie.push(xe[de])}function to(F,Q){for(var ie=[F],de=[];(F=ie.pop())!=null;)if(de.push(F),(Ce=F.children)&&(xe=Ce.length))for(var xe,Ce,Ue=-1;++Ue<xe;)ie.push(Ce[Ue]);for(;(F=de.pop())!=null;)Q(F)}function Ts(F){return F.children}function Cu(F){return F.value}function Tl(F,Q){return Q.value-F.value}function mu(F){return a.merge(F.map(function(Q){return(Q.children||[]).map(function(ie){return{source:Q,target:ie}})}))}a.layout.hierarchy=function(){var F=Tl,Q=Ts,ie=Cu;function de(xe){var Ce,Ue=[xe],He=[];for(xe.depth=0;(Ce=Ue.pop())!=null;)if(He.push(Ce),(Ke=Q.call(de,Ce,Ce.depth))&&(We=Ke.length)){for(var We,Ke,nt;--We>=0;)Ue.push(nt=Ke[We]),nt.parent=Ce,nt.depth=Ce.depth+1;ie&&(Ce.value=0),Ce.children=Ke}else ie&&(Ce.value=+ie.call(de,Ce,Ce.depth)||0),delete Ce.children;return to(xe,function(pt){var yt,It;F&&(yt=pt.children)&&yt.sort(F),ie&&(It=pt.parent)&&(It.value+=pt.value)}),He}return de.sort=function(xe){return arguments.length?(F=xe,de):F},de.children=function(xe){return arguments.length?(Q=xe,de):Q},de.value=function(xe){return arguments.length?(ie=xe,de):ie},de.revalue=function(xe){return ie&&(tl(xe,function(Ce){Ce.children&&(Ce.value=0)}),to(xe,function(Ce){var Ue;Ce.children||(Ce.value=+ie.call(de,Ce,Ce.depth)||0),(Ue=Ce.parent)&&(Ue.value+=Ce.value)})),xe},de},a.layout.partition=function(){var F=a.layout.hierarchy(),Q=[1,1];function ie(Ce,Ue,He,We){var Ke=Ce.children;if(Ce.x=Ue,Ce.y=Ce.depth*We,Ce.dx=He,Ce.dy=We,Ke&&(nt=Ke.length)){var nt,pt,yt,It=-1;for(He=Ce.value?He/Ce.value:0;++It<nt;)ie(pt=Ke[It],Ue,yt=pt.value*He,We),Ue+=yt}}function de(Ce){var Ue=Ce.children,He=0;if(Ue&&(We=Ue.length))for(var We,Ke=-1;++Ke<We;)He=Math.max(He,de(Ue[Ke]));return 1+He}function xe(Ce,Ue){var He=F.call(this,Ce,Ue);return ie(He[0],0,Q[0],Q[1]/de(He[0])),He}return xe.size=function(Ce){return arguments.length?(Q=Ce,xe):Q},co(xe,F)},a.layout.pie=function(){var F=Number,Q=yu,ie=0,de=zt,xe=0;function Ce(Ue){var He,We=Ue.length,Ke=Ue.map(function(sn,Kt){return+F.call(Ce,sn,Kt)}),nt=+(typeof ie=="function"?ie.apply(this,arguments):ie),pt=(typeof de=="function"?de.apply(this,arguments):de)-nt,yt=Math.min(Math.abs(pt)/We,+(typeof xe=="function"?xe.apply(this,arguments):xe)),It=yt*(pt<0?-1:1),Rt=a.sum(Ke),Pt=Rt?(pt-We*It)/Rt:0,Vt=a.range(We),Dt=[];return Q!=null&&Vt.sort(Q===yu?function(sn,Kt){return Ke[Kt]-Ke[sn]}:function(sn,Kt){return Q(Ue[sn],Ue[Kt])}),Vt.forEach(function(sn){Dt[sn]={data:Ue[sn],value:He=Ke[sn],startAngle:nt,endAngle:nt+=He*Pt+It,padAngle:yt}}),Dt}return Ce.value=function(Ue){return arguments.length?(F=Ue,Ce):F},Ce.sort=function(Ue){return arguments.length?(Q=Ue,Ce):Q},Ce.startAngle=function(Ue){return arguments.length?(ie=Ue,Ce):ie},Ce.endAngle=function(Ue){return arguments.length?(de=Ue,Ce):de},Ce.padAngle=function(Ue){return arguments.length?(xe=Ue,Ce):xe},Ce};var yu={};function nl(F){return F.x}function js(F){return F.y}function rl(F,Q,ie){F.y0=Q,F.y=ie}a.layout.stack=function(){var F=I,Q=ns,ie=jo,de=rl,xe=nl,Ce=js;function Ue(He,We){if(!(yt=He.length))return He;var Ke=He.map(function(sn,Kt){return F.call(Ue,sn,Kt)}),nt=Ke.map(function(sn){return sn.map(function(Kt,Zt){return[xe.call(Ue,Kt,Zt),Ce.call(Ue,Kt,Zt)]})}),pt=Q.call(Ue,nt,We);Ke=a.permute(Ke,pt),nt=a.permute(nt,pt);var yt,It,Rt,Pt,Vt=ie.call(Ue,nt,We),Dt=Ke[0].length;for(Rt=0;Rt<Dt;++Rt)for(de.call(Ue,Ke[0][Rt],Pt=Vt[Rt],nt[0][Rt][1]),It=1;It<yt;++It)de.call(Ue,Ke[It][Rt],Pt+=nt[It-1][Rt][1],nt[It][Rt][1]);return He}return Ue.values=function(He){return arguments.length?(F=He,Ue):F},Ue.order=function(He){return arguments.length?(Q=typeof He=="function"?He:ts.get(He)||ns,Ue):Q},Ue.offset=function(He){return arguments.length?(ie=typeof He=="function"?He:No.get(He)||jo,Ue):ie},Ue.x=function(He){return arguments.length?(xe=He,Ue):xe},Ue.y=function(He){return arguments.length?(Ce=He,Ue):Ce},Ue.out=function(He){return arguments.length?(de=He,Ue):de},Ue};var ts=a.map({"inside-out":function(F){var Q,ie,de=F.length,xe=F.map(kl),Ce=F.map(fo),Ue=a.range(de).sort(function(pt,yt){return xe[pt]-xe[yt]}),He=0,We=0,Ke=[],nt=[];for(Q=0;Q<de;++Q)ie=Ue[Q],He<We?(He+=Ce[ie],Ke.push(ie)):(We+=Ce[ie],nt.push(ie));return nt.reverse().concat(Ke)},reverse:function(F){return a.range(F.length).reverse()},default:ns}),No=a.map({silhouette:function(F){var Q,ie,de,xe=F.length,Ce=F[0].length,Ue=[],He=0,We=[];for(ie=0;ie<Ce;++ie){for(Q=0,de=0;Q<xe;Q++)de+=F[Q][ie][1];de>He&&(He=de),Ue.push(de)}for(ie=0;ie<Ce;++ie)We[ie]=(He-Ue[ie])/2;return We},wiggle:function(F){var Q,ie,de,xe,Ce,Ue,He,We,Ke,nt=F.length,pt=F[0],yt=pt.length,It=[];for(It[0]=We=Ke=0,ie=1;ie<yt;++ie){for(Q=0,xe=0;Q<nt;++Q)xe+=F[Q][ie][1];for(Q=0,Ce=0,He=pt[ie][0]-pt[ie-1][0];Q<nt;++Q){for(de=0,Ue=(F[Q][ie][1]-F[Q][ie-1][1])/(2*He);de<Q;++de)Ue+=(F[de][ie][1]-F[de][ie-1][1])/He;Ce+=Ue*F[Q][ie][1]}It[ie]=We-=xe?Ce/xe*He:0,We<Ke&&(Ke=We)}for(ie=0;ie<yt;++ie)It[ie]-=Ke;return It},expand:function(F){var Q,ie,de,xe=F.length,Ce=F[0].length,Ue=1/xe,He=[];for(ie=0;ie<Ce;++ie){for(Q=0,de=0;Q<xe;Q++)de+=F[Q][ie][1];if(de)for(Q=0;Q<xe;Q++)F[Q][ie][1]/=de;else for(Q=0;Q<xe;Q++)F[Q][ie][1]=Ue}for(ie=0;ie<Ce;++ie)He[ie]=0;return He},zero:jo});function ns(F){return a.range(F.length)}function jo(F){for(var Q=-1,ie=F[0].length,de=[];++Q<ie;)de[Q]=0;return de}function kl(F){for(var Q,ie=1,de=0,xe=F[0][1],Ce=F.length;ie<Ce;++ie)(Q=F[ie][1])>xe&&(de=ie,xe=Q);return de}function fo(F){return F.reduce(xu,0)}function xu(F,Q){return F+Q[1]}function bu(F,Q){return Ml(F,Math.ceil(Math.log(Q.length)/Math.LN2+1))}function Ml(F,Q){for(var ie=-1,de=+F[0],xe=(F[1]-de)/Q,Ce=[];++ie<=Q;)Ce[ie]=xe*ie+de;return Ce}function rs(F){return[a.min(F),a.max(F)]}function Al(F,Q){return F.value-Q.value}function ks(F,Q){var ie=F._pack_next;F._pack_next=Q,Q._pack_prev=F,Q._pack_next=ie,ie._pack_prev=Q}function Zl(F,Q){F._pack_next=Q,Q._pack_prev=F}function Us(F,Q){var ie=Q.x-F.x,de=Q.y-F.y,xe=F.r+Q.r;return .999*xe*xe>ie*ie+de*de}function Ms(F){if((Q=F.children)&&(We=Q.length)){var Q,ie,de,xe,Ce,Ue,He,We,Ke=1/0,nt=-1/0,pt=1/0,yt=-1/0;if(Q.forEach(il),(ie=Q[0]).x=-ie.r,ie.y=0,Kt(ie),We>1&&((de=Q[1]).x=de.r,de.y=0,Kt(de),We>2))for(is(ie,de,xe=Q[2]),Kt(xe),ks(ie,xe),ie._pack_prev=xe,ks(xe,de),de=ie._pack_next,Ce=3;Ce<We;Ce++){is(ie,de,xe=Q[Ce]);var It=0,Rt=1,Pt=1;for(Ue=de._pack_next;Ue!==de;Ue=Ue._pack_next,Rt++)if(Us(Ue,xe)){It=1;break}if(It==1)for(He=ie._pack_prev;He!==Ue._pack_prev&&!Us(He,xe);He=He._pack_prev,Pt++);It?(Rt<Pt||Rt==Pt&&de.r<ie.r?Zl(ie,de=Ue):Zl(ie=He,de),Ce--):(ks(ie,xe),de=xe,Kt(xe))}var Vt=(Ke+nt)/2,Dt=(pt+yt)/2,sn=0;for(Ce=0;Ce<We;Ce++)(xe=Q[Ce]).x-=Vt,xe.y-=Dt,sn=Math.max(sn,xe.r+Math.sqrt(xe.x*xe.x+xe.y*xe.y));F.r=sn,Q.forEach(Vs)}function Kt(Zt){Ke=Math.min(Zt.x-Zt.r,Ke),nt=Math.max(Zt.x+Zt.r,nt),pt=Math.min(Zt.y-Zt.r,pt),yt=Math.max(Zt.y+Zt.r,yt)}}function il(F){F._pack_next=F._pack_prev=F}function Vs(F){delete F._pack_next,delete F._pack_prev}function pi(F,Q,ie,de){var xe=F.children;if(F.x=Q+=de*F.x,F.y=ie+=de*F.y,F.r*=de,xe)for(var Ce=-1,Ue=xe.length;++Ce<Ue;)pi(xe[Ce],Q,ie,de)}function is(F,Q,ie){var de=F.r+ie.r,xe=Q.x-F.x,Ce=Q.y-F.y;if(de&&(xe||Ce)){var Ue=Q.r+ie.r,He=xe*xe+Ce*Ce,We=.5+((de*=de)-(Ue*=Ue))/(2*He),Ke=Math.sqrt(Math.max(0,2*Ue*(de+He)-(de-=He)*de-Ue*Ue))/(2*He);ie.x=F.x+We*xe+Ke*Ce,ie.y=F.y+We*Ce-Ke*xe}else ie.x=F.x+de,ie.y=F.y}function Uo(F,Q){return F.parent==Q.parent?1:2}function la(F){var Q=F.children;return Q.length?Q[0]:F.t}function Kr(F){var Q,ie=F.children;return(Q=ie.length)?ie[Q-1]:F.t}function ni(F,Q,ie){var de=ie/(Q.i-F.i);Q.c-=de,Q.s+=ie,F.c+=de,Q.z+=ie,Q.m+=ie}function as(F,Q,ie){return F.a.parent===Q.parent?F.a:ie}function Vo(F){var Q=F.children;return Q&&Q.length?Vo(Q[0]):F}function Xl(F){var Q,ie=F.children;return ie&&(Q=ie.length)?Xl(ie[Q-1]):F}function al(F){return{x:F.x,y:F.y,dx:F.dx,dy:F.dy}}function os(F,Q){var ie=F.x+Q[3],de=F.y+Q[0],xe=F.dx-Q[1]-Q[3],Ce=F.dy-Q[0]-Q[2];return xe<0&&(ie+=xe/2,xe=0),Ce<0&&(de+=Ce/2,Ce=0),{x:ie,y:de,dx:xe,dy:Ce}}function ol(F){var Q=F[0],ie=F[F.length-1];return Q<ie?[Q,ie]:[ie,Q]}function Ho(F){return F.rangeExtent?F.rangeExtent():ol(F.range())}function As(F,Q,ie,de){var xe=ie(F[0],F[1]),Ce=de(Q[0],Q[1]);return function(Ue){return Ce(xe(Ue))}}function ss(F,Q){var ie,de=0,xe=F.length-1,Ce=F[de],Ue=F[xe];return Ue<Ce&&(ie=de,de=xe,xe=ie,ie=Ce,Ce=Ue,Ue=ie),F[de]=Q.floor(Ce),F[xe]=Q.ceil(Ue),F}function Di(F){return F?{floor:function(Q){return Math.floor(Q/F)*F},ceil:function(Q){return Math.ceil(Q/F)*F}}:Ss}a.layout.histogram=function(){var F=!0,Q=Number,ie=rs,de=bu;function xe(Ce,Ue){for(var He,We,Ke=[],nt=Ce.map(Q,this),pt=ie.call(this,nt,Ue),yt=de.call(this,pt,nt,Ue),It=(Ue=-1,nt.length),Rt=yt.length-1,Pt=F?1:1/It;++Ue<Rt;)(He=Ke[Ue]=[]).dx=yt[Ue+1]-(He.x=yt[Ue]),He.y=0;if(Rt>0)for(Ue=-1;++Ue<It;)(We=nt[Ue])>=pt[0]&&We<=pt[1]&&((He=Ke[a.bisect(yt,We,1,Rt)-1]).y+=Pt,He.push(Ce[Ue]));return Ke}return xe.value=function(Ce){return arguments.length?(Q=Ce,xe):Q},xe.range=function(Ce){return arguments.length?(ie=Rn(Ce),xe):ie},xe.bins=function(Ce){return arguments.length?(de=typeof Ce=="number"?function(Ue){return Ml(Ue,Ce)}:Rn(Ce),xe):de},xe.frequency=function(Ce){return arguments.length?(F=!!Ce,xe):F},xe},a.layout.pack=function(){var F,Q=a.layout.hierarchy().sort(Al),ie=0,de=[1,1];function xe(Ce,Ue){var He=Q.call(this,Ce,Ue),We=He[0],Ke=de[0],nt=de[1],pt=F==null?Math.sqrt:typeof F=="function"?F:function(){return F};if(We.x=We.y=0,to(We,function(It){It.r=+pt(It.value)}),to(We,Ms),ie){var yt=ie*(F?1:Math.max(2*We.r/Ke,2*We.r/nt))/2;to(We,function(It){It.r+=yt}),to(We,Ms),to(We,function(It){It.r-=yt})}return pi(We,Ke/2,nt/2,F?1:1/Math.max(2*We.r/Ke,2*We.r/nt)),He}return xe.size=function(Ce){return arguments.length?(de=Ce,xe):de},xe.radius=function(Ce){return arguments.length?(F=Ce==null||typeof Ce=="function"?Ce:+Ce,xe):F},xe.padding=function(Ce){return arguments.length?(ie=+Ce,xe):ie},co(xe,Q)},a.layout.tree=function(){var F=a.layout.hierarchy().sort(null).value(null),Q=Uo,ie=[1,1],de=null;function xe(We,Ke){var nt=F.call(this,We,Ke),pt=nt[0],yt=function(Kt){for(var Zt,xn={A:null,children:[Kt]},_n=[xn];(Zt=_n.pop())!=null;)for(var jn,Un=Zt.children,Wn=0,er=Un.length;Wn<er;++Wn)_n.push((Un[Wn]=jn={_:Un[Wn],parent:Zt,children:(jn=Un[Wn].children)&&jn.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:Wn}).a=jn);return xn.children[0]}(pt);if(to(yt,Ce),yt.parent.m=-yt.z,tl(yt,Ue),de)tl(pt,He);else{var It=pt,Rt=pt,Pt=pt;tl(pt,function(Kt){Kt.x<It.x&&(It=Kt),Kt.x>Rt.x&&(Rt=Kt),Kt.depth>Pt.depth&&(Pt=Kt)});var Vt=Q(It,Rt)/2-It.x,Dt=ie[0]/(Rt.x+Q(Rt,It)/2+Vt),sn=ie[1]/(Pt.depth||1);tl(pt,function(Kt){Kt.x=(Kt.x+Vt)*Dt,Kt.y=Kt.depth*sn})}return nt}function Ce(We){var Ke=We.children,nt=We.parent.children,pt=We.i?nt[We.i-1]:null;if(Ke.length){(function(It){for(var Rt,Pt=0,Vt=0,Dt=It.children,sn=Dt.length;--sn>=0;)(Rt=Dt[sn]).z+=Pt,Rt.m+=Pt,Pt+=Rt.s+(Vt+=Rt.c)})(We);var yt=(Ke[0].z+Ke[Ke.length-1].z)/2;pt?(We.z=pt.z+Q(We._,pt._),We.m=We.z-yt):We.z=yt}else pt&&(We.z=pt.z+Q(We._,pt._));We.parent.A=function(It,Rt,Pt){if(Rt){for(var Vt,Dt=It,sn=It,Kt=Rt,Zt=Dt.parent.children[0],xn=Dt.m,_n=sn.m,jn=Kt.m,Un=Zt.m;Kt=Kr(Kt),Dt=la(Dt),Kt&&Dt;)Zt=la(Zt),(sn=Kr(sn)).a=It,(Vt=Kt.z+jn-Dt.z-xn+Q(Kt._,Dt._))>0&&(ni(as(Kt,It,Pt),It,Vt),xn+=Vt,_n+=Vt),jn+=Kt.m,xn+=Dt.m,Un+=Zt.m,_n+=sn.m;Kt&&!Kr(sn)&&(sn.t=Kt,sn.m+=jn-_n),Dt&&!la(Zt)&&(Zt.t=Dt,Zt.m+=xn-Un,Pt=It)}return Pt}(We,pt,We.parent.A||nt[0])}function Ue(We){We._.x=We.z+We.parent.m,We.m+=We.parent.m}function He(We){We.x*=ie[0],We.y=We.depth*ie[1]}return xe.separation=function(We){return arguments.length?(Q=We,xe):Q},xe.size=function(We){return arguments.length?(de=(ie=We)==null?He:null,xe):de?null:ie},xe.nodeSize=function(We){return arguments.length?(de=(ie=We)==null?null:He,xe):de?ie:null},co(xe,F)},a.layout.cluster=function(){var F=a.layout.hierarchy().sort(null).value(null),Q=Uo,ie=[1,1],de=!1;function xe(Ce,Ue){var He,We=F.call(this,Ce,Ue),Ke=We[0],nt=0;to(Ke,function(Pt){var Vt=Pt.children;Vt&&Vt.length?(Pt.x=function(Dt){return Dt.reduce(function(sn,Kt){return sn+Kt.x},0)/Dt.length}(Vt),Pt.y=function(Dt){return 1+a.max(Dt,function(sn){return sn.y})}(Vt)):(Pt.x=He?nt+=Q(Pt,He):0,Pt.y=0,He=Pt)});var pt=Vo(Ke),yt=Xl(Ke),It=pt.x-Q(pt,yt)/2,Rt=yt.x+Q(yt,pt)/2;return to(Ke,de?function(Pt){Pt.x=(Pt.x-Ke.x)*ie[0],Pt.y=(Ke.y-Pt.y)*ie[1]}:function(Pt){Pt.x=(Pt.x-It)/(Rt-It)*ie[0],Pt.y=(1-(Ke.y?Pt.y/Ke.y:1))*ie[1]}),We}return xe.separation=function(Ce){return arguments.length?(Q=Ce,xe):Q},xe.size=function(Ce){return arguments.length?(de=(ie=Ce)==null,xe):de?null:ie},xe.nodeSize=function(Ce){return arguments.length?(de=(ie=Ce)!=null,xe):de?ie:null},co(xe,F)},a.layout.treemap=function(){var F,Q=a.layout.hierarchy(),ie=Math.round,de=[1,1],xe=null,Ce=al,Ue=!1,He="squarify",We=.5*(1+Math.sqrt(5));function Ke(Pt,Vt){for(var Dt,sn,Kt=-1,Zt=Pt.length;++Kt<Zt;)sn=(Dt=Pt[Kt]).value*(Vt<0?0:Vt),Dt.area=isNaN(sn)||sn<=0?0:sn}function nt(Pt){var Vt=Pt.children;if(Vt&&Vt.length){var Dt,sn,Kt,Zt=Ce(Pt),xn=[],_n=Vt.slice(),jn=1/0,Un=He==="slice"?Zt.dx:He==="dice"?Zt.dy:He==="slice-dice"?1&Pt.depth?Zt.dy:Zt.dx:Math.min(Zt.dx,Zt.dy);for(Ke(_n,Zt.dx*Zt.dy/Pt.value),xn.area=0;(Kt=_n.length)>0;)xn.push(Dt=_n[Kt-1]),xn.area+=Dt.area,He!=="squarify"||(sn=yt(xn,Un))<=jn?(_n.pop(),jn=sn):(xn.area-=xn.pop().area,It(xn,Un,Zt,!1),Un=Math.min(Zt.dx,Zt.dy),xn.length=xn.area=0,jn=1/0);xn.length&&(It(xn,Un,Zt,!0),xn.length=xn.area=0),Vt.forEach(nt)}}function pt(Pt){var Vt=Pt.children;if(Vt&&Vt.length){var Dt,sn=Ce(Pt),Kt=Vt.slice(),Zt=[];for(Ke(Kt,sn.dx*sn.dy/Pt.value),Zt.area=0;Dt=Kt.pop();)Zt.push(Dt),Zt.area+=Dt.area,Dt.z!=null&&(It(Zt,Dt.z?sn.dx:sn.dy,sn,!Kt.length),Zt.length=Zt.area=0);Vt.forEach(pt)}}function yt(Pt,Vt){for(var Dt,sn=Pt.area,Kt=0,Zt=1/0,xn=-1,_n=Pt.length;++xn<_n;)(Dt=Pt[xn].area)&&(Dt<Zt&&(Zt=Dt),Dt>Kt&&(Kt=Dt));return Vt*=Vt,(sn*=sn)?Math.max(Vt*Kt*We/sn,sn/(Vt*Zt*We)):1/0}function It(Pt,Vt,Dt,sn){var Kt,Zt=-1,xn=Pt.length,_n=Dt.x,jn=Dt.y,Un=Vt?ie(Pt.area/Vt):0;if(Vt==Dt.dx){for((sn||Un>Dt.dy)&&(Un=Dt.dy);++Zt<xn;)(Kt=Pt[Zt]).x=_n,Kt.y=jn,Kt.dy=Un,_n+=Kt.dx=Math.min(Dt.x+Dt.dx-_n,Un?ie(Kt.area/Un):0);Kt.z=!0,Kt.dx+=Dt.x+Dt.dx-_n,Dt.y+=Un,Dt.dy-=Un}else{for((sn||Un>Dt.dx)&&(Un=Dt.dx);++Zt<xn;)(Kt=Pt[Zt]).x=_n,Kt.y=jn,Kt.dx=Un,jn+=Kt.dy=Math.min(Dt.y+Dt.dy-jn,Un?ie(Kt.area/Un):0);Kt.z=!1,Kt.dy+=Dt.y+Dt.dy-jn,Dt.x+=Un,Dt.dx-=Un}}function Rt(Pt){var Vt=F||Q(Pt),Dt=Vt[0];return Dt.x=Dt.y=0,Dt.value?(Dt.dx=de[0],Dt.dy=de[1]):Dt.dx=Dt.dy=0,F&&Q.revalue(Dt),Ke([Dt],Dt.dx*Dt.dy/Dt.value),(F?pt:nt)(Dt),Ue&&(F=Vt),Vt}return Rt.size=function(Pt){return arguments.length?(de=Pt,Rt):de},Rt.padding=function(Pt){if(!arguments.length)return xe;function Vt(sn){return os(sn,Pt)}var Dt;return Ce=(xe=Pt)==null?al:(Dt=typeof Pt)=="function"?function(sn){var Kt=Pt.call(Rt,sn,sn.depth);return Kt==null?al(sn):os(sn,typeof Kt=="number"?[Kt,Kt,Kt,Kt]:Kt)}:(Dt==="number"&&(Pt=[Pt,Pt,Pt,Pt]),Vt),Rt},Rt.round=function(Pt){return arguments.length?(ie=Pt?Math.round:Number,Rt):ie!=Number},Rt.sticky=function(Pt){return arguments.length?(Ue=Pt,F=null,Rt):Ue},Rt.ratio=function(Pt){return arguments.length?(We=Pt,Rt):We},Rt.mode=function(Pt){return arguments.length?(He=Pt+"",Rt):He},co(Rt,Q)},a.random={normal:function(F,Q){var ie=arguments.length;return ie<2&&(Q=1),ie<1&&(F=0),function(){var de,xe,Ce;do Ce=(de=2*Math.random()-1)*de+(xe=2*Math.random()-1)*xe;while(!Ce||Ce>1);return F+Q*de*Math.sqrt(-2*Math.log(Ce)/Ce)}},logNormal:function(){var F=a.random.normal.apply(a,arguments);return function(){return Math.exp(F())}},bates:function(F){var Q=a.random.irwinHall(F);return function(){return Q()/F}},irwinHall:function(F){return function(){for(var Q=0,ie=0;ie<F;ie++)Q+=Math.random();return Q}}},a.scale={};var Ss={floor:I,ceil:I};function Es(F,Q,ie,de){var xe=[],Ce=[],Ue=0,He=Math.min(F.length,Q.length)-1;for(F[He]<F[0]&&(F=F.slice().reverse(),Q=Q.slice().reverse());++Ue<=He;)xe.push(ie(F[Ue-1],F[Ue])),Ce.push(de(Q[Ue-1],Q[Ue]));return function(We){var Ke=a.bisect(F,We,1,He)-1;return Ce[Ke](xe[Ke](We))}}function Qi(F,Q,ie,de){var xe,Ce;function Ue(){var We=Math.min(F.length,Q.length)>2?Es:As,Ke=de?Ns:_s;return xe=We(F,Q,Ke,ie),Ce=We(Q,F,Ke,wo),He}function He(We){return xe(We)}return He.invert=function(We){return Ce(We)},He.domain=function(We){return arguments.length?(F=We.map(Number),Ue()):F},He.range=function(We){return arguments.length?(Q=We,Ue()):Q},He.rangeRound=function(We){return He.range(We).interpolate(pu)},He.clamp=function(We){return arguments.length?(de=We,Ue()):de},He.interpolate=function(We){return arguments.length?(ie=We,Ue()):ie},He.ticks=function(We){return Ca(F,We)},He.tickFormat=function(We,Ke){return d3_scale_linearTickFormat(F,We,Ke)},He.nice=function(We){return ma(F,We),Ue()},He.copy=function(){return Qi(F,Q,ie,de)},Ue()}function Ta(F,Q){return a.rebind(F,Q,"range","rangeRound","interpolate","clamp")}function ma(F,Q){return ss(F,Di(ea(F,Q)[2])),ss(F,Di(ea(F,Q)[2])),F}function ea(F,Q){Q==null&&(Q=10);var ie=ol(F),de=ie[1]-ie[0],xe=Math.pow(10,Math.floor(Math.log(de/Q)/Math.LN10)),Ce=Q/de*xe;return Ce<=.15?xe*=10:Ce<=.35?xe*=5:Ce<=.75&&(xe*=2),ie[0]=Math.ceil(ie[0]/xe)*xe,ie[1]=Math.floor(ie[1]/xe)*xe+.5*xe,ie[2]=xe,ie}function Ca(F,Q){return a.range.apply(a,ea(F,Q))}function ls(F,Q,ie,de){function xe(He){return(ie?Math.log(He<0?0:He):-Math.log(He>0?0:-He))/Math.log(Q)}function Ce(He){return ie?Math.pow(Q,He):-Math.pow(Q,-He)}function Ue(He){return F(xe(He))}return Ue.invert=function(He){return Ce(F.invert(He))},Ue.domain=function(He){return arguments.length?(ie=He[0]>=0,F.domain((de=He.map(Number)).map(xe)),Ue):de},Ue.base=function(He){return arguments.length?(Q=+He,F.domain(de.map(xe)),Ue):Q},Ue.nice=function(){var He=ss(de.map(xe),ie?Math:ho);return F.domain(He),de=He.map(Ce),Ue},Ue.ticks=function(){var He=ol(de),We=[],Ke=He[0],nt=He[1],pt=Math.floor(xe(Ke)),yt=Math.ceil(xe(nt)),It=Q%1?2:Q;if(isFinite(yt-pt)){if(ie){for(;pt<yt;pt++)for(var Rt=1;Rt<It;Rt++)We.push(Ce(pt)*Rt);We.push(Ce(pt))}else for(We.push(Ce(pt));pt++<yt;)for(Rt=It-1;Rt>0;Rt--)We.push(Ce(pt)*Rt);for(pt=0;We[pt]<Ke;pt++);for(yt=We.length;We[yt-1]>nt;yt--);We=We.slice(pt,yt)}return We},Ue.copy=function(){return ls(F.copy(),Q,ie,de)},Ta(Ue,F)}a.scale.linear=function(){return Qi([0,1],[0,1],wo,!1)},a.scale.log=function(){return ls(a.scale.linear().domain([0,1]),10,!0,[1,10])};var ho={floor:function(F){return-Math.ceil(-F)},ceil:function(F){return-Math.floor(-F)}};function ua(F,Q,ie){var de=Xa(Q),xe=Xa(1/Q);function Ce(Ue){return F(de(Ue))}return Ce.invert=function(Ue){return xe(F.invert(Ue))},Ce.domain=function(Ue){return arguments.length?(F.domain((ie=Ue.map(Number)).map(de)),Ce):ie},Ce.ticks=function(Ue){return Ca(ie,Ue)},Ce.tickFormat=function(Ue,He){return d3_scale_linearTickFormat(ie,Ue,He)},Ce.nice=function(Ue){return Ce.domain(ma(ie,Ue))},Ce.exponent=function(Ue){return arguments.length?(de=Xa(Q=Ue),xe=Xa(1/Q),F.domain(ie.map(de)),Ce):Q},Ce.copy=function(){return ua(F.copy(),Q,ie)},Ta(Ce,F)}function Xa(F){return function(Q){return Q<0?-Math.pow(-Q,F):Math.pow(Q,F)}}function no(F,Q){var ie,de,xe;function Ce(He){return de[((ie.get(He)||(Q.t==="range"?ie.set(He,F.push(He)):NaN))-1)%de.length]}function Ue(He,We){return a.range(F.length).map(function(Ke){return He+We*Ke})}return Ce.domain=function(He){if(!arguments.length)return F;F=[],ie=new m;for(var We,Ke=-1,nt=He.length;++Ke<nt;)ie.has(We=He[Ke])||ie.set(We,F.push(We));return Ce[Q.t].apply(Ce,Q.a)},Ce.range=function(He){return arguments.length?(de=He,xe=0,Q={t:"range",a:arguments},Ce):de},Ce.rangePoints=function(He,We){arguments.length<2&&(We=0);var Ke=He[0],nt=He[1],pt=F.length<2?(Ke=(Ke+nt)/2,0):(nt-Ke)/(F.length-1+We);return de=Ue(Ke+pt*We/2,pt),xe=0,Q={t:"rangePoints",a:arguments},Ce},Ce.rangeRoundPoints=function(He,We){arguments.length<2&&(We=0);var Ke=He[0],nt=He[1],pt=F.length<2?(Ke=nt=Math.round((Ke+nt)/2),0):(nt-Ke)/(F.length-1+We)|0;return de=Ue(Ke+Math.round(pt*We/2+(nt-Ke-(F.length-1+We)*pt)/2),pt),xe=0,Q={t:"rangeRoundPoints",a:arguments},Ce},Ce.rangeBands=function(He,We,Ke){arguments.length<2&&(We=0),arguments.length<3&&(Ke=We);var nt=He[1]<He[0],pt=He[nt-0],yt=(He[1-nt]-pt)/(F.length-We+2*Ke);return de=Ue(pt+yt*Ke,yt),nt&&de.reverse(),xe=yt*(1-We),Q={t:"rangeBands",a:arguments},Ce},Ce.rangeRoundBands=function(He,We,Ke){arguments.length<2&&(We=0),arguments.length<3&&(Ke=We);var nt=He[1]<He[0],pt=He[nt-0],yt=He[1-nt],It=Math.floor((yt-pt)/(F.length-We+2*Ke));return de=Ue(pt+Math.round((yt-pt-(F.length-We)*It)/2),It),nt&&de.reverse(),xe=Math.round(It*(1-We)),Q={t:"rangeRoundBands",a:arguments},Ce},Ce.rangeBand=function(){return xe},Ce.rangeExtent=function(){return ol(Q.a[0])},Ce.copy=function(){return no(F,Q)},Ce.domain(F)}a.scale.pow=function(){return ua(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return no([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Sl)},a.scale.category20=function(){return a.scale.ordinal().range(ro)},a.scale.category20b=function(){return a.scale.ordinal().range(ca)},a.scale.category20c=function(){return a.scale.ordinal().range(Ar)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Xt),ro=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Xt),ca=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Xt),Ar=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Xt);function ka(F,Q){var ie;function de(){var Ce=0,Ue=Q.length;for(ie=[];++Ce<Ue;)ie[Ce-1]=a.quantile(F,Ce/Ue);return xe}function xe(Ce){if(!isNaN(Ce=+Ce))return Q[a.bisect(ie,Ce)]}return xe.domain=function(Ce){return arguments.length?(F=Ce.map(p).filter(c).sort(u),de()):F},xe.range=function(Ce){return arguments.length?(Q=Ce,de()):Q},xe.quantiles=function(){return ie},xe.invertExtent=function(Ce){return(Ce=Q.indexOf(Ce))<0?[NaN,NaN]:[Ce>0?ie[Ce-1]:F[0],Ce<ie.length?ie[Ce]:F[F.length-1]]},xe.copy=function(){return ka(F,Q)},de()}function sl(F,Q,ie){var de,xe;function Ce(He){return ie[Math.max(0,Math.min(xe,Math.floor(de*(He-F))))]}function Ue(){return de=ie.length/(Q-F),xe=ie.length-1,Ce}return Ce.domain=function(He){return arguments.length?(F=+He[0],Q=+He[He.length-1],Ue()):[F,Q]},Ce.range=function(He){return arguments.length?(ie=He,Ue()):ie},Ce.invertExtent=function(He){return[He=(He=ie.indexOf(He))<0?NaN:He/de+F,He+1/de]},Ce.copy=function(){return sl(F,Q,ie)},Ue()}function El(F,Q){function ie(de){if(de<=de)return Q[a.bisect(F,de)]}return ie.domain=function(de){return arguments.length?(F=de,ie):F},ie.range=function(de){return arguments.length?(Q=de,ie):Q},ie.invertExtent=function(de){return de=Q.indexOf(de),[F[de-1],F[de]]},ie.copy=function(){return El(F,Q)},ie}function Ls(F){function Q(ie){return+ie}return Q.invert=Q,Q.domain=Q.range=function(ie){return arguments.length?(F=ie.map(Q),Q):F},Q.ticks=function(ie){return Ca(F,ie)},Q.tickFormat=function(ie,de){return d3_scale_linearTickFormat(F,ie,de)},Q.copy=function(){return Ls(F)},Q}function Cs(){return 0}a.scale.quantile=function(){return ka([],[])},a.scale.quantize=function(){return sl(0,1,[0,1])},a.scale.threshold=function(){return El([.5],[0,1])},a.scale.identity=function(){return Ls([0,1])},a.svg={},a.svg.arc=function(){var F=Tr,Q=po,ie=Cs,de=qo,xe=Hs,Ce=ll,Ue=Ma;function He(){var Ke=Math.max(0,+F.apply(this,arguments)),nt=Math.max(0,+Q.apply(this,arguments)),pt=xe.apply(this,arguments)-Je,yt=Ce.apply(this,arguments)-Je,It=Math.abs(yt-pt),Rt=pt>yt?0:1;if(nt<Ke&&(Pt=nt,nt=Ke,Ke=Pt),It>=Lt)return We(nt,Rt)+(Ke?We(Ke,1-Rt):"")+"Z";var Pt,Vt,Dt,sn,Kt,Zt,xn,_n,jn,Un,Wn,er,fr=0,cr=0,vr=[];if((sn=(+Ue.apply(this,arguments)||0)/2)&&(Dt=de===qo?Math.sqrt(Ke*Ke+nt*nt):+de.apply(this,arguments),Rt||(cr*=-1),nt&&(cr=$e(Dt/nt*Math.sin(sn))),Ke&&(fr=$e(Dt/Ke*Math.sin(sn)))),nt){Kt=nt*Math.cos(pt+cr),Zt=nt*Math.sin(pt+cr),xn=nt*Math.cos(yt-cr),_n=nt*Math.sin(yt-cr);var kr=Math.abs(yt-pt-2*cr)<=Ot?0:1;if(cr&&go(Kt,Zt,xn,_n)===Rt^kr){var Br=(pt+yt)/2;Kt=nt*Math.cos(Br),Zt=nt*Math.sin(Br),xn=_n=null}}else Kt=Zt=0;if(Ke){jn=Ke*Math.cos(yt-fr),Un=Ke*Math.sin(yt-fr),Wn=Ke*Math.cos(pt+fr),er=Ke*Math.sin(pt+fr);var qn=Math.abs(pt-yt+2*fr)<=Ot?0:1;if(fr&&go(jn,Un,Wn,er)===1-Rt^qn){var ur=(pt+yt)/2;jn=Ke*Math.cos(ur),Un=Ke*Math.sin(ur),Wn=er=null}}else jn=Un=0;if(It>ut&&(Pt=Math.min(Math.abs(nt-Ke)/2,+ie.apply(this,arguments)))>.001){Vt=Ke<nt^Rt?0:1;var mr=Pt,Mr=Pt;if(It<Ot){var Dr=Wn==null?[jn,Un]:xn==null?[Kt,Zt]:Ct([Kt,Zt],[Wn,er],[xn,_n],[jn,Un]),Hr=Kt-Dr[0],Jr=Zt-Dr[1],ai=xn-Dr[0],wi=_n-Dr[1],Ti=1/Math.sin(Math.acos((Hr*ai+Jr*wi)/(Math.sqrt(Hr*Hr+Jr*Jr)*Math.sqrt(ai*ai+wi*wi)))/2),oi=Math.sqrt(Dr[0]*Dr[0]+Dr[1]*Dr[1]);Mr=Math.min(Pt,(Ke-oi)/(Ti-1)),mr=Math.min(Pt,(nt-oi)/(Ti+1))}if(xn!=null){var Hi=io(Wn==null?[jn,Un]:[Wn,er],[Kt,Zt],nt,mr,Rt),ha=io([xn,_n],[jn,Un],nt,mr,Rt);Pt===mr?vr.push("M",Hi[0],"A",mr,",",mr," 0 0,",Vt," ",Hi[1],"A",nt,",",nt," 0 ",1-Rt^go(Hi[1][0],Hi[1][1],ha[1][0],ha[1][1]),",",Rt," ",ha[1],"A",mr,",",mr," 0 0,",Vt," ",ha[0]):vr.push("M",Hi[0],"A",mr,",",mr," 0 1,",Vt," ",ha[0])}else vr.push("M",Kt,",",Zt);if(Wn!=null){var Ki=io([Kt,Zt],[Wn,er],Ke,-Mr,Rt),ia=io([jn,Un],xn==null?[Kt,Zt]:[xn,_n],Ke,-Mr,Rt);Pt===Mr?vr.push("L",ia[0],"A",Mr,",",Mr," 0 0,",Vt," ",ia[1],"A",Ke,",",Ke," 0 ",Rt^go(ia[1][0],ia[1][1],Ki[1][0],Ki[1][1]),",",1-Rt," ",Ki[1],"A",Mr,",",Mr," 0 0,",Vt," ",Ki[0]):vr.push("L",ia[0],"A",Mr,",",Mr," 0 0,",Vt," ",Ki[0])}else vr.push("L",jn,",",Un)}else vr.push("M",Kt,",",Zt),xn!=null&&vr.push("A",nt,",",nt," 0 ",kr,",",Rt," ",xn,",",_n),vr.push("L",jn,",",Un),Wn!=null&&vr.push("A",Ke,",",Ke," 0 ",qn,",",1-Rt," ",Wn,",",er);return vr.push("Z"),vr.join("")}function We(Ke,nt){return"M0,"+Ke+"A"+Ke+","+Ke+" 0 1,"+nt+" 0,"+-Ke+"A"+Ke+","+Ke+" 0 1,"+nt+" 0,"+Ke}return He.innerRadius=function(Ke){return arguments.length?(F=Rn(Ke),He):F},He.outerRadius=function(Ke){return arguments.length?(Q=Rn(Ke),He):Q},He.cornerRadius=function(Ke){return arguments.length?(ie=Rn(Ke),He):ie},He.padRadius=function(Ke){return arguments.length?(de=Ke==qo?qo:Rn(Ke),He):de},He.startAngle=function(Ke){return arguments.length?(xe=Rn(Ke),He):xe},He.endAngle=function(Ke){return arguments.length?(Ce=Rn(Ke),He):Ce},He.padAngle=function(Ke){return arguments.length?(Ue=Rn(Ke),He):Ue},He.centroid=function(){var Ke=(+F.apply(this,arguments)+ +Q.apply(this,arguments))/2,nt=(+xe.apply(this,arguments)+ +Ce.apply(this,arguments))/2-Je;return[Math.cos(nt)*Ke,Math.sin(nt)*Ke]},He};var qo="auto";function Tr(F){return F.innerRadius}function po(F){return F.outerRadius}function Hs(F){return F.startAngle}function ll(F){return F.endAngle}function Ma(F){return F&&F.padAngle}function go(F,Q,ie,de){return(F-ie)*Q-(Q-de)*F>0?0:1}function io(F,Q,ie,de,xe){var Ce=F[0]-Q[0],Ue=F[1]-Q[1],He=(xe?de:-de)/Math.sqrt(Ce*Ce+Ue*Ue),We=He*Ue,Ke=-He*Ce,nt=F[0]+We,pt=F[1]+Ke,yt=Q[0]+We,It=Q[1]+Ke,Rt=(nt+yt)/2,Pt=(pt+It)/2,Vt=yt-nt,Dt=It-pt,sn=Vt*Vt+Dt*Dt,Kt=ie-de,Zt=nt*It-yt*pt,xn=(Dt<0?-1:1)*Math.sqrt(Math.max(0,Kt*Kt*sn-Zt*Zt)),_n=(Zt*Dt-Vt*xn)/sn,jn=(-Zt*Vt-Dt*xn)/sn,Un=(Zt*Dt+Vt*xn)/sn,Wn=(-Zt*Vt+Dt*xn)/sn,er=_n-Rt,fr=jn-Pt,cr=Un-Rt,vr=Wn-Pt;return er*er+fr*fr>cr*cr+vr*vr&&(_n=Un,jn=Wn),[[_n-We,jn-Ke],[_n*ie/Kt,jn*ie/Kt]]}function Ja(){return!0}function Mo(F){var Q=Hn,ie=Dn,de=Ja,xe=ta,Ce=xe.key,Ue=.7;function He(We){var Ke,nt=[],pt=[],yt=-1,It=We.length,Rt=Rn(Q),Pt=Rn(ie);function Vt(){nt.push("M",xe(F(pt),Ue))}for(;++yt<It;)de.call(this,Ke=We[yt],yt)?pt.push([+Rt.call(this,Ke,yt),+Pt.call(this,Ke,yt)]):pt.length&&(Vt(),pt=[]);return pt.length&&Vt(),nt.length?nt.join(""):null}return He.x=function(We){return arguments.length?(Q=We,He):Q},He.y=function(We){return arguments.length?(ie=We,He):ie},He.defined=function(We){return arguments.length?(de=We,He):de},He.interpolate=function(We){return arguments.length?(Ce=typeof We=="function"?xe=We:(xe=Go.get(We)||ta).key,He):Ce},He.tension=function(We){return arguments.length?(Ue=We,He):Ue},He}a.svg.line=function(){return Mo(I)};var Go=a.map({linear:ta,"linear-closed":Os,step:function(F){for(var Q=0,ie=F.length,de=F[0],xe=[de[0],",",de[1]];++Q<ie;)xe.push("H",(de[0]+(de=F[Q])[0])/2,"V",de[1]);return ie>1&&xe.push("H",de[0]),xe.join("")},"step-before":qs,"step-after":fa,basis:Ua,"basis-open":function(F){if(F.length<4)return ta(F);for(var Q,ie=[],de=-1,xe=F.length,Ce=[0],Ue=[0];++de<3;)Q=F[de],Ce.push(Q[0]),Ue.push(Q[1]);for(ie.push(na(Vi,Ce)+","+na(Vi,Ue)),--de;++de<xe;)Q=F[de],Ce.shift(),Ce.push(Q[0]),Ue.shift(),Ue.push(Q[1]),ui(ie,Ce,Ue);return ie.join("")},"basis-closed":function(F){for(var Q,ie,de=-1,xe=F.length,Ce=xe+4,Ue=[],He=[];++de<4;)ie=F[de%xe],Ue.push(ie[0]),He.push(ie[1]);for(Q=[na(Vi,Ue),",",na(Vi,He)],--de;++de<Ce;)ie=F[de%xe],Ue.shift(),Ue.push(ie[0]),He.shift(),He.push(ie[1]),ui(Q,Ue,He);return Q.join("")},bundle:function(F,Q){var ie=F.length-1;if(ie)for(var de,xe,Ce=F[0][0],Ue=F[0][1],He=F[ie][0]-Ce,We=F[ie][1]-Ue,Ke=-1;++Ke<=ie;)xe=Ke/ie,(de=F[Ke])[0]=Q*de[0]+(1-Q)*(Ce+xe*He),de[1]=Q*de[1]+(1-Q)*(Ue+xe*We);return Ua(F)},cardinal:function(F,Q){return F.length<3?ta(F):F[0]+di(F,ul(F,Q))},"cardinal-open":function(F,Q){return F.length<4?ta(F):F[1]+di(F.slice(1,-1),ul(F,Q))},"cardinal-closed":function(F,Q){return F.length<3?Os(F):F[0]+di((F.push(F[0]),F),ul([F[F.length-2]].concat(F,[F[1]]),Q))},monotone:function(F){return F.length<3?ta(F):F[0]+di(F,function(Q){for(var ie,de,xe,Ce,Ue=[],He=function(nt){for(var pt=0,yt=nt.length-1,It=[],Rt=nt[0],Pt=nt[1],Vt=It[0]=Ka(Rt,Pt);++pt<yt;)It[pt]=(Vt+(Vt=Ka(Rt=Pt,Pt=nt[pt+1])))/2;return It[pt]=Vt,It}(Q),We=-1,Ke=Q.length-1;++We<Ke;)ie=Ka(Q[We],Q[We+1]),x(ie)<ut?He[We]=He[We+1]=0:(Ce=(de=He[We]/ie)*de+(xe=He[We+1]/ie)*xe)>9&&(Ce=3*ie/Math.sqrt(Ce),He[We]=Ce*de,He[We+1]=Ce*xe);for(We=-1;++We<=Ke;)Ce=(Q[Math.min(Ke,We+1)][0]-Q[Math.max(0,We-1)][0])/(6*(1+He[We]*He[We])),Ue.push([Ce||0,He[We]*Ce||0]);return Ue}(F))}});function ta(F){return F.length>1?F.join("L"):F+"Z"}function Os(F){return F.join("L")+"Z"}function qs(F){for(var Q=0,ie=F.length,de=F[0],xe=[de[0],",",de[1]];++Q<ie;)xe.push("V",(de=F[Q])[1],"H",de[0]);return xe.join("")}function fa(F){for(var Q=0,ie=F.length,de=F[0],xe=[de[0],",",de[1]];++Q<ie;)xe.push("H",(de=F[Q])[0],"V",de[1]);return xe.join("")}function di(F,Q){if(Q.length<1||F.length!=Q.length&&F.length!=Q.length+2)return ta(F);var ie=F.length!=Q.length,de="",xe=F[0],Ce=F[1],Ue=Q[0],He=Ue,We=1;if(ie&&(de+="Q"+(Ce[0]-2*Ue[0]/3)+","+(Ce[1]-2*Ue[1]/3)+","+Ce[0]+","+Ce[1],xe=F[1],We=2),Q.length>1){He=Q[1],Ce=F[We],We++,de+="C"+(xe[0]+Ue[0])+","+(xe[1]+Ue[1])+","+(Ce[0]-He[0])+","+(Ce[1]-He[1])+","+Ce[0]+","+Ce[1];for(var Ke=2;Ke<Q.length;Ke++,We++)Ce=F[We],He=Q[Ke],de+="S"+(Ce[0]-He[0])+","+(Ce[1]-He[1])+","+Ce[0]+","+Ce[1]}if(ie){var nt=F[We];de+="Q"+(Ce[0]+2*He[0]/3)+","+(Ce[1]+2*He[1]/3)+","+nt[0]+","+nt[1]}return de}function ul(F,Q){for(var ie,de=[],xe=(1-Q)/2,Ce=F[0],Ue=F[1],He=1,We=F.length;++He<We;)ie=Ce,Ce=Ue,Ue=F[He],de.push([xe*(Ue[0]-ie[0]),xe*(Ue[1]-ie[1])]);return de}function Ua(F){if(F.length<3)return ta(F);var Q=1,ie=F.length,de=F[0],xe=de[0],Ce=de[1],Ue=[xe,xe,xe,(de=F[1])[0]],He=[Ce,Ce,Ce,de[1]],We=[xe,",",Ce,"L",na(Vi,Ue),",",na(Vi,He)];for(F.push(F[ie-1]);++Q<=ie;)de=F[Q],Ue.shift(),Ue.push(de[0]),He.shift(),He.push(de[1]),ui(We,Ue,He);return F.pop(),We.push("L",de),We.join("")}function na(F,Q){return F[0]*Q[0]+F[1]*Q[1]+F[2]*Q[2]+F[3]*Q[3]}Go.forEach(function(F,Q){Q.key=F,Q.closed=/-closed$/.test(F)});var Ao=[0,2/3,1/3,0],Jl=[0,1/3,2/3,0],Vi=[0,1/6,2/3,1/6];function ui(F,Q,ie){F.push("C",na(Ao,Q),",",na(Ao,ie),",",na(Jl,Q),",",na(Jl,ie),",",na(Vi,Q),",",na(Vi,ie))}function Ka(F,Q){return(Q[1]-F[1])/(Q[0]-F[0])}function So(F){for(var Q,ie,de,xe=-1,Ce=F.length;++xe<Ce;)ie=(Q=F[xe])[0],de=Q[1]-Je,Q[0]=ie*Math.cos(de),Q[1]=ie*Math.sin(de);return F}function vo(F){var Q=Hn,ie=Hn,de=0,xe=Dn,Ce=Ja,Ue=ta,He=Ue.key,We=Ue,Ke="L",nt=.7;function pt(yt){var It,Rt,Pt,Vt=[],Dt=[],sn=[],Kt=-1,Zt=yt.length,xn=Rn(Q),_n=Rn(de),jn=Q===ie?function(){return Rt}:Rn(ie),Un=de===xe?function(){return Pt}:Rn(xe);function Wn(){Vt.push("M",Ue(F(sn),nt),Ke,We(F(Dt.reverse()),nt),"Z")}for(;++Kt<Zt;)Ce.call(this,It=yt[Kt],Kt)?(Dt.push([Rt=+xn.call(this,It,Kt),Pt=+_n.call(this,It,Kt)]),sn.push([+jn.call(this,It,Kt),+Un.call(this,It,Kt)])):Dt.length&&(Wn(),Dt=[],sn=[]);return Dt.length&&Wn(),Vt.length?Vt.join(""):null}return pt.x=function(yt){return arguments.length?(Q=ie=yt,pt):ie},pt.x0=function(yt){return arguments.length?(Q=yt,pt):Q},pt.x1=function(yt){return arguments.length?(ie=yt,pt):ie},pt.y=function(yt){return arguments.length?(de=xe=yt,pt):xe},pt.y0=function(yt){return arguments.length?(de=yt,pt):de},pt.y1=function(yt){return arguments.length?(xe=yt,pt):xe},pt.defined=function(yt){return arguments.length?(Ce=yt,pt):Ce},pt.interpolate=function(yt){return arguments.length?(He=typeof yt=="function"?Ue=yt:(Ue=Go.get(yt)||ta).key,We=Ue.reverse||Ue,Ke=Ue.closed?"M":"L",pt):He},pt.tension=function(yt){return arguments.length?(nt=yt,pt):nt},pt}function Ll(F){return F.source}function us(F){return F.target}function Ps(F){return F.radius}function Ji(F){return[F.x,F.y]}function ya(){return 64}function Or(){return"circle"}function Ir(F){var Q=Math.sqrt(F/Ot);return"M0,"+Q+"A"+Q+","+Q+" 0 1,1 0,"+-Q+"A"+Q+","+Q+" 0 1,1 0,"+Q+"Z"}a.svg.line.radial=function(){var F=Mo(So);return F.radius=F.x,delete F.x,F.angle=F.y,delete F.y,F},qs.reverse=fa,fa.reverse=qs,a.svg.area=function(){return vo(I)},a.svg.area.radial=function(){var F=vo(So);return F.radius=F.x,delete F.x,F.innerRadius=F.x0,delete F.x0,F.outerRadius=F.x1,delete F.x1,F.angle=F.y,delete F.y,F.startAngle=F.y0,delete F.y0,F.endAngle=F.y1,delete F.y1,F},a.svg.chord=function(){var F=Ll,Q=us,ie=Ps,de=Hs,xe=ll;function Ce(Ke,nt){var pt,yt,It=Ue(this,F,Ke,nt),Rt=Ue(this,Q,Ke,nt);return"M"+It.p0+He(It.r,It.p1,It.a1-It.a0)+(yt=Rt,((pt=It).a0==yt.a0&&pt.a1==yt.a1?We(It.r,It.p1,It.r,It.p0):We(It.r,It.p1,Rt.r,Rt.p0)+He(Rt.r,Rt.p1,Rt.a1-Rt.a0)+We(Rt.r,Rt.p1,It.r,It.p0))+"Z")}function Ue(Ke,nt,pt,yt){var It=nt.call(Ke,pt,yt),Rt=ie.call(Ke,It,yt),Pt=de.call(Ke,It,yt)-Je,Vt=xe.call(Ke,It,yt)-Je;return{r:Rt,a0:Pt,a1:Vt,p0:[Rt*Math.cos(Pt),Rt*Math.sin(Pt)],p1:[Rt*Math.cos(Vt),Rt*Math.sin(Vt)]}}function He(Ke,nt,pt){return"A"+Ke+","+Ke+" 0 "+ +(pt>Ot)+",1 "+nt}function We(Ke,nt,pt,yt){return"Q 0,0 "+yt}return Ce.radius=function(Ke){return arguments.length?(ie=Rn(Ke),Ce):ie},Ce.source=function(Ke){return arguments.length?(F=Rn(Ke),Ce):F},Ce.target=function(Ke){return arguments.length?(Q=Rn(Ke),Ce):Q},Ce.startAngle=function(Ke){return arguments.length?(de=Rn(Ke),Ce):de},Ce.endAngle=function(Ke){return arguments.length?(xe=Rn(Ke),Ce):xe},Ce},a.svg.diagonal=function(){var F=Ll,Q=us,ie=Ji;function de(xe,Ce){var Ue=F.call(this,xe,Ce),He=Q.call(this,xe,Ce),We=(Ue.y+He.y)/2,Ke=[Ue,{x:Ue.x,y:We},{x:He.x,y:We},He];return"M"+(Ke=Ke.map(ie))[0]+"C"+Ke[1]+" "+Ke[2]+" "+Ke[3]}return de.source=function(xe){return arguments.length?(F=Rn(xe),de):F},de.target=function(xe){return arguments.length?(Q=Rn(xe),de):Q},de.projection=function(xe){return arguments.length?(ie=xe,de):ie},de},a.svg.diagonal.radial=function(){var F=a.svg.diagonal(),Q=Ji,ie=F.projection;return F.projection=function(de){return arguments.length?ie(function(xe){return function(){var Ce=xe.apply(this,arguments),Ue=Ce[0],He=Ce[1]-Je;return[Ue*Math.cos(He),Ue*Math.sin(He)]}}(Q=de)):Q},F},a.svg.symbol=function(){var F=Or,Q=ya;function ie(de,xe){return(Gs.get(F.call(this,de,xe))||Ir)(Q.call(this,de,xe))}return ie.type=function(de){return arguments.length?(F=Rn(de),ie):F},ie.size=function(de){return arguments.length?(Q=Rn(de),ie):Q},ie};var Gs=a.map({circle:Ir,cross:function(F){var Q=Math.sqrt(F/5)/2;return"M"+-3*Q+","+-Q+"H"+-Q+"V"+-3*Q+"H"+Q+"V"+-Q+"H"+3*Q+"V"+Q+"H"+Q+"V"+3*Q+"H"+-Q+"V"+Q+"H"+-3*Q+"Z"},diamond:function(F){var Q=Math.sqrt(F/(2*cs)),ie=Q*cs;return"M0,"+-Q+"L"+ie+",0 0,"+Q+" "+-ie+",0Z"},square:function(F){var Q=Math.sqrt(F)/2;return"M"+-Q+","+-Q+"L"+Q+","+-Q+" "+Q+","+Q+" "+-Q+","+Q+"Z"},"triangle-down":function(F){var Q=Math.sqrt(F/Oa),ie=Q*Oa/2;return"M0,"+ie+"L"+Q+","+-ie+" "+-Q+","+-ie+"Z"},"triangle-up":function(F){var Q=Math.sqrt(F/Oa),ie=Q*Oa/2;return"M0,"+-ie+"L"+Q+","+ie+" "+-Q+","+ie+"Z"}});a.svg.symbolTypes=Gs.keys();var Oa=Math.sqrt(3),cs=Math.tan(30*Qe);pe.transition=function(F){for(var Q,ie,de=fs||++ra,xe=Is(F),Ce=[],Ue=hs||{time:Date.now(),ease:zo,delay:0,duration:250},He=-1,We=this.length;++He<We;){Ce.push(Q=[]);for(var Ke=this[He],nt=-1,pt=Ke.length;++nt<pt;)(ie=Ke[nt])&&Ws(ie,nt,xe,de,Ue),Q.push(ie)}return ba(Ce,xe,de)},pe.interrupt=function(F){return this.each(F==null?xa:Ys(Is(F)))};var xa=Ys(Is());function Ys(F){return function(){var Q,ie,de;(Q=this[F])&&(de=Q[ie=Q.active])&&(de.timer.c=null,de.timer.t=NaN,--Q.count?delete Q[ie]:delete this[F],Q.active+=.5,de.event&&de.event.interrupt.call(this,this.__data__,de.index))}}function ba(F,Q,ie){return ee(F,jr),F.namespace=Q,F.id=ie,F}var fs,hs,jr=[],ra=0;function Eo(F,Q,ie,de){var xe=F.id,Ce=F.namespace;return ye(F,typeof ie=="function"?function(Ue,He,We){Ue[Ce][xe].tween.set(Q,de(ie.call(Ue,Ue.__data__,He,We)))}:(ie=de(ie),function(Ue){Ue[Ce][xe].tween.set(Q,ie)}))}function Va(F){return F==null&&(F=""),function(){this.textContent=F}}function Is(F){return F==null?"__transition__":"__transition_"+F+"__"}function Ws(F,Q,ie,de,xe){var Ce,Ue,He,We,Ke,nt=F[ie]||(F[ie]={active:0,count:0}),pt=nt[de];function yt(Rt){var Pt=nt.active,Vt=nt[Pt];for(var Dt in Vt&&(Vt.timer.c=null,Vt.timer.t=NaN,--nt.count,delete nt[Pt],Vt.event&&Vt.event.interrupt.call(F,F.__data__,Vt.index)),nt)if(+Dt<de){var sn=nt[Dt];sn.timer.c=null,sn.timer.t=NaN,--nt.count,delete nt[Dt]}Ue.c=It,rn(function(){return Ue.c&&It(Rt||1)&&(Ue.c=null,Ue.t=NaN),1},0,Ce),nt.active=de,pt.event&&pt.event.start.call(F,F.__data__,Q),Ke=[],pt.tween.forEach(function(Kt,Zt){(Zt=Zt.call(F,F.__data__,Q))&&Ke.push(Zt)}),We=pt.ease,He=pt.duration}function It(Rt){for(var Pt=Rt/He,Vt=We(Pt),Dt=Ke.length;Dt>0;)Ke[--Dt].call(F,Vt);if(Pt>=1)return pt.event&&pt.event.end.call(F,F.__data__,Q),--nt.count?delete nt[de]:delete F[ie],1}pt||(Ce=xe.time,Ue=rn(function(Rt){var Pt=pt.delay;if(Ue.t=Pt+Ce,Pt<=Rt)return yt(Rt-Pt);Ue.c=yt},0,Ce),pt=nt[de]={tween:new m,time:Ce,timer:Ue,delay:xe.delay,duration:xe.duration,ease:xe.ease,index:Q},xe=null,++nt.count)}jr.call=pe.call,jr.empty=pe.empty,jr.node=pe.node,jr.size=pe.size,a.transition=function(F,Q){return F&&F.transition?fs?F.transition(Q):F:a.selection().transition(F)},a.transition.prototype=jr,jr.select=function(F){var Q,ie,de,xe=this.id,Ce=this.namespace,Ue=[];F=ge(F);for(var He=-1,We=this.length;++He<We;){Ue.push(Q=[]);for(var Ke=this[He],nt=-1,pt=Ke.length;++nt<pt;)(de=Ke[nt])&&(ie=F.call(de,de.__data__,nt,He))?("__data__"in de&&(ie.__data__=de.__data__),Ws(ie,nt,Ce,xe,de[Ce][xe]),Q.push(ie)):Q.push(null)}return ba(Ue,Ce,xe)},jr.selectAll=function(F){var Q,ie,de,xe,Ce,Ue=this.id,He=this.namespace,We=[];F=we(F);for(var Ke=-1,nt=this.length;++Ke<nt;)for(var pt=this[Ke],yt=-1,It=pt.length;++yt<It;)if(de=pt[yt]){Ce=de[He][Ue],ie=F.call(de,de.__data__,yt,Ke),We.push(Q=[]);for(var Rt=-1,Pt=ie.length;++Rt<Pt;)(xe=ie[Rt])&&Ws(xe,Rt,He,Ue,Ce),Q.push(xe)}return ba(We,He,Ue)},jr.filter=function(F){var Q,ie,de=[];typeof F!="function"&&(F=ce(F));for(var xe=0,Ce=this.length;xe<Ce;xe++){de.push(Q=[]);for(var Ue,He=0,We=(Ue=this[xe]).length;He<We;He++)(ie=Ue[He])&&F.call(ie,ie.__data__,He,xe)&&Q.push(ie)}return ba(de,this.namespace,this.id)},jr.tween=function(F,Q){var ie=this.id,de=this.namespace;return arguments.length<2?this.node()[de][ie].tween.get(F):ye(this,Q==null?function(xe){xe[de][ie].tween.remove(F)}:function(xe){xe[de][ie].tween.set(F,Q)})},jr.attr=function(F,Q){if(arguments.length<2){for(Q in F)this.attr(Q,F[Q]);return this}var ie=F=="transform"?Qo:wo,de=a.ns.qualify(F);function xe(){this.removeAttribute(de)}function Ce(){this.removeAttributeNS(de.space,de.local)}return Eo(this,"attr."+F,Q,de.local?function(Ue){return Ue==null?Ce:(Ue+="",function(){var He,We=this.getAttributeNS(de.space,de.local);return We!==Ue&&(He=ie(We,Ue),function(Ke){this.setAttributeNS(de.space,de.local,He(Ke))})})}:function(Ue){return Ue==null?xe:(Ue+="",function(){var He,We=this.getAttribute(de);return We!==Ue&&(He=ie(We,Ue),function(Ke){this.setAttribute(de,He(Ke))})})})},jr.attrTween=function(F,Q){var ie=a.ns.qualify(F);return this.tween("attr."+F,ie.local?function(de,xe){var Ce=Q.call(this,de,xe,this.getAttributeNS(ie.space,ie.local));return Ce&&function(Ue){this.setAttributeNS(ie.space,ie.local,Ce(Ue))}}:function(de,xe){var Ce=Q.call(this,de,xe,this.getAttribute(ie));return Ce&&function(Ue){this.setAttribute(ie,Ce(Ue))}})},jr.style=function(F,Q,ie){var de=arguments.length;if(de<3){if(typeof F!="string"){for(ie in de<2&&(Q=""),F)this.style(ie,F[ie],Q);return this}ie=""}function xe(){this.style.removeProperty(F)}return Eo(this,"style."+F,Q,function(Ce){return Ce==null?xe:(Ce+="",function(){var Ue,He=t(this).getComputedStyle(this,null).getPropertyValue(F);return He!==Ce&&(Ue=wo(He,Ce),function(We){this.style.setProperty(F,Ue(We),ie)})})})},jr.styleTween=function(F,Q,ie){return arguments.length<3&&(ie=""),this.tween("style."+F,function(de,xe){var Ce=Q.call(this,de,xe,t(this).getComputedStyle(this,null).getPropertyValue(F));return Ce&&function(Ue){this.style.setProperty(F,Ce(Ue),ie)}})},jr.text=function(F){return Eo(this,"text",F,Va)},jr.remove=function(){var F=this.namespace;return this.each("end.transition",function(){var Q;this[F].count<2&&(Q=this.parentNode)&&Q.removeChild(this)})},jr.ease=function(F){var Q=this.id,ie=this.namespace;return arguments.length<1?this.node()[ie][Q].ease:(typeof F!="function"&&(F=a.ease.apply(a,arguments)),ye(this,function(de){de[ie][Q].ease=F}))},jr.delay=function(F){var Q=this.id,ie=this.namespace;return arguments.length<1?this.node()[ie][Q].delay:ye(this,typeof F=="function"?function(de,xe,Ce){de[ie][Q].delay=+F.call(de,de.__data__,xe,Ce)}:(F=+F,function(de){de[ie][Q].delay=F}))},jr.duration=function(F){var Q=this.id,ie=this.namespace;return arguments.length<1?this.node()[ie][Q].duration:ye(this,typeof F=="function"?function(de,xe,Ce){de[ie][Q].duration=Math.max(1,F.call(de,de.__data__,xe,Ce))}:(F=Math.max(1,F),function(de){de[ie][Q].duration=F}))},jr.each=function(F,Q){var ie=this.id,de=this.namespace;if(arguments.length<2){var xe=hs,Ce=fs;try{fs=ie,ye(this,function(Ue,He,We){hs=Ue[de][ie],F.call(Ue,Ue.__data__,He,We)})}finally{hs=xe,fs=Ce}}else ye(this,function(Ue){var He=Ue[de][ie];(He.event||(He.event=a.dispatch("start","end","interrupt"))).on(F,Q)});return this},jr.transition=function(){for(var F,Q,ie,de=this.id,xe=++ra,Ce=this.namespace,Ue=[],He=0,We=this.length;He<We;He++){Ue.push(F=[]);for(var Ke,nt=0,pt=(Ke=this[He]).length;nt<pt;nt++)(Q=Ke[nt])&&Ws(Q,nt,Ce,xe,{time:(ie=Q[Ce][de]).time,ease:ie.ease,delay:ie.delay+ie.duration,duration:ie.duration}),F.push(Q)}return ba(Ue,Ce,xe)},a.svg.axis=function(){var F,Q=a.scale.linear(),ie=Ds,de=6,xe=6,Ce=3,Ue=[10],He=null;function We(Ke){Ke.each(function(){var nt,pt=a.select(this),yt=this.__chart__||Q,It=this.__chart__=Q.copy(),Rt=He??(It.ticks?It.ticks.apply(It,Ue):It.domain()),Pt=F??(It.tickFormat?It.tickFormat.apply(It,Ue):I),Vt=pt.selectAll(".tick").data(Rt,It),Dt=Vt.enter().insert("g",".domain").attr("class","tick").style("opacity",ut),sn=a.transition(Vt.exit()).style("opacity",ut).remove(),Kt=a.transition(Vt.order()).style("opacity",1),Zt=Math.max(de,0)+Ce,xn=Ho(It),_n=pt.selectAll(".domain").data([0]),jn=(_n.enter().append("path").attr("class","domain"),a.transition(_n));Dt.append("line"),Dt.append("text");var Un,Wn,er,fr,cr=Dt.select("line"),vr=Kt.select("line"),kr=Vt.select("text").text(Pt),Br=Dt.select("text"),qn=Kt.select("text"),ur=ie==="top"||ie==="left"?-1:1;if(ie==="bottom"||ie==="top"?(nt=z,Un="x",er="y",Wn="x2",fr="y2",kr.attr("dy",ur<0?"0em":".71em").style("text-anchor","middle"),jn.attr("d","M"+xn[0]+","+ur*xe+"V0H"+xn[1]+"V"+ur*xe)):(nt=U,Un="y",er="x",Wn="y2",fr="x2",kr.attr("dy",".32em").style("text-anchor",ur<0?"end":"start"),jn.attr("d","M"+ur*xe+","+xn[0]+"H0V"+xn[1]+"H"+ur*xe)),cr.attr(fr,ur*de),Br.attr(er,ur*Zt),vr.attr(Wn,0).attr(fr,ur*de),qn.attr(Un,0).attr(er,ur*Zt),It.rangeBand){var mr=It,Mr=mr.rangeBand()/2;yt=It=function(Dr){return mr(Dr)+Mr}}else yt.rangeBand?yt=It:sn.call(nt,It,yt);Dt.call(nt,yt,It),Kt.call(nt,It,It)})}return We.scale=function(Ke){return arguments.length?(Q=Ke,We):Q},We.orient=function(Ke){return arguments.length?(ie=Ke in Yo?Ke+"":Ds,We):ie},We.ticks=function(){return arguments.length?(Ue=y(arguments),We):Ue},We.tickValues=function(Ke){return arguments.length?(He=Ke,We):He},We.tickFormat=function(Ke){return arguments.length?(F=Ke,We):F},We.tickSize=function(Ke){var nt=arguments.length;return nt?(de=+Ke,xe=+arguments[nt-1],We):de},We.innerTickSize=function(Ke){return arguments.length?(de=+Ke,We):de},We.outerTickSize=function(Ke){return arguments.length?(xe=+Ke,We):xe},We.tickPadding=function(Ke){return arguments.length?(Ce=+Ke,We):Ce},We.tickSubdivide=function(){return arguments.length&&We},We};var Ds="bottom",Yo={top:1,right:1,bottom:1,left:1};function z(F,Q,ie){F.attr("transform",function(de){var xe=Q(de);return"translate("+(isFinite(xe)?xe:ie(de))+",0)"})}function U(F,Q,ie){F.attr("transform",function(de){var xe=Q(de);return"translate(0,"+(isFinite(xe)?xe:ie(de))+")"})}a.svg.brush=function(){var F,Q,ie=Z(nt,"brushstart","brush","brushend"),de=null,xe=null,Ce=[0,0],Ue=[0,0],He=!0,We=!0,Ke=J[0];function nt(Pt){Pt.each(function(){var Vt=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",Rt).on("touchstart.brush",Rt),Dt=Vt.selectAll(".background").data([0]);Dt.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),Vt.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var sn=Vt.selectAll(".resize").data(Ke,I);sn.exit().remove(),sn.enter().append("g").attr("class",function(_n){return"resize "+_n}).style("cursor",function(_n){return j[_n]}).append("rect").attr("x",function(_n){return/[ew]$/.test(_n)?-3:null}).attr("y",function(_n){return/^[ns]/.test(_n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),sn.style("display",nt.empty()?"none":null);var Kt,Zt=a.transition(Vt),xn=a.transition(Dt);de&&(Kt=Ho(de),xn.attr("x",Kt[0]).attr("width",Kt[1]-Kt[0]),yt(Zt)),xe&&(Kt=Ho(xe),xn.attr("y",Kt[0]).attr("height",Kt[1]-Kt[0]),It(Zt)),pt(Zt)})}function pt(Pt){Pt.selectAll(".resize").attr("transform",function(Vt){return"translate("+Ce[+/e$/.test(Vt)]+","+Ue[+/^s/.test(Vt)]+")"})}function yt(Pt){Pt.select(".extent").attr("x",Ce[0]),Pt.selectAll(".extent,.n>rect,.s>rect").attr("width",Ce[1]-Ce[0])}function It(Pt){Pt.select(".extent").attr("y",Ue[0]),Pt.selectAll(".extent,.e>rect,.w>rect").attr("height",Ue[1]-Ue[0])}function Rt(){var Pt,Vt,Dt=this,sn=a.select(a.event.target),Kt=ie.of(Dt,arguments),Zt=a.select(Dt),xn=sn.datum(),_n=!/^(n|s)$/.test(xn)&&de,jn=!/^(e|w)$/.test(xn)&&xe,Un=sn.classed("extent"),Wn=_t(Dt),er=a.mouse(Dt),fr=a.select(t(Dt)).on("keydown.brush",function(){a.event.keyCode==32&&(Un||(Pt=null,er[0]-=Ce[1],er[1]-=Ue[1],Un=2),$())}).on("keyup.brush",function(){a.event.keyCode==32&&Un==2&&(er[0]+=Ce[1],er[1]+=Ue[1],Un=0,$())});if(a.event.changedTouches?fr.on("touchmove.brush",kr).on("touchend.brush",qn):fr.on("mousemove.brush",kr).on("mouseup.brush",qn),Zt.interrupt().selectAll("*").interrupt(),Un)er[0]=Ce[0]-er[0],er[1]=Ue[0]-er[1];else if(xn){var cr=+/w$/.test(xn),vr=+/^n/.test(xn);Vt=[Ce[1-cr]-er[0],Ue[1-vr]-er[1]],er[0]=Ce[cr],er[1]=Ue[vr]}else a.event.altKey&&(Pt=er.slice());function kr(){var ur=a.mouse(Dt),mr=!1;Vt&&(ur[0]+=Vt[0],ur[1]+=Vt[1]),Un||(a.event.altKey?(Pt||(Pt=[(Ce[0]+Ce[1])/2,(Ue[0]+Ue[1])/2]),er[0]=Ce[+(ur[0]<Pt[0])],er[1]=Ue[+(ur[1]<Pt[1])]):Pt=null),_n&&Br(ur,de,0)&&(yt(Zt),mr=!0),jn&&Br(ur,xe,1)&&(It(Zt),mr=!0),mr&&(pt(Zt),Kt({type:"brush",mode:Un?"move":"resize"}))}function Br(ur,mr,Mr){var Dr,Hr,Jr=Ho(mr),ai=Jr[0],wi=Jr[1],Ti=er[Mr],oi=Mr?Ue:Ce,Hi=oi[1]-oi[0];if(Un&&(ai-=Ti,wi-=Hi+Ti),Dr=(Mr?We:He)?Math.max(ai,Math.min(wi,ur[Mr])):ur[Mr],Un?Hr=(Dr+=Ti)+Hi:(Pt&&(Ti=Math.max(ai,Math.min(wi,2*Pt[Mr]-Dr))),Ti<Dr?(Hr=Dr,Dr=Ti):Hr=Ti),oi[0]!=Dr||oi[1]!=Hr)return Mr?Q=null:F=null,oi[0]=Dr,oi[1]=Hr,!0}function qn(){kr(),Zt.style("pointer-events","all").selectAll(".resize").style("display",nt.empty()?"none":null),a.select("body").style("cursor",null),fr.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),Wn(),Kt({type:"brushend"})}Zt.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",sn.style("cursor")),Kt({type:"brushstart"}),kr()}return nt.event=function(Pt){Pt.each(function(){var Vt=ie.of(this,arguments),Dt={x:Ce,y:Ue,i:F,j:Q},sn=this.__chart__||Dt;this.__chart__=Dt,fs?a.select(this).transition().each("start.brush",function(){F=sn.i,Q=sn.j,Ce=sn.x,Ue=sn.y,Vt({type:"brushstart"})}).tween("brush:brush",function(){var Kt=Xi(Ce,Dt.x),Zt=Xi(Ue,Dt.y);return F=Q=null,function(xn){Ce=Dt.x=Kt(xn),Ue=Dt.y=Zt(xn),Vt({type:"brush",mode:"resize"})}}).each("end.brush",function(){F=Dt.i,Q=Dt.j,Vt({type:"brush",mode:"resize"}),Vt({type:"brushend"})}):(Vt({type:"brushstart"}),Vt({type:"brush",mode:"resize"}),Vt({type:"brushend"}))})},nt.x=function(Pt){return arguments.length?(Ke=J[!(de=Pt)<<1|!xe],nt):de},nt.y=function(Pt){return arguments.length?(Ke=J[!de<<1|!(xe=Pt)],nt):xe},nt.clamp=function(Pt){return arguments.length?(de&&xe?(He=!!Pt[0],We=!!Pt[1]):de?He=!!Pt:xe&&(We=!!Pt),nt):de&&xe?[He,We]:de?He:xe?We:null},nt.extent=function(Pt){var Vt,Dt,sn,Kt,Zt;return arguments.length?(de&&(Vt=Pt[0],Dt=Pt[1],xe&&(Vt=Vt[0],Dt=Dt[0]),F=[Vt,Dt],de.invert&&(Vt=de(Vt),Dt=de(Dt)),Dt<Vt&&(Zt=Vt,Vt=Dt,Dt=Zt),Vt==Ce[0]&&Dt==Ce[1]||(Ce=[Vt,Dt])),xe&&(sn=Pt[0],Kt=Pt[1],de&&(sn=sn[1],Kt=Kt[1]),Q=[sn,Kt],xe.invert&&(sn=xe(sn),Kt=xe(Kt)),Kt<sn&&(Zt=sn,sn=Kt,Kt=Zt),sn==Ue[0]&&Kt==Ue[1]||(Ue=[sn,Kt])),nt):(de&&(F?(Vt=F[0],Dt=F[1]):(Vt=Ce[0],Dt=Ce[1],de.invert&&(Vt=de.invert(Vt),Dt=de.invert(Dt)),Dt<Vt&&(Zt=Vt,Vt=Dt,Dt=Zt))),xe&&(Q?(sn=Q[0],Kt=Q[1]):(sn=Ue[0],Kt=Ue[1],xe.invert&&(sn=xe.invert(sn),Kt=xe.invert(Kt)),Kt<sn&&(Zt=sn,sn=Kt,Kt=Zt))),de&&xe?[[Vt,sn],[Dt,Kt]]:de?[Vt,Dt]:xe&&[sn,Kt])},nt.clear=function(){return nt.empty()||(Ce=[0,0],Ue=[0,0],F=Q=null),nt},nt.empty=function(){return!!de&&Ce[0]==Ce[1]||!!xe&&Ue[0]==Ue[1]},a.rebind(nt,ie,"on")};var j={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},J=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function fe(F){return JSON.parse(F.responseText)}function Ae(F){var Q=d.createRange();return Q.selectNode(d.body),Q.createContextualFragment(F.responseText)}a.text=Zn(function(F){return F.responseText}),a.json=function(F,Q){return ir(F,"application/json",fe,Q)},a.html=function(F,Q){return ir(F,"text/html",Ae,Q)},a.xml=Zn(function(F){return F.responseXML}),(k=typeof(M=a)=="function"?M.call(O,e,O,Y):M)===void 0||(Y.exports=k)}).apply(self)},88294:function(Y,O,e){Y.exports=e(62849)},62849:function(Y,O,e){var M=e(91358),k=e(53435),a=e(18863),_=e(21527),y=e(71299),d=e(46775),s=e(30120),t=e(64941),i=e(90660),r=e(27084);function n(l,o){for(var u=o[0],p=o[1],c=1/(o[2]-u),b=1/(o[3]-p),g=new Array(l.length),h=0,x=l.length/2;h<x;h++)g[2*h]=k((l[2*h]-u)*c,0,1),g[2*h+1]=k((l[2*h+1]-p)*b,0,1);return g}Y.exports=function(l,o){o||(o={}),l=s(l,"float64"),o=y(o,{bounds:"range bounds dataBox databox",maxDepth:"depth maxDepth maxdepth level maxLevel maxlevel levels",dtype:"type dtype format out dst output destination"});var u=d(o.maxDepth,255),p=d(o.bounds,_(l,2));p[0]===p[2]&&p[2]++,p[1]===p[3]&&p[3]++;var c,b=n(l,p),g=l.length>>>1;o.dtype||(o.dtype="array"),typeof o.dtype=="string"?c=new(i(o.dtype))(g):o.dtype&&(c=o.dtype,Array.isArray(c)&&(c.length=g));for(var h=0;h<g;++h)c[h]=h;var x=[],v=[],m=[],w=[];(function R(G,I,H,N,B,V){if(!N.length)return null;var q=x[B]||(x[B]=[]),te=m[B]||(m[B]=[]),$=v[B]||(v[B]=[]),K=q.length;if(++B>u||V>1073741824){for(var Z=0;Z<N.length;Z++)q.push(N[Z]),te.push(V),$.push(null,null,null,null);return K}if(q.push(N[0]),te.push(V),N.length<=1)return $.push(null,null,null,null),K;for(var X=.5*H,ee=G+X,ne=I+X,re=[],ae=[],ue=[],pe=[],ge=1,we=N.length;ge<we;ge++){var me=N[ge],ve=b[2*me],Ie=b[2*me+1];ve<ee?Ie<ne?re.push(me):ae.push(me):Ie<ne?ue.push(me):pe.push(me)}return V<<=2,$.push(R(G,I,X,re,B,V),R(G,ne,X,ae,B,V+1),R(ee,I,X,ue,B,V+2),R(ee,ne,X,pe,B,V+3)),K})(0,0,1,c,0,1);for(var f=0,S=0;S<x.length;S++){var T=x[S];if(c.set)c.set(T,f);else for(var E=0,L=T.length;E<L;E++)c[E+f]=T[E];var C=f+x[S].length;w[S]=[f,C],f=C}return c.range=function(){for(var R,G=[],I=arguments.length;I--;)G[I]=arguments[I];if(t(G[G.length-1])){var H=G.pop();G.length||H.x==null&&H.l==null&&H.left==null||(G=[H],R={}),R=y(H,{level:"level maxLevel",d:"d diam diameter r radius px pxSize pixel pixelSize maxD size minSize",lod:"lod details ranges offsets"})}else R={};G.length||(G=p);var N,B=a.apply(void 0,G),V=[Math.min(B.x,B.x+B.width),Math.min(B.y,B.y+B.height),Math.max(B.x,B.x+B.width),Math.max(B.y,B.y+B.height)],q=V[0],te=V[1],$=V[2],K=V[3],Z=n([q,te,$,K],p),X=Z[0],ee=Z[1],ne=Z[2],re=Z[3],ae=d(R.level,x.length);if(R.d!=null&&(typeof R.d=="number"?N=[R.d,R.d]:R.d.length&&(N=R.d),ae=Math.min(Math.max(Math.ceil(-r(Math.abs(N[0])/(p[2]-p[0]))),Math.ceil(-r(Math.abs(N[1])/(p[3]-p[1])))),ae)),ae=Math.min(ae,x.length),R.lod)return function(pe,ge,we,me,ve){for(var Ie=[],Se=0;Se<ve;Se++){var ke=m[Se],se=w[Se][0],oe=P(pe,ge,Se),he=P(we,me,Se),Le=M.ge(ke,oe),Me=M.gt(ke,he,Le,ke.length-1);Ie[Se]=[Le+se,Me+se]}return Ie}(X,ee,ne,re,ae);var ue=[];return function pe(ge,we,me,ve,Ie,Se){if(Ie!==null&&Se!==null&&!(X>ge+me||ee>we+me||ne<ge||re<we||ve>=ae||Ie===Se)){var ke=x[ve];Se===void 0&&(Se=ke.length);for(var se=Ie;se<Se;se++){var oe=ke[se],he=l[2*oe],Le=l[2*oe+1];he>=q&&he<=$&&Le>=te&&Le<=K&&ue.push(oe)}var Me=v[ve],_e=Me[4*Ie+0],De=Me[4*Ie+1],Ne=Me[4*Ie+2],ce=Me[4*Ie+3],Te=function(Be,Fe){for(var Ge=null,Ze=0;Ge===null;)if(Ge=Be[4*Fe+Ze],++Ze>Be.length)return null;return Ge}(Me,Ie+1),ye=.5*me,Oe=ve+1;pe(ge,we,ye,Oe,_e,De||Ne||ce||Te),pe(ge,we+ye,ye,Oe,De,Ne||ce||Te),pe(ge+ye,we,ye,Oe,Ne,ce||Te),pe(ge+ye,we+ye,ye,Oe,ce,Te)}}(0,0,1,0,0,1),ue},c;function P(R,G,I){for(var H=1,N=.5,B=.5,V=.5,q=0;q<I;q++)H<<=2,H+=R<N?G<B?0:1:G<B?2:3,V*=.5,N+=R<N?-V:V,B+=G<B?-V:V;return H}}},30774:function(Y,O,e){Object.defineProperty(O,"__esModule",{value:!0});var M=e(60302),k=6378137;function a(d){var s=0;if(d&&d.length>0){s+=Math.abs(_(d[0]));for(var t=1;t<d.length;t++)s-=Math.abs(_(d[t]))}return s}function _(d){var s,t,i,r,n,l,o=0,u=d.length;if(u>2){for(l=0;l<u;l++)l===u-2?(i=u-2,r=u-1,n=0):l===u-1?(i=u-1,r=0,n=1):(i=l,r=l+1,n=l+2),s=d[i],t=d[r],o+=(y(d[n][0])-y(s[0]))*Math.sin(y(t[1]));o=o*k*k/2}return o}function y(d){return d*Math.PI/180}O.default=function(d){return M.geomReduce(d,function(s,t){return s+function(i){var r,n=0;switch(i.type){case"Polygon":return a(i.coordinates);case"MultiPolygon":for(r=0;r<i.coordinates.length;r++)n+=a(i.coordinates[r]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(t)},0)}},23132:function(Y,O){function e(l,o,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=o||{},p.geometry=l,p}function M(l,o,u){if(u===void 0&&(u={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(l[0])||!n(l[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:l},o,u)}function k(l,o,u){u===void 0&&(u={});for(var p=0,c=l;p<c.length;p++){var b=c[p];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<b[b.length-1].length;g++)if(b[b.length-1][g]!==b[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},o,u)}function a(l,o,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},o,u)}function _(l,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=l,u}function y(l,o,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},o,u)}function d(l,o,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},o,u)}function s(l,o,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},o,u)}function t(l,o){o===void 0&&(o="kilometers");var u=O.factors[o];if(!u)throw new Error(o+" units is invalid");return l*u}function i(l,o){o===void 0&&(o="kilometers");var u=O.factors[o];if(!u)throw new Error(o+" units is invalid");return l/u}function r(l){return l%(2*Math.PI)*180/Math.PI}function n(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}Object.defineProperty(O,"__esModule",{value:!0}),O.earthRadius=63710088e-1,O.factors={centimeters:100*O.earthRadius,centimetres:100*O.earthRadius,degrees:O.earthRadius/111325,feet:3.28084*O.earthRadius,inches:39.37*O.earthRadius,kilometers:O.earthRadius/1e3,kilometres:O.earthRadius/1e3,meters:O.earthRadius,metres:O.earthRadius,miles:O.earthRadius/1609.344,millimeters:1e3*O.earthRadius,millimetres:1e3*O.earthRadius,nauticalmiles:O.earthRadius/1852,radians:1,yards:1.0936*O.earthRadius},O.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/O.earthRadius,yards:1.0936133},O.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},O.feature=e,O.geometry=function(l,o,u){switch(l){case"Point":return M(o).geometry;case"LineString":return a(o).geometry;case"Polygon":return k(o).geometry;case"MultiPoint":return d(o).geometry;case"MultiLineString":return y(o).geometry;case"MultiPolygon":return s(o).geometry;default:throw new Error(l+" is invalid")}},O.point=M,O.points=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return M(p,o)}),u)},O.polygon=k,O.polygons=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return k(p,o)}),u)},O.lineString=a,O.lineStrings=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return a(p,o)}),u)},O.featureCollection=_,O.multiLineString=y,O.multiPoint=d,O.multiPolygon=s,O.geometryCollection=function(l,o,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},o,u)},O.round=function(l,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,o||0);return Math.round(l*u)/u},O.radiansToLength=t,O.lengthToRadians=i,O.lengthToDegrees=function(l,o){return r(i(l,o))},O.bearingToAzimuth=function(l){var o=l%360;return o<0&&(o+=360),o},O.radiansToDegrees=r,O.degreesToRadians=function(l){return l%360*Math.PI/180},O.convertLength=function(l,o,u){if(o===void 0&&(o="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(i(l,o),u)},O.convertArea=function(l,o,u){if(o===void 0&&(o="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var p=O.areaFactors[o];if(!p)throw new Error("invalid original units");var c=O.areaFactors[u];if(!c)throw new Error("invalid final units");return l/p*c},O.isNumber=n,O.isObject=function(l){return!!l&&l.constructor===Object},O.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(o){if(!n(o))throw new Error("bbox must only contain numbers")})},O.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")}},60302:function(Y,O,e){Object.defineProperty(O,"__esModule",{value:!0});var M=e(23132);function k(i,r,n){if(i!==null)for(var l,o,u,p,c,b,g,h,x=0,v=0,m=i.type,w=m==="FeatureCollection",f=m==="Feature",S=w?i.features.length:1,T=0;T<S;T++){c=(h=!!(g=w?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var L=0,C=0;if((p=h?g.geometries[E]:g)!==null){b=p.coordinates;var P=p.type;switch(x=!n||P!=="Polygon"&&P!=="MultiPolygon"?0:1,P){case null:break;case"Point":if(r(b,v,T,L,C)===!1)return!1;v++,L++;break;case"LineString":case"MultiPoint":for(l=0;l<b.length;l++){if(r(b[l],v,T,L,C)===!1)return!1;v++,P==="MultiPoint"&&L++}P==="LineString"&&L++;break;case"Polygon":case"MultiLineString":for(l=0;l<b.length;l++){for(o=0;o<b[l].length-x;o++){if(r(b[l][o],v,T,L,C)===!1)return!1;v++}P==="MultiLineString"&&L++,P==="Polygon"&&C++}P==="Polygon"&&L++;break;case"MultiPolygon":for(l=0;l<b.length;l++){for(C=0,o=0;o<b[l].length;o++){for(u=0;u<b[l][o].length-x;u++){if(r(b[l][o][u],v,T,L,C)===!1)return!1;v++}C++}L++}break;case"GeometryCollection":for(l=0;l<p.geometries.length;l++)if(k(p.geometries[l],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function _(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function y(i,r){var n,l,o,u,p,c,b,g,h,x,v=0,m=i.type==="FeatureCollection",w=i.type==="Feature",f=m?i.features.length:1;for(n=0;n<f;n++){for(c=m?i.features[n].geometry:w?i.geometry:i,g=m?i.features[n].properties:w?i.properties:{},h=m?i.features[n].bbox:w?i.bbox:void 0,x=m?i.features[n].id:w?i.id:void 0,p=(b=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,o=0;o<p;o++)if((u=b?c.geometries[o]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,v,g,h,x)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(r(u.geometries[l],v,g,h,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,v,g,h,x)===!1)return!1;v++}}function d(i,r){y(i,function(n,l,o,u,p){var c,b=n===null?null:n.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return r(M.feature(n,o,{bbox:u,id:p}),l,0)!==!1&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<n.coordinates.length;g++){var h={type:c,coordinates:n.coordinates[g]};if(r(M.feature(h,o),l,g)===!1)return!1}})}function s(i,r){d(i,function(n,l,o){var u=0;if(n.geometry){var p=n.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var c,b=0,g=0,h=0;return k(n,function(x,v,m,w,f){if(c===void 0||l>b||w>g||f>h)return c=x,b=l,g=w,h=f,void(u=0);var S=M.lineString([c,x],n.properties);if(r(S,l,o,f,u)===!1)return!1;u++,c=x})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");d(i,function(n,l,o){if(n.geometry!==null){var u=n.geometry.type,p=n.geometry.coordinates;switch(u){case"LineString":if(r(n,l,o,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(r(M.lineString(p[c],n.properties),l,o,c)===!1)return!1}}})}O.coordEach=k,O.coordReduce=function(i,r,n,l){var o=n;return k(i,function(u,p,c,b,g){o=p===0&&n===void 0?u:r(o,u,p,c,b,g)},l),o},O.propEach=a,O.propReduce=function(i,r,n){var l=n;return a(i,function(o,u){l=u===0&&n===void 0?o:r(l,o,u)}),l},O.featureEach=_,O.featureReduce=function(i,r,n){var l=n;return _(i,function(o,u){l=u===0&&n===void 0?o:r(l,o,u)}),l},O.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},O.geomEach=y,O.geomReduce=function(i,r,n){var l=n;return y(i,function(o,u,p,c,b){l=u===0&&n===void 0?o:r(l,o,u,p,c,b)}),l},O.flattenEach=d,O.flattenReduce=function(i,r,n){var l=n;return d(i,function(o,u,p){l=u===0&&p===0&&n===void 0?o:r(l,o,u,p)}),l},O.segmentEach=s,O.segmentReduce=function(i,r,n){var l=n,o=!1;return s(i,function(u,p,c,b,g){l=o===!1&&n===void 0?u:r(l,u,p,c,b,g),o=!0}),l},O.lineEach=t,O.lineReduce=function(i,r,n){var l=n;return t(i,function(o,u,p,c){l=u===0&&n===void 0?o:r(l,o,u,p,c)}),l},O.findSegment=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,l=r.featureIndex||0,o=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,n=i.features[l].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var b=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=b.length+p-1),M.lineString([b[p],b[p+1]],c,r);case"Polygon":return u<0&&(u=b.length+u),p<0&&(p=b[u].length+p-1),M.lineString([b[u][p],b[u][p+1]],c,r);case"MultiLineString":return o<0&&(o=b.length+o),p<0&&(p=b[o].length+p-1),M.lineString([b[o][p],b[o][p+1]],c,r);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),p<0&&(p=b[o][u].length-p-1),M.lineString([b[o][u][p],b[o][u][p+1]],c,r)}throw new Error("geojson is invalid")},O.findPoint=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,l=r.featureIndex||0,o=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,n=i.features[l].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var b=n.coordinates;switch(n.type){case"Point":return M.point(b,c,r);case"MultiPoint":return o<0&&(o=b.length+o),M.point(b[o],c,r);case"LineString":return p<0&&(p=b.length+p),M.point(b[p],c,r);case"Polygon":return u<0&&(u=b.length+u),p<0&&(p=b[u].length+p),M.point(b[u][p],c,r);case"MultiLineString":return o<0&&(o=b.length+o),p<0&&(p=b[o].length+p),M.point(b[o][p],c,r);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),p<0&&(p=b[o][u].length-p),M.point(b[o][u][p],c,r)}throw new Error("geojson is invalid")}},85268:function(Y,O,e){Object.defineProperty(O,"__esModule",{value:!0});var M=e(27138);function k(a){var _=[1/0,1/0,-1/0,-1/0];return M.coordEach(a,function(y){_[0]>y[0]&&(_[0]=y[0]),_[1]>y[1]&&(_[1]=y[1]),_[2]<y[0]&&(_[2]=y[0]),_[3]<y[1]&&(_[3]=y[1])}),_}k.default=k,O.default=k},94228:function(Y,O){function e(l,o,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=o||{},p.geometry=l,p}function M(l,o,u){if(u===void 0&&(u={}),!l)throw new Error("coordinates is required");if(!Array.isArray(l))throw new Error("coordinates must be an Array");if(l.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!n(l[0])||!n(l[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:l},o,u)}function k(l,o,u){u===void 0&&(u={});for(var p=0,c=l;p<c.length;p++){var b=c[p];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<b[b.length-1].length;g++)if(b[b.length-1][g]!==b[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},o,u)}function a(l,o,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},o,u)}function _(l,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=l,u}function y(l,o,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},o,u)}function d(l,o,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},o,u)}function s(l,o,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},o,u)}function t(l,o){o===void 0&&(o="kilometers");var u=O.factors[o];if(!u)throw new Error(o+" units is invalid");return l*u}function i(l,o){o===void 0&&(o="kilometers");var u=O.factors[o];if(!u)throw new Error(o+" units is invalid");return l/u}function r(l){return l%(2*Math.PI)*180/Math.PI}function n(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)}Object.defineProperty(O,"__esModule",{value:!0}),O.earthRadius=63710088e-1,O.factors={centimeters:100*O.earthRadius,centimetres:100*O.earthRadius,degrees:O.earthRadius/111325,feet:3.28084*O.earthRadius,inches:39.37*O.earthRadius,kilometers:O.earthRadius/1e3,kilometres:O.earthRadius/1e3,meters:O.earthRadius,metres:O.earthRadius,miles:O.earthRadius/1609.344,millimeters:1e3*O.earthRadius,millimetres:1e3*O.earthRadius,nauticalmiles:O.earthRadius/1852,radians:1,yards:1.0936*O.earthRadius},O.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/O.earthRadius,yards:1.0936133},O.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},O.feature=e,O.geometry=function(l,o,u){switch(l){case"Point":return M(o).geometry;case"LineString":return a(o).geometry;case"Polygon":return k(o).geometry;case"MultiPoint":return d(o).geometry;case"MultiLineString":return y(o).geometry;case"MultiPolygon":return s(o).geometry;default:throw new Error(l+" is invalid")}},O.point=M,O.points=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return M(p,o)}),u)},O.polygon=k,O.polygons=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return k(p,o)}),u)},O.lineString=a,O.lineStrings=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return a(p,o)}),u)},O.featureCollection=_,O.multiLineString=y,O.multiPoint=d,O.multiPolygon=s,O.geometryCollection=function(l,o,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},o,u)},O.round=function(l,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,o||0);return Math.round(l*u)/u},O.radiansToLength=t,O.lengthToRadians=i,O.lengthToDegrees=function(l,o){return r(i(l,o))},O.bearingToAzimuth=function(l){var o=l%360;return o<0&&(o+=360),o},O.radiansToDegrees=r,O.degreesToRadians=function(l){return l%360*Math.PI/180},O.convertLength=function(l,o,u){if(o===void 0&&(o="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(i(l,o),u)},O.convertArea=function(l,o,u){if(o===void 0&&(o="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var p=O.areaFactors[o];if(!p)throw new Error("invalid original units");var c=O.areaFactors[u];if(!c)throw new Error("invalid final units");return l/p*c},O.isNumber=n,O.isObject=function(l){return!!l&&l.constructor===Object},O.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(o){if(!n(o))throw new Error("bbox must only contain numbers")})},O.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")}},27138:function(Y,O,e){Object.defineProperty(O,"__esModule",{value:!0});var M=e(94228);function k(i,r,n){if(i!==null)for(var l,o,u,p,c,b,g,h,x=0,v=0,m=i.type,w=m==="FeatureCollection",f=m==="Feature",S=w?i.features.length:1,T=0;T<S;T++){c=(h=!!(g=w?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var L=0,C=0;if((p=h?g.geometries[E]:g)!==null){b=p.coordinates;var P=p.type;switch(x=!n||P!=="Polygon"&&P!=="MultiPolygon"?0:1,P){case null:break;case"Point":if(r(b,v,T,L,C)===!1)return!1;v++,L++;break;case"LineString":case"MultiPoint":for(l=0;l<b.length;l++){if(r(b[l],v,T,L,C)===!1)return!1;v++,P==="MultiPoint"&&L++}P==="LineString"&&L++;break;case"Polygon":case"MultiLineString":for(l=0;l<b.length;l++){for(o=0;o<b[l].length-x;o++){if(r(b[l][o],v,T,L,C)===!1)return!1;v++}P==="MultiLineString"&&L++,P==="Polygon"&&C++}P==="Polygon"&&L++;break;case"MultiPolygon":for(l=0;l<b.length;l++){for(C=0,o=0;o<b[l].length;o++){for(u=0;u<b[l][o].length-x;u++){if(r(b[l][o][u],v,T,L,C)===!1)return!1;v++}C++}L++}break;case"GeometryCollection":for(l=0;l<p.geometries.length;l++)if(k(p.geometries[l],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function _(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function y(i,r){var n,l,o,u,p,c,b,g,h,x,v=0,m=i.type==="FeatureCollection",w=i.type==="Feature",f=m?i.features.length:1;for(n=0;n<f;n++){for(c=m?i.features[n].geometry:w?i.geometry:i,g=m?i.features[n].properties:w?i.properties:{},h=m?i.features[n].bbox:w?i.bbox:void 0,x=m?i.features[n].id:w?i.id:void 0,p=(b=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,o=0;o<p;o++)if((u=b?c.geometries[o]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,v,g,h,x)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(r(u.geometries[l],v,g,h,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,v,g,h,x)===!1)return!1;v++}}function d(i,r){y(i,function(n,l,o,u,p){var c,b=n===null?null:n.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return r(M.feature(n,o,{bbox:u,id:p}),l,0)!==!1&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<n.coordinates.length;g++){var h={type:c,coordinates:n.coordinates[g]};if(r(M.feature(h,o),l,g)===!1)return!1}})}function s(i,r){d(i,function(n,l,o){var u=0;if(n.geometry){var p=n.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var c,b=0,g=0,h=0;return k(n,function(x,v,m,w,f){if(c===void 0||l>b||w>g||f>h)return c=x,b=l,g=w,h=f,void(u=0);var S=M.lineString([c,x],n.properties);if(r(S,l,o,f,u)===!1)return!1;u++,c=x})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");d(i,function(n,l,o){if(n.geometry!==null){var u=n.geometry.type,p=n.geometry.coordinates;switch(u){case"LineString":if(r(n,l,o,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(r(M.lineString(p[c],n.properties),l,o,c)===!1)return!1}}})}O.coordEach=k,O.coordReduce=function(i,r,n,l){var o=n;return k(i,function(u,p,c,b,g){o=p===0&&n===void 0?u:r(o,u,p,c,b,g)},l),o},O.propEach=a,O.propReduce=function(i,r,n){var l=n;return a(i,function(o,u){l=u===0&&n===void 0?o:r(l,o,u)}),l},O.featureEach=_,O.featureReduce=function(i,r,n){var l=n;return _(i,function(o,u){l=u===0&&n===void 0?o:r(l,o,u)}),l},O.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},O.geomEach=y,O.geomReduce=function(i,r,n){var l=n;return y(i,function(o,u,p,c,b){l=u===0&&n===void 0?o:r(l,o,u,p,c,b)}),l},O.flattenEach=d,O.flattenReduce=function(i,r,n){var l=n;return d(i,function(o,u,p){l=u===0&&p===0&&n===void 0?o:r(l,o,u,p)}),l},O.segmentEach=s,O.segmentReduce=function(i,r,n){var l=n,o=!1;return s(i,function(u,p,c,b,g){l=o===!1&&n===void 0?u:r(l,u,p,c,b,g),o=!0}),l},O.lineEach=t,O.lineReduce=function(i,r,n){var l=n;return t(i,function(o,u,p,c){l=u===0&&n===void 0?o:r(l,o,u,p,c)}),l},O.findSegment=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,l=r.featureIndex||0,o=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,n=i.features[l].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var b=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=b.length+p-1),M.lineString([b[p],b[p+1]],c,r);case"Polygon":return u<0&&(u=b.length+u),p<0&&(p=b[u].length+p-1),M.lineString([b[u][p],b[u][p+1]],c,r);case"MultiLineString":return o<0&&(o=b.length+o),p<0&&(p=b[o].length+p-1),M.lineString([b[o][p],b[o][p+1]],c,r);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),p<0&&(p=b[o][u].length-p-1),M.lineString([b[o][u][p],b[o][u][p+1]],c,r)}throw new Error("geojson is invalid")},O.findPoint=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,l=r.featureIndex||0,o=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,n=i.features[l].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var b=n.coordinates;switch(n.type){case"Point":return M.point(b,c,r);case"MultiPoint":return o<0&&(o=b.length+o),M.point(b[o],c,r);case"LineString":return p<0&&(p=b.length+p),M.point(b[p],c,r);case"Polygon":return u<0&&(u=b.length+u),p<0&&(p=b[u].length+p),M.point(b[u][p],c,r);case"MultiLineString":return o<0&&(o=b.length+o),p<0&&(p=b[o].length+p),M.point(b[o][p],c,r);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),p<0&&(p=b[o][u].length-p),M.point(b[o][u][p],c,r)}throw new Error("geojson is invalid")}},29261:function(Y,O,e){Object.defineProperty(O,"__esModule",{value:!0});var M=e(88553),k=e(64182);O.default=function(a,_){_===void 0&&(_={});var y=0,d=0,s=0;return M.coordEach(a,function(t){y+=t[0],d+=t[1],s++}),k.point([y/s,d/s],_.properties)}},64182:function(Y,O){function e(l,o,u){u===void 0&&(u={});var p={type:"Feature"};return(u.id===0||u.id)&&(p.id=u.id),u.bbox&&(p.bbox=u.bbox),p.properties=o||{},p.geometry=l,p}function M(l,o,u){return u===void 0&&(u={}),e({type:"Point",coordinates:l},o,u)}function k(l,o,u){u===void 0&&(u={});for(var p=0,c=l;p<c.length;p++){var b=c[p];if(b.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var g=0;g<b[b.length-1].length;g++)if(b[b.length-1][g]!==b[0][g])throw new Error("First and last Position are not equivalent.")}return e({type:"Polygon",coordinates:l},o,u)}function a(l,o,u){if(u===void 0&&(u={}),l.length<2)throw new Error("coordinates must be an array of two or more positions");return e({type:"LineString",coordinates:l},o,u)}function _(l,o){o===void 0&&(o={});var u={type:"FeatureCollection"};return o.id&&(u.id=o.id),o.bbox&&(u.bbox=o.bbox),u.features=l,u}function y(l,o,u){return u===void 0&&(u={}),e({type:"MultiLineString",coordinates:l},o,u)}function d(l,o,u){return u===void 0&&(u={}),e({type:"MultiPoint",coordinates:l},o,u)}function s(l,o,u){return u===void 0&&(u={}),e({type:"MultiPolygon",coordinates:l},o,u)}function t(l,o){o===void 0&&(o="kilometers");var u=O.factors[o];if(!u)throw new Error(o+" units is invalid");return l*u}function i(l,o){o===void 0&&(o="kilometers");var u=O.factors[o];if(!u)throw new Error(o+" units is invalid");return l/u}function r(l){return l%(2*Math.PI)*180/Math.PI}function n(l){return!isNaN(l)&&l!==null&&!Array.isArray(l)&&!/^\s*$/.test(l)}Object.defineProperty(O,"__esModule",{value:!0}),O.earthRadius=63710088e-1,O.factors={centimeters:100*O.earthRadius,centimetres:100*O.earthRadius,degrees:O.earthRadius/111325,feet:3.28084*O.earthRadius,inches:39.37*O.earthRadius,kilometers:O.earthRadius/1e3,kilometres:O.earthRadius/1e3,meters:O.earthRadius,metres:O.earthRadius,miles:O.earthRadius/1609.344,millimeters:1e3*O.earthRadius,millimetres:1e3*O.earthRadius,nauticalmiles:O.earthRadius/1852,radians:1,yards:O.earthRadius/1.0936},O.unitsFactors={centimeters:100,centimetres:100,degrees:8982708286548395e-21,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:.0006213711922373339,millimeters:1e3,millimetres:1e3,nauticalmiles:.0005399568034557236,radians:1/O.earthRadius,yards:.91441111923921},O.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},O.feature=e,O.geometry=function(l,o,u){switch(l){case"Point":return M(o).geometry;case"LineString":return a(o).geometry;case"Polygon":return k(o).geometry;case"MultiPoint":return d(o).geometry;case"MultiLineString":return y(o).geometry;case"MultiPolygon":return s(o).geometry;default:throw new Error(l+" is invalid")}},O.point=M,O.points=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return M(p,o)}),u)},O.polygon=k,O.polygons=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return k(p,o)}),u)},O.lineString=a,O.lineStrings=function(l,o,u){return u===void 0&&(u={}),_(l.map(function(p){return a(p,o)}),u)},O.featureCollection=_,O.multiLineString=y,O.multiPoint=d,O.multiPolygon=s,O.geometryCollection=function(l,o,u){return u===void 0&&(u={}),e({type:"GeometryCollection",geometries:l},o,u)},O.round=function(l,o){if(o===void 0&&(o=0),o&&!(o>=0))throw new Error("precision must be a positive number");var u=Math.pow(10,o||0);return Math.round(l*u)/u},O.radiansToLength=t,O.lengthToRadians=i,O.lengthToDegrees=function(l,o){return r(i(l,o))},O.bearingToAzimuth=function(l){var o=l%360;return o<0&&(o+=360),o},O.radiansToDegrees=r,O.degreesToRadians=function(l){return l%360*Math.PI/180},O.convertLength=function(l,o,u){if(o===void 0&&(o="kilometers"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("length must be a positive number");return t(i(l,o),u)},O.convertArea=function(l,o,u){if(o===void 0&&(o="meters"),u===void 0&&(u="kilometers"),!(l>=0))throw new Error("area must be a positive number");var p=O.areaFactors[o];if(!p)throw new Error("invalid original units");var c=O.areaFactors[u];if(!c)throw new Error("invalid final units");return l/p*c},O.isNumber=n,O.isObject=function(l){return!!l&&l.constructor===Object},O.validateBBox=function(l){if(!l)throw new Error("bbox is required");if(!Array.isArray(l))throw new Error("bbox must be an Array");if(l.length!==4&&l.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");l.forEach(function(o){if(!n(o))throw new Error("bbox must only contain numbers")})},O.validateId=function(l){if(!l)throw new Error("id is required");if(["string","number"].indexOf(typeof l)===-1)throw new Error("id must be a number or a string")},O.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},O.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},O.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},O.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},O.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},O.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},O.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},88553:function(Y,O,e){Object.defineProperty(O,"__esModule",{value:!0});var M=e(64182);function k(i,r,n){if(i!==null)for(var l,o,u,p,c,b,g,h,x=0,v=0,m=i.type,w=m==="FeatureCollection",f=m==="Feature",S=w?i.features.length:1,T=0;T<S;T++){c=(h=!!(g=w?i.features[T].geometry:f?i.geometry:i)&&g.type==="GeometryCollection")?g.geometries.length:1;for(var E=0;E<c;E++){var L=0,C=0;if((p=h?g.geometries[E]:g)!==null){b=p.coordinates;var P=p.type;switch(x=!n||P!=="Polygon"&&P!=="MultiPolygon"?0:1,P){case null:break;case"Point":if(r(b,v,T,L,C)===!1)return!1;v++,L++;break;case"LineString":case"MultiPoint":for(l=0;l<b.length;l++){if(r(b[l],v,T,L,C)===!1)return!1;v++,P==="MultiPoint"&&L++}P==="LineString"&&L++;break;case"Polygon":case"MultiLineString":for(l=0;l<b.length;l++){for(o=0;o<b[l].length-x;o++){if(r(b[l][o],v,T,L,C)===!1)return!1;v++}P==="MultiLineString"&&L++,P==="Polygon"&&C++}P==="Polygon"&&L++;break;case"MultiPolygon":for(l=0;l<b.length;l++){for(C=0,o=0;o<b[l].length;o++){for(u=0;u<b[l][o].length-x;u++){if(r(b[l][o][u],v,T,L,C)===!1)return!1;v++}C++}L++}break;case"GeometryCollection":for(l=0;l<p.geometries.length;l++)if(k(p.geometries[l],r,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(i,r){var n;switch(i.type){case"FeatureCollection":for(n=0;n<i.features.length&&r(i.features[n].properties,n)!==!1;n++);break;case"Feature":r(i.properties,0)}}function _(i,r){if(i.type==="Feature")r(i,0);else if(i.type==="FeatureCollection")for(var n=0;n<i.features.length&&r(i.features[n],n)!==!1;n++);}function y(i,r){var n,l,o,u,p,c,b,g,h,x,v=0,m=i.type==="FeatureCollection",w=i.type==="Feature",f=m?i.features.length:1;for(n=0;n<f;n++){for(c=m?i.features[n].geometry:w?i.geometry:i,g=m?i.features[n].properties:w?i.properties:{},h=m?i.features[n].bbox:w?i.bbox:void 0,x=m?i.features[n].id:w?i.id:void 0,p=(b=!!c&&c.type==="GeometryCollection")?c.geometries.length:1,o=0;o<p;o++)if((u=b?c.geometries[o]:c)!==null)switch(u.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(r(u,v,g,h,x)===!1)return!1;break;case"GeometryCollection":for(l=0;l<u.geometries.length;l++)if(r(u.geometries[l],v,g,h,x)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(r(null,v,g,h,x)===!1)return!1;v++}}function d(i,r){y(i,function(n,l,o,u,p){var c,b=n===null?null:n.type;switch(b){case null:case"Point":case"LineString":case"Polygon":return r(M.feature(n,o,{bbox:u,id:p}),l,0)!==!1&&void 0}switch(b){case"MultiPoint":c="Point";break;case"MultiLineString":c="LineString";break;case"MultiPolygon":c="Polygon"}for(var g=0;g<n.coordinates.length;g++){var h={type:c,coordinates:n.coordinates[g]};if(r(M.feature(h,o),l,g)===!1)return!1}})}function s(i,r){d(i,function(n,l,o){var u=0;if(n.geometry){var p=n.geometry.type;if(p!=="Point"&&p!=="MultiPoint"){var c,b=0,g=0,h=0;return k(n,function(x,v,m,w,f){if(c===void 0||l>b||w>g||f>h)return c=x,b=l,g=w,h=f,void(u=0);var S=M.lineString([c,x],n.properties);if(r(S,l,o,f,u)===!1)return!1;u++,c=x})!==!1&&void 0}}})}function t(i,r){if(!i)throw new Error("geojson is required");d(i,function(n,l,o){if(n.geometry!==null){var u=n.geometry.type,p=n.geometry.coordinates;switch(u){case"LineString":if(r(n,l,o,0,0)===!1)return!1;break;case"Polygon":for(var c=0;c<p.length;c++)if(r(M.lineString(p[c],n.properties),l,o,c)===!1)return!1}}})}O.coordEach=k,O.coordReduce=function(i,r,n,l){var o=n;return k(i,function(u,p,c,b,g){o=p===0&&n===void 0?u:r(o,u,p,c,b,g)},l),o},O.propEach=a,O.propReduce=function(i,r,n){var l=n;return a(i,function(o,u){l=u===0&&n===void 0?o:r(l,o,u)}),l},O.featureEach=_,O.featureReduce=function(i,r,n){var l=n;return _(i,function(o,u){l=u===0&&n===void 0?o:r(l,o,u)}),l},O.coordAll=function(i){var r=[];return k(i,function(n){r.push(n)}),r},O.geomEach=y,O.geomReduce=function(i,r,n){var l=n;return y(i,function(o,u,p,c,b){l=u===0&&n===void 0?o:r(l,o,u,p,c,b)}),l},O.flattenEach=d,O.flattenReduce=function(i,r,n){var l=n;return d(i,function(o,u,p){l=u===0&&p===0&&n===void 0?o:r(l,o,u,p)}),l},O.segmentEach=s,O.segmentReduce=function(i,r,n){var l=n,o=!1;return s(i,function(u,p,c,b,g){l=o===!1&&n===void 0?u:r(l,u,p,c,b,g),o=!0}),l},O.lineEach=t,O.lineReduce=function(i,r,n){var l=n;return t(i,function(o,u,p,c){l=u===0&&n===void 0?o:r(l,o,u,p,c)}),l},O.findSegment=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,l=r.featureIndex||0,o=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.segmentIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,n=i.features[l].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var b=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return p<0&&(p=b.length+p-1),M.lineString([b[p],b[p+1]],c,r);case"Polygon":return u<0&&(u=b.length+u),p<0&&(p=b[u].length+p-1),M.lineString([b[u][p],b[u][p+1]],c,r);case"MultiLineString":return o<0&&(o=b.length+o),p<0&&(p=b[o].length+p-1),M.lineString([b[o][p],b[o][p+1]],c,r);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),p<0&&(p=b[o][u].length-p-1),M.lineString([b[o][u][p],b[o][u][p+1]],c,r)}throw new Error("geojson is invalid")},O.findPoint=function(i,r){if(r=r||{},!M.isObject(r))throw new Error("options is invalid");var n,l=r.featureIndex||0,o=r.multiFeatureIndex||0,u=r.geometryIndex||0,p=r.coordIndex||0,c=r.properties;switch(i.type){case"FeatureCollection":l<0&&(l=i.features.length+l),c=c||i.features[l].properties,n=i.features[l].geometry;break;case"Feature":c=c||i.properties,n=i.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=i;break;default:throw new Error("geojson is invalid")}if(n===null)return null;var b=n.coordinates;switch(n.type){case"Point":return M.point(b,c,r);case"MultiPoint":return o<0&&(o=b.length+o),M.point(b[o],c,r);case"LineString":return p<0&&(p=b.length+p),M.point(b[p],c,r);case"Polygon":return u<0&&(u=b.length+u),p<0&&(p=b[u].length+p),M.point(b[u][p],c,r);case"MultiLineString":return o<0&&(o=b.length+o),p<0&&(p=b[o].length+p),M.point(b[o][p],c,r);case"MultiPolygon":return o<0&&(o=b.length+o),u<0&&(u=b[o].length+u),p<0&&(p=b[o][u].length-p),M.point(b[o][u][p],c,r)}throw new Error("geojson is invalid")}},65185:function(Y){Y.exports=function(O){var e=0,M=0,k=0,a=0;return O.map(function(_){var y=(_=_.slice())[0],d=y.toUpperCase();if(y!=d)switch(_[0]=d,y){case"a":_[6]+=k,_[7]+=a;break;case"v":_[1]+=a;break;case"h":_[1]+=k;break;default:for(var s=1;s<_.length;)_[s++]+=k,_[s++]+=a}switch(d){case"Z":k=e,a=M;break;case"H":k=_[1];break;case"V":a=_[1];break;case"M":k=e=_[1],a=M=_[2];break;default:k=_[_.length-2],a=_[_.length-1]}return _})}},21527:function(Y){Y.exports=function(O,e){if(!O||O.length==null)throw Error("Argument should be an array");e=e==null?1:Math.floor(e);for(var M=Array(2*e),k=0;k<e;k++){for(var a=-1/0,_=1/0,y=k,d=O.length;y<d;y+=e)O[y]>a&&(a=O[y]),O[y]<_&&(_=O[y]);M[k]=_,M[e+k]=a}return M}},6851:function(Y){Y.exports=function(O,e,M){if(typeof Array.prototype.findIndex=="function")return O.findIndex(e,M);if(typeof e!="function")throw new TypeError("predicate must be a function");var k=Object(O),a=k.length;if(a===0)return-1;for(var _=0;_<a;_++)if(e.call(M,k[_],_,k))return _;return-1}},54:function(Y,O,e){var M=e(21527);Y.exports=function(k,a,_){if(!k||k.length==null)throw Error("Argument should be an array");a==null&&(a=1),_==null&&(_=M(k,a));for(var y=0;y<a;y++){var d=_[a+y],s=_[y],t=y,i=k.length;if(d===1/0&&s===-1/0)for(t=y;t<i;t+=a)k[t]=k[t]===d?1:k[t]===s?0:.5;else if(d===1/0)for(t=y;t<i;t+=a)k[t]=k[t]===d?1:0;else if(s===-1/0)for(t=y;t<i;t+=a)k[t]=k[t]===s?0:1;else{var r=d-s;for(t=y;t<i;t+=a)isNaN(k[t])||(k[t]=r===0?.5:(k[t]-s)/r)}}return k}},57471:function(Y){Y.exports=function(O,e){var M=typeof O=="number",k=typeof e=="number";M&&!k?(e=O,O=0):M||k||(O=0,e=0);var a=(e|=0)-(O|=0);if(a<0)throw new Error("array length must be positive");for(var _=new Array(a),y=0,d=O;y<a;y++,d++)_[y]=d;return _}},32791:function(Y,O,e){var M=e(90386);function k(I){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},k(I)}var a,_,y=e(79616).codes,d=y.ERR_AMBIGUOUS_ARGUMENT,s=y.ERR_INVALID_ARG_TYPE,t=y.ERR_INVALID_ARG_VALUE,i=y.ERR_INVALID_RETURN_VALUE,r=y.ERR_MISSING_ARGS,n=e(73894),l=e(43827).inspect,o=e(43827).types,u=o.isPromise,p=o.isRegExp,c=Object.assign?Object.assign:e(73523).assign,b=Object.is?Object.is:e(64003);function g(){var I=e(74061);a=I.isDeepEqual,_=I.isDeepStrictEqual}var h=!1,x=Y.exports=f,v={};function m(I){throw I.message instanceof Error?I.message:new n(I)}function w(I,H,N,B){if(!N){var V=!1;if(H===0)V=!0,B="No value argument passed to `assert.ok()`";else if(B instanceof Error)throw B;var q=new n({actual:N,expected:!0,message:B,operator:"==",stackStartFn:I});throw q.generatedMessage=V,q}}function f(){for(var I=arguments.length,H=new Array(I),N=0;N<I;N++)H[N]=arguments[N];w.apply(void 0,[f,H.length].concat(H))}x.fail=function I(H,N,B,V,q){var te,$=arguments.length;if($===0?te="Failed":$===1?(B=H,H=void 0):(h===!1&&(h=!0,(M.emitWarning?M.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),$===2&&(V="!=")),B instanceof Error)throw B;var K={actual:H,expected:N,operator:V===void 0?"fail":V,stackStartFn:q||I};B!==void 0&&(K.message=B);var Z=new n(K);throw te&&(Z.message=te,Z.generatedMessage=!0),Z},x.AssertionError=n,x.ok=f,x.equal=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");H!=N&&m({actual:H,expected:N,message:B,operator:"==",stackStartFn:I})},x.notEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");H==N&&m({actual:H,expected:N,message:B,operator:"!=",stackStartFn:I})},x.deepEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");a===void 0&&g(),a(H,N)||m({actual:H,expected:N,message:B,operator:"deepEqual",stackStartFn:I})},x.notDeepEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");a===void 0&&g(),a(H,N)&&m({actual:H,expected:N,message:B,operator:"notDeepEqual",stackStartFn:I})},x.deepStrictEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");a===void 0&&g(),_(H,N)||m({actual:H,expected:N,message:B,operator:"deepStrictEqual",stackStartFn:I})},x.notDeepStrictEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");a===void 0&&g(),_(H,N)&&m({actual:H,expected:N,message:B,operator:"notDeepStrictEqual",stackStartFn:I})},x.strictEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");b(H,N)||m({actual:H,expected:N,message:B,operator:"strictEqual",stackStartFn:I})},x.notStrictEqual=function I(H,N,B){if(arguments.length<2)throw new r("actual","expected");b(H,N)&&m({actual:H,expected:N,message:B,operator:"notStrictEqual",stackStartFn:I})};var S=function I(H,N,B){var V=this;(function(q,te){if(!(q instanceof te))throw new TypeError("Cannot call a class as a function")})(this,I),N.forEach(function(q){q in H&&(B!==void 0&&typeof B[q]=="string"&&p(H[q])&&H[q].test(B[q])?V[q]=B[q]:V[q]=H[q])})};function T(I,H,N,B){if(typeof H!="function"){if(p(H))return H.test(I);if(arguments.length===2)throw new s("expected",["Function","RegExp"],H);if(k(I)!=="object"||I===null){var V=new n({actual:I,expected:H,message:N,operator:"deepStrictEqual",stackStartFn:B});throw V.operator=B.name,V}var q=Object.keys(H);if(H instanceof Error)q.push("name","message");else if(q.length===0)throw new t("error",H,"may not be an empty object");return a===void 0&&g(),q.forEach(function(te){typeof I[te]=="string"&&p(H[te])&&H[te].test(I[te])||function($,K,Z,X,ee,ne){if(!(Z in $)||!_($[Z],K[Z])){if(!X){var re=new S($,ee),ae=new S(K,ee,$),ue=new n({actual:re,expected:ae,operator:"deepStrictEqual",stackStartFn:ne});throw ue.actual=$,ue.expected=K,ue.operator=ne.name,ue}m({actual:$,expected:K,message:X,operator:ne.name,stackStartFn:ne})}}(I,H,te,N,q,B)}),!0}return H.prototype!==void 0&&I instanceof H||!Error.isPrototypeOf(H)&&H.call({},I)===!0}function E(I){if(typeof I!="function")throw new s("fn","Function",I);try{I()}catch(H){return H}return v}function L(I){return u(I)||I!==null&&k(I)==="object"&&typeof I.then=="function"&&typeof I.catch=="function"}function C(I){return Promise.resolve().then(function(){var H;if(typeof I=="function"){if(!L(H=I()))throw new i("instance of Promise","promiseFn",H)}else{if(!L(I))throw new s("promiseFn",["Function","Promise"],I);H=I}return Promise.resolve().then(function(){return H}).then(function(){return v}).catch(function(N){return N})})}function P(I,H,N,B){if(typeof N=="string"){if(arguments.length===4)throw new s("error",["Object","Error","Function","RegExp"],N);if(k(H)==="object"&&H!==null){if(H.message===N)throw new d("error/message",'The error message "'.concat(H.message,'" is identical to the message.'))}else if(H===N)throw new d("error/message",'The error "'.concat(H,'" is identical to the message.'));B=N,N=void 0}else if(N!=null&&k(N)!=="object"&&typeof N!="function")throw new s("error",["Object","Error","Function","RegExp"],N);if(H===v){var V="";N&&N.name&&(V+=" (".concat(N.name,")")),V+=B?": ".concat(B):".";var q=I.name==="rejects"?"rejection":"exception";m({actual:void 0,expected:N,operator:I.name,message:"Missing expected ".concat(q).concat(V),stackStartFn:I})}if(N&&!T(H,N,B,I))throw H}function R(I,H,N,B){if(H!==v){if(typeof N=="string"&&(B=N,N=void 0),!N||T(H,N)){var V=B?": ".concat(B):".",q=I.name==="doesNotReject"?"rejection":"exception";m({actual:H,expected:N,operator:I.name,message:"Got unwanted ".concat(q).concat(V,`
`)+'Actual message: "'.concat(H&&H.message,'"'),stackStartFn:I})}throw H}}function G(){for(var I=arguments.length,H=new Array(I),N=0;N<I;N++)H[N]=arguments[N];w.apply(void 0,[G,H.length].concat(H))}x.throws=function I(H){for(var N=arguments.length,B=new Array(N>1?N-1:0),V=1;V<N;V++)B[V-1]=arguments[V];P.apply(void 0,[I,E(H)].concat(B))},x.rejects=function I(H){for(var N=arguments.length,B=new Array(N>1?N-1:0),V=1;V<N;V++)B[V-1]=arguments[V];return C(H).then(function(q){return P.apply(void 0,[I,q].concat(B))})},x.doesNotThrow=function I(H){for(var N=arguments.length,B=new Array(N>1?N-1:0),V=1;V<N;V++)B[V-1]=arguments[V];R.apply(void 0,[I,E(H)].concat(B))},x.doesNotReject=function I(H){for(var N=arguments.length,B=new Array(N>1?N-1:0),V=1;V<N;V++)B[V-1]=arguments[V];return C(H).then(function(q){return R.apply(void 0,[I,q].concat(B))})},x.ifError=function I(H){if(H!=null){var N="ifError got unwanted exception: ";k(H)==="object"&&typeof H.message=="string"?H.message.length===0&&H.constructor?N+=H.constructor.name:N+=H.message:N+=l(H);var B=new n({actual:H,expected:null,operator:"ifError",message:N,stackStartFn:I}),V=H.stack;if(typeof V=="string"){var q=V.split(`
`);q.shift();for(var te=B.stack.split(`
`),$=0;$<q.length;$++){var K=te.indexOf(q[$]);if(K!==-1){te=te.slice(0,K);break}}B.stack="".concat(te.join(`
`),`
`).concat(q.join(`
`))}throw B}},x.strict=c(G,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict},73894:function(Y,O,e){var M=e(90386);function k(m,w,f){return w in m?Object.defineProperty(m,w,{value:f,enumerable:!0,configurable:!0,writable:!0}):m[w]=f,m}function a(m,w){for(var f=0;f<w.length;f++){var S=w[f];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}function _(m,w){return!w||r(w)!=="object"&&typeof w!="function"?y(m):w}function y(m){if(m===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m}function d(m){var w=typeof Map=="function"?new Map:void 0;return d=function(f){if(f===null||(S=f,Function.toString.call(S).indexOf("[native code]")===-1))return f;var S;if(typeof f!="function")throw new TypeError("Super expression must either be null or a function");if(w!==void 0){if(w.has(f))return w.get(f);w.set(f,T)}function T(){return s(f,arguments,i(this).constructor)}return T.prototype=Object.create(f.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),t(T,f)},d(m)}function s(m,w,f){return s=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(S,T,E){var L=[null];L.push.apply(L,T);var C=new(Function.bind.apply(S,L));return E&&t(C,E.prototype),C},s.apply(null,arguments)}function t(m,w){return t=Object.setPrototypeOf||function(f,S){return f.__proto__=S,f},t(m,w)}function i(m){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},i(m)}function r(m){return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},r(m)}var n=e(43827).inspect,l=e(79616).codes.ERR_INVALID_ARG_TYPE;function o(m,w,f){return(f===void 0||f>m.length)&&(f=m.length),m.substring(f-w.length,f)===w}var u="",p="",c="",b="",g={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function h(m){var w=Object.keys(m),f=Object.create(Object.getPrototypeOf(m));return w.forEach(function(S){f[S]=m[S]}),Object.defineProperty(f,"message",{value:m.message}),f}function x(m){return n(m,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var v=function(m){function w(T){var E;if(function(te,$){if(!(te instanceof $))throw new TypeError("Cannot call a class as a function")}(this,w),r(T)!=="object"||T===null)throw new l("options","Object",T);var L=T.message,C=T.operator,P=T.stackStartFn,R=T.actual,G=T.expected,I=Error.stackTraceLimit;if(Error.stackTraceLimit=0,L!=null)E=_(this,i(w).call(this,String(L)));else if(M.stderr&&M.stderr.isTTY&&(M.stderr&&M.stderr.getColorDepth&&M.stderr.getColorDepth()!==1?(u="\x1B[34m",p="\x1B[32m",b="\x1B[39m",c="\x1B[31m"):(u="",p="",b="",c="")),r(R)==="object"&&R!==null&&r(G)==="object"&&G!==null&&"stack"in R&&R instanceof Error&&"stack"in G&&G instanceof Error&&(R=h(R),G=h(G)),C==="deepStrictEqual"||C==="strictEqual")E=_(this,i(w).call(this,function(te,$,K){var Z="",X="",ee=0,ne="",re=!1,ae=x(te),ue=ae.split(`
`),pe=x($).split(`
`),ge=0,we="";if(K==="strictEqual"&&r(te)==="object"&&r($)==="object"&&te!==null&&$!==null&&(K="strictEqualObject"),ue.length===1&&pe.length===1&&ue[0]!==pe[0]){var me=ue[0].length+pe[0].length;if(me<=10){if(!(r(te)==="object"&&te!==null||r($)==="object"&&$!==null||te===0&&$===0))return"".concat(g[K],`

`)+"".concat(ue[0]," !== ").concat(pe[0],`
`)}else if(K!=="strictEqualObject"&&me<(M.stderr&&M.stderr.isTTY?M.stderr.columns:80)){for(;ue[0][ge]===pe[0][ge];)ge++;ge>2&&(we=`
  `.concat(function(Ne,ce){if(ce=Math.floor(ce),Ne.length==0||ce==0)return"";var Te=Ne.length*ce;for(ce=Math.floor(Math.log(ce)/Math.log(2));ce;)Ne+=Ne,ce--;return Ne+Ne.substring(0,Te-Ne.length)}(" ",ge),"^"),ge=0)}}for(var ve=ue[ue.length-1],Ie=pe[pe.length-1];ve===Ie&&(ge++<2?ne=`
  `.concat(ve).concat(ne):Z=ve,ue.pop(),pe.pop(),ue.length!==0&&pe.length!==0);)ve=ue[ue.length-1],Ie=pe[pe.length-1];var Se=Math.max(ue.length,pe.length);if(Se===0){var ke=ae.split(`
`);if(ke.length>30)for(ke[26]="".concat(u,"...").concat(b);ke.length>27;)ke.pop();return"".concat(g.notIdentical,`

`).concat(ke.join(`
`),`
`)}ge>3&&(ne=`
`.concat(u,"...").concat(b).concat(ne),re=!0),Z!==""&&(ne=`
  `.concat(Z).concat(ne),Z="");var se=0,oe=g[K]+`
`.concat(p,"+ actual").concat(b," ").concat(c,"- expected").concat(b),he=" ".concat(u,"...").concat(b," Lines skipped");for(ge=0;ge<Se;ge++){var Le=ge-ee;if(ue.length<ge+1)Le>1&&ge>2&&(Le>4?(X+=`
`.concat(u,"...").concat(b),re=!0):Le>3&&(X+=`
  `.concat(pe[ge-2]),se++),X+=`
  `.concat(pe[ge-1]),se++),ee=ge,Z+=`
`.concat(c,"-").concat(b," ").concat(pe[ge]),se++;else if(pe.length<ge+1)Le>1&&ge>2&&(Le>4?(X+=`
`.concat(u,"...").concat(b),re=!0):Le>3&&(X+=`
  `.concat(ue[ge-2]),se++),X+=`
  `.concat(ue[ge-1]),se++),ee=ge,X+=`
`.concat(p,"+").concat(b," ").concat(ue[ge]),se++;else{var Me=pe[ge],_e=ue[ge],De=_e!==Me&&(!o(_e,",")||_e.slice(0,-1)!==Me);De&&o(Me,",")&&Me.slice(0,-1)===_e&&(De=!1,_e+=","),De?(Le>1&&ge>2&&(Le>4?(X+=`
`.concat(u,"...").concat(b),re=!0):Le>3&&(X+=`
  `.concat(ue[ge-2]),se++),X+=`
  `.concat(ue[ge-1]),se++),ee=ge,X+=`
`.concat(p,"+").concat(b," ").concat(_e),Z+=`
`.concat(c,"-").concat(b," ").concat(Me),se+=2):(X+=Z,Z="",Le!==1&&ge!==0||(X+=`
  `.concat(_e),se++))}if(se>20&&ge<Se-2)return"".concat(oe).concat(he,`
`).concat(X,`
`).concat(u,"...").concat(b).concat(Z,`
`)+"".concat(u,"...").concat(b)}return"".concat(oe).concat(re?he:"",`
`).concat(X).concat(Z).concat(ne).concat(we)}(R,G,C)));else if(C==="notDeepStrictEqual"||C==="notStrictEqual"){var H=g[C],N=x(R).split(`
`);if(C==="notStrictEqual"&&r(R)==="object"&&R!==null&&(H=g.notStrictEqualObject),N.length>30)for(N[26]="".concat(u,"...").concat(b);N.length>27;)N.pop();E=N.length===1?_(this,i(w).call(this,"".concat(H," ").concat(N[0]))):_(this,i(w).call(this,"".concat(H,`

`).concat(N.join(`
`),`
`)))}else{var B=x(R),V="",q=g[C];C==="notDeepEqual"||C==="notEqual"?(B="".concat(g[C],`

`).concat(B)).length>1024&&(B="".concat(B.slice(0,1021),"...")):(V="".concat(x(G)),B.length>512&&(B="".concat(B.slice(0,509),"...")),V.length>512&&(V="".concat(V.slice(0,509),"...")),C==="deepEqual"||C==="equal"?B="".concat(q,`

`).concat(B,`

should equal

`):V=" ".concat(C," ").concat(V)),E=_(this,i(w).call(this,"".concat(B).concat(V)))}return Error.stackTraceLimit=I,E.generatedMessage=!L,Object.defineProperty(y(E),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),E.code="ERR_ASSERTION",E.actual=R,E.expected=G,E.operator=C,Error.captureStackTrace&&Error.captureStackTrace(y(E),P),E.stack,E.name="AssertionError",_(E)}var f,S;return function(T,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(E&&E.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),E&&t(T,E)}(w,m),f=w,S=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:n.custom,value:function(T,E){return n(this,function(L){for(var C=1;C<arguments.length;C++){var P=arguments[C]!=null?arguments[C]:{},R=Object.keys(P);typeof Object.getOwnPropertySymbols=="function"&&(R=R.concat(Object.getOwnPropertySymbols(P).filter(function(G){return Object.getOwnPropertyDescriptor(P,G).enumerable}))),R.forEach(function(G){k(L,G,P[G])})}return L}({},E,{customInspect:!1,depth:0}))}}],S&&a(f.prototype,S),w}(d(Error));Y.exports=v},79616:function(Y,O,e){function M(i){return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},M(i)}function k(i){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},k(i)}function a(i,r){return a=Object.setPrototypeOf||function(n,l){return n.__proto__=l,n},a(i,r)}var _,y,d={};function s(i,r,n){n||(n=Error);var l=function(o){function u(p,c,b){var g;return function(h,x){if(!(h instanceof x))throw new TypeError("Cannot call a class as a function")}(this,u),g=function(h,x){return!x||M(x)!=="object"&&typeof x!="function"?function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(h):x}(this,k(u).call(this,function(h,x,v){return typeof r=="string"?r:r(h,x,v)}(p,c,b))),g.code=i,g}return function(p,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(c&&c.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),c&&a(p,c)}(u,o),u}(n);d[i]=l}function t(i,r){if(Array.isArray(i)){var n=i.length;return i=i.map(function(l){return String(l)}),n>2?"one of ".concat(r," ").concat(i.slice(0,n-1).join(", "),", or ")+i[n-1]:n===2?"one of ".concat(r," ").concat(i[0]," or ").concat(i[1]):"of ".concat(r," ").concat(i[0])}return"of ".concat(r," ").concat(String(i))}s("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),s("ERR_INVALID_ARG_TYPE",function(i,r,n){var l,o,u,p,c;if(_===void 0&&(_=e(32791)),_(typeof i=="string","'name' must be a string"),typeof r=="string"&&(o="not ",r.substr(0,4)===o)?(l="must not be",r=r.replace(/^not /,"")):l="must be",function(g,h,x){return(x===void 0||x>g.length)&&(x=g.length),g.substring(x-9,x)===h}(i," argument"))u="The ".concat(i," ").concat(l," ").concat(t(r,"type"));else{var b=(typeof c!="number"&&(c=0),c+1>(p=i).length||p.indexOf(".",c)===-1?"argument":"property");u='The "'.concat(i,'" ').concat(b," ").concat(l," ").concat(t(r,"type"))}return u+". Received type ".concat(M(n))},TypeError),s("ERR_INVALID_ARG_VALUE",function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";y===void 0&&(y=e(43827));var l=y.inspect(r);return l.length>128&&(l="".concat(l.slice(0,128),"...")),"The argument '".concat(i,"' ").concat(n,". Received ").concat(l)},TypeError),s("ERR_INVALID_RETURN_VALUE",function(i,r,n){var l;return l=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(M(n)),"Expected ".concat(i,' to be returned from the "').concat(r,'"')+" function but got ".concat(l,".")},TypeError),s("ERR_MISSING_ARGS",function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];_===void 0&&(_=e(32791)),_(r.length>0,"At least one arg needs to be specified");var l="The ",o=r.length;switch(r=r.map(function(u){return'"'.concat(u,'"')}),o){case 1:l+="".concat(r[0]," argument");break;case 2:l+="".concat(r[0]," and ").concat(r[1]," arguments");break;default:l+=r.slice(0,o-1).join(", "),l+=", and ".concat(r[o-1]," arguments")}return"".concat(l," must be specified")},TypeError),Y.exports.codes=d},74061:function(Y,O,e){function M(ee,ne){return function(re){if(Array.isArray(re))return re}(ee)||function(re,ae){var ue=[],pe=!0,ge=!1,we=void 0;try{for(var me,ve=re[Symbol.iterator]();!(pe=(me=ve.next()).done)&&(ue.push(me.value),!ae||ue.length!==ae);pe=!0);}catch(Ie){ge=!0,we=Ie}finally{try{pe||ve.return==null||ve.return()}finally{if(ge)throw we}}return ue}(ee,ne)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function k(ee){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},k(ee)}var a=/a/g.flags!==void 0,_=function(ee){var ne=[];return ee.forEach(function(re){return ne.push(re)}),ne},y=function(ee){var ne=[];return ee.forEach(function(re,ae){return ne.push([ae,re])}),ne},d=Object.is?Object.is:e(64003),s=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},t=Number.isNaN?Number.isNaN:e(15567);function i(ee){return ee.call.bind(ee)}var r=i(Object.prototype.hasOwnProperty),n=i(Object.prototype.propertyIsEnumerable),l=i(Object.prototype.toString),o=e(43827).types,u=o.isAnyArrayBuffer,p=o.isArrayBufferView,c=o.isDate,b=o.isMap,g=o.isRegExp,h=o.isSet,x=o.isNativeError,v=o.isBoxedPrimitive,m=o.isNumberObject,w=o.isStringObject,f=o.isBooleanObject,S=o.isBigIntObject,T=o.isSymbolObject,E=o.isFloat32Array,L=o.isFloat64Array;function C(ee){if(ee.length===0||ee.length>10)return!0;for(var ne=0;ne<ee.length;ne++){var re=ee.charCodeAt(ne);if(re<48||re>57)return!0}return ee.length===10&&ee>=Math.pow(2,32)}function P(ee){return Object.keys(ee).filter(C).concat(s(ee).filter(Object.prototype.propertyIsEnumerable.bind(ee)))}function R(ee,ne){if(ee===ne)return 0;for(var re=ee.length,ae=ne.length,ue=0,pe=Math.min(re,ae);ue<pe;++ue)if(ee[ue]!==ne[ue]){re=ee[ue],ae=ne[ue];break}return re<ae?-1:ae<re?1:0}var G=0,I=1,H=2,N=3;function B(ee,ne,re,ae){if(ee===ne)return ee!==0||!re||d(ee,ne);if(re){if(k(ee)!=="object")return typeof ee=="number"&&t(ee)&&t(ne);if(k(ne)!=="object"||ee===null||ne===null||Object.getPrototypeOf(ee)!==Object.getPrototypeOf(ne))return!1}else{if(ee===null||k(ee)!=="object")return(ne===null||k(ne)!=="object")&&ee==ne;if(ne===null||k(ne)!=="object")return!1}var ue,pe,ge,we,me=l(ee);if(me!==l(ne))return!1;if(Array.isArray(ee)){if(ee.length!==ne.length)return!1;var ve=P(ee),Ie=P(ne);return ve.length===Ie.length&&q(ee,ne,re,ae,I,ve)}if(me==="[object Object]"&&(!b(ee)&&b(ne)||!h(ee)&&h(ne)))return!1;if(c(ee)){if(!c(ne)||Date.prototype.getTime.call(ee)!==Date.prototype.getTime.call(ne))return!1}else if(g(ee)){if(!g(ne)||(ge=ee,we=ne,!(a?ge.source===we.source&&ge.flags===we.flags:RegExp.prototype.toString.call(ge)===RegExp.prototype.toString.call(we))))return!1}else if(x(ee)||ee instanceof Error){if(ee.message!==ne.message||ee.name!==ne.name)return!1}else{if(p(ee)){if(re||!E(ee)&&!L(ee)){if(!function(se,oe){return se.byteLength===oe.byteLength&&R(new Uint8Array(se.buffer,se.byteOffset,se.byteLength),new Uint8Array(oe.buffer,oe.byteOffset,oe.byteLength))===0}(ee,ne))return!1}else if(!function(se,oe){if(se.byteLength!==oe.byteLength)return!1;for(var he=0;he<se.byteLength;he++)if(se[he]!==oe[he])return!1;return!0}(ee,ne))return!1;var Se=P(ee),ke=P(ne);return Se.length===ke.length&&q(ee,ne,re,ae,G,Se)}if(h(ee))return!(!h(ne)||ee.size!==ne.size)&&q(ee,ne,re,ae,H);if(b(ee))return!(!b(ne)||ee.size!==ne.size)&&q(ee,ne,re,ae,N);if(u(ee)){if(pe=ne,(ue=ee).byteLength!==pe.byteLength||R(new Uint8Array(ue),new Uint8Array(pe))!==0)return!1}else if(v(ee)&&!function(se,oe){return m(se)?m(oe)&&d(Number.prototype.valueOf.call(se),Number.prototype.valueOf.call(oe)):w(se)?w(oe)&&String.prototype.valueOf.call(se)===String.prototype.valueOf.call(oe):f(se)?f(oe)&&Boolean.prototype.valueOf.call(se)===Boolean.prototype.valueOf.call(oe):S(se)?S(oe)&&BigInt.prototype.valueOf.call(se)===BigInt.prototype.valueOf.call(oe):T(oe)&&Symbol.prototype.valueOf.call(se)===Symbol.prototype.valueOf.call(oe)}(ee,ne))return!1}return q(ee,ne,re,ae,G)}function V(ee,ne){return ne.filter(function(re){return n(ee,re)})}function q(ee,ne,re,ae,ue,pe){if(arguments.length===5){pe=Object.keys(ee);var ge=Object.keys(ne);if(pe.length!==ge.length)return!1}for(var we=0;we<pe.length;we++)if(!r(ne,pe[we]))return!1;if(re&&arguments.length===5){var me=s(ee);if(me.length!==0){var ve=0;for(we=0;we<me.length;we++){var Ie=me[we];if(n(ee,Ie)){if(!n(ne,Ie))return!1;pe.push(Ie),ve++}else if(n(ne,Ie))return!1}var Se=s(ne);if(me.length!==Se.length&&V(ne,Se).length!==ve)return!1}else{var ke=s(ne);if(ke.length!==0&&V(ne,ke).length!==0)return!1}}if(pe.length===0&&(ue===G||ue===I&&ee.length===0||ee.size===0))return!0;if(ae===void 0)ae={val1:new Map,val2:new Map,position:0};else{var se=ae.val1.get(ee);if(se!==void 0){var oe=ae.val2.get(ne);if(oe!==void 0)return se===oe}ae.position++}ae.val1.set(ee,ae.position),ae.val2.set(ne,ae.position);var he=function(Le,Me,_e,De,Ne,ce){var Te=0;if(ce===H){if(!function(Fe,Ge,Ze,et){for(var ft=null,rt=_(Fe),_t=0;_t<rt.length;_t++){var kt=rt[_t];if(k(kt)==="object"&&kt!==null)ft===null&&(ft=new Set),ft.add(kt);else if(!Ge.has(kt)){if(Ze||!K(Fe,Ge,kt))return!1;ft===null&&(ft=new Set),ft.add(kt)}}if(ft!==null){for(var wt=_(Ge),lt=0;lt<wt.length;lt++){var ut=wt[lt];if(k(ut)==="object"&&ut!==null){if(!te(ft,ut,Ze,et))return!1}else if(!Ze&&!Fe.has(ut)&&!te(ft,ut,Ze,et))return!1}return ft.size===0}return!0}(Le,Me,_e,Ne))return!1}else if(ce===N){if(!function(Fe,Ge,Ze,et){for(var ft=null,rt=y(Fe),_t=0;_t<rt.length;_t++){var kt=M(rt[_t],2),wt=kt[0],lt=kt[1];if(k(wt)==="object"&&wt!==null)ft===null&&(ft=new Set),ft.add(wt);else{var ut=Ge.get(wt);if(ut===void 0&&!Ge.has(wt)||!B(lt,ut,Ze,et)){if(Ze||!Z(Fe,Ge,wt,lt,et))return!1;ft===null&&(ft=new Set),ft.add(wt)}}}if(ft!==null){for(var Et=y(Ge),Ot=0;Ot<Et.length;Ot++){var zt=M(Et[Ot],2),Lt=(wt=zt[0],zt[1]);if(k(wt)==="object"&&wt!==null){if(!X(ft,Fe,wt,Lt,Ze,et))return!1}else if(!(Ze||Fe.has(wt)&&B(Fe.get(wt),Lt,!1,et)||X(ft,Fe,wt,Lt,!1,et)))return!1}return ft.size===0}return!0}(Le,Me,_e,Ne))return!1}else if(ce===I)for(;Te<Le.length;Te++){if(!r(Le,Te)){if(r(Me,Te))return!1;for(var ye=Object.keys(Le);Te<ye.length;Te++){var Oe=ye[Te];if(!r(Me,Oe)||!B(Le[Oe],Me[Oe],_e,Ne))return!1}return ye.length===Object.keys(Me).length}if(!r(Me,Te)||!B(Le[Te],Me[Te],_e,Ne))return!1}for(Te=0;Te<De.length;Te++){var Be=De[Te];if(!B(Le[Be],Me[Be],_e,Ne))return!1}return!0}(ee,ne,re,pe,ae,ue);return ae.val1.delete(ee),ae.val2.delete(ne),he}function te(ee,ne,re,ae){for(var ue=_(ee),pe=0;pe<ue.length;pe++){var ge=ue[pe];if(B(ne,ge,re,ae))return ee.delete(ge),!0}return!1}function $(ee){switch(k(ee)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ee=+ee;case"number":if(t(ee))return!1}return!0}function K(ee,ne,re){var ae=$(re);return ae??(ne.has(ae)&&!ee.has(ae))}function Z(ee,ne,re,ae,ue){var pe=$(re);if(pe!=null)return pe;var ge=ne.get(pe);return!(ge===void 0&&!ne.has(pe)||!B(ae,ge,!1,ue))&&!ee.has(pe)&&B(ae,ge,!1,ue)}function X(ee,ne,re,ae,ue,pe){for(var ge=_(ee),we=0;we<ge.length;we++){var me=ge[we];if(B(re,me,ue,pe)&&B(ae,ne.get(me),ue,pe))return ee.delete(me),!0}return!1}Y.exports={isDeepEqual:function(ee,ne){return B(ee,ne,!1)},isDeepStrictEqual:function(ee,ne){return B(ee,ne,!0)}}},95341:function(Y,O){O.byteLength=function(s){var t=y(s),i=t[0],r=t[1];return 3*(i+r)/4-r},O.toByteArray=function(s){var t,i,r=y(s),n=r[0],l=r[1],o=new k(function(c,b,g){return 3*(b+g)/4-g}(0,n,l)),u=0,p=l>0?n-4:n;for(i=0;i<p;i+=4)t=M[s.charCodeAt(i)]<<18|M[s.charCodeAt(i+1)]<<12|M[s.charCodeAt(i+2)]<<6|M[s.charCodeAt(i+3)],o[u++]=t>>16&255,o[u++]=t>>8&255,o[u++]=255&t;return l===2&&(t=M[s.charCodeAt(i)]<<2|M[s.charCodeAt(i+1)]>>4,o[u++]=255&t),l===1&&(t=M[s.charCodeAt(i)]<<10|M[s.charCodeAt(i+1)]<<4|M[s.charCodeAt(i+2)]>>2,o[u++]=t>>8&255,o[u++]=255&t),o},O.fromByteArray=function(s){for(var t,i=s.length,r=i%3,n=[],l=16383,o=0,u=i-r;o<u;o+=l)n.push(d(s,o,o+l>u?u:o+l));return r===1?(t=s[i-1],n.push(e[t>>2]+e[t<<4&63]+"==")):r===2&&(t=(s[i-2]<<8)+s[i-1],n.push(e[t>>10]+e[t>>4&63]+e[t<<2&63]+"=")),n.join("")};for(var e=[],M=[],k=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_=0;_<64;++_)e[_]=a[_],M[a.charCodeAt(_)]=_;function y(s){var t=s.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=s.indexOf("=");return i===-1&&(i=t),[i,i===t?0:4-i%4]}function d(s,t,i){for(var r,n,l=[],o=t;o<i;o+=3)r=(s[o]<<16&16711680)+(s[o+1]<<8&65280)+(255&s[o+2]),l.push(e[(n=r)>>18&63]+e[n>>12&63]+e[n>>6&63]+e[63&n]);return l.join("")}M["-".charCodeAt(0)]=62,M["_".charCodeAt(0)]=63},91358:function(Y){function O(y,d,s,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,l=y[n];(s!==void 0?s(l,d):l-d)>=0?(r=n,i=n-1):t=n+1}return r}function e(y,d,s,t,i){for(var r=i+1;t<=i;){var n=t+i>>>1,l=y[n];(s!==void 0?s(l,d):l-d)>0?(r=n,i=n-1):t=n+1}return r}function M(y,d,s,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,l=y[n];(s!==void 0?s(l,d):l-d)<0?(r=n,t=n+1):i=n-1}return r}function k(y,d,s,t,i){for(var r=t-1;t<=i;){var n=t+i>>>1,l=y[n];(s!==void 0?s(l,d):l-d)<=0?(r=n,t=n+1):i=n-1}return r}function a(y,d,s,t,i){for(;t<=i;){var r=t+i>>>1,n=y[r],l=s!==void 0?s(n,d):n-d;if(l===0)return r;l<=0?t=r+1:i=r-1}return-1}function _(y,d,s,t,i,r){return typeof s=="function"?r(y,d,s,t===void 0?0:0|t,i===void 0?y.length-1:0|i):r(y,d,void 0,s===void 0?0:0|s,t===void 0?y.length-1:0|t)}Y.exports={ge:function(y,d,s,t,i){return _(y,d,s,t,i,O)},gt:function(y,d,s,t,i){return _(y,d,s,t,i,e)},lt:function(y,d,s,t,i){return _(y,d,s,t,i,M)},le:function(y,d,s,t,i){return _(y,d,s,t,i,k)},eq:function(y,d,s,t,i){return _(y,d,s,t,i,a)}}},13547:function(Y,O){function e(k){var a=32;return(k&=-k)&&a--,65535&k&&(a-=16),16711935&k&&(a-=8),252645135&k&&(a-=4),858993459&k&&(a-=2),1431655765&k&&(a-=1),a}O.INT_BITS=32,O.INT_MAX=2147483647,O.INT_MIN=-2147483648,O.sign=function(k){return(k>0)-(k<0)},O.abs=function(k){var a=k>>31;return(k^a)-a},O.min=function(k,a){return a^(k^a)&-(k<a)},O.max=function(k,a){return k^(k^a)&-(k<a)},O.isPow2=function(k){return!(k&k-1||!k)},O.log2=function(k){var a,_;return a=(k>65535)<<4,a|=_=((k>>>=a)>255)<<3,a|=_=((k>>>=_)>15)<<2,(a|=_=((k>>>=_)>3)<<1)|(k>>>=_)>>1},O.log10=function(k){return k>=1e9?9:k>=1e8?8:k>=1e7?7:k>=1e6?6:k>=1e5?5:k>=1e4?4:k>=1e3?3:k>=100?2:k>=10?1:0},O.popCount=function(k){return 16843009*((k=(858993459&(k-=k>>>1&1431655765))+(k>>>2&858993459))+(k>>>4)&252645135)>>>24},O.countTrailingZeros=e,O.nextPow2=function(k){return k+=k===0,--k,k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,1+(k|=k>>>16)},O.prevPow2=function(k){return k|=k>>>1,k|=k>>>2,k|=k>>>4,k|=k>>>8,(k|=k>>>16)-(k>>>1)},O.parity=function(k){return k^=k>>>16,k^=k>>>8,k^=k>>>4,27030>>>(k&=15)&1};var M=new Array(256);(function(k){for(var a=0;a<256;++a){var _=a,y=a,d=7;for(_>>>=1;_;_>>>=1)y<<=1,y|=1&_,--d;k[a]=y<<d&255}})(M),O.reverse=function(k){return M[255&k]<<24|M[k>>>8&255]<<16|M[k>>>16&255]<<8|M[k>>>24&255]},O.interleave2=function(k,a){return(k=1431655765&((k=858993459&((k=252645135&((k=16711935&((k&=65535)|k<<8))|k<<4))|k<<2))|k<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a&=65535)|a<<8))|a<<4))|a<<2))|a<<1))<<1},O.deinterleave2=function(k,a){return(k=65535&((k=16711935&((k=252645135&((k=858993459&((k=k>>>a&1431655765)|k>>>1))|k>>>2))|k>>>4))|k>>>16))<<16>>16},O.interleave3=function(k,a,_){return k=1227133513&((k=3272356035&((k=251719695&((k=4278190335&((k&=1023)|k<<16))|k<<8))|k<<4))|k<<2),(k|=(a=1227133513&((a=3272356035&((a=251719695&((a=4278190335&((a&=1023)|a<<16))|a<<8))|a<<4))|a<<2))<<1)|(_=1227133513&((_=3272356035&((_=251719695&((_=4278190335&((_&=1023)|_<<16))|_<<8))|_<<4))|_<<2))<<2},O.deinterleave3=function(k,a){return(k=1023&((k=4278190335&((k=251719695&((k=3272356035&((k=k>>>a&1227133513)|k>>>2))|k>>>4))|k>>>8))|k>>>16))<<22>>22},O.nextCombination=function(k){var a=k|k-1;return a+1|(~a&-~a)-1>>>e(k)+1}},44781:function(Y,O,e){var M=e(53435);Y.exports=function(y,d){d||(d={});var s,t,i,r,n,l,o,u,p,c,b,g=d.cutoff==null?.25:d.cutoff,h=d.radius==null?8:d.radius,x=d.channel||0;if(ArrayBuffer.isView(y)||Array.isArray(y)){if(!d.width||!d.height)throw Error("For raw data width and height should be provided by options");s=d.width,t=d.height,r=y,l=d.stride?d.stride:Math.floor(y.length/s/t)}else window.HTMLCanvasElement&&y instanceof window.HTMLCanvasElement?(o=(u=y).getContext("2d"),s=u.width,t=u.height,r=(p=o.getImageData(0,0,s,t)).data,l=4):window.CanvasRenderingContext2D&&y instanceof window.CanvasRenderingContext2D?(o=y,s=(u=y.canvas).width,t=u.height,r=(p=o.getImageData(0,0,s,t)).data,l=4):window.ImageData&&y instanceof window.ImageData&&(p=y,s=y.width,t=y.height,r=p.data,l=4);if(i=Math.max(s,t),window.Uint8ClampedArray&&r instanceof window.Uint8ClampedArray||window.Uint8Array&&r instanceof window.Uint8Array)for(n=r,r=Array(s*t),c=0,b=n.length;c<b;c++)r[c]=n[c*l+x]/255;else if(l!==1)throw Error("Raw data can have only 1 value per pixel");var v=Array(s*t),m=Array(s*t),w=Array(i),f=Array(i),S=Array(i+1),T=Array(i);for(c=0,b=s*t;c<b;c++){var E=r[c];v[c]=E===1?0:E===0?k:Math.pow(Math.max(0,.5-E),2),m[c]=E===1?k:E===0?0:Math.pow(Math.max(0,E-.5),2)}a(v,s,t,w,f,T,S),a(m,s,t,w,f,T,S);var L=window.Float32Array?new Float32Array(s*t):new Array(s*t);for(c=0,b=s*t;c<b;c++)L[c]=M(1-((v[c]-m[c])/h+g),0,1);return L};var k=1e20;function a(y,d,s,t,i,r,n){for(var l=0;l<d;l++){for(var o=0;o<s;o++)t[o]=y[o*d+l];for(_(t,i,r,n,s),o=0;o<s;o++)y[o*d+l]=i[o]}for(o=0;o<s;o++){for(l=0;l<d;l++)t[l]=y[o*d+l];for(_(t,i,r,n,d),l=0;l<d;l++)y[o*d+l]=Math.sqrt(i[l])}}function _(y,d,s,t,i){s[0]=0,t[0]=-k,t[1]=+k;for(var r=1,n=0;r<i;r++){for(var l=(y[r]+r*r-(y[s[n]]+s[n]*s[n]))/(2*r-2*s[n]);l<=t[n];)n--,l=(y[r]+r*r-(y[s[n]]+s[n]*s[n]))/(2*r-2*s[n]);s[++n]=r,t[n]=l,t[n+1]=+k}for(r=0,n=0;r<i;r++){for(;t[n+1]<r;)n++;d[r]=(r-s[n])*(r-s[n])+y[s[n]]}}},6614:function(Y,O,e){var M=e(68318),k=e(68222),a=k(M("String.prototype.indexOf"));Y.exports=function(_,y){var d=M(_,!!y);return typeof d=="function"&&a(_,".prototype.")>-1?k(d):d}},68222:function(Y,O,e){var M=e(77575),k=e(68318),a=k("%Function.prototype.apply%"),_=k("%Function.prototype.call%"),y=k("%Reflect.apply%",!0)||M.call(_,a),d=k("%Object.getOwnPropertyDescriptor%",!0),s=k("%Object.defineProperty%",!0),t=k("%Math.max%");if(s)try{s({},"a",{value:1})}catch{s=null}Y.exports=function(r){var n=y(M,_,arguments);return d&&s&&d(n,"length").configurable&&s(n,"length",{value:1+t(0,r.length-(arguments.length-1))}),n};var i=function(){return y(M,a,arguments)};s?s(Y.exports,"apply",{value:i}):Y.exports.apply=i},53435:function(Y){Y.exports=function(O,e,M){return e<M?O<e?e:O>M?M:O:O<M?M:O>e?e:O}},6475:function(Y,O,e){var M=e(53435);function k(a,_){_==null&&(_=!0);var y=a[0],d=a[1],s=a[2],t=a[3];return t==null&&(t=_?1:255),_&&(y*=255,d*=255,s*=255,t*=255),16777216*(y=255&M(y,0,255))+((d=255&M(d,0,255))<<16)+((s=255&M(s,0,255))<<8)+(255&M(t,0,255))}Y.exports=k,Y.exports.to=k,Y.exports.from=function(a,_){var y=(a=+a)>>>24,d=(16711680&a)>>>16,s=(65280&a)>>>8,t=255&a;return _===!1?[y,d,s,t]:[y/255,d/255,s/255,t/255]}},76857:function(Y){Y.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},25075:function(Y,O,e){var M=e(36652),k=e(53435),a=e(90660);Y.exports=function(_,y){y!=="float"&&y||(y="array"),y==="uint"&&(y="uint8"),y==="uint_clamped"&&(y="uint8_clamped");var d=new(a(y))(4),s=y!=="uint8"&&y!=="uint8_clamped";return _.length&&typeof _!="string"||((_=M(_))[0]/=255,_[1]/=255,_[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&&(t[0]>1||t[0]===0)&&(t[1]>1||t[1]===0)&&(t[2]>1||t[2]===0)&&(!t[3]||t[3]>1))}(_)?(d[0]=_[0],d[1]=_[1],d[2]=_[2],d[3]=_[3]!=null?_[3]:255,s&&(d[0]/=255,d[1]/=255,d[2]/=255,d[3]/=255),d):(s?(d[0]=_[0],d[1]=_[1],d[2]=_[2],d[3]=_[3]!=null?_[3]:1):(d[0]=k(Math.floor(255*_[0]),0,255),d[1]=k(Math.floor(255*_[1]),0,255),d[2]=k(Math.floor(255*_[2]),0,255),d[3]=_[3]==null?255:k(Math.floor(255*_[3]),0,255)),d)}},90736:function(Y,O,e){var M=e(76857),k=e(10973),a=e(46775);Y.exports=function(y){var d,s,t=[],i=1;if(typeof y=="string")if(M[y])t=M[y].slice(),s="rgb";else if(y==="transparent")i=0,s="rgb",t=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(y)){var r=y.slice(1);i=1,(o=r.length)<=4?(t=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(i=parseInt(r[3]+r[3],16)/255)):(t=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(i=parseInt(r[6]+r[7],16)/255)),t[0]||(t[0]=0),t[1]||(t[1]=0),t[2]||(t[2]=0),s="rgb"}else if(d=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(y)){var n=d[1],l=n==="rgb";s=r=n.replace(/a$/,"");var o=r==="cmyk"?4:r==="gray"?1:3;t=d[2].trim().split(/\s*,\s*/).map(function(p,c){if(/%$/.test(p))return c===o?parseFloat(p)/100:r==="rgb"?255*parseFloat(p)/100:parseFloat(p);if(r[c]==="h"){if(/deg$/.test(p))return parseFloat(p);if(_[p]!==void 0)return _[p]}return parseFloat(p)}),n===r&&t.push(1),i=l||t[o]===void 0?1:t[o],t=t.slice(0,o)}else y.length>10&&/[0-9](?:\s|\/)/.test(y)&&(t=y.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),s=y.match(/([a-z])/gi).join("").toLowerCase());else if(isNaN(y))if(k(y)){var u=a(y.r,y.red,y.R,null);u!==null?(s="rgb",t=[u,a(y.g,y.green,y.G),a(y.b,y.blue,y.B)]):(s="hsl",t=[a(y.h,y.hue,y.H),a(y.s,y.saturation,y.S),a(y.l,y.lightness,y.L,y.b,y.brightness)]),i=a(y.a,y.alpha,y.opacity,1),y.opacity!=null&&(i/=100)}else(Array.isArray(y)||e.g.ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(y))&&(t=[y[0],y[1],y[2]],s="rgb",i=y.length===4?y[3]:1);else s="rgb",t=[y>>>16,(65280&y)>>>8,255&y];return{space:s,values:t,alpha:i}};var _={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}},36652:function(Y,O,e){var M=e(90736),k=e(80009),a=e(53435);Y.exports=function(_){var y,d=M(_);return d.space?((y=Array(3))[0]=a(d.values[0],0,255),y[1]=a(d.values[1],0,255),y[2]=a(d.values[2],0,255),d.space[0]==="h"&&(y=k.rgb(y)),y.push(a(d.alpha,0,1)),y):[]}},80009:function(Y,O,e){var M=e(6866);Y.exports={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(k){var a,_,y,d,s,t=k[0]/360,i=k[1]/100,r=k[2]/100;if(i===0)return[s=255*r,s,s];a=2*r-(_=r<.5?r*(1+i):r+i-r*i),d=[0,0,0];for(var n=0;n<3;n++)(y=t+.3333333333333333*-(n-1))<0?y++:y>1&&y--,s=6*y<1?a+6*(_-a)*y:2*y<1?_:3*y<2?a+(_-a)*(.6666666666666666-y)*6:a,d[n]=255*s;return d}},M.hsl=function(k){var a,_,y=k[0]/255,d=k[1]/255,s=k[2]/255,t=Math.min(y,d,s),i=Math.max(y,d,s),r=i-t;return i===t?a=0:y===i?a=(d-s)/r:d===i?a=2+(s-y)/r:s===i&&(a=4+(y-d)/r),(a=Math.min(60*a,360))<0&&(a+=360),_=(t+i)/2,[a,100*(i===t?0:_<=.5?r/(i+t):r/(2-i-t)),100*_]}},6866:function(Y){Y.exports={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]}},24138:function(Y){Y.exports={AFG:"afghan",ALA:"\\b\\wland",ALB:"albania",DZA:"algeria",ASM:"^(?=.*americ).*samoa",AND:"andorra",AGO:"angola",AIA:"anguill?a",ATA:"antarctica",ATG:"antigua",ARG:"argentin",ARM:"armenia",ABW:"^(?!.*bonaire).*\\baruba",AUS:"australia",AUT:"^(?!.*hungary).*austria|\\baustri.*\\bemp",AZE:"azerbaijan",BHS:"bahamas",BHR:"bahrain",BGD:"bangladesh|^(?=.*east).*paki?stan",BRB:"barbados",BLR:"belarus|byelo",BEL:"^(?!.*luxem).*belgium",BLZ:"belize|^(?=.*british).*honduras",BEN:"benin|dahome",BMU:"bermuda",BTN:"bhutan",BOL:"bolivia",BES:"^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\bbes.?islands",BIH:"herzegovina|bosnia",BWA:"botswana|bechuana",BVT:"bouvet",BRA:"brazil",IOT:"british.?indian.?ocean",BRN:"brunei",BGR:"bulgaria",BFA:"burkina|\\bfaso|upper.?volta",BDI:"burundi",CPV:"verde",KHM:"cambodia|kampuchea|khmer",CMR:"cameroon",CAN:"canada",CYM:"cayman",CAF:"\\bcentral.african.republic",TCD:"\\bchad",CHL:"\\bchile",CHN:"^(?!.*\\bmac)(?!.*\\bhong)(?!.*\\btai)(?!.*\\brep).*china|^(?=.*peo)(?=.*rep).*china",CXR:"christmas",CCK:"\\bcocos|keeling",COL:"colombia",COM:"comoro",COG:"^(?!.*\\bdem)(?!.*\\bd[\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\bcongo",COK:"\\bcook",CRI:"costa.?rica",CIV:"ivoire|ivory",HRV:"croatia",CUB:"\\bcuba",CUW:"^(?!.*bonaire).*\\bcura(c|ç)ao",CYP:"cyprus",CSK:"czechoslovakia",CZE:"^(?=.*rep).*czech|czechia|bohemia",COD:"\\bdem.*congo|congo.*\\bdem|congo.*\\bd[\\.]?r|\\bd[\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc",DNK:"denmark",DJI:"djibouti",DMA:"dominica(?!n)",DOM:"dominican.rep",ECU:"ecuador",EGY:"egypt",SLV:"el.?salvador",GNQ:"guine.*eq|eq.*guine|^(?=.*span).*guinea",ERI:"eritrea",EST:"estonia",ETH:"ethiopia|abyssinia",FLK:"falkland|malvinas",FRO:"faroe|faeroe",FJI:"fiji",FIN:"finland",FRA:"^(?!.*\\bdep)(?!.*martinique).*france|french.?republic|\\bgaul",GUF:"^(?=.*french).*guiana",PYF:"french.?polynesia|tahiti",ATF:"french.?southern",GAB:"gabon",GMB:"gambia",GEO:"^(?!.*south).*georgia",DDR:"german.?democratic.?republic|democratic.?republic.*germany|east.germany",DEU:"^(?!.*east).*germany|^(?=.*\\bfed.*\\brep).*german",GHA:"ghana|gold.?coast",GIB:"gibraltar",GRC:"greece|hellenic|hellas",GRL:"greenland",GRD:"grenada",GLP:"guadeloupe",GUM:"\\bguam",GTM:"guatemala",GGY:"guernsey",GIN:"^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea",GNB:"bissau|^(?=.*portu).*guinea",GUY:"guyana|british.?guiana",HTI:"haiti",HMD:"heard.*mcdonald",VAT:"holy.?see|vatican|papal.?st",HND:"^(?!.*brit).*honduras",HKG:"hong.?kong",HUN:"^(?!.*austr).*hungary",ISL:"iceland",IND:"india(?!.*ocea)",IDN:"indonesia",IRN:"\\biran|persia",IRQ:"\\biraq|mesopotamia",IRL:"(^ireland)|(^republic.*ireland)",IMN:"^(?=.*isle).*\\bman",ISR:"israel",ITA:"italy",JAM:"jamaica",JPN:"japan",JEY:"jersey",JOR:"jordan",KAZ:"kazak",KEN:"kenya|british.?east.?africa|east.?africa.?prot",KIR:"kiribati",PRK:"^(?=.*democrat|people|north|d.*p.*.r).*\\bkorea|dprk|korea.*(d.*p.*r)",KWT:"kuwait",KGZ:"kyrgyz|kirghiz",LAO:"\\blaos?\\b",LVA:"latvia",LBN:"lebanon",LSO:"lesotho|basuto",LBR:"liberia",LBY:"libya",LIE:"liechtenstein",LTU:"lithuania",LUX:"^(?!.*belg).*luxem",MAC:"maca(o|u)",MDG:"madagascar|malagasy",MWI:"malawi|nyasa",MYS:"malaysia",MDV:"maldive",MLI:"\\bmali\\b",MLT:"\\bmalta",MHL:"marshall",MTQ:"martinique",MRT:"mauritania",MUS:"mauritius",MYT:"\\bmayotte",MEX:"\\bmexic",FSM:"fed.*micronesia|micronesia.*fed",MCO:"monaco",MNG:"mongolia",MNE:"^(?!.*serbia).*montenegro",MSR:"montserrat",MAR:"morocco|\\bmaroc",MOZ:"mozambique",MMR:"myanmar|burma",NAM:"namibia",NRU:"nauru",NPL:"nepal",NLD:"^(?!.*\\bant)(?!.*\\bcarib).*netherlands",ANT:"^(?=.*\\bant).*(nether|dutch)",NCL:"new.?caledonia",NZL:"new.?zealand",NIC:"nicaragua",NER:"\\bniger(?!ia)",NGA:"nigeria",NIU:"niue",NFK:"norfolk",MNP:"mariana",NOR:"norway",OMN:"\\boman|trucial",PAK:"^(?!.*east).*paki?stan",PLW:"palau",PSE:"palestin|\\bgaza|west.?bank",PAN:"panama",PNG:"papua|new.?guinea",PRY:"paraguay",PER:"peru",PHL:"philippines",PCN:"pitcairn",POL:"poland",PRT:"portugal",PRI:"puerto.?rico",QAT:"qatar",KOR:"^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\bkorea(?!.*d.*p.*r)",MDA:"moldov|b(a|e)ssarabia",REU:"r(e|é)union",ROU:"r(o|u|ou)mania",RUS:"\\brussia|soviet.?union|u\\.?s\\.?s\\.?r|socialist.?republics",RWA:"rwanda",BLM:"barth(e|é)lemy",SHN:"helena",KNA:"kitts|\\bnevis",LCA:"\\blucia",MAF:"^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)",SPM:"miquelon",VCT:"vincent",WSM:"^(?!.*amer).*samoa",SMR:"san.?marino",STP:"\\bs(a|ã)o.?tom(e|é)",SAU:"\\bsa\\w*.?arabia",SEN:"senegal",SRB:"^(?!.*monte).*serbia",SYC:"seychell",SLE:"sierra",SGP:"singapore",SXM:"^(?!.*martin)(?!.*saba).*maarten",SVK:"^(?!.*cze).*slovak",SVN:"slovenia",SLB:"solomon",SOM:"somali",ZAF:"south.africa|s\\\\..?africa",SGS:"south.?georgia|sandwich",SSD:"\\bs\\w*.?sudan",ESP:"spain",LKA:"sri.?lanka|ceylon",SDN:"^(?!.*\\bs(?!u)).*sudan",SUR:"surinam|dutch.?guiana",SJM:"svalbard",SWZ:"swaziland",SWE:"sweden",CHE:"switz|swiss",SYR:"syria",TWN:"taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china",TJK:"tajik",THA:"thailand|\\bsiam",MKD:"macedonia|fyrom",TLS:"^(?=.*leste).*timor|^(?=.*east).*timor",TGO:"togo",TKL:"tokelau",TON:"tonga",TTO:"trinidad|tobago",TUN:"tunisia",TUR:"turkey",TKM:"turkmen",TCA:"turks",TUV:"tuvalu",UGA:"uganda",UKR:"ukrain",ARE:"emirates|^u\\.?a\\.?e\\.?$|united.?arab.?em",GBR:"united.?kingdom|britain|^u\\.?k\\.?$",TZA:"tanzania",USA:"united.?states\\b(?!.*islands)|\\bu\\.?s\\.?a\\.?\\b|^\\s*u\\.?s\\.?\\b(?!.*islands)",UMI:"minor.?outlying.?is",URY:"uruguay",UZB:"uzbek",VUT:"vanuatu|new.?hebrides",VEN:"venezuela",VNM:"^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam",VGB:"^(?=.*\\bu\\.?\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin",VIR:"^(?=.*\\bu\\.?\\s?s).*virgin|^(?=.*states).*virgin",WLF:"futuna|wallis",ESH:"western.sahara",YEM:"^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\bp\\.?d\\.?r).*yemen",YMD:"^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\bp\\.?d\\.?r).*yemen",YUG:"yugoslavia",ZMB:"zambia|northern.?rhodesia",EAZ:"zanzibar",ZWE:"zimbabwe|^(?!.*northern).*rhodesia"}},72791:function(Y,O,e){Y.exports={parse:e(41004),stringify:e(53313)}},63625:function(Y,O,e){var M=e(40402);Y.exports={isSize:function(k){return/^[\d\.]/.test(k)||k.indexOf("/")!==-1||M.indexOf(k)!==-1}}},41004:function(Y,O,e){var M=e(90448),k=e(38732),a=e(41901),_=e(15659),y=e(96209),d=e(83794),s=e(99011),t=e(63625).isSize;Y.exports=r;var i=r.cache={};function r(l){if(typeof l!="string")throw new Error("Font argument must be a string.");if(i[l])return i[l];if(l==="")throw new Error("Cannot parse an empty string.");if(a.indexOf(l)!==-1)return i[l]={system:l};for(var o,u={style:"normal",variant:"normal",weight:"normal",stretch:"normal",lineHeight:"normal",size:"1rem",family:["serif"]},p=s(l,/\s+/);o=p.shift();){if(k.indexOf(o)!==-1)return["style","variant","weight","stretch"].forEach(function(b){u[b]=o}),i[l]=u;if(y.indexOf(o)===-1)if(o!=="normal"&&o!=="small-caps")if(d.indexOf(o)===-1){if(_.indexOf(o)===-1){if(t(o)){var c=s(o,"/");if(u.size=c[0],c[1]!=null?u.lineHeight=n(c[1]):p[0]==="/"&&(p.shift(),u.lineHeight=n(p.shift())),!p.length)throw new Error("Missing required font-family.");return u.family=s(p.join(" "),/\s*,\s*/).map(M),i[l]=u}throw new Error("Unknown or unsupported font token: "+o)}u.weight=o}else u.stretch=o;else u.variant=o;else u.style=o}throw new Error("Missing required font-size.")}function n(l){var o=parseFloat(l);return o.toString()===l?o:l}},53313:function(Y,O,e){var M=e(71299),k=e(63625).isSize,a=l(e(38732)),_=l(e(41901)),y=l(e(15659)),d=l(e(96209)),s=l(e(83794)),t={normal:1,"small-caps":1},i={serif:1,"sans-serif":1,monospace:1,cursive:1,fantasy:1,"system-ui":1},r="serif";function n(o,u){if(o&&!u[o]&&!a[o])throw Error("Unknown keyword `"+o+"`");return o}function l(o){for(var u={},p=0;p<o.length;p++)u[o[p]]=1;return u}Y.exports=function(o){if((o=M(o,{style:"style fontstyle fontStyle font-style slope distinction",variant:"variant font-variant fontVariant fontvariant var capitalization",weight:"weight w font-weight fontWeight fontweight",stretch:"stretch font-stretch fontStretch fontstretch width",size:"size s font-size fontSize fontsize height em emSize",lineHeight:"lh line-height lineHeight lineheight leading",family:"font family fontFamily font-family fontfamily type typeface face",system:"system reserved default global"})).system)return o.system&&n(o.system,_),o.system;if(n(o.style,d),n(o.variant,t),n(o.weight,y),n(o.stretch,s),o.size==null&&(o.size="1rem"),typeof o.size=="number"&&(o.size+="px"),!k)throw Error("Bad size value `"+o.size+"`");o.family||(o.family=r),Array.isArray(o.family)&&(o.family.length||(o.family=[r]),o.family=o.family.map(function(p){return i[p]?p:'"'+p+'"'}).join(", "));var u=[];return u.push(o.style),o.variant!==o.style&&u.push(o.variant),o.weight!==o.variant&&o.weight!==o.style&&u.push(o.weight),o.stretch!==o.weight&&o.stretch!==o.variant&&o.stretch!==o.style&&u.push(o.stretch),u.push(o.size+(o.lineHeight==null||o.lineHeight==="normal"||o.lineHeight+""=="1"?"":"/"+o.lineHeight)),u.push(o.family),u.filter(Boolean).join(" ")}},55174:function(Y,O,e){var M,k=e(24582),a=e(10424),_=e(82527),y=e(19012),d=e(21780),s=e(16906),t=Function.prototype.bind,i=Object.defineProperty,r=Object.prototype.hasOwnProperty;M=function(n,l,o){var u,p=a(l)&&_(l.value);return delete(u=y(l)).writable,delete u.value,u.get=function(){return!o.overwriteDefinition&&r.call(this,n)?p:(l.value=t.call(p,o.resolveContext?o.resolveContext(this):this),i(this,n,l),this[n])},u},Y.exports=function(n){var l=d(arguments[1]);return k(l.resolveContext)&&_(l.resolveContext),s(n,function(o,u){return M(u,o,l)})}},62072:function(Y,O,e){var M=e(24582),k=e(84985),a=e(95879),_=e(21780),y=e(66741),d=Y.exports=function(s,t){var i,r,n,l,o;return arguments.length<2||typeof s!="string"?(l=t,t=s,s=null):l=arguments[2],M(s)?(i=y.call(s,"c"),r=y.call(s,"e"),n=y.call(s,"w")):(i=n=!0,r=!1),o={value:t,configurable:i,enumerable:r,writable:n},l?a(_(l),o):o};d.gs=function(s,t,i){var r,n,l,o;return typeof s!="string"?(l=i,i=t,t=s,s=null):l=arguments[3],M(t)?k(t)?M(i)?k(i)||(l=i,i=void 0):i=void 0:(l=t,t=i=void 0):t=void 0,M(s)?(r=y.call(s,"c"),n=y.call(s,"e")):(r=!0,n=!1),o={get:t,set:i,configurable:r,enumerable:n},l?a(_(l),o):o}},33064:function(Y,O,e){function M(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}e.d(O,{j2:function(){return M},Fp:function(){return _},J6:function(){return d},TS:function(){return s},VV:function(){return t},w6:function(){return i},Sm:function(){return r}}),(k=M).length===1&&(a=k,k=function(n,l){return M(a(n),l)});var k,a;function _(n,l){var o,u,p=n.length,c=-1;if(l==null){for(;++c<p;)if((o=n[c])!=null&&o>=o)for(u=o;++c<p;)(o=n[c])!=null&&o>u&&(u=o)}else for(;++c<p;)if((o=l(n[c],c,n))!=null&&o>=o)for(u=o;++c<p;)(o=l(n[c],c,n))!=null&&o>u&&(u=o);return u}function y(n){return n===null?NaN:+n}function d(n,l){var o,u=n.length,p=u,c=-1,b=0;if(l==null)for(;++c<u;)isNaN(o=y(n[c]))?--p:b+=o;else for(;++c<u;)isNaN(o=y(l(n[c],c,n)))?--p:b+=o;if(p)return b/p}function s(n){for(var l,o,u,p=n.length,c=-1,b=0;++c<p;)b+=n[c].length;for(o=new Array(b);--p>=0;)for(l=(u=n[p]).length;--l>=0;)o[--b]=u[l];return o}function t(n,l){var o,u,p=n.length,c=-1;if(l==null){for(;++c<p;)if((o=n[c])!=null&&o>=o)for(u=o;++c<p;)(o=n[c])!=null&&u>o&&(u=o)}else for(;++c<p;)if((o=l(n[c],c,n))!=null&&o>=o)for(u=o;++c<p;)(o=l(n[c],c,n))!=null&&u>o&&(u=o);return u}function i(n,l,o){n=+n,l=+l,o=(p=arguments.length)<2?(l=n,n=0,1):p<3?1:+o;for(var u=-1,p=0|Math.max(0,Math.ceil((l-n)/o)),c=new Array(p);++u<p;)c[u]=n+u*o;return c}function r(n,l){var o,u=n.length,p=-1,c=0;if(l==null)for(;++p<u;)(o=+n[p])&&(c+=o);else for(;++p<u;)(o=+l(n[p],p,n))&&(c+=o);return c}},15140:function(Y,O,e){e.d(O,{UI:function(){return _},b1:function(){return y}});var M="$";function k(){}function a(l,o){var u=new k;if(l instanceof k)l.each(function(h,x){u.set(x,h)});else if(Array.isArray(l)){var p,c=-1,b=l.length;if(o==null)for(;++c<b;)u.set(c,l[c]);else for(;++c<b;)u.set(o(p=l[c],c,l),p)}else if(l)for(var g in l)u.set(g,l[g]);return u}k.prototype=a.prototype={constructor:k,has:function(l){return M+l in this},get:function(l){return this[M+l]},set:function(l,o){return this[M+l]=o,this},remove:function(l){var o=M+l;return o in this&&delete this[o]},clear:function(){for(var l in this)l[0]===M&&delete this[l]},keys:function(){var l=[];for(var o in this)o[0]===M&&l.push(o.slice(1));return l},values:function(){var l=[];for(var o in this)o[0]===M&&l.push(this[o]);return l},entries:function(){var l=[];for(var o in this)o[0]===M&&l.push({key:o.slice(1),value:this[o]});return l},size:function(){var l=0;for(var o in this)o[0]===M&&++l;return l},empty:function(){for(var l in this)if(l[0]===M)return!1;return!0},each:function(l){for(var o in this)o[0]===M&&l(this[o],o.slice(1),this)}};var _=a;function y(){var l,o,u,p=[],c=[];function b(h,x,v,m){if(x>=p.length)return l!=null&&h.sort(l),o!=null?o(h):h;for(var w,f,S,T=-1,E=h.length,L=p[x++],C=_(),P=v();++T<E;)(S=C.get(w=L(f=h[T])+""))?S.push(f):C.set(w,[f]);return C.each(function(R,G){m(P,G,b(R,x,v,m))}),P}function g(h,x){if(++x>p.length)return h;var v,m=c[x-1];return o!=null&&x>=p.length?v=h.entries():(v=[],h.each(function(w,f){v.push({key:f,values:g(w,x)})})),m!=null?v.sort(function(w,f){return m(w.key,f.key)}):v}return u={object:function(h){return b(h,0,d,s)},map:function(h){return b(h,0,t,i)},entries:function(h){return g(b(h,0,t,i),0)},key:function(h){return p.push(h),u},sortKeys:function(h){return c[p.length-1]=h,u},sortValues:function(h){return l=h,u},rollup:function(h){return o=h,u}}}function d(){return{}}function s(l,o,u){l[o]=u}function t(){return _()}function i(l,o,u){l.set(o,u)}function r(){}var n=_.prototype;r.prototype={constructor:r,has:n.has,add:function(l){return this[M+(l+="")]=l,this},remove:n.remove,clear:n.clear,values:n.keys,size:n.size,empty:n.empty,each:n.each}},49887:function(Y,O,e){function M(me,ve){var Ie;function Se(){var ke,se,oe=Ie.length,he=0,Le=0;for(ke=0;ke<oe;++ke)he+=(se=Ie[ke]).x,Le+=se.y;for(he=he/oe-me,Le=Le/oe-ve,ke=0;ke<oe;++ke)(se=Ie[ke]).x-=he,se.y-=Le}return me==null&&(me=0),ve==null&&(ve=0),Se.initialize=function(ke){Ie=ke},Se.x=function(ke){return arguments.length?(me=+ke,Se):me},Se.y=function(ke){return arguments.length?(ve=+ke,Se):ve},Se}function k(me){return function(){return me}}function a(){return 1e-6*(Math.random()-.5)}function _(me,ve,Ie,Se){if(isNaN(ve)||isNaN(Ie))return me;var ke,se,oe,he,Le,Me,_e,De,Ne,ce=me._root,Te={data:Se},ye=me._x0,Oe=me._y0,Be=me._x1,Fe=me._y1;if(!ce)return me._root=Te,me;for(;ce.length;)if((Me=ve>=(se=(ye+Be)/2))?ye=se:Be=se,(_e=Ie>=(oe=(Oe+Fe)/2))?Oe=oe:Fe=oe,ke=ce,!(ce=ce[De=_e<<1|Me]))return ke[De]=Te,me;if(he=+me._x.call(null,ce.data),Le=+me._y.call(null,ce.data),ve===he&&Ie===Le)return Te.next=ce,ke?ke[De]=Te:me._root=Te,me;do ke=ke?ke[De]=new Array(4):me._root=new Array(4),(Me=ve>=(se=(ye+Be)/2))?ye=se:Be=se,(_e=Ie>=(oe=(Oe+Fe)/2))?Oe=oe:Fe=oe;while((De=_e<<1|Me)==(Ne=(Le>=oe)<<1|he>=se));return ke[Ne]=ce,ke[De]=Te,me}function y(me,ve,Ie,Se,ke){this.node=me,this.x0=ve,this.y0=Ie,this.x1=Se,this.y1=ke}function d(me){return me[0]}function s(me){return me[1]}function t(me,ve,Ie){var Se=new i(ve??d,Ie??s,NaN,NaN,NaN,NaN);return me==null?Se:Se.addAll(me)}function i(me,ve,Ie,Se,ke,se){this._x=me,this._y=ve,this._x0=Ie,this._y0=Se,this._x1=ke,this._y1=se,this._root=void 0}function r(me){for(var ve={data:me.data},Ie=ve;me=me.next;)Ie=Ie.next={data:me.data};return ve}e.r(O),e.d(O,{forceCenter:function(){return M},forceCollide:function(){return u},forceLink:function(){return g},forceManyBody:function(){return ue},forceRadial:function(){return pe},forceSimulation:function(){return ae},forceX:function(){return ge},forceY:function(){return we}});var n=t.prototype=i.prototype;function l(me){return me.x+me.vx}function o(me){return me.y+me.vy}function u(me){var ve,Ie,Se=1,ke=1;function se(){for(var Le,Me,_e,De,Ne,ce,Te,ye=ve.length,Oe=0;Oe<ke;++Oe)for(Me=t(ve,l,o).visitAfter(oe),Le=0;Le<ye;++Le)_e=ve[Le],ce=Ie[_e.index],Te=ce*ce,De=_e.x+_e.vx,Ne=_e.y+_e.vy,Me.visit(Be);function Be(Fe,Ge,Ze,et,ft){var rt=Fe.data,_t=Fe.r,kt=ce+_t;if(!rt)return Ge>De+kt||et<De-kt||Ze>Ne+kt||ft<Ne-kt;if(rt.index>_e.index){var wt=De-rt.x-rt.vx,lt=Ne-rt.y-rt.vy,ut=wt*wt+lt*lt;ut<kt*kt&&(wt===0&&(ut+=(wt=a())*wt),lt===0&&(ut+=(lt=a())*lt),ut=(kt-(ut=Math.sqrt(ut)))/ut*Se,_e.vx+=(wt*=ut)*(kt=(_t*=_t)/(Te+_t)),_e.vy+=(lt*=ut)*kt,rt.vx-=wt*(kt=1-kt),rt.vy-=lt*kt)}}}function oe(Le){if(Le.data)return Le.r=Ie[Le.data.index];for(var Me=Le.r=0;Me<4;++Me)Le[Me]&&Le[Me].r>Le.r&&(Le.r=Le[Me].r)}function he(){if(ve){var Le,Me,_e=ve.length;for(Ie=new Array(_e),Le=0;Le<_e;++Le)Me=ve[Le],Ie[Me.index]=+me(Me,Le,ve)}}return typeof me!="function"&&(me=k(me==null?1:+me)),se.initialize=function(Le){ve=Le,he()},se.iterations=function(Le){return arguments.length?(ke=+Le,se):ke},se.strength=function(Le){return arguments.length?(Se=+Le,se):Se},se.radius=function(Le){return arguments.length?(me=typeof Le=="function"?Le:k(+Le),he(),se):me},se}n.copy=function(){var me,ve,Ie=new i(this._x,this._y,this._x0,this._y0,this._x1,this._y1),Se=this._root;if(!Se)return Ie;if(!Se.length)return Ie._root=r(Se),Ie;for(me=[{source:Se,target:Ie._root=new Array(4)}];Se=me.pop();)for(var ke=0;ke<4;++ke)(ve=Se.source[ke])&&(ve.length?me.push({source:ve,target:Se.target[ke]=new Array(4)}):Se.target[ke]=r(ve));return Ie},n.add=function(me){var ve=+this._x.call(null,me),Ie=+this._y.call(null,me);return _(this.cover(ve,Ie),ve,Ie,me)},n.addAll=function(me){var ve,Ie,Se,ke,se=me.length,oe=new Array(se),he=new Array(se),Le=1/0,Me=1/0,_e=-1/0,De=-1/0;for(Ie=0;Ie<se;++Ie)isNaN(Se=+this._x.call(null,ve=me[Ie]))||isNaN(ke=+this._y.call(null,ve))||(oe[Ie]=Se,he[Ie]=ke,Se<Le&&(Le=Se),Se>_e&&(_e=Se),ke<Me&&(Me=ke),ke>De&&(De=ke));if(Le>_e||Me>De)return this;for(this.cover(Le,Me).cover(_e,De),Ie=0;Ie<se;++Ie)_(this,oe[Ie],he[Ie],me[Ie]);return this},n.cover=function(me,ve){if(isNaN(me=+me)||isNaN(ve=+ve))return this;var Ie=this._x0,Se=this._y0,ke=this._x1,se=this._y1;if(isNaN(Ie))ke=(Ie=Math.floor(me))+1,se=(Se=Math.floor(ve))+1;else{for(var oe,he,Le=ke-Ie,Me=this._root;Ie>me||me>=ke||Se>ve||ve>=se;)switch(he=(ve<Se)<<1|me<Ie,(oe=new Array(4))[he]=Me,Me=oe,Le*=2,he){case 0:ke=Ie+Le,se=Se+Le;break;case 1:Ie=ke-Le,se=Se+Le;break;case 2:ke=Ie+Le,Se=se-Le;break;case 3:Ie=ke-Le,Se=se-Le}this._root&&this._root.length&&(this._root=Me)}return this._x0=Ie,this._y0=Se,this._x1=ke,this._y1=se,this},n.data=function(){var me=[];return this.visit(function(ve){if(!ve.length)do me.push(ve.data);while(ve=ve.next)}),me},n.extent=function(me){return arguments.length?this.cover(+me[0][0],+me[0][1]).cover(+me[1][0],+me[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},n.find=function(me,ve,Ie){var Se,ke,se,oe,he,Le,Me,_e=this._x0,De=this._y0,Ne=this._x1,ce=this._y1,Te=[],ye=this._root;for(ye&&Te.push(new y(ye,_e,De,Ne,ce)),Ie==null?Ie=1/0:(_e=me-Ie,De=ve-Ie,Ne=me+Ie,ce=ve+Ie,Ie*=Ie);Le=Te.pop();)if(!(!(ye=Le.node)||(ke=Le.x0)>Ne||(se=Le.y0)>ce||(oe=Le.x1)<_e||(he=Le.y1)<De))if(ye.length){var Oe=(ke+oe)/2,Be=(se+he)/2;Te.push(new y(ye[3],Oe,Be,oe,he),new y(ye[2],ke,Be,Oe,he),new y(ye[1],Oe,se,oe,Be),new y(ye[0],ke,se,Oe,Be)),(Me=(ve>=Be)<<1|me>=Oe)&&(Le=Te[Te.length-1],Te[Te.length-1]=Te[Te.length-1-Me],Te[Te.length-1-Me]=Le)}else{var Fe=me-+this._x.call(null,ye.data),Ge=ve-+this._y.call(null,ye.data),Ze=Fe*Fe+Ge*Ge;if(Ze<Ie){var et=Math.sqrt(Ie=Ze);_e=me-et,De=ve-et,Ne=me+et,ce=ve+et,Se=ye.data}}return Se},n.remove=function(me){if(isNaN(se=+this._x.call(null,me))||isNaN(oe=+this._y.call(null,me)))return this;var ve,Ie,Se,ke,se,oe,he,Le,Me,_e,De,Ne,ce=this._root,Te=this._x0,ye=this._y0,Oe=this._x1,Be=this._y1;if(!ce)return this;if(ce.length)for(;;){if((Me=se>=(he=(Te+Oe)/2))?Te=he:Oe=he,(_e=oe>=(Le=(ye+Be)/2))?ye=Le:Be=Le,ve=ce,!(ce=ce[De=_e<<1|Me]))return this;if(!ce.length)break;(ve[De+1&3]||ve[De+2&3]||ve[De+3&3])&&(Ie=ve,Ne=De)}for(;ce.data!==me;)if(Se=ce,!(ce=ce.next))return this;return(ke=ce.next)&&delete ce.next,Se?(ke?Se.next=ke:delete Se.next,this):ve?(ke?ve[De]=ke:delete ve[De],(ce=ve[0]||ve[1]||ve[2]||ve[3])&&ce===(ve[3]||ve[2]||ve[1]||ve[0])&&!ce.length&&(Ie?Ie[Ne]=ce:this._root=ce),this):(this._root=ke,this)},n.removeAll=function(me){for(var ve=0,Ie=me.length;ve<Ie;++ve)this.remove(me[ve]);return this},n.root=function(){return this._root},n.size=function(){var me=0;return this.visit(function(ve){if(!ve.length)do++me;while(ve=ve.next)}),me},n.visit=function(me){var ve,Ie,Se,ke,se,oe,he=[],Le=this._root;for(Le&&he.push(new y(Le,this._x0,this._y0,this._x1,this._y1));ve=he.pop();)if(!me(Le=ve.node,Se=ve.x0,ke=ve.y0,se=ve.x1,oe=ve.y1)&&Le.length){var Me=(Se+se)/2,_e=(ke+oe)/2;(Ie=Le[3])&&he.push(new y(Ie,Me,_e,se,oe)),(Ie=Le[2])&&he.push(new y(Ie,Se,_e,Me,oe)),(Ie=Le[1])&&he.push(new y(Ie,Me,ke,se,_e)),(Ie=Le[0])&&he.push(new y(Ie,Se,ke,Me,_e))}return this},n.visitAfter=function(me){var ve,Ie=[],Se=[];for(this._root&&Ie.push(new y(this._root,this._x0,this._y0,this._x1,this._y1));ve=Ie.pop();){var ke=ve.node;if(ke.length){var se,oe=ve.x0,he=ve.y0,Le=ve.x1,Me=ve.y1,_e=(oe+Le)/2,De=(he+Me)/2;(se=ke[0])&&Ie.push(new y(se,oe,he,_e,De)),(se=ke[1])&&Ie.push(new y(se,_e,he,Le,De)),(se=ke[2])&&Ie.push(new y(se,oe,De,_e,Me)),(se=ke[3])&&Ie.push(new y(se,_e,De,Le,Me))}Se.push(ve)}for(;ve=Se.pop();)me(ve.node,ve.x0,ve.y0,ve.x1,ve.y1);return this},n.x=function(me){return arguments.length?(this._x=me,this):this._x},n.y=function(me){return arguments.length?(this._y=me,this):this._y};var p=e(15140);function c(me){return me.index}function b(me,ve){var Ie=me.get(ve);if(!Ie)throw new Error("missing: "+ve);return Ie}function g(me){var ve,Ie,Se,ke,se,oe=c,he=function(Te){return 1/Math.min(ke[Te.source.index],ke[Te.target.index])},Le=k(30),Me=1;function _e(Te){for(var ye=0,Oe=me.length;ye<Me;++ye)for(var Be,Fe,Ge,Ze,et,ft,rt,_t=0;_t<Oe;++_t)Fe=(Be=me[_t]).source,Ze=(Ge=Be.target).x+Ge.vx-Fe.x-Fe.vx||a(),et=Ge.y+Ge.vy-Fe.y-Fe.vy||a(),Ze*=ft=((ft=Math.sqrt(Ze*Ze+et*et))-Ie[_t])/ft*Te*ve[_t],et*=ft,Ge.vx-=Ze*(rt=se[_t]),Ge.vy-=et*rt,Fe.vx+=Ze*(rt=1-rt),Fe.vy+=et*rt}function De(){if(Se){var Te,ye,Oe=Se.length,Be=me.length,Fe=(0,p.UI)(Se,oe);for(Te=0,ke=new Array(Oe);Te<Be;++Te)(ye=me[Te]).index=Te,typeof ye.source!="object"&&(ye.source=b(Fe,ye.source)),typeof ye.target!="object"&&(ye.target=b(Fe,ye.target)),ke[ye.source.index]=(ke[ye.source.index]||0)+1,ke[ye.target.index]=(ke[ye.target.index]||0)+1;for(Te=0,se=new Array(Be);Te<Be;++Te)ye=me[Te],se[Te]=ke[ye.source.index]/(ke[ye.source.index]+ke[ye.target.index]);ve=new Array(Be),Ne(),Ie=new Array(Be),ce()}}function Ne(){if(Se)for(var Te=0,ye=me.length;Te<ye;++Te)ve[Te]=+he(me[Te],Te,me)}function ce(){if(Se)for(var Te=0,ye=me.length;Te<ye;++Te)Ie[Te]=+Le(me[Te],Te,me)}return me==null&&(me=[]),_e.initialize=function(Te){Se=Te,De()},_e.links=function(Te){return arguments.length?(me=Te,De(),_e):me},_e.id=function(Te){return arguments.length?(oe=Te,_e):oe},_e.iterations=function(Te){return arguments.length?(Me=+Te,_e):Me},_e.strength=function(Te){return arguments.length?(he=typeof Te=="function"?Te:k(+Te),Ne(),_e):he},_e.distance=function(Te){return arguments.length?(Le=typeof Te=="function"?Te:k(+Te),ce(),_e):Le},_e}var h={value:function(){}};function x(){for(var me,ve=0,Ie=arguments.length,Se={};ve<Ie;++ve){if(!(me=arguments[ve]+"")||me in Se||/[\s.]/.test(me))throw new Error("illegal type: "+me);Se[me]=[]}return new v(Se)}function v(me){this._=me}function m(me,ve){for(var Ie,Se=0,ke=me.length;Se<ke;++Se)if((Ie=me[Se]).name===ve)return Ie.value}function w(me,ve,Ie){for(var Se=0,ke=me.length;Se<ke;++Se)if(me[Se].name===ve){me[Se]=h,me=me.slice(0,Se).concat(me.slice(Se+1));break}return Ie!=null&&me.push({name:ve,value:Ie}),me}v.prototype=x.prototype={constructor:v,on:function(me,ve){var Ie,Se,ke=this._,se=(Se=ke,(me+"").trim().split(/^|\s+/).map(function(Le){var Me="",_e=Le.indexOf(".");if(_e>=0&&(Me=Le.slice(_e+1),Le=Le.slice(0,_e)),Le&&!Se.hasOwnProperty(Le))throw new Error("unknown type: "+Le);return{type:Le,name:Me}})),oe=-1,he=se.length;if(!(arguments.length<2)){if(ve!=null&&typeof ve!="function")throw new Error("invalid callback: "+ve);for(;++oe<he;)if(Ie=(me=se[oe]).type)ke[Ie]=w(ke[Ie],me.name,ve);else if(ve==null)for(Ie in ke)ke[Ie]=w(ke[Ie],me.name,null);return this}for(;++oe<he;)if((Ie=(me=se[oe]).type)&&(Ie=m(ke[Ie],me.name)))return Ie},copy:function(){var me={},ve=this._;for(var Ie in ve)me[Ie]=ve[Ie].slice();return new v(me)},call:function(me,ve){if((Ie=arguments.length-2)>0)for(var Ie,Se,ke=new Array(Ie),se=0;se<Ie;++se)ke[se]=arguments[se+2];if(!this._.hasOwnProperty(me))throw new Error("unknown type: "+me);for(se=0,Ie=(Se=this._[me]).length;se<Ie;++se)Se[se].value.apply(ve,ke)},apply:function(me,ve,Ie){if(!this._.hasOwnProperty(me))throw new Error("unknown type: "+me);for(var Se=this._[me],ke=0,se=Se.length;ke<se;++ke)Se[ke].value.apply(ve,Ie)}};var f,S,T=x,E=0,L=0,C=0,P=1e3,R=0,G=0,I=0,H=typeof performance=="object"&&performance.now?performance:Date,N=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(me){setTimeout(me,17)};function B(){return G||(N(V),G=H.now()+I)}function V(){G=0}function q(){this._call=this._time=this._next=null}function te(me,ve,Ie){var Se=new q;return Se.restart(me,ve,Ie),Se}function $(){G=(R=H.now())+I,E=L=0;try{(function(){B(),++E;for(var me,ve=f;ve;)(me=G-ve._time)>=0&&ve._call.call(null,me),ve=ve._next;--E})()}finally{E=0,function(){for(var me,ve,Ie=f,Se=1/0;Ie;)Ie._call?(Se>Ie._time&&(Se=Ie._time),me=Ie,Ie=Ie._next):(ve=Ie._next,Ie._next=null,Ie=me?me._next=ve:f=ve);S=me,Z(Se)}(),G=0}}function K(){var me=H.now(),ve=me-R;ve>P&&(I-=ve,R=me)}function Z(me){E||(L&&(L=clearTimeout(L)),me-G>24?(me<1/0&&(L=setTimeout($,me-H.now()-I)),C&&(C=clearInterval(C))):(C||(R=H.now(),C=setInterval(K,P)),E=1,N($)))}function X(me){return me.x}function ee(me){return me.y}q.prototype=te.prototype={constructor:q,restart:function(me,ve,Ie){if(typeof me!="function")throw new TypeError("callback is not a function");Ie=(Ie==null?B():+Ie)+(ve==null?0:+ve),this._next||S===this||(S?S._next=this:f=this,S=this),this._call=me,this._time=Ie,Z()},stop:function(){this._call&&(this._call=null,this._time=1/0,Z())}};var ne=10,re=Math.PI*(3-Math.sqrt(5));function ae(me){var ve,Ie=1,Se=.001,ke=1-Math.pow(Se,1/300),se=0,oe=.6,he=(0,p.UI)(),Le=te(_e),Me=T("tick","end");function _e(){De(),Me.call("tick",ve),Ie<Se&&(Le.stop(),Me.call("end",ve))}function De(Te){var ye,Oe,Be=me.length;Te===void 0&&(Te=1);for(var Fe=0;Fe<Te;++Fe)for(Ie+=(se-Ie)*ke,he.each(function(Ge){Ge(Ie)}),ye=0;ye<Be;++ye)(Oe=me[ye]).fx==null?Oe.x+=Oe.vx*=oe:(Oe.x=Oe.fx,Oe.vx=0),Oe.fy==null?Oe.y+=Oe.vy*=oe:(Oe.y=Oe.fy,Oe.vy=0);return ve}function Ne(){for(var Te,ye=0,Oe=me.length;ye<Oe;++ye){if((Te=me[ye]).index=ye,Te.fx!=null&&(Te.x=Te.fx),Te.fy!=null&&(Te.y=Te.fy),isNaN(Te.x)||isNaN(Te.y)){var Be=ne*Math.sqrt(ye),Fe=ye*re;Te.x=Be*Math.cos(Fe),Te.y=Be*Math.sin(Fe)}(isNaN(Te.vx)||isNaN(Te.vy))&&(Te.vx=Te.vy=0)}}function ce(Te){return Te.initialize&&Te.initialize(me),Te}return me==null&&(me=[]),Ne(),ve={tick:De,restart:function(){return Le.restart(_e),ve},stop:function(){return Le.stop(),ve},nodes:function(Te){return arguments.length?(me=Te,Ne(),he.each(ce),ve):me},alpha:function(Te){return arguments.length?(Ie=+Te,ve):Ie},alphaMin:function(Te){return arguments.length?(Se=+Te,ve):Se},alphaDecay:function(Te){return arguments.length?(ke=+Te,ve):+ke},alphaTarget:function(Te){return arguments.length?(se=+Te,ve):se},velocityDecay:function(Te){return arguments.length?(oe=1-Te,ve):1-oe},force:function(Te,ye){return arguments.length>1?(ye==null?he.remove(Te):he.set(Te,ce(ye)),ve):he.get(Te)},find:function(Te,ye,Oe){var Be,Fe,Ge,Ze,et,ft=0,rt=me.length;for(Oe==null?Oe=1/0:Oe*=Oe,ft=0;ft<rt;++ft)(Ge=(Be=Te-(Ze=me[ft]).x)*Be+(Fe=ye-Ze.y)*Fe)<Oe&&(et=Ze,Oe=Ge);return et},on:function(Te,ye){return arguments.length>1?(Me.on(Te,ye),ve):Me.on(Te)}}}function ue(){var me,ve,Ie,Se,ke=k(-30),se=1,oe=1/0,he=.81;function Le(Ne){var ce,Te=me.length,ye=t(me,X,ee).visitAfter(_e);for(Ie=Ne,ce=0;ce<Te;++ce)ve=me[ce],ye.visit(De)}function Me(){if(me){var Ne,ce,Te=me.length;for(Se=new Array(Te),Ne=0;Ne<Te;++Ne)ce=me[Ne],Se[ce.index]=+ke(ce,Ne,me)}}function _e(Ne){var ce,Te,ye,Oe,Be,Fe=0,Ge=0;if(Ne.length){for(ye=Oe=Be=0;Be<4;++Be)(ce=Ne[Be])&&(Te=Math.abs(ce.value))&&(Fe+=ce.value,Ge+=Te,ye+=Te*ce.x,Oe+=Te*ce.y);Ne.x=ye/Ge,Ne.y=Oe/Ge}else{(ce=Ne).x=ce.data.x,ce.y=ce.data.y;do Fe+=Se[ce.data.index];while(ce=ce.next)}Ne.value=Fe}function De(Ne,ce,Te,ye){if(!Ne.value)return!0;var Oe=Ne.x-ve.x,Be=Ne.y-ve.y,Fe=ye-ce,Ge=Oe*Oe+Be*Be;if(Fe*Fe/he<Ge)return Ge<oe&&(Oe===0&&(Ge+=(Oe=a())*Oe),Be===0&&(Ge+=(Be=a())*Be),Ge<se&&(Ge=Math.sqrt(se*Ge)),ve.vx+=Oe*Ne.value*Ie/Ge,ve.vy+=Be*Ne.value*Ie/Ge),!0;if(!(Ne.length||Ge>=oe)){(Ne.data!==ve||Ne.next)&&(Oe===0&&(Ge+=(Oe=a())*Oe),Be===0&&(Ge+=(Be=a())*Be),Ge<se&&(Ge=Math.sqrt(se*Ge)));do Ne.data!==ve&&(Fe=Se[Ne.data.index]*Ie/Ge,ve.vx+=Oe*Fe,ve.vy+=Be*Fe);while(Ne=Ne.next)}}return Le.initialize=function(Ne){me=Ne,Me()},Le.strength=function(Ne){return arguments.length?(ke=typeof Ne=="function"?Ne:k(+Ne),Me(),Le):ke},Le.distanceMin=function(Ne){return arguments.length?(se=Ne*Ne,Le):Math.sqrt(se)},Le.distanceMax=function(Ne){return arguments.length?(oe=Ne*Ne,Le):Math.sqrt(oe)},Le.theta=function(Ne){return arguments.length?(he=Ne*Ne,Le):Math.sqrt(he)},Le}function pe(me,ve,Ie){var Se,ke,se,oe=k(.1);function he(Me){for(var _e=0,De=Se.length;_e<De;++_e){var Ne=Se[_e],ce=Ne.x-ve||1e-6,Te=Ne.y-Ie||1e-6,ye=Math.sqrt(ce*ce+Te*Te),Oe=(se[_e]-ye)*ke[_e]*Me/ye;Ne.vx+=ce*Oe,Ne.vy+=Te*Oe}}function Le(){if(Se){var Me,_e=Se.length;for(ke=new Array(_e),se=new Array(_e),Me=0;Me<_e;++Me)se[Me]=+me(Se[Me],Me,Se),ke[Me]=isNaN(se[Me])?0:+oe(Se[Me],Me,Se)}}return typeof me!="function"&&(me=k(+me)),ve==null&&(ve=0),Ie==null&&(Ie=0),he.initialize=function(Me){Se=Me,Le()},he.strength=function(Me){return arguments.length?(oe=typeof Me=="function"?Me:k(+Me),Le(),he):oe},he.radius=function(Me){return arguments.length?(me=typeof Me=="function"?Me:k(+Me),Le(),he):me},he.x=function(Me){return arguments.length?(ve=+Me,he):ve},he.y=function(Me){return arguments.length?(Ie=+Me,he):Ie},he}function ge(me){var ve,Ie,Se,ke=k(.1);function se(he){for(var Le,Me=0,_e=ve.length;Me<_e;++Me)(Le=ve[Me]).vx+=(Se[Me]-Le.x)*Ie[Me]*he}function oe(){if(ve){var he,Le=ve.length;for(Ie=new Array(Le),Se=new Array(Le),he=0;he<Le;++he)Ie[he]=isNaN(Se[he]=+me(ve[he],he,ve))?0:+ke(ve[he],he,ve)}}return typeof me!="function"&&(me=k(me==null?0:+me)),se.initialize=function(he){ve=he,oe()},se.strength=function(he){return arguments.length?(ke=typeof he=="function"?he:k(+he),oe(),se):ke},se.x=function(he){return arguments.length?(me=typeof he=="function"?he:k(+he),oe(),se):me},se}function we(me){var ve,Ie,Se,ke=k(.1);function se(he){for(var Le,Me=0,_e=ve.length;Me<_e;++Me)(Le=ve[Me]).vy+=(Se[Me]-Le.y)*Ie[Me]*he}function oe(){if(ve){var he,Le=ve.length;for(Ie=new Array(Le),Se=new Array(Le),he=0;he<Le;++he)Ie[he]=isNaN(Se[he]=+me(ve[he],he,ve))?0:+ke(ve[he],he,ve)}}return typeof me!="function"&&(me=k(me==null?0:+me)),se.initialize=function(he){ve=he,oe()},se.strength=function(he){return arguments.length?(ke=typeof he=="function"?he:k(+he),oe(),se):ke},se.y=function(he){return arguments.length?(me=typeof he=="function"?he:k(+he),oe(),se):me},se}},60721:function(Y,O,e){function M(u,p){if((c=(u=p?u.toExponential(p-1):u.toExponential()).indexOf("e"))<0)return null;var c,b=u.slice(0,c);return[b.length>1?b[0]+b.slice(2):b,+u.slice(c+1)]}e.d(O,{WU:function(){return r},FF:function(){return o}});var k,a=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _(u){if(!(p=a.exec(u)))throw new Error("invalid format: "+u);var p;return new y({fill:p[1],align:p[2],sign:p[3],symbol:p[4],zero:p[5],width:p[6],comma:p[7],precision:p[8]&&p[8].slice(1),trim:p[9],type:p[10]})}function y(u){this.fill=u.fill===void 0?" ":u.fill+"",this.align=u.align===void 0?">":u.align+"",this.sign=u.sign===void 0?"-":u.sign+"",this.symbol=u.symbol===void 0?"":u.symbol+"",this.zero=!!u.zero,this.width=u.width===void 0?void 0:+u.width,this.comma=!!u.comma,this.precision=u.precision===void 0?void 0:+u.precision,this.trim=!!u.trim,this.type=u.type===void 0?"":u.type+""}function d(u,p){var c=M(u,p);if(!c)return u+"";var b=c[0],g=c[1];return g<0?"0."+new Array(-g).join("0")+b:b.length>g+1?b.slice(0,g+1)+"."+b.slice(g+1):b+new Array(g-b.length+2).join("0")}_.prototype=y.prototype,y.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var s={"%":function(u,p){return(100*u).toFixed(p)},b:function(u){return Math.round(u).toString(2)},c:function(u){return u+""},d:function(u){return Math.abs(u=Math.round(u))>=1e21?u.toLocaleString("en").replace(/,/g,""):u.toString(10)},e:function(u,p){return u.toExponential(p)},f:function(u,p){return u.toFixed(p)},g:function(u,p){return u.toPrecision(p)},o:function(u){return Math.round(u).toString(8)},p:function(u,p){return d(100*u,p)},r:d,s:function(u,p){var c=M(u,p);if(!c)return u+"";var b=c[0],g=c[1],h=g-(k=3*Math.max(-8,Math.min(8,Math.floor(g/3))))+1,x=b.length;return h===x?b:h>x?b+new Array(h-x+1).join("0"):h>0?b.slice(0,h)+"."+b.slice(h):"0."+new Array(1-h).join("0")+M(u,Math.max(0,p+h-1))[0]},X:function(u){return Math.round(u).toString(16).toUpperCase()},x:function(u){return Math.round(u).toString(16)}};function t(u){return u}var i,r,n=Array.prototype.map,l=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function o(u){var p,c,b=u.grouping===void 0||u.thousands===void 0?t:(p=n.call(u.grouping,Number),c=u.thousands+"",function(T,E){for(var L=T.length,C=[],P=0,R=p[0],G=0;L>0&&R>0&&(G+R+1>E&&(R=Math.max(1,E-G)),C.push(T.substring(L-=R,L+R)),!((G+=R+1)>E));)R=p[P=(P+1)%p.length];return C.reverse().join(c)}),g=u.currency===void 0?"":u.currency[0]+"",h=u.currency===void 0?"":u.currency[1]+"",x=u.decimal===void 0?".":u.decimal+"",v=u.numerals===void 0?t:function(T){return function(E){return E.replace(/[0-9]/g,function(L){return T[+L]})}}(n.call(u.numerals,String)),m=u.percent===void 0?"%":u.percent+"",w=u.minus===void 0?"-":u.minus+"",f=u.nan===void 0?"NaN":u.nan+"";function S(T){var E=(T=_(T)).fill,L=T.align,C=T.sign,P=T.symbol,R=T.zero,G=T.width,I=T.comma,H=T.precision,N=T.trim,B=T.type;B==="n"?(I=!0,B="g"):s[B]||(H===void 0&&(H=12),N=!0,B="g"),(R||E==="0"&&L==="=")&&(R=!0,E="0",L="=");var V=P==="$"?g:P==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",q=P==="$"?h:/[%p]/.test(B)?m:"",te=s[B],$=/[defgprs%]/.test(B);function K(Z){var X,ee,ne,re=V,ae=q;if(B==="c")ae=te(Z)+ae,Z="";else{var ue=(Z=+Z)<0||1/Z<0;if(Z=isNaN(Z)?f:te(Math.abs(Z),H),N&&(Z=function(we){e:for(var me,ve=we.length,Ie=1,Se=-1;Ie<ve;++Ie)switch(we[Ie]){case".":Se=me=Ie;break;case"0":Se===0&&(Se=Ie),me=Ie;break;default:if(!+we[Ie])break e;Se>0&&(Se=0)}return Se>0?we.slice(0,Se)+we.slice(me+1):we}(Z)),ue&&+Z==0&&C!=="+"&&(ue=!1),re=(ue?C==="("?C:w:C==="-"||C==="("?"":C)+re,ae=(B==="s"?l[8+k/3]:"")+ae+(ue&&C==="("?")":""),$){for(X=-1,ee=Z.length;++X<ee;)if(48>(ne=Z.charCodeAt(X))||ne>57){ae=(ne===46?x+Z.slice(X+1):Z.slice(X))+ae,Z=Z.slice(0,X);break}}}I&&!R&&(Z=b(Z,1/0));var pe=re.length+Z.length+ae.length,ge=pe<G?new Array(G-pe+1).join(E):"";switch(I&&R&&(Z=b(ge+Z,ge.length?G-ae.length:1/0),ge=""),L){case"<":Z=re+Z+ae+ge;break;case"=":Z=re+ge+Z+ae;break;case"^":Z=ge.slice(0,pe=ge.length>>1)+re+Z+ae+ge.slice(pe);break;default:Z=ge+re+Z+ae}return v(Z)}return H=H===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H)),K.toString=function(){return T+""},K}return{format:S,formatPrefix:function(T,E){var L,C=S(((T=_(T)).type="f",T)),P=3*Math.max(-8,Math.min(8,Math.floor((L=E,((L=M(Math.abs(L)))?L[1]:NaN)/3)))),R=Math.pow(10,-P),G=l[8+P/3];return function(I){return C(R*I)+G}}}}i=o({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),r=i.format,i.formatPrefix},65704:function(Y,O,e){e.r(O),e.d(O,{geoAiry:function(){return I},geoAiryRaw:function(){return G},geoAitoff:function(){return N},geoAitoffRaw:function(){return H},geoArmadillo:function(){return V},geoArmadilloRaw:function(){return B},geoAugust:function(){return te},geoAugustRaw:function(){return q},geoBaker:function(){return X},geoBakerRaw:function(){return Z},geoBerghaus:function(){return re},geoBerghausRaw:function(){return ne},geoBertin1953:function(){return Ie},geoBertin1953Raw:function(){return ve},geoBoggs:function(){return _e},geoBoggsRaw:function(){return Me},geoBonne:function(){return ye},geoBonneRaw:function(){return Te},geoBottomley:function(){return Be},geoBottomleyRaw:function(){return Oe},geoBromley:function(){return Ge},geoBromleyRaw:function(){return Fe},geoChamberlin:function(){return ut},geoChamberlinAfrica:function(){return lt},geoChamberlinRaw:function(){return kt},geoCollignon:function(){return Ot},geoCollignonRaw:function(){return Et},geoCraig:function(){return Lt},geoCraigRaw:function(){return zt},geoCraster:function(){return qe},geoCrasterRaw:function(){return Qe},geoCylindricalEqualArea:function(){return ct},geoCylindricalEqualAreaRaw:function(){return $e},geoCylindricalStereographic:function(){return Re},geoCylindricalStereographicRaw:function(){return at},geoEckert1:function(){return st},geoEckert1Raw:function(){return je},geoEckert2:function(){return xt},geoEckert2Raw:function(){return ot},geoEckert3:function(){return bt},geoEckert3Raw:function(){return mt},geoEckert4:function(){return St},geoEckert4Raw:function(){return dt},geoEckert5:function(){return vt},geoEckert5Raw:function(){return gt},geoEckert6:function(){return Bt},geoEckert6Raw:function(){return Mt},geoEisenlohr:function(){return an},geoEisenlohrRaw:function(){return qt},geoFahey:function(){return en},geoFaheyRaw:function(){return Yt},geoFoucaut:function(){return On},geoFoucautRaw:function(){return bn},geoFoucautSinusoidal:function(){return Xt},geoFoucautSinusoidalRaw:function(){return gn},geoGilbert:function(){return Mn},geoGingery:function(){return Rn},geoGingeryRaw:function(){return Tn},geoGinzburg4:function(){return sr},geoGinzburg4Raw:function(){return ir},geoGinzburg5:function(){return Jn},geoGinzburg5Raw:function(){return tr},geoGinzburg6:function(){return Ut},geoGinzburg6Raw:function(){return pr},geoGinzburg8:function(){return cn},geoGinzburg8Raw:function(){return rn},geoGinzburg9:function(){return Sn},geoGinzburg9Raw:function(){return vn},geoGringorten:function(){return Bn},geoGringortenQuincuncial:function(){return no},geoGringortenRaw:function(){return Dn},geoGuyou:function(){return Ct},geoGuyouRaw:function(){return An},geoHammer:function(){return ge},geoHammerRaw:function(){return ue},geoHammerRetroazimuthal:function(){return kn},geoHammerRetroazimuthalRaw:function(){return tn},geoHealpix:function(){return Yn},geoHealpixRaw:function(){return fn},geoHill:function(){return nr},geoHillRaw:function(){return Vn},geoHomolosine:function(){return gr},geoHomolosineRaw:function(){return dr},geoHufnagel:function(){return $n},geoHufnagelRaw:function(){return Sr},geoHyperelliptical:function(){return _i},geoHyperellipticalRaw:function(){return ii},geoInterrupt:function(){return fi},geoInterruptedBoggs:function(){return bo},geoInterruptedHomolosine:function(){return Do},geoInterruptedMollweide:function(){return ys},geoInterruptedMollweideHemispheres:function(){return Hl},geoInterruptedQuarticAuthalic:function(){return nl},geoInterruptedSinuMollweide:function(){return fu},geoInterruptedSinusoidal:function(){return bs},geoKavrayskiy7:function(){return Xi},geoKavrayskiy7Raw:function(){return wo},geoLagrange:function(){return ti},geoLagrangeRaw:function(){return el},geoLarrivee:function(){return Ro},geoLarriveeRaw:function(){return Za},geoLaskowski:function(){return Ko},geoLaskowskiRaw:function(){return uo},geoLittrow:function(){return Fo},geoLittrowRaw:function(){return zo},geoLoximuthal:function(){return hu},geoLoximuthalRaw:function(){return _l},geoMiller:function(){return pu},geoMillerRaw:function(){return $o},geoModifiedStereographic:function(){return eo},geoModifiedStereographicAlaska:function(){return _s},geoModifiedStereographicGs48:function(){return Ns},geoModifiedStereographicGs50:function(){return wl},geoModifiedStereographicLee:function(){return Wl},geoModifiedStereographicMiller:function(){return Yl},geoModifiedStereographicRaw:function(){return ql},geoMollweide:function(){return oe},geoMollweideRaw:function(){return se},geoMtFlatPolarParabolic:function(){return vu},geoMtFlatPolarParabolicRaw:function(){return Bo},geoMtFlatPolarQuartic:function(){return hi},geoMtFlatPolarQuarticRaw:function(){return es},geoMtFlatPolarSinusoidal:function(){return tl},geoMtFlatPolarSinusoidalRaw:function(){return co},geoNaturalEarth:function(){return to.Z},geoNaturalEarth2:function(){return Cu},geoNaturalEarth2Raw:function(){return Ts},geoNaturalEarthRaw:function(){return to.K},geoNellHammer:function(){return mu},geoNellHammerRaw:function(){return Tl},geoNicolosi:function(){return rl},geoNicolosiRaw:function(){return js},geoPatterson:function(){return Al},geoPattersonRaw:function(){return rs},geoPeirceQuincuncial:function(){return Sl},geoPierceQuincuncial:function(){return Sl},geoPolyconic:function(){return Zl},geoPolyconicRaw:function(){return ks},geoPolyhedral:function(){return is},geoPolyhedralButterfly:function(){return Xl},geoPolyhedralCollignon:function(){return ol},geoPolyhedralWaterman:function(){return Ho},geoProject:function(){return Es},geoQuantize:function(){return ro},geoQuincuncial:function(){return Xa},geoRectangularPolyconic:function(){return Ar},geoRectangularPolyconicRaw:function(){return ca},geoRobinson:function(){return El},geoRobinsonRaw:function(){return sl},geoSatellite:function(){return Cs},geoSatelliteRaw:function(){return Ls},geoSinuMollweide:function(){return or},geoSinuMollweideRaw:function(){return ar},geoSinusoidal:function(){return ce},geoSinusoidalRaw:function(){return Ne},geoStitch:function(){return na},geoTimes:function(){return Jl},geoTimesRaw:function(){return Ao},geoTwoPointAzimuthal:function(){return So},geoTwoPointAzimuthalRaw:function(){return ui},geoTwoPointAzimuthalUsa:function(){return Ka},geoTwoPointEquidistant:function(){return us},geoTwoPointEquidistantRaw:function(){return vo},geoTwoPointEquidistantUsa:function(){return Ll},geoVanDerGrinten:function(){return Ji},geoVanDerGrinten2:function(){return Or},geoVanDerGrinten2Raw:function(){return ya},geoVanDerGrinten3:function(){return Gs},geoVanDerGrinten3Raw:function(){return Ir},geoVanDerGrinten4:function(){return cs},geoVanDerGrinten4Raw:function(){return Oa},geoVanDerGrintenRaw:function(){return Ps},geoWagner:function(){return Ys},geoWagner4:function(){return ra},geoWagner4Raw:function(){return jr},geoWagner6:function(){return Va},geoWagner6Raw:function(){return Eo},geoWagner7:function(){return ba},geoWagnerRaw:function(){return xa},geoWiechel:function(){return Ws},geoWiechelRaw:function(){return Is},geoWinkel3:function(){return Yo},geoWinkel3Raw:function(){return Ds}});var M=e(15002),k=Math.abs,a=Math.atan,_=Math.atan2,y=Math.cos,d=Math.exp,s=Math.floor,t=Math.log,i=Math.max,r=Math.min,n=Math.pow,l=Math.round,o=Math.sign||function(z){return z>0?1:z<0?-1:0},u=Math.sin,p=Math.tan,c=1e-6,b=1e-12,g=Math.PI,h=g/2,x=g/4,v=Math.SQRT1_2,m=C(2),w=C(g),f=2*g,S=180/g,T=g/180;function E(z){return z>1?h:z<-1?-h:Math.asin(z)}function L(z){return z>1?0:z<-1?g:Math.acos(z)}function C(z){return z>0?Math.sqrt(z):0}function P(z){return(d(z)-d(-z))/2}function R(z){return(d(z)+d(-z))/2}function G(z){var U=p(z/2),j=2*t(y(z/2))/(U*U);function J(fe,Ae){var F=y(fe),Q=y(Ae),ie=u(Ae),de=Q*F,xe=-((1-de?t((1+de)/2)/(1-de):-.5)+j/(1+de));return[xe*Q*u(fe),xe*ie]}return J.invert=function(fe,Ae){var F,Q=C(fe*fe+Ae*Ae),ie=-z/2,de=50;if(!Q)return[0,0];do{var xe=ie/2,Ce=y(xe),Ue=u(xe),He=Ue/Ce,We=-t(k(Ce));ie-=F=(2/He*We-j*He-Q)/(-We/(Ue*Ue)+1-j/(2*Ce*Ce))*(Ce<0?.7:1)}while(k(F)>c&&--de>0);var Ke=u(ie);return[_(fe*Ke,Q*y(ie)),E(Ae*Ke/Q)]},J}function I(){var z=h,U=(0,M.r)(G),j=U(z);return j.radius=function(J){return arguments.length?U(z=J*T):z*S},j.scale(179.976).clipAngle(147)}function H(z,U){var j=y(U),J=function(fe){return fe?fe/Math.sin(fe):1}(L(j*y(z/=2)));return[2*j*u(z)*J,u(U)*J]}function N(){return(0,M.Z)(H).scale(152.63)}function B(z){var U=u(z),j=y(z),J=z>=0?1:-1,fe=p(J*z),Ae=(1+U-j)/2;function F(Q,ie){var de=y(ie),xe=y(Q/=2);return[(1+de)*u(Q),(J*ie>-_(xe,fe)-.001?0:10*-J)+Ae+u(ie)*j-(1+de)*U*xe]}return F.invert=function(Q,ie){var de=0,xe=0,Ce=50;do{var Ue=y(de),He=u(de),We=y(xe),Ke=u(xe),nt=1+We,pt=nt*He-Q,yt=Ae+Ke*j-nt*U*Ue-ie,It=nt*Ue/2,Rt=-He*Ke,Pt=U*nt*He/2,Vt=j*We+U*Ue*Ke,Dt=Rt*Pt-Vt*It,sn=(yt*Rt-pt*Vt)/Dt/2,Kt=(pt*Pt-yt*It)/Dt;k(Kt)>2&&(Kt/=2),de-=sn,xe-=Kt}while((k(sn)>c||k(Kt)>c)&&--Ce>0);return J*xe>-_(y(de),fe)-.001?[2*de,xe]:null},F}function V(){var z=20*T,U=z>=0?1:-1,j=p(U*z),J=(0,M.r)(B),fe=J(z),Ae=fe.stream;return fe.parallel=function(F){return arguments.length?(j=p((U=(z=F*T)>=0?1:-1)*z),J(z)):z*S},fe.stream=function(F){var Q=fe.rotate(),ie=Ae(F),de=(fe.rotate([0,0]),Ae(F)),xe=fe.precision();return fe.rotate(Q),ie.sphere=function(){de.polygonStart(),de.lineStart();for(var Ce=-180*U;U*Ce<180;Ce+=90*U)de.point(Ce,90*U);if(z)for(;U*(Ce-=3*U*xe)>=-180;)de.point(Ce,U*-_(y(Ce*T/2),j)*S);de.lineEnd(),de.polygonEnd()},ie},fe.scale(218.695).center([0,28.0974])}function q(z,U){var j=p(U/2),J=C(1-j*j),fe=1+J*y(z/=2),Ae=u(z)*J/fe,F=j/fe,Q=Ae*Ae,ie=F*F;return[1.3333333333333333*Ae*(3+Q-3*ie),1.3333333333333333*F*(3+3*Q-ie)]}function te(){return(0,M.Z)(q).scale(66.1603)}H.invert=function(z,U){if(!(z*z+4*U*U>g*g+c)){var j=z,J=U,fe=25;do{var Ae,F=u(j),Q=u(j/2),ie=y(j/2),de=u(J),xe=y(J),Ce=u(2*J),Ue=de*de,He=xe*xe,We=Q*Q,Ke=1-He*ie*ie,nt=Ke?L(xe*ie)*C(Ae=1/Ke):Ae=0,pt=2*nt*xe*Q-z,yt=nt*de-U,It=Ae*(He*We+nt*xe*ie*Ue),Rt=Ae*(.5*F*Ce-2*nt*de*Q),Pt=.25*Ae*(Ce*Q-nt*de*He*F),Vt=Ae*(Ue*ie+nt*We*xe),Dt=Rt*Pt-Vt*It;if(!Dt)break;var sn=(yt*Rt-pt*Vt)/Dt,Kt=(pt*Pt-yt*It)/Dt;j-=sn,J-=Kt}while((k(sn)>c||k(Kt)>c)&&--fe>0);return[j,J]}},q.invert=function(z,U){if(U*=.375,!(z*=.375)&&k(U)>1)return null;var j=1+z*z+U*U,J=C((j-C(j*j-4*U*U))/2),fe=E(J)/3,Ae=J?function(de){return t(de+C(de*de-1))}(k(U/J))/3:function(de){return t(de+C(de*de+1))}(k(z))/3,F=y(fe),Q=R(Ae),ie=Q*Q-F*F;return[2*o(z)*_(P(Ae)*F,.25-ie),2*o(U)*_(Q*u(fe),.25+ie)]};var $=C(8),K=t(1+m);function Z(z,U){var j=k(U);return j<x?[z,t(p(x+U/2))]:[z*y(j)*(2*m-1/u(j)),o(U)*(2*m*(j-x)-t(p(j/2)))]}function X(){return(0,M.Z)(Z).scale(112.314)}Z.invert=function(z,U){if((J=k(U))<K)return[z,2*a(d(U))-h];var j,J,fe=x,Ae=25;do{var F=y(fe/2),Q=p(fe/2);fe-=j=($*(fe-x)-t(Q)-J)/($-F*F/(2*Q))}while(k(j)>b&&--Ae>0);return[z/(y(fe)*($-1/u(fe))),o(U)*fe]};var ee=e(17889);function ne(z){var U=2*g/z;function j(J,fe){var Ae=(0,ee.N)(J,fe);if(k(J)>h){var F=_(Ae[1],Ae[0]),Q=C(Ae[0]*Ae[0]+Ae[1]*Ae[1]),ie=U*l((F-h)/U)+h,de=_(u(F-=ie),2-y(F));F=ie+E(g/Q*u(de))-de,Ae[0]=Q*y(F),Ae[1]=Q*u(F)}return Ae}return j.invert=function(J,fe){var Ae=C(J*J+fe*fe);if(Ae>h){var F=_(fe,J),Q=U*l((F-h)/U)+h,ie=F>Q?-1:1,de=Ae*y(Q-F),xe=1/p(ie*L((de-g)/C(g*(g-2*de)+Ae*Ae)));F=Q+2*a((xe+ie*C(xe*xe-3))/3),J=Ae*y(F),fe=Ae*u(F)}return ee.N.invert(J,fe)},j}function re(){var z=5,U=(0,M.r)(ne),j=U(z),J=j.stream,fe=.01,Ae=-y(fe*T),F=u(fe*T);return j.lobes=function(Q){return arguments.length?U(z=+Q):z},j.stream=function(Q){var ie=j.rotate(),de=J(Q),xe=(j.rotate([0,0]),J(Q));return j.rotate(ie),de.sphere=function(){xe.polygonStart(),xe.lineStart();for(var Ce=0,Ue=360/z,He=2*g/z,We=90-180/z,Ke=h;Ce<z;++Ce,We-=Ue,Ke-=He)xe.point(_(F*y(Ke),Ae)*S,E(F*u(Ke))*S),We<-90?(xe.point(-90,-180-We-fe),xe.point(-90,-180-We+fe)):(xe.point(90,We+fe),xe.point(90,We-fe));xe.lineEnd(),xe.polygonEnd()},de},j.scale(87.8076).center([0,17.1875]).clipAngle(179.999)}var ae=e(12956);function ue(z,U){if(arguments.length<2&&(U=z),U===1)return ae.l;if(U===1/0)return pe;function j(J,fe){var Ae=(0,ae.l)(J/U,fe);return Ae[0]*=z,Ae}return j.invert=function(J,fe){var Ae=ae.l.invert(J/z,fe);return Ae[0]*=U,Ae},j}function pe(z,U){return[z*y(U)/y(U/=2),2*u(U)]}function ge(){var z=2,U=(0,M.r)(ue),j=U(z);return j.coefficient=function(J){return arguments.length?U(z=+J):z},j.scale(169.529)}function we(z,U,j){var J,fe,Ae,F=100;j=j===void 0?0:+j,U=+U;do(fe=z(j))===(Ae=z(j+c))&&(Ae=fe+c),j-=J=-1*c*(fe-U)/(fe-Ae);while(F-- >0&&k(J)>c);return F<0?NaN:j}function me(z,U,j){return U===void 0&&(U=40),j===void 0&&(j=b),function(J,fe,Ae,F){var Q,ie,de;Ae=Ae===void 0?0:+Ae,F=F===void 0?0:+F;for(var xe=0;xe<U;xe++){var Ce=z(Ae,F),Ue=Ce[0]-J,He=Ce[1]-fe;if(k(Ue)<j&&k(He)<j)break;var We=Ue*Ue+He*He;if(We>Q)Ae-=ie/=2,F-=de/=2;else{Q=We;var Ke=(Ae>0?-1:1)*j,nt=(F>0?-1:1)*j,pt=z(Ae+Ke,F),yt=z(Ae,F+nt),It=(pt[0]-Ce[0])/Ke,Rt=(pt[1]-Ce[1])/Ke,Pt=(yt[0]-Ce[0])/nt,Vt=(yt[1]-Ce[1])/nt,Dt=Vt*It-Rt*Pt,sn=(k(Dt)<.5?.5:1)/Dt;if(Ae+=ie=(He*Pt-Ue*Vt)*sn,F+=de=(Ue*Rt-He*It)*sn,k(ie)<j&&k(de)<j)break}}return[Ae,F]}}function ve(){var z=ue(1.68,2);function U(j,J){if(j+J<-1.4){var fe=(j-J+1.6)*(j+J+1.4)/8;j+=fe,J-=.8*fe*u(J+g/2)}var Ae=z(j,J),F=(1-y(j*J))/12;return Ae[1]<0&&(Ae[0]*=1+F),Ae[1]>0&&(Ae[1]*=1+F/1.5*Ae[0]*Ae[0]),Ae}return U.invert=me(U),U}function Ie(){return(0,M.Z)(ve()).rotate([-16.5,-42]).scale(176.57).center([7.93,.09])}function Se(z,U){var j,J=z*u(U),fe=30;do U-=j=(U+u(U)-J)/(1+y(U));while(k(j)>c&&--fe>0);return U/2}function ke(z,U,j){function J(fe,Ae){return[z*fe*y(Ae=Se(j,Ae)),U*u(Ae)]}return J.invert=function(fe,Ae){return Ae=E(Ae/U),[fe/(z*y(Ae)),E((2*Ae+u(2*Ae))/j)]},J}pe.invert=function(z,U){var j=2*E(U/2);return[z*y(j/2)/y(j),j]};var se=ke(m/h,m,g);function oe(){return(0,M.Z)(se).scale(169.529)}var he=2.00276,Le=1.11072;function Me(z,U){var j=Se(g,U);return[he*z/(1/y(U)+Le/y(j)),(U+m*u(j))/he]}function _e(){return(0,M.Z)(Me).scale(160.857)}function De(z){var U=0,j=(0,M.r)(z),J=j(U);return J.parallel=function(fe){return arguments.length?j(U=fe*T):U*S},J}function Ne(z,U){return[z*y(U),U]}function ce(){return(0,M.Z)(Ne).scale(152.63)}function Te(z){if(!z)return Ne;var U=1/p(z);function j(J,fe){var Ae=U+z-fe,F=Ae&&J*y(fe)/Ae;return[Ae*u(F),U-Ae*y(F)]}return j.invert=function(J,fe){var Ae=C(J*J+(fe=U-fe)*fe),F=U+z-Ae;return[Ae/y(F)*_(J,fe),F]},j}function ye(){return De(Te).scale(123.082).center([0,26.1441]).parallel(45)}function Oe(z){function U(j,J){var fe=h-J,Ae=fe&&j*z*u(fe)/fe;return[fe*u(Ae)/z,h-fe*y(Ae)]}return U.invert=function(j,J){var fe=j*z,Ae=h-J,F=C(fe*fe+Ae*Ae),Q=_(fe,Ae);return[(F?F/u(F):1)*Q/z,h-F]},U}function Be(){var z=.5,U=(0,M.r)(Oe),j=U(z);return j.fraction=function(J){return arguments.length?U(z=+J):z},j.scale(158.837)}Me.invert=function(z,U){var j,J,fe=he*U,Ae=U<0?-x:x,F=25;do J=fe-m*u(Ae),Ae-=j=(u(2*Ae)+2*Ae-g*u(J))/(2*y(2*Ae)+2+g*y(J)*m*y(Ae));while(k(j)>c&&--F>0);return J=fe-m*u(Ae),[z*(1/y(J)+Le/y(Ae))/he,J]},Ne.invert=function(z,U){return[z/y(U),U]};var Fe=ke(1,4/g,g);function Ge(){return(0,M.Z)(Fe).scale(152.63)}var Ze=e(66624),et=e(49386);function ft(z,U,j,J,fe,Ae){var F,Q=y(Ae);if(k(z)>1||k(Ae)>1)F=L(j*fe+U*J*Q);else{var ie=u(z/2),de=u(Ae/2);F=2*E(C(ie*ie+U*J*de*de))}return k(F)>c?[F,_(J*u(Ae),U*fe-j*J*Q)]:[0,0]}function rt(z,U,j){return L((z*z+U*U-j*j)/(2*z*U))}function _t(z){return z-2*g*s((z+g)/(2*g))}function kt(z,U,j){for(var J,fe=[[z[0],z[1],u(z[1]),y(z[1])],[U[0],U[1],u(U[1]),y(U[1])],[j[0],j[1],u(j[1]),y(j[1])]],Ae=fe[2],F=0;F<3;++F,Ae=J)J=fe[F],Ae.v=ft(J[1]-Ae[1],Ae[3],Ae[2],J[3],J[2],J[0]-Ae[0]),Ae.point=[0,0];var Q=rt(fe[0].v[0],fe[2].v[0],fe[1].v[0]),ie=rt(fe[0].v[0],fe[1].v[0],fe[2].v[0]),de=g-Q;fe[2].point[1]=0,fe[0].point[0]=-(fe[1].point[0]=fe[0].v[0]/2);var xe=[fe[2].point[0]=fe[0].point[0]+fe[2].v[0]*y(Q),2*(fe[0].point[1]=fe[1].point[1]=fe[2].v[0]*u(Q))];return function(Ce,Ue){var He,We=u(Ue),Ke=y(Ue),nt=new Array(3);for(He=0;He<3;++He){var pt=fe[He];if(nt[He]=ft(Ue-pt[1],pt[3],pt[2],Ke,We,Ce-pt[0]),!nt[He][0])return pt.point;nt[He][1]=_t(nt[He][1]-pt.v[1])}var yt=xe.slice();for(He=0;He<3;++He){var It=He==2?0:He+1,Rt=rt(fe[He].v[0],nt[He][0],nt[It][0]);nt[He][1]<0&&(Rt=-Rt),He?He==1?(Rt=ie-Rt,yt[0]-=nt[He][0]*y(Rt),yt[1]-=nt[He][0]*u(Rt)):(Rt=de-Rt,yt[0]+=nt[He][0]*y(Rt),yt[1]+=nt[He][0]*u(Rt)):(yt[0]+=nt[He][0]*y(Rt),yt[1]-=nt[He][0]*u(Rt))}return yt[0]/=3,yt[1]/=3,yt}}function wt(z){return z[0]*=T,z[1]*=T,z}function lt(){return ut([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])}function ut(z,U,j){var J=(0,Ze.Z)({type:"MultiPoint",coordinates:[z,U,j]}),fe=[-J[0],-J[1]],Ae=(0,et.Z)(fe),F=kt(wt(Ae(z)),wt(Ae(U)),wt(Ae(j)));F.invert=me(F);var Q=(0,M.Z)(F).rotate(fe),ie=Q.center;return delete Q.rotate,Q.center=function(de){return arguments.length?ie(Ae(de)):Ae.invert(ie())},Q.clipAngle(90)}function Et(z,U){var j=C(1-u(U));return[2/w*z*j,w*(1-j)]}function Ot(){return(0,M.Z)(Et).scale(95.6464).center([0,30])}function zt(z){var U=p(z);function j(J,fe){return[J,(J?J/u(J):1)*(u(fe)*y(J)-U*y(fe))]}return j.invert=U?function(J,fe){J&&(fe*=u(J)/J);var Ae=y(J);return[J,2*_(C(Ae*Ae+U*U-fe*fe)-Ae,U-fe)]}:function(J,fe){return[J,E(J?fe*p(J)/J:fe)]},j}function Lt(){return De(zt).scale(249.828).clipAngle(90)}Et.invert=function(z,U){var j=(j=U/w-1)*j;return[j>0?z*C(g/j)/2:0,E(1-j)]};var Je=C(3);function Qe(z,U){return[Je*z*(2*y(2*U/3)-1)/w,Je*w*u(U/3)]}function qe(){return(0,M.Z)(Qe).scale(156.19)}function $e(z){var U=y(z);function j(J,fe){return[J*U,u(fe)/U]}return j.invert=function(J,fe){return[J/U,E(fe*U)]},j}function ct(){return De($e).parallel(38.58).scale(195.044)}function at(z){var U=y(z);function j(J,fe){return[J*U,(1+U)*p(fe/2)]}return j.invert=function(J,fe){return[J/U,2*a(fe/(1+U))]},j}function Re(){return De(at).scale(124.75)}function je(z,U){var j=C(8/(3*g));return[j*z*(1-k(U)/g),j*U]}function st(){return(0,M.Z)(je).scale(165.664)}function ot(z,U){var j=C(4-3*u(k(U)));return[2/C(6*g)*z*j,o(U)*C(2*g/3)*(2-j)]}function xt(){return(0,M.Z)(ot).scale(165.664)}function mt(z,U){var j=C(g*(4+g));return[2/j*z*(1+C(1-4*U*U/(g*g))),4/j*U]}function bt(){return(0,M.Z)(mt).scale(180.739)}function dt(z,U){var j=(2+h)*u(U);U/=2;for(var J=0,fe=1/0;J<10&&k(fe)>c;J++){var Ae=y(U);U-=fe=(U+u(U)*(Ae+2)-j)/(2*Ae*(1+Ae))}return[2/C(g*(4+g))*z*(1+y(U)),2*C(g/(4+g))*u(U)]}function St(){return(0,M.Z)(dt).scale(180.739)}function gt(z,U){return[z*(1+y(U))/C(2+g),2*U/C(2+g)]}function vt(){return(0,M.Z)(gt).scale(173.044)}function Mt(z,U){for(var j=(1+h)*u(U),J=0,fe=1/0;J<10&&k(fe)>c;J++)U-=fe=(U+u(U)-j)/(1+y(U));return j=C(2+g),[z*(1+y(U))/j,2*U/j]}function Bt(){return(0,M.Z)(Mt).scale(173.044)}Qe.invert=function(z,U){var j=3*E(U/(Je*w));return[w*z/(Je*(2*y(2*j/3)-1)),j]},je.invert=function(z,U){var j=C(8/(3*g)),J=U/j;return[z/(j*(1-k(J)/g)),J]},ot.invert=function(z,U){var j=2-k(U)/C(2*g/3);return[z*C(6*g)/(2*j),o(U)*E((4-j*j)/3)]},mt.invert=function(z,U){var j=C(g*(4+g))/2;return[z*j/(1+C(1-U*U*(4+g)/(4*g))),U*j/2]},dt.invert=function(z,U){var j=U*C((4+g)/g)/2,J=E(j),fe=y(J);return[z/(2/C(g*(4+g))*(1+fe)),E((J+j*(fe+2))/(2+h))]},gt.invert=function(z,U){var j=C(2+g),J=U*j/2;return[j*z/(1+y(J)),J]},Mt.invert=function(z,U){var j=1+h,J=C(j/2);return[2*z*J/(1+y(U*=J)),E((U+u(U))/j)]};var Nt=3+2*m;function qt(z,U){var j=u(z/=2),J=y(z),fe=C(y(U)),Ae=y(U/=2),F=u(U)/(Ae+m*J*fe),Q=C(2/(1+F*F)),ie=C((m*Ae+(J+j)*fe)/(m*Ae+(J-j)*fe));return[Nt*(Q*(ie-1/ie)-2*t(ie)),Nt*(Q*F*(ie+1/ie)-2*a(F))]}function an(){return(0,M.Z)(qt).scale(62.5271)}qt.invert=function(z,U){if(!(j=q.invert(z/1.2,1.065*U)))return null;var j,J=j[0],fe=j[1],Ae=20;z/=Nt,U/=Nt;do{var F=J/2,Q=fe/2,ie=u(F),de=y(F),xe=u(Q),Ce=y(Q),Ue=y(fe),He=C(Ue),We=xe/(Ce+m*de*He),Ke=We*We,nt=C(2/(1+Ke)),pt=(m*Ce+(de+ie)*He)/(m*Ce+(de-ie)*He),yt=C(pt),It=yt-1/yt,Rt=yt+1/yt,Pt=nt*It-2*t(yt)-z,Vt=nt*We*Rt-2*a(We)-U,Dt=xe&&v*He*ie*Ke/xe,sn=(m*de*Ce+He)/(2*(Ce+m*de*He)*(Ce+m*de*He)*He),Kt=-.5*We*nt*nt*nt,Zt=Kt*Dt,xn=Kt*sn,_n=(_n=2*Ce+m*He*(de-ie))*_n*yt,jn=(m*de*Ce*He+Ue)/_n,Un=-m*ie*xe/(He*_n),Wn=It*Zt-2*jn/yt+nt*(jn+jn/pt),er=It*xn-2*Un/yt+nt*(Un+Un/pt),fr=We*Rt*Zt-2*Dt/(1+Ke)+nt*Rt*Dt+nt*We*(jn-jn/pt),cr=We*Rt*xn-2*sn/(1+Ke)+nt*Rt*sn+nt*We*(Un-Un/pt),vr=er*fr-cr*Wn;if(!vr)break;var kr=(Vt*er-Pt*cr)/vr,Br=(Pt*fr-Vt*Wn)/vr;J-=kr,fe=i(-h,r(h,fe-Br))}while((k(kr)>c||k(Br)>c)&&--Ae>0);return k(k(fe)-h)<c?[0,fe]:Ae&&[J,fe]};var Gt=y(35*T);function Yt(z,U){var j=p(U/2);return[z*Gt*C(1-j*j),(1+Gt)*j]}function en(){return(0,M.Z)(Yt).scale(137.152)}function bn(z,U){var j=U/2,J=y(j);return[2*z/w*y(U)*J*J,w*p(j)]}function On(){return(0,M.Z)(bn).scale(135.264)}function gn(z){var U=1-z,j=fe(g,0)[0]-fe(-g,0)[0],J=C(2*(fe(0,h)[1]-fe(0,-h)[1])/j);function fe(Q,ie){var de=y(ie),xe=u(ie);return[de/(U+z*de)*Q,U*ie+z*xe]}function Ae(Q,ie){var de=fe(Q,ie);return[de[0]*J,de[1]/J]}function F(Q){return Ae(0,Q)[1]}return Ae.invert=function(Q,ie){var de=we(F,ie);return[Q/J*(z+U/y(de)),de]},Ae}function Xt(){var z=.5,U=(0,M.r)(gn),j=U(z);return j.alpha=function(J){return arguments.length?U(z=+J):z},j.scale(168.725)}Yt.invert=function(z,U){var j=U/(1+Gt);return[z&&z/(Gt*C(1-j*j)),2*a(j)]},bn.invert=function(z,U){var j=a(U/w),J=y(j),fe=2*j;return[z*w/2/(y(fe)*J*J),fe]};var ln=e(57962),nn=e(97492);function hn(z){return[z[0]/2,E(p(z[1]/2*T))*S]}function mn(z){return[2*z[0],2*a(u(z[1]*T))*S]}function Mn(z){z==null&&(z=ln.Z);var U=z(),j=(0,nn.Z)().scale(S).precision(0).clipAngle(null).translate([0,0]);function J(Ae){return U(hn(Ae))}function fe(Ae){J[Ae]=function(){return arguments.length?(U[Ae].apply(U,arguments),J):U[Ae]()}}return U.invert&&(J.invert=function(Ae){return mn(U.invert(Ae))}),J.stream=function(Ae){var F=U.stream(Ae),Q=j.stream({point:function(ie,de){F.point(ie/2,E(p(-de/2*T))*S)},lineStart:function(){F.lineStart()},lineEnd:function(){F.lineEnd()},polygonStart:function(){F.polygonStart()},polygonEnd:function(){F.polygonEnd()}});return Q.sphere=F.sphere,Q},J.rotate=function(Ae){return arguments.length?(j.rotate(Ae),J):j.rotate()},J.center=function(Ae){return arguments.length?(U.center(hn(Ae)),J):mn(U.center())},fe("angle"),fe("clipAngle"),fe("clipExtent"),fe("fitExtent"),fe("fitHeight"),fe("fitSize"),fe("fitWidth"),fe("scale"),fe("translate"),fe("precision"),J.scale(249.5)}function Tn(z,U){var j=2*g/U,J=z*z;function fe(Ae,F){var Q=(0,ee.N)(Ae,F),ie=Q[0],de=Q[1],xe=ie*ie+de*de;if(xe>J){var Ce=C(xe),Ue=_(de,ie),He=j*l(Ue/j),We=Ue-He,Ke=z*y(We),nt=(z*u(We)-We*u(Ke))/(h-Ke),pt=Pn(We,nt),yt=(g-z)/yn(pt,Ke,g);ie=Ce;var It,Rt=50;do ie-=It=(z+yn(pt,Ke,ie)*yt-Ce)/(pt(ie)*yt);while(k(It)>c&&--Rt>0);de=We*u(ie),ie<h&&(de-=nt*(ie-h));var Pt=u(He),Vt=y(He);Q[0]=ie*Vt-de*Pt,Q[1]=ie*Pt+de*Vt}return Q}return fe.invert=function(Ae,F){var Q=Ae*Ae+F*F;if(Q>J){var ie=C(Q),de=_(F,Ae),xe=j*l(de/j),Ce=de-xe;Ae=ie*y(Ce),F=ie*u(Ce);for(var Ue=Ae-h,He=u(Ae),We=F/He,Ke=Ae<h?1/0:0,nt=10;;){var pt=z*u(We),yt=z*y(We),It=u(yt),Rt=h-yt,Pt=(pt-We*It)/Rt,Vt=Pn(We,Pt);if(k(Ke)<b||!--nt)break;We-=Ke=(We*He-Pt*Ue-F)/(He-2*Ue*(Rt*(yt+We*pt*y(yt)-It)-pt*(pt-We*It))/(Rt*Rt))}Ae=(ie=z+yn(Vt,yt,Ae)*(g-z)/yn(Vt,yt,g))*y(de=xe+We),F=ie*u(de)}return ee.N.invert(Ae,F)},fe}function Pn(z,U){return function(j){var J=z*y(j);return j<h&&(J-=U),C(1+J*J)}}function yn(z,U,j){for(var J=(j-U)/50,fe=z(U)+z(j),Ae=1,F=U;Ae<50;++Ae)fe+=2*z(F+=J);return .5*fe*J}function Rn(){var z=6,U=30*T,j=y(U),J=u(U),fe=(0,M.r)(Tn),Ae=fe(U,z),F=Ae.stream,Q=-y(.01*T),ie=u(.01*T);return Ae.radius=function(de){return arguments.length?(j=y(U=de*T),J=u(U),fe(U,z)):U*S},Ae.lobes=function(de){return arguments.length?fe(U,z=+de):z},Ae.stream=function(de){var xe=Ae.rotate(),Ce=F(de),Ue=(Ae.rotate([0,0]),F(de));return Ae.rotate(xe),Ce.sphere=function(){Ue.polygonStart(),Ue.lineStart();for(var He=0,We=2*g/z,Ke=0;He<z;++He,Ke-=We)Ue.point(_(ie*y(Ke),Q)*S,E(ie*u(Ke))*S),Ue.point(_(J*y(Ke-We/2),j)*S,E(J*u(Ke-We/2))*S);Ue.lineEnd(),Ue.polygonEnd()},Ce},Ae.rotate([90,-40]).scale(91.7095).clipAngle(179.999)}function Zn(z,U,j,J,fe,Ae,F,Q){function ie(de,xe){if(!xe)return[z*de/g,0];var Ce=xe*xe,Ue=z+Ce*(U+Ce*(j+Ce*J)),He=xe*(fe-1+Ce*(Ae-Q+Ce*F)),We=(Ue*Ue+He*He)/(2*He),Ke=de*E(Ue/We)/g;return[We*u(Ke),xe*(1+Ce*Q)+We*(1-y(Ke))]}return arguments.length<8&&(Q=0),ie.invert=function(de,xe){var Ce,Ue,He=g*de/z,We=xe,Ke=50;do{var nt=We*We,pt=z+nt*(U+nt*(j+nt*J)),yt=We*(fe-1+nt*(Ae-Q+nt*F)),It=pt*pt+yt*yt,Rt=2*yt,Pt=It/Rt,Vt=Pt*Pt,Dt=E(pt/Pt)/g,sn=He*Dt,Kt=pt*pt,Zt=(2*U+nt*(4*j+6*nt*J))*We,xn=fe+nt*(3*Ae+5*nt*F),_n=(2*(pt*Zt+yt*(xn-1))*Rt-It*(2*(xn-1)))/(Rt*Rt),jn=y(sn),Un=u(sn),Wn=Pt*jn,er=Pt*Un,fr=He/g*(1/C(1-Kt/Vt))*(Zt*Pt-pt*_n)/Vt,cr=er-de,vr=We*(1+nt*Q)+Pt-Wn-xe,kr=_n*Un+Wn*fr,Br=Wn*Dt,qn=1+_n-(_n*jn-er*fr),ur=er*Dt,mr=kr*ur-qn*Br;if(!mr)break;He-=Ce=(vr*kr-cr*qn)/mr,We-=Ue=(cr*ur-vr*Br)/mr}while((k(Ce)>c||k(Ue)>c)&&--Ke>0);return[He,We]},ie}var ir=Zn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);function sr(){return(0,M.Z)(ir).scale(149.995)}var tr=Zn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);function Jn(){return(0,M.Z)(tr).scale(153.93)}var pr=Zn(5/6*g,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Ut(){return(0,M.Z)(pr).scale(130.945)}function rn(z,U){var j=z*z,J=U*U;return[z*(1-.162388*J)*(.87-952426e-9*j*j),U*(1+J/12)]}function cn(){return(0,M.Z)(rn).scale(131.747)}rn.invert=function(z,U){var j,J=z,fe=U,Ae=50;do{var F=fe*fe;fe-=j=(fe*(1+F/12)-U)/(1+F/4)}while(k(j)>c&&--Ae>0);Ae=50,z/=1-.162388*F;do{var Q=(Q=J*J)*Q;J-=j=(J*(.87-952426e-9*Q)-z)/(.87-.00476213*Q)}while(k(j)>c&&--Ae>0);return[J,fe]};var vn=Zn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Sn(){return(0,M.Z)(vn).scale(131.087)}function Hn(z){var U=z(h,0)[0]-z(-h,0)[0];function j(J,fe){var Ae=J>0?-.5:.5,F=z(J+Ae*g,fe);return F[0]-=Ae*U,F}return z.invert&&(j.invert=function(J,fe){var Ae=J>0?-.5:.5,F=z.invert(J+Ae*U,fe),Q=F[0]-Ae*g;return Q<-g?Q+=2*g:Q>g&&(Q-=2*g),F[0]=Q,F}),j}function Dn(z,U){var j=o(z),J=o(U),fe=y(U),Ae=y(z)*fe,F=u(z)*fe,Q=u(J*U);z=k(_(F,Q)),U=E(Ae),k(z-h)>c&&(z%=h);var ie=function(de,xe){if(xe===h)return[0,0];var Ce,Ue,He=u(xe),We=He*He,Ke=We*We,nt=1+Ke,pt=1+3*Ke,yt=1-Ke,It=E(1/C(nt)),Rt=yt+We*nt*It,Pt=(1-He)/Rt,Vt=C(Pt),Dt=Pt*nt,sn=C(Dt),Kt=Vt*yt;if(de===0)return[0,-(Kt+We*sn)];var Zt,xn=y(xe),_n=1/xn,jn=2*He*xn,Un=(-Rt*xn-(1-He)*((-3*We+It*pt)*jn))/(Rt*Rt),Wn=-_n*jn,er=-_n*(We*nt*Un+Pt*pt*jn),fr=-2*_n*(yt*(.5*Un/Vt)-2*We*Vt*jn),cr=4*de/g;if(de>.222*g||xe<g/4&&de>.175*g){if(Ce=(Kt+We*C(Dt*(1+Ke)-Kt*Kt))/(1+Ke),de>g/4)return[Ce,Ce];var vr=Ce,kr=.5*Ce;Ce=.5*(kr+vr),Ue=50;do{var Br=Ce*(fr+Wn*C(Dt-Ce*Ce))+er*E(Ce/sn)-cr;if(!Br)break;Br<0?kr=Ce:vr=Ce,Ce=.5*(kr+vr)}while(k(vr-kr)>c&&--Ue>0)}else{Ce=c,Ue=25;do{var qn=Ce*Ce,ur=C(Dt-qn),mr=fr+Wn*ur,Mr=Ce*mr+er*E(Ce/sn)-cr;Ce-=Zt=ur?Mr/(mr+(er-Wn*qn)/ur):0}while(k(Zt)>c&&--Ue>0)}return[Ce,-Kt-We*C(Dt-Ce*Ce)]}(z>g/4?h-z:z,U);return z>g/4&&(Q=ie[0],ie[0]=-ie[1],ie[1]=-Q),ie[0]*=j,ie[1]*=-J,ie}function Bn(){return(0,M.Z)(Hn(Dn)).scale(239.75)}function Qn(z,U){var j,J,fe,Ae,F,Q;if(U<c)return[(Ae=u(z))-(j=U*(z-Ae*(J=y(z)))/4)*J,J+j*Ae,1-U*Ae*Ae/2,z-j];if(U>=1-c)return j=(1-U)/4,fe=1/(J=R(z)),[(Ae=((Q=d(2*(Q=z)))-1)/(Q+1))+j*((F=J*P(z))-z)/(J*J),fe-j*Ae*fe*(F-z),fe+j*Ae*fe*(F+z),2*a(d(z))-h+j*(F-z)/J];var ie=[1,0,0,0,0,0,0,0,0],de=[C(U),0,0,0,0,0,0,0,0],xe=0;for(J=C(1-U),F=1;k(de[xe]/ie[xe])>c&&xe<8;)j=ie[xe++],de[xe]=(j-J)/2,ie[xe]=(j+J)/2,J=C(j*J),F*=2;fe=F*ie[xe]*z;do fe=(E(Ae=de[xe]*u(J=fe)/ie[xe])+fe)/2;while(--xe);return[u(fe),Ae=y(fe),Ae/y(fe-J),fe]}function Wt(z,U){if(!U)return z;if(U===1)return t(p(z/2+x));for(var j=1,J=C(1-U),fe=C(U),Ae=0;k(fe)>c;Ae++){if(z%g){var F=a(J*p(z)/j);F<0&&(F+=g),z+=F+~~(z/g)*g}else z+=z;fe=(j+J)/2,J=C(j*J),fe=((j=fe)-J)/2}return z/(n(2,Ae)*j)}function An(z,U){var j=(m-1)/(m+1),J=C(1-j*j),fe=Wt(h,J*J),Ae=t(p(g/4+k(U)/2)),F=d(-1*Ae)/C(j),Q=function(de,xe){var Ce=de*de,Ue=xe+1,He=1-Ce-xe*xe;return[.5*((de>=0?h:-h)-_(He,2*de)),-.25*t(He*He+4*Ce)+.5*t(Ue*Ue+Ce)]}(F*y(-1*z),F*u(-1*z)),ie=function(de,xe,Ce){var Ue=k(de),He=P(k(xe));if(Ue){var We=1/u(Ue),Ke=1/(p(Ue)*p(Ue)),nt=-(Ke+Ce*(He*He*We*We)-1+Ce),pt=(-nt+C(nt*nt-(Ce-1)*Ke*4))/2;return[Wt(a(1/C(pt)),Ce)*o(de),Wt(a(C((pt/Ke-1)/Ce)),1-Ce)*o(xe)]}return[0,Wt(a(He),1-Ce)*o(xe)]}(Q[0],Q[1],J*J);return[-ie[1],(U>=0?1:-1)*(.5*fe-ie[0])]}function Ct(){return(0,M.Z)(Hn(An)).scale(151.496)}Dn.invert=function(z,U){k(z)>1&&(z=2*o(z)-z),k(U)>1&&(U=2*o(U)-U);var j=o(z),J=o(U),fe=-j*z,Ae=-J*U,F=Ae/fe<1,Q=function(Ce,Ue){for(var He=0,We=1,Ke=.5,nt=50;;){var pt=Ke*Ke,yt=C(Ke),It=E(1/C(1+pt)),Rt=1-pt+Ke*(1+pt)*It,Pt=(1-yt)/Rt,Vt=C(Pt),Dt=Pt*(1+pt),sn=Vt*(1-pt),Kt=C(Dt-Ce*Ce),Zt=Ue+sn+Ke*Kt;if(k(We-He)<b||--nt==0||Zt===0)break;Zt>0?He=Ke:We=Ke,Ke=.5*(He+We)}if(!nt)return null;var xn=E(yt),_n=y(xn),jn=1/_n,Un=2*yt*_n,Wn=(-Rt*_n-(-3*Ke+It*(1+3*pt))*Un*(1-yt))/(Rt*Rt);return[g/4*(Ce*(-2*jn*((1-pt)*(.5*Wn/Vt)-2*Ke*Vt*Un)+-jn*Un*Kt)+-jn*(Ke*(1+pt)*Wn+Pt*(1+3*pt)*Un)*E(Ce/C(Dt))),xn]}(F?Ae:fe,F?fe:Ae),ie=Q[0],de=Q[1],xe=y(de);return F&&(ie=-h-ie),[j*(_(u(ie)*xe,-u(de))+g),J*E(y(ie)*xe)]},An.invert=function(z,U){var j,J,fe,Ae,F,Q,ie=(m-1)/(m+1),de=C(1-ie*ie),xe=(J=-z,fe=de*de,(j=.5*Wt(h,de*de)-U)?(Ae=Qn(j,fe),J?(Q=(F=Qn(J,1-fe))[1]*F[1]+fe*Ae[0]*Ae[0]*F[0]*F[0],[[Ae[0]*F[2]/Q,Ae[1]*Ae[2]*F[0]*F[1]/Q],[Ae[1]*F[1]/Q,-Ae[0]*Ae[2]*F[0]*F[2]/Q],[Ae[2]*F[1]*F[2]/Q,-fe*Ae[0]*Ae[1]*F[0]/Q]]):[[Ae[0],0],[Ae[1],0],[Ae[2],0]]):[[0,(F=Qn(J,1-fe))[0]/F[1]],[1/F[1],0],[F[2]/F[1],0]]),Ce=function(Ue,He){var We=He[0]*He[0]+He[1]*He[1];return[(Ue[0]*He[0]+Ue[1]*He[1])/We,(Ue[1]*He[0]-Ue[0]*He[1])/We]}(xe[0],xe[1]);return[_(Ce[1],Ce[0])/-1,2*a(d(-.5*t(ie*Ce[0]*Ce[0]+ie*Ce[1]*Ce[1])))-h]};var Jt=e(7613);function tn(z){var U=u(z),j=y(z),J=wn(z);function fe(Ae,F){var Q=J(Ae,F);Ae=Q[0],F=Q[1];var ie=u(F),de=y(F),xe=y(Ae),Ce=L(U*ie+j*de*xe),Ue=u(Ce),He=k(Ue)>c?Ce/Ue:1;return[He*j*u(Ae),(k(Ae)>h?He:-He)*(U*de-j*ie*xe)]}return J.invert=wn(-z),fe.invert=function(Ae,F){var Q=C(Ae*Ae+F*F),ie=-u(Q),de=y(Q),xe=Q*de,Ce=-F*ie,Ue=Q*U,He=C(xe*xe+Ce*Ce-Ue*Ue),We=_(xe*Ue+Ce*He,Ce*Ue-xe*He),Ke=(Q>h?-1:1)*_(Ae*ie,Q*y(We)*de+F*u(We)*ie);return J.invert(Ke,We)},fe}function wn(z){var U=u(z),j=y(z);return function(J,fe){var Ae=y(fe),F=y(J)*Ae,Q=u(J)*Ae,ie=u(fe);return[_(Q,F*j-ie*U),E(ie*j+F*U)]}}function kn(){var z=0,U=(0,M.r)(tn),j=U(z),J=j.rotate,fe=j.stream,Ae=(0,Jt.Z)();return j.parallel=function(F){if(!arguments.length)return z*S;var Q=j.rotate();return U(z=F*T).rotate(Q)},j.rotate=function(F){return arguments.length?(J.call(j,[F[0],F[1]-z*S]),Ae.center([-F[0],-F[1]]),j):((F=J.call(j))[1]+=z*S,F)},j.stream=function(F){return(F=fe(F)).sphere=function(){F.polygonStart();var Q,ie=Ae.radius(89.99)().coordinates[0],de=ie.length-1,xe=-1;for(F.lineStart();++xe<de;)F.point((Q=ie[xe])[0],Q[1]);for(F.lineEnd(),de=(ie=Ae.radius(90.01)().coordinates[0]).length-1,F.lineStart();--xe>=0;)F.point((Q=ie[xe])[0],Q[1]);F.lineEnd(),F.polygonEnd()},F},j.scale(79.4187).parallel(45).clipAngle(179.999)}var Cn=e(33064),pn=e(72736),$t=E(1-1/3)*S,Qt=$e(0);function fn(z){var U=$t*T,j=Et(g,U)[0]-Et(-g,U)[0],J=Qt(0,U)[1],fe=Et(0,U)[1],Ae=w-fe,F=f/z,Q=4/f,ie=J+Ae*Ae*4/f;function de(xe,Ce){var Ue,He=k(Ce);if(He>U){var We=r(z-1,i(0,s((xe+g)/F)));(Ue=Et(xe+=g*(z-1)/z-We*F,He))[0]=Ue[0]*f/j-f*(z-1)/(2*z)+We*f/z,Ue[1]=J+4*(Ue[1]-fe)*Ae/f,Ce<0&&(Ue[1]=-Ue[1])}else Ue=Qt(xe,Ce);return Ue[0]*=Q,Ue[1]/=ie,Ue}return de.invert=function(xe,Ce){xe/=Q;var Ue=k(Ce*=ie);if(Ue>J){var He=r(z-1,i(0,s((xe+g)/F)));xe=(xe+g*(z-1)/z-He*F)*j/f;var We=Et.invert(xe,.25*(Ue-J)*f/Ae+fe);return We[0]-=g*(z-1)/z-He*F,Ce<0&&(We[1]=-We[1]),We}return Qt.invert(xe,Ce)},de}function dn(z,U){return[z,1&U?90-c:$t]}function In(z,U){return[z,1&U?-90+c:-$t]}function zn(z){return[z[0]*(1-c),z[1]]}function Yn(){var z=4,U=(0,M.r)(fn),j=U(z),J=j.stream;return j.lobes=function(fe){return arguments.length?U(z=+fe):z},j.stream=function(fe){var Ae=j.rotate(),F=J(fe),Q=(j.rotate([0,0]),J(fe));return j.rotate(Ae),F.sphere=function(){var ie,de;(0,pn.Z)((ie=180/z,de=[].concat((0,Cn.w6)(-180,180+ie/2,ie).map(dn),(0,Cn.w6)(180,-180-ie/2,-ie).map(In)),{type:"Polygon",coordinates:[ie===180?de.map(zn):de]}),Q)},F},j.scale(239.75)}function Vn(z){var U,j=1+z,J=E(u(1/j)),fe=2*C(g/(U=g+4*J*j)),Ae=.5*fe*(j+C(z*(2+z))),F=z*z,Q=j*j;function ie(de,xe){var Ce,Ue,He=1-u(xe);if(He&&He<2){var We,Ke=h-xe,nt=25;do{var pt=u(Ke),yt=y(Ke),It=J+_(pt,j-yt),Rt=1+Q-2*j*yt;Ke-=We=(Ke-F*J-j*pt+Rt*It-.5*He*U)/(2*j*pt*It)}while(k(We)>b&&--nt>0);Ce=fe*C(Rt),Ue=de*It/g}else Ce=fe*(z+He),Ue=de*J/g;return[Ce*u(Ue),Ae-Ce*y(Ue)]}return ie.invert=function(de,xe){var Ce=de*de+(xe-=Ae)*xe,Ue=(1+Q-Ce/(fe*fe))/(2*j),He=L(Ue),We=u(He),Ke=J+_(We,j-Ue);return[E(de/C(Ce))*g/Ke,E(1-2*(He-F*J-j*We+(1+Q-2*j*Ue)*Ke)/U)]},ie}function nr(){var z=1,U=(0,M.r)(Vn),j=U(z);return j.ratio=function(J){return arguments.length?U(z=+J):z},j.scale(167.774).center([0,18.67])}var Xn=.7109889596207567,lr=.0528035274542;function ar(z,U){return U>-Xn?((z=se(z,U))[1]+=lr,z):Ne(z,U)}function or(){return(0,M.Z)(ar).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}function dr(z,U){return k(U)>Xn?((z=se(z,U))[1]-=U>0?lr:-lr,z):Ne(z,U)}function gr(){return(0,M.Z)(dr).scale(152.63)}function Sr(z,U,j,J){var fe=C(4*g/(2*j+(1+z-U/2)*u(2*j)+(z+U)/2*u(4*j)+U/2*u(6*j))),Ae=C(J*u(j)*C((1+z*y(2*j)+U*y(4*j))/(1+z+U))),F=j*ie(1);function Q(Ce){return C(1+z*y(2*Ce)+U*y(4*Ce))}function ie(Ce){var Ue=Ce*j;return(2*Ue+(1+z-U/2)*u(2*Ue)+(z+U)/2*u(4*Ue)+U/2*u(6*Ue))/j}function de(Ce){return Q(Ce)*u(Ce)}var xe=function(Ce,Ue){var He=j*we(ie,F*u(Ue)/j,Ue/g);isNaN(He)&&(He=j*o(Ue));var We=fe*Q(He);return[We*Ae*Ce/g*y(He),We/Ae*u(He)]};return xe.invert=function(Ce,Ue){var He=we(de,Ue*Ae/fe);return[Ce*g/(y(He)*fe*Ae*Q(He)),E(j*ie(He/j)/F)]},j===0&&(fe=C(J/g),(xe=function(Ce,Ue){return[Ce*fe,u(Ue)/fe]}).invert=function(Ce,Ue){return[Ce/fe,E(Ue*fe)]}),xe}function $n(){var z=1,U=0,j=45*T,J=2,fe=(0,M.r)(Sr),Ae=fe(z,U,j,J);return Ae.a=function(F){return arguments.length?fe(z=+F,U,j,J):z},Ae.b=function(F){return arguments.length?fe(z,U=+F,j,J):U},Ae.psiMax=function(F){return arguments.length?fe(z,U,j=+F*T,J):j*S},Ae.ratio=function(F){return arguments.length?fe(z,U,j,J=+F):J},Ae.scale(180.739)}function xr(z,U,j,J,fe,Ae,F,Q,ie,de,xe){if(xe.nanEncountered)return NaN;var Ce,Ue,He,We,Ke,nt,pt,yt,It,Rt;if(Ue=z(U+.25*(Ce=j-U)),He=z(j-.25*Ce),isNaN(Ue))xe.nanEncountered=!0;else{if(!isNaN(He))return Rt=((nt=(We=Ce*(J+4*Ue+fe)/12)+(Ke=Ce*(fe+4*He+Ae)/12))-F)/15,de>ie?(xe.maxDepthCount++,nt+Rt):Math.abs(Rt)<Q?nt+Rt:(yt=xr(z,U,pt=U+.5*Ce,J,Ue,fe,We,.5*Q,ie,de+1,xe),isNaN(yt)?(xe.nanEncountered=!0,NaN):(It=xr(z,pt,j,fe,He,Ae,Ke,.5*Q,ie,de+1,xe),isNaN(It)?(xe.nanEncountered=!0,NaN):yt+It));xe.nanEncountered=!0}}function Rr(z,U,j,J,fe){J===void 0&&(J=1e-8),fe===void 0&&(fe=20);var Ae=z(U),F=z(.5*(U+j)),Q=z(j);return xr(z,U,j,Ae,F,Q,(Ae+4*F+Q)*(j-U)/6,J,fe,1,{maxDepthCount:0,nanEncountered:!1})}function ii(z,U,j){function J(He){return z+(1-z)*n(1-n(He,U),1/U)}function fe(He){return Rr(J,0,He,1e-4)}for(var Ae=1/fe(1),F=1e3,Q=1.00000001*Ae,ie=[],de=0;de<=F;de++)ie.push(fe(de/F)*Q);function xe(He){var We=0,Ke=F,nt=500;do ie[nt]>He?Ke=nt:We=nt,nt=We+Ke>>1;while(nt>We);var pt=ie[nt+1]-ie[nt];return pt&&(pt=(He-ie[nt+1])/pt),(nt+1+pt)/F}var Ce=2*xe(1)/g*Ae/j,Ue=function(He,We){var Ke=xe(k(u(We))),nt=J(Ke)*He;return Ke/=Ce,[nt,We>=0?Ke:-Ke]};return Ue.invert=function(He,We){var Ke;return k(We*=Ce)<1&&(Ke=o(We)*E(fe(k(We))*Ae)),[He/J(k(We)),Ke]},Ue}function _i(){var z=0,U=2.5,j=1.183136,J=(0,M.r)(ii),fe=J(z,U,j);return fe.alpha=function(Ae){return arguments.length?J(z=+Ae,U,j):z},fe.k=function(Ae){return arguments.length?J(z,U=+Ae,j):U},fe.gamma=function(Ae){return arguments.length?J(z,U,j=+Ae):j},fe.scale(152.63)}function vi(z,U){return k(z[0]-U[0])<c&&k(z[1]-U[1])<c}function Si(z,U){for(var j,J,fe,Ae=-1,F=z.length,Q=z[0],ie=[];++Ae<F;){J=((j=z[Ae])[0]-Q[0])/U,fe=(j[1]-Q[1])/U;for(var de=0;de<U;++de)ie.push([Q[0]+de*J,Q[1]+de*fe]);Q=j}return ie.push(j),ie}function fi(z,U,j){var J,fe;function Ae(ie,de){for(var xe=de<0?-1:1,Ce=U[+(de<0)],Ue=0,He=Ce.length-1;Ue<He&&ie>Ce[Ue][2][0];++Ue);var We=z(ie-Ce[Ue][1][0],de);return We[0]+=z(Ce[Ue][1][0],xe*de>xe*Ce[Ue][0][1]?Ce[Ue][0][1]:de)[0],We}j?Ae.invert=j(Ae):z.invert&&(Ae.invert=function(ie,de){for(var xe=fe[+(de<0)],Ce=U[+(de<0)],Ue=0,He=xe.length;Ue<He;++Ue){var We=xe[Ue];if(We[0][0]<=ie&&ie<We[1][0]&&We[0][1]<=de&&de<We[1][1]){var Ke=z.invert(ie-z(Ce[Ue][1][0],0)[0],de);return Ke[0]+=Ce[Ue][1][0],vi(Ae(Ke[0],Ke[1]),[ie,de])?Ke:null}}});var F=(0,M.Z)(Ae),Q=F.stream;return F.stream=function(ie){var de=F.rotate(),xe=Q(ie),Ce=(F.rotate([0,0]),Q(ie));return F.rotate(de),xe.sphere=function(){(0,pn.Z)(J,Ce)},xe},F.lobes=function(ie){return arguments.length?(J=function(de){var xe,Ce,Ue,He,We,Ke,nt,pt=[],yt=de[0].length;for(nt=0;nt<yt;++nt)Ce=(xe=de[0][nt])[0][0],Ue=xe[0][1],He=xe[1][1],We=xe[2][0],Ke=xe[2][1],pt.push(Si([[Ce+c,Ue+c],[Ce+c,He-c],[We-c,He-c],[We-c,Ke+c]],30));for(nt=de[1].length-1;nt>=0;--nt)Ce=(xe=de[1][nt])[0][0],Ue=xe[0][1],He=xe[1][1],We=xe[2][0],Ke=xe[2][1],pt.push(Si([[We-c,Ke-c],[We-c,He+c],[Ce+c,He+c],[Ce+c,Ue-c]],30));return{type:"Polygon",coordinates:[(0,Cn.TS)(pt)]}}(ie),U=ie.map(function(de){return de.map(function(xe){return[[xe[0][0]*T,xe[0][1]*T],[xe[1][0]*T,xe[1][1]*T],[xe[2][0]*T,xe[2][1]*T]]})}),fe=U.map(function(de){return de.map(function(xe){var Ce,Ue=z(xe[0][0],xe[0][1])[0],He=z(xe[2][0],xe[2][1])[0],We=z(xe[1][0],xe[0][1])[1],Ke=z(xe[1][0],xe[1][1])[1];return We>Ke&&(Ce=We,We=Ke,Ke=Ce),[[Ue,We],[He,Ke]]})}),F):U.map(function(de){return de.map(function(xe){return[[xe[0][0]*S,xe[0][1]*S],[xe[1][0]*S,xe[1][1]*S],[xe[2][0]*S,xe[2][1]*S]]})})},U!=null&&F.lobes(U),F}ar.invert=function(z,U){return U>-Xn?se.invert(z,U-lr):Ne.invert(z,U)},dr.invert=function(z,U){return k(U)>Xn?se.invert(z,U+(U>0?lr:-lr)):Ne.invert(z,U)};var Ui=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function bo(){return fi(Me,Ui).scale(160.857)}var ja=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function Do(){return fi(dr,ja).scale(152.63)}var Vl=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];function ys(){return fi(se,Vl).scale(169.529)}var Qs=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function Hl(){return fi(se,Qs).scale(169.529).rotate([20,0])}var _o=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];function fu(){return fi(ar,_o,me).rotate([-20,-55]).scale(164.263).center([0,-5.4036])}var xs=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function bs(){return fi(Ne,xs).scale(152.63).rotate([-20,0])}function wo(z,U){return[3/f*z*C(g*g/3-U*U),U]}function Xi(){return(0,M.Z)(wo).scale(158.837)}function el(z){function U(j,J){if(k(k(J)-h)<c)return[0,J<0?-2:2];var fe=u(J),Ae=n((1+fe)/(1-fe),z/2),F=.5*(Ae+1/Ae)+y(j*=z);return[2*u(j)/F,(Ae-1/Ae)/F]}return U.invert=function(j,J){var fe=k(J);if(k(fe-2)<c)return j?null:[0,o(J)*h];if(fe>2)return null;var Ae=(j/=2)*j,F=(J/=2)*J,Q=2*J/(1+Ae+F);return Q=n((1+Q)/(1-Q),1/z),[_(2*j,1-Ae-F)/z,E((Q-1)/(Q+1))]},U}function ti(){var z=.5,U=(0,M.r)(el),j=U(z);return j.spacing=function(J){return arguments.length?U(z=+J):z},j.scale(124.75)}wo.invert=function(z,U){return[f/3*z/C(g*g/3-U*U),U]};var To=g/m;function Za(z,U){return[z*(1+C(y(U)))/2,U/(y(U/2)*y(z/6))]}function Ro(){return(0,M.Z)(Za).scale(97.2672)}function uo(z,U){var j=z*z,J=U*U;return[z*(.975534+J*(-.0143059*j-.119161+-.0547009*J)),U*(1.00384+j*(.0802894+-.02855*J+199025e-9*j)+J*(.0998909+-.0491032*J))]}function Ko(){return(0,M.Z)(uo).scale(139.98)}function zo(z,U){return[u(z)/y(U),p(U)*y(z)]}function Fo(){return(0,M.Z)(zo).scale(144.049).clipAngle(89.999)}function _l(z){var U=y(z),j=p(x+z/2);function J(fe,Ae){var F=Ae-z,Q=k(F)<c?fe*U:k(Q=x+Ae/2)<c||k(k(Q)-h)<c?0:fe*F/t(p(Q)/j);return[Q,F]}return J.invert=function(fe,Ae){var F,Q=Ae+z;return[k(Ae)<c?fe/U:k(F=x+Q/2)<c||k(k(F)-h)<c?0:fe*t(p(F)/j)/Ae,Q]},J}function hu(){return De(_l).parallel(40).scale(158.837)}function $o(z,U){return[z,1.25*t(p(x+.4*U))]}function pu(){return(0,M.Z)($o).scale(108.318)}function ql(z){var U=z.length-1;function j(J,fe){for(var Ae,F=y(fe),Q=2/(1+F*y(J)),ie=Q*F*u(J),de=Q*u(fe),xe=U,Ce=z[xe],Ue=Ce[0],He=Ce[1];--xe>=0;)Ue=(Ce=z[xe])[0]+ie*(Ae=Ue)-de*He,He=Ce[1]+ie*He+de*Ae;return[Ue=ie*(Ae=Ue)-de*He,He=ie*He+de*Ae]}return j.invert=function(J,fe){var Ae=20,F=J,Q=fe;do{for(var ie,de=U,xe=z[de],Ce=xe[0],Ue=xe[1],He=0,We=0;--de>=0;)He=Ce+F*(ie=He)-Q*We,We=Ue+F*We+Q*ie,Ce=(xe=z[de])[0]+F*(ie=Ce)-Q*Ue,Ue=xe[1]+F*Ue+Q*ie;var Ke,nt,pt=(He=Ce+F*(ie=He)-Q*We)*He+(We=Ue+F*We+Q*ie)*We;F-=Ke=((Ce=F*(ie=Ce)-Q*Ue-J)*He+(Ue=F*Ue+Q*ie-fe)*We)/pt,Q-=nt=(Ue*He-Ce*We)/pt}while(k(Ke)+k(nt)>c*c&&--Ae>0);if(Ae){var yt=C(F*F+Q*Q),It=2*a(.5*yt),Rt=u(It);return[_(F*Rt,yt*y(It)),yt?E(Q*Rt/yt):0]}},j}Za.invert=function(z,U){var j=k(z),J=k(U),fe=c,Ae=h;J<To?Ae*=J/To:fe+=6*L(To/J);for(var F=0;F<25;F++){var Q=u(Ae),ie=C(y(Ae)),de=u(Ae/2),xe=y(Ae/2),Ce=u(fe/6),Ue=y(fe/6),He=.5*fe*(1+ie)-j,We=Ae/(xe*Ue)-J,Ke=ie?-.25*fe*Q/ie:0,nt=.5*(1+ie),pt=(1+.5*Ae*de/xe)/(xe*Ue),yt=Ae/xe*(Ce/6)/(Ue*Ue),It=Ke*yt-pt*nt,Rt=(He*yt-We*nt)/It,Pt=(We*Ke-He*pt)/It;if(Ae-=Rt,fe-=Pt,k(Rt)<c&&k(Pt)<c)break}return[z<0?-fe:fe,U<0?-Ae:Ae]},uo.invert=function(z,U){var j=o(z)*g,J=U/2,fe=50;do{var Ae=j*j,F=J*J,Q=j*J,ie=j*(.975534+F*(-.0143059*Ae-.119161+-.0547009*F))-z,de=J*(1.00384+Ae*(.0802894+-.02855*F+199025e-9*Ae)+F*(.0998909+-.0491032*F))-U,xe=.975534-F*(.119161+3*Ae*.0143059+.0547009*F),Ce=-Q*(.238322+.2188036*F+.0286118*Ae),Ue=Q*(.1605788+7961e-7*Ae+-.0571*F),He=1.00384+Ae*(.0802894+199025e-9*Ae)+F*(3*(.0998909-.02855*Ae)-.245516*F),We=Ce*Ue-He*xe,Ke=(de*Ce-ie*He)/We,nt=(ie*Ue-de*xe)/We;j-=Ke,J-=nt}while((k(Ke)>c||k(nt)>c)&&--fe>0);return fe&&[j,J]},zo.invert=function(z,U){var j=z*z,J=U*U+1,fe=j+J,Ae=z?v*C((fe-C(fe*fe-4*j))/j):1/C(J);return[E(z*Ae),o(U)*L(Ae)]},$o.invert=function(z,U){return[z,2.5*a(d(.8*U))-.625*g]};var du=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],Gl=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gu=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Bs=[[.9245,0],[0,0],[.01943,0]],Qo=[[.721316,0],[0,0],[-.00881625,-.00617325]];function _s(){return eo(du,[152,-64]).scale(1400).center([-160.908,62.4864]).clipAngle(30).angle(7.8)}function Ns(){return eo(Gl,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])}function wl(){return eo(gu,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])}function Yl(){return eo(Bs,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)}function Wl(){return eo(Qo,[165,10]).scale(250).clipAngle(130).center([-165,-10])}function eo(z,U){var j=(0,M.Z)(ql(z)).rotate(U).clipAngle(90),J=(0,et.Z)(U),fe=j.center;return delete j.rotate,j.center=function(Ae){return arguments.length?fe(J(Ae)):J.invert(fe())},j}var ws=C(6),ko=C(7);function Bo(z,U){var j=E(7*u(U)/(3*ws));return[ws*z*(2*y(2*j/3)-1)/ko,9*u(j/3)/ko]}function vu(){return(0,M.Z)(Bo).scale(164.859)}function es(z,U){for(var j,J=(1+v)*u(U),fe=U,Ae=0;Ae<25&&(fe-=j=(u(fe/2)+u(fe)-J)/(.5*y(fe/2)+y(fe)),!(k(j)<c));Ae++);return[z*(1+2*y(fe)/y(fe/2))/(3*m),2*C(3)*u(fe/2)/C(2+m)]}function hi(){return(0,M.Z)(es).scale(188.209)}function co(z,U){for(var j,J=C(6/(4+g)),fe=(1+g/4)*u(U),Ae=U/2,F=0;F<25&&(Ae-=j=(Ae/2+u(Ae)-fe)/(.5+y(Ae)),!(k(j)<c));F++);return[J*(.5+y(Ae))*z/1.5,J*Ae]}function tl(){return(0,M.Z)(co).scale(166.518)}Bo.invert=function(z,U){var j=3*E(U*ko/9);return[z*ko/(ws*(2*y(2*j/3)-1)),E(3*u(j)*ws/7)]},es.invert=function(z,U){var j=U*C(2+m)/(2*C(3)),J=2*E(j);return[3*m*z/(1+2*y(J)/y(J/2)),E((j+u(J))/(1+v))]},co.invert=function(z,U){var j=C(6/(4+g)),J=U/j;return k(k(J)-h)<c&&(J=J<0?-h:h),[1.5*z/(j*(.5+y(J))),E((J/2+u(J))/(1+g/4))]};var to=e(26867);function Ts(z,U){var j=U*U,J=j*j,fe=j*J;return[z*(.84719-.13063*j+fe*fe*(.05494*j-.04515-.02326*J+.00331*fe)),U*(1.01183+J*J*(.01926*j-.02625-.00396*J))]}function Cu(){return(0,M.Z)(Ts).scale(175.295)}function Tl(z,U){return[z*(1+y(U))/2,2*(U-p(U/2))]}function mu(){return(0,M.Z)(Tl).scale(152.63)}Ts.invert=function(z,U){var j,J,fe,Ae,F=U,Q=25;do F-=j=(F*(1.01183+(fe=(J=F*F)*J)*fe*(.01926*J-.02625-.00396*fe))-U)/(1.01183+fe*fe*(.21186*J-.23625+-.05148*fe));while(k(j)>b&&--Q>0);return[z/(.84719-.13063*(J=F*F)+(Ae=J*(fe=J*J))*Ae*(.05494*J-.04515-.02326*fe+.00331*Ae)),F]},Tl.invert=function(z,U){for(var j=U/2,J=0,fe=1/0;J<10&&k(fe)>c;++J){var Ae=y(U/2);U-=fe=(U-p(U/2)-j)/(1-.5/(Ae*Ae))}return[2*z/(1+y(U)),U]};var yu=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];function nl(){return fi(ue(1/0),yu).rotate([20,0]).scale(152.63)}function js(z,U){var j=u(U),J=y(U),fe=o(z);if(z===0||k(U)===h)return[0,U];if(U===0)return[z,0];if(k(z)===h)return[z*J,h*j];var Ae=g/(2*z)-2*z/g,F=2*U/g,Q=(1-F*F)/(j-F),ie=Ae*Ae,de=Q*Q,xe=1+ie/de,Ce=1+de/ie,Ue=(Ae*j/Q-Ae/2)/xe,He=(de*j/ie+Q/2)/Ce,We=He*He-(de*j*j/ie+Q*j-1)/Ce;return[h*(Ue+C(Ue*Ue+J*J/xe)*fe),h*(He+C(We<0?0:We)*o(-U*Ae)*fe)]}function rl(){return(0,M.Z)(js).scale(127.267)}js.invert=function(z,U){var j=(z/=h)*z,J=j+(U/=h)*U,fe=g*g;return[z?(J-1+C((1-J)*(1-J)+4*j))/(2*z)*h:0,we(function(Ae){return J*(g*u(Ae)-2*Ae)*g+4*Ae*Ae*(U-u(Ae))+2*g*Ae-fe*U},0)]};var ts=1.0148,No=.23185,ns=-.14499,jo=.02406,kl=ts,fo=5*No,xu=7*ns,bu=9*jo,Ml=1.790857183;function rs(z,U){var j=U*U;return[z,U*(ts+j*j*(No+j*(ns+jo*j)))]}function Al(){return(0,M.Z)(rs).scale(139.319)}function ks(z,U){if(k(U)<c)return[z,0];var j=p(U),J=z*u(U);return[u(J)/j,U+(1-y(J))/j]}function Zl(){return(0,M.Z)(ks).scale(103.74)}rs.invert=function(z,U){U>Ml?U=Ml:U<-1.790857183&&(U=-1.790857183);var j,J=U;do{var fe=J*J;J-=j=(J*(ts+fe*fe*(No+fe*(ns+jo*fe)))-U)/(kl+fe*fe*(fo+fe*(xu+bu*fe)))}while(k(j)>c);return[z,J]},ks.invert=function(z,U){if(k(U)<c)return[z,0];var j,J=z*z+U*U,fe=.5*U,Ae=10;do{var F=p(fe),Q=1/y(fe),ie=J-2*U*fe+fe*fe;fe-=j=(F*ie+2*(fe-U))/(2+ie*Q*Q+2*(fe-U)*F)}while(k(j)>c&&--Ae>0);return F=p(fe),[(k(U)<k(fe+1/F)?E(z*F):o(U)*o(z)*(L(k(z*F))+h))/u(fe),fe]};var Us=e(77338),Ms=e(83074);function il(z,U){return[z[0]*U[0]+z[1]*U[3],z[0]*U[1]+z[1]*U[4],z[0]*U[2]+z[1]*U[5]+z[2],z[3]*U[0]+z[4]*U[3],z[3]*U[1]+z[4]*U[4],z[3]*U[2]+z[4]*U[5]+z[5]]}function Vs(z,U){return[z[0]-U[0],z[1]-U[1]]}function pi(z){return C(z[0]*z[0]+z[1]*z[1])}function is(z,U,j){function J(Q,ie){var de,xe=U(Q,ie),Ce=xe.project([Q*S,ie*S]);return(de=xe.transform)?[de[0]*Ce[0]+de[1]*Ce[1]+de[2],-(de[3]*Ce[0]+de[4]*Ce[1]+de[5])]:(Ce[1]=-Ce[1],Ce)}function fe(Q,ie){var de=Q.project.invert,xe=Q.transform,Ce=ie;if(xe&&(xe=function(nt){var pt=1/(nt[0]*nt[4]-nt[1]*nt[3]);return[pt*nt[4],-pt*nt[1],pt*(nt[1]*nt[5]-nt[2]*nt[4]),-pt*nt[3],pt*nt[0],pt*(nt[2]*nt[3]-nt[0]*nt[5])]}(xe),Ce=[xe[0]*Ce[0]+xe[1]*Ce[1]+xe[2],xe[3]*Ce[0]+xe[4]*Ce[1]+xe[5]]),de&&Q===function(nt){return U(nt[0]*T,nt[1]*T)}(Ue=de(Ce)))return Ue;for(var Ue,He=Q.children,We=0,Ke=He&&He.length;We<Ke;++We)if(Ue=fe(He[We],ie))return Ue}(function Q(ie,de){if(ie.edges=function(Pt){for(var Vt=Pt.length,Dt=[],sn=Pt[Vt-1],Kt=0;Kt<Vt;++Kt)Dt.push([sn,sn=Pt[Kt]]);return Dt}(ie.face),de.face){var xe=ie.shared=function(Pt,Vt){for(var Dt,sn,Kt=Pt.length,Zt=null,xn=0;xn<Kt;++xn){Dt=Pt[xn];for(var _n=Vt.length;--_n>=0;)if(sn=Vt[_n],Dt[0]===sn[0]&&Dt[1]===sn[1]){if(Zt)return[Zt,Dt];Zt=Dt}}}(ie.face,de.face),Ce=(Ke=xe.map(de.project),nt=xe.map(ie.project),pt=Vs(Ke[1],Ke[0]),yt=Vs(nt[1],nt[0]),It=function(Pt,Vt){return _(Pt[0]*Vt[1]-Pt[1]*Vt[0],Pt[0]*Vt[0]+Pt[1]*Vt[1])}(pt,yt),Rt=pi(pt)/pi(yt),il([1,0,Ke[0][0],0,1,Ke[0][1]],il([Rt,0,0,0,Rt,0],il([y(It),u(It),0,-u(It),y(It),0],[1,0,-nt[0][0],0,1,-nt[0][1]]))));ie.transform=de.transform?il(de.transform,Ce):Ce;for(var Ue=de.edges,He=0,We=Ue.length;He<We;++He)la(xe[0],Ue[He][1])&&la(xe[1],Ue[He][0])&&(Ue[He]=ie),la(xe[0],Ue[He][0])&&la(xe[1],Ue[He][1])&&(Ue[He]=ie);for(He=0,We=(Ue=ie.edges).length;He<We;++He)la(xe[0],Ue[He][0])&&la(xe[1],Ue[He][1])&&(Ue[He]=de),la(xe[0],Ue[He][1])&&la(xe[1],Ue[He][0])&&(Ue[He]=de)}else ie.transform=de.transform;var Ke,nt,pt,yt,It,Rt;return ie.children&&ie.children.forEach(function(Pt){Q(Pt,ie)}),ie})(z,{transform:null}),Kr(z)&&(J.invert=function(Q,ie){var de=fe(z,[Q,-ie]);return de&&(de[0]*=T,de[1]*=T,de)});var Ae=(0,M.Z)(J),F=Ae.stream;return Ae.stream=function(Q){var ie=Ae.rotate(),de=F(Q),xe=(Ae.rotate([0,0]),F(Q));return Ae.rotate(ie),de.sphere=function(){xe.polygonStart(),xe.lineStart(),Uo(xe,z),xe.lineEnd(),xe.polygonEnd()},de},Ae.angle(j==null?-30:j*S)}function Uo(z,U,j){var J,fe,Ae=U.edges,F=Ae.length,Q={type:"MultiPoint",coordinates:U.face},ie=U.face.filter(function(Ke){return k(Ke[1])!==90}),de=(0,Us.Z)({type:"MultiPoint",coordinates:ie}),xe=!1,Ce=-1,Ue=de[1][0]-de[0][0],He=Ue===180||Ue===360?[(de[0][0]+de[1][0])/2,(de[0][1]+de[1][1])/2]:(0,Ze.Z)(Q);if(j)for(;++Ce<F&&Ae[Ce]!==j;);++Ce;for(var We=0;We<F;++We)fe=Ae[(We+Ce)%F],Array.isArray(fe)?(xe||(z.point((J=(0,Ms.Z)(fe[0],He)(c))[0],J[1]),xe=!0),z.point((J=(0,Ms.Z)(fe[1],He)(c))[0],J[1])):(xe=!1,fe!==j&&Uo(z,fe,U))}function la(z,U){return z&&U&&z[0]===U[0]&&z[1]===U[1]}function Kr(z){return z.project.invert||z.children&&z.children.some(Kr)}var ni=e(98936),as=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Vo=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(z){return z.map(function(U){return as[U]})});function Xl(z){z=z||function(j){var J=(0,Ze.Z)({type:"MultiPoint",coordinates:j});return(0,ni.Z)().scale(1).translate([0,0]).rotate([-J[0],-J[1]])};var U=Vo.map(function(j){return{face:j,project:z(j)}});return[-1,0,0,1,0,1,4,5].forEach(function(j,J){var fe=U[j];fe&&(fe.children||(fe.children=[])).push(U[J])}),is(U[0],function(j,J){return U[j<-g/2?J<0?6:4:j<0?J<0?2:0:j<g/2?J<0?3:1:J<0?7:5]}).angle(-30).scale(101.858).center([0,45])}var al=2/C(3);function os(z,U){var j=Et(z,U);return[j[0]*al,j[1]]}function ol(z){z=z||function(j){var J=(0,Ze.Z)({type:"MultiPoint",coordinates:j});return(0,M.Z)(os).translate([0,0]).scale(1).rotate(J[1]>0?[-J[0],0]:[180-J[0],180])};var U=Vo.map(function(j){return{face:j,project:z(j)}});return[-1,0,0,1,0,1,4,5].forEach(function(j,J){var fe=U[j];fe&&(fe.children||(fe.children=[])).push(U[J])}),is(U[0],function(j,J){return U[j<-g/2?J<0?6:4:j<0?J<0?2:0:j<g/2?J<0?3:1:J<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])}function Ho(z){z=z||function(Ae){var F=Ae.length===6?(0,Ze.Z)({type:"MultiPoint",coordinates:Ae}):Ae[0];return(0,ni.Z)().scale(1).translate([0,0]).rotate([-F[0],-F[1]])};var U=Vo.map(function(Ae){for(var F,Q=Ae.map(Di),ie=Q.length,de=Q[ie-1],xe=[],Ce=0;Ce<ie;++Ce)F=Q[Ce],xe.push(ss([.9486832980505138*de[0]+.31622776601683794*F[0],.9486832980505138*de[1]+.31622776601683794*F[1],.9486832980505138*de[2]+.31622776601683794*F[2]]),ss([.9486832980505138*F[0]+.31622776601683794*de[0],.9486832980505138*F[1]+.31622776601683794*de[1],.9486832980505138*F[2]+.31622776601683794*de[2]])),de=F;return xe}),j=[],J=[-1,0,0,1,0,1,4,5];U.forEach(function(Ae,F){for(var Q,ie,de=Vo[F],xe=de.length,Ce=j[F]=[],Ue=0;Ue<xe;++Ue)U.push([de[Ue],Ae[(2*Ue+2)%(2*xe)],Ae[(2*Ue+1)%(2*xe)]]),J.push(F),Ce.push((Q=Di(Ae[(2*Ue+2)%(2*xe)]),ie=Di(Ae[(2*Ue+1)%(2*xe)]),[Q[1]*ie[2]-Q[2]*ie[1],Q[2]*ie[0]-Q[0]*ie[2],Q[0]*ie[1]-Q[1]*ie[0]]))});var fe=U.map(function(Ae){return{project:z(Ae),face:Ae}});return J.forEach(function(Ae,F){var Q=fe[Ae];Q&&(Q.children||(Q.children=[])).push(fe[F])}),is(fe[0],function(Ae,F){var Q=y(F),ie=[Q*y(Ae),Q*u(Ae),u(F)],de=Ae<-g/2?F<0?6:4:Ae<0?F<0?2:0:Ae<g/2?F<0?3:1:F<0?7:5,xe=j[de];return fe[As(xe[0],ie)<0?8+3*de:As(xe[1],ie)<0?8+3*de+1:As(xe[2],ie)<0?8+3*de+2:de]}).angle(-30).scale(110.625).center([0,45])}function As(z,U){for(var j=0,J=z.length,fe=0;j<J;++j)fe+=z[j]*U[j];return fe}function ss(z){return[_(z[1],z[0])*S,E(i(-1,r(1,z[2])))*S]}function Di(z){var U=z[0]*T,j=z[1]*T,J=y(j);return[J*y(U),J*u(U),u(j)]}function Ss(){}function Es(z,U){var j,J=U.stream;if(!J)throw new Error("invalid projection");switch(z&&z.type){case"Feature":j=Ta;break;case"FeatureCollection":j=Qi;break;default:j=ma}return j(z,J)}function Qi(z,U){return{type:"FeatureCollection",features:z.features.map(function(j){return Ta(j,U)})}}function Ta(z,U){return{type:"Feature",id:z.id,properties:z.properties,geometry:ma(z.geometry,U)}}function ma(z,U){if(!z)return null;if(z.type==="GeometryCollection")return function(J,fe){return{type:"GeometryCollection",geometries:J.geometries.map(function(Ae){return ma(Ae,fe)})}}(z,U);var j;switch(z.type){case"Point":case"MultiPoint":j=ls;break;case"LineString":case"MultiLineString":j=ho;break;case"Polygon":case"MultiPolygon":case"Sphere":j=ua;break;default:return null}return(0,pn.Z)(z,U(j)),j.result()}os.invert=function(z,U){return Et.invert(z/al,U)};var ea=[],Ca=[],ls={point:function(z,U){ea.push([z,U])},result:function(){var z=ea.length?ea.length<2?{type:"Point",coordinates:ea[0]}:{type:"MultiPoint",coordinates:ea}:null;return ea=[],z}},ho={lineStart:Ss,point:function(z,U){ea.push([z,U])},lineEnd:function(){ea.length&&(Ca.push(ea),ea=[])},result:function(){var z=Ca.length?Ca.length<2?{type:"LineString",coordinates:Ca[0]}:{type:"MultiLineString",coordinates:Ca}:null;return Ca=[],z}},ua={polygonStart:Ss,lineStart:Ss,point:function(z,U){ea.push([z,U])},lineEnd:function(){var z=ea.length;if(z){do ea.push(ea[0].slice());while(++z<4);Ca.push(ea),ea=[]}},polygonEnd:Ss,result:function(){if(!Ca.length)return null;var z=[],U=[];return Ca.forEach(function(j){(function(J){if((fe=J.length)<4)return!1;for(var fe,Ae=0,F=J[fe-1][1]*J[0][0]-J[fe-1][0]*J[0][1];++Ae<fe;)F+=J[Ae-1][1]*J[Ae][0]-J[Ae-1][0]*J[Ae][1];return F<=0})(j)?z.push([j]):U.push(j)}),U.forEach(function(j){var J=j[0];z.some(function(fe){if(function(Ae,F){for(var Q=F[0],ie=F[1],de=!1,xe=0,Ce=Ae.length,Ue=Ce-1;xe<Ce;Ue=xe++){var He=Ae[xe],We=He[0],Ke=He[1],nt=Ae[Ue],pt=nt[0],yt=nt[1];Ke>ie^yt>ie&&Q<(pt-We)*(ie-Ke)/(yt-Ke)+We&&(de=!de)}return de}(fe[0],J))return fe.push(j),!0})||z.push([j])}),Ca=[],z.length?z.length>1?{type:"MultiPolygon",coordinates:z}:{type:"Polygon",coordinates:z[0]}:null}};function Xa(z){var U=z(h,0)[0]-z(-h,0)[0];function j(J,fe){var Ae=k(J)<h,F=z(Ae?J:J>0?J-g:J+g,fe),Q=(F[0]-F[1])*v,ie=(F[0]+F[1])*v;if(Ae)return[Q,ie];var de=U*v,xe=Q>0^ie>0?-1:1;return[xe*Q-o(ie)*de,xe*ie-o(Q)*de]}return z.invert&&(j.invert=function(J,fe){var Ae=(J+fe)*v,F=(fe-J)*v,Q=k(Ae)<.5*U&&k(F)<.5*U;if(!Q){var ie=U*v,de=Ae>0^F>0?-1:1,xe=-de*J+(F>0?1:-1)*ie,Ce=-de*fe+(Ae>0?1:-1)*ie;Ae=(-xe-Ce)*v,F=(xe-Ce)*v}var Ue=z.invert(Ae,F);return Q||(Ue[0]+=Ae>0?g:-g),Ue}),(0,M.Z)(j).rotate([-90,-90,45]).clipAngle(179.999)}function no(){return Xa(Dn).scale(176.423)}function Sl(){return Xa(An).scale(111.48)}function ro(z,U){if(!(0<=(U=+U)&&U<=20))throw new Error("invalid digits");function j(de){var xe=de.length,Ce=2,Ue=new Array(xe);for(Ue[0]=+de[0].toFixed(U),Ue[1]=+de[1].toFixed(U);Ce<xe;)Ue[Ce]=de[Ce],++Ce;return Ue}function J(de){return de.map(j)}function fe(de){for(var xe=j(de[0]),Ce=[xe],Ue=1;Ue<de.length;Ue++){var He=j(de[Ue]);(He.length>2||He[0]!=xe[0]||He[1]!=xe[1])&&(Ce.push(He),xe=He)}return Ce.length===1&&de.length>1&&Ce.push(j(de[de.length-1])),Ce}function Ae(de){return de.map(fe)}function F(de){if(de==null)return de;var xe;switch(de.type){case"GeometryCollection":xe={type:"GeometryCollection",geometries:de.geometries.map(F)};break;case"Point":xe={type:"Point",coordinates:j(de.coordinates)};break;case"MultiPoint":xe={type:de.type,coordinates:J(de.coordinates)};break;case"LineString":xe={type:de.type,coordinates:fe(de.coordinates)};break;case"MultiLineString":case"Polygon":xe={type:de.type,coordinates:Ae(de.coordinates)};break;case"MultiPolygon":xe={type:"MultiPolygon",coordinates:de.coordinates.map(Ae)};break;default:return de}return de.bbox!=null&&(xe.bbox=de.bbox),xe}function Q(de){var xe={type:"Feature",properties:de.properties,geometry:F(de.geometry)};return de.id!=null&&(xe.id=de.id),de.bbox!=null&&(xe.bbox=de.bbox),xe}if(z!=null)switch(z.type){case"Feature":return Q(z);case"FeatureCollection":var ie={type:"FeatureCollection",features:z.features.map(Q)};return z.bbox!=null&&(ie.bbox=z.bbox),ie;default:return F(z)}return z}function ca(z){var U=u(z);function j(J,fe){var Ae=U?p(J*U/2)/U:J/2;if(!fe)return[2*Ae,-z];var F=2*a(Ae*u(fe)),Q=1/p(fe);return[u(F)*Q,fe+(1-y(F))*Q-z]}return j.invert=function(J,fe){if(k(fe+=z)<c)return[U?2*a(U*J/2)/U:J,0];var Ae,F=J*J+fe*fe,Q=0,ie=10;do{var de=p(Q),xe=1/y(Q),Ce=F-2*fe*Q+Q*Q;Q-=Ae=(de*Ce+2*(Q-fe))/(2+Ce*xe*xe+2*(Q-fe)*de)}while(k(Ae)>c&&--ie>0);var Ue=J*(de=p(Q)),He=p(k(fe)<k(Q+1/de)?.5*E(Ue):.5*L(Ue)+g/4)/u(Q);return[U?2*a(U*He)/U:2*He,Q]},j}function Ar(){return De(ca).scale(131.215)}var ka=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function sl(z,U){var j,J=r(18,36*k(U)/g),fe=s(J),Ae=J-fe,F=(j=ka[fe])[0],Q=j[1],ie=(j=ka[++fe])[0],de=j[1],xe=(j=ka[r(19,++fe)])[0],Ce=j[1];return[z*(ie+Ae*(xe-F)/2+Ae*Ae*(xe-2*ie+F)/2),(U>0?h:-h)*(de+Ae*(Ce-Q)/2+Ae*Ae*(Ce-2*de+Q)/2)]}function El(){return(0,M.Z)(sl).scale(152.63)}function Ls(z,U){var j=function(F){function Q(ie,de){var xe=y(de),Ce=(F-1)/(F-xe*y(ie));return[Ce*xe*u(ie),Ce*u(de)]}return Q.invert=function(ie,de){var xe=ie*ie+de*de,Ce=C(xe),Ue=(F-C(1-xe*(F+1)/(F-1)))/((F-1)/Ce+Ce/(F-1));return[_(ie*Ue,Ce*C(1-Ue*Ue)),Ce?E(de*Ue/Ce):0]},Q}(z);if(!U)return j;var J=y(U),fe=u(U);function Ae(F,Q){var ie=j(F,Q),de=ie[1],xe=de*fe/(z-1)+J;return[ie[0]*J/xe,de/xe]}return Ae.invert=function(F,Q){var ie=(z-1)/(z-1-Q*fe);return j.invert(ie*F,ie*Q*J)},Ae}function Cs(){var z=2,U=0,j=(0,M.r)(Ls),J=j(z,U);return J.distance=function(fe){return arguments.length?j(z=+fe,U):z},J.tilt=function(fe){return arguments.length?j(z,U=fe*T):U*S},J.scale(432.147).clipAngle(L(1/z)*S-1e-6)}ka.forEach(function(z){z[1]*=1.0144}),sl.invert=function(z,U){var j=U/h,J=90*j,fe=r(18,k(J/5)),Ae=i(0,s(fe));do{var F=ka[Ae][1],Q=ka[Ae+1][1],ie=ka[r(19,Ae+2)][1],de=ie-F,xe=ie-2*Q+F,Ce=2*(k(j)-Q)/de,Ue=xe/de,He=Ce*(1-Ue*Ce*(1-2*Ue*Ce));if(He>=0||Ae===1){J=(U>=0?5:-5)*(He+fe);var We,Ke=50;do He=(fe=r(18,k(J)/5))-(Ae=s(fe)),F=ka[Ae][1],Q=ka[Ae+1][1],ie=ka[r(19,Ae+2)][1],J-=(We=(U>=0?h:-h)*(Q+He*(ie-F)/2+He*He*(ie-2*Q+F)/2)-U)*S;while(k(We)>b&&--Ke>0);break}}while(--Ae>=0);var nt=ka[Ae][0],pt=ka[Ae+1][0],yt=ka[r(19,Ae+2)][0];return[z/(pt+He*(yt-nt)/2+He*He*(yt-2*pt+nt)/2),J*T]};var qo=1e-4,Tr=1e4,po=-180,Hs=po+qo,ll=180,Ma=ll-qo,go=-90,io=go+qo,Ja=90,Mo=Ja-qo;function Go(z){return z.length>0}function ta(z){return z===go||z===Ja?[0,z]:[po,(U=z,Math.floor(U*Tr)/Tr)];var U}function Os(z){var U=z[0],j=z[1],J=!1;return U<=Hs?(U=po,J=!0):U>=Ma&&(U=ll,J=!0),j<=io?(j=go,J=!0):j>=Mo&&(j=Ja,J=!0),J?[U,j]:z}function qs(z){return z.map(Os)}function fa(z,U,j){for(var J=0,fe=z.length;J<fe;++J){var Ae=z[J].slice();j.push({index:-1,polygon:U,ring:Ae});for(var F=0,Q=Ae.length;F<Q;++F){var ie=Ae[F],de=ie[0],xe=ie[1];if(de<=Hs||de>=Ma||xe<=io||xe>=Mo){Ae[F]=Os(ie);for(var Ce=F+1;Ce<Q;++Ce){var Ue=Ae[Ce],He=Ue[0],We=Ue[1];if(He>Hs&&He<Ma&&We>io&&We<Mo)break}if(Ce===F+1)continue;if(F){var Ke={index:-1,polygon:U,ring:Ae.slice(0,F+1)};Ke.ring[Ke.ring.length-1]=ta(xe),j[j.length-1]=Ke}else j.pop();if(Ce>=Q)break;j.push({index:-1,polygon:U,ring:Ae=Ae.slice(Ce-1)}),Ae[0]=ta(Ae[0][1]),F=-1,Q=Ae.length}}}}function di(z){var U,j,J,fe,Ae,F,Q=z.length,ie={},de={};for(U=0;U<Q;++U)J=(j=z[U]).ring[0],Ae=j.ring[j.ring.length-1],J[0]!==Ae[0]||J[1]!==Ae[1]?(j.index=U,ie[J]=de[Ae]=j):(j.polygon.push(j.ring),z[U]=null);for(U=0;U<Q;++U)if(j=z[U]){if(J=j.ring[0],Ae=j.ring[j.ring.length-1],fe=de[J],F=ie[Ae],delete ie[J],delete de[Ae],J[0]===Ae[0]&&J[1]===Ae[1]){j.polygon.push(j.ring);continue}fe?(delete de[J],delete ie[fe.ring[0]],fe.ring.pop(),z[fe.index]=null,j={index:-1,polygon:fe.polygon,ring:fe.ring.concat(j.ring)},fe===F?j.polygon.push(j.ring):(j.index=Q++,z.push(ie[j.ring[0]]=de[j.ring[j.ring.length-1]]=j))):F?(delete ie[Ae],delete de[F.ring[F.ring.length-1]],j.ring.pop(),j={index:Q++,polygon:F.polygon,ring:j.ring.concat(F.ring)},z[F.index]=null,z.push(ie[j.ring[0]]=de[j.ring[j.ring.length-1]]=j)):(j.ring.push(j.ring[0]),j.polygon.push(j.ring))}}function ul(z){var U={type:"Feature",geometry:Ua(z.geometry)};return z.id!=null&&(U.id=z.id),z.bbox!=null&&(U.bbox=z.bbox),z.properties!=null&&(U.properties=z.properties),U}function Ua(z){if(z==null)return z;var U,j,J,fe;switch(z.type){case"GeometryCollection":U={type:"GeometryCollection",geometries:z.geometries.map(Ua)};break;case"Point":U={type:"Point",coordinates:Os(z.coordinates)};break;case"MultiPoint":case"LineString":U={type:z.type,coordinates:qs(z.coordinates)};break;case"MultiLineString":U={type:"MultiLineString",coordinates:z.coordinates.map(qs)};break;case"Polygon":var Ae=[];fa(z.coordinates,Ae,j=[]),di(j),U={type:"Polygon",coordinates:Ae};break;case"MultiPolygon":j=[],J=-1,fe=z.coordinates.length;for(var F=new Array(fe);++J<fe;)fa(z.coordinates[J],F[J]=[],j);di(j),U={type:"MultiPolygon",coordinates:F.filter(Go)};break;default:return z}return z.bbox!=null&&(U.bbox=z.bbox),U}function na(z){if(z==null)return z;switch(z.type){case"Feature":return ul(z);case"FeatureCollection":var U={type:"FeatureCollection",features:z.features.map(ul)};return z.bbox!=null&&(U.bbox=z.bbox),U;default:return Ua(z)}}function Ao(z,U){var j=p(U/2),J=u(x*j);return[z*(.74482-.34588*J*J),1.70711*j]}function Jl(){return(0,M.Z)(Ao).scale(146.153)}function Vi(z,U,j){var J=(0,Ms.Z)(U,j),fe=J(.5),Ae=(0,et.Z)([-fe[0],-fe[1]])(U),F=J.distance/2,Q=-E(u(Ae[1]*T)/u(F)),ie=[-fe[0],-fe[1],-(Ae[0]>0?g-Q:Q)*S],de=(0,M.Z)(z(F)).rotate(ie),xe=(0,et.Z)(ie),Ce=de.center;return delete de.rotate,de.center=function(Ue){return arguments.length?Ce(xe(Ue)):xe.invert(Ce())},de.clipAngle(90)}function ui(z){var U=y(z);function j(J,fe){var Ae=(0,ni.M)(J,fe);return Ae[0]*=U,Ae}return j.invert=function(J,fe){return ni.M.invert(J/U,fe)},j}function Ka(){return So([-158,21.5],[-77,39]).clipAngle(60).scale(400)}function So(z,U){return Vi(ui,z,U)}function vo(z){if(!(z*=2))return ee.N;var U=-z/2,j=-U,J=z*z,fe=p(j),Ae=.5/u(j);function F(Q,ie){var de=L(y(ie)*y(Q-U)),xe=L(y(ie)*y(Q-j));return[((de*=de)-(xe*=xe))/(2*z),(ie<0?-1:1)*C(4*J*xe-(J-de+xe)*(J-de+xe))/(2*z)]}return F.invert=function(Q,ie){var de,xe,Ce=ie*ie,Ue=y(C(Ce+(de=Q+U)*de)),He=y(C(Ce+(de=Q+j)*de));return[_(xe=Ue-He,de=(Ue+He)*fe),(ie<0?-1:1)*L(C(de*de+xe*xe)*Ae)]},F}function Ll(){return us([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)}function us(z,U){return Vi(vo,z,U)}function Ps(z,U){if(k(U)<c)return[z,0];var j=k(U/h),J=E(j);if(k(z)<c||k(k(U)-h)<c)return[0,o(U)*g*p(J/2)];var fe=y(J),Ae=k(g/z-z/g)/2,F=Ae*Ae,Q=fe/(j+fe-1),ie=Q*(2/j-1),de=ie*ie,xe=de+F,Ce=Q-de,Ue=F+Q;return[o(z)*g*(Ae*Ce+C(F*Ce*Ce-xe*(Q*Q-de)))/xe,o(U)*g*(ie*Ue-Ae*C((F+1)*xe-Ue*Ue))/xe]}function Ji(){return(0,M.Z)(Ps).scale(79.4183)}function ya(z,U){if(k(U)<c)return[z,0];var j=k(U/h),J=E(j);if(k(z)<c||k(k(U)-h)<c)return[0,o(U)*g*p(J/2)];var fe=y(J),Ae=k(g/z-z/g)/2,F=Ae*Ae,Q=fe*(C(1+F)-Ae*fe)/(1+F*j*j);return[o(z)*g*Q,o(U)*g*C(1-Q*(2*Ae+Q))]}function Or(){return(0,M.Z)(ya).scale(79.4183)}function Ir(z,U){if(k(U)<c)return[z,0];var j=U/h,J=E(j);if(k(z)<c||k(k(U)-h)<c)return[0,g*p(J/2)];var fe=(g/z-z/g)/2,Ae=j/(1+y(J));return[g*(o(z)*C(fe*fe+1-Ae*Ae)-fe),g*Ae]}function Gs(){return(0,M.Z)(Ir).scale(79.4183)}function Oa(z,U){if(!U)return[z,0];var j=k(U);if(!z||j===h)return[0,U];var J=j/h,fe=J*J,Ae=(8*J-fe*(fe+2)-5)/(2*fe*(J-1)),F=Ae*Ae,Q=J*Ae,ie=fe+F+2*Q,de=J+3*Ae,xe=z/h,Ce=xe+1/xe,Ue=o(k(z)-h)*C(Ce*Ce-4),He=Ue*Ue,We=(Ue*(ie+F-1)+2*C(ie*(fe+F*He-1)+(1-fe)*(fe*(de*de+4*F)+12*Q*F+4*F*F)))/(4*ie+He);return[o(z)*h*We,o(U)*h*C(1+Ue*k(We)-We*We)]}function cs(){return(0,M.Z)(Oa).scale(127.16)}function xa(z,U,j,J){var fe=g/3;z=i(z,c),U=i(U,c),z=r(z,h),U=r(U,g-c),j=i(j,0),j=r(j,100-c);var Ae=(J=i(J,c))/100,F=L((j/100+1)*y(fe))/fe,Q=u(z)/u(F*h),ie=U/g,de=C(Ae*u(z/2)/u(U/2));return function(xe,Ce,Ue,He,We){function Ke(nt,pt){var yt=Ue*u(He*pt),It=C(1-yt*yt),Rt=C(2/(1+It*y(nt*=We)));return[xe*It*Rt*u(nt),Ce*yt*Rt]}return Ke.invert=function(nt,pt){var yt=nt/xe,It=pt/Ce,Rt=C(yt*yt+It*It),Pt=2*E(Rt/2);return[_(nt*p(Pt),xe*Rt)/We,Rt&&E(pt*u(Pt)/(Ce*Ue*Rt))/He]},Ke}(de/C(ie*Q*F),1/(de*C(ie*Q*F)),Q,F,ie)}function Ys(){var z=65*T,U=60*T,j=20,J=200,fe=(0,M.r)(xa),Ae=fe(z,U,j,J);return Ae.poleline=function(F){return arguments.length?fe(z=+F*T,U,j,J):z*S},Ae.parallels=function(F){return arguments.length?fe(z,U=+F*T,j,J):U*S},Ae.inflation=function(F){return arguments.length?fe(z,U,j=+F,J):j},Ae.ratio=function(F){return arguments.length?fe(z,U,j,J=+F):J},Ae.scale(163.775)}function ba(){return Ys().poleline(65).parallels(60).inflation(0).ratio(200).scale(172.633)}Ao.invert=function(z,U){var j=U/1.70711,J=u(x*j);return[z/(.74482-.34588*J*J),2*a(j)]},Ps.invert=function(z,U){if(k(U)<c)return[z,0];if(k(z)<c)return[0,h*u(2*a(U/g))];var j=(z/=g)*z,J=(U/=g)*U,fe=j+J,Ae=fe*fe,F=-k(U)*(1+fe),Q=F-2*J+j,ie=-2*F+1+2*J+Ae,de=J/ie+(2*Q*Q*Q/(ie*ie*ie)-9*F*Q/(ie*ie))/27,xe=(F-Q*Q/(3*ie))/ie,Ce=2*C(-xe/3),Ue=L(3*de/(xe*Ce))/3;return[g*(fe-1+C(1+2*(j-J)+Ae))/(2*z),o(U)*g*(-Ce*y(Ue+g/3)-Q/(3*ie))]},ya.invert=function(z,U){if(!z)return[0,h*u(2*a(U/g))];var j=k(z/g),J=(1-j*j-(U/=g)*U)/(2*j),fe=C(J*J+1);return[o(z)*g*(fe-J),o(U)*h*u(2*_(C((1-2*J*j)*(J+fe)-j),C(fe+J+j)))]},Ir.invert=function(z,U){if(!U)return[z,0];var j=U/g,J=(g*g*(1-j*j)-z*z)/(2*g*z);return[z?g*(o(z)*C(J*J+1)-J):0,h*u(2*a(j))]},Oa.invert=function(z,U){var j;if(!z||!U)return[z,U];U/=g;var J=o(z)*z/h,fe=(J*J-1+4*U*U)/k(J),Ae=fe*fe,F=2*U,Q=50;do{var ie=F*F,de=(8*F-ie*(ie+2)-5)/(2*ie*(F-1)),xe=(3*F-ie*F-10)/(2*ie*F),Ce=de*de,Ue=F*de,He=F+de,We=He*He,Ke=F+3*de,nt=-2*He*(4*Ue*Ce+(1-4*ie+3*ie*ie)*(1+xe)+Ce*(14*ie-6-Ae+(8*ie-8-2*Ae)*xe)+Ue*(12*ie-8+(10*ie-10-Ae)*xe)),pt=C(We*(ie+Ce*Ae-1)+(1-ie)*(ie*(Ke*Ke+4*Ce)+Ce*(12*Ue+4*Ce)));F-=j=(fe*(We+Ce-1)+2*pt-J*(4*We+Ae))/(fe*(2*de*xe+2*He*(1+xe))+nt/pt-8*He*(fe*(-1+Ce+We)+2*pt)*(1+xe)/(Ae+4*We))}while(j>c&&--Q>0);return[o(z)*(C(fe*fe+4)+fe)*g/4,h*F]};var fs=4*g+3*C(3),hs=2*C(2*g*C(3)/fs),jr=ke(hs*C(3)/g,hs,fs/6);function ra(){return(0,M.Z)(jr).scale(176.84)}function Eo(z,U){return[z*C(1-3*U*U/(g*g)),U]}function Va(){return(0,M.Z)(Eo).scale(152.63)}function Is(z,U){var j=y(U),J=y(z)*j,fe=1-J,Ae=y(z=_(u(z)*j,-u(U))),F=u(z);return[F*(j=C(1-J*J))-Ae*fe,-Ae*j-F*fe]}function Ws(){return(0,M.Z)(Is).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)}function Ds(z,U){var j=H(z,U);return[(j[0]+z/h)/2,(j[1]+U)/2]}function Yo(){return(0,M.Z)(Ds).scale(158.837)}Eo.invert=function(z,U){return[z/C(1-3*U*U/(g*g)),U]},Is.invert=function(z,U){var j=(z*z+U*U)/-2,J=C(-j*(2+j)),fe=U*j+z*J,Ae=z*j-U*J,F=C(Ae*Ae+fe*fe);return[_(J*fe,F*(1+j)),F?-E(J*Ae/F):0]},Ds.invert=function(z,U){var j=z,J=U,fe=25;do{var Ae,F=y(J),Q=u(J),ie=u(2*J),de=Q*Q,xe=F*F,Ce=u(j),Ue=y(j/2),He=u(j/2),We=He*He,Ke=1-xe*Ue*Ue,nt=Ke?L(F*Ue)*C(Ae=1/Ke):Ae=0,pt=.5*(2*nt*F*He+j/h)-z,yt=.5*(nt*Q+J)-U,It=.5*Ae*(xe*We+nt*F*Ue*de)+.5/h,Rt=Ae*(Ce*ie/4-nt*Q*He),Pt=.125*Ae*(ie*He-nt*Q*xe*Ce),Vt=.5*Ae*(de*Ue+nt*We*F)+.5,Dt=Rt*Pt-Vt*It,sn=(yt*Rt-pt*Vt)/Dt,Kt=(pt*Pt-yt*It)/Dt;j-=sn,J-=Kt}while((k(sn)>c||k(Kt)>c)&&--fe>0);return[j,J]}},33940:function(Y,O,e){function M(){return new k}function k(){this.reset()}e.d(O,{Z:function(){return M}}),k.prototype={constructor:k,reset:function(){this.s=this.t=0},add:function(y){_(a,y,this.t),_(this,a.s,this.s),this.s?this.t+=a.t:this.s=a.t},valueOf:function(){return this.s}};var a=new k;function _(y,d,s){var t=y.s=d+s,i=t-d,r=t-i;y.t=d-r+(s-i)}},97860:function(Y,O,e){e.d(O,{L9:function(){return r},ZP:function(){return b},gL:function(){return l}});var M,k,a,_,y,d=e(33940),s=e(39695),t=e(73182),i=e(72736),r=(0,d.Z)(),n=(0,d.Z)(),l={point:t.Z,lineStart:t.Z,lineEnd:t.Z,polygonStart:function(){r.reset(),l.lineStart=o,l.lineEnd=u},polygonEnd:function(){var g=+r;n.add(g<0?s.BZ+g:g),this.lineStart=this.lineEnd=this.point=t.Z},sphere:function(){n.add(s.BZ)}};function o(){l.point=p}function u(){c(M,k)}function p(g,h){l.point=c,M=g,k=h,g*=s.uR,h*=s.uR,a=g,_=(0,s.mC)(h=h/2+s.pu),y=(0,s.O$)(h)}function c(g,h){g*=s.uR,h=(h*=s.uR)/2+s.pu;var x=g-a,v=x>=0?1:-1,m=v*x,w=(0,s.mC)(h),f=(0,s.O$)(h),S=y*f,T=_*w+S*(0,s.mC)(m),E=S*v*(0,s.O$)(m);r.add((0,s.fv)(E,T)),a=g,_=w,y=f}function b(g){return n.reset(),(0,i.Z)(g,l),2*n}},77338:function(Y,O,e){e.d(O,{Z:function(){return L}});var M,k,a,_,y,d,s,t,i,r,n=e(33940),l=e(97860),o=e(7620),u=e(39695),p=e(72736),c=(0,n.Z)(),b={point:g,lineStart:x,lineEnd:v,polygonStart:function(){b.point=m,b.lineStart=w,b.lineEnd=f,c.reset(),l.gL.polygonStart()},polygonEnd:function(){l.gL.polygonEnd(),b.point=g,b.lineStart=x,b.lineEnd=v,l.L9<0?(M=-(a=180),k=-(_=90)):c>u.Ho?_=90:c<-u.Ho&&(k=-90),r[0]=M,r[1]=a},sphere:function(){M=-(a=180),k=-(_=90)}};function g(C,P){i.push(r=[M=C,a=C]),P<k&&(k=P),P>_&&(_=P)}function h(C,P){var R=(0,o.Og)([C*u.uR,P*u.uR]);if(t){var G=(0,o.T5)(t,R),I=[G[1],-G[0],0],H=(0,o.T5)(I,G);(0,o.iJ)(H),H=(0,o.Y1)(H);var N,B=C-y,V=B>0?1:-1,q=H[0]*u.RW*V,te=(0,u.Wn)(B)>180;te^(V*y<q&&q<V*C)?(N=H[1]*u.RW)>_&&(_=N):te^(V*y<(q=(q+360)%360-180)&&q<V*C)?(N=-H[1]*u.RW)<k&&(k=N):(P<k&&(k=P),P>_&&(_=P)),te?C<y?S(M,C)>S(M,a)&&(a=C):S(C,a)>S(M,a)&&(M=C):a>=M?(C<M&&(M=C),C>a&&(a=C)):C>y?S(M,C)>S(M,a)&&(a=C):S(C,a)>S(M,a)&&(M=C)}else i.push(r=[M=C,a=C]);P<k&&(k=P),P>_&&(_=P),t=R,y=C}function x(){b.point=h}function v(){r[0]=M,r[1]=a,b.point=g,t=null}function m(C,P){if(t){var R=C-y;c.add((0,u.Wn)(R)>180?R+(R>0?360:-360):R)}else d=C,s=P;l.gL.point(C,P),h(C,P)}function w(){l.gL.lineStart()}function f(){m(d,s),l.gL.lineEnd(),(0,u.Wn)(c)>u.Ho&&(M=-(a=180)),r[0]=M,r[1]=a,t=null}function S(C,P){return(P-=C)<0?P+360:P}function T(C,P){return C[0]-P[0]}function E(C,P){return C[0]<=C[1]?C[0]<=P&&P<=C[1]:P<C[0]||C[1]<P}function L(C){var P,R,G,I,H,N,B;if(_=a=-(M=k=1/0),i=[],(0,p.Z)(C,b),R=i.length){for(i.sort(T),P=1,H=[G=i[0]];P<R;++P)E(G,(I=i[P])[0])||E(G,I[1])?(S(G[0],I[1])>S(G[0],G[1])&&(G[1]=I[1]),S(I[0],G[1])>S(G[0],G[1])&&(G[0]=I[0])):H.push(G=I);for(N=-1/0,P=0,G=H[R=H.length-1];P<=R;G=I,++P)I=H[P],(B=S(G[1],I[0]))>N&&(N=B,M=I[0],a=G[1])}return i=r=null,M===1/0||k===1/0?[[NaN,NaN],[NaN,NaN]]:[[M,k],[a,_]]}},7620:function(Y,O,e){e.d(O,{Og:function(){return a},T:function(){return s},T5:function(){return y},Y1:function(){return k},iJ:function(){return t},j9:function(){return _},s0:function(){return d}});var M=e(39695);function k(i){return[(0,M.fv)(i[1],i[0]),(0,M.ZR)(i[2])]}function a(i){var r=i[0],n=i[1],l=(0,M.mC)(n);return[l*(0,M.mC)(r),l*(0,M.O$)(r),(0,M.O$)(n)]}function _(i,r){return i[0]*r[0]+i[1]*r[1]+i[2]*r[2]}function y(i,r){return[i[1]*r[2]-i[2]*r[1],i[2]*r[0]-i[0]*r[2],i[0]*r[1]-i[1]*r[0]]}function d(i,r){i[0]+=r[0],i[1]+=r[1],i[2]+=r[2]}function s(i,r){return[i[0]*r,i[1]*r,i[2]*r]}function t(i){var r=(0,M._b)(i[0]*i[0]+i[1]*i[1]+i[2]*i[2]);i[0]/=r,i[1]/=r,i[2]/=r}},66624:function(Y,O,e){e.d(O,{Z:function(){return R}});var M,k,a,_,y,d,s,t,i,r,n,l,o,u,p,c,b=e(39695),g=e(73182),h=e(72736),x={sphere:g.Z,point:v,lineStart:w,lineEnd:T,polygonStart:function(){x.lineStart=E,x.lineEnd=L},polygonEnd:function(){x.lineStart=w,x.lineEnd=T}};function v(G,I){G*=b.uR,I*=b.uR;var H=(0,b.mC)(I);m(H*(0,b.mC)(G),H*(0,b.O$)(G),(0,b.O$)(I))}function m(G,I,H){++M,a+=(G-a)/M,_+=(I-_)/M,y+=(H-y)/M}function w(){x.point=f}function f(G,I){G*=b.uR,I*=b.uR;var H=(0,b.mC)(I);u=H*(0,b.mC)(G),p=H*(0,b.O$)(G),c=(0,b.O$)(I),x.point=S,m(u,p,c)}function S(G,I){G*=b.uR,I*=b.uR;var H=(0,b.mC)(I),N=H*(0,b.mC)(G),B=H*(0,b.O$)(G),V=(0,b.O$)(I),q=(0,b.fv)((0,b._b)((q=p*V-c*B)*q+(q=c*N-u*V)*q+(q=u*B-p*N)*q),u*N+p*B+c*V);k+=q,d+=q*(u+(u=N)),s+=q*(p+(p=B)),t+=q*(c+(c=V)),m(u,p,c)}function T(){x.point=v}function E(){x.point=C}function L(){P(l,o),x.point=v}function C(G,I){l=G,o=I,G*=b.uR,I*=b.uR,x.point=P;var H=(0,b.mC)(I);u=H*(0,b.mC)(G),p=H*(0,b.O$)(G),c=(0,b.O$)(I),m(u,p,c)}function P(G,I){G*=b.uR,I*=b.uR;var H=(0,b.mC)(I),N=H*(0,b.mC)(G),B=H*(0,b.O$)(G),V=(0,b.O$)(I),q=p*V-c*B,te=c*N-u*V,$=u*B-p*N,K=(0,b._b)(q*q+te*te+$*$),Z=(0,b.ZR)(K),X=K&&-Z/K;i+=X*q,r+=X*te,n+=X*$,k+=Z,d+=Z*(u+(u=N)),s+=Z*(p+(p=B)),t+=Z*(c+(c=V)),m(u,p,c)}function R(G){M=k=a=_=y=d=s=t=i=r=n=0,(0,h.Z)(G,x);var I=i,H=r,N=n,B=I*I+H*H+N*N;return B<b.aW&&(I=d,H=s,N=t,k<b.Ho&&(I=a,H=_,N=y),(B=I*I+H*H+N*N)<b.aW)?[NaN,NaN]:[(0,b.fv)(H,I)*b.RW,(0,b.ZR)(N/(0,b._b)(B))*b.RW]}},7613:function(Y,O,e){e.d(O,{m:function(){return y},Z:function(){return s}});var M=e(7620);function k(t){return function(){return t}}var a=e(39695),_=e(49386);function y(t,i,r,n,l,o){if(r){var u=(0,a.mC)(i),p=(0,a.O$)(i),c=n*r;l==null?(l=i+n*a.BZ,o=i-c/2):(l=d(u,l),o=d(u,o),(n>0?l<o:l>o)&&(l+=n*a.BZ));for(var b,g=l;n>0?g>o:g<o;g-=c)b=(0,M.Y1)([u,-p*(0,a.mC)(g),-p*(0,a.O$)(g)]),t.point(b[0],b[1])}}function d(t,i){(i=(0,M.Og)(i))[0]-=t,(0,M.iJ)(i);var r=(0,a.Kh)(-i[1]);return((-i[2]<0?-r:r)+a.BZ-a.Ho)%a.BZ}function s(){var t,i,r=k([0,0]),n=k(90),l=k(6),o={point:function(p,c){t.push(p=i(p,c)),p[0]*=a.RW,p[1]*=a.RW}};function u(){var p=r.apply(this,arguments),c=n.apply(this,arguments)*a.uR,b=l.apply(this,arguments)*a.uR;return t=[],i=(0,_.I)(-p[0]*a.uR,-p[1]*a.uR,0).invert,y(o,c,b,1),p={type:"Polygon",coordinates:[t]},t=i=null,p}return u.center=function(p){return arguments.length?(r=typeof p=="function"?p:k([+p[0],+p[1]]),u):r},u.radius=function(p){return arguments.length?(n=typeof p=="function"?p:k(+p),u):n},u.precision=function(p){return arguments.length?(l=typeof p=="function"?p:k(+p),u):l},u}},87070:function(Y,O,e){var M=e(97023),k=e(39695);O.Z=(0,M.Z)(function(){return!0},function(a){var _,y=NaN,d=NaN,s=NaN;return{lineStart:function(){a.lineStart(),_=1},point:function(t,i){var r=t>0?k.pi:-k.pi,n=(0,k.Wn)(t-y);(0,k.Wn)(n-k.pi)<k.Ho?(a.point(y,d=(d+i)/2>0?k.ou:-k.ou),a.point(s,d),a.lineEnd(),a.lineStart(),a.point(r,d),a.point(t,d),_=0):s!==r&&n>=k.pi&&((0,k.Wn)(y-s)<k.Ho&&(y-=s*k.Ho),(0,k.Wn)(t-r)<k.Ho&&(t-=r*k.Ho),d=function(l,o,u,p){var c,b,g=(0,k.O$)(l-u);return(0,k.Wn)(g)>k.Ho?(0,k.z4)(((0,k.O$)(o)*(b=(0,k.mC)(p))*(0,k.O$)(u)-(0,k.O$)(p)*(c=(0,k.mC)(o))*(0,k.O$)(l))/(c*b*g)):(o+p)/2}(y,d,t,i),a.point(s,d),a.lineEnd(),a.lineStart(),a.point(r,d),_=0),a.point(y=t,d=i),s=r},lineEnd:function(){a.lineEnd(),y=d=NaN},clean:function(){return 2-_}}},function(a,_,y,d){var s;if(a==null)s=y*k.ou,d.point(-k.pi,s),d.point(0,s),d.point(k.pi,s),d.point(k.pi,0),d.point(k.pi,-s),d.point(0,-s),d.point(-k.pi,-s),d.point(-k.pi,0),d.point(-k.pi,s);else if((0,k.Wn)(a[0]-_[0])>k.Ho){var t=a[0]<_[0]?k.pi:-k.pi;s=y*t/2,d.point(-t,s),d.point(0,s),d.point(t,s)}else d.point(_[0],_[1])},[-k.pi,-k.ou])},85272:function(Y,O,e){e.d(O,{Z:function(){return k}});var M=e(73182);function k(){var a,_=[];return{point:function(y,d,s){a.push([y,d,s])},lineStart:function(){_.push(a=[])},lineEnd:M.Z,rejoin:function(){_.length>1&&_.push(_.pop().concat(_.shift()))},result:function(){var y=_;return _=[],a=null,y}}}},1457:function(Y,O,e){e.d(O,{Z:function(){return d}});var M=e(7620),k=e(7613),a=e(39695),_=e(67108),y=e(97023);function d(s){var t=(0,a.mC)(s),i=6*a.uR,r=t>0,n=(0,a.Wn)(t)>a.Ho;function l(p,c){return(0,a.mC)(p)*(0,a.mC)(c)>t}function o(p,c,b){var g=(0,M.Og)(p),h=(0,M.Og)(c),x=[1,0,0],v=(0,M.T5)(g,h),m=(0,M.j9)(v,v),w=v[0],f=m-w*w;if(!f)return!b&&p;var S=t*m/f,T=-t*w/f,E=(0,M.T5)(x,v),L=(0,M.T)(x,S),C=(0,M.T)(v,T);(0,M.s0)(L,C);var P=E,R=(0,M.j9)(L,P),G=(0,M.j9)(P,P),I=R*R-G*((0,M.j9)(L,L)-1);if(!(I<0)){var H=(0,a._b)(I),N=(0,M.T)(P,(-R-H)/G);if((0,M.s0)(N,L),N=(0,M.Y1)(N),!b)return N;var B,V=p[0],q=c[0],te=p[1],$=c[1];q<V&&(B=V,V=q,q=B);var K=q-V,Z=(0,a.Wn)(K-a.pi)<a.Ho;if(!Z&&$<te&&(B=te,te=$,$=B),Z||K<a.Ho?Z?te+$>0^N[1]<((0,a.Wn)(N[0]-V)<a.Ho?te:$):te<=N[1]&&N[1]<=$:K>a.pi^(V<=N[0]&&N[0]<=q)){var X=(0,M.T)(P,(-R+H)/G);return(0,M.s0)(X,L),[N,(0,M.Y1)(X)]}}}function u(p,c){var b=r?s:a.pi-s,g=0;return p<-b?g|=1:p>b&&(g|=2),c<-b?g|=4:c>b&&(g|=8),g}return(0,y.Z)(l,function(p){var c,b,g,h,x;return{lineStart:function(){h=g=!1,x=1},point:function(v,m){var w,f=[v,m],S=l(v,m),T=r?S?0:u(v,m):S?u(v+(v<0?a.pi:-a.pi),m):0;if(!c&&(h=g=S)&&p.lineStart(),S!==g&&(!(w=o(c,f))||(0,_.Z)(c,w)||(0,_.Z)(f,w))&&(f[2]=1),S!==g)x=0,S?(p.lineStart(),w=o(f,c),p.point(w[0],w[1])):(w=o(c,f),p.point(w[0],w[1],2),p.lineEnd()),c=w;else if(n&&c&&r^S){var E;T&b||!(E=o(f,c,!0))||(x=0,r?(p.lineStart(),p.point(E[0][0],E[0][1]),p.point(E[1][0],E[1][1]),p.lineEnd()):(p.point(E[1][0],E[1][1]),p.lineEnd(),p.lineStart(),p.point(E[0][0],E[0][1],3)))}!S||c&&(0,_.Z)(c,f)||p.point(f[0],f[1]),c=f,g=S,b=T},lineEnd:function(){g&&p.lineEnd(),c=null},clean:function(){return x|(h&&g)<<1}}},function(p,c,b,g){(0,k.m)(g,s,i,b,p,c)},r?[0,-s]:[-a.pi,s-a.pi])}},97023:function(Y,O,e){e.d(O,{Z:function(){return d}});var M=e(85272),k=e(46225),a=e(39695),_=e(23071),y=e(33064);function d(i,r,n,l){return function(o){var u,p,c,b=r(o),g=(0,M.Z)(),h=r(g),x=!1,v={point:m,lineStart:f,lineEnd:S,polygonStart:function(){v.point=T,v.lineStart=E,v.lineEnd=L,p=[],u=[]},polygonEnd:function(){v.point=m,v.lineStart=f,v.lineEnd=S,p=(0,y.TS)(p);var C=(0,_.Z)(u,l);p.length?(x||(o.polygonStart(),x=!0),(0,k.Z)(p,t,C,n,o)):C&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),p=u=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function m(C,P){i(C,P)&&o.point(C,P)}function w(C,P){b.point(C,P)}function f(){v.point=w,b.lineStart()}function S(){v.point=m,b.lineEnd()}function T(C,P){c.push([C,P]),h.point(C,P)}function E(){h.lineStart(),c=[]}function L(){T(c[0][0],c[0][1]),h.lineEnd();var C,P,R,G,I=h.clean(),H=g.result(),N=H.length;if(c.pop(),u.push(c),c=null,N)if(1&I){if((P=(R=H[0]).length-1)>0){for(x||(o.polygonStart(),x=!0),o.lineStart(),C=0;C<P;++C)o.point((G=R[C])[0],G[1]);o.lineEnd()}}else N>1&&2&I&&H.push(H.pop().concat(H.shift())),p.push(H.filter(s))}return v}}function s(i){return i.length>1}function t(i,r){return((i=i.x)[0]<0?i[1]-a.ou-a.Ho:a.ou-i[1])-((r=r.x)[0]<0?r[1]-a.ou-a.Ho:a.ou-r[1])}},87605:function(Y,O,e){e.d(O,{Z:function(){return s}});var M=e(39695),k=e(85272),a=e(46225),_=e(33064),y=1e9,d=-y;function s(t,i,r,n){function l(b,g){return t<=b&&b<=r&&i<=g&&g<=n}function o(b,g,h,x){var v=0,m=0;if(b==null||(v=u(b,h))!==(m=u(g,h))||c(b,g)<0^h>0)do x.point(v===0||v===3?t:r,v>1?n:i);while((v=(v+h+4)%4)!==m);else x.point(g[0],g[1])}function u(b,g){return(0,M.Wn)(b[0]-t)<M.Ho?g>0?0:3:(0,M.Wn)(b[0]-r)<M.Ho?g>0?2:1:(0,M.Wn)(b[1]-i)<M.Ho?g>0?1:0:g>0?3:2}function p(b,g){return c(b.x,g.x)}function c(b,g){var h=u(b,1),x=u(g,1);return h!==x?h-x:h===0?g[1]-b[1]:h===1?b[0]-g[0]:h===2?b[1]-g[1]:g[0]-b[0]}return function(b){var g,h,x,v,m,w,f,S,T,E,L,C=b,P=(0,k.Z)(),R={point:G,lineStart:function(){R.point=I,h&&h.push(x=[]),E=!0,T=!1,f=S=NaN},lineEnd:function(){g&&(I(v,m),w&&T&&P.rejoin(),g.push(P.result())),R.point=G,T&&C.lineEnd()},polygonStart:function(){C=P,g=[],h=[],L=!0},polygonEnd:function(){var H=function(){for(var V=0,q=0,te=h.length;q<te;++q)for(var $,K,Z=h[q],X=1,ee=Z.length,ne=Z[0],re=ne[0],ae=ne[1];X<ee;++X)$=re,K=ae,re=(ne=Z[X])[0],ae=ne[1],K<=n?ae>n&&(re-$)*(n-K)>(ae-K)*(t-$)&&++V:ae<=n&&(re-$)*(n-K)<(ae-K)*(t-$)&&--V;return V}(),N=L&&H,B=(g=(0,_.TS)(g)).length;(N||B)&&(b.polygonStart(),N&&(b.lineStart(),o(null,null,1,b),b.lineEnd()),B&&(0,a.Z)(g,p,H,o,b),b.polygonEnd()),C=b,g=h=x=null}};function G(H,N){l(H,N)&&C.point(H,N)}function I(H,N){var B=l(H,N);if(h&&x.push([H,N]),E)v=H,m=N,w=B,E=!1,B&&(C.lineStart(),C.point(H,N));else if(B&&T)C.point(H,N);else{var V=[f=Math.max(d,Math.min(y,f)),S=Math.max(d,Math.min(y,S))],q=[H=Math.max(d,Math.min(y,H)),N=Math.max(d,Math.min(y,N))];(function(te,$,K,Z,X,ee){var ne,re=te[0],ae=te[1],ue=0,pe=1,ge=$[0]-re,we=$[1]-ae;if(ne=K-re,ge||!(ne>0)){if(ne/=ge,ge<0){if(ne<ue)return;ne<pe&&(pe=ne)}else if(ge>0){if(ne>pe)return;ne>ue&&(ue=ne)}if(ne=X-re,ge||!(ne<0)){if(ne/=ge,ge<0){if(ne>pe)return;ne>ue&&(ue=ne)}else if(ge>0){if(ne<ue)return;ne<pe&&(pe=ne)}if(ne=Z-ae,we||!(ne>0)){if(ne/=we,we<0){if(ne<ue)return;ne<pe&&(pe=ne)}else if(we>0){if(ne>pe)return;ne>ue&&(ue=ne)}if(ne=ee-ae,we||!(ne<0)){if(ne/=we,we<0){if(ne>pe)return;ne>ue&&(ue=ne)}else if(we>0){if(ne<ue)return;ne<pe&&(pe=ne)}return ue>0&&(te[0]=re+ue*ge,te[1]=ae+ue*we),pe<1&&($[0]=re+pe*ge,$[1]=ae+pe*we),!0}}}}})(V,q,t,i,r,n)?(T||(C.lineStart(),C.point(V[0],V[1])),C.point(q[0],q[1]),B||C.lineEnd(),L=!1):B&&(C.lineStart(),C.point(H,N),L=!1)}f=H,S=N,T=B}return R}}},46225:function(Y,O,e){e.d(O,{Z:function(){return _}});var M=e(67108),k=e(39695);function a(d,s,t,i){this.x=d,this.z=s,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function _(d,s,t,i,r){var n,l,o=[],u=[];if(d.forEach(function(x){if(!((v=x.length-1)<=0)){var v,m,w=x[0],f=x[v];if((0,M.Z)(w,f)){if(!w[2]&&!f[2]){for(r.lineStart(),n=0;n<v;++n)r.point((w=x[n])[0],w[1]);return void r.lineEnd()}f[0]+=2*k.Ho}o.push(m=new a(w,x,null,!0)),u.push(m.o=new a(w,null,m,!1)),o.push(m=new a(f,x,null,!1)),u.push(m.o=new a(f,null,m,!0))}}),o.length){for(u.sort(s),y(o),y(u),n=0,l=u.length;n<l;++n)u[n].e=t=!t;for(var p,c,b=o[0];;){for(var g=b,h=!0;g.v;)if((g=g.n)===b)return;p=g.z,r.lineStart();do{if(g.v=g.o.v=!0,g.e){if(h)for(n=0,l=p.length;n<l;++n)r.point((c=p[n])[0],c[1]);else i(g.x,g.n.x,1,r);g=g.n}else{if(h)for(p=g.p.z,n=p.length-1;n>=0;--n)r.point((c=p[n])[0],c[1]);else i(g.x,g.p.x,-1,r);g=g.p}p=(g=g.o).z,h=!h}while(!g.v);r.lineEnd()}}}function y(d){if(s=d.length){for(var s,t,i=0,r=d[0];++i<s;)r.n=t=d[i],t.p=r,r=t;r.n=t=d[0],t.p=r}}},96059:function(Y,O,e){function M(k,a){function _(y,d){return y=k(y,d),a(y[0],y[1])}return k.invert&&a.invert&&(_.invert=function(y,d){return(y=a.invert(y,d))&&k.invert(y[0],y[1])}),_}e.d(O,{Z:function(){return M}})},8593:function(Y,O,e){function M(k){return k}e.d(O,{Z:function(){return M}})},27362:function(Y,O,e){e.r(O),e.d(O,{geoAlbers:function(){return bt},geoAlbersUsa:function(){return St},geoArea:function(){return M.ZP},geoAzimuthalEqualArea:function(){return gt.Z},geoAzimuthalEqualAreaRaw:function(){return gt.l},geoAzimuthalEquidistant:function(){return vt.Z},geoAzimuthalEquidistantRaw:function(){return vt.N},geoBounds:function(){return k.Z},geoCentroid:function(){return a.Z},geoCircle:function(){return _.Z},geoClipAntimeridian:function(){return y.Z},geoClipCircle:function(){return d.Z},geoClipExtent:function(){return t},geoClipRectangle:function(){return s.Z},geoConicConformal:function(){return Yt},geoConicConformalRaw:function(){return Gt},geoConicEqualArea:function(){return mt},geoConicEqualAreaRaw:function(){return xt},geoConicEquidistant:function(){return On},geoConicEquidistantRaw:function(){return bn},geoContains:function(){return H},geoDistance:function(){return S},geoEqualEarth:function(){return Mn},geoEqualEarthRaw:function(){return mn},geoEquirectangular:function(){return en.Z},geoEquirectangularRaw:function(){return en.k},geoGnomonic:function(){return Tn.Z},geoGnomonicRaw:function(){return Tn.M},geoGraticule:function(){return q},geoGraticule10:function(){return te},geoIdentity:function(){return yn},geoInterpolate:function(){return ee.Z},geoLength:function(){return m},geoMercator:function(){return Nt},geoMercatorRaw:function(){return Bt},geoNaturalEarth1:function(){return Rn.Z},geoNaturalEarth1Raw:function(){return Rn.K},geoOrthographic:function(){return Zn.Z},geoOrthographicRaw:function(){return Zn.I},geoPath:function(){return je},geoProjection:function(){return st.Z},geoProjectionMutator:function(){return st.r},geoRotation:function(){return Mt.Z},geoStereographic:function(){return tr},geoStereographicRaw:function(){return sr},geoStream:function(){return c.Z},geoTransform:function(){return Pn.Z},geoTransverseMercator:function(){return pr},geoTransverseMercatorRaw:function(){return Jn}});var M=e(97860),k=e(77338),a=e(66624),_=e(7613),y=e(87070),d=e(1457),s=e(87605);function t(){var Ut,rn,cn,vn=0,Sn=0,Hn=960,Dn=500;return cn={stream:function(Bn){return Ut&&rn===Bn?Ut:Ut=(0,s.Z)(vn,Sn,Hn,Dn)(rn=Bn)},extent:function(Bn){return arguments.length?(vn=+Bn[0][0],Sn=+Bn[0][1],Hn=+Bn[1][0],Dn=+Bn[1][1],Ut=rn=null,cn):[[vn,Sn],[Hn,Dn]]}}}var i,r,n,l=e(23071),o=e(33940),u=e(39695),p=e(73182),c=e(72736),b=(0,o.Z)(),g={sphere:p.Z,point:p.Z,lineStart:function(){g.point=x,g.lineEnd=h},lineEnd:p.Z,polygonStart:p.Z,polygonEnd:p.Z};function h(){g.point=g.lineEnd=p.Z}function x(Ut,rn){Ut*=u.uR,rn*=u.uR,i=Ut,r=(0,u.O$)(rn),n=(0,u.mC)(rn),g.point=v}function v(Ut,rn){Ut*=u.uR,rn*=u.uR;var cn=(0,u.O$)(rn),vn=(0,u.mC)(rn),Sn=(0,u.Wn)(Ut-i),Hn=(0,u.mC)(Sn),Dn=vn*(0,u.O$)(Sn),Bn=n*cn-r*vn*Hn,Qn=r*cn+n*vn*Hn;b.add((0,u.fv)((0,u._b)(Dn*Dn+Bn*Bn),Qn)),i=Ut,r=cn,n=vn}function m(Ut){return b.reset(),(0,c.Z)(Ut,g),+b}var w=[null,null],f={type:"LineString",coordinates:w};function S(Ut,rn){return w[0]=Ut,w[1]=rn,m(f)}var T={Feature:function(Ut,rn){return L(Ut.geometry,rn)},FeatureCollection:function(Ut,rn){for(var cn=Ut.features,vn=-1,Sn=cn.length;++vn<Sn;)if(L(cn[vn].geometry,rn))return!0;return!1}},E={Sphere:function(){return!0},Point:function(Ut,rn){return C(Ut.coordinates,rn)},MultiPoint:function(Ut,rn){for(var cn=Ut.coordinates,vn=-1,Sn=cn.length;++vn<Sn;)if(C(cn[vn],rn))return!0;return!1},LineString:function(Ut,rn){return P(Ut.coordinates,rn)},MultiLineString:function(Ut,rn){for(var cn=Ut.coordinates,vn=-1,Sn=cn.length;++vn<Sn;)if(P(cn[vn],rn))return!0;return!1},Polygon:function(Ut,rn){return R(Ut.coordinates,rn)},MultiPolygon:function(Ut,rn){for(var cn=Ut.coordinates,vn=-1,Sn=cn.length;++vn<Sn;)if(R(cn[vn],rn))return!0;return!1},GeometryCollection:function(Ut,rn){for(var cn=Ut.geometries,vn=-1,Sn=cn.length;++vn<Sn;)if(L(cn[vn],rn))return!0;return!1}};function L(Ut,rn){return!(!Ut||!E.hasOwnProperty(Ut.type))&&E[Ut.type](Ut,rn)}function C(Ut,rn){return S(Ut,rn)===0}function P(Ut,rn){for(var cn,vn,Sn,Hn=0,Dn=Ut.length;Hn<Dn;Hn++){if((vn=S(Ut[Hn],rn))===0||Hn>0&&(Sn=S(Ut[Hn],Ut[Hn-1]))>0&&cn<=Sn&&vn<=Sn&&(cn+vn-Sn)*(1-Math.pow((cn-vn)/Sn,2))<u.aW*Sn)return!0;cn=vn}return!1}function R(Ut,rn){return!!(0,l.Z)(Ut.map(G),I(rn))}function G(Ut){return(Ut=Ut.map(I)).pop(),Ut}function I(Ut){return[Ut[0]*u.uR,Ut[1]*u.uR]}function H(Ut,rn){return(Ut&&T.hasOwnProperty(Ut.type)?T[Ut.type]:L)(Ut,rn)}var N=e(33064);function B(Ut,rn,cn){var vn=(0,N.w6)(Ut,rn-u.Ho,cn).concat(rn);return function(Sn){return vn.map(function(Hn){return[Sn,Hn]})}}function V(Ut,rn,cn){var vn=(0,N.w6)(Ut,rn-u.Ho,cn).concat(rn);return function(Sn){return vn.map(function(Hn){return[Hn,Sn]})}}function q(){var Ut,rn,cn,vn,Sn,Hn,Dn,Bn,Qn,Wt,An,Ct,Jt=10,tn=Jt,wn=90,kn=360,Cn=2.5;function pn(){return{type:"MultiLineString",coordinates:$t()}}function $t(){return(0,N.w6)((0,u.mD)(vn/wn)*wn,cn,wn).map(An).concat((0,N.w6)((0,u.mD)(Bn/kn)*kn,Dn,kn).map(Ct)).concat((0,N.w6)((0,u.mD)(rn/Jt)*Jt,Ut,Jt).filter(function(Qt){return(0,u.Wn)(Qt%wn)>u.Ho}).map(Qn)).concat((0,N.w6)((0,u.mD)(Hn/tn)*tn,Sn,tn).filter(function(Qt){return(0,u.Wn)(Qt%kn)>u.Ho}).map(Wt))}return pn.lines=function(){return $t().map(function(Qt){return{type:"LineString",coordinates:Qt}})},pn.outline=function(){return{type:"Polygon",coordinates:[An(vn).concat(Ct(Dn).slice(1),An(cn).reverse().slice(1),Ct(Bn).reverse().slice(1))]}},pn.extent=function(Qt){return arguments.length?pn.extentMajor(Qt).extentMinor(Qt):pn.extentMinor()},pn.extentMajor=function(Qt){return arguments.length?(vn=+Qt[0][0],cn=+Qt[1][0],Bn=+Qt[0][1],Dn=+Qt[1][1],vn>cn&&(Qt=vn,vn=cn,cn=Qt),Bn>Dn&&(Qt=Bn,Bn=Dn,Dn=Qt),pn.precision(Cn)):[[vn,Bn],[cn,Dn]]},pn.extentMinor=function(Qt){return arguments.length?(rn=+Qt[0][0],Ut=+Qt[1][0],Hn=+Qt[0][1],Sn=+Qt[1][1],rn>Ut&&(Qt=rn,rn=Ut,Ut=Qt),Hn>Sn&&(Qt=Hn,Hn=Sn,Sn=Qt),pn.precision(Cn)):[[rn,Hn],[Ut,Sn]]},pn.step=function(Qt){return arguments.length?pn.stepMajor(Qt).stepMinor(Qt):pn.stepMinor()},pn.stepMajor=function(Qt){return arguments.length?(wn=+Qt[0],kn=+Qt[1],pn):[wn,kn]},pn.stepMinor=function(Qt){return arguments.length?(Jt=+Qt[0],tn=+Qt[1],pn):[Jt,tn]},pn.precision=function(Qt){return arguments.length?(Cn=+Qt,Qn=B(Hn,Sn,90),Wt=V(rn,Ut,Cn),An=B(Bn,Dn,90),Ct=V(vn,cn,Cn),pn):Cn},pn.extentMajor([[-180,-90+u.Ho],[180,90-u.Ho]]).extentMinor([[-180,-80-u.Ho],[180,80+u.Ho]])}function te(){return q()()}var $,K,Z,X,ee=e(83074),ne=e(8593),re=(0,o.Z)(),ae=(0,o.Z)(),ue={point:p.Z,lineStart:p.Z,lineEnd:p.Z,polygonStart:function(){ue.lineStart=pe,ue.lineEnd=me},polygonEnd:function(){ue.lineStart=ue.lineEnd=ue.point=p.Z,re.add((0,u.Wn)(ae)),ae.reset()},result:function(){var Ut=re/2;return re.reset(),Ut}};function pe(){ue.point=ge}function ge(Ut,rn){ue.point=we,$=Z=Ut,K=X=rn}function we(Ut,rn){ae.add(X*Ut-Z*rn),Z=Ut,X=rn}function me(){we($,K)}var ve,Ie,Se,ke,se=ue,oe=e(3559),he=0,Le=0,Me=0,_e=0,De=0,Ne=0,ce=0,Te=0,ye=0,Oe={point:Be,lineStart:Fe,lineEnd:et,polygonStart:function(){Oe.lineStart=ft,Oe.lineEnd=rt},polygonEnd:function(){Oe.point=Be,Oe.lineStart=Fe,Oe.lineEnd=et},result:function(){var Ut=ye?[ce/ye,Te/ye]:Ne?[_e/Ne,De/Ne]:Me?[he/Me,Le/Me]:[NaN,NaN];return he=Le=Me=_e=De=Ne=ce=Te=ye=0,Ut}};function Be(Ut,rn){he+=Ut,Le+=rn,++Me}function Fe(){Oe.point=Ge}function Ge(Ut,rn){Oe.point=Ze,Be(Se=Ut,ke=rn)}function Ze(Ut,rn){var cn=Ut-Se,vn=rn-ke,Sn=(0,u._b)(cn*cn+vn*vn);_e+=Sn*(Se+Ut)/2,De+=Sn*(ke+rn)/2,Ne+=Sn,Be(Se=Ut,ke=rn)}function et(){Oe.point=Be}function ft(){Oe.point=_t}function rt(){kt(ve,Ie)}function _t(Ut,rn){Oe.point=kt,Be(ve=Se=Ut,Ie=ke=rn)}function kt(Ut,rn){var cn=Ut-Se,vn=rn-ke,Sn=(0,u._b)(cn*cn+vn*vn);_e+=Sn*(Se+Ut)/2,De+=Sn*(ke+rn)/2,Ne+=Sn,ce+=(Sn=ke*Ut-Se*rn)*(Se+Ut),Te+=Sn*(ke+rn),ye+=3*Sn,Be(Se=Ut,ke=rn)}var wt=Oe;function lt(Ut){this._context=Ut}lt.prototype={_radius:4.5,pointRadius:function(Ut){return this._radius=Ut,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(Ut,rn){switch(this._point){case 0:this._context.moveTo(Ut,rn),this._point=1;break;case 1:this._context.lineTo(Ut,rn);break;default:this._context.moveTo(Ut+this._radius,rn),this._context.arc(Ut,rn,this._radius,0,u.BZ)}},result:p.Z};var ut,Et,Ot,zt,Lt,Je=(0,o.Z)(),Qe={point:p.Z,lineStart:function(){Qe.point=qe},lineEnd:function(){ut&&$e(Et,Ot),Qe.point=p.Z},polygonStart:function(){ut=!0},polygonEnd:function(){ut=null},result:function(){var Ut=+Je;return Je.reset(),Ut}};function qe(Ut,rn){Qe.point=$e,Et=zt=Ut,Ot=Lt=rn}function $e(Ut,rn){zt-=Ut,Lt-=rn,Je.add((0,u._b)(zt*zt+Lt*Lt)),zt=Ut,Lt=rn}var ct=Qe;function at(){this._string=[]}function Re(Ut){return"m0,"+Ut+"a"+Ut+","+Ut+" 0 1,1 0,"+-2*Ut+"a"+Ut+","+Ut+" 0 1,1 0,"+2*Ut+"z"}function je(Ut,rn){var cn,vn,Sn=4.5;function Hn(Dn){return Dn&&(typeof Sn=="function"&&vn.pointRadius(+Sn.apply(this,arguments)),(0,c.Z)(Dn,cn(vn))),vn.result()}return Hn.area=function(Dn){return(0,c.Z)(Dn,cn(se)),se.result()},Hn.measure=function(Dn){return(0,c.Z)(Dn,cn(ct)),ct.result()},Hn.bounds=function(Dn){return(0,c.Z)(Dn,cn(oe.Z)),oe.Z.result()},Hn.centroid=function(Dn){return(0,c.Z)(Dn,cn(wt)),wt.result()},Hn.projection=function(Dn){return arguments.length?(cn=Dn==null?(Ut=null,ne.Z):(Ut=Dn).stream,Hn):Ut},Hn.context=function(Dn){return arguments.length?(vn=Dn==null?(rn=null,new at):new lt(rn=Dn),typeof Sn!="function"&&vn.pointRadius(Sn),Hn):rn},Hn.pointRadius=function(Dn){return arguments.length?(Sn=typeof Dn=="function"?Dn:(vn.pointRadius(+Dn),+Dn),Hn):Sn},Hn.projection(Ut).context(rn)}at.prototype={_radius:4.5,_circle:Re(4.5),pointRadius:function(Ut){return(Ut=+Ut)!==this._radius&&(this._radius=Ut,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._string.push("Z"),this._point=NaN},point:function(Ut,rn){switch(this._point){case 0:this._string.push("M",Ut,",",rn),this._point=1;break;case 1:this._string.push("L",Ut,",",rn);break;default:this._circle==null&&(this._circle=Re(this._radius)),this._string.push("M",Ut,",",rn,this._circle)}},result:function(){if(this._string.length){var Ut=this._string.join("");return this._string=[],Ut}return null}};var st=e(15002);function ot(Ut){var rn=0,cn=u.pi/3,vn=(0,st.r)(Ut),Sn=vn(rn,cn);return Sn.parallels=function(Hn){return arguments.length?vn(rn=Hn[0]*u.uR,cn=Hn[1]*u.uR):[rn*u.RW,cn*u.RW]},Sn}function xt(Ut,rn){var cn=(0,u.O$)(Ut),vn=(cn+(0,u.O$)(rn))/2;if((0,u.Wn)(vn)<u.Ho)return function(Bn){var Qn=(0,u.mC)(Bn);function Wt(An,Ct){return[An*Qn,(0,u.O$)(Ct)/Qn]}return Wt.invert=function(An,Ct){return[An/Qn,(0,u.ZR)(Ct*Qn)]},Wt}(Ut);var Sn=1+cn*(2*vn-cn),Hn=(0,u._b)(Sn)/vn;function Dn(Bn,Qn){var Wt=(0,u._b)(Sn-2*vn*(0,u.O$)(Qn))/vn;return[Wt*(0,u.O$)(Bn*=vn),Hn-Wt*(0,u.mC)(Bn)]}return Dn.invert=function(Bn,Qn){var Wt=Hn-Qn,An=(0,u.fv)(Bn,(0,u.Wn)(Wt))*(0,u.Xx)(Wt);return Wt*vn<0&&(An-=u.pi*(0,u.Xx)(Bn)*(0,u.Xx)(Wt)),[An/vn,(0,u.ZR)((Sn-(Bn*Bn+Wt*Wt)*vn*vn)/(2*vn))]},Dn}function mt(){return ot(xt).scale(155.424).center([0,33.6442])}function bt(){return mt().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}var dt=e(47589);function St(){var Ut,rn,cn,vn,Sn,Hn,Dn=bt(),Bn=mt().rotate([154,0]).center([-2,58.5]).parallels([55,65]),Qn=mt().rotate([157,0]).center([-3,19.9]).parallels([8,18]),Wt={point:function(Jt,tn){Hn=[Jt,tn]}};function An(Jt){var tn=Jt[0],wn=Jt[1];return Hn=null,cn.point(tn,wn),Hn||(vn.point(tn,wn),Hn)||(Sn.point(tn,wn),Hn)}function Ct(){return Ut=rn=null,An}return An.invert=function(Jt){var tn=Dn.scale(),wn=Dn.translate(),kn=(Jt[0]-wn[0])/tn,Cn=(Jt[1]-wn[1])/tn;return(Cn>=.12&&Cn<.234&&kn>=-.425&&kn<-.214?Bn:Cn>=.166&&Cn<.234&&kn>=-.214&&kn<-.115?Qn:Dn).invert(Jt)},An.stream=function(Jt){return Ut&&rn===Jt?Ut:(tn=[Dn.stream(rn=Jt),Bn.stream(Jt),Qn.stream(Jt)],wn=tn.length,Ut={point:function(kn,Cn){for(var pn=-1;++pn<wn;)tn[pn].point(kn,Cn)},sphere:function(){for(var kn=-1;++kn<wn;)tn[kn].sphere()},lineStart:function(){for(var kn=-1;++kn<wn;)tn[kn].lineStart()},lineEnd:function(){for(var kn=-1;++kn<wn;)tn[kn].lineEnd()},polygonStart:function(){for(var kn=-1;++kn<wn;)tn[kn].polygonStart()},polygonEnd:function(){for(var kn=-1;++kn<wn;)tn[kn].polygonEnd()}});var tn,wn},An.precision=function(Jt){return arguments.length?(Dn.precision(Jt),Bn.precision(Jt),Qn.precision(Jt),Ct()):Dn.precision()},An.scale=function(Jt){return arguments.length?(Dn.scale(Jt),Bn.scale(.35*Jt),Qn.scale(Jt),An.translate(Dn.translate())):Dn.scale()},An.translate=function(Jt){if(!arguments.length)return Dn.translate();var tn=Dn.scale(),wn=+Jt[0],kn=+Jt[1];return cn=Dn.translate(Jt).clipExtent([[wn-.455*tn,kn-.238*tn],[wn+.455*tn,kn+.238*tn]]).stream(Wt),vn=Bn.translate([wn-.307*tn,kn+.201*tn]).clipExtent([[wn-.425*tn+u.Ho,kn+.12*tn+u.Ho],[wn-.214*tn-u.Ho,kn+.234*tn-u.Ho]]).stream(Wt),Sn=Qn.translate([wn-.205*tn,kn+.212*tn]).clipExtent([[wn-.214*tn+u.Ho,kn+.166*tn+u.Ho],[wn-.115*tn-u.Ho,kn+.234*tn-u.Ho]]).stream(Wt),Ct()},An.fitExtent=function(Jt,tn){return(0,dt.qg)(An,Jt,tn)},An.fitSize=function(Jt,tn){return(0,dt.mF)(An,Jt,tn)},An.fitWidth=function(Jt,tn){return(0,dt.V6)(An,Jt,tn)},An.fitHeight=function(Jt,tn){return(0,dt.rf)(An,Jt,tn)},An.scale(1070)}var gt=e(12956),vt=e(17889),Mt=e(49386);function Bt(Ut,rn){return[Ut,(0,u.cM)((0,u.OR)((u.ou+rn)/2))]}function Nt(){return qt(Bt).scale(961/u.BZ)}function qt(Ut){var rn,cn,vn,Sn=(0,st.Z)(Ut),Hn=Sn.center,Dn=Sn.scale,Bn=Sn.translate,Qn=Sn.clipExtent,Wt=null;function An(){var Ct=u.pi*Dn(),Jt=Sn((0,Mt.Z)(Sn.rotate()).invert([0,0]));return Qn(Wt==null?[[Jt[0]-Ct,Jt[1]-Ct],[Jt[0]+Ct,Jt[1]+Ct]]:Ut===Bt?[[Math.max(Jt[0]-Ct,Wt),rn],[Math.min(Jt[0]+Ct,cn),vn]]:[[Wt,Math.max(Jt[1]-Ct,rn)],[cn,Math.min(Jt[1]+Ct,vn)]])}return Sn.scale=function(Ct){return arguments.length?(Dn(Ct),An()):Dn()},Sn.translate=function(Ct){return arguments.length?(Bn(Ct),An()):Bn()},Sn.center=function(Ct){return arguments.length?(Hn(Ct),An()):Hn()},Sn.clipExtent=function(Ct){return arguments.length?(Ct==null?Wt=rn=cn=vn=null:(Wt=+Ct[0][0],rn=+Ct[0][1],cn=+Ct[1][0],vn=+Ct[1][1]),An()):Wt==null?null:[[Wt,rn],[cn,vn]]},An()}function an(Ut){return(0,u.OR)((u.ou+Ut)/2)}function Gt(Ut,rn){var cn=(0,u.mC)(Ut),vn=Ut===rn?(0,u.O$)(Ut):(0,u.cM)(cn/(0,u.mC)(rn))/(0,u.cM)(an(rn)/an(Ut)),Sn=cn*(0,u.sQ)(an(Ut),vn)/vn;if(!vn)return Bt;function Hn(Dn,Bn){Sn>0?Bn<-u.ou+u.Ho&&(Bn=-u.ou+u.Ho):Bn>u.ou-u.Ho&&(Bn=u.ou-u.Ho);var Qn=Sn/(0,u.sQ)(an(Bn),vn);return[Qn*(0,u.O$)(vn*Dn),Sn-Qn*(0,u.mC)(vn*Dn)]}return Hn.invert=function(Dn,Bn){var Qn=Sn-Bn,Wt=(0,u.Xx)(vn)*(0,u._b)(Dn*Dn+Qn*Qn),An=(0,u.fv)(Dn,(0,u.Wn)(Qn))*(0,u.Xx)(Qn);return Qn*vn<0&&(An-=u.pi*(0,u.Xx)(Dn)*(0,u.Xx)(Qn)),[An/vn,2*(0,u.z4)((0,u.sQ)(Sn/Wt,1/vn))-u.ou]},Hn}function Yt(){return ot(Gt).scale(109.5).parallels([30,30])}Bt.invert=function(Ut,rn){return[Ut,2*(0,u.z4)((0,u.Qq)(rn))-u.ou]};var en=e(97492);function bn(Ut,rn){var cn=(0,u.mC)(Ut),vn=Ut===rn?(0,u.O$)(Ut):(cn-(0,u.mC)(rn))/(rn-Ut),Sn=cn/vn+Ut;if((0,u.Wn)(vn)<u.Ho)return en.k;function Hn(Dn,Bn){var Qn=Sn-Bn,Wt=vn*Dn;return[Qn*(0,u.O$)(Wt),Sn-Qn*(0,u.mC)(Wt)]}return Hn.invert=function(Dn,Bn){var Qn=Sn-Bn,Wt=(0,u.fv)(Dn,(0,u.Wn)(Qn))*(0,u.Xx)(Qn);return Qn*vn<0&&(Wt-=u.pi*(0,u.Xx)(Dn)*(0,u.Xx)(Qn)),[Wt/vn,Sn-(0,u.Xx)(vn)*(0,u._b)(Dn*Dn+Qn*Qn)]},Hn}function On(){return ot(bn).scale(131.154).center([0,13.9389])}var gn=1.340264,Xt=-.081106,ln=893e-6,nn=.003796,hn=(0,u._b)(3)/2;function mn(Ut,rn){var cn=(0,u.ZR)(hn*(0,u.O$)(rn)),vn=cn*cn,Sn=vn*vn*vn;return[Ut*(0,u.mC)(cn)/(hn*(gn+3*Xt*vn+Sn*(7*ln+9*nn*vn))),cn*(gn+Xt*vn+Sn*(ln+nn*vn))]}function Mn(){return(0,st.Z)(mn).scale(177.158)}mn.invert=function(Ut,rn){for(var cn,vn=rn,Sn=vn*vn,Hn=Sn*Sn*Sn,Dn=0;Dn<12&&(Hn=(Sn=(vn-=cn=(vn*(gn+Xt*Sn+Hn*(ln+nn*Sn))-rn)/(gn+3*Xt*Sn+Hn*(7*ln+9*nn*Sn)))*vn)*Sn*Sn,!((0,u.Wn)(cn)<u.aW));++Dn);return[hn*Ut*(gn+3*Xt*Sn+Hn*(7*ln+9*nn*Sn))/(0,u.mC)(vn),(0,u.ZR)((0,u.O$)(vn)/hn)]};var Tn=e(98936),Pn=e(64684);function yn(){var Ut,rn,cn,vn,Sn,Hn,Dn,Bn=1,Qn=0,Wt=0,An=1,Ct=1,Jt=0,tn=null,wn=1,kn=1,Cn=(0,Pn.l)({point:function(fn,dn){var In=Qt([fn,dn]);this.stream.point(In[0],In[1])}}),pn=ne.Z;function $t(){return wn=Bn*An,kn=Bn*Ct,Hn=Dn=null,Qt}function Qt(fn){var dn=fn[0]*wn,In=fn[1]*kn;if(Jt){var zn=In*Ut-dn*rn;dn=dn*Ut+In*rn,In=zn}return[dn+Qn,In+Wt]}return Qt.invert=function(fn){var dn=fn[0]-Qn,In=fn[1]-Wt;if(Jt){var zn=In*Ut+dn*rn;dn=dn*Ut-In*rn,In=zn}return[dn/wn,In/kn]},Qt.stream=function(fn){return Hn&&Dn===fn?Hn:Hn=Cn(pn(Dn=fn))},Qt.postclip=function(fn){return arguments.length?(pn=fn,tn=cn=vn=Sn=null,$t()):pn},Qt.clipExtent=function(fn){return arguments.length?(pn=fn==null?(tn=cn=vn=Sn=null,ne.Z):(0,s.Z)(tn=+fn[0][0],cn=+fn[0][1],vn=+fn[1][0],Sn=+fn[1][1]),$t()):tn==null?null:[[tn,cn],[vn,Sn]]},Qt.scale=function(fn){return arguments.length?(Bn=+fn,$t()):Bn},Qt.translate=function(fn){return arguments.length?(Qn=+fn[0],Wt=+fn[1],$t()):[Qn,Wt]},Qt.angle=function(fn){return arguments.length?(Jt=fn%360*u.uR,rn=(0,u.O$)(Jt),Ut=(0,u.mC)(Jt),$t()):Jt*u.RW},Qt.reflectX=function(fn){return arguments.length?(An=fn?-1:1,$t()):An<0},Qt.reflectY=function(fn){return arguments.length?(Ct=fn?-1:1,$t()):Ct<0},Qt.fitExtent=function(fn,dn){return(0,dt.qg)(Qt,fn,dn)},Qt.fitSize=function(fn,dn){return(0,dt.mF)(Qt,fn,dn)},Qt.fitWidth=function(fn,dn){return(0,dt.V6)(Qt,fn,dn)},Qt.fitHeight=function(fn,dn){return(0,dt.rf)(Qt,fn,dn)},Qt}var Rn=e(26867),Zn=e(57962),ir=e(25382);function sr(Ut,rn){var cn=(0,u.mC)(rn),vn=1+(0,u.mC)(Ut)*cn;return[cn*(0,u.O$)(Ut)/vn,(0,u.O$)(rn)/vn]}function tr(){return(0,st.Z)(sr).scale(250).clipAngle(142)}function Jn(Ut,rn){return[(0,u.cM)((0,u.OR)((u.ou+rn)/2)),-Ut]}function pr(){var Ut=qt(Jn),rn=Ut.center,cn=Ut.rotate;return Ut.center=function(vn){return arguments.length?rn([-vn[1],vn[0]]):[(vn=rn())[1],-vn[0]]},Ut.rotate=function(vn){return arguments.length?cn([vn[0],vn[1],vn.length>2?vn[2]+90:90]):[(vn=cn())[0],vn[1],vn[2]-90]},cn([0,0,90]).scale(159.155)}sr.invert=(0,ir.O)(function(Ut){return 2*(0,u.z4)(Ut)}),Jn.invert=function(Ut,rn){return[-rn,2*(0,u.z4)((0,u.Qq)(Ut))-u.ou]}},83074:function(Y,O,e){e.d(O,{Z:function(){return k}});var M=e(39695);function k(a,_){var y=a[0]*M.uR,d=a[1]*M.uR,s=_[0]*M.uR,t=_[1]*M.uR,i=(0,M.mC)(d),r=(0,M.O$)(d),n=(0,M.mC)(t),l=(0,M.O$)(t),o=i*(0,M.mC)(y),u=i*(0,M.O$)(y),p=n*(0,M.mC)(s),c=n*(0,M.O$)(s),b=2*(0,M.ZR)((0,M._b)((0,M.Jy)(t-d)+i*n*(0,M.Jy)(s-y))),g=(0,M.O$)(b),h=b?function(x){var v=(0,M.O$)(x*=b)/g,m=(0,M.O$)(b-x)/g,w=m*o+v*p,f=m*u+v*c,S=m*r+v*l;return[(0,M.fv)(f,w)*M.RW,(0,M.fv)(S,(0,M._b)(w*w+f*f))*M.RW]}:function(){return[y*M.RW,d*M.RW]};return h.distance=b,h}},39695:function(Y,O,e){e.d(O,{BZ:function(){return d},Ho:function(){return M},Jy:function(){return w},Kh:function(){return v},O$:function(){return b},OR:function(){return x},Qq:function(){return u},RW:function(){return s},Wn:function(){return i},Xx:function(){return g},ZR:function(){return m},_b:function(){return h},aW:function(){return k},cM:function(){return p},fv:function(){return n},mC:function(){return l},mD:function(){return o},ou:function(){return _},pi:function(){return a},pu:function(){return y},sQ:function(){return c},uR:function(){return t},z4:function(){return r}});var M=1e-6,k=1e-12,a=Math.PI,_=a/2,y=a/4,d=2*a,s=180/a,t=a/180,i=Math.abs,r=Math.atan,n=Math.atan2,l=Math.cos,o=Math.ceil,u=Math.exp,p=Math.log,c=Math.pow,b=Math.sin,g=Math.sign||function(f){return f>0?1:f<0?-1:0},h=Math.sqrt,x=Math.tan;function v(f){return f>1?0:f<-1?a:Math.acos(f)}function m(f){return f>1?_:f<-1?-_:Math.asin(f)}function w(f){return(f=b(f/2))*f}},73182:function(Y,O,e){function M(){}e.d(O,{Z:function(){return M}})},3559:function(Y,O,e){var M=e(73182),k=1/0,a=k,_=-k,y=_,d={point:function(s,t){s<k&&(k=s),s>_&&(_=s),t<a&&(a=t),t>y&&(y=t)},lineStart:M.Z,lineEnd:M.Z,polygonStart:M.Z,polygonEnd:M.Z,result:function(){var s=[[k,a],[_,y]];return _=y=-(a=k=1/0),s}};O.Z=d},67108:function(Y,O,e){e.d(O,{Z:function(){return k}});var M=e(39695);function k(a,_){return(0,M.Wn)(a[0]-_[0])<M.Ho&&(0,M.Wn)(a[1]-_[1])<M.Ho}},23071:function(Y,O,e){e.d(O,{Z:function(){return d}});var M=e(33940),k=e(7620),a=e(39695),_=(0,M.Z)();function y(s){return(0,a.Wn)(s[0])<=a.pi?s[0]:(0,a.Xx)(s[0])*(((0,a.Wn)(s[0])+a.pi)%a.BZ-a.pi)}function d(s,t){var i=y(t),r=t[1],n=(0,a.O$)(r),l=[(0,a.O$)(i),-(0,a.mC)(i),0],o=0,u=0;_.reset(),n===1?r=a.ou+a.Ho:n===-1&&(r=-a.ou-a.Ho);for(var p=0,c=s.length;p<c;++p)if(g=(b=s[p]).length)for(var b,g,h=b[g-1],x=y(h),v=h[1]/2+a.pu,m=(0,a.O$)(v),w=(0,a.mC)(v),f=0;f<g;++f,x=T,m=L,w=C,h=S){var S=b[f],T=y(S),E=S[1]/2+a.pu,L=(0,a.O$)(E),C=(0,a.mC)(E),P=T-x,R=P>=0?1:-1,G=R*P,I=G>a.pi,H=m*L;if(_.add((0,a.fv)(H*R*(0,a.O$)(G),w*C+H*(0,a.mC)(G))),o+=I?P+R*a.BZ:P,I^x>=i^T>=i){var N=(0,k.T5)((0,k.Og)(h),(0,k.Og)(S));(0,k.iJ)(N);var B=(0,k.T5)(l,N);(0,k.iJ)(B);var V=(I^P>=0?-1:1)*(0,a.ZR)(B[2]);(r>V||r===V&&(N[0]||N[1]))&&(u+=I^P>=0?1:-1)}}return(o<-a.Ho||o<a.Ho&&_<-a.Ho)^1&u}},25382:function(Y,O,e){e.d(O,{O:function(){return a},W:function(){return k}});var M=e(39695);function k(_){return function(y,d){var s=(0,M.mC)(y),t=(0,M.mC)(d),i=_(s*t);return[i*t*(0,M.O$)(y),i*(0,M.O$)(d)]}}function a(_){return function(y,d){var s=(0,M._b)(y*y+d*d),t=_(s),i=(0,M.O$)(t),r=(0,M.mC)(t);return[(0,M.fv)(y*i,s*r),(0,M.ZR)(s&&d*i/s)]}}},12956:function(Y,O,e){e.d(O,{Z:function(){return y},l:function(){return _}});var M=e(39695),k=e(25382),a=e(15002),_=(0,k.W)(function(d){return(0,M._b)(2/(1+d))});function y(){return(0,a.Z)(_).scale(124.75).clipAngle(179.999)}_.invert=(0,k.O)(function(d){return 2*(0,M.ZR)(d/2)})},17889:function(Y,O,e){e.d(O,{N:function(){return _},Z:function(){return y}});var M=e(39695),k=e(25382),a=e(15002),_=(0,k.W)(function(d){return(d=(0,M.Kh)(d))&&d/(0,M.O$)(d)});function y(){return(0,a.Z)(_).scale(79.4188).clipAngle(179.999)}_.invert=(0,k.O)(function(d){return d})},97492:function(Y,O,e){e.d(O,{Z:function(){return a},k:function(){return k}});var M=e(15002);function k(_,y){return[_,y]}function a(){return(0,M.Z)(k).scale(152.63)}k.invert=k},47589:function(Y,O,e){e.d(O,{V6:function(){return d},mF:function(){return y},qg:function(){return _},rf:function(){return s}});var M=e(72736),k=e(3559);function a(t,i,r){var n=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),n!=null&&t.clipExtent(null),(0,M.Z)(r,t.stream(k.Z)),i(k.Z.result()),n!=null&&t.clipExtent(n),t}function _(t,i,r){return a(t,function(n){var l=i[1][0]-i[0][0],o=i[1][1]-i[0][1],u=Math.min(l/(n[1][0]-n[0][0]),o/(n[1][1]-n[0][1])),p=+i[0][0]+(l-u*(n[1][0]+n[0][0]))/2,c=+i[0][1]+(o-u*(n[1][1]+n[0][1]))/2;t.scale(150*u).translate([p,c])},r)}function y(t,i,r){return _(t,[[0,0],i],r)}function d(t,i,r){return a(t,function(n){var l=+i,o=l/(n[1][0]-n[0][0]),u=(l-o*(n[1][0]+n[0][0]))/2,p=-o*n[0][1];t.scale(150*o).translate([u,p])},r)}function s(t,i,r){return a(t,function(n){var l=+i,o=l/(n[1][1]-n[0][1]),u=-o*n[0][0],p=(l-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([u,p])},r)}},98936:function(Y,O,e){e.d(O,{M:function(){return _},Z:function(){return y}});var M=e(39695),k=e(25382),a=e(15002);function _(d,s){var t=(0,M.mC)(s),i=(0,M.mC)(d)*t;return[t*(0,M.O$)(d)/i,(0,M.O$)(s)/i]}function y(){return(0,a.Z)(_).scale(144.049).clipAngle(60)}_.invert=(0,k.O)(M.z4)},15002:function(Y,O,e){e.d(O,{Z:function(){return b},r:function(){return g}});var M=e(87070),k=e(1457),a=e(87605),_=e(96059),y=e(8593),d=e(39695),s=e(49386),t=e(64684),i=e(47589),r=e(7620),n=16,l=(0,d.mC)(30*d.uR);function o(h,x){return+x?function(v,m){function w(f,S,T,E,L,C,P,R,G,I,H,N,B,V){var q=P-f,te=R-S,$=q*q+te*te;if($>4*m&&B--){var K=E+I,Z=L+H,X=C+N,ee=(0,d._b)(K*K+Z*Z+X*X),ne=(0,d.ZR)(X/=ee),re=(0,d.Wn)((0,d.Wn)(X)-1)<d.Ho||(0,d.Wn)(T-G)<d.Ho?(T+G)/2:(0,d.fv)(Z,K),ae=v(re,ne),ue=ae[0],pe=ae[1],ge=ue-f,we=pe-S,me=te*ge-q*we;(me*me/$>m||(0,d.Wn)((q*ge+te*we)/$-.5)>.3||E*I+L*H+C*N<l)&&(w(f,S,T,E,L,C,ue,pe,re,K/=ee,Z/=ee,X,B,V),V.point(ue,pe),w(ue,pe,re,K,Z,X,P,R,G,I,H,N,B,V))}}return function(f){var S,T,E,L,C,P,R,G,I,H,N,B,V={point:q,lineStart:te,lineEnd:K,polygonStart:function(){f.polygonStart(),V.lineStart=Z},polygonEnd:function(){f.polygonEnd(),V.lineStart=te}};function q(ne,re){ne=v(ne,re),f.point(ne[0],ne[1])}function te(){G=NaN,V.point=$,f.lineStart()}function $(ne,re){var ae=(0,r.Og)([ne,re]),ue=v(ne,re);w(G,I,R,H,N,B,G=ue[0],I=ue[1],R=ne,H=ae[0],N=ae[1],B=ae[2],n,f),f.point(G,I)}function K(){V.point=q,f.lineEnd()}function Z(){te(),V.point=X,V.lineEnd=ee}function X(ne,re){$(S=ne,re),T=G,E=I,L=H,C=N,P=B,V.point=$}function ee(){w(G,I,R,H,N,B,T,E,S,L,C,P,n,f),V.lineEnd=K,K()}return V}}(h,x):function(v){return(0,t.l)({point:function(m,w){m=v(m,w),this.stream.point(m[0],m[1])}})}(h)}var u=(0,t.l)({point:function(h,x){this.stream.point(h*d.uR,x*d.uR)}});function p(h,x,v,m,w){function f(S,T){return[x+h*(S*=m),v-h*(T*=w)]}return f.invert=function(S,T){return[(S-x)/h*m,(v-T)/h*w]},f}function c(h,x,v,m,w,f){var S=(0,d.mC)(f),T=(0,d.O$)(f),E=S*h,L=T*h,C=S/h,P=T/h,R=(T*v-S*x)/h,G=(T*x+S*v)/h;function I(H,N){return[E*(H*=m)-L*(N*=w)+x,v-L*H-E*N]}return I.invert=function(H,N){return[m*(C*H-P*N+R),w*(G-P*H-C*N)]},I}function b(h){return g(function(){return h})()}function g(h){var x,v,m,w,f,S,T,E,L,C,P=150,R=480,G=250,I=0,H=0,N=0,B=0,V=0,q=0,te=1,$=1,K=null,Z=M.Z,X=null,ee=y.Z,ne=.5;function re(ge){return E(ge[0]*d.uR,ge[1]*d.uR)}function ae(ge){return(ge=E.invert(ge[0],ge[1]))&&[ge[0]*d.RW,ge[1]*d.RW]}function ue(){var ge=c(P,0,0,te,$,q).apply(null,x(I,H)),we=(q?c:p)(P,R-ge[0],G-ge[1],te,$,q);return v=(0,s.I)(N,B,V),T=(0,_.Z)(x,we),E=(0,_.Z)(v,T),S=o(T,ne),pe()}function pe(){return L=C=null,re}return re.stream=function(ge){return L&&C===ge?L:L=u(function(we){return(0,t.l)({point:function(me,ve){var Ie=we(me,ve);return this.stream.point(Ie[0],Ie[1])}})}(v)(Z(S(ee(C=ge)))))},re.preclip=function(ge){return arguments.length?(Z=ge,K=void 0,pe()):Z},re.postclip=function(ge){return arguments.length?(ee=ge,X=m=w=f=null,pe()):ee},re.clipAngle=function(ge){return arguments.length?(Z=+ge?(0,k.Z)(K=ge*d.uR):(K=null,M.Z),pe()):K*d.RW},re.clipExtent=function(ge){return arguments.length?(ee=ge==null?(X=m=w=f=null,y.Z):(0,a.Z)(X=+ge[0][0],m=+ge[0][1],w=+ge[1][0],f=+ge[1][1]),pe()):X==null?null:[[X,m],[w,f]]},re.scale=function(ge){return arguments.length?(P=+ge,ue()):P},re.translate=function(ge){return arguments.length?(R=+ge[0],G=+ge[1],ue()):[R,G]},re.center=function(ge){return arguments.length?(I=ge[0]%360*d.uR,H=ge[1]%360*d.uR,ue()):[I*d.RW,H*d.RW]},re.rotate=function(ge){return arguments.length?(N=ge[0]%360*d.uR,B=ge[1]%360*d.uR,V=ge.length>2?ge[2]%360*d.uR:0,ue()):[N*d.RW,B*d.RW,V*d.RW]},re.angle=function(ge){return arguments.length?(q=ge%360*d.uR,ue()):q*d.RW},re.reflectX=function(ge){return arguments.length?(te=ge?-1:1,ue()):te<0},re.reflectY=function(ge){return arguments.length?($=ge?-1:1,ue()):$<0},re.precision=function(ge){return arguments.length?(S=o(T,ne=ge*ge),pe()):(0,d._b)(ne)},re.fitExtent=function(ge,we){return(0,i.qg)(re,ge,we)},re.fitSize=function(ge,we){return(0,i.mF)(re,ge,we)},re.fitWidth=function(ge,we){return(0,i.V6)(re,ge,we)},re.fitHeight=function(ge,we){return(0,i.rf)(re,ge,we)},function(){return x=h.apply(this,arguments),re.invert=x.invert&&ae,ue()}}},26867:function(Y,O,e){e.d(O,{K:function(){return a},Z:function(){return _}});var M=e(15002),k=e(39695);function a(y,d){var s=d*d,t=s*s;return[y*(.8707-.131979*s+t*(t*(.003971*s-.001529*t)-.013791)),d*(1.007226+s*(.015085+t*(.028874*s-.044475-.005916*t)))]}function _(){return(0,M.Z)(a).scale(175.295)}a.invert=function(y,d){var s,t=d,i=25;do{var r=t*t,n=r*r;t-=s=(t*(1.007226+r*(.015085+n*(.028874*r-.044475-.005916*n)))-d)/(1.007226+r*(.045255+n*(.259866*r-.311325-.06507600000000001*n)))}while((0,k.Wn)(s)>k.Ho&&--i>0);return[y/(.8707+(r=t*t)*(r*(r*r*r*(.003971-.001529*r)-.013791)-.131979)),t]}},57962:function(Y,O,e){e.d(O,{I:function(){return _},Z:function(){return y}});var M=e(39695),k=e(25382),a=e(15002);function _(d,s){return[(0,M.mC)(s)*(0,M.O$)(d),(0,M.O$)(s)]}function y(){return(0,a.Z)(_).scale(249.5).clipAngle(90+M.Ho)}_.invert=(0,k.O)(M.ZR)},49386:function(Y,O,e){e.d(O,{I:function(){return _},Z:function(){return t}});var M=e(96059),k=e(39695);function a(i,r){return[(0,k.Wn)(i)>k.pi?i+Math.round(-i/k.BZ)*k.BZ:i,r]}function _(i,r,n){return(i%=k.BZ)?r||n?(0,M.Z)(d(i),s(r,n)):d(i):r||n?s(r,n):a}function y(i){return function(r,n){return[(r+=i)>k.pi?r-k.BZ:r<-k.pi?r+k.BZ:r,n]}}function d(i){var r=y(i);return r.invert=y(-i),r}function s(i,r){var n=(0,k.mC)(i),l=(0,k.O$)(i),o=(0,k.mC)(r),u=(0,k.O$)(r);function p(c,b){var g=(0,k.mC)(b),h=(0,k.mC)(c)*g,x=(0,k.O$)(c)*g,v=(0,k.O$)(b),m=v*n+h*l;return[(0,k.fv)(x*o-m*u,h*n-v*l),(0,k.ZR)(m*o+x*u)]}return p.invert=function(c,b){var g=(0,k.mC)(b),h=(0,k.mC)(c)*g,x=(0,k.O$)(c)*g,v=(0,k.O$)(b),m=v*o-x*u;return[(0,k.fv)(x*o+v*u,h*n+m*l),(0,k.ZR)(m*n-h*l)]},p}function t(i){function r(n){return(n=i(n[0]*k.uR,n[1]*k.uR))[0]*=k.RW,n[1]*=k.RW,n}return i=_(i[0]*k.uR,i[1]*k.uR,i.length>2?i[2]*k.uR:0),r.invert=function(n){return(n=i.invert(n[0]*k.uR,n[1]*k.uR))[0]*=k.RW,n[1]*=k.RW,n},r}a.invert=a},72736:function(Y,O,e){function M(s,t){s&&a.hasOwnProperty(s.type)&&a[s.type](s,t)}e.d(O,{Z:function(){return d}});var k={Feature:function(s,t){M(s.geometry,t)},FeatureCollection:function(s,t){for(var i=s.features,r=-1,n=i.length;++r<n;)M(i[r].geometry,t)}},a={Sphere:function(s,t){t.sphere()},Point:function(s,t){s=s.coordinates,t.point(s[0],s[1],s[2])},MultiPoint:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)s=i[r],t.point(s[0],s[1],s[2])},LineString:function(s,t){_(s.coordinates,t,0)},MultiLineString:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)_(i[r],t,0)},Polygon:function(s,t){y(s.coordinates,t)},MultiPolygon:function(s,t){for(var i=s.coordinates,r=-1,n=i.length;++r<n;)y(i[r],t)},GeometryCollection:function(s,t){for(var i=s.geometries,r=-1,n=i.length;++r<n;)M(i[r],t)}};function _(s,t,i){var r,n=-1,l=s.length-i;for(t.lineStart();++n<l;)r=s[n],t.point(r[0],r[1],r[2]);t.lineEnd()}function y(s,t){var i=-1,r=s.length;for(t.polygonStart();++i<r;)_(s[i],t,1);t.polygonEnd()}function d(s,t){s&&k.hasOwnProperty(s.type)?k[s.type](s,t):M(s,t)}},64684:function(Y,O,e){function M(_){return{stream:k(_)}}function k(_){return function(y){var d=new a;for(var s in _)d[s]=_[s];return d.stream=y,d}}function a(){}e.d(O,{Z:function(){return M},l:function(){return k}}),a.prototype={constructor:a,point:function(_,y){this.stream.point(_,y)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}}},674:function(Y,O,e){function M(oe,he){return oe.parent===he.parent?1:2}function k(oe,he){return oe+he.x}function a(oe,he){return Math.max(oe,he.y)}function _(){var oe=M,he=1,Le=1,Me=!1;function _e(De){var Ne,ce=0;De.eachAfter(function(Fe){var Ge=Fe.children;Ge?(Fe.x=function(Ze){return Ze.reduce(k,0)/Ze.length}(Ge),Fe.y=function(Ze){return 1+Ze.reduce(a,0)}(Ge)):(Fe.x=Ne?ce+=oe(Fe,Ne):0,Fe.y=0,Ne=Fe)});var Te=function(Fe){for(var Ge;Ge=Fe.children;)Fe=Ge[0];return Fe}(De),ye=function(Fe){for(var Ge;Ge=Fe.children;)Fe=Ge[Ge.length-1];return Fe}(De),Oe=Te.x-oe(Te,ye)/2,Be=ye.x+oe(ye,Te)/2;return De.eachAfter(Me?function(Fe){Fe.x=(Fe.x-De.x)*he,Fe.y=(De.y-Fe.y)*Le}:function(Fe){Fe.x=(Fe.x-Oe)/(Be-Oe)*he,Fe.y=(1-(De.y?Fe.y/De.y:1))*Le})}return _e.separation=function(De){return arguments.length?(oe=De,_e):oe},_e.size=function(De){return arguments.length?(Me=!1,he=+De[0],Le=+De[1],_e):Me?null:[he,Le]},_e.nodeSize=function(De){return arguments.length?(Me=!0,he=+De[0],Le=+De[1],_e):Me?[he,Le]:null},_e}function y(oe){var he=0,Le=oe.children,Me=Le&&Le.length;if(Me)for(;--Me>=0;)he+=Le[Me].value;else he=1;oe.value=he}function d(oe,he){var Le,Me,_e,De,Ne,ce=new r(oe),Te=+oe.value&&(ce.value=oe.value),ye=[ce];for(he==null&&(he=s);Le=ye.pop();)if(Te&&(Le.value=+Le.data.value),(_e=he(Le.data))&&(Ne=_e.length))for(Le.children=new Array(Ne),De=Ne-1;De>=0;--De)ye.push(Me=Le.children[De]=new r(_e[De])),Me.parent=Le,Me.depth=Le.depth+1;return ce.eachBefore(i)}function s(oe){return oe.children}function t(oe){oe.data=oe.data.data}function i(oe){var he=0;do oe.height=he;while((oe=oe.parent)&&oe.height<++he)}function r(oe){this.data=oe,this.depth=this.height=0,this.parent=null}e.r(O),e.d(O,{cluster:function(){return _},hierarchy:function(){return d},pack:function(){return P},packEnclose:function(){return l},packSiblings:function(){return S},partition:function(){return B},stratify:function(){return Z},tree:function(){return pe},treemap:function(){return Ie},treemapBinary:function(){return Se},treemapDice:function(){return N},treemapResquarify:function(){return se},treemapSlice:function(){return ge},treemapSliceDice:function(){return ke},treemapSquarify:function(){return ve}}),r.prototype=d.prototype={constructor:r,count:function(){return this.eachAfter(y)},each:function(oe){var he,Le,Me,_e,De=this,Ne=[De];do for(he=Ne.reverse(),Ne=[];De=he.pop();)if(oe(De),Le=De.children)for(Me=0,_e=Le.length;Me<_e;++Me)Ne.push(Le[Me]);while(Ne.length);return this},eachAfter:function(oe){for(var he,Le,Me,_e=this,De=[_e],Ne=[];_e=De.pop();)if(Ne.push(_e),he=_e.children)for(Le=0,Me=he.length;Le<Me;++Le)De.push(he[Le]);for(;_e=Ne.pop();)oe(_e);return this},eachBefore:function(oe){for(var he,Le,Me=this,_e=[Me];Me=_e.pop();)if(oe(Me),he=Me.children)for(Le=he.length-1;Le>=0;--Le)_e.push(he[Le]);return this},sum:function(oe){return this.eachAfter(function(he){for(var Le=+oe(he.data)||0,Me=he.children,_e=Me&&Me.length;--_e>=0;)Le+=Me[_e].value;he.value=Le})},sort:function(oe){return this.eachBefore(function(he){he.children&&he.children.sort(oe)})},path:function(oe){for(var he=this,Le=function(De,Ne){if(De===Ne)return De;var ce=De.ancestors(),Te=Ne.ancestors(),ye=null;for(De=ce.pop(),Ne=Te.pop();De===Ne;)ye=De,De=ce.pop(),Ne=Te.pop();return ye}(he,oe),Me=[he];he!==Le;)he=he.parent,Me.push(he);for(var _e=Me.length;oe!==Le;)Me.splice(_e,0,oe),oe=oe.parent;return Me},ancestors:function(){for(var oe=this,he=[oe];oe=oe.parent;)he.push(oe);return he},descendants:function(){var oe=[];return this.each(function(he){oe.push(he)}),oe},leaves:function(){var oe=[];return this.eachBefore(function(he){he.children||oe.push(he)}),oe},links:function(){var oe=this,he=[];return oe.each(function(Le){Le!==oe&&he.push({source:Le.parent,target:Le})}),he},copy:function(){return d(this).eachBefore(t)}};var n=Array.prototype.slice;function l(oe){for(var he,Le,Me=0,_e=(oe=function(Ne){for(var ce,Te,ye=Ne.length;ye;)Te=Math.random()*ye--|0,ce=Ne[ye],Ne[ye]=Ne[Te],Ne[Te]=ce;return Ne}(n.call(oe))).length,De=[];Me<_e;)he=oe[Me],Le&&p(Le,he)?++Me:(Le=b(De=o(De,he)),Me=0);return Le}function o(oe,he){var Le,Me;if(c(he,oe))return[he];for(Le=0;Le<oe.length;++Le)if(u(he,oe[Le])&&c(g(oe[Le],he),oe))return[oe[Le],he];for(Le=0;Le<oe.length-1;++Le)for(Me=Le+1;Me<oe.length;++Me)if(u(g(oe[Le],oe[Me]),he)&&u(g(oe[Le],he),oe[Me])&&u(g(oe[Me],he),oe[Le])&&c(h(oe[Le],oe[Me],he),oe))return[oe[Le],oe[Me],he];throw new Error}function u(oe,he){var Le=oe.r-he.r,Me=he.x-oe.x,_e=he.y-oe.y;return Le<0||Le*Le<Me*Me+_e*_e}function p(oe,he){var Le=oe.r-he.r+1e-6,Me=he.x-oe.x,_e=he.y-oe.y;return Le>0&&Le*Le>Me*Me+_e*_e}function c(oe,he){for(var Le=0;Le<he.length;++Le)if(!p(oe,he[Le]))return!1;return!0}function b(oe){switch(oe.length){case 1:return{x:(he=oe[0]).x,y:he.y,r:he.r};case 2:return g(oe[0],oe[1]);case 3:return h(oe[0],oe[1],oe[2])}var he}function g(oe,he){var Le=oe.x,Me=oe.y,_e=oe.r,De=he.x,Ne=he.y,ce=he.r,Te=De-Le,ye=Ne-Me,Oe=ce-_e,Be=Math.sqrt(Te*Te+ye*ye);return{x:(Le+De+Te/Be*Oe)/2,y:(Me+Ne+ye/Be*Oe)/2,r:(Be+_e+ce)/2}}function h(oe,he,Le){var Me=oe.x,_e=oe.y,De=oe.r,Ne=he.x,ce=he.y,Te=he.r,ye=Le.x,Oe=Le.y,Be=Le.r,Fe=Me-Ne,Ge=Me-ye,Ze=_e-ce,et=_e-Oe,ft=Te-De,rt=Be-De,_t=Me*Me+_e*_e-De*De,kt=_t-Ne*Ne-ce*ce+Te*Te,wt=_t-ye*ye-Oe*Oe+Be*Be,lt=Ge*Ze-Fe*et,ut=(Ze*wt-et*kt)/(2*lt)-Me,Et=(et*ft-Ze*rt)/lt,Ot=(Ge*kt-Fe*wt)/(2*lt)-_e,zt=(Fe*rt-Ge*ft)/lt,Lt=Et*Et+zt*zt-1,Je=2*(De+ut*Et+Ot*zt),Qe=ut*ut+Ot*Ot-De*De,qe=-(Lt?(Je+Math.sqrt(Je*Je-4*Lt*Qe))/(2*Lt):Qe/Je);return{x:Me+ut+Et*qe,y:_e+Ot+zt*qe,r:qe}}function x(oe,he,Le){var Me,_e,De,Ne,ce=oe.x-he.x,Te=oe.y-he.y,ye=ce*ce+Te*Te;ye?(_e=he.r+Le.r,_e*=_e,Ne=oe.r+Le.r,_e>(Ne*=Ne)?(Me=(ye+Ne-_e)/(2*ye),De=Math.sqrt(Math.max(0,Ne/ye-Me*Me)),Le.x=oe.x-Me*ce-De*Te,Le.y=oe.y-Me*Te+De*ce):(Me=(ye+_e-Ne)/(2*ye),De=Math.sqrt(Math.max(0,_e/ye-Me*Me)),Le.x=he.x+Me*ce-De*Te,Le.y=he.y+Me*Te+De*ce)):(Le.x=he.x+Le.r,Le.y=he.y)}function v(oe,he){var Le=oe.r+he.r-1e-6,Me=he.x-oe.x,_e=he.y-oe.y;return Le>0&&Le*Le>Me*Me+_e*_e}function m(oe){var he=oe._,Le=oe.next._,Me=he.r+Le.r,_e=(he.x*Le.r+Le.x*he.r)/Me,De=(he.y*Le.r+Le.y*he.r)/Me;return _e*_e+De*De}function w(oe){this._=oe,this.next=null,this.previous=null}function f(oe){if(!(_e=oe.length))return 0;var he,Le,Me,_e,De,Ne,ce,Te,ye,Oe,Be;if((he=oe[0]).x=0,he.y=0,!(_e>1))return he.r;if(Le=oe[1],he.x=-Le.r,Le.x=he.r,Le.y=0,!(_e>2))return he.r+Le.r;x(Le,he,Me=oe[2]),he=new w(he),Le=new w(Le),Me=new w(Me),he.next=Me.previous=Le,Le.next=he.previous=Me,Me.next=Le.previous=he;e:for(ce=3;ce<_e;++ce){x(he._,Le._,Me=oe[ce]),Me=new w(Me),Te=Le.next,ye=he.previous,Oe=Le._.r,Be=he._.r;do if(Oe<=Be){if(v(Te._,Me._)){Le=Te,he.next=Le,Le.previous=he,--ce;continue e}Oe+=Te._.r,Te=Te.next}else{if(v(ye._,Me._)){(he=ye).next=Le,Le.previous=he,--ce;continue e}Be+=ye._.r,ye=ye.previous}while(Te!==ye.next);for(Me.previous=he,Me.next=Le,he.next=Le.previous=Le=Me,De=m(he);(Me=Me.next)!==Le;)(Ne=m(Me))<De&&(he=Me,De=Ne);Le=he.next}for(he=[Le._],Me=Le;(Me=Me.next)!==Le;)he.push(Me._);for(Me=l(he),ce=0;ce<_e;++ce)(he=oe[ce]).x-=Me.x,he.y-=Me.y;return Me.r}function S(oe){return f(oe),oe}function T(oe){if(typeof oe!="function")throw new Error;return oe}function E(){return 0}function L(oe){return function(){return oe}}function C(oe){return Math.sqrt(oe.value)}function P(){var oe=null,he=1,Le=1,Me=E;function _e(De){return De.x=he/2,De.y=Le/2,oe?De.eachBefore(R(oe)).eachAfter(G(Me,.5)).eachBefore(I(1)):De.eachBefore(R(C)).eachAfter(G(E,1)).eachAfter(G(Me,De.r/Math.min(he,Le))).eachBefore(I(Math.min(he,Le)/(2*De.r))),De}return _e.radius=function(De){return arguments.length?(oe=(Ne=De)==null?null:T(Ne),_e):oe;var Ne},_e.size=function(De){return arguments.length?(he=+De[0],Le=+De[1],_e):[he,Le]},_e.padding=function(De){return arguments.length?(Me=typeof De=="function"?De:L(+De),_e):Me},_e}function R(oe){return function(he){he.children||(he.r=Math.max(0,+oe(he)||0))}}function G(oe,he){return function(Le){if(Me=Le.children){var Me,_e,De,Ne=Me.length,ce=oe(Le)*he||0;if(ce)for(_e=0;_e<Ne;++_e)Me[_e].r+=ce;if(De=f(Me),ce)for(_e=0;_e<Ne;++_e)Me[_e].r-=ce;Le.r=De+ce}}}function I(oe){return function(he){var Le=he.parent;he.r*=oe,Le&&(he.x=Le.x+oe*he.x,he.y=Le.y+oe*he.y)}}function H(oe){oe.x0=Math.round(oe.x0),oe.y0=Math.round(oe.y0),oe.x1=Math.round(oe.x1),oe.y1=Math.round(oe.y1)}function N(oe,he,Le,Me,_e){for(var De,Ne=oe.children,ce=-1,Te=Ne.length,ye=oe.value&&(Me-he)/oe.value;++ce<Te;)(De=Ne[ce]).y0=Le,De.y1=_e,De.x0=he,De.x1=he+=De.value*ye}function B(){var oe=1,he=1,Le=0,Me=!1;function _e(De){var Ne=De.height+1;return De.x0=De.y0=Le,De.x1=oe,De.y1=he/Ne,De.eachBefore(function(ce,Te){return function(ye){ye.children&&N(ye,ye.x0,ce*(ye.depth+1)/Te,ye.x1,ce*(ye.depth+2)/Te);var Oe=ye.x0,Be=ye.y0,Fe=ye.x1-Le,Ge=ye.y1-Le;Fe<Oe&&(Oe=Fe=(Oe+Fe)/2),Ge<Be&&(Be=Ge=(Be+Ge)/2),ye.x0=Oe,ye.y0=Be,ye.x1=Fe,ye.y1=Ge}}(he,Ne)),Me&&De.eachBefore(H),De}return _e.round=function(De){return arguments.length?(Me=!!De,_e):Me},_e.size=function(De){return arguments.length?(oe=+De[0],he=+De[1],_e):[oe,he]},_e.padding=function(De){return arguments.length?(Le=+De,_e):Le},_e}var V="$",q={depth:-1},te={};function $(oe){return oe.id}function K(oe){return oe.parentId}function Z(){var oe=$,he=K;function Le(Me){var _e,De,Ne,ce,Te,ye,Oe,Be=Me.length,Fe=new Array(Be),Ge={};for(De=0;De<Be;++De)_e=Me[De],Te=Fe[De]=new r(_e),(ye=oe(_e,De,Me))!=null&&(ye+="")&&(Ge[Oe=V+(Te.id=ye)]=Oe in Ge?te:Te);for(De=0;De<Be;++De)if(Te=Fe[De],(ye=he(Me[De],De,Me))!=null&&(ye+="")){if(!(ce=Ge[V+ye]))throw new Error("missing: "+ye);if(ce===te)throw new Error("ambiguous: "+ye);ce.children?ce.children.push(Te):ce.children=[Te],Te.parent=ce}else{if(Ne)throw new Error("multiple roots");Ne=Te}if(!Ne)throw new Error("no root");if(Ne.parent=q,Ne.eachBefore(function(Ze){Ze.depth=Ze.parent.depth+1,--Be}).eachBefore(i),Ne.parent=null,Be>0)throw new Error("cycle");return Ne}return Le.id=function(Me){return arguments.length?(oe=T(Me),Le):oe},Le.parentId=function(Me){return arguments.length?(he=T(Me),Le):he},Le}function X(oe,he){return oe.parent===he.parent?1:2}function ee(oe){var he=oe.children;return he?he[0]:oe.t}function ne(oe){var he=oe.children;return he?he[he.length-1]:oe.t}function re(oe,he,Le){var Me=Le/(he.i-oe.i);he.c-=Me,he.s+=Le,oe.c+=Me,he.z+=Le,he.m+=Le}function ae(oe,he,Le){return oe.a.parent===he.parent?oe.a:Le}function ue(oe,he){this._=oe,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=he}function pe(){var oe=X,he=1,Le=1,Me=null;function _e(Te){var ye=function(rt){for(var _t,kt,wt,lt,ut,Et=new ue(rt,0),Ot=[Et];_t=Ot.pop();)if(wt=_t._.children)for(_t.children=new Array(ut=wt.length),lt=ut-1;lt>=0;--lt)Ot.push(kt=_t.children[lt]=new ue(wt[lt],lt)),kt.parent=_t;return(Et.parent=new ue(null,0)).children=[Et],Et}(Te);if(ye.eachAfter(De),ye.parent.m=-ye.z,ye.eachBefore(Ne),Me)Te.eachBefore(ce);else{var Oe=Te,Be=Te,Fe=Te;Te.eachBefore(function(rt){rt.x<Oe.x&&(Oe=rt),rt.x>Be.x&&(Be=rt),rt.depth>Fe.depth&&(Fe=rt)});var Ge=Oe===Be?1:oe(Oe,Be)/2,Ze=Ge-Oe.x,et=he/(Be.x+Ge+Ze),ft=Le/(Fe.depth||1);Te.eachBefore(function(rt){rt.x=(rt.x+Ze)*et,rt.y=rt.depth*ft})}return Te}function De(Te){var ye=Te.children,Oe=Te.parent.children,Be=Te.i?Oe[Te.i-1]:null;if(ye){(function(Ge){for(var Ze,et=0,ft=0,rt=Ge.children,_t=rt.length;--_t>=0;)(Ze=rt[_t]).z+=et,Ze.m+=et,et+=Ze.s+(ft+=Ze.c)})(Te);var Fe=(ye[0].z+ye[ye.length-1].z)/2;Be?(Te.z=Be.z+oe(Te._,Be._),Te.m=Te.z-Fe):Te.z=Fe}else Be&&(Te.z=Be.z+oe(Te._,Be._));Te.parent.A=function(Ge,Ze,et){if(Ze){for(var ft,rt=Ge,_t=Ge,kt=Ze,wt=rt.parent.children[0],lt=rt.m,ut=_t.m,Et=kt.m,Ot=wt.m;kt=ne(kt),rt=ee(rt),kt&&rt;)wt=ee(wt),(_t=ne(_t)).a=Ge,(ft=kt.z+Et-rt.z-lt+oe(kt._,rt._))>0&&(re(ae(kt,Ge,et),Ge,ft),lt+=ft,ut+=ft),Et+=kt.m,lt+=rt.m,Ot+=wt.m,ut+=_t.m;kt&&!ne(_t)&&(_t.t=kt,_t.m+=Et-ut),rt&&!ee(wt)&&(wt.t=rt,wt.m+=lt-Ot,et=Ge)}return et}(Te,Be,Te.parent.A||Oe[0])}function Ne(Te){Te._.x=Te.z+Te.parent.m,Te.m+=Te.parent.m}function ce(Te){Te.x*=he,Te.y=Te.depth*Le}return _e.separation=function(Te){return arguments.length?(oe=Te,_e):oe},_e.size=function(Te){return arguments.length?(Me=!1,he=+Te[0],Le=+Te[1],_e):Me?null:[he,Le]},_e.nodeSize=function(Te){return arguments.length?(Me=!0,he=+Te[0],Le=+Te[1],_e):Me?[he,Le]:null},_e}function ge(oe,he,Le,Me,_e){for(var De,Ne=oe.children,ce=-1,Te=Ne.length,ye=oe.value&&(_e-Le)/oe.value;++ce<Te;)(De=Ne[ce]).x0=he,De.x1=Me,De.y0=Le,De.y1=Le+=De.value*ye}ue.prototype=Object.create(r.prototype);var we=(1+Math.sqrt(5))/2;function me(oe,he,Le,Me,_e,De){for(var Ne,ce,Te,ye,Oe,Be,Fe,Ge,Ze,et,ft,rt=[],_t=he.children,kt=0,wt=0,lt=_t.length,ut=he.value;kt<lt;){Te=_e-Le,ye=De-Me;do Oe=_t[wt++].value;while(!Oe&&wt<lt);for(Be=Fe=Oe,ft=Oe*Oe*(et=Math.max(ye/Te,Te/ye)/(ut*oe)),Ze=Math.max(Fe/ft,ft/Be);wt<lt;++wt){if(Oe+=ce=_t[wt].value,ce<Be&&(Be=ce),ce>Fe&&(Fe=ce),ft=Oe*Oe*et,(Ge=Math.max(Fe/ft,ft/Be))>Ze){Oe-=ce;break}Ze=Ge}rt.push(Ne={value:Oe,dice:Te<ye,children:_t.slice(kt,wt)}),Ne.dice?N(Ne,Le,Me,_e,ut?Me+=ye*Oe/ut:De):ge(Ne,Le,Me,ut?Le+=Te*Oe/ut:_e,De),ut-=Oe,kt=wt}return rt}var ve=function oe(he){function Le(Me,_e,De,Ne,ce){me(he,Me,_e,De,Ne,ce)}return Le.ratio=function(Me){return oe((Me=+Me)>1?Me:1)},Le}(we);function Ie(){var oe=ve,he=!1,Le=1,Me=1,_e=[0],De=E,Ne=E,ce=E,Te=E,ye=E;function Oe(Fe){return Fe.x0=Fe.y0=0,Fe.x1=Le,Fe.y1=Me,Fe.eachBefore(Be),_e=[0],he&&Fe.eachBefore(H),Fe}function Be(Fe){var Ge=_e[Fe.depth],Ze=Fe.x0+Ge,et=Fe.y0+Ge,ft=Fe.x1-Ge,rt=Fe.y1-Ge;ft<Ze&&(Ze=ft=(Ze+ft)/2),rt<et&&(et=rt=(et+rt)/2),Fe.x0=Ze,Fe.y0=et,Fe.x1=ft,Fe.y1=rt,Fe.children&&(Ge=_e[Fe.depth+1]=De(Fe)/2,Ze+=ye(Fe)-Ge,et+=Ne(Fe)-Ge,(ft-=ce(Fe)-Ge)<Ze&&(Ze=ft=(Ze+ft)/2),(rt-=Te(Fe)-Ge)<et&&(et=rt=(et+rt)/2),oe(Fe,Ze,et,ft,rt))}return Oe.round=function(Fe){return arguments.length?(he=!!Fe,Oe):he},Oe.size=function(Fe){return arguments.length?(Le=+Fe[0],Me=+Fe[1],Oe):[Le,Me]},Oe.tile=function(Fe){return arguments.length?(oe=T(Fe),Oe):oe},Oe.padding=function(Fe){return arguments.length?Oe.paddingInner(Fe).paddingOuter(Fe):Oe.paddingInner()},Oe.paddingInner=function(Fe){return arguments.length?(De=typeof Fe=="function"?Fe:L(+Fe),Oe):De},Oe.paddingOuter=function(Fe){return arguments.length?Oe.paddingTop(Fe).paddingRight(Fe).paddingBottom(Fe).paddingLeft(Fe):Oe.paddingTop()},Oe.paddingTop=function(Fe){return arguments.length?(Ne=typeof Fe=="function"?Fe:L(+Fe),Oe):Ne},Oe.paddingRight=function(Fe){return arguments.length?(ce=typeof Fe=="function"?Fe:L(+Fe),Oe):ce},Oe.paddingBottom=function(Fe){return arguments.length?(Te=typeof Fe=="function"?Fe:L(+Fe),Oe):Te},Oe.paddingLeft=function(Fe){return arguments.length?(ye=typeof Fe=="function"?Fe:L(+Fe),Oe):ye},Oe}function Se(oe,he,Le,Me,_e){var De,Ne,ce=oe.children,Te=ce.length,ye=new Array(Te+1);for(ye[0]=Ne=De=0;De<Te;++De)ye[De+1]=Ne+=ce[De].value;(function Oe(Be,Fe,Ge,Ze,et,ft,rt){if(Be>=Fe-1){var _t=ce[Be];return _t.x0=Ze,_t.y0=et,_t.x1=ft,void(_t.y1=rt)}for(var kt=ye[Be],wt=Ge/2+kt,lt=Be+1,ut=Fe-1;lt<ut;){var Et=lt+ut>>>1;ye[Et]<wt?lt=Et+1:ut=Et}wt-ye[lt-1]<ye[lt]-wt&&Be+1<lt&&--lt;var Ot=ye[lt]-kt,zt=Ge-Ot;if(ft-Ze>rt-et){var Lt=(Ze*zt+ft*Ot)/Ge;Oe(Be,lt,Ot,Ze,et,Lt,rt),Oe(lt,Fe,zt,Lt,et,ft,rt)}else{var Je=(et*zt+rt*Ot)/Ge;Oe(Be,lt,Ot,Ze,et,ft,Je),Oe(lt,Fe,zt,Ze,Je,ft,rt)}})(0,Te,oe.value,he,Le,Me,_e)}function ke(oe,he,Le,Me,_e){(1&oe.depth?ge:N)(oe,he,Le,Me,_e)}var se=function oe(he){function Le(Me,_e,De,Ne,ce){if((Te=Me._squarify)&&Te.ratio===he)for(var Te,ye,Oe,Be,Fe,Ge=-1,Ze=Te.length,et=Me.value;++Ge<Ze;){for(Oe=(ye=Te[Ge]).children,Be=ye.value=0,Fe=Oe.length;Be<Fe;++Be)ye.value+=Oe[Be].value;ye.dice?N(ye,_e,De,Ne,De+=(ce-De)*ye.value/et):ge(ye,_e,De,_e+=(Ne-_e)*ye.value/et,ce),et-=ye.value}else Me._squarify=Te=me(he,Me,_e,De,Ne,ce),Te.ratio=he}return Le.ratio=function(Me){return oe((Me=+Me)>1?Me:1)},Le}(we)},45879:function(Y,O,e){e.d(O,{h5:function(){return p}});var M=Math.PI,k=2*M,a=1e-6,_=k-a;function y(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function d(){return new y}y.prototype=d.prototype={constructor:y,moveTo:function(c,b){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+b)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(c,b){this._+="L"+(this._x1=+c)+","+(this._y1=+b)},quadraticCurveTo:function(c,b,g,h){this._+="Q"+ +c+","+ +b+","+(this._x1=+g)+","+(this._y1=+h)},bezierCurveTo:function(c,b,g,h,x,v){this._+="C"+ +c+","+ +b+","+ +g+","+ +h+","+(this._x1=+x)+","+(this._y1=+v)},arcTo:function(c,b,g,h,x){c=+c,b=+b,g=+g,h=+h,x=+x;var v=this._x1,m=this._y1,w=g-c,f=h-b,S=v-c,T=m-b,E=S*S+T*T;if(x<0)throw new Error("negative radius: "+x);if(this._x1===null)this._+="M"+(this._x1=c)+","+(this._y1=b);else if(E>a)if(Math.abs(T*w-f*S)>a&&x){var L=g-v,C=h-m,P=w*w+f*f,R=L*L+C*C,G=Math.sqrt(P),I=Math.sqrt(E),H=x*Math.tan((M-Math.acos((P+E-R)/(2*G*I)))/2),N=H/I,B=H/G;Math.abs(N-1)>a&&(this._+="L"+(c+N*S)+","+(b+N*T)),this._+="A"+x+","+x+",0,0,"+ +(T*L>S*C)+","+(this._x1=c+B*w)+","+(this._y1=b+B*f)}else this._+="L"+(this._x1=c)+","+(this._y1=b)},arc:function(c,b,g,h,x,v){c=+c,b=+b,v=!!v;var m=(g=+g)*Math.cos(h),w=g*Math.sin(h),f=c+m,S=b+w,T=1^v,E=v?h-x:x-h;if(g<0)throw new Error("negative radius: "+g);this._x1===null?this._+="M"+f+","+S:(Math.abs(this._x1-f)>a||Math.abs(this._y1-S)>a)&&(this._+="L"+f+","+S),g&&(E<0&&(E=E%k+k),E>_?this._+="A"+g+","+g+",0,1,"+T+","+(c-m)+","+(b-w)+"A"+g+","+g+",0,1,"+T+","+(this._x1=f)+","+(this._y1=S):E>a&&(this._+="A"+g+","+g+",0,"+ +(E>=M)+","+T+","+(this._x1=c+g*Math.cos(x))+","+(this._y1=b+g*Math.sin(x))))},rect:function(c,b,g,h){this._+="M"+(this._x0=this._x1=+c)+","+(this._y0=this._y1=+b)+"h"+ +g+"v"+ +h+"h"+-g+"Z"},toString:function(){return this._}};var s=d,t=Array.prototype.slice;function i(c){return function(){return c}}function r(c){return c[0]}function n(c){return c[1]}function l(c){return c.source}function o(c){return c.target}function u(c,b,g,h,x){c.moveTo(b,g),c.bezierCurveTo(b=(b+h)/2,g,b,x,h,x)}function p(){return function(c){var b=l,g=o,h=r,x=n,v=null;function m(){var w,f=t.call(arguments),S=b.apply(this,f),T=g.apply(this,f);if(v||(v=w=s()),c(v,+h.apply(this,(f[0]=S,f)),+x.apply(this,f),+h.apply(this,(f[0]=T,f)),+x.apply(this,f)),w)return v=null,w+""||null}return m.source=function(w){return arguments.length?(b=w,m):b},m.target=function(w){return arguments.length?(g=w,m):g},m.x=function(w){return arguments.length?(h=typeof w=="function"?w:i(+w),m):h},m.y=function(w){return arguments.length?(x=typeof w=="function"?w:i(+w),m):x},m.context=function(w){return arguments.length?(v=w??null,m):v},m}(u)}},84096:function(Y,O,e){e.d(O,{i$:function(){return l},Dq:function(){return r},g0:function(){return o}});var M=e(58176),k=e(48480),a=e(59879),_=e(82301),y=e(34823),d=e(79791);function s(lt){if(0<=lt.y&&lt.y<100){var ut=new Date(-1,lt.m,lt.d,lt.H,lt.M,lt.S,lt.L);return ut.setFullYear(lt.y),ut}return new Date(lt.y,lt.m,lt.d,lt.H,lt.M,lt.S,lt.L)}function t(lt){if(0<=lt.y&&lt.y<100){var ut=new Date(Date.UTC(-1,lt.m,lt.d,lt.H,lt.M,lt.S,lt.L));return ut.setUTCFullYear(lt.y),ut}return new Date(Date.UTC(lt.y,lt.m,lt.d,lt.H,lt.M,lt.S,lt.L))}function i(lt,ut,Et){return{y:lt,m:ut,d:Et,H:0,M:0,S:0,L:0}}function r(lt){var ut=lt.dateTime,Et=lt.date,Ot=lt.time,zt=lt.periods,Lt=lt.days,Je=lt.shortDays,Qe=lt.months,qe=lt.shortMonths,$e=x(zt),ct=v(zt),at=x(Lt),Re=v(Lt),je=x(Je),st=v(Je),ot=x(Qe),xt=v(Qe),mt=x(qe),bt=v(qe),dt={a:function(Nt){return Je[Nt.getDay()]},A:function(Nt){return Lt[Nt.getDay()]},b:function(Nt){return qe[Nt.getMonth()]},B:function(Nt){return Qe[Nt.getMonth()]},c:null,d:Z,e:Z,f:ae,H:X,I:ee,j:ne,L:re,m:ue,M:pe,p:function(Nt){return zt[+(Nt.getHours()>=12)]},q:function(Nt){return 1+~~(Nt.getMonth()/3)},Q:kt,s:wt,S:ge,u:we,U:me,V:ve,w:Ie,W:Se,x:null,X:null,y:ke,Y:se,Z:oe,"%":_t},St={a:function(Nt){return Je[Nt.getUTCDay()]},A:function(Nt){return Lt[Nt.getUTCDay()]},b:function(Nt){return qe[Nt.getUTCMonth()]},B:function(Nt){return Qe[Nt.getUTCMonth()]},c:null,d:he,e:he,f:Ne,H:Le,I:Me,j:_e,L:De,m:ce,M:Te,p:function(Nt){return zt[+(Nt.getUTCHours()>=12)]},q:function(Nt){return 1+~~(Nt.getUTCMonth()/3)},Q:kt,s:wt,S:ye,u:Oe,U:Be,V:Fe,w:Ge,W:Ze,x:null,X:null,y:et,Y:ft,Z:rt,"%":_t},gt={a:function(Nt,qt,an){var Gt=je.exec(qt.slice(an));return Gt?(Nt.w=st[Gt[0].toLowerCase()],an+Gt[0].length):-1},A:function(Nt,qt,an){var Gt=at.exec(qt.slice(an));return Gt?(Nt.w=Re[Gt[0].toLowerCase()],an+Gt[0].length):-1},b:function(Nt,qt,an){var Gt=mt.exec(qt.slice(an));return Gt?(Nt.m=bt[Gt[0].toLowerCase()],an+Gt[0].length):-1},B:function(Nt,qt,an){var Gt=ot.exec(qt.slice(an));return Gt?(Nt.m=xt[Gt[0].toLowerCase()],an+Gt[0].length):-1},c:function(Nt,qt,an){return Bt(Nt,ut,qt,an)},d:G,e:G,f:q,H,I:H,j:I,L:V,m:R,M:N,p:function(Nt,qt,an){var Gt=$e.exec(qt.slice(an));return Gt?(Nt.p=ct[Gt[0].toLowerCase()],an+Gt[0].length):-1},q:P,Q:$,s:K,S:B,u:w,U:f,V:S,w:m,W:T,x:function(Nt,qt,an){return Bt(Nt,Et,qt,an)},X:function(Nt,qt,an){return Bt(Nt,Ot,qt,an)},y:L,Y:E,Z:C,"%":te};function vt(Nt,qt){return function(an){var Gt,Yt,en,bn=[],On=-1,gn=0,Xt=Nt.length;for(an instanceof Date||(an=new Date(+an));++On<Xt;)Nt.charCodeAt(On)===37&&(bn.push(Nt.slice(gn,On)),(Yt=u[Gt=Nt.charAt(++On)])!=null?Gt=Nt.charAt(++On):Yt=Gt==="e"?" ":"0",(en=qt[Gt])&&(Gt=en(an,Yt)),bn.push(Gt),gn=On+1);return bn.push(Nt.slice(gn,On)),bn.join("")}}function Mt(Nt,qt){return function(an){var Gt,Yt,en=i(1900,void 0,1);if(Bt(en,Nt,an+="",0)!=an.length)return null;if("Q"in en)return new Date(en.Q);if("s"in en)return new Date(1e3*en.s+("L"in en?en.L:0));if(qt&&!("Z"in en)&&(en.Z=0),"p"in en&&(en.H=en.H%12+12*en.p),en.m===void 0&&(en.m="q"in en?en.q:0),"V"in en){if(en.V<1||en.V>53)return null;"w"in en||(en.w=1),"Z"in en?(Yt=(Gt=t(i(en.y,0,1))).getUTCDay(),Gt=Yt>4||Yt===0?M.l6.ceil(Gt):(0,M.l6)(Gt),Gt=k.Z.offset(Gt,7*(en.V-1)),en.y=Gt.getUTCFullYear(),en.m=Gt.getUTCMonth(),en.d=Gt.getUTCDate()+(en.w+6)%7):(Yt=(Gt=s(i(en.y,0,1))).getDay(),Gt=Yt>4||Yt===0?a.wA.ceil(Gt):(0,a.wA)(Gt),Gt=_.Z.offset(Gt,7*(en.V-1)),en.y=Gt.getFullYear(),en.m=Gt.getMonth(),en.d=Gt.getDate()+(en.w+6)%7)}else("W"in en||"U"in en)&&("w"in en||(en.w="u"in en?en.u%7:"W"in en?1:0),Yt="Z"in en?t(i(en.y,0,1)).getUTCDay():s(i(en.y,0,1)).getDay(),en.m=0,en.d="W"in en?(en.w+6)%7+7*en.W-(Yt+5)%7:en.w+7*en.U-(Yt+6)%7);return"Z"in en?(en.H+=en.Z/100|0,en.M+=en.Z%100,t(en)):s(en)}}function Bt(Nt,qt,an,Gt){for(var Yt,en,bn=0,On=qt.length,gn=an.length;bn<On;){if(Gt>=gn)return-1;if((Yt=qt.charCodeAt(bn++))===37){if(Yt=qt.charAt(bn++),!(en=gt[Yt in u?qt.charAt(bn++):Yt])||(Gt=en(Nt,an,Gt))<0)return-1}else if(Yt!=an.charCodeAt(Gt++))return-1}return Gt}return dt.x=vt(Et,dt),dt.X=vt(Ot,dt),dt.c=vt(ut,dt),St.x=vt(Et,St),St.X=vt(Ot,St),St.c=vt(ut,St),{format:function(Nt){var qt=vt(Nt+="",dt);return qt.toString=function(){return Nt},qt},parse:function(Nt){var qt=Mt(Nt+="",!1);return qt.toString=function(){return Nt},qt},utcFormat:function(Nt){var qt=vt(Nt+="",St);return qt.toString=function(){return Nt},qt},utcParse:function(Nt){var qt=Mt(Nt+="",!0);return qt.toString=function(){return Nt},qt}}}var n,l,o,u={"-":"",_:" ",0:"0"},p=/^\s*\d+/,c=/^%/,b=/[\\^$*+?|[\]().{}]/g;function g(lt,ut,Et){var Ot=lt<0?"-":"",zt=(Ot?-lt:lt)+"",Lt=zt.length;return Ot+(Lt<Et?new Array(Et-Lt+1).join(ut)+zt:zt)}function h(lt){return lt.replace(b,"\\$&")}function x(lt){return new RegExp("^(?:"+lt.map(h).join("|")+")","i")}function v(lt){for(var ut={},Et=-1,Ot=lt.length;++Et<Ot;)ut[lt[Et].toLowerCase()]=Et;return ut}function m(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+1));return Ot?(lt.w=+Ot[0],Et+Ot[0].length):-1}function w(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+1));return Ot?(lt.u=+Ot[0],Et+Ot[0].length):-1}function f(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.U=+Ot[0],Et+Ot[0].length):-1}function S(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.V=+Ot[0],Et+Ot[0].length):-1}function T(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.W=+Ot[0],Et+Ot[0].length):-1}function E(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+4));return Ot?(lt.y=+Ot[0],Et+Ot[0].length):-1}function L(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.y=+Ot[0]+(+Ot[0]>68?1900:2e3),Et+Ot[0].length):-1}function C(lt,ut,Et){var Ot=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(ut.slice(Et,Et+6));return Ot?(lt.Z=Ot[1]?0:-(Ot[2]+(Ot[3]||"00")),Et+Ot[0].length):-1}function P(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+1));return Ot?(lt.q=3*Ot[0]-3,Et+Ot[0].length):-1}function R(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.m=Ot[0]-1,Et+Ot[0].length):-1}function G(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.d=+Ot[0],Et+Ot[0].length):-1}function I(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+3));return Ot?(lt.m=0,lt.d=+Ot[0],Et+Ot[0].length):-1}function H(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.H=+Ot[0],Et+Ot[0].length):-1}function N(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.M=+Ot[0],Et+Ot[0].length):-1}function B(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+2));return Ot?(lt.S=+Ot[0],Et+Ot[0].length):-1}function V(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+3));return Ot?(lt.L=+Ot[0],Et+Ot[0].length):-1}function q(lt,ut,Et){var Ot=p.exec(ut.slice(Et,Et+6));return Ot?(lt.L=Math.floor(Ot[0]/1e3),Et+Ot[0].length):-1}function te(lt,ut,Et){var Ot=c.exec(ut.slice(Et,Et+1));return Ot?Et+Ot[0].length:-1}function $(lt,ut,Et){var Ot=p.exec(ut.slice(Et));return Ot?(lt.Q=+Ot[0],Et+Ot[0].length):-1}function K(lt,ut,Et){var Ot=p.exec(ut.slice(Et));return Ot?(lt.s=+Ot[0],Et+Ot[0].length):-1}function Z(lt,ut){return g(lt.getDate(),ut,2)}function X(lt,ut){return g(lt.getHours(),ut,2)}function ee(lt,ut){return g(lt.getHours()%12||12,ut,2)}function ne(lt,ut){return g(1+_.Z.count((0,y.Z)(lt),lt),ut,3)}function re(lt,ut){return g(lt.getMilliseconds(),ut,3)}function ae(lt,ut){return re(lt,ut)+"000"}function ue(lt,ut){return g(lt.getMonth()+1,ut,2)}function pe(lt,ut){return g(lt.getMinutes(),ut,2)}function ge(lt,ut){return g(lt.getSeconds(),ut,2)}function we(lt){var ut=lt.getDay();return ut===0?7:ut}function me(lt,ut){return g(a.OM.count((0,y.Z)(lt)-1,lt),ut,2)}function ve(lt,ut){var Et=lt.getDay();return lt=Et>=4||Et===0?(0,a.bL)(lt):a.bL.ceil(lt),g(a.bL.count((0,y.Z)(lt),lt)+((0,y.Z)(lt).getDay()===4),ut,2)}function Ie(lt){return lt.getDay()}function Se(lt,ut){return g(a.wA.count((0,y.Z)(lt)-1,lt),ut,2)}function ke(lt,ut){return g(lt.getFullYear()%100,ut,2)}function se(lt,ut){return g(lt.getFullYear()%1e4,ut,4)}function oe(lt){var ut=lt.getTimezoneOffset();return(ut>0?"-":(ut*=-1,"+"))+g(ut/60|0,"0",2)+g(ut%60,"0",2)}function he(lt,ut){return g(lt.getUTCDate(),ut,2)}function Le(lt,ut){return g(lt.getUTCHours(),ut,2)}function Me(lt,ut){return g(lt.getUTCHours()%12||12,ut,2)}function _e(lt,ut){return g(1+k.Z.count((0,d.Z)(lt),lt),ut,3)}function De(lt,ut){return g(lt.getUTCMilliseconds(),ut,3)}function Ne(lt,ut){return De(lt,ut)+"000"}function ce(lt,ut){return g(lt.getUTCMonth()+1,ut,2)}function Te(lt,ut){return g(lt.getUTCMinutes(),ut,2)}function ye(lt,ut){return g(lt.getUTCSeconds(),ut,2)}function Oe(lt){var ut=lt.getUTCDay();return ut===0?7:ut}function Be(lt,ut){return g(M.Ox.count((0,d.Z)(lt)-1,lt),ut,2)}function Fe(lt,ut){var Et=lt.getUTCDay();return lt=Et>=4||Et===0?(0,M.hB)(lt):M.hB.ceil(lt),g(M.hB.count((0,d.Z)(lt),lt)+((0,d.Z)(lt).getUTCDay()===4),ut,2)}function Ge(lt){return lt.getUTCDay()}function Ze(lt,ut){return g(M.l6.count((0,d.Z)(lt)-1,lt),ut,2)}function et(lt,ut){return g(lt.getUTCFullYear()%100,ut,2)}function ft(lt,ut){return g(lt.getUTCFullYear()%1e4,ut,4)}function rt(){return"+0000"}function _t(){return"%"}function kt(lt){return+lt}function wt(lt){return Math.floor(+lt/1e3)}n=r({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),l=n.format,n.parse,o=n.utcFormat,n.utcParse},82301:function(Y,O,e){e.d(O,{a:function(){return _}});var M=e(30052),k=e(54263),a=(0,M.Z)(function(y){y.setHours(0,0,0,0)},function(y,d){y.setDate(y.getDate()+d)},function(y,d){return(d-y-(d.getTimezoneOffset()-y.getTimezoneOffset())*k.yB)/k.UD},function(y){return y.getDate()-1});O.Z=a;var _=a.range},54263:function(Y,O,e){e.d(O,{UD:function(){return _},Y2:function(){return a},Ym:function(){return M},iM:function(){return y},yB:function(){return k}});var M=1e3,k=6e4,a=36e5,_=864e5,y=6048e5},81041:function(Y,O,e){e.r(O),e.d(O,{timeDay:function(){return p.Z},timeDays:function(){return p.a},timeFriday:function(){return c.mC},timeFridays:function(){return c.b$},timeHour:function(){return o},timeHours:function(){return u},timeInterval:function(){return M.Z},timeMillisecond:function(){return a},timeMilliseconds:function(){return _},timeMinute:function(){return r},timeMinutes:function(){return n},timeMonday:function(){return c.wA},timeMondays:function(){return c.bJ},timeMonth:function(){return g},timeMonths:function(){return h},timeSaturday:function(){return c.EY},timeSaturdays:function(){return c.Ff},timeSecond:function(){return s},timeSeconds:function(){return t},timeSunday:function(){return c.OM},timeSundays:function(){return c.vm},timeThursday:function(){return c.bL},timeThursdays:function(){return c.$t},timeTuesday:function(){return c.sy},timeTuesdays:function(){return c.aU},timeWednesday:function(){return c.zg},timeWednesdays:function(){return c.Ld},timeWeek:function(){return c.OM},timeWeeks:function(){return c.vm},timeYear:function(){return x.Z},timeYears:function(){return x.g},utcDay:function(){return E.Z},utcDays:function(){return E.y},utcFriday:function(){return L.QQ},utcFridays:function(){return L.fz},utcHour:function(){return S},utcHours:function(){return T},utcMillisecond:function(){return a},utcMilliseconds:function(){return _},utcMinute:function(){return m},utcMinutes:function(){return w},utcMonday:function(){return L.l6},utcMondays:function(){return L.$3},utcMonth:function(){return P},utcMonths:function(){return R},utcSaturday:function(){return L.g4},utcSaturdays:function(){return L.Q_},utcSecond:function(){return s},utcSeconds:function(){return t},utcSunday:function(){return L.Ox},utcSundays:function(){return L.SU},utcThursday:function(){return L.hB},utcThursdays:function(){return L.xj},utcTuesday:function(){return L.J1},utcTuesdays:function(){return L.DK},utcWednesday:function(){return L.b3},utcWednesdays:function(){return L.uy},utcWeek:function(){return L.Ox},utcWeeks:function(){return L.SU},utcYear:function(){return G.Z},utcYears:function(){return G.D}});var M=e(30052),k=(0,M.Z)(function(){},function(I,H){I.setTime(+I+H)},function(I,H){return H-I});k.every=function(I){return I=Math.floor(I),isFinite(I)&&I>0?I>1?(0,M.Z)(function(H){H.setTime(Math.floor(H/I)*I)},function(H,N){H.setTime(+H+N*I)},function(H,N){return(N-H)/I}):k:null};var a=k,_=k.range,y=e(54263),d=(0,M.Z)(function(I){I.setTime(I-I.getMilliseconds())},function(I,H){I.setTime(+I+H*y.Ym)},function(I,H){return(H-I)/y.Ym},function(I){return I.getUTCSeconds()}),s=d,t=d.range,i=(0,M.Z)(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*y.Ym)},function(I,H){I.setTime(+I+H*y.yB)},function(I,H){return(H-I)/y.yB},function(I){return I.getMinutes()}),r=i,n=i.range,l=(0,M.Z)(function(I){I.setTime(I-I.getMilliseconds()-I.getSeconds()*y.Ym-I.getMinutes()*y.yB)},function(I,H){I.setTime(+I+H*y.Y2)},function(I,H){return(H-I)/y.Y2},function(I){return I.getHours()}),o=l,u=l.range,p=e(82301),c=e(59879),b=(0,M.Z)(function(I){I.setDate(1),I.setHours(0,0,0,0)},function(I,H){I.setMonth(I.getMonth()+H)},function(I,H){return H.getMonth()-I.getMonth()+12*(H.getFullYear()-I.getFullYear())},function(I){return I.getMonth()}),g=b,h=b.range,x=e(34823),v=(0,M.Z)(function(I){I.setUTCSeconds(0,0)},function(I,H){I.setTime(+I+H*y.yB)},function(I,H){return(H-I)/y.yB},function(I){return I.getUTCMinutes()}),m=v,w=v.range,f=(0,M.Z)(function(I){I.setUTCMinutes(0,0,0)},function(I,H){I.setTime(+I+H*y.Y2)},function(I,H){return(H-I)/y.Y2},function(I){return I.getUTCHours()}),S=f,T=f.range,E=e(48480),L=e(58176),C=(0,M.Z)(function(I){I.setUTCDate(1),I.setUTCHours(0,0,0,0)},function(I,H){I.setUTCMonth(I.getUTCMonth()+H)},function(I,H){return H.getUTCMonth()-I.getUTCMonth()+12*(H.getUTCFullYear()-I.getUTCFullYear())},function(I){return I.getUTCMonth()}),P=C,R=C.range,G=e(79791)},30052:function(Y,O,e){e.d(O,{Z:function(){return a}});var M=new Date,k=new Date;function a(_,y,d,s){function t(i){return _(i=arguments.length===0?new Date:new Date(+i)),i}return t.floor=function(i){return _(i=new Date(+i)),i},t.ceil=function(i){return _(i=new Date(i-1)),y(i,1),_(i),i},t.round=function(i){var r=t(i),n=t.ceil(i);return i-r<n-i?r:n},t.offset=function(i,r){return y(i=new Date(+i),r==null?1:Math.floor(r)),i},t.range=function(i,r,n){var l,o=[];if(i=t.ceil(i),n=n==null?1:Math.floor(n),!(i<r&&n>0))return o;do o.push(l=new Date(+i)),y(i,n),_(i);while(l<i&&i<r);return o},t.filter=function(i){return a(function(r){if(r>=r)for(;_(r),!i(r);)r.setTime(r-1)},function(r,n){if(r>=r)if(n<0)for(;++n<=0;)for(;y(r,-1),!i(r););else for(;--n>=0;)for(;y(r,1),!i(r););})},d&&(t.count=function(i,r){return M.setTime(+i),k.setTime(+r),_(M),_(k),Math.floor(d(M,k))},t.every=function(i){return i=Math.floor(i),isFinite(i)&&i>0?i>1?t.filter(s?function(r){return s(r)%i==0}:function(r){return t.count(0,r)%i==0}):t:null}),t}},48480:function(Y,O,e){e.d(O,{y:function(){return _}});var M=e(30052),k=e(54263),a=(0,M.Z)(function(y){y.setUTCHours(0,0,0,0)},function(y,d){y.setUTCDate(y.getUTCDate()+d)},function(y,d){return(d-y)/k.UD},function(y){return y.getUTCDate()-1});O.Z=a;var _=a.range},58176:function(Y,O,e){e.d(O,{$3:function(){return l},DK:function(){return o},J1:function(){return d},Ox:function(){return _},QQ:function(){return i},Q_:function(){return b},SU:function(){return n},b3:function(){return s},fz:function(){return c},g4:function(){return r},hB:function(){return t},l6:function(){return y},uy:function(){return u},xj:function(){return p}});var M=e(30052),k=e(54263);function a(g){return(0,M.Z)(function(h){h.setUTCDate(h.getUTCDate()-(h.getUTCDay()+7-g)%7),h.setUTCHours(0,0,0,0)},function(h,x){h.setUTCDate(h.getUTCDate()+7*x)},function(h,x){return(x-h)/k.iM})}var _=a(0),y=a(1),d=a(2),s=a(3),t=a(4),i=a(5),r=a(6),n=_.range,l=y.range,o=d.range,u=s.range,p=t.range,c=i.range,b=r.range},79791:function(Y,O,e){e.d(O,{D:function(){return a}});var M=e(30052),k=(0,M.Z)(function(_){_.setUTCMonth(0,1),_.setUTCHours(0,0,0,0)},function(_,y){_.setUTCFullYear(_.getUTCFullYear()+y)},function(_,y){return y.getUTCFullYear()-_.getUTCFullYear()},function(_){return _.getUTCFullYear()});k.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,M.Z)(function(y){y.setUTCFullYear(Math.floor(y.getUTCFullYear()/_)*_),y.setUTCMonth(0,1),y.setUTCHours(0,0,0,0)},function(y,d){y.setUTCFullYear(y.getUTCFullYear()+d*_)}):null},O.Z=k;var a=k.range},59879:function(Y,O,e){e.d(O,{$t:function(){return p},EY:function(){return r},Ff:function(){return b},Ld:function(){return u},OM:function(){return _},aU:function(){return o},b$:function(){return c},bJ:function(){return l},bL:function(){return t},mC:function(){return i},sy:function(){return d},vm:function(){return n},wA:function(){return y},zg:function(){return s}});var M=e(30052),k=e(54263);function a(g){return(0,M.Z)(function(h){h.setDate(h.getDate()-(h.getDay()+7-g)%7),h.setHours(0,0,0,0)},function(h,x){h.setDate(h.getDate()+7*x)},function(h,x){return(x-h-(x.getTimezoneOffset()-h.getTimezoneOffset())*k.yB)/k.iM})}var _=a(0),y=a(1),d=a(2),s=a(3),t=a(4),i=a(5),r=a(6),n=_.range,l=y.range,o=d.range,u=s.range,p=t.range,c=i.range,b=r.range},34823:function(Y,O,e){e.d(O,{g:function(){return a}});var M=e(30052),k=(0,M.Z)(function(_){_.setMonth(0,1),_.setHours(0,0,0,0)},function(_,y){_.setFullYear(_.getFullYear()+y)},function(_,y){return y.getFullYear()-_.getFullYear()},function(_){return _.getFullYear()});k.every=function(_){return isFinite(_=Math.floor(_))&&_>0?(0,M.Z)(function(y){y.setFullYear(Math.floor(y.getFullYear()/_)*_),y.setMonth(0,1),y.setHours(0,0,0,0)},function(y,d){y.setFullYear(y.getFullYear()+d*_)}):null},O.Z=k;var a=k.range},17045:function(Y,O,e){var M=e(8709),k=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",a=Object.prototype.toString,_=Array.prototype.concat,y=Object.defineProperty,d=e(55622)(),s=y&&d,t=function(r,n,l,o){if(n in r){if(o===!0){if(r[n]===l)return}else if(typeof(u=o)!="function"||a.call(u)!=="[object Function]"||!o())return}var u;s?y(r,n,{configurable:!0,enumerable:!1,value:l,writable:!0}):r[n]=l},i=function(r,n){var l=arguments.length>2?arguments[2]:{},o=M(n);k&&(o=_.call(o,Object.getOwnPropertySymbols(n)));for(var u=0;u<o.length;u+=1)t(r,o[u],n[o[u]],l[o[u]])};i.supportsDescriptors=!!s,Y.exports=i},46775:function(Y){Y.exports=function(){for(var O=0;O<arguments.length;O++)if(arguments[O]!==void 0)return arguments[O]}},53545:function(Y){Y.exports=M;var O=(M.canvas=document.createElement("canvas")).getContext("2d"),e=k([32,126]);function M(a,_){Array.isArray(a)&&(a=a.join(", "));var y,d={},s=16,t=.05;_&&(_.length===2&&typeof _[0]=="number"?y=k(_):Array.isArray(_)?y=_:(_.o?y=k(_.o):_.pairs&&(y=_.pairs),_.fontSize&&(s=_.fontSize),_.threshold!=null&&(t=_.threshold))),y||(y=e),O.font=s+"px "+a;for(var i=0;i<y.length;i++){var r=y[i],n=O.measureText(r[0]).width+O.measureText(r[1]).width,l=O.measureText(r).width;if(Math.abs(n-l)>s*t){var o=(l-n)/s;d[r]=1e3*o}}return d}function k(a){for(var _=[],y=a[0];y<=a[1];y++)for(var d=String.fromCharCode(y),s=a[0];s<a[1];s++){var t=d+String.fromCharCode(s);_.push(t)}return _}M.createPairs=k,M.ascii=e},31457:function(Y,O,e){var M=e(65185),k=e(18625),a={M:"moveTo",C:"bezierCurveTo"};Y.exports=function(_,y){_.beginPath(),k(M(y)).forEach(function(d){var s=d[0],t=d.slice(1);_[a[s]].apply(_,t)}),_.closePath()}},90660:function(Y){Y.exports=function(O){switch(O){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray}}},12129:function(Y){function O(e,M,k){var a=0|e[k];if(a<=0)return[];var _,y=new Array(a);if(k===e.length-1)for(_=0;_<a;++_)y[_]=M;else for(_=0;_<a;++_)y[_]=O(e,M,k+1);return y}Y.exports=function(e,M){switch(M===void 0&&(M=0),typeof e){case"number":if(e>0)return function(k,a){var _,y;for(_=new Array(k),y=0;y<k;++y)_[y]=a;return _}(0|e,M);break;case"object":if(typeof e.length=="number")return O(e,M,0)}return[]}},11474:function(Y){function O(S,T,E){E=E||2;var L,C,P,R,G,I,H,N=T&&T.length,B=N?T[0]*E:S.length,V=e(S,0,B,E,!0),q=[];if(!V||V.next===V.prev)return q;if(N&&(V=function($,K,Z,X){var ee,ne,re,ae=[];for(ee=0,ne=K.length;ee<ne;ee++)(re=e($,K[ee]*X,ee<ne-1?K[ee+1]*X:$.length,X,!1))===re.next&&(re.steiner=!0),ae.push(n(re));for(ae.sort(s),ee=0;ee<ae.length;ee++)t(ae[ee],Z),Z=M(Z,Z.next);return Z}(S,T,V,E)),S.length>80*E){L=P=S[0],C=R=S[1];for(var te=E;te<B;te+=E)(G=S[te])<L&&(L=G),(I=S[te+1])<C&&(C=I),G>P&&(P=G),I>R&&(R=I);H=(H=Math.max(P-L,R-C))!==0?1/H:0}return k(V,q,E,L,C,H),q}function e(S,T,E,L,C){var P,R;if(C===f(S,T,E,L)>0)for(P=T;P<E;P+=L)R=v(P,S[P],S[P+1],R);else for(P=E-L;P>=T;P-=L)R=v(P,S[P],S[P+1],R);return R&&p(R,R.next)&&(m(R),R=R.next),R}function M(S,T){if(!S)return S;T||(T=S);var E,L=S;do if(E=!1,L.steiner||!p(L,L.next)&&u(L.prev,L,L.next)!==0)L=L.next;else{if(m(L),(L=T=L.prev)===L.next)break;E=!0}while(E||L!==T);return T}function k(S,T,E,L,C,P,R){if(S){!R&&P&&function(N,B,V,q){var te=N;do te.z===null&&(te.z=r(te.x,te.y,B,V,q)),te.prevZ=te.prev,te.nextZ=te.next,te=te.next;while(te!==N);te.prevZ.nextZ=null,te.prevZ=null,function($){var K,Z,X,ee,ne,re,ae,ue,pe=1;do{for(Z=$,$=null,ne=null,re=0;Z;){for(re++,X=Z,ae=0,K=0;K<pe&&(ae++,X=X.nextZ);K++);for(ue=pe;ae>0||ue>0&&X;)ae!==0&&(ue===0||!X||Z.z<=X.z)?(ee=Z,Z=Z.nextZ,ae--):(ee=X,X=X.nextZ,ue--),ne?ne.nextZ=ee:$=ee,ee.prevZ=ne,ne=ee;Z=X}ne.nextZ=null,pe*=2}while(re>1)}(te)}(S,L,C,P);for(var G,I,H=S;S.prev!==S.next;)if(G=S.prev,I=S.next,P?_(S,L,C,P):a(S))T.push(G.i/E),T.push(S.i/E),T.push(I.i/E),m(S),S=I.next,H=I.next;else if((S=I)===H){R?R===1?k(S=y(M(S),T,E),T,E,L,C,P,2):R===2&&d(S,T,E,L,C,P):k(M(S),T,E,L,C,P,1);break}}}function a(S){var T=S.prev,E=S,L=S.next;if(u(T,E,L)>=0)return!1;for(var C=S.next.next;C!==S.prev;){if(l(T.x,T.y,E.x,E.y,L.x,L.y,C.x,C.y)&&u(C.prev,C,C.next)>=0)return!1;C=C.next}return!0}function _(S,T,E,L){var C=S.prev,P=S,R=S.next;if(u(C,P,R)>=0)return!1;for(var G=C.x<P.x?C.x<R.x?C.x:R.x:P.x<R.x?P.x:R.x,I=C.y<P.y?C.y<R.y?C.y:R.y:P.y<R.y?P.y:R.y,H=C.x>P.x?C.x>R.x?C.x:R.x:P.x>R.x?P.x:R.x,N=C.y>P.y?C.y>R.y?C.y:R.y:P.y>R.y?P.y:R.y,B=r(G,I,T,E,L),V=r(H,N,T,E,L),q=S.prevZ,te=S.nextZ;q&&q.z>=B&&te&&te.z<=V;){if(q!==S.prev&&q!==S.next&&l(C.x,C.y,P.x,P.y,R.x,R.y,q.x,q.y)&&u(q.prev,q,q.next)>=0||(q=q.prevZ,te!==S.prev&&te!==S.next&&l(C.x,C.y,P.x,P.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;q&&q.z>=B;){if(q!==S.prev&&q!==S.next&&l(C.x,C.y,P.x,P.y,R.x,R.y,q.x,q.y)&&u(q.prev,q,q.next)>=0)return!1;q=q.prevZ}for(;te&&te.z<=V;){if(te!==S.prev&&te!==S.next&&l(C.x,C.y,P.x,P.y,R.x,R.y,te.x,te.y)&&u(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function y(S,T,E){var L=S;do{var C=L.prev,P=L.next.next;!p(C,P)&&c(C,L,L.next,P)&&h(C,P)&&h(P,C)&&(T.push(C.i/E),T.push(L.i/E),T.push(P.i/E),m(L),m(L.next),L=S=P),L=L.next}while(L!==S);return M(L)}function d(S,T,E,L,C,P){var R=S;do{for(var G=R.next.next;G!==R.prev;){if(R.i!==G.i&&o(R,G)){var I=x(R,G);return R=M(R,R.next),I=M(I,I.next),k(R,T,E,L,C,P),void k(I,T,E,L,C,P)}G=G.next}R=R.next}while(R!==S)}function s(S,T){return S.x-T.x}function t(S,T){if(T=function(L,C){var P,R=C,G=L.x,I=L.y,H=-1/0;do{if(I<=R.y&&I>=R.next.y&&R.next.y!==R.y){var N=R.x+(I-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(N<=G&&N>H){if(H=N,N===G){if(I===R.y)return R;if(I===R.next.y)return R.next}P=R.x<R.next.x?R:R.next}}R=R.next}while(R!==C);if(!P)return null;if(G===H)return P;var B,V=P,q=P.x,te=P.y,$=1/0;R=P;do G>=R.x&&R.x>=q&&G!==R.x&&l(I<te?G:H,I,q,te,I<te?H:G,I,R.x,R.y)&&(B=Math.abs(I-R.y)/(G-R.x),h(R,L)&&(B<$||B===$&&(R.x>P.x||R.x===P.x&&i(P,R)))&&(P=R,$=B)),R=R.next;while(R!==V);return P}(S,T),T){var E=x(T,S);M(T,T.next),M(E,E.next)}}function i(S,T){return u(S.prev,S,T.prev)<0&&u(T.next,S,S.next)<0}function r(S,T,E,L,C){return(S=1431655765&((S=858993459&((S=252645135&((S=16711935&((S=32767*(S-E)*C)|S<<8))|S<<4))|S<<2))|S<<1))|(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-L)*C)|T<<8))|T<<4))|T<<2))|T<<1))<<1}function n(S){var T=S,E=S;do(T.x<E.x||T.x===E.x&&T.y<E.y)&&(E=T),T=T.next;while(T!==S);return E}function l(S,T,E,L,C,P,R,G){return(C-R)*(T-G)-(S-R)*(P-G)>=0&&(S-R)*(L-G)-(E-R)*(T-G)>=0&&(E-R)*(P-G)-(C-R)*(L-G)>=0}function o(S,T){return S.next.i!==T.i&&S.prev.i!==T.i&&!function(E,L){var C=E;do{if(C.i!==E.i&&C.next.i!==E.i&&C.i!==L.i&&C.next.i!==L.i&&c(C,C.next,E,L))return!0;C=C.next}while(C!==E);return!1}(S,T)&&(h(S,T)&&h(T,S)&&function(E,L){var C=E,P=!1,R=(E.x+L.x)/2,G=(E.y+L.y)/2;do C.y>G!=C.next.y>G&&C.next.y!==C.y&&R<(C.next.x-C.x)*(G-C.y)/(C.next.y-C.y)+C.x&&(P=!P),C=C.next;while(C!==E);return P}(S,T)&&(u(S.prev,S,T.prev)||u(S,T.prev,T))||p(S,T)&&u(S.prev,S,S.next)>0&&u(T.prev,T,T.next)>0)}function u(S,T,E){return(T.y-S.y)*(E.x-T.x)-(T.x-S.x)*(E.y-T.y)}function p(S,T){return S.x===T.x&&S.y===T.y}function c(S,T,E,L){var C=g(u(S,T,E)),P=g(u(S,T,L)),R=g(u(E,L,S)),G=g(u(E,L,T));return C!==P&&R!==G||!(C!==0||!b(S,E,T))||!(P!==0||!b(S,L,T))||!(R!==0||!b(E,S,L))||!(G!==0||!b(E,T,L))}function b(S,T,E){return T.x<=Math.max(S.x,E.x)&&T.x>=Math.min(S.x,E.x)&&T.y<=Math.max(S.y,E.y)&&T.y>=Math.min(S.y,E.y)}function g(S){return S>0?1:S<0?-1:0}function h(S,T){return u(S.prev,S,S.next)<0?u(S,T,S.next)>=0&&u(S,S.prev,T)>=0:u(S,T,S.prev)<0||u(S,S.next,T)<0}function x(S,T){var E=new w(S.i,S.x,S.y),L=new w(T.i,T.x,T.y),C=S.next,P=T.prev;return S.next=T,T.prev=S,E.next=C,C.prev=E,L.next=E,E.prev=L,P.next=L,L.prev=P,L}function v(S,T,E,L){var C=new w(S,T,E);return L?(C.next=L.next,C.prev=L,L.next.prev=C,L.next=C):(C.prev=C,C.next=C),C}function m(S){S.next.prev=S.prev,S.prev.next=S.next,S.prevZ&&(S.prevZ.nextZ=S.nextZ),S.nextZ&&(S.nextZ.prevZ=S.prevZ)}function w(S,T,E){this.i=S,this.x=T,this.y=E,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function f(S,T,E,L){for(var C=0,P=T,R=E-L;P<E;P+=L)C+=(S[R]-S[P])*(S[P+1]+S[R+1]),R=P;return C}Y.exports=O,Y.exports.default=O,O.deviation=function(S,T,E,L){var C=T&&T.length,P=C?T[0]*E:S.length,R=Math.abs(f(S,0,P,E));if(C)for(var G=0,I=T.length;G<I;G++){var H=T[G]*E,N=G<I-1?T[G+1]*E:S.length;R-=Math.abs(f(S,H,N,E))}var B=0;for(G=0;G<L.length;G+=3){var V=L[G]*E,q=L[G+1]*E,te=L[G+2]*E;B+=Math.abs((S[V]-S[te])*(S[q+1]-S[V+1])-(S[V]-S[q])*(S[te+1]-S[V+1]))}return R===0&&B===0?0:Math.abs((B-R)/R)},O.flatten=function(S){for(var T=S[0][0].length,E={vertices:[],holes:[],dimensions:T},L=0,C=0;C<S.length;C++){for(var P=0;P<S[C].length;P++)for(var R=0;R<T;R++)E.vertices.push(S[C][P][R]);C>0&&(L+=S[C-1].length,E.holes.push(L))}return E}},2502:function(Y,O,e){var M=e(68664);Y.exports=function(k,a){var _,y=[],d=[],s=[],t={},i=[];function r(h){s[h]=!1,t.hasOwnProperty(h)&&Object.keys(t[h]).forEach(function(x){delete t[h][x],s[x]&&r(x)})}function n(h){var x,v,m=!1;for(d.push(h),s[h]=!0,x=0;x<i[h].length;x++)(v=i[h][x])===_?(l(_,d),m=!0):s[v]||(m=n(v));if(m)r(h);else for(x=0;x<i[h].length;x++){v=i[h][x];var w=t[v];w||(w={},t[v]=w),w[v]=!0}return d.pop(),m}function l(h,x){var v=[].concat(x).concat(h);a?a(n):y.push(v)}function o(h){(function(E){for(var L=0;L<k.length;L++)L<E&&(k[L]=[]),k[L]=k[L].filter(function(C){return C>=E})})(h);for(var x,v=M(k).components.filter(function(E){return E.length>1}),m=1/0,w=0;w<v.length;w++)for(var f=0;f<v[w].length;f++)v[w][f]<m&&(m=v[w][f],x=w);var S=v[x];if(!S)return!1;var T=k.map(function(E,L){return S.indexOf(L)===-1?[]:E.filter(function(C){return S.indexOf(C)!==-1})});return{leastVertex:m,adjList:T}}_=0;for(var u=k.length;_<u;){var p=o(_);if(_=p.leastVertex,i=p.adjList){for(var c=0;c<i.length;c++)for(var b=0;b<i[c].length;b++){var g=i[c][b];s[+g]=!1,t[g]={}}n(_),_+=1}else _=u}return a?void 0:y}},16134:function(Y,O,e){var M=e(36672);Y.exports=function(){return M(this).length=0,this}},4892:function(Y,O,e){Y.exports=e(64404)()?Array.from:e(49441)},64404:function(Y){Y.exports=function(){var O,e,M=Array.from;return typeof M=="function"&&(e=M(O=["raz","dwa"]),!!(e&&e!==O&&e[1]==="dwa"))}},49441:function(Y,O,e){var M=e(8260).iterator,k=e(73051),a=e(33717),_=e(35976),y=e(78513),d=e(36672),s=e(95296),t=e(87963),i=Array.isArray,r=Function.prototype.call,n={configurable:!0,enumerable:!0,writable:!0,value:null},l=Object.defineProperty;Y.exports=function(o){var u,p,c,b,g,h,x,v,m,w,f=arguments[1],S=arguments[2];if(o=Object(d(o)),s(f)&&y(f),this&&this!==Array&&a(this))u=this;else{if(!f){if(k(o))return(g=o.length)!==1?Array.apply(null,o):((b=new Array(1))[0]=o[0],b);if(i(o)){for(b=new Array(g=o.length),p=0;p<g;++p)b[p]=o[p];return b}}b=[]}if(!i(o)){if((m=o[M])!==void 0){for(x=y(m).call(o),u&&(b=new u),v=x.next(),p=0;!v.done;)w=f?r.call(f,S,v.value,p):v.value,u?(n.value=w,l(b,p,n)):b[p]=w,v=x.next(),++p;g=p}else if(t(o)){for(g=o.length,u&&(b=new u),p=0,c=0;p<g;++p)w=o[p],p+1<g&&(h=w.charCodeAt(0))>=55296&&h<=56319&&(w+=o[++p]),w=f?r.call(f,S,w,c):w,u?(n.value=w,l(b,c,n)):b[c]=w,++c;g=c}}if(g===void 0)for(g=_(o.length),u&&(b=new u(g)),p=0;p<g;++p)w=f?r.call(f,S,o[p],p):o[p],u?(n.value=w,l(b,p,n)):b[p]=w;return u&&(n.value=null,b.length=g),b}},73051:function(Y){var O=Object.prototype.toString,e=O.call(function(){return arguments}());Y.exports=function(M){return O.call(M)===e}},33717:function(Y){var O=Object.prototype.toString,e=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);Y.exports=function(M){return typeof M=="function"&&e(O.call(M))}},52345:function(Y){Y.exports=function(){}},9953:function(Y,O,e){Y.exports=e(90436)()?Math.sign:e(6069)},90436:function(Y){Y.exports=function(){var O=Math.sign;return typeof O=="function"&&O(10)===1&&O(-20)===-1}},6069:function(Y){Y.exports=function(O){return O=Number(O),isNaN(O)||O===0?O:O>0?1:-1}},56247:function(Y,O,e){var M=e(9953),k=Math.abs,a=Math.floor;Y.exports=function(_){return isNaN(_)?0:(_=Number(_))!==0&&isFinite(_)?M(_)*a(k(_)):_}},35976:function(Y,O,e){var M=e(56247),k=Math.max;Y.exports=function(a){return k(0,M(a))}},67260:function(Y,O,e){var M=e(78513),k=e(36672),a=Function.prototype.bind,_=Function.prototype.call,y=Object.keys,d=Object.prototype.propertyIsEnumerable;Y.exports=function(s,t){return function(i,r){var n,l=arguments[2],o=arguments[3];return i=Object(k(i)),M(r),n=y(i),o&&n.sort(typeof o=="function"?a.call(o,i):void 0),typeof s!="function"&&(s=n[s]),_.call(s,n,function(u,p){return d.call(i,u)?_.call(r,l,i[u],u,i,p):t})}}},95879:function(Y,O,e){Y.exports=e(73583)()?Object.assign:e(34205)},73583:function(Y){Y.exports=function(){var O,e=Object.assign;return typeof e=="function"&&(e(O={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),O.foo+O.bar+O.trzy==="razdwatrzy")}},34205:function(Y,O,e){var M=e(68700),k=e(36672),a=Math.max;Y.exports=function(_,y){var d,s,t,i=a(arguments.length,2);for(_=Object(k(_)),t=function(r){try{_[r]=y[r]}catch(n){d||(d=n)}},s=1;s<i;++s)M(y=arguments[s]).forEach(t);if(d!==void 0)throw d;return _}},19012:function(Y,O,e){var M=e(4892),k=e(95879),a=e(36672);Y.exports=function(_){var y=Object(a(_)),d=arguments[1],s=Object(arguments[2]);if(y!==_&&!d)return y;var t={};return d?M(d,function(i){(s.ensure||i in _)&&(t[i]=_[i])}):k(t,_),t}},52818:function(Y,O,e){var M,k,a,_,y=Object.create;e(33247)()||(M=e(51882)),Y.exports=M?M.level!==1?y:(k={},a={},_={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach(function(d){a[d]=d!=="__proto__"?_:{configurable:!0,enumerable:!1,writable:!0,value:void 0}}),Object.defineProperties(k,a),Object.defineProperty(M,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:k}),function(d,s){return y(d===null?k:d,s)}):y},96437:function(Y,O,e){Y.exports=e(67260)("forEach")},99611:function(Y,O,e){var M=e(95296),k={function:!0,object:!0};Y.exports=function(a){return M(a)&&k[typeof a]||!1}},95296:function(Y,O,e){var M=e(52345)();Y.exports=function(k){return k!==M&&k!==null}},68700:function(Y,O,e){Y.exports=e(13895)()?Object.keys:e(25217)},13895:function(Y){Y.exports=function(){try{return Object.keys("primitive"),!0}catch{return!1}}},25217:function(Y,O,e){var M=e(95296),k=Object.keys;Y.exports=function(a){return k(M(a)?Object(a):a)}},16906:function(Y,O,e){var M=e(78513),k=e(96437),a=Function.prototype.call;Y.exports=function(_,y){var d={},s=arguments[2];return M(y),k(_,function(t,i,r,n){d[i]=a.call(y,s,t,i,r,n)}),d}},21780:function(Y,O,e){var M=e(95296),k=Array.prototype.forEach,a=Object.create;Y.exports=function(_){var y=a(null);return k.call(arguments,function(d){M(d)&&function(s,t){var i;for(i in s)t[i]=s[i]}(Object(d),y)}),y}},1496:function(Y,O,e){Y.exports=e(33247)()?Object.setPrototypeOf:e(51882)},33247:function(Y){var O=Object.create,e=Object.getPrototypeOf,M={};Y.exports=function(){var k=Object.setPrototypeOf;return typeof k=="function"&&e(k((arguments[0]||O)(null),M))===M}},51882:function(Y,O,e){var M,k,a,_,y=e(99611),d=e(36672),s=Object.prototype.isPrototypeOf,t=Object.defineProperty,i={configurable:!0,enumerable:!1,writable:!0,value:void 0};M=function(r,n){if(d(r),n===null||y(n))return r;throw new TypeError("Prototype must be null or an object")},Y.exports=(k=function(){var r,n=Object.create(null),l={},o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(o){try{(r=o.set).call(n,l)}catch{}if(Object.getPrototypeOf(n)===l)return{set:r,level:2}}return n.__proto__=l,Object.getPrototypeOf(n)===l?{level:2}:((n={}).__proto__=l,Object.getPrototypeOf(n)===l&&{level:1})}(),k?(k.level===2?k.set?(_=k.set,a=function(r,n){return _.call(M(r,n),n),r}):a=function(r,n){return M(r,n).__proto__=n,r}:a=function r(n,l){var o;return M(n,l),(o=s.call(r.nullPolyfill,n))&&delete r.nullPolyfill.__proto__,l===null&&(l=r.nullPolyfill),n.__proto__=l,o&&t(r.nullPolyfill,"__proto__",i),n},Object.defineProperty(a,"level",{configurable:!1,enumerable:!1,writable:!1,value:k.level})):null),e(52818)},78513:function(Y){Y.exports=function(O){if(typeof O!="function")throw new TypeError(O+" is not a function");return O}},98976:function(Y,O,e){var M=e(99611);Y.exports=function(k){if(!M(k))throw new TypeError(k+" is not an Object");return k}},36672:function(Y,O,e){var M=e(95296);Y.exports=function(k){if(!M(k))throw new TypeError("Cannot use null or undefined");return k}},66741:function(Y,O,e){Y.exports=e(17557)()?String.prototype.contains:e(60381)},17557:function(Y){var O="razdwatrzy";Y.exports=function(){return typeof O.contains=="function"&&O.contains("dwa")===!0&&O.contains("foo")===!1}},60381:function(Y){var O=String.prototype.indexOf;Y.exports=function(e){return O.call(this,e,arguments[1])>-1}},87963:function(Y){var O=Object.prototype.toString,e=O.call("");Y.exports=function(M){return typeof M=="string"||M&&typeof M=="object"&&(M instanceof String||O.call(M)===e)||!1}},43043:function(Y){var O=Object.create(null),e=Math.random;Y.exports=function(){var M;do M=e().toString(36).slice(2);while(O[M]);return M}},32411:function(Y,O,e){var M,k=e(1496),a=e(66741),_=e(62072),y=e(8260),d=e(95426),s=Object.defineProperty;M=Y.exports=function(t,i){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");d.call(this,t),i=i?a.call(i,"key+value")?"key+value":a.call(i,"key")?"key":"value":"value",s(this,"__kind__",_("",i))},k&&k(M,d),delete M.prototype.constructor,M.prototype=Object.create(d.prototype,{_resolve:_(function(t){return this.__kind__==="value"?this.__list__[t]:this.__kind__==="key+value"?[t,this.__list__[t]]:t})}),s(M.prototype,y.toStringTag,_("c","Array Iterator"))},27515:function(Y,O,e){var M=e(73051),k=e(78513),a=e(87963),_=e(66661),y=Array.isArray,d=Function.prototype.call,s=Array.prototype.some;Y.exports=function(t,i){var r,n,l,o,u,p,c,b,g=arguments[2];if(y(t)||M(t)?r="array":a(t)?r="string":t=_(t),k(i),l=function(){o=!0},r!=="array")if(r!=="string")for(n=t.next();!n.done;){if(d.call(i,g,n.value,l),o)return;n=t.next()}else for(p=t.length,u=0;u<p&&(c=t[u],u+1<p&&(b=c.charCodeAt(0))>=55296&&b<=56319&&(c+=t[++u]),d.call(i,g,c,l),!o);++u);else s.call(t,function(h){return d.call(i,g,h,l),o})}},66661:function(Y,O,e){var M=e(73051),k=e(87963),a=e(32411),_=e(259),y=e(58095),d=e(8260).iterator;Y.exports=function(s){return typeof y(s)[d]=="function"?s[d]():M(s)?new a(s):k(s)?new _(s):new a(s)}},95426:function(Y,O,e){var M,k=e(16134),a=e(95879),_=e(78513),y=e(36672),d=e(62072),s=e(55174),t=e(8260),i=Object.defineProperty,r=Object.defineProperties;Y.exports=M=function(n,l){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");r(this,{__list__:d("w",y(n)),__context__:d("w",l),__nextIndex__:d("w",0)}),l&&(_(l.on),l.on("_add",this._onAdd),l.on("_delete",this._onDelete),l.on("_clear",this._onClear))},delete M.prototype.constructor,r(M.prototype,a({_next:d(function(){var n;if(this.__list__)return this.__redo__&&(n=this.__redo__.shift())!==void 0?n:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()}),next:d(function(){return this._createResult(this._next())}),_createResult:d(function(n){return n===void 0?{done:!0,value:void 0}:{done:!1,value:this._resolve(n)}}),_resolve:d(function(n){return this.__list__[n]}),_unBind:d(function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)}),toString:d(function(){return"[object "+(this[t.toStringTag]||"Object")+"]"})},s({_onAdd:d(function(n){n>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach(function(l,o){l>=n&&(this.__redo__[o]=++l)},this),this.__redo__.push(n)):i(this,"__redo__",d("c",[n])))}),_onDelete:d(function(n){var l;n>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&((l=this.__redo__.indexOf(n))!==-1&&this.__redo__.splice(l,1),this.__redo__.forEach(function(o,u){o>n&&(this.__redo__[u]=--o)},this)))}),_onClear:d(function(){this.__redo__&&k.call(this.__redo__),this.__nextIndex__=0})}))),i(M.prototype,t.iterator,d(function(){return this}))},35940:function(Y,O,e){var M=e(73051),k=e(95296),a=e(87963),_=e(8260).iterator,y=Array.isArray;Y.exports=function(d){return!(!k(d)||!y(d)&&!a(d)&&!M(d)&&typeof d[_]!="function")}},259:function(Y,O,e){var M,k=e(1496),a=e(62072),_=e(8260),y=e(95426),d=Object.defineProperty;M=Y.exports=function(s){if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");s=String(s),y.call(this,s),d(this,"__length__",a("",s.length))},k&&k(M,y),delete M.prototype.constructor,M.prototype=Object.create(y.prototype,{_next:a(function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()}),_resolve:a(function(s){var t,i=this.__list__[s];return this.__nextIndex__===this.__length__?i:(t=i.charCodeAt(0))>=55296&&t<=56319?i+this.__list__[this.__nextIndex__++]:i})}),d(M.prototype,_.toStringTag,a("c","String Iterator"))},58095:function(Y,O,e){var M=e(35940);Y.exports=function(k){if(!M(k))throw new TypeError(k+" is not iterable");return k}},73523:function(Y){function O(e,M){if(e==null)throw new TypeError("Cannot convert first argument to object");for(var k=Object(e),a=1;a<arguments.length;a++){var _=arguments[a];if(_!=null)for(var y=Object.keys(Object(_)),d=0,s=y.length;d<s;d++){var t=y[d],i=Object.getOwnPropertyDescriptor(_,t);i!==void 0&&i.enumerable&&(k[t]=_[t])}}return k}Y.exports={assign:O,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:O})}}},8260:function(Y,O,e){Y.exports=e(69711)()?e(94908).Symbol:e(18415)},69711:function(Y,O,e){var M=e(94908),k={object:!0,symbol:!0};Y.exports=function(){var a,_=M.Symbol;if(typeof _!="function")return!1;a=_("test symbol");try{String(a)}catch{return!1}return!!k[typeof _.iterator]&&!!k[typeof _.toPrimitive]&&!!k[typeof _.toStringTag]}},82276:function(Y){Y.exports=function(O){return!!O&&(typeof O=="symbol"||!!O.constructor&&O.constructor.name==="Symbol"&&O[O.constructor.toStringTag]==="Symbol")}},29366:function(Y,O,e){var M=e(62072),k=Object.create,a=Object.defineProperty,_=Object.prototype,y=k(null);Y.exports=function(d){for(var s,t,i=0;y[d+(i||"")];)++i;return y[d+=i||""]=!0,a(_,s="@@"+d,M.gs(null,function(r){t||(t=!0,a(this,s,M(r)),t=!1)})),s}},92842:function(Y,O,e){var M=e(62072),k=e(94908).Symbol;Y.exports=function(a){return Object.defineProperties(a,{hasInstance:M("",k&&k.hasInstance||a("hasInstance")),isConcatSpreadable:M("",k&&k.isConcatSpreadable||a("isConcatSpreadable")),iterator:M("",k&&k.iterator||a("iterator")),match:M("",k&&k.match||a("match")),replace:M("",k&&k.replace||a("replace")),search:M("",k&&k.search||a("search")),species:M("",k&&k.species||a("species")),split:M("",k&&k.split||a("split")),toPrimitive:M("",k&&k.toPrimitive||a("toPrimitive")),toStringTag:M("",k&&k.toStringTag||a("toStringTag")),unscopables:M("",k&&k.unscopables||a("unscopables"))})}},13304:function(Y,O,e){var M=e(62072),k=e(53308),a=Object.create(null);Y.exports=function(_){return Object.defineProperties(_,{for:M(function(y){return a[y]?a[y]:a[y]=_(String(y))}),keyFor:M(function(y){var d;for(d in k(y),a)if(a[d]===y)return d})})}},18415:function(Y,O,e){var M,k,a,_=e(62072),y=e(53308),d=e(94908).Symbol,s=e(29366),t=e(92842),i=e(13304),r=Object.create,n=Object.defineProperties,l=Object.defineProperty;if(typeof d=="function")try{String(d()),a=!0}catch{}else d=null;k=function(o){if(this instanceof k)throw new TypeError("Symbol is not a constructor");return M(o)},Y.exports=M=function o(u){var p;if(this instanceof o)throw new TypeError("Symbol is not a constructor");return a?d(u):(p=r(k.prototype),u=u===void 0?"":String(u),n(p,{__description__:_("",u),__name__:_("",s(u))}))},t(M),i(M),n(k.prototype,{constructor:_(M),toString:_("",function(){return this.__name__})}),n(M.prototype,{toString:_(function(){return"Symbol ("+y(this).__description__+")"}),valueOf:_(function(){return y(this)})}),l(M.prototype,M.toPrimitive,_("",function(){var o=y(this);return typeof o=="symbol"?o:o.toString()})),l(M.prototype,M.toStringTag,_("c","Symbol")),l(k.prototype,M.toStringTag,_("c",M.prototype[M.toStringTag])),l(k.prototype,M.toPrimitive,_("c",M.prototype[M.toPrimitive]))},53308:function(Y,O,e){var M=e(82276);Y.exports=function(k){if(!M(k))throw new TypeError(k+" is not a symbol");return k}},83522:function(Y,O,e){Y.exports=e(96402)()?WeakMap:e(329)},96402:function(Y){Y.exports=function(){var O,e;if(typeof WeakMap!="function")return!1;try{O=new WeakMap([[e={},"one"],[{},"two"],[{},"three"]])}catch{return!1}return String(O)==="[object WeakMap]"&&typeof O.set=="function"&&O.set({},1)===O&&typeof O.delete=="function"&&typeof O.has=="function"&&O.get(e)==="one"}},96416:function(Y){Y.exports=typeof WeakMap=="function"&&Object.prototype.toString.call(new WeakMap)==="[object WeakMap]"},329:function(Y,O,e){var M,k=e(95296),a=e(1496),_=e(98976),y=e(36672),d=e(43043),s=e(62072),t=e(66661),i=e(27515),r=e(8260).toStringTag,n=e(96416),l=Array.isArray,o=Object.defineProperty,u=Object.prototype.hasOwnProperty,p=Object.getPrototypeOf;Y.exports=M=function(){var c,b=arguments[0];if(!(this instanceof M))throw new TypeError("Constructor requires 'new'");return c=n&&a&&WeakMap!==M?a(new WeakMap,p(this)):this,k(b)&&(l(b)||(b=t(b))),o(c,"__weakMapData__",s("c","$weakMap$"+d())),b&&i(b,function(g){y(g),c.set(g[0],g[1])}),c},n&&(a&&a(M,WeakMap),M.prototype=Object.create(WeakMap.prototype,{constructor:s(M)})),Object.defineProperties(M.prototype,{delete:s(function(c){return!!u.call(_(c),this.__weakMapData__)&&(delete c[this.__weakMapData__],!0)}),get:s(function(c){if(u.call(_(c),this.__weakMapData__))return c[this.__weakMapData__]}),has:s(function(c){return u.call(_(c),this.__weakMapData__)}),set:s(function(c,b){return o(_(c),this.__weakMapData__,s("c",b)),this}),toString:s(function(){return"[object WeakMap]"})}),o(M.prototype,r,s("c","WeakMap"))},15398:function(Y){var O,e=typeof Reflect=="object"?Reflect:null,M=e&&typeof e.apply=="function"?e.apply:function(u,p,c){return Function.prototype.apply.call(u,p,c)};O=e&&typeof e.ownKeys=="function"?e.ownKeys:Object.getOwnPropertySymbols?function(u){return Object.getOwnPropertyNames(u).concat(Object.getOwnPropertySymbols(u))}:function(u){return Object.getOwnPropertyNames(u)};var k=Number.isNaN||function(u){return u!=u};function a(){a.init.call(this)}Y.exports=a,Y.exports.once=function(u,p){return new Promise(function(c,b){function g(x){u.removeListener(p,h),b(x)}function h(){typeof u.removeListener=="function"&&u.removeListener("error",g),c([].slice.call(arguments))}o(u,p,h,{once:!0}),p!=="error"&&function(x,v,m){typeof x.on=="function"&&o(x,"error",v,{once:!0})}(u,g)})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var _=10;function y(u){if(typeof u!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof u)}function d(u){return u._maxListeners===void 0?a.defaultMaxListeners:u._maxListeners}function s(u,p,c,b){var g,h,x,v;if(y(c),(h=u._events)===void 0?(h=u._events=Object.create(null),u._eventsCount=0):(h.newListener!==void 0&&(u.emit("newListener",p,c.listener?c.listener:c),h=u._events),x=h[p]),x===void 0)x=h[p]=c,++u._eventsCount;else if(typeof x=="function"?x=h[p]=b?[c,x]:[x,c]:b?x.unshift(c):x.push(c),(g=d(u))>0&&x.length>g&&!x.warned){x.warned=!0;var m=new Error("Possible EventEmitter memory leak detected. "+x.length+" "+String(p)+" listeners added. Use emitter.setMaxListeners() to increase limit");m.name="MaxListenersExceededWarning",m.emitter=u,m.type=p,m.count=x.length,v=m,console&&console.warn&&console.warn(v)}return u}function t(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function i(u,p,c){var b={fired:!1,wrapFn:void 0,target:u,type:p,listener:c},g=t.bind(b);return g.listener=c,b.wrapFn=g,g}function r(u,p,c){var b=u._events;if(b===void 0)return[];var g=b[p];return g===void 0?[]:typeof g=="function"?c?[g.listener||g]:[g]:c?function(h){for(var x=new Array(h.length),v=0;v<x.length;++v)x[v]=h[v].listener||h[v];return x}(g):l(g,g.length)}function n(u){var p=this._events;if(p!==void 0){var c=p[u];if(typeof c=="function")return 1;if(c!==void 0)return c.length}return 0}function l(u,p){for(var c=new Array(p),b=0;b<p;++b)c[b]=u[b];return c}function o(u,p,c,b){if(typeof u.on=="function")b.once?u.once(p,c):u.on(p,c);else{if(typeof u.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof u);u.addEventListener(p,function g(h){b.once&&u.removeEventListener(p,g),c(h)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+u+".");_=u}}),a.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(u){if(typeof u!="number"||u<0||k(u))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+u+".");return this._maxListeners=u,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(u){for(var p=[],c=1;c<arguments.length;c++)p.push(arguments[c]);var b=u==="error",g=this._events;if(g!==void 0)b=b&&g.error===void 0;else if(!b)return!1;if(b){var h;if(p.length>0&&(h=p[0]),h instanceof Error)throw h;var x=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw x.context=h,x}var v=g[u];if(v===void 0)return!1;if(typeof v=="function")M(v,this,p);else{var m=v.length,w=l(v,m);for(c=0;c<m;++c)M(w[c],this,p)}return!0},a.prototype.addListener=function(u,p){return s(this,u,p,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(u,p){return s(this,u,p,!0)},a.prototype.once=function(u,p){return y(p),this.on(u,i(this,u,p)),this},a.prototype.prependOnceListener=function(u,p){return y(p),this.prependListener(u,i(this,u,p)),this},a.prototype.removeListener=function(u,p){var c,b,g,h,x;if(y(p),(b=this._events)===void 0)return this;if((c=b[u])===void 0)return this;if(c===p||c.listener===p)--this._eventsCount==0?this._events=Object.create(null):(delete b[u],b.removeListener&&this.emit("removeListener",u,c.listener||p));else if(typeof c!="function"){for(g=-1,h=c.length-1;h>=0;h--)if(c[h]===p||c[h].listener===p){x=c[h].listener,g=h;break}if(g<0)return this;g===0?c.shift():function(v,m){for(;m+1<v.length;m++)v[m]=v[m+1];v.pop()}(c,g),c.length===1&&(b[u]=c[0]),b.removeListener!==void 0&&this.emit("removeListener",u,x||p)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(u){var p,c,b;if((c=this._events)===void 0)return this;if(c.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):c[u]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete c[u]),this;if(arguments.length===0){var g,h=Object.keys(c);for(b=0;b<h.length;++b)(g=h[b])!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(p=c[u])=="function")this.removeListener(u,p);else if(p!==void 0)for(b=p.length-1;b>=0;b--)this.removeListener(u,p[b]);return this},a.prototype.listeners=function(u){return r(this,u,!0)},a.prototype.rawListeners=function(u){return r(this,u,!1)},a.listenerCount=function(u,p){return typeof u.listenerCount=="function"?u.listenerCount(p):n.call(u,p)},a.prototype.listenerCount=n,a.prototype.eventNames=function(){return this._eventsCount>0?O(this._events):[]}},60774:function(Y){var O=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};Y.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return O()}try{return __global__||O()}finally{delete Object.prototype.__global__}}()},94908:function(Y,O,e){Y.exports=e(51152)()?globalThis:e(60774)},51152:function(Y){Y.exports=function(){return typeof globalThis=="object"&&!!globalThis&&globalThis.Array===Array}},92770:function(Y,O,e){var M=e(18546);Y.exports=function(k){var a=typeof k;if(a==="string"){var _=k;if((k=+k)==0&&M(_))return!1}else if(a!=="number")return!1;return k-k<1}},30120:function(Y,O,e){var M=e(90660);Y.exports=function(k,a,_){if(!k)throw new TypeError("must specify data as first parameter");if(_=0|+(_||0),Array.isArray(k)&&k[0]&&typeof k[0][0]=="number"){var y,d,s,t,i=k[0].length,r=k.length*i;a&&typeof a!="string"||(a=new(M(a||"float32"))(r+_));var n=a.length-_;if(r!==n)throw new Error("source length "+r+" ("+i+"x"+k.length+") does not match destination length "+n);for(y=0,s=_;y<k.length;y++)for(d=0;d<i;d++)a[s++]=k[y][d]===null?NaN:k[y][d]}else if(a&&typeof a!="string")a.set(k,_);else{var l=M(a||"float32");if(Array.isArray(k)||a==="array")for(y=0,s=_,t=(a=new l(k.length+_)).length;s<t;s++,y++)a[s]=k[y]===null?NaN:k[y];else _===0?a=new l(k):(a=new l(k.length+_)).set(k,_)}return a}},68016:function(Y,O,e){var M=e(53313),k=[32,126];Y.exports=function(a){var _=(a=a||{}).shape?a.shape:a.canvas?[a.canvas.width,a.canvas.height]:[512,512],y=a.canvas||document.createElement("canvas"),d=a.font,s=typeof a.step=="number"?[a.step,a.step]:a.step||[32,32],t=a.chars||k;if(d&&typeof d!="string"&&(d=M(d)),Array.isArray(t)){if(t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"){for(var i=[],r=t[0],n=0;r<=t[1];r++)i[n++]=String.fromCharCode(r);t=i}}else t=String(t).split("");_=_.slice(),y.width=_[0],y.height=_[1];var l=y.getContext("2d");l.fillStyle="#000",l.fillRect(0,0,y.width,y.height),l.font=d,l.textAlign="center",l.textBaseline="middle",l.fillStyle="#fff";var o=s[0]/2,u=s[1]/2;for(r=0;r<t.length;r++)l.fillText(t[r],o,u),(o+=s[0])>_[0]-s[0]/2&&(o=s[0]/2,u+=s[1]);return y}},32879:function(Y){function O(a,_){_||(_={}),(typeof a=="string"||Array.isArray(a))&&(_.family=a);var y=Array.isArray(_.family)?_.family.join(", "):_.family;if(!y)throw Error("`family` must be defined");var d=_.size||_.fontSize||_.em||48,s=_.weight||_.fontWeight||"",t=(a=[_.style||_.fontStyle||"",s,d].join(" ")+"px "+y,_.origin||"top");if(O.cache[y]&&d<=O.cache[y].em)return e(O.cache[y],t);var i=_.canvas||O.canvas,r=i.getContext("2d"),n={upper:_.upper!==void 0?_.upper:"H",lower:_.lower!==void 0?_.lower:"x",descent:_.descent!==void 0?_.descent:"p",ascent:_.ascent!==void 0?_.ascent:"h",tittle:_.tittle!==void 0?_.tittle:"i",overshoot:_.overshoot!==void 0?_.overshoot:"O"},l=Math.ceil(1.5*d);i.height=l,i.width=.5*l,r.font=a;var o="H",u={top:0};r.clearRect(0,0,l,l),r.textBaseline="top",r.fillStyle="black",r.fillText(o,0,0);var p=M(r.getImageData(0,0,l,l));r.clearRect(0,0,l,l),r.textBaseline="bottom",r.fillText(o,0,l);var c=M(r.getImageData(0,0,l,l));u.lineHeight=u.bottom=l-c+p,r.clearRect(0,0,l,l),r.textBaseline="alphabetic",r.fillText(o,0,l);var b=l-M(r.getImageData(0,0,l,l))-1+p;u.baseline=u.alphabetic=b,r.clearRect(0,0,l,l),r.textBaseline="middle",r.fillText(o,0,.5*l);var g=M(r.getImageData(0,0,l,l));u.median=u.middle=l-g-1+p-.5*l,r.clearRect(0,0,l,l),r.textBaseline="hanging",r.fillText(o,0,.5*l);var h=M(r.getImageData(0,0,l,l));u.hanging=l-h-1+p-.5*l,r.clearRect(0,0,l,l),r.textBaseline="ideographic",r.fillText(o,0,l);var x=M(r.getImageData(0,0,l,l));if(u.ideographic=l-x-1+p,n.upper&&(r.clearRect(0,0,l,l),r.textBaseline="top",r.fillText(n.upper,0,0),u.upper=M(r.getImageData(0,0,l,l)),u.capHeight=u.baseline-u.upper),n.lower&&(r.clearRect(0,0,l,l),r.textBaseline="top",r.fillText(n.lower,0,0),u.lower=M(r.getImageData(0,0,l,l)),u.xHeight=u.baseline-u.lower),n.tittle&&(r.clearRect(0,0,l,l),r.textBaseline="top",r.fillText(n.tittle,0,0),u.tittle=M(r.getImageData(0,0,l,l))),n.ascent&&(r.clearRect(0,0,l,l),r.textBaseline="top",r.fillText(n.ascent,0,0),u.ascent=M(r.getImageData(0,0,l,l))),n.descent&&(r.clearRect(0,0,l,l),r.textBaseline="top",r.fillText(n.descent,0,0),u.descent=k(r.getImageData(0,0,l,l))),n.overshoot){r.clearRect(0,0,l,l),r.textBaseline="top",r.fillText(n.overshoot,0,0);var v=k(r.getImageData(0,0,l,l));u.overshoot=v-b}for(var m in u)u[m]/=d;return u.em=d,O.cache[y]=u,e(u,t)}function e(a,_){var y={};for(var d in typeof _=="string"&&(_=a[_]),a)d!=="em"&&(y[d]=a[d]-_);return y}function M(a){for(var _=a.height,y=a.data,d=3;d<y.length;d+=4)if(y[d]!==0)return Math.floor(.25*(d-3)/_)}function k(a){for(var _=a.height,y=a.data,d=y.length-1;d>0;d-=4)if(y[d]!==0)return Math.floor(.25*(d-3)/_)}Y.exports=O,O.canvas=document.createElement("canvas"),O.cache={}},31353:function(Y,O,e){var M=e(85395),k=Object.prototype.toString,a=Object.prototype.hasOwnProperty;Y.exports=function(_,y,d){if(!M(y))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=d),k.call(_)==="[object Array]"?function(t,i,r){for(var n=0,l=t.length;n<l;n++)a.call(t,n)&&(r==null?i(t[n],n,t):i.call(r,t[n],n,t))}(_,y,s):typeof _=="string"?function(t,i,r){for(var n=0,l=t.length;n<l;n++)r==null?i(t.charAt(n),n,t):i.call(r,t.charAt(n),n,t)}(_,y,s):function(t,i,r){for(var n in t)a.call(t,n)&&(r==null?i(t[n],n,t):i.call(r,t[n],n,t))}(_,y,s)}},73047:function(Y){var O=Array.prototype.slice,e=Object.prototype.toString;Y.exports=function(M){var k=this;if(typeof k!="function"||e.call(k)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+k);for(var a,_=O.call(arguments,1),y=Math.max(0,k.length-_.length),d=[],s=0;s<y;s++)d.push("$"+s);if(a=Function("binder","return function ("+d.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof a){var i=k.apply(this,_.concat(O.call(arguments)));return Object(i)===i?i:this}return k.apply(M,_.concat(O.call(arguments)))}),k.prototype){var t=function(){};t.prototype=k.prototype,a.prototype=new t,t.prototype=null}return a}},77575:function(Y,O,e){var M=e(73047);Y.exports=Function.prototype.bind||M},86249:function(Y){Y.exports=function(O,e){if(typeof O!="string")throw new TypeError("must specify type string");if(e=e||{},typeof document>"u"&&!e.canvas)return null;var M=e.canvas||document.createElement("canvas");typeof e.width=="number"&&(M.width=e.width),typeof e.height=="number"&&(M.height=e.height);var k,a=e;try{var _=[O];O.indexOf("webgl")===0&&_.push("experimental-"+O);for(var y=0;y<_.length;y++)if(k=M.getContext(_[y],a))return k}catch{k=null}return k||null}},68318:function(Y,O,e){var M,k=SyntaxError,a=Function,_=TypeError,y=function(E){try{return a('"use strict"; return ('+E+").constructor;")()}catch{}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch{d=null}var s=function(){throw new _},t=d?function(){try{return s}catch{try{return d(arguments,"callee").get}catch{return s}}}():s,i=e(57877)(),r=Object.getPrototypeOf||function(E){return E.__proto__},n={},l=typeof Uint8Array>"u"?M:r(Uint8Array),o={"%AggregateError%":typeof AggregateError>"u"?M:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M:ArrayBuffer,"%ArrayIteratorPrototype%":i?r([][Symbol.iterator]()):M,"%AsyncFromSyncIteratorPrototype%":M,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics>"u"?M:Atomics,"%BigInt%":typeof BigInt>"u"?M:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?M:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?M:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M:FinalizationRegistry,"%Function%":a,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array>"u"?M:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?r(r([][Symbol.iterator]())):M,"%JSON%":typeof JSON=="object"?JSON:M,"%Map%":typeof Map>"u"?M:Map,"%MapIteratorPrototype%":typeof Map<"u"&&i?r(new Map()[Symbol.iterator]()):M,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M:Promise,"%Proxy%":typeof Proxy>"u"?M:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M:Set,"%SetIteratorPrototype%":typeof Set<"u"&&i?r(new Set()[Symbol.iterator]()):M,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i?r(""[Symbol.iterator]()):M,"%Symbol%":i?Symbol:M,"%SyntaxError%":k,"%ThrowTypeError%":t,"%TypedArray%":l,"%TypeError%":_,"%Uint8Array%":typeof Uint8Array>"u"?M:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M:WeakSet};try{null.error}catch(E){var u=r(r(E));o["%Error.prototype%"]=u}var p=function E(L){var C;if(L==="%AsyncFunction%")C=y("async function () {}");else if(L==="%GeneratorFunction%")C=y("function* () {}");else if(L==="%AsyncGeneratorFunction%")C=y("async function* () {}");else if(L==="%AsyncGenerator%"){var P=E("%AsyncGeneratorFunction%");P&&(C=P.prototype)}else if(L==="%AsyncIteratorPrototype%"){var R=E("%AsyncGenerator%");R&&(C=r(R.prototype))}return o[L]=C,C},c={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=e(77575),g=e(35065),h=b.call(Function.call,Array.prototype.concat),x=b.call(Function.apply,Array.prototype.splice),v=b.call(Function.call,String.prototype.replace),m=b.call(Function.call,String.prototype.slice),w=b.call(Function.call,RegExp.prototype.exec),f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,T=function(E,L){var C,P=E;if(g(c,P)&&(P="%"+(C=c[P])[0]+"%"),g(o,P)){var R=o[P];if(R===n&&(R=p(P)),R===void 0&&!L)throw new _("intrinsic "+E+" exists, but is not available. Please file an issue!");return{alias:C,name:P,value:R}}throw new k("intrinsic "+E+" does not exist!")};Y.exports=function(E,L){if(typeof E!="string"||E.length===0)throw new _("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof L!="boolean")throw new _('"allowMissing" argument must be a boolean');if(w(/^%?[^%]*%?$/,E)===null)throw new k("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var C=function(Z){var X=m(Z,0,1),ee=m(Z,-1);if(X==="%"&&ee!=="%")throw new k("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&X!=="%")throw new k("invalid intrinsic syntax, expected opening `%`");var ne=[];return v(Z,f,function(re,ae,ue,pe){ne[ne.length]=ue?v(pe,S,"$1"):ae||re}),ne}(E),P=C.length>0?C[0]:"",R=T("%"+P+"%",L),G=R.name,I=R.value,H=!1,N=R.alias;N&&(P=N[0],x(C,h([0,1],N)));for(var B=1,V=!0;B<C.length;B+=1){var q=C[B],te=m(q,0,1),$=m(q,-1);if((te==='"'||te==="'"||te==="`"||$==='"'||$==="'"||$==="`")&&te!==$)throw new k("property names with quotes must have matching quotes");if(q!=="constructor"&&V||(H=!0),g(o,G="%"+(P+="."+q)+"%"))I=o[G];else if(I!=null){if(!(q in I)){if(!L)throw new _("base intrinsic for "+E+" exists, but the property is not available.");return}if(d&&B+1>=C.length){var K=d(I,q);I=(V=!!K)&&"get"in K&&!("originalValue"in K.get)?K.get:I[q]}else V=g(I,q),I=I[q];V&&!H&&(o[G]=I)}}return I}},85400:function(Y){Y.exports=function(O,e){var M=e[0],k=e[1],a=e[2],_=e[3],y=e[4],d=e[5],s=e[6],t=e[7],i=e[8],r=e[9],n=e[10],l=e[11],o=e[12],u=e[13],p=e[14],c=e[15];return O[0]=d*(n*c-l*p)-r*(s*c-t*p)+u*(s*l-t*n),O[1]=-(k*(n*c-l*p)-r*(a*c-_*p)+u*(a*l-_*n)),O[2]=k*(s*c-t*p)-d*(a*c-_*p)+u*(a*t-_*s),O[3]=-(k*(s*l-t*n)-d*(a*l-_*n)+r*(a*t-_*s)),O[4]=-(y*(n*c-l*p)-i*(s*c-t*p)+o*(s*l-t*n)),O[5]=M*(n*c-l*p)-i*(a*c-_*p)+o*(a*l-_*n),O[6]=-(M*(s*c-t*p)-y*(a*c-_*p)+o*(a*t-_*s)),O[7]=M*(s*l-t*n)-y*(a*l-_*n)+i*(a*t-_*s),O[8]=y*(r*c-l*u)-i*(d*c-t*u)+o*(d*l-t*r),O[9]=-(M*(r*c-l*u)-i*(k*c-_*u)+o*(k*l-_*r)),O[10]=M*(d*c-t*u)-y*(k*c-_*u)+o*(k*t-_*d),O[11]=-(M*(d*l-t*r)-y*(k*l-_*r)+i*(k*t-_*d)),O[12]=-(y*(r*p-n*u)-i*(d*p-s*u)+o*(d*n-s*r)),O[13]=M*(r*p-n*u)-i*(k*p-a*u)+o*(k*n-a*r),O[14]=-(M*(d*p-s*u)-y*(k*p-a*u)+o*(k*s-a*d)),O[15]=M*(d*n-s*r)-y*(k*n-a*r)+i*(k*s-a*d),O}},42331:function(Y){Y.exports=function(O){var e=new Float32Array(16);return e[0]=O[0],e[1]=O[1],e[2]=O[2],e[3]=O[3],e[4]=O[4],e[5]=O[5],e[6]=O[6],e[7]=O[7],e[8]=O[8],e[9]=O[9],e[10]=O[10],e[11]=O[11],e[12]=O[12],e[13]=O[13],e[14]=O[14],e[15]=O[15],e}},31042:function(Y){Y.exports=function(O,e){return O[0]=e[0],O[1]=e[1],O[2]=e[2],O[3]=e[3],O[4]=e[4],O[5]=e[5],O[6]=e[6],O[7]=e[7],O[8]=e[8],O[9]=e[9],O[10]=e[10],O[11]=e[11],O[12]=e[12],O[13]=e[13],O[14]=e[14],O[15]=e[15],O}},11902:function(Y){Y.exports=function(){var O=new Float32Array(16);return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=1,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=1,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},89887:function(Y){Y.exports=function(O){var e=O[0],M=O[1],k=O[2],a=O[3],_=O[4],y=O[5],d=O[6],s=O[7],t=O[8],i=O[9],r=O[10],n=O[11],l=O[12],o=O[13],u=O[14],p=O[15];return(e*y-M*_)*(r*p-n*u)-(e*d-k*_)*(i*p-n*o)+(e*s-a*_)*(i*u-r*o)+(M*d-k*y)*(t*p-n*l)-(M*s-a*y)*(t*u-r*l)+(k*s-a*d)*(t*o-i*l)}},27812:function(Y){Y.exports=function(O,e){var M=e[0],k=e[1],a=e[2],_=e[3],y=M+M,d=k+k,s=a+a,t=M*y,i=k*y,r=k*d,n=a*y,l=a*d,o=a*s,u=_*y,p=_*d,c=_*s;return O[0]=1-r-o,O[1]=i+c,O[2]=n-p,O[3]=0,O[4]=i-c,O[5]=1-t-o,O[6]=l+u,O[7]=0,O[8]=n+p,O[9]=l-u,O[10]=1-t-r,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},34045:function(Y){Y.exports=function(O,e,M){var k,a,_,y=M[0],d=M[1],s=M[2],t=Math.sqrt(y*y+d*d+s*s);return Math.abs(t)<1e-6?null:(y*=t=1/t,d*=t,s*=t,k=Math.sin(e),_=1-(a=Math.cos(e)),O[0]=y*y*_+a,O[1]=d*y*_+s*k,O[2]=s*y*_-d*k,O[3]=0,O[4]=y*d*_-s*k,O[5]=d*d*_+a,O[6]=s*d*_+y*k,O[7]=0,O[8]=y*s*_+d*k,O[9]=d*s*_-y*k,O[10]=s*s*_+a,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O)}},45973:function(Y){Y.exports=function(O,e,M){var k=e[0],a=e[1],_=e[2],y=e[3],d=k+k,s=a+a,t=_+_,i=k*d,r=k*s,n=k*t,l=a*s,o=a*t,u=_*t,p=y*d,c=y*s,b=y*t;return O[0]=1-(l+u),O[1]=r+b,O[2]=n-c,O[3]=0,O[4]=r-b,O[5]=1-(i+u),O[6]=o+p,O[7]=0,O[8]=n+c,O[9]=o-p,O[10]=1-(i+l),O[11]=0,O[12]=M[0],O[13]=M[1],O[14]=M[2],O[15]=1,O}},81472:function(Y){Y.exports=function(O,e){return O[0]=e[0],O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=e[1],O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=e[2],O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},14669:function(Y){Y.exports=function(O,e){return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=1,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=1,O[11]=0,O[12]=e[0],O[13]=e[1],O[14]=e[2],O[15]=1,O}},75262:function(Y){Y.exports=function(O,e){var M=Math.sin(e),k=Math.cos(e);return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=k,O[6]=M,O[7]=0,O[8]=0,O[9]=-M,O[10]=k,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},331:function(Y){Y.exports=function(O,e){var M=Math.sin(e),k=Math.cos(e);return O[0]=k,O[1]=0,O[2]=-M,O[3]=0,O[4]=0,O[5]=1,O[6]=0,O[7]=0,O[8]=M,O[9]=0,O[10]=k,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},11049:function(Y){Y.exports=function(O,e){var M=Math.sin(e),k=Math.cos(e);return O[0]=k,O[1]=M,O[2]=0,O[3]=0,O[4]=-M,O[5]=k,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=1,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},75195:function(Y){Y.exports=function(O,e,M,k,a,_,y){var d=1/(M-e),s=1/(a-k),t=1/(_-y);return O[0]=2*_*d,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=2*_*s,O[6]=0,O[7]=0,O[8]=(M+e)*d,O[9]=(a+k)*s,O[10]=(y+_)*t,O[11]=-1,O[12]=0,O[13]=0,O[14]=y*_*2*t,O[15]=0,O}},71551:function(Y){Y.exports=function(O){return O[0]=1,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=1,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=1,O[11]=0,O[12]=0,O[13]=0,O[14]=0,O[15]=1,O}},79576:function(Y,O,e){Y.exports={create:e(11902),clone:e(42331),copy:e(31042),identity:e(71551),transpose:e(88654),invert:e(95874),adjoint:e(85400),determinant:e(89887),multiply:e(91362),translate:e(31283),scale:e(10789),rotate:e(65074),rotateX:e(35545),rotateY:e(94918),rotateZ:e(15692),fromRotation:e(34045),fromRotationTranslation:e(45973),fromScaling:e(81472),fromTranslation:e(14669),fromXRotation:e(75262),fromYRotation:e(331),fromZRotation:e(11049),fromQuat:e(27812),frustum:e(75195),perspective:e(7864),perspectiveFromFieldOfView:e(35279),ortho:e(60378),lookAt:e(65551),str:e(6726)}},95874:function(Y){Y.exports=function(O,e){var M=e[0],k=e[1],a=e[2],_=e[3],y=e[4],d=e[5],s=e[6],t=e[7],i=e[8],r=e[9],n=e[10],l=e[11],o=e[12],u=e[13],p=e[14],c=e[15],b=M*d-k*y,g=M*s-a*y,h=M*t-_*y,x=k*s-a*d,v=k*t-_*d,m=a*t-_*s,w=i*u-r*o,f=i*p-n*o,S=i*c-l*o,T=r*p-n*u,E=r*c-l*u,L=n*c-l*p,C=b*L-g*E+h*T+x*S-v*f+m*w;return C?(C=1/C,O[0]=(d*L-s*E+t*T)*C,O[1]=(a*E-k*L-_*T)*C,O[2]=(u*m-p*v+c*x)*C,O[3]=(n*v-r*m-l*x)*C,O[4]=(s*S-y*L-t*f)*C,O[5]=(M*L-a*S+_*f)*C,O[6]=(p*h-o*m-c*g)*C,O[7]=(i*m-n*h+l*g)*C,O[8]=(y*E-d*S+t*w)*C,O[9]=(k*S-M*E-_*w)*C,O[10]=(o*v-u*h+c*b)*C,O[11]=(r*h-i*v-l*b)*C,O[12]=(d*f-y*T-s*w)*C,O[13]=(M*T-k*f+a*w)*C,O[14]=(u*g-o*x-p*b)*C,O[15]=(i*x-r*g+n*b)*C,O):null}},65551:function(Y,O,e){var M=e(71551);Y.exports=function(k,a,_,y){var d,s,t,i,r,n,l,o,u,p,c=a[0],b=a[1],g=a[2],h=y[0],x=y[1],v=y[2],m=_[0],w=_[1],f=_[2];return Math.abs(c-m)<1e-6&&Math.abs(b-w)<1e-6&&Math.abs(g-f)<1e-6?M(k):(l=c-m,o=b-w,u=g-f,d=x*(u*=p=1/Math.sqrt(l*l+o*o+u*u))-v*(o*=p),s=v*(l*=p)-h*u,t=h*o-x*l,(p=Math.sqrt(d*d+s*s+t*t))?(d*=p=1/p,s*=p,t*=p):(d=0,s=0,t=0),i=o*t-u*s,r=u*d-l*t,n=l*s-o*d,(p=Math.sqrt(i*i+r*r+n*n))?(i*=p=1/p,r*=p,n*=p):(i=0,r=0,n=0),k[0]=d,k[1]=i,k[2]=l,k[3]=0,k[4]=s,k[5]=r,k[6]=o,k[7]=0,k[8]=t,k[9]=n,k[10]=u,k[11]=0,k[12]=-(d*c+s*b+t*g),k[13]=-(i*c+r*b+n*g),k[14]=-(l*c+o*b+u*g),k[15]=1,k)}},91362:function(Y){Y.exports=function(O,e,M){var k=e[0],a=e[1],_=e[2],y=e[3],d=e[4],s=e[5],t=e[6],i=e[7],r=e[8],n=e[9],l=e[10],o=e[11],u=e[12],p=e[13],c=e[14],b=e[15],g=M[0],h=M[1],x=M[2],v=M[3];return O[0]=g*k+h*d+x*r+v*u,O[1]=g*a+h*s+x*n+v*p,O[2]=g*_+h*t+x*l+v*c,O[3]=g*y+h*i+x*o+v*b,g=M[4],h=M[5],x=M[6],v=M[7],O[4]=g*k+h*d+x*r+v*u,O[5]=g*a+h*s+x*n+v*p,O[6]=g*_+h*t+x*l+v*c,O[7]=g*y+h*i+x*o+v*b,g=M[8],h=M[9],x=M[10],v=M[11],O[8]=g*k+h*d+x*r+v*u,O[9]=g*a+h*s+x*n+v*p,O[10]=g*_+h*t+x*l+v*c,O[11]=g*y+h*i+x*o+v*b,g=M[12],h=M[13],x=M[14],v=M[15],O[12]=g*k+h*d+x*r+v*u,O[13]=g*a+h*s+x*n+v*p,O[14]=g*_+h*t+x*l+v*c,O[15]=g*y+h*i+x*o+v*b,O}},60378:function(Y){Y.exports=function(O,e,M,k,a,_,y){var d=1/(e-M),s=1/(k-a),t=1/(_-y);return O[0]=-2*d,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=-2*s,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=2*t,O[11]=0,O[12]=(e+M)*d,O[13]=(a+k)*s,O[14]=(y+_)*t,O[15]=1,O}},7864:function(Y){Y.exports=function(O,e,M,k,a){var _=1/Math.tan(e/2),y=1/(k-a);return O[0]=_/M,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=_,O[6]=0,O[7]=0,O[8]=0,O[9]=0,O[10]=(a+k)*y,O[11]=-1,O[12]=0,O[13]=0,O[14]=2*a*k*y,O[15]=0,O}},35279:function(Y){Y.exports=function(O,e,M,k){var a=Math.tan(e.upDegrees*Math.PI/180),_=Math.tan(e.downDegrees*Math.PI/180),y=Math.tan(e.leftDegrees*Math.PI/180),d=Math.tan(e.rightDegrees*Math.PI/180),s=2/(y+d),t=2/(a+_);return O[0]=s,O[1]=0,O[2]=0,O[3]=0,O[4]=0,O[5]=t,O[6]=0,O[7]=0,O[8]=-(y-d)*s*.5,O[9]=(a-_)*t*.5,O[10]=k/(M-k),O[11]=-1,O[12]=0,O[13]=0,O[14]=k*M/(M-k),O[15]=0,O}},65074:function(Y){Y.exports=function(O,e,M,k){var a,_,y,d,s,t,i,r,n,l,o,u,p,c,b,g,h,x,v,m,w,f,S,T,E=k[0],L=k[1],C=k[2],P=Math.sqrt(E*E+L*L+C*C);return Math.abs(P)<1e-6?null:(E*=P=1/P,L*=P,C*=P,a=Math.sin(M),y=1-(_=Math.cos(M)),d=e[0],s=e[1],t=e[2],i=e[3],r=e[4],n=e[5],l=e[6],o=e[7],u=e[8],p=e[9],c=e[10],b=e[11],g=E*E*y+_,h=L*E*y+C*a,x=C*E*y-L*a,v=E*L*y-C*a,m=L*L*y+_,w=C*L*y+E*a,f=E*C*y+L*a,S=L*C*y-E*a,T=C*C*y+_,O[0]=d*g+r*h+u*x,O[1]=s*g+n*h+p*x,O[2]=t*g+l*h+c*x,O[3]=i*g+o*h+b*x,O[4]=d*v+r*m+u*w,O[5]=s*v+n*m+p*w,O[6]=t*v+l*m+c*w,O[7]=i*v+o*m+b*w,O[8]=d*f+r*S+u*T,O[9]=s*f+n*S+p*T,O[10]=t*f+l*S+c*T,O[11]=i*f+o*S+b*T,e!==O&&(O[12]=e[12],O[13]=e[13],O[14]=e[14],O[15]=e[15]),O)}},35545:function(Y){Y.exports=function(O,e,M){var k=Math.sin(M),a=Math.cos(M),_=e[4],y=e[5],d=e[6],s=e[7],t=e[8],i=e[9],r=e[10],n=e[11];return e!==O&&(O[0]=e[0],O[1]=e[1],O[2]=e[2],O[3]=e[3],O[12]=e[12],O[13]=e[13],O[14]=e[14],O[15]=e[15]),O[4]=_*a+t*k,O[5]=y*a+i*k,O[6]=d*a+r*k,O[7]=s*a+n*k,O[8]=t*a-_*k,O[9]=i*a-y*k,O[10]=r*a-d*k,O[11]=n*a-s*k,O}},94918:function(Y){Y.exports=function(O,e,M){var k=Math.sin(M),a=Math.cos(M),_=e[0],y=e[1],d=e[2],s=e[3],t=e[8],i=e[9],r=e[10],n=e[11];return e!==O&&(O[4]=e[4],O[5]=e[5],O[6]=e[6],O[7]=e[7],O[12]=e[12],O[13]=e[13],O[14]=e[14],O[15]=e[15]),O[0]=_*a-t*k,O[1]=y*a-i*k,O[2]=d*a-r*k,O[3]=s*a-n*k,O[8]=_*k+t*a,O[9]=y*k+i*a,O[10]=d*k+r*a,O[11]=s*k+n*a,O}},15692:function(Y){Y.exports=function(O,e,M){var k=Math.sin(M),a=Math.cos(M),_=e[0],y=e[1],d=e[2],s=e[3],t=e[4],i=e[5],r=e[6],n=e[7];return e!==O&&(O[8]=e[8],O[9]=e[9],O[10]=e[10],O[11]=e[11],O[12]=e[12],O[13]=e[13],O[14]=e[14],O[15]=e[15]),O[0]=_*a+t*k,O[1]=y*a+i*k,O[2]=d*a+r*k,O[3]=s*a+n*k,O[4]=t*a-_*k,O[5]=i*a-y*k,O[6]=r*a-d*k,O[7]=n*a-s*k,O}},10789:function(Y){Y.exports=function(O,e,M){var k=M[0],a=M[1],_=M[2];return O[0]=e[0]*k,O[1]=e[1]*k,O[2]=e[2]*k,O[3]=e[3]*k,O[4]=e[4]*a,O[5]=e[5]*a,O[6]=e[6]*a,O[7]=e[7]*a,O[8]=e[8]*_,O[9]=e[9]*_,O[10]=e[10]*_,O[11]=e[11]*_,O[12]=e[12],O[13]=e[13],O[14]=e[14],O[15]=e[15],O}},6726:function(Y){Y.exports=function(O){return"mat4("+O[0]+", "+O[1]+", "+O[2]+", "+O[3]+", "+O[4]+", "+O[5]+", "+O[6]+", "+O[7]+", "+O[8]+", "+O[9]+", "+O[10]+", "+O[11]+", "+O[12]+", "+O[13]+", "+O[14]+", "+O[15]+")"}},31283:function(Y){Y.exports=function(O,e,M){var k,a,_,y,d,s,t,i,r,n,l,o,u=M[0],p=M[1],c=M[2];return e===O?(O[12]=e[0]*u+e[4]*p+e[8]*c+e[12],O[13]=e[1]*u+e[5]*p+e[9]*c+e[13],O[14]=e[2]*u+e[6]*p+e[10]*c+e[14],O[15]=e[3]*u+e[7]*p+e[11]*c+e[15]):(k=e[0],a=e[1],_=e[2],y=e[3],d=e[4],s=e[5],t=e[6],i=e[7],r=e[8],n=e[9],l=e[10],o=e[11],O[0]=k,O[1]=a,O[2]=_,O[3]=y,O[4]=d,O[5]=s,O[6]=t,O[7]=i,O[8]=r,O[9]=n,O[10]=l,O[11]=o,O[12]=k*u+d*p+r*c+e[12],O[13]=a*u+s*p+n*c+e[13],O[14]=_*u+t*p+l*c+e[14],O[15]=y*u+i*p+o*c+e[15]),O}},88654:function(Y){Y.exports=function(O,e){if(O===e){var M=e[1],k=e[2],a=e[3],_=e[6],y=e[7],d=e[11];O[1]=e[4],O[2]=e[8],O[3]=e[12],O[4]=M,O[6]=e[9],O[7]=e[13],O[8]=k,O[9]=_,O[11]=e[14],O[12]=a,O[13]=y,O[14]=d}else O[0]=e[0],O[1]=e[4],O[2]=e[8],O[3]=e[12],O[4]=e[1],O[5]=e[5],O[6]=e[9],O[7]=e[13],O[8]=e[2],O[9]=e[6],O[10]=e[10],O[11]=e[14],O[12]=e[3],O[13]=e[7],O[14]=e[11],O[15]=e[15];return O}},42505:function(Y,O,e){var M=e(72791),k=e(71299),a=e(98580),_=e(12018),y=e(83522),d=e(25075),s=e(68016),t=e(58404),i=e(18863),r=e(10973),n=e(25677),l=e(75686),o=e(53545),u=e(56131),p=e(32879),c=e(30120),b=e(13547).nextPow2,g=new y,h=!1;if(document.body){var x=document.body.appendChild(document.createElement("div"));x.style.font="italic small-caps bold condensed 16px/2 cursive",getComputedStyle(x).fontStretch&&(h=!0),document.body.removeChild(x)}var v=function(m){(function(w){return typeof w=="function"&&w._gl&&w.prop&&w.texture&&w.buffer})(m)?(m={regl:m},this.gl=m.regl._gl):this.gl=_(m),this.shader=g.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=m.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:"uint8",usage:"stream"}),this.sizeBuffer=this.regl.buffer({type:"float",usage:"stream"}),this.shader||(this.shader=this.createShader(),g.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(r(m)?m:{})};v.prototype.createShader=function(){var m=this.regl,w=m({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},stencil:{enable:!1},depth:{enable:!1},count:m.prop("count"),offset:m.prop("offset"),attributes:{charOffset:{offset:4,stride:8,buffer:m.this("sizeBuffer")},width:{offset:0,stride:8,buffer:m.this("sizeBuffer")},char:m.this("charBuffer"),position:m.this("position")},uniforms:{atlasSize:function(f,S){return[S.atlas.width,S.atlas.height]},atlasDim:function(f,S){return[S.atlas.cols,S.atlas.rows]},atlas:function(f,S){return S.atlas.texture},charStep:function(f,S){return S.atlas.step},em:function(f,S){return S.atlas.em},color:m.prop("color"),opacity:m.prop("opacity"),viewport:m.this("viewportArray"),scale:m.this("scale"),align:m.prop("align"),baseline:m.prop("baseline"),translate:m.this("translate"),positionOffset:m.prop("positionOffset")},primitive:"points",viewport:m.this("viewport"),vert:`
			precision highp float;
			attribute float width, charOffset, char;
			attribute vec2 position;
			uniform float fontSize, charStep, em, align, baseline;
			uniform vec4 viewport;
			uniform vec4 color;
			uniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;
			varying vec2 charCoord, charId;
			varying float charWidth;
			varying vec4 fontColor;
			void main () {
				vec2 offset = floor(em * (vec2(align + charOffset, baseline)
					+ vec2(positionOffset.x, -positionOffset.y)))
					/ (viewport.zw * scale.xy);

				vec2 position = (position + translate) * scale;
				position += offset * scale;

				charCoord = position * viewport.zw + viewport.xy;

				gl_Position = vec4(position * 2. - 1., 0, 1);

				gl_PointSize = charStep;

				charId.x = mod(char, atlasDim.x);
				charId.y = floor(char / atlasDim.x);

				charWidth = width * em;

				fontColor = color / 255.;
			}`,frag:`
			precision highp float;
			uniform float fontSize, charStep, opacity;
			uniform vec2 atlasSize;
			uniform vec4 viewport;
			uniform sampler2D atlas;
			varying vec4 fontColor;
			varying vec2 charCoord, charId;
			varying float charWidth;

			float lightness(vec4 color) {
				return color.r * 0.299 + color.g * 0.587 + color.b * 0.114;
			}

			void main () {
				vec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;
				float halfCharStep = floor(charStep * .5 + .5);

				// invert y and shift by 1px (FF expecially needs that)
				uv.y = charStep - uv.y;

				// ignore points outside of character bounding box
				float halfCharWidth = ceil(charWidth * .5);
				if (floor(uv.x) > halfCharStep + halfCharWidth ||
					floor(uv.x) < halfCharStep - halfCharWidth) return;

				uv += charId * charStep;
				uv = uv / atlasSize;

				vec4 color = fontColor;
				vec4 mask = texture2D(atlas, uv);

				float maskY = lightness(mask);
				// float colorY = lightness(color);
				color.a *= maskY;
				color.a *= opacity;

				// color.a += .1;

				// antialiasing, see yiq color space y-channel formula
				// color.rgb += (1. - color.rgb) * (1. - mask.rgb);

				gl_FragColor = color;
			}`});return{regl:m,draw:w,atlas:{}}},v.prototype.update=function(m){var w=this;if(typeof m=="string")m={text:m};else if(!m)return;(m=k(m,{position:"position positions coord coords coordinates",font:"font fontFace fontface typeface cssFont css-font family fontFamily",fontSize:"fontSize fontsize size font-size",text:"text texts chars characters value values symbols",align:"align alignment textAlign textbaseline",baseline:"baseline textBaseline textbaseline",direction:"dir direction textDirection",color:"color colour fill fill-color fillColor textColor textcolor",kerning:"kerning kern",range:"range dataBox",viewport:"vp viewport viewBox viewbox viewPort",opacity:"opacity alpha transparency visible visibility opaque",offset:"offset positionOffset padding shift indent indentation"},!0)).opacity!=null&&(Array.isArray(m.opacity)?this.opacity=m.opacity.map(function(he){return parseFloat(he)}):this.opacity=parseFloat(m.opacity)),m.viewport!=null&&(this.viewport=i(m.viewport),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),this.viewport==null&&(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),m.kerning!=null&&(this.kerning=m.kerning),m.offset!=null&&(typeof m.offset=="number"&&(m.offset=[m.offset,0]),this.positionOffset=c(m.offset)),m.direction&&(this.direction=m.direction),m.range&&(this.range=m.range,this.scale=[1/(m.range[2]-m.range[0]),1/(m.range[3]-m.range[1])],this.translate=[-m.range[0],-m.range[1]]),m.scale&&(this.scale=m.scale),m.translate&&(this.translate=m.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||m.font||(m.font=v.baseFontSize+"px sans-serif");var f,S=!1,T=!1;if(m.font&&(Array.isArray(m.font)?m.font:[m.font]).forEach(function(he,Le){if(typeof he=="string")try{he=M.parse(he)}catch{he=M.parse(v.baseFontSize+"px "+he)}else he=M.parse(M.stringify(he));var Me=M.stringify({size:v.baseFontSize,family:he.family,stretch:h?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style}),_e=n(he.size),De=Math.round(_e[0]*l(_e[1]));if(De!==w.fontSize[Le]&&(T=!0,w.fontSize[Le]=De),!(w.font[Le]&&Me==w.font[Le].baseString||(S=!0,w.font[Le]=v.fonts[Me],w.font[Le]))){var Ne=he.family.join(", "),ce=[he.style];he.style!=he.variant&&ce.push(he.variant),he.variant!=he.weight&&ce.push(he.weight),h&&he.weight!=he.stretch&&ce.push(he.stretch),w.font[Le]={baseString:Me,family:Ne,weight:he.weight,stretch:he.stretch,style:he.style,variant:he.variant,width:{},kerning:{},metrics:p(Ne,{origin:"top",fontSize:v.baseFontSize,fontStyle:ce.join(" ")})},v.fonts[Me]=w.font[Le]}}),(S||T)&&this.font.forEach(function(he,Le){var Me=M.stringify({size:w.fontSize[Le],family:he.family,stretch:h?he.stretch:void 0,variant:he.variant,weight:he.weight,style:he.style});if(w.fontAtlas[Le]=w.shader.atlas[Me],!w.fontAtlas[Le]){var _e=he.metrics;w.shader.atlas[Me]=w.fontAtlas[Le]={fontString:Me,step:2*Math.ceil(w.fontSize[Le]*_e.bottom*.5),em:w.fontSize[Le],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:w.regl.texture()}}m.text==null&&(m.text=w.text)}),typeof m.text=="string"&&m.position&&m.position.length>2){for(var E=Array(.5*m.position.length),L=0;L<E.length;L++)E[L]=m.text;m.text=E}if(m.text!=null||S){if(this.textOffsets=[0],Array.isArray(m.text)){this.count=m.text[0].length,this.counts=[this.count];for(var C=1;C<m.text.length;C++)this.textOffsets[C]=this.textOffsets[C-1]+m.text[C-1].length,this.count+=m.text[C].length,this.counts.push(m.text[C].length);this.text=m.text.join("")}else this.text=m.text,this.count=this.text.length,this.counts=[this.count];f=[],this.font.forEach(function(he,Le){v.atlasContext.font=he.baseString;for(var Me=w.fontAtlas[Le],_e=0;_e<w.text.length;_e++){var De=w.text.charAt(_e);if(Me.ids[De]==null&&(Me.ids[De]=Me.chars.length,Me.chars.push(De),f.push(De)),he.width[De]==null&&(he.width[De]=v.atlasContext.measureText(De).width/v.baseFontSize,w.kerning)){var Ne=[];for(var ce in he.width)Ne.push(ce+De,De+ce);u(he.kerning,o(he.family,{pairs:Ne}))}}})}if(m.position)if(m.position.length>2){for(var P=!m.position[0].length,R=t.mallocFloat(2*this.count),G=0,I=0;G<this.counts.length;G++){var H=this.counts[G];if(P)for(var N=0;N<H;N++)R[I++]=m.position[2*G],R[I++]=m.position[2*G+1];else for(var B=0;B<H;B++)R[I++]=m.position[G][0],R[I++]=m.position[G][1]}this.position.call?this.position({type:"float",data:R}):this.position=this.regl.buffer({type:"float",data:R}),t.freeFloat(R)}else this.position.destroy&&this.position.destroy(),this.position={constant:m.position};if(m.text||S){var V=t.mallocUint8(this.count),q=t.mallocFloat(2*this.count);this.textWidth=[];for(var te=0,$=0;te<this.counts.length;te++){for(var K=this.counts[te],Z=this.font[te]||this.font[0],X=this.fontAtlas[te]||this.fontAtlas[0],ee=0;ee<K;ee++){var ne=this.text.charAt($),re=this.text.charAt($-1);if(V[$]=X.ids[ne],q[2*$]=Z.width[ne],ee){var ae=q[2*$-2],ue=q[2*$],pe=q[2*$-1]+.5*ae+.5*ue;if(this.kerning){var ge=Z.kerning[re+ne];ge&&(pe+=.001*ge)}q[2*$+1]=pe}else q[2*$+1]=.5*q[2*$];$++}this.textWidth.push(q.length?.5*q[2*$-2]+q[2*$-1]:0)}m.align||(m.align=this.align),this.charBuffer({data:V,type:"uint8",usage:"stream"}),this.sizeBuffer({data:q,type:"float",usage:"stream"}),t.freeUint8(V),t.freeFloat(q),f.length&&this.font.forEach(function(he,Le){var Me=w.fontAtlas[Le],_e=Me.step,De=Math.floor(v.maxAtlasSize/_e),Ne=Math.min(De,Me.chars.length),ce=Math.ceil(Me.chars.length/Ne),Te=b(Ne*_e),ye=b(ce*_e);Me.width=Te,Me.height=ye,Me.rows=ce,Me.cols=Ne,Me.em&&Me.texture({data:s({canvas:v.atlasCanvas,font:Me.fontString,chars:Me.chars,shape:[Te,ye],step:[_e,_e]})})})}if(m.align&&(this.align=m.align,this.alignOffset=this.textWidth.map(function(he,Le){var Me=Array.isArray(w.align)?w.align.length>1?w.align[Le]:w.align[0]:w.align;if(typeof Me=="number")return Me;switch(Me){case"right":case"end":return-he;case"center":case"centre":case"middle":return .5*-he}return 0})),this.baseline==null&&m.baseline==null&&(m.baseline=0),m.baseline!=null&&(this.baseline=m.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map(function(he,Le){var Me=(w.font[Le]||w.font[0]).metrics,_e=0;return _e+=.5*Me.bottom,-1*(_e+=typeof he=="number"?he-Me.baseline:-Me[he])})),m.color!=null)if(m.color||(m.color="transparent"),typeof m.color!="string"&&isNaN(m.color)){var we;if(typeof m.color[0]=="number"&&m.color.length>this.counts.length){var me=m.color.length;we=t.mallocUint8(me);for(var ve=(m.color.subarray||m.color.slice).bind(m.color),Ie=0;Ie<me;Ie+=4)we.set(d(ve(Ie,Ie+4),"uint8"),Ie)}else{var Se=m.color.length;we=t.mallocUint8(4*Se);for(var ke=0;ke<Se;ke++)we.set(d(m.color[ke]||0,"uint8"),4*ke)}this.color=we}else this.color=d(m.color,"uint8");if(m.position||m.text||m.color||m.baseline||m.align||m.font||m.offset||m.opacity)if(this.color.length>4||this.baselineOffset.length>1||this.align&&this.align.length>1||this.fontAtlas.length>1||this.positionOffset.length>2){var se=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(se);for(var oe=0;oe<this.batch.length;oe++)this.batch[oe]={count:this.counts.length>1?this.counts[oe]:this.counts[0],offset:this.textOffsets.length>1?this.textOffsets[oe]:this.textOffsets[0],color:this.color?this.color.length<=4?this.color:this.color.subarray(4*oe,4*oe+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[oe]:this.opacity,baseline:this.baselineOffset[oe]!=null?this.baselineOffset[oe]:this.baselineOffset[0],align:this.align?this.alignOffset[oe]!=null?this.alignOffset[oe]:this.alignOffset[0]:0,atlas:this.fontAtlas[oe]||this.fontAtlas[0],positionOffset:this.positionOffset.length>2?this.positionOffset.subarray(2*oe,2*oe+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},v.prototype.destroy=function(){},v.prototype.kerning=!0,v.prototype.position={constant:new Float32Array(2)},v.prototype.translate=null,v.prototype.scale=null,v.prototype.font=null,v.prototype.text="",v.prototype.positionOffset=[0,0],v.prototype.opacity=1,v.prototype.color=new Uint8Array([0,0,0,255]),v.prototype.alignOffset=[0,0],v.maxAtlasSize=1024,v.atlasCanvas=document.createElement("canvas"),v.atlasContext=v.atlasCanvas.getContext("2d",{alpha:!1}),v.baseFontSize=64,v.fonts={},Y.exports=v},12018:function(Y,O,e){var M=e(71299);function k(y){if(y.container)if(y.container==document.body)document.body.style.width||(y.canvas.width=y.width||y.pixelRatio*e.g.innerWidth),document.body.style.height||(y.canvas.height=y.height||y.pixelRatio*e.g.innerHeight);else{var d=y.container.getBoundingClientRect();y.canvas.width=y.width||d.right-d.left,y.canvas.height=y.height||d.bottom-d.top}}function a(y){return typeof y.getContext=="function"&&"width"in y&&"height"in y}function _(){var y=document.createElement("canvas");return y.style.position="absolute",y.style.top=0,y.style.left=0,y}Y.exports=function(y){var d;if(y?typeof y=="string"&&(y={container:y}):y={},(y=a(y)||typeof(d=y).nodeName=="string"&&typeof d.appendChild=="function"&&typeof d.getBoundingClientRect=="function"?{container:y}:function(t){return typeof t.drawArrays=="function"||typeof t.drawElements=="function"}(y)?{gl:y}:M(y,{container:"container target element el canvas holder parent parentNode wrapper use ref root node",gl:"gl context webgl glContext",attrs:"attributes attrs contextAttributes",pixelRatio:"pixelRatio pxRatio px ratio pxratio pixelratio",width:"w width",height:"h height"},!0)).pixelRatio||(y.pixelRatio=e.g.pixelRatio||1),y.gl)return y.gl;if(y.canvas&&(y.container=y.canvas.parentNode),y.container){if(typeof y.container=="string"){var s=document.querySelector(y.container);if(!s)throw Error("Element "+y.container+" is not found");y.container=s}a(y.container)?(y.canvas=y.container,y.container=y.canvas.parentNode):y.canvas||(y.canvas=_(),y.container.appendChild(y.canvas),k(y))}else if(!y.canvas){if(typeof document>"u")throw Error("Not DOM environment. Use headless-gl.");y.container=document.body||document.documentElement,y.canvas=_(),y.container.appendChild(y.canvas),k(y)}return y.gl||["webgl","experimental-webgl","webgl-experimental"].some(function(t){try{y.gl=y.canvas.getContext(t,y.attrs)}catch{}return y.gl}),y.gl}},56068:function(Y){Y.exports=function(O){typeof O=="string"&&(O=[O]);for(var e=[].slice.call(arguments,1),M=[],k=0;k<O.length-1;k++)M.push(O[k],e[k]||"");return M.push(O[k]),M.join("")}},40383:function(Y,O,e){var M=e(68318)("%Object.getOwnPropertyDescriptor%",!0);if(M)try{M([],"length")}catch{M=null}Y.exports=M},57035:function(Y,O,e){var M,k=e(54404);M=typeof e.g.matchMedia=="function"?!e.g.matchMedia("(hover: none)").matches:k,Y.exports=M},38520:function(Y,O,e){var M=e(54404);Y.exports=M&&function(){var k=!1;try{var a=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,a),window.removeEventListener("test",null,a)}catch{k=!1}return k}()},55622:function(Y,O,e){var M=e(68318)("%Object.defineProperty%",!0),k=function(){if(M)try{return M({},"a",{value:1}),!0}catch{return!1}return!1};k.hasArrayLengthDefineBug=function(){if(!k())return null;try{return M([],"length",{value:1}).length!==1}catch{return!0}},Y.exports=k},57877:function(Y,O,e){var M=typeof Symbol<"u"&&Symbol,k=e(35638);Y.exports=function(){return typeof M=="function"&&typeof Symbol=="function"&&typeof M("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&k()}},35638:function(Y){Y.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var O={},e=Symbol("test"),M=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(M)!=="[object Symbol]")return!1;for(e in O[e]=42,O)return!1;if(typeof Object.keys=="function"&&Object.keys(O).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(O).length!==0)return!1;var k=Object.getOwnPropertySymbols(O);if(k.length!==1||k[0]!==e||!Object.prototype.propertyIsEnumerable.call(O,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(O,e);if(a.value!==42||a.enumerable!==!0)return!1}return!0}},84543:function(Y,O,e){var M=e(35638);Y.exports=function(){return M()&&!!Symbol.toStringTag}},35065:function(Y,O,e){var M=e(77575);Y.exports=M.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(Y,O){O.read=function(e,M,k,a,_){var y,d,s=8*_-a-1,t=(1<<s)-1,i=t>>1,r=-7,n=k?_-1:0,l=k?-1:1,o=e[M+n];for(n+=l,y=o&(1<<-r)-1,o>>=-r,r+=s;r>0;y=256*y+e[M+n],n+=l,r-=8);for(d=y&(1<<-r)-1,y>>=-r,r+=a;r>0;d=256*d+e[M+n],n+=l,r-=8);if(y===0)y=1-i;else{if(y===t)return d?NaN:1/0*(o?-1:1);d+=Math.pow(2,a),y-=i}return(o?-1:1)*d*Math.pow(2,y-a)},O.write=function(e,M,k,a,_,y){var d,s,t,i=8*y-_-1,r=(1<<i)-1,n=r>>1,l=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,o=a?0:y-1,u=a?1:-1,p=M<0||M===0&&1/M<0?1:0;for(M=Math.abs(M),isNaN(M)||M===1/0?(s=isNaN(M)?1:0,d=r):(d=Math.floor(Math.log(M)/Math.LN2),M*(t=Math.pow(2,-d))<1&&(d--,t*=2),(M+=d+n>=1?l/t:l*Math.pow(2,1-n))*t>=2&&(d++,t/=2),d+n>=r?(s=0,d=r):d+n>=1?(s=(M*t-1)*Math.pow(2,_),d+=n):(s=M*Math.pow(2,n-1)*Math.pow(2,_),d=0));_>=8;e[k+o]=255&s,o+=u,s/=256,_-=8);for(d=d<<_|s,i+=_;i>0;e[k+o]=255&d,o+=u,d/=256,i-=8);e[k+o-u]|=128*p}},42018:function(Y){typeof Object.create=="function"?Y.exports=function(O,e){e&&(O.super_=e,O.prototype=Object.create(e.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}))}:Y.exports=function(O,e){if(e){O.super_=e;var M=function(){};M.prototype=e.prototype,O.prototype=new M,O.prototype.constructor=O}}},47216:function(Y,O,e){var M=e(84543)(),k=e(6614)("Object.prototype.toString"),a=function(d){return!(M&&d&&typeof d=="object"&&Symbol.toStringTag in d)&&k(d)==="[object Arguments]"},_=function(d){return!!a(d)||d!==null&&typeof d=="object"&&typeof d.length=="number"&&d.length>=0&&k(d)!=="[object Array]"&&k(d.callee)==="[object Function]"},y=function(){return a(arguments)}();a.isLegacyArguments=_,Y.exports=y?a:_},54404:function(Y){Y.exports=!0},85395:function(Y){var O,e,M=Function.prototype.toString,k=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof k=="function"&&typeof Object.defineProperty=="function")try{O=Object.defineProperty({},"length",{get:function(){throw e}}),e={},k(function(){throw 42},null,O)}catch(n){n!==e&&(k=null)}else k=null;var a=/^\s*class\b/,_=function(n){try{var l=M.call(n);return a.test(l)}catch{return!1}},y=function(n){try{return!_(n)&&(M.call(n),!0)}catch{return!1}},d=Object.prototype.toString,s=typeof Symbol=="function"&&!!Symbol.toStringTag,t=!(0 in[,]),i=function(){return!1};if(typeof document=="object"){var r=document.all;d.call(r)===d.call(document.all)&&(i=function(n){if((t||!n)&&(n===void 0||typeof n=="object"))try{var l=d.call(n);return(l==="[object HTMLAllCollection]"||l==="[object HTML document.all class]"||l==="[object HTMLCollection]"||l==="[object Object]")&&n("")==null}catch{}return!1})}Y.exports=k?function(n){if(i(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;try{k(n,null,O)}catch(l){if(l!==e)return!1}return!_(n)&&y(n)}:function(n){if(i(n))return!0;if(!n||typeof n!="function"&&typeof n!="object")return!1;if(s)return y(n);if(_(n))return!1;var l=d.call(n);return!(l!=="[object Function]"&&l!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(l))&&y(n)}},65481:function(Y,O,e){var M,k=Object.prototype.toString,a=Function.prototype.toString,_=/^\s*(?:function)?\*/,y=e(84543)(),d=Object.getPrototypeOf;Y.exports=function(s){if(typeof s!="function")return!1;if(_.test(a.call(s)))return!0;if(!y)return k.call(s)==="[object GeneratorFunction]";if(!d)return!1;if(M===void 0){var t=function(){if(!y)return!1;try{return Function("return function*() {}")()}catch{}}();M=!!t&&d(t)}return d(s)===M}},62683:function(Y){Y.exports=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion))},64274:function(Y){Y.exports=function(O){return O!=O}},15567:function(Y,O,e){var M=e(68222),k=e(17045),a=e(64274),_=e(14922),y=e(22442),d=M(_(),Number);k(d,{getPolyfill:_,implementation:a,shim:y}),Y.exports=d},14922:function(Y,O,e){var M=e(64274);Y.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:M}},22442:function(Y,O,e){var M=e(17045),k=e(14922);Y.exports=function(){var a=k();return M(Number,{isNaN:a},{isNaN:function(){return Number.isNaN!==a}}),a}},64941:function(Y){Y.exports=function(O){var e=typeof O;return O!==null&&(e==="object"||e==="function")}},10973:function(Y){var O=Object.prototype.toString;Y.exports=function(e){var M;return O.call(e)==="[object Object]"&&((M=Object.getPrototypeOf(e))===null||M===Object.getPrototypeOf({}))}},18546:function(Y){Y.exports=function(O){for(var e,M=O.length,k=0;k<M;k++)if(((e=O.charCodeAt(k))<9||e>13)&&e!==32&&e!==133&&e!==160&&e!==5760&&e!==6158&&(e<8192||e>8205)&&e!==8232&&e!==8233&&e!==8239&&e!==8287&&e!==8288&&e!==12288&&e!==65279)return!1;return!0}},89546:function(Y){Y.exports=function(O){return typeof O=="string"&&(O=O.trim(),!!(/^[mzlhvcsqta]\s*[-+.0-9][^mlhvzcsqta]+/i.test(O)&&/[\dz]$/i.test(O)&&O.length>4))}},9187:function(Y,O,e){var M=e(31353),k=e(72077),a=e(6614),_=a("Object.prototype.toString"),y=e(84543)(),d=e(40383),s=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("Array.prototype.indexOf",!0)||function(o,u){for(var p=0;p<o.length;p+=1)if(o[p]===u)return p;return-1},r=a("String.prototype.slice"),n={},l=Object.getPrototypeOf;y&&d&&l&&M(t,function(o){var u=new s[o];if(Symbol.toStringTag in u){var p=l(u),c=d(p,Symbol.toStringTag);if(!c){var b=l(p);c=d(b,Symbol.toStringTag)}n[o]=c.get}}),Y.exports=function(o){if(!o||typeof o!="object")return!1;if(!y||!(Symbol.toStringTag in o)){var u=r(_(o),8,-1);return i(t,u)>-1}return!!d&&function(p){var c=!1;return M(n,function(b,g){if(!c)try{c=b.call(p)===g}catch{}}),c}(o)}},44517:function(Y){Y.exports=function(){var O,e,M;function k(a,_){if(O)if(e){var y="var sharedChunk = {}; ("+O+")(sharedChunk); ("+e+")(sharedChunk);",d={};O(d),(M=_(d)).workerUrl=window.URL.createObjectURL(new Blob([y],{type:"text/javascript"}))}else e=_;else O=_}return k(0,function(a){function _(A,D){return A(D={exports:{}},D.exports),D.exports}var y="1.10.1",d=s;function s(A,D,W,le){this.cx=3*A,this.bx=3*(W-A)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*D,this.by=3*(le-D)-this.cy,this.ay=1-this.cy-this.by,this.p1x=A,this.p1y=le,this.p2x=W,this.p2y=le}s.prototype.sampleCurveX=function(A){return((this.ax*A+this.bx)*A+this.cx)*A},s.prototype.sampleCurveY=function(A){return((this.ay*A+this.by)*A+this.cy)*A},s.prototype.sampleCurveDerivativeX=function(A){return(3*this.ax*A+2*this.bx)*A+this.cx},s.prototype.solveCurveX=function(A,D){var W,le,Ee,Pe,Ve;for(D===void 0&&(D=1e-6),Ee=A,Ve=0;Ve<8;Ve++){if(Pe=this.sampleCurveX(Ee)-A,Math.abs(Pe)<D)return Ee;var tt=this.sampleCurveDerivativeX(Ee);if(Math.abs(tt)<1e-6)break;Ee-=Pe/tt}if((Ee=A)<(W=0))return W;if(Ee>(le=1))return le;for(;W<le;){if(Pe=this.sampleCurveX(Ee),Math.abs(Pe-A)<D)return Ee;A>Pe?W=Ee:le=Ee,Ee=.5*(le-W)+W}return Ee},s.prototype.solve=function(A,D){return this.sampleCurveY(this.solveCurveX(A,D))};var t=i;function i(A,D){this.x=A,this.y=D}function r(A,D,W,le){var Ee=new d(A,D,W,le);return function(Pe){return Ee.solve(Pe)}}i.prototype={clone:function(){return new i(this.x,this.y)},add:function(A){return this.clone()._add(A)},sub:function(A){return this.clone()._sub(A)},multByPoint:function(A){return this.clone()._multByPoint(A)},divByPoint:function(A){return this.clone()._divByPoint(A)},mult:function(A){return this.clone()._mult(A)},div:function(A){return this.clone()._div(A)},rotate:function(A){return this.clone()._rotate(A)},rotateAround:function(A,D){return this.clone()._rotateAround(A,D)},matMult:function(A){return this.clone()._matMult(A)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(A){return this.x===A.x&&this.y===A.y},dist:function(A){return Math.sqrt(this.distSqr(A))},distSqr:function(A){var D=A.x-this.x,W=A.y-this.y;return D*D+W*W},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(A){return Math.atan2(this.y-A.y,this.x-A.x)},angleWith:function(A){return this.angleWithSep(A.x,A.y)},angleWithSep:function(A,D){return Math.atan2(this.x*D-this.y*A,this.x*A+this.y*D)},_matMult:function(A){var D=A[0]*this.x+A[1]*this.y,W=A[2]*this.x+A[3]*this.y;return this.x=D,this.y=W,this},_add:function(A){return this.x+=A.x,this.y+=A.y,this},_sub:function(A){return this.x-=A.x,this.y-=A.y,this},_mult:function(A){return this.x*=A,this.y*=A,this},_div:function(A){return this.x/=A,this.y/=A,this},_multByPoint:function(A){return this.x*=A.x,this.y*=A.y,this},_divByPoint:function(A){return this.x/=A.x,this.y/=A.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var A=this.y;return this.y=this.x,this.x=-A,this},_rotate:function(A){var D=Math.cos(A),W=Math.sin(A),le=D*this.x-W*this.y,Ee=W*this.x+D*this.y;return this.x=le,this.y=Ee,this},_rotateAround:function(A,D){var W=Math.cos(A),le=Math.sin(A),Ee=D.x+W*(this.x-D.x)-le*(this.y-D.y),Pe=D.y+le*(this.x-D.x)+W*(this.y-D.y);return this.x=Ee,this.y=Pe,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(A){return A instanceof i?A:Array.isArray(A)?new i(A[0],A[1]):A};var n=r(.25,.1,.25,1);function l(A,D,W){return Math.min(W,Math.max(D,A))}function o(A,D,W){var le=W-D,Ee=((A-D)%le+le)%le+D;return Ee===D?W:Ee}function u(A){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var le=0,Ee=D;le<Ee.length;le+=1){var Pe=Ee[le];for(var Ve in Pe)A[Ve]=Pe[Ve]}return A}var p=1;function c(){return p++}function b(){return function A(D){return D?(D^16*Math.random()>>D/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,A)}()}function g(A){return!!A&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(A)}function h(A,D){A.forEach(function(W){D[W]&&(D[W]=D[W].bind(D))})}function x(A,D){return A.indexOf(D,A.length-D.length)!==-1}function v(A,D,W){var le={};for(var Ee in A)le[Ee]=D.call(W||this,A[Ee],Ee,A);return le}function m(A,D,W){var le={};for(var Ee in A)D.call(W||this,A[Ee],Ee,A)&&(le[Ee]=A[Ee]);return le}function w(A){return Array.isArray(A)?A.map(w):typeof A=="object"&&A?v(A,w):A}var f={};function S(A){f[A]||(typeof console<"u"&&console.warn(A),f[A]=!0)}function T(A,D,W){return(W.y-A.y)*(D.x-A.x)>(D.y-A.y)*(W.x-A.x)}function E(A){for(var D=0,W=0,le=A.length,Ee=le-1,Pe=void 0,Ve=void 0;W<le;Ee=W++)Pe=A[W],D+=((Ve=A[Ee]).x-Pe.x)*(Pe.y+Ve.y);return D}function L(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function C(A){var D={};if(A.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(le,Ee,Pe,Ve){var tt=Pe||Ve;return D[Ee]=!tt||tt.toLowerCase(),""}),D["max-age"]){var W=parseInt(D["max-age"],10);isNaN(W)?delete D["max-age"]:D["max-age"]=W}return D}var P=null;function R(A){if(P==null){var D=A.navigator?A.navigator.userAgent:null;P=!!A.safari||!(!D||!(/\b(iPad|iPhone|iPod)\b/.test(D)||D.match("Safari")&&!D.match("Chrome")))}return P}function G(A){try{var D=self[A];return D.setItem("_mapbox_test_",1),D.removeItem("_mapbox_test_"),!0}catch{return!1}}var I,H,N,B,V=self.performance&&self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),q=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,te=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,$={now:V,frame:function(A){var D=q(A);return{cancel:function(){return te(D)}}},getImageData:function(A,D){D===void 0&&(D=0);var W=self.document.createElement("canvas"),le=W.getContext("2d");if(!le)throw new Error("failed to create canvas 2d context");return W.width=A.width,W.height=A.height,le.drawImage(A,0,0,A.width,A.height),le.getImageData(-D,-D,A.width+2*D,A.height+2*D)},resolveURL:function(A){return I||(I=self.document.createElement("a")),I.href=A,I.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&&(H==null&&(H=self.matchMedia("(prefers-reduced-motion: reduce)")),H.matches)}},K={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Z={supported:!1,testSupport:function(A){!X&&B&&(ee?ne(A):N=A)}},X=!1,ee=!1;function ne(A){var D=A.createTexture();A.bindTexture(A.TEXTURE_2D,D);try{if(A.texImage2D(A.TEXTURE_2D,0,A.RGBA,A.RGBA,A.UNSIGNED_BYTE,B),A.isContextLost())return;Z.supported=!0}catch{}A.deleteTexture(D),X=!0}self.document&&((B=self.document.createElement("img")).onload=function(){N&&ne(N),N=null,ee=!0},B.onerror=function(){X=!0,N=null},B.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var re="01",ae=function(A,D){this._transformRequestFn=A,this._customAccessToken=D,this._createSkuToken()};function ue(A){return A.indexOf("mapbox:")===0}ae.prototype._createSkuToken=function(){var A=function(){for(var D="",W=0;W<10;W++)D+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",re,D].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=A.token,this._skuTokenExpiresAt=A.tokenExpiresAt},ae.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},ae.prototype.transformRequest=function(A,D){return this._transformRequestFn&&this._transformRequestFn(A,D)||{url:A}},ae.prototype.normalizeStyleURL=function(A,D){if(!ue(A))return A;var W=me(A);return W.path="/styles/v1"+W.path,this._makeAPIURL(W,this._customAccessToken||D)},ae.prototype.normalizeGlyphsURL=function(A,D){if(!ue(A))return A;var W=me(A);return W.path="/fonts/v1"+W.path,this._makeAPIURL(W,this._customAccessToken||D)},ae.prototype.normalizeSourceURL=function(A,D){if(!ue(A))return A;var W=me(A);return W.path="/v4/"+W.authority+".json",W.params.push("secure"),this._makeAPIURL(W,this._customAccessToken||D)},ae.prototype.normalizeSpriteURL=function(A,D,W,le){var Ee=me(A);return ue(A)?(Ee.path="/styles/v1"+Ee.path+"/sprite"+D+W,this._makeAPIURL(Ee,this._customAccessToken||le)):(Ee.path+=""+D+W,ve(Ee))},ae.prototype.normalizeTileURL=function(A,D){if(this._isSkuTokenExpired()&&this._createSkuToken(),A&&!ue(A))return A;var W=me(A),le=$.devicePixelRatio>=2||D===512?"@2x":"",Ee=Z.supported?".webp":"$1";W.path=W.path.replace(/(\.(png|jpg)\d*)(?=$)/,""+le+Ee),W.path=W.path.replace(/^.+\/v4\//,"/"),W.path="/v4"+W.path;var Pe=this._customAccessToken||function(Ve){for(var tt=0,ht=Ve;tt<ht.length;tt+=1){var Tt=ht[tt].match(/^access_token=(.*)$/);if(Tt)return Tt[1]}return null}(W.params)||K.ACCESS_TOKEN;return K.REQUIRE_ACCESS_TOKEN&&Pe&&this._skuToken&&W.params.push("sku="+this._skuToken),this._makeAPIURL(W,Pe)},ae.prototype.canonicalizeTileURL=function(A,D){var W=me(A);if(!W.path.match(/(^\/v4\/)/)||!W.path.match(/\.[\w]+$/))return A;var le="mapbox://tiles/";le+=W.path.replace("/v4/","");var Ee=W.params;return D&&(Ee=Ee.filter(function(Pe){return!Pe.match(/^access_token=/)})),Ee.length&&(le+="?"+Ee.join("&")),le},ae.prototype.canonicalizeTileset=function(A,D){for(var W=!!D&&ue(D),le=[],Ee=0,Pe=A.tiles||[];Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];ge(Ve)?le.push(this.canonicalizeTileURL(Ve,W)):le.push(Ve)}return le},ae.prototype._makeAPIURL=function(A,D){var W="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",le=me(K.API_URL);if(A.protocol=le.protocol,A.authority=le.authority,le.path!=="/"&&(A.path=""+le.path+A.path),!K.REQUIRE_ACCESS_TOKEN)return ve(A);if(!(D=D||K.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+W);if(D[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+W);return A.params=A.params.filter(function(Ee){return Ee.indexOf("access_token")===-1}),A.params.push("access_token="+D),ve(A)};var pe=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function ge(A){return pe.test(A)}var we=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function me(A){var D=A.match(we);if(!D)throw new Error("Unable to parse URL object");return{protocol:D[1],authority:D[2],path:D[3]||"/",params:D[4]?D[4].split("&"):[]}}function ve(A){var D=A.params.length?"?"+A.params.join("&"):"";return A.protocol+"://"+A.authority+A.path+D}var Ie="mapbox.eventData";function Se(A){if(!A)return null;var D,W=A.split(".");if(!W||W.length!==3)return null;try{return JSON.parse((D=W[1],decodeURIComponent(self.atob(D).split("").map(function(le){return"%"+("00"+le.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch{return null}}var ke=function(A){this.type=A,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ke.prototype.getStorageKey=function(A){var D,W,le=Se(K.ACCESS_TOKEN);return D=le&&le.u?(W=le.u,self.btoa(encodeURIComponent(W).replace(/%([0-9A-F]{2})/g,function(Ee,Pe){return String.fromCharCode(+("0x"+Pe))}))):K.ACCESS_TOKEN||"",A?Ie+"."+A+":"+D:Ie+":"+D},ke.prototype.fetchEventData=function(){var A=G("localStorage"),D=this.getStorageKey(),W=this.getStorageKey("uuid");if(A)try{var le=self.localStorage.getItem(D);le&&(this.eventData=JSON.parse(le));var Ee=self.localStorage.getItem(W);Ee&&(this.anonId=Ee)}catch{S("Unable to read from LocalStorage")}},ke.prototype.saveEventData=function(){var A=G("localStorage"),D=this.getStorageKey(),W=this.getStorageKey("uuid");if(A)try{self.localStorage.setItem(W,this.anonId),Object.keys(this.eventData).length>=1&&self.localStorage.setItem(D,JSON.stringify(this.eventData))}catch{S("Unable to write to LocalStorage")}},ke.prototype.processRequests=function(A){},ke.prototype.postEvent=function(A,D,W,le){var Ee=this;if(K.EVENTS_URL){var Pe=me(K.EVENTS_URL);Pe.params.push("access_token="+(le||K.ACCESS_TOKEN||""));var Ve={event:this.type,created:new Date(A).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:y,skuId:re,userId:this.anonId},tt=D?u(Ve,D):Ve,ht={url:ve(Pe),headers:{"Content-Type":"text/plain"},body:JSON.stringify([tt])};this.pendingRequest=Ot(ht,function(Tt){Ee.pendingRequest=null,W(Tt),Ee.saveEventData(),Ee.processRequests(le)})}},ke.prototype.queueRequest=function(A,D){this.queue.push(A),this.processRequests(D)};var se,oe,he=function(A){function D(){A.call(this,"map.load"),this.success={},this.skuToken=""}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.postMapLoadEvent=function(W,le,Ee,Pe){this.skuToken=Ee,(K.EVENTS_URL&&Pe||K.ACCESS_TOKEN&&Array.isArray(W)&&W.some(function(Ve){return ue(Ve)||ge(Ve)}))&&this.queueRequest({id:le,timestamp:Date.now()},Pe)},D.prototype.processRequests=function(W){var le=this;if(!this.pendingRequest&&this.queue.length!==0){var Ee=this.queue.shift(),Pe=Ee.id,Ve=Ee.timestamp;Pe&&this.success[Pe]||(this.anonId||this.fetchEventData(),g(this.anonId)||(this.anonId=b()),this.postEvent(Ve,{skuToken:this.skuToken},function(tt){tt||Pe&&(le.success[Pe]=!0)},W))}},D}(ke),Le=function(A){function D(W){A.call(this,"appUserTurnstile"),this._customAccessToken=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.postTurnstileEvent=function(W,le){K.EVENTS_URL&&K.ACCESS_TOKEN&&Array.isArray(W)&&W.some(function(Ee){return ue(Ee)||ge(Ee)})&&this.queueRequest(Date.now(),le)},D.prototype.processRequests=function(W){var le=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var Ee=Se(K.ACCESS_TOKEN),Pe=Ee?Ee.u:K.ACCESS_TOKEN,Ve=Pe!==this.eventData.tokenU;g(this.anonId)||(this.anonId=b(),Ve=!0);var tt=this.queue.shift();if(this.eventData.lastSuccess){var ht=new Date(this.eventData.lastSuccess),Tt=new Date(tt),At=(tt-this.eventData.lastSuccess)/864e5;Ve=Ve||At>=1||At<-1||ht.getDate()!==Tt.getDate()}else Ve=!0;if(!Ve)return this.processRequests();this.postEvent(tt,{"enabled.telemetry":!1},function(Ft){Ft||(le.eventData.lastSuccess=tt,le.eventData.tokenU=Pe)},W)}},D}(ke),Me=new Le,_e=Me.postTurnstileEvent.bind(Me),De=new he,Ne=De.postMapLoadEvent.bind(De),ce="mapbox-tiles",Te=500,ye=50,Oe=42e4;function Be(){self.caches&&!se&&(se=self.caches.open(ce))}function Fe(A,D,W){if(Be(),se){var le={status:D.status,statusText:D.statusText,headers:new self.Headers};D.headers.forEach(function(Pe,Ve){return le.headers.set(Ve,Pe)});var Ee=C(D.headers.get("Cache-Control")||"");Ee["no-store"]||(Ee["max-age"]&&le.headers.set("Expires",new Date(W+1e3*Ee["max-age"]).toUTCString()),new Date(le.headers.get("Expires")).getTime()-W<Oe||function(Pe,Ve){if(oe===void 0)try{new Response(new ReadableStream),oe=!0}catch{oe=!1}oe?Ve(Pe.body):Pe.blob().then(Ve)}(D,function(Pe){var Ve=new self.Response(Pe,le);Be(),se&&se.then(function(tt){return tt.put(Ge(A.url),Ve)}).catch(function(tt){return S(tt.message)})}))}}function Ge(A){var D=A.indexOf("?");return D<0?A:A.slice(0,D)}function Ze(A,D){if(Be(),!se)return D(null);var W=Ge(A.url);se.then(function(le){le.match(W).then(function(Ee){var Pe=function(Ve){if(!Ve)return!1;var tt=new Date(Ve.headers.get("Expires")||0),ht=C(Ve.headers.get("Cache-Control")||"");return tt>Date.now()&&!ht["no-cache"]}(Ee);le.delete(W),Pe&&le.put(W,Ee.clone()),D(null,Ee,Pe)}).catch(D)}).catch(D)}var et,ft=1/0;function rt(){return et==null&&(et=self.OffscreenCanvas&&new self.OffscreenCanvas(1,1).getContext("2d")&&typeof self.createImageBitmap=="function"),et}var _t={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(_t);var kt=function(A){function D(W,le,Ee){le===401&&ge(Ee)&&(W+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),A.call(this,W),this.status=le,this.url=Ee,this.name=this.constructor.name,this.message=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},D}(Error),wt=L()?function(){return self.worker&&self.worker.referrer}:function(){return(self.location.protocol==="blob:"?self.parent:self).location.href};function lt(A,D){var W,le=new self.AbortController,Ee=new self.Request(A.url,{method:A.method||"GET",body:A.body,credentials:A.credentials,headers:A.headers,referrer:wt(),signal:le.signal}),Pe=!1,Ve=!1,tt=(W=Ee.url).indexOf("sku=")>0&&ge(W);A.type==="json"&&Ee.headers.set("Accept","application/json");var ht=function(At,Ft,Ht){if(!Ve){if(At&&At.message!=="SecurityError"&&S(At),Ft&&Ht)return Tt(Ft);var jt=Date.now();self.fetch(Ee).then(function(on){if(on.ok){var un=tt?on.clone():null;return Tt(on,un,jt)}return D(new kt(on.statusText,on.status,A.url))}).catch(function(on){on.code!==20&&D(new Error(on.message))})}},Tt=function(At,Ft,Ht){(A.type==="arrayBuffer"?At.arrayBuffer():A.type==="json"?At.json():At.text()).then(function(jt){Ve||(Ft&&Ht&&Fe(Ee,Ft,Ht),Pe=!0,D(null,jt,At.headers.get("Cache-Control"),At.headers.get("Expires")))}).catch(function(jt){Ve||D(new Error(jt.message))})};return tt?Ze(Ee,ht):ht(null,null),{cancel:function(){Ve=!0,Pe||le.abort()}}}var ut=function(A,D){if(W=A.url,!(/^file:/.test(W)||/^file:/.test(wt())&&!/^\w+:/.test(W))){if(self.fetch&&self.Request&&self.AbortController&&self.Request.prototype.hasOwnProperty("signal"))return lt(A,D);if(L()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",A,D,void 0,!0)}var W;return function(le,Ee){var Pe=new self.XMLHttpRequest;for(var Ve in Pe.open(le.method||"GET",le.url,!0),le.type==="arrayBuffer"&&(Pe.responseType="arraybuffer"),le.headers)Pe.setRequestHeader(Ve,le.headers[Ve]);return le.type==="json"&&(Pe.responseType="text",Pe.setRequestHeader("Accept","application/json")),Pe.withCredentials=le.credentials==="include",Pe.onerror=function(){Ee(new Error(Pe.statusText))},Pe.onload=function(){if((Pe.status>=200&&Pe.status<300||Pe.status===0)&&Pe.response!==null){var tt=Pe.response;if(le.type==="json")try{tt=JSON.parse(Pe.response)}catch(ht){return Ee(ht)}Ee(null,tt,Pe.getResponseHeader("Cache-Control"),Pe.getResponseHeader("Expires"))}else Ee(new kt(Pe.statusText,Pe.status,le.url))},Pe.send(le.body),{cancel:function(){return Pe.abort()}}}(A,D)},Et=function(A,D){return ut(u(A,{type:"arrayBuffer"}),D)},Ot=function(A,D){return ut(u(A,{method:"POST"}),D)},zt,Lt;zt=[],Lt=0;var Je=function(A,D){if(Z.supported&&(A.headers||(A.headers={}),A.headers.accept="image/webp,*/*"),Lt>=K.MAX_PARALLEL_IMAGE_REQUESTS){var W={requestParameters:A,callback:D,cancelled:!1,cancel:function(){this.cancelled=!0}};return zt.push(W),W}Lt++;var le=!1,Ee=function(){if(!le)for(le=!0,Lt--;zt.length&&Lt<K.MAX_PARALLEL_IMAGE_REQUESTS;){var Ve=zt.shift(),tt=Ve.requestParameters,ht=Ve.callback;Ve.cancelled||(Ve.cancel=Je(tt,ht).cancel)}},Pe=Et(A,function(Ve,tt,ht,Tt){Ee(),Ve?D(Ve):tt&&(rt()?function(At,Ft){var Ht=new self.Blob([new Uint8Array(At)],{type:"image/png"});self.createImageBitmap(Ht).then(function(jt){Ft(null,jt)}).catch(function(jt){Ft(new Error("Could not load image because of "+jt.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(tt,D):function(At,Ft,Ht,jt){var on=new self.Image,un=self.URL;on.onload=function(){Ft(null,on),un.revokeObjectURL(on.src)},on.onerror=function(){return Ft(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Ln=new self.Blob([new Uint8Array(At)],{type:"image/png"});on.cacheControl=Ht,on.expires=jt,on.src=At.byteLength?un.createObjectURL(Ln):"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII="}(tt,D,ht,Tt))});return{cancel:function(){Pe.cancel(),Ee()}}};function Qe(A,D,W){W[A]&&W[A].indexOf(D)!==-1||(W[A]=W[A]||[],W[A].push(D))}function qe(A,D,W){if(W&&W[A]){var le=W[A].indexOf(D);le!==-1&&W[A].splice(le,1)}}var $e=function(A,D){D===void 0&&(D={}),u(this,D),this.type=A},ct=function(A){function D(W,le){le===void 0&&(le={}),A.call(this,"error",u({error:W},le))}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}($e),at=function(){};at.prototype.on=function(A,D){return this._listeners=this._listeners||{},Qe(A,D,this._listeners),this},at.prototype.off=function(A,D){return qe(A,D,this._listeners),qe(A,D,this._oneTimeListeners),this},at.prototype.once=function(A,D){return this._oneTimeListeners=this._oneTimeListeners||{},Qe(A,D,this._oneTimeListeners),this},at.prototype.fire=function(A,D){typeof A=="string"&&(A=new $e(A,D||{}));var W=A.type;if(this.listens(W)){A.target=this;for(var le=0,Ee=this._listeners&&this._listeners[W]?this._listeners[W].slice():[];le<Ee.length;le+=1)Ee[le].call(this,A);for(var Pe=0,Ve=this._oneTimeListeners&&this._oneTimeListeners[W]?this._oneTimeListeners[W].slice():[];Pe<Ve.length;Pe+=1){var tt=Ve[Pe];qe(W,tt,this._oneTimeListeners),tt.call(this,A)}var ht=this._eventedParent;ht&&(u(A,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ht.fire(A))}else A instanceof ct&&console.error(A.error);return this},at.prototype.listens=function(A){return this._listeners&&this._listeners[A]&&this._listeners[A].length>0||this._oneTimeListeners&&this._oneTimeListeners[A]&&this._oneTimeListeners[A].length>0||this._eventedParent&&this._eventedParent.listens(A)},at.prototype.setEventedParent=function(A,D){return this._eventedParent=A,this._eventedParentData=D,this};var Re={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},expression_name:{type:"enum",values:{let:{group:"Variable binding"},var:{group:"Variable binding"},literal:{group:"Types"},array:{group:"Types"},at:{group:"Lookup"},in:{group:"Lookup"},"index-of":{group:"Lookup"},slice:{group:"Lookup"},case:{group:"Decision"},match:{group:"Decision"},coalesce:{group:"Decision"},step:{group:"Ramps, scales, curves"},interpolate:{group:"Ramps, scales, curves"},"interpolate-hcl":{group:"Ramps, scales, curves"},"interpolate-lab":{group:"Ramps, scales, curves"},ln2:{group:"Math"},pi:{group:"Math"},e:{group:"Math"},typeof:{group:"Types"},string:{group:"Types"},number:{group:"Types"},boolean:{group:"Types"},object:{group:"Types"},collator:{group:"Types"},format:{group:"Types"},image:{group:"Types"},"number-format":{group:"Types"},"to-string":{group:"Types"},"to-number":{group:"Types"},"to-boolean":{group:"Types"},"to-rgba":{group:"Color"},"to-color":{group:"Types"},rgb:{group:"Color"},rgba:{group:"Color"},get:{group:"Lookup"},has:{group:"Lookup"},length:{group:"Lookup"},properties:{group:"Feature data"},"feature-state":{group:"Feature data"},"geometry-type":{group:"Feature data"},id:{group:"Feature data"},zoom:{group:"Zoom"},"heatmap-density":{group:"Heatmap"},"line-progress":{group:"Feature data"},accumulated:{group:"Feature data"},"+":{group:"Math"},"*":{group:"Math"},"-":{group:"Math"},"/":{group:"Math"},"%":{group:"Math"},"^":{group:"Math"},sqrt:{group:"Math"},log10:{group:"Math"},ln:{group:"Math"},log2:{group:"Math"},sin:{group:"Math"},cos:{group:"Math"},tan:{group:"Math"},asin:{group:"Math"},acos:{group:"Math"},atan:{group:"Math"},min:{group:"Math"},max:{group:"Math"},round:{group:"Math"},abs:{group:"Math"},ceil:{group:"Math"},floor:{group:"Math"},distance:{group:"Math"},"==":{group:"Decision"},"!=":{group:"Decision"},">":{group:"Decision"},"<":{group:"Decision"},">=":{group:"Decision"},"<=":{group:"Decision"},all:{group:"Decision"},any:{group:"Decision"},"!":{group:"Decision"},within:{group:"Decision"},"is-supported-script":{group:"String"},upcase:{group:"String"},downcase:{group:"String"},concat:{group:"String"},"resolved-locale":{group:"String"}}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},je=function(A,D,W,le){this.message=(A?A+": ":"")+W,le&&(this.identifier=le),D!=null&&D.__line__&&(this.line=D.__line__)};function st(A){var D=A.key,W=A.value;return W?[new je(D,W,"constants have been deprecated as of v8")]:[]}function ot(A){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];for(var le=0,Ee=D;le<Ee.length;le+=1){var Pe=Ee[le];for(var Ve in Pe)A[Ve]=Pe[Ve]}return A}function xt(A){return A instanceof Number||A instanceof String||A instanceof Boolean?A.valueOf():A}function mt(A){if(Array.isArray(A))return A.map(mt);if(A instanceof Object&&!(A instanceof Number||A instanceof String||A instanceof Boolean)){var D={};for(var W in A)D[W]=mt(A[W]);return D}return xt(A)}var bt=function(A){function D(W,le){A.call(this,le),this.message=le,this.key=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(Error),dt=function(A,D){D===void 0&&(D=[]),this.parent=A,this.bindings={};for(var W=0,le=D;W<le.length;W+=1){var Ee=le[W],Pe=Ee[0],Ve=Ee[1];this.bindings[Pe]=Ve}};dt.prototype.concat=function(A){return new dt(this,A)},dt.prototype.get=function(A){if(this.bindings[A])return this.bindings[A];if(this.parent)return this.parent.get(A);throw new Error(A+" not found in scope.")},dt.prototype.has=function(A){return!!this.bindings[A]||!!this.parent&&this.parent.has(A)};var St={kind:"null"},gt={kind:"number"},vt={kind:"string"},Mt={kind:"boolean"},Bt={kind:"color"},Nt={kind:"object"},qt={kind:"value"},an={kind:"collator"},Gt={kind:"formatted"},Yt={kind:"resolvedImage"};function en(A,D){return{kind:"array",itemType:A,N:D}}function bn(A){if(A.kind==="array"){var D=bn(A.itemType);return typeof A.N=="number"?"array<"+D+", "+A.N+">":A.itemType.kind==="value"?"array":"array<"+D+">"}return A.kind}var On=[St,gt,vt,Mt,Bt,Gt,Nt,en(qt),Yt];function gn(A,D){if(D.kind==="error")return null;if(A.kind==="array"){if(D.kind==="array"&&(D.N===0&&D.itemType.kind==="value"||!gn(A.itemType,D.itemType))&&(typeof A.N!="number"||A.N===D.N))return null}else{if(A.kind===D.kind)return null;if(A.kind==="value"){for(var W=0,le=On;W<le.length;W+=1)if(!gn(le[W],D))return null}}return"Expected "+bn(A)+" but found "+bn(D)+" instead."}function Xt(A,D){return D.some(function(W){return W.kind===A.kind})}function ln(A,D){return D.some(function(W){return W==="null"?A===null:W==="array"?Array.isArray(A):W==="object"?A&&!Array.isArray(A)&&typeof A=="object":W===typeof A})}var nn=_(function(A,D){var W={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function le(ht){return(ht=Math.round(ht))<0?0:ht>255?255:ht}function Ee(ht){return ht<0?0:ht>1?1:ht}function Pe(ht){return ht[ht.length-1]==="%"?le(parseFloat(ht)/100*255):le(parseInt(ht))}function Ve(ht){return ht[ht.length-1]==="%"?Ee(parseFloat(ht)/100):Ee(parseFloat(ht))}function tt(ht,Tt,At){return At<0?At+=1:At>1&&(At-=1),6*At<1?ht+(Tt-ht)*At*6:2*At<1?Tt:3*At<2?ht+(Tt-ht)*(2/3-At)*6:ht}try{D.parseCSSColor=function(ht){var Tt,At=ht.replace(/ /g,"").toLowerCase();if(At in W)return W[At].slice();if(At[0]==="#")return At.length===4?(Tt=parseInt(At.substr(1),16))>=0&&Tt<=4095?[(3840&Tt)>>4|(3840&Tt)>>8,240&Tt|(240&Tt)>>4,15&Tt|(15&Tt)<<4,1]:null:At.length===7&&(Tt=parseInt(At.substr(1),16))>=0&&Tt<=16777215?[(16711680&Tt)>>16,(65280&Tt)>>8,255&Tt,1]:null;var Ft=At.indexOf("("),Ht=At.indexOf(")");if(Ft!==-1&&Ht+1===At.length){var jt=At.substr(0,Ft),on=At.substr(Ft+1,Ht-(Ft+1)).split(","),un=1;switch(jt){case"rgba":if(on.length!==4)return null;un=Ve(on.pop());case"rgb":return on.length!==3?null:[Pe(on[0]),Pe(on[1]),Pe(on[2]),un];case"hsla":if(on.length!==4)return null;un=Ve(on.pop());case"hsl":if(on.length!==3)return null;var Ln=(parseFloat(on[0])%360+360)%360/360,En=Ve(on[1]),Fn=Ve(on[2]),Nn=Fn<=.5?Fn*(En+1):Fn+En-Fn*En,Gn=2*Fn-Nn;return[le(255*tt(Gn,Nn,Ln+1/3)),le(255*tt(Gn,Nn,Ln)),le(255*tt(Gn,Nn,Ln-1/3)),un];default:return null}}return null}}catch{}}),hn=nn.parseCSSColor,mn=function(A,D,W,le){le===void 0&&(le=1),this.r=A,this.g=D,this.b=W,this.a=le};mn.parse=function(A){if(A){if(A instanceof mn)return A;if(typeof A=="string"){var D=hn(A);if(D)return new mn(D[0]/255*D[3],D[1]/255*D[3],D[2]/255*D[3],D[3])}}},mn.prototype.toString=function(){var A=this.toArray(),D=A[0],W=A[1],le=A[2],Ee=A[3];return"rgba("+Math.round(D)+","+Math.round(W)+","+Math.round(le)+","+Ee+")"},mn.prototype.toArray=function(){var A=this,D=A.r,W=A.g,le=A.b,Ee=A.a;return Ee===0?[0,0,0,0]:[255*D/Ee,255*W/Ee,255*le/Ee,Ee]},mn.black=new mn(0,0,0,1),mn.white=new mn(1,1,1,1),mn.transparent=new mn(0,0,0,0),mn.red=new mn(1,0,0,1);var Mn=function(A,D,W){this.sensitivity=A?D?"variant":"case":D?"accent":"base",this.locale=W,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Mn.prototype.compare=function(A,D){return this.collator.compare(A,D)},Mn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var Tn=function(A,D,W,le,Ee){this.text=A,this.image=D,this.scale=W,this.fontStack=le,this.textColor=Ee},Pn=function(A){this.sections=A};Pn.fromString=function(A){return new Pn([new Tn(A,null,null,null,null)])},Pn.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(A){return A.text.length!==0||A.image&&A.image.name.length!==0})},Pn.factory=function(A){return A instanceof Pn?A:Pn.fromString(A)},Pn.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(A){return A.text}).join("")},Pn.prototype.serialize=function(){for(var A=["format"],D=0,W=this.sections;D<W.length;D+=1){var le=W[D];if(le.image)A.push(["image",le.image.name]);else{A.push(le.text);var Ee={};le.fontStack&&(Ee["text-font"]=["literal",le.fontStack.split(",")]),le.scale&&(Ee["font-scale"]=le.scale),le.textColor&&(Ee["text-color"]=["rgba"].concat(le.textColor.toArray())),A.push(Ee)}}return A};var yn=function(A){this.name=A.name,this.available=A.available};function Rn(A,D,W,le){return typeof A=="number"&&A>=0&&A<=255&&typeof D=="number"&&D>=0&&D<=255&&typeof W=="number"&&W>=0&&W<=255?le===void 0||typeof le=="number"&&le>=0&&le<=1?null:"Invalid rgba value ["+[A,D,W,le].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof le=="number"?[A,D,W,le]:[A,D,W]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function Zn(A){if(A===null||typeof A=="string"||typeof A=="boolean"||typeof A=="number"||A instanceof mn||A instanceof Mn||A instanceof Pn||A instanceof yn)return!0;if(Array.isArray(A)){for(var D=0,W=A;D<W.length;D+=1)if(!Zn(W[D]))return!1;return!0}if(typeof A=="object"){for(var le in A)if(!Zn(A[le]))return!1;return!0}return!1}function ir(A){if(A===null)return St;if(typeof A=="string")return vt;if(typeof A=="boolean")return Mt;if(typeof A=="number")return gt;if(A instanceof mn)return Bt;if(A instanceof Mn)return an;if(A instanceof Pn)return Gt;if(A instanceof yn)return Yt;if(Array.isArray(A)){for(var D,W=A.length,le=0,Ee=A;le<Ee.length;le+=1){var Pe=ir(Ee[le]);if(D){if(D===Pe)continue;D=qt;break}D=Pe}return en(D||qt,W)}return Nt}function sr(A){var D=typeof A;return A===null?"":D==="string"||D==="number"||D==="boolean"?String(A):A instanceof mn||A instanceof Pn||A instanceof yn?A.toString():JSON.stringify(A)}yn.prototype.toString=function(){return this.name},yn.fromString=function(A){return A?new yn({name:A,available:!1}):null},yn.prototype.serialize=function(){return["image",this.name]};var tr=function(A,D){this.type=A,this.value=D};tr.parse=function(A,D){if(A.length!==2)return D.error("'literal' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(!Zn(A[1]))return D.error("invalid value");var W=A[1],le=ir(W),Ee=D.expectedType;return le.kind!=="array"||le.N!==0||!Ee||Ee.kind!=="array"||typeof Ee.N=="number"&&Ee.N!==0||(le=Ee),new tr(le,W)},tr.prototype.evaluate=function(){return this.value},tr.prototype.eachChild=function(){},tr.prototype.outputDefined=function(){return!0},tr.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof mn?["rgba"].concat(this.value.toArray()):this.value instanceof Pn?this.value.serialize():this.value};var Jn=function(A){this.name="ExpressionEvaluationError",this.message=A};Jn.prototype.toJSON=function(){return this.message};var pr={string:vt,number:gt,boolean:Mt,object:Nt},Ut=function(A,D){this.type=A,this.args=D};Ut.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var W,le=1,Ee=A[0];if(Ee==="array"){var Pe,Ve;if(A.length>2){var tt=A[1];if(typeof tt!="string"||!(tt in pr)||tt==="object")return D.error('The item type argument of "array" must be one of string, number, boolean',1);Pe=pr[tt],le++}else Pe=qt;if(A.length>3){if(A[2]!==null&&(typeof A[2]!="number"||A[2]<0||A[2]!==Math.floor(A[2])))return D.error('The length argument to "array" must be a positive integer literal',2);Ve=A[2],le++}W=en(Pe,Ve)}else W=pr[Ee];for(var ht=[];le<A.length;le++){var Tt=D.parse(A[le],le,qt);if(!Tt)return null;ht.push(Tt)}return new Ut(W,ht)},Ut.prototype.evaluate=function(A){for(var D=0;D<this.args.length;D++){var W=this.args[D].evaluate(A);if(!gn(this.type,ir(W)))return W;if(D===this.args.length-1)throw new Jn("Expected value to be of type "+bn(this.type)+", but found "+bn(ir(W))+" instead.")}return null},Ut.prototype.eachChild=function(A){this.args.forEach(A)},Ut.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Ut.prototype.serialize=function(){var A=this.type,D=[A.kind];if(A.kind==="array"){var W=A.itemType;if(W.kind==="string"||W.kind==="number"||W.kind==="boolean"){D.push(W.kind);var le=A.N;(typeof le=="number"||this.args.length>1)&&D.push(le)}}return D.concat(this.args.map(function(Ee){return Ee.serialize()}))};var rn=function(A){this.type=Gt,this.sections=A};rn.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var W=A[1];if(!Array.isArray(W)&&typeof W=="object")return D.error("First argument must be an image or text section.");for(var le=[],Ee=!1,Pe=1;Pe<=A.length-1;++Pe){var Ve=A[Pe];if(Ee&&typeof Ve=="object"&&!Array.isArray(Ve)){Ee=!1;var tt=null;if(Ve["font-scale"]&&!(tt=D.parse(Ve["font-scale"],1,gt)))return null;var ht=null;if(Ve["text-font"]&&!(ht=D.parse(Ve["text-font"],1,en(vt))))return null;var Tt=null;if(Ve["text-color"]&&!(Tt=D.parse(Ve["text-color"],1,Bt)))return null;var At=le[le.length-1];At.scale=tt,At.font=ht,At.textColor=Tt}else{var Ft=D.parse(A[Pe],1,qt);if(!Ft)return null;var Ht=Ft.type.kind;if(Ht!=="string"&&Ht!=="value"&&Ht!=="null"&&Ht!=="resolvedImage")return D.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");Ee=!0,le.push({content:Ft,scale:null,font:null,textColor:null})}}return new rn(le)},rn.prototype.evaluate=function(A){return new Pn(this.sections.map(function(D){var W=D.content.evaluate(A);return ir(W)===Yt?new Tn("",W,null,null,null):new Tn(sr(W),null,D.scale?D.scale.evaluate(A):null,D.font?D.font.evaluate(A).join(","):null,D.textColor?D.textColor.evaluate(A):null)}))},rn.prototype.eachChild=function(A){for(var D=0,W=this.sections;D<W.length;D+=1){var le=W[D];A(le.content),le.scale&&A(le.scale),le.font&&A(le.font),le.textColor&&A(le.textColor)}},rn.prototype.outputDefined=function(){return!1},rn.prototype.serialize=function(){for(var A=["format"],D=0,W=this.sections;D<W.length;D+=1){var le=W[D];A.push(le.content.serialize());var Ee={};le.scale&&(Ee["font-scale"]=le.scale.serialize()),le.font&&(Ee["text-font"]=le.font.serialize()),le.textColor&&(Ee["text-color"]=le.textColor.serialize()),A.push(Ee)}return A};var cn=function(A){this.type=Yt,this.input=A};cn.parse=function(A,D){if(A.length!==2)return D.error("Expected two arguments.");var W=D.parse(A[1],1,vt);return W?new cn(W):D.error("No image name provided.")},cn.prototype.evaluate=function(A){var D=this.input.evaluate(A),W=yn.fromString(D);return W&&A.availableImages&&(W.available=A.availableImages.indexOf(D)>-1),W},cn.prototype.eachChild=function(A){A(this.input)},cn.prototype.outputDefined=function(){return!1},cn.prototype.serialize=function(){return["image",this.input.serialize()]};var vn={"to-boolean":Mt,"to-color":Bt,"to-number":gt,"to-string":vt},Sn=function(A,D){this.type=A,this.args=D};Sn.parse=function(A,D){if(A.length<2)return D.error("Expected at least one argument.");var W=A[0];if((W==="to-boolean"||W==="to-string")&&A.length!==2)return D.error("Expected one argument.");for(var le=vn[W],Ee=[],Pe=1;Pe<A.length;Pe++){var Ve=D.parse(A[Pe],Pe,qt);if(!Ve)return null;Ee.push(Ve)}return new Sn(le,Ee)},Sn.prototype.evaluate=function(A){if(this.type.kind==="boolean")return!!this.args[0].evaluate(A);if(this.type.kind==="color"){for(var D,W,le=0,Ee=this.args;le<Ee.length;le+=1){if(W=null,(D=Ee[le].evaluate(A))instanceof mn)return D;if(typeof D=="string"){var Pe=A.parseColor(D);if(Pe)return Pe}else if(Array.isArray(D)&&!(W=D.length<3||D.length>4?"Invalid rbga value "+JSON.stringify(D)+": expected an array containing either three or four numeric values.":Rn(D[0],D[1],D[2],D[3])))return new mn(D[0]/255,D[1]/255,D[2]/255,D[3])}throw new Jn(W||"Could not parse color from value '"+(typeof D=="string"?D:String(JSON.stringify(D)))+"'")}if(this.type.kind==="number"){for(var Ve=null,tt=0,ht=this.args;tt<ht.length;tt+=1){if((Ve=ht[tt].evaluate(A))===null)return 0;var Tt=Number(Ve);if(!isNaN(Tt))return Tt}throw new Jn("Could not convert "+JSON.stringify(Ve)+" to number.")}return this.type.kind==="formatted"?Pn.fromString(sr(this.args[0].evaluate(A))):this.type.kind==="resolvedImage"?yn.fromString(sr(this.args[0].evaluate(A))):sr(this.args[0].evaluate(A))},Sn.prototype.eachChild=function(A){this.args.forEach(A)},Sn.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},Sn.prototype.serialize=function(){if(this.type.kind==="formatted")return new rn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new cn(this.args[0]).serialize();var A=["to-"+this.type.kind];return this.eachChild(function(D){A.push(D.serialize())}),A};var Hn=["Unknown","Point","LineString","Polygon"],Dn=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};Dn.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},Dn.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Hn[this.feature.type]:this.feature.type:null},Dn.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},Dn.prototype.canonicalID=function(){return this.canonical},Dn.prototype.properties=function(){return this.feature&&this.feature.properties||{}},Dn.prototype.parseColor=function(A){var D=this._parseColorCache[A];return D||(D=this._parseColorCache[A]=mn.parse(A)),D};var Bn=function(A,D,W,le){this.name=A,this.type=D,this._evaluate=W,this.args=le};Bn.prototype.evaluate=function(A){return this._evaluate(A,this.args)},Bn.prototype.eachChild=function(A){this.args.forEach(A)},Bn.prototype.outputDefined=function(){return!1},Bn.prototype.serialize=function(){return[this.name].concat(this.args.map(function(A){return A.serialize()}))},Bn.parse=function(A,D){var W,le=A[0],Ee=Bn.definitions[le];if(!Ee)return D.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0);for(var Pe=Array.isArray(Ee)?Ee[0]:Ee.type,Ve=Array.isArray(Ee)?[[Ee[1],Ee[2]]]:Ee.overloads,tt=Ve.filter(function(qr){var Pr=qr[0];return!Array.isArray(Pr)||Pr.length===A.length-1}),ht=null,Tt=0,At=tt;Tt<At.length;Tt+=1){var Ft=At[Tt],Ht=Ft[0],jt=Ft[1];ht=new or(D.registry,D.path,null,D.scope);for(var on=[],un=!1,Ln=1;Ln<A.length;Ln++){var En=A[Ln],Fn=Array.isArray(Ht)?Ht[Ln-1]:Ht.type,Nn=ht.parse(En,1+on.length,Fn);if(!Nn){un=!0;break}on.push(Nn)}if(!un)if(Array.isArray(Ht)&&Ht.length!==on.length)ht.error("Expected "+Ht.length+" arguments, but found "+on.length+" instead.");else{for(var Gn=0;Gn<on.length;Gn++){var Kn=Array.isArray(Ht)?Ht[Gn]:Ht.type,rr=on[Gn];ht.concat(Gn+1).checkSubtype(Kn,rr.type)}if(ht.errors.length===0)return new Bn(le,Pe,jt,on)}}if(tt.length===1)(W=D.errors).push.apply(W,ht.errors);else{for(var yr=(tt.length?tt:Ve).map(function(qr){return Pr=qr[0],Array.isArray(Pr)?"("+Pr.map(bn).join(", ")+")":"("+bn(Pr.type)+"...)";var Pr}).join(" | "),hr=[],wr=1;wr<A.length;wr++){var Er=D.parse(A[wr],1+hr.length);if(!Er)return null;hr.push(bn(Er.type))}D.error("Expected arguments of type "+yr+", but found ("+hr.join(", ")+") instead.")}return null},Bn.register=function(A,D){for(var W in Bn.definitions=D,D)A[W]=Bn};var Qn=function(A,D,W){this.type=an,this.locale=W,this.caseSensitive=A,this.diacriticSensitive=D};Qn.parse=function(A,D){if(A.length!==2)return D.error("Expected one argument.");var W=A[1];if(typeof W!="object"||Array.isArray(W))return D.error("Collator options argument must be an object.");var le=D.parse(W["case-sensitive"]!==void 0&&W["case-sensitive"],1,Mt);if(!le)return null;var Ee=D.parse(W["diacritic-sensitive"]!==void 0&&W["diacritic-sensitive"],1,Mt);if(!Ee)return null;var Pe=null;return W.locale&&!(Pe=D.parse(W.locale,1,vt))?null:new Qn(le,Ee,Pe)},Qn.prototype.evaluate=function(A){return new Mn(this.caseSensitive.evaluate(A),this.diacriticSensitive.evaluate(A),this.locale?this.locale.evaluate(A):null)},Qn.prototype.eachChild=function(A){A(this.caseSensitive),A(this.diacriticSensitive),this.locale&&A(this.locale)},Qn.prototype.outputDefined=function(){return!1},Qn.prototype.serialize=function(){var A={};return A["case-sensitive"]=this.caseSensitive.serialize(),A["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(A.locale=this.locale.serialize()),["collator",A]};var Wt=8192;function An(A,D){A[0]=Math.min(A[0],D[0]),A[1]=Math.min(A[1],D[1]),A[2]=Math.max(A[2],D[0]),A[3]=Math.max(A[3],D[1])}function Ct(A,D){return!(A[0]<=D[0]||A[2]>=D[2]||A[1]<=D[1]||A[3]>=D[3])}function Jt(A,D){var W,le=(180+A[0])/360,Ee=(W=A[1],(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+W*Math.PI/360)))/360),Pe=Math.pow(2,D.z);return[Math.round(le*Pe*Wt),Math.round(Ee*Pe*Wt)]}function tn(A,D,W){return D[1]>A[1]!=W[1]>A[1]&&A[0]<(W[0]-D[0])*(A[1]-D[1])/(W[1]-D[1])+D[0]}function wn(A,D){for(var W=!1,le=0,Ee=D.length;le<Ee;le++)for(var Pe=D[le],Ve=0,tt=Pe.length;Ve<tt-1;Ve++){if(ht=A,Tt=Pe[Ve],At=Pe[Ve+1],Ft=void 0,Ht=void 0,jt=void 0,on=void 0,Ft=ht[0]-Tt[0],Ht=ht[1]-Tt[1],jt=ht[0]-At[0],on=ht[1]-At[1],Ft*on-jt*Ht==0&&Ft*jt<=0&&Ht*on<=0)return!1;tn(A,Pe[Ve],Pe[Ve+1])&&(W=!W)}var ht,Tt,At,Ft,Ht,jt,on;return W}function kn(A,D){for(var W=0;W<D.length;W++)if(wn(A,D[W]))return!0;return!1}function Cn(A,D,W,le){var Ee=A[0]-W[0],Pe=A[1]-W[1],Ve=D[0]-W[0],tt=D[1]-W[1],ht=le[0]-W[0],Tt=le[1]-W[1],At=Ee*Tt-ht*Pe,Ft=Ve*Tt-ht*tt;return At>0&&Ft<0||At<0&&Ft>0}function pn(A,D,W){for(var le=0,Ee=W;le<Ee.length;le+=1)for(var Pe=Ee[le],Ve=0;Ve<Pe.length-1;++Ve)if(tt=A,ht=D,Tt=Pe[Ve],At=Pe[Ve+1],Ft=void 0,Ht=void 0,jt=void 0,jt=[ht[0]-tt[0],ht[1]-tt[1]],Ft=[At[0]-Tt[0],At[1]-Tt[1]],Ht=jt,Ft[0]*Ht[1]-Ft[1]*Ht[0]!=0&&Cn(tt,ht,Tt,At)&&Cn(Tt,At,tt,ht))return!0;var tt,ht,Tt,At,Ft,Ht,jt;return!1}function $t(A,D){for(var W=0;W<A.length;++W)if(!wn(A[W],D))return!1;for(var le=0;le<A.length-1;++le)if(pn(A[le],A[le+1],D))return!1;return!0}function Qt(A,D){for(var W=0;W<D.length;W++)if($t(A,D[W]))return!0;return!1}function fn(A,D,W){for(var le=[],Ee=0;Ee<A.length;Ee++){for(var Pe=[],Ve=0;Ve<A[Ee].length;Ve++){var tt=Jt(A[Ee][Ve],W);An(D,tt),Pe.push(tt)}le.push(Pe)}return le}function dn(A,D,W){for(var le=[],Ee=0;Ee<A.length;Ee++){var Pe=fn(A[Ee],D,W);le.push(Pe)}return le}function In(A,D,W,le){if(A[0]<W[0]||A[0]>W[2]){var Ee=.5*le,Pe=A[0]-W[0]>Ee?-le:W[0]-A[0]>Ee?le:0;Pe===0&&(Pe=A[0]-W[2]>Ee?-le:W[2]-A[0]>Ee?le:0),A[0]+=Pe}An(D,A)}function zn(A,D,W,le){for(var Ee=Math.pow(2,le.z)*Wt,Pe=[le.x*Wt,le.y*Wt],Ve=[],tt=0,ht=A;tt<ht.length;tt+=1)for(var Tt=0,At=ht[tt];Tt<At.length;Tt+=1){var Ft=At[Tt],Ht=[Ft.x+Pe[0],Ft.y+Pe[1]];In(Ht,D,W,Ee),Ve.push(Ht)}return Ve}function Yn(A,D,W,le){for(var Ee=Math.pow(2,le.z)*Wt,Pe=[le.x*Wt,le.y*Wt],Ve=[],tt=0,ht=A;tt<ht.length;tt+=1){for(var Tt=[],At=0,Ft=ht[tt];At<Ft.length;At+=1){var Ht=Ft[At],jt=[Ht.x+Pe[0],Ht.y+Pe[1]];An(D,jt),Tt.push(jt)}Ve.push(Tt)}if(D[2]-D[0]<=Ee/2){(Fn=D)[0]=Fn[1]=1/0,Fn[2]=Fn[3]=-1/0;for(var on=0,un=Ve;on<un.length;on+=1)for(var Ln=0,En=un[on];Ln<En.length;Ln+=1)In(En[Ln],D,W,Ee)}var Fn;return Ve}var Vn=function(A,D){this.type=Mt,this.geojson=A,this.geometries=D};function nr(A){if(A instanceof Bn&&(A.name==="get"&&A.args.length===1||A.name==="feature-state"||A.name==="has"&&A.args.length===1||A.name==="properties"||A.name==="geometry-type"||A.name==="id"||/^filter-/.test(A.name))||A instanceof Vn)return!1;var D=!0;return A.eachChild(function(W){D&&!nr(W)&&(D=!1)}),D}function Xn(A){if(A instanceof Bn&&A.name==="feature-state")return!1;var D=!0;return A.eachChild(function(W){D&&!Xn(W)&&(D=!1)}),D}function lr(A,D){if(A instanceof Bn&&D.indexOf(A.name)>=0)return!1;var W=!0;return A.eachChild(function(le){W&&!lr(le,D)&&(W=!1)}),W}Vn.parse=function(A,D){if(A.length!==2)return D.error("'within' expression requires exactly one argument, but found "+(A.length-1)+" instead.");if(Zn(A[1])){var W=A[1];if(W.type==="FeatureCollection")for(var le=0;le<W.features.length;++le){var Ee=W.features[le].geometry.type;if(Ee==="Polygon"||Ee==="MultiPolygon")return new Vn(W,W.features[le].geometry)}else if(W.type==="Feature"){var Pe=W.geometry.type;if(Pe==="Polygon"||Pe==="MultiPolygon")return new Vn(W,W.geometry)}else if(W.type==="Polygon"||W.type==="MultiPolygon")return new Vn(W,W)}return D.error("'within' expression requires valid geojson object that contains polygon geometry type.")},Vn.prototype.evaluate=function(A){if(A.geometry()!=null&&A.canonicalID()!=null){if(A.geometryType()==="Point")return function(D,W){var le=[1/0,1/0,-1/0,-1/0],Ee=[1/0,1/0,-1/0,-1/0],Pe=D.canonicalID();if(W.type==="Polygon"){var Ve=fn(W.coordinates,Ee,Pe),tt=zn(D.geometry(),le,Ee,Pe);if(!Ct(le,Ee))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!wn(Tt[ht],Ve))return!1}if(W.type==="MultiPolygon"){var At=dn(W.coordinates,Ee,Pe),Ft=zn(D.geometry(),le,Ee,Pe);if(!Ct(le,Ee))return!1;for(var Ht=0,jt=Ft;Ht<jt.length;Ht+=1)if(!kn(jt[Ht],At))return!1}return!0}(A,this.geometries);if(A.geometryType()==="LineString")return function(D,W){var le=[1/0,1/0,-1/0,-1/0],Ee=[1/0,1/0,-1/0,-1/0],Pe=D.canonicalID();if(W.type==="Polygon"){var Ve=fn(W.coordinates,Ee,Pe),tt=Yn(D.geometry(),le,Ee,Pe);if(!Ct(le,Ee))return!1;for(var ht=0,Tt=tt;ht<Tt.length;ht+=1)if(!$t(Tt[ht],Ve))return!1}if(W.type==="MultiPolygon"){var At=dn(W.coordinates,Ee,Pe),Ft=Yn(D.geometry(),le,Ee,Pe);if(!Ct(le,Ee))return!1;for(var Ht=0,jt=Ft;Ht<jt.length;Ht+=1)if(!Qt(jt[Ht],At))return!1}return!0}(A,this.geometries)}return!1},Vn.prototype.eachChild=function(){},Vn.prototype.outputDefined=function(){return!0},Vn.prototype.serialize=function(){return["within",this.geojson]};var ar=function(A,D){this.type=D.type,this.name=A,this.boundExpression=D};ar.parse=function(A,D){if(A.length!==2||typeof A[1]!="string")return D.error("'var' expression requires exactly one string literal argument.");var W=A[1];return D.scope.has(W)?new ar(W,D.scope.get(W)):D.error('Unknown variable "'+W+'". Make sure "'+W+'" has been bound in an enclosing "let" expression before using it.',1)},ar.prototype.evaluate=function(A){return this.boundExpression.evaluate(A)},ar.prototype.eachChild=function(){},ar.prototype.outputDefined=function(){return!1},ar.prototype.serialize=function(){return["var",this.name]};var or=function(A,D,W,le,Ee){D===void 0&&(D=[]),le===void 0&&(le=new dt),Ee===void 0&&(Ee=[]),this.registry=A,this.path=D,this.key=D.map(function(Pe){return"["+Pe+"]"}).join(""),this.scope=le,this.errors=Ee,this.expectedType=W};function dr(A){if(A instanceof ar)return dr(A.boundExpression);if(A instanceof Bn&&A.name==="error"||A instanceof Qn||A instanceof Vn)return!1;var D=A instanceof Sn||A instanceof Ut,W=!0;return A.eachChild(function(le){W=D?W&&dr(le):W&&le instanceof tr}),!!W&&nr(A)&&lr(A,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function gr(A,D){for(var W,le,Ee=A.length-1,Pe=0,Ve=Ee,tt=0;Pe<=Ve;)if(W=A[tt=Math.floor((Pe+Ve)/2)],le=A[tt+1],W<=D){if(tt===Ee||D<le)return tt;Pe=tt+1}else{if(!(W>D))throw new Jn("Input is not a number.");Ve=tt-1}return 0}or.prototype.parse=function(A,D,W,le,Ee){return Ee===void 0&&(Ee={}),D?this.concat(D,W,le)._parse(A,Ee):this._parse(A,Ee)},or.prototype._parse=function(A,D){function W(Tt,At,Ft){return Ft==="assert"?new Ut(At,[Tt]):Ft==="coerce"?new Sn(At,[Tt]):Tt}if(A!==null&&typeof A!="string"&&typeof A!="boolean"&&typeof A!="number"||(A=["literal",A]),Array.isArray(A)){if(A.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var le=A[0];if(typeof le!="string")return this.error("Expression name must be a string, but found "+typeof le+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var Ee=this.registry[le];if(Ee){var Pe=Ee.parse(A,this);if(!Pe)return null;if(this.expectedType){var Ve=this.expectedType,tt=Pe.type;if(Ve.kind!=="string"&&Ve.kind!=="number"&&Ve.kind!=="boolean"&&Ve.kind!=="object"&&Ve.kind!=="array"||tt.kind!=="value")if(Ve.kind!=="color"&&Ve.kind!=="formatted"&&Ve.kind!=="resolvedImage"||tt.kind!=="value"&&tt.kind!=="string"){if(this.checkSubtype(Ve,tt))return null}else Pe=W(Pe,Ve,D.typeAnnotation||"coerce");else Pe=W(Pe,Ve,D.typeAnnotation||"assert")}if(!(Pe instanceof tr)&&Pe.type.kind!=="resolvedImage"&&dr(Pe)){var ht=new Dn;try{Pe=new tr(Pe.type,Pe.evaluate(ht))}catch(Tt){return this.error(Tt.message),null}}return Pe}return this.error('Unknown expression "'+le+'". If you wanted a literal array, use ["literal", [...]].',0)}return A===void 0?this.error("'undefined' value invalid. Use null instead."):typeof A=="object"?this.error('Bare objects invalid. Use ["literal", {...}] instead.'):this.error("Expected an array, but found "+typeof A+" instead.")},or.prototype.concat=function(A,D,W){var le=typeof A=="number"?this.path.concat(A):this.path,Ee=W?this.scope.concat(W):this.scope;return new or(this.registry,le,D||null,Ee,this.errors)},or.prototype.error=function(A){for(var D=[],W=arguments.length-1;W-- >0;)D[W]=arguments[W+1];var le=""+this.key+D.map(function(Ee){return"["+Ee+"]"}).join("");this.errors.push(new bt(le,A))},or.prototype.checkSubtype=function(A,D){var W=gn(A,D);return W&&this.error(W),W};var Sr=function(A,D,W){this.type=A,this.input=D,this.labels=[],this.outputs=[];for(var le=0,Ee=W;le<Ee.length;le+=1){var Pe=Ee[le],Ve=Pe[0],tt=Pe[1];this.labels.push(Ve),this.outputs.push(tt)}};function $n(A,D,W){return A*(1-W)+D*W}Sr.parse=function(A,D){if(A.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return D.error("Expected an even number of arguments.");var W=D.parse(A[1],1,gt);if(!W)return null;var le=[],Ee=null;D.expectedType&&D.expectedType.kind!=="value"&&(Ee=D.expectedType);for(var Pe=1;Pe<A.length;Pe+=2){var Ve=Pe===1?-1/0:A[Pe],tt=A[Pe+1],ht=Pe,Tt=Pe+1;if(typeof Ve!="number")return D.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ht);if(le.length&&le[le.length-1][0]>=Ve)return D.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ht);var At=D.parse(tt,Tt,Ee);if(!At)return null;Ee=Ee||At.type,le.push([Ve,At])}return new Sr(Ee,W,le)},Sr.prototype.evaluate=function(A){var D=this.labels,W=this.outputs;if(D.length===1)return W[0].evaluate(A);var le=this.input.evaluate(A);if(le<=D[0])return W[0].evaluate(A);var Ee=D.length;return le>=D[Ee-1]?W[Ee-1].evaluate(A):W[gr(D,le)].evaluate(A)},Sr.prototype.eachChild=function(A){A(this.input);for(var D=0,W=this.outputs;D<W.length;D+=1)A(W[D])},Sr.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Sr.prototype.serialize=function(){for(var A=["step",this.input.serialize()],D=0;D<this.labels.length;D++)D>0&&A.push(this.labels[D]),A.push(this.outputs[D].serialize());return A};var xr=Object.freeze({__proto__:null,number:$n,color:function(A,D,W){return new mn($n(A.r,D.r,W),$n(A.g,D.g,W),$n(A.b,D.b,W),$n(A.a,D.a,W))},array:function(A,D,W){return A.map(function(le,Ee){return $n(le,D[Ee],W)})}}),Rr=.95047,ii=1,_i=1.08883,vi=4/29,Si=6/29,fi=3*Si*Si,Ui=Si*Si*Si,bo=Math.PI/180,ja=180/Math.PI;function Do(A){return A>Ui?Math.pow(A,.3333333333333333):A/fi+vi}function Vl(A){return A>Si?A*A*A:fi*(A-vi)}function ys(A){return 255*(A<=.0031308?12.92*A:1.055*Math.pow(A,.4166666666666667)-.055)}function Qs(A){return(A/=255)<=.04045?A/12.92:Math.pow((A+.055)/1.055,2.4)}function Hl(A){var D=Qs(A.r),W=Qs(A.g),le=Qs(A.b),Ee=Do((.4124564*D+.3575761*W+.1804375*le)/Rr),Pe=Do((.2126729*D+.7151522*W+.072175*le)/ii);return{l:116*Pe-16,a:500*(Ee-Pe),b:200*(Pe-Do((.0193339*D+.119192*W+.9503041*le)/_i)),alpha:A.a}}function _o(A){var D=(A.l+16)/116,W=isNaN(A.a)?D:D+A.a/500,le=isNaN(A.b)?D:D-A.b/200;return D=ii*Vl(D),W=Rr*Vl(W),le=_i*Vl(le),new mn(ys(3.2404542*W-1.5371385*D-.4985314*le),ys(-.969266*W+1.8760108*D+.041556*le),ys(.0556434*W-.2040259*D+1.0572252*le),A.alpha)}function fu(A,D,W){var le=D-A;return A+W*(le>180||le<-180?le-360*Math.round(le/360):le)}var xs={forward:Hl,reverse:_o,interpolate:function(A,D,W){return{l:$n(A.l,D.l,W),a:$n(A.a,D.a,W),b:$n(A.b,D.b,W),alpha:$n(A.alpha,D.alpha,W)}}},bs={forward:function(A){var D=Hl(A),W=D.l,le=D.a,Ee=D.b,Pe=Math.atan2(Ee,le)*ja;return{h:Pe<0?Pe+360:Pe,c:Math.sqrt(le*le+Ee*Ee),l:W,alpha:A.a}},reverse:function(A){var D=A.h*bo,W=A.c;return _o({l:A.l,a:Math.cos(D)*W,b:Math.sin(D)*W,alpha:A.alpha})},interpolate:function(A,D,W){return{h:fu(A.h,D.h,W),c:$n(A.c,D.c,W),l:$n(A.l,D.l,W),alpha:$n(A.alpha,D.alpha,W)}}},wo=Object.freeze({__proto__:null,lab:xs,hcl:bs}),Xi=function(A,D,W,le,Ee){this.type=A,this.operator=D,this.interpolation=W,this.input=le,this.labels=[],this.outputs=[];for(var Pe=0,Ve=Ee;Pe<Ve.length;Pe+=1){var tt=Ve[Pe],ht=tt[0],Tt=tt[1];this.labels.push(ht),this.outputs.push(Tt)}};function el(A,D,W,le){var Ee=le-W,Pe=A-W;return Ee===0?0:D===1?Pe/Ee:(Math.pow(D,Pe)-1)/(Math.pow(D,Ee)-1)}Xi.interpolationFactor=function(A,D,W,le){var Ee=0;if(A.name==="exponential")Ee=el(D,A.base,W,le);else if(A.name==="linear")Ee=el(D,1,W,le);else if(A.name==="cubic-bezier"){var Pe=A.controlPoints;Ee=new d(Pe[0],Pe[1],Pe[2],Pe[3]).solve(el(D,1,W,le))}return Ee},Xi.parse=function(A,D){var W=A[0],le=A[1],Ee=A[2],Pe=A.slice(3);if(!Array.isArray(le)||le.length===0)return D.error("Expected an interpolation type expression.",1);if(le[0]==="linear")le={name:"linear"};else if(le[0]==="exponential"){var Ve=le[1];if(typeof Ve!="number")return D.error("Exponential interpolation requires a numeric base.",1,1);le={name:"exponential",base:Ve}}else{if(le[0]!=="cubic-bezier")return D.error("Unknown interpolation type "+String(le[0]),1,0);var tt=le.slice(1);if(tt.length!==4||tt.some(function(Ln){return typeof Ln!="number"||Ln<0||Ln>1}))return D.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);le={name:"cubic-bezier",controlPoints:tt}}if(A.length-1<4)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if((A.length-1)%2!=0)return D.error("Expected an even number of arguments.");if(!(Ee=D.parse(Ee,2,gt)))return null;var ht=[],Tt=null;W==="interpolate-hcl"||W==="interpolate-lab"?Tt=Bt:D.expectedType&&D.expectedType.kind!=="value"&&(Tt=D.expectedType);for(var At=0;At<Pe.length;At+=2){var Ft=Pe[At],Ht=Pe[At+1],jt=At+3,on=At+4;if(typeof Ft!="number")return D.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',jt);if(ht.length&&ht[ht.length-1][0]>=Ft)return D.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',jt);var un=D.parse(Ht,on,Tt);if(!un)return null;Tt=Tt||un.type,ht.push([Ft,un])}return Tt.kind==="number"||Tt.kind==="color"||Tt.kind==="array"&&Tt.itemType.kind==="number"&&typeof Tt.N=="number"?new Xi(Tt,W,le,Ee,ht):D.error("Type "+bn(Tt)+" is not interpolatable.")},Xi.prototype.evaluate=function(A){var D=this.labels,W=this.outputs;if(D.length===1)return W[0].evaluate(A);var le=this.input.evaluate(A);if(le<=D[0])return W[0].evaluate(A);var Ee=D.length;if(le>=D[Ee-1])return W[Ee-1].evaluate(A);var Pe=gr(D,le),Ve=D[Pe],tt=D[Pe+1],ht=Xi.interpolationFactor(this.interpolation,le,Ve,tt),Tt=W[Pe].evaluate(A),At=W[Pe+1].evaluate(A);return this.operator==="interpolate"?xr[this.type.kind.toLowerCase()](Tt,At,ht):this.operator==="interpolate-hcl"?bs.reverse(bs.interpolate(bs.forward(Tt),bs.forward(At),ht)):xs.reverse(xs.interpolate(xs.forward(Tt),xs.forward(At),ht))},Xi.prototype.eachChild=function(A){A(this.input);for(var D=0,W=this.outputs;D<W.length;D+=1)A(W[D])},Xi.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})},Xi.prototype.serialize=function(){var A;A=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var D=[this.operator,A,this.input.serialize()],W=0;W<this.labels.length;W++)D.push(this.labels[W],this.outputs[W].serialize());return D};var ti=function(A,D){this.type=A,this.args=D};ti.parse=function(A,D){if(A.length<2)return D.error("Expectected at least one argument.");var W=null,le=D.expectedType;le&&le.kind!=="value"&&(W=le);for(var Ee=[],Pe=0,Ve=A.slice(1);Pe<Ve.length;Pe+=1){var tt=Ve[Pe],ht=D.parse(tt,1+Ee.length,W,void 0,{typeAnnotation:"omit"});if(!ht)return null;W=W||ht.type,Ee.push(ht)}var Tt=le&&Ee.some(function(At){return gn(le,At.type)});return new ti(Tt?qt:W,Ee)},ti.prototype.evaluate=function(A){for(var D,W=null,le=0,Ee=0,Pe=this.args;Ee<Pe.length&&(le++,(W=Pe[Ee].evaluate(A))&&W instanceof yn&&!W.available&&(D||(D=W.name),W=null,le===this.args.length&&(W=D)),W===null);Ee+=1);return W},ti.prototype.eachChild=function(A){this.args.forEach(A)},ti.prototype.outputDefined=function(){return this.args.every(function(A){return A.outputDefined()})},ti.prototype.serialize=function(){var A=["coalesce"];return this.eachChild(function(D){A.push(D.serialize())}),A};var To=function(A,D){this.type=D.type,this.bindings=[].concat(A),this.result=D};To.prototype.evaluate=function(A){return this.result.evaluate(A)},To.prototype.eachChild=function(A){for(var D=0,W=this.bindings;D<W.length;D+=1)A(W[D][1]);A(this.result)},To.parse=function(A,D){if(A.length<4)return D.error("Expected at least 3 arguments, but found "+(A.length-1)+" instead.");for(var W=[],le=1;le<A.length-1;le+=2){var Ee=A[le];if(typeof Ee!="string")return D.error("Expected string, but found "+typeof Ee+" instead.",le);if(/[^a-zA-Z0-9_]/.test(Ee))return D.error("Variable names must contain only alphanumeric characters or '_'.",le);var Pe=D.parse(A[le+1],le+1);if(!Pe)return null;W.push([Ee,Pe])}var Ve=D.parse(A[A.length-1],A.length-1,D.expectedType,W);return Ve?new To(W,Ve):null},To.prototype.outputDefined=function(){return this.result.outputDefined()},To.prototype.serialize=function(){for(var A=["let"],D=0,W=this.bindings;D<W.length;D+=1){var le=W[D],Ee=le[0],Pe=le[1];A.push(Ee,Pe.serialize())}return A.push(this.result.serialize()),A};var Za=function(A,D,W){this.type=A,this.index=D,this.input=W};Za.parse=function(A,D){if(A.length!==3)return D.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,gt),le=D.parse(A[2],2,en(D.expectedType||qt));if(!W||!le)return null;var Ee=le.type;return new Za(Ee.itemType,W,le)},Za.prototype.evaluate=function(A){var D=this.index.evaluate(A),W=this.input.evaluate(A);if(D<0)throw new Jn("Array index out of bounds: "+D+" < 0.");if(D>=W.length)throw new Jn("Array index out of bounds: "+D+" > "+(W.length-1)+".");if(D!==Math.floor(D))throw new Jn("Array index must be an integer, but found "+D+" instead.");return W[D]},Za.prototype.eachChild=function(A){A(this.index),A(this.input)},Za.prototype.outputDefined=function(){return!1},Za.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Ro=function(A,D){this.type=Mt,this.needle=A,this.haystack=D};Ro.parse=function(A,D){if(A.length!==3)return D.error("Expected 2 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,qt),le=D.parse(A[2],2,qt);return W&&le?Xt(W.type,[Mt,vt,gt,St,qt])?new Ro(W,le):D.error("Expected first argument to be of type boolean, string, number or null, but found "+bn(W.type)+" instead"):null},Ro.prototype.evaluate=function(A){var D=this.needle.evaluate(A),W=this.haystack.evaluate(A);if(!W)return!1;if(!ln(D,["boolean","string","number","null"]))throw new Jn("Expected first argument to be of type boolean, string, number or null, but found "+bn(ir(D))+" instead.");if(!ln(W,["string","array"]))throw new Jn("Expected second argument to be of type array or string, but found "+bn(ir(W))+" instead.");return W.indexOf(D)>=0},Ro.prototype.eachChild=function(A){A(this.needle),A(this.haystack)},Ro.prototype.outputDefined=function(){return!0},Ro.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var uo=function(A,D,W){this.type=gt,this.needle=A,this.haystack=D,this.fromIndex=W};uo.parse=function(A,D){if(A.length<=2||A.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,qt),le=D.parse(A[2],2,qt);if(!W||!le)return null;if(!Xt(W.type,[Mt,vt,gt,St,qt]))return D.error("Expected first argument to be of type boolean, string, number or null, but found "+bn(W.type)+" instead");if(A.length===4){var Ee=D.parse(A[3],3,gt);return Ee?new uo(W,le,Ee):null}return new uo(W,le)},uo.prototype.evaluate=function(A){var D=this.needle.evaluate(A),W=this.haystack.evaluate(A);if(!ln(D,["boolean","string","number","null"]))throw new Jn("Expected first argument to be of type boolean, string, number or null, but found "+bn(ir(D))+" instead.");if(!ln(W,["string","array"]))throw new Jn("Expected second argument to be of type array or string, but found "+bn(ir(W))+" instead.");if(this.fromIndex){var le=this.fromIndex.evaluate(A);return W.indexOf(D,le)}return W.indexOf(D)},uo.prototype.eachChild=function(A){A(this.needle),A(this.haystack),this.fromIndex&&A(this.fromIndex)},uo.prototype.outputDefined=function(){return!1},uo.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var A=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),A]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Ko=function(A,D,W,le,Ee,Pe){this.inputType=A,this.type=D,this.input=W,this.cases=le,this.outputs=Ee,this.otherwise=Pe};Ko.parse=function(A,D){if(A.length<5)return D.error("Expected at least 4 arguments, but found only "+(A.length-1)+".");if(A.length%2!=1)return D.error("Expected an even number of arguments.");var W,le;D.expectedType&&D.expectedType.kind!=="value"&&(le=D.expectedType);for(var Ee={},Pe=[],Ve=2;Ve<A.length-1;Ve+=2){var tt=A[Ve],ht=A[Ve+1];Array.isArray(tt)||(tt=[tt]);var Tt=D.concat(Ve);if(tt.length===0)return Tt.error("Expected at least one branch label.");for(var At=0,Ft=tt;At<Ft.length;At+=1){var Ht=Ft[At];if(typeof Ht!="number"&&typeof Ht!="string")return Tt.error("Branch labels must be numbers or strings.");if(typeof Ht=="number"&&Math.abs(Ht)>Number.MAX_SAFE_INTEGER)return Tt.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof Ht=="number"&&Math.floor(Ht)!==Ht)return Tt.error("Numeric branch labels must be integer values.");if(W){if(Tt.checkSubtype(W,ir(Ht)))return null}else W=ir(Ht);if(Ee[String(Ht)]!==void 0)return Tt.error("Branch labels must be unique.");Ee[String(Ht)]=Pe.length}var jt=D.parse(ht,Ve,le);if(!jt)return null;le=le||jt.type,Pe.push(jt)}var on=D.parse(A[1],1,qt);if(!on)return null;var un=D.parse(A[A.length-1],A.length-1,le);return un?on.type.kind!=="value"&&D.concat(1).checkSubtype(W,on.type)?null:new Ko(W,le,on,Ee,Pe,un):null},Ko.prototype.evaluate=function(A){var D=this.input.evaluate(A);return(ir(D)===this.inputType&&this.outputs[this.cases[D]]||this.otherwise).evaluate(A)},Ko.prototype.eachChild=function(A){A(this.input),this.outputs.forEach(A),A(this.otherwise)},Ko.prototype.outputDefined=function(){return this.outputs.every(function(A){return A.outputDefined()})&&this.otherwise.outputDefined()},Ko.prototype.serialize=function(){for(var A=this,D=["match",this.input.serialize()],W=[],le={},Ee=0,Pe=Object.keys(this.cases).sort();Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];(Ft=le[this.cases[Ve]])===void 0?(le[this.cases[Ve]]=W.length,W.push([this.cases[Ve],[Ve]])):W[Ft][1].push(Ve)}for(var tt=function(jt){return A.inputType.kind==="number"?Number(jt):jt},ht=0,Tt=W;ht<Tt.length;ht+=1){var At=Tt[ht],Ft=At[0],Ht=At[1];Ht.length===1?D.push(tt(Ht[0])):D.push(Ht.map(tt)),D.push(this.outputs[outputIndex$1].serialize())}return D.push(this.otherwise.serialize()),D};var zo=function(A,D,W){this.type=A,this.branches=D,this.otherwise=W};zo.parse=function(A,D){if(A.length<4)return D.error("Expected at least 3 arguments, but found only "+(A.length-1)+".");if(A.length%2!=0)return D.error("Expected an odd number of arguments.");var W;D.expectedType&&D.expectedType.kind!=="value"&&(W=D.expectedType);for(var le=[],Ee=1;Ee<A.length-1;Ee+=2){var Pe=D.parse(A[Ee],Ee,Mt);if(!Pe)return null;var Ve=D.parse(A[Ee+1],Ee+1,W);if(!Ve)return null;le.push([Pe,Ve]),W=W||Ve.type}var tt=D.parse(A[A.length-1],A.length-1,W);return tt?new zo(W,le,tt):null},zo.prototype.evaluate=function(A){for(var D=0,W=this.branches;D<W.length;D+=1){var le=W[D],Ee=le[0],Pe=le[1];if(Ee.evaluate(A))return Pe.evaluate(A)}return this.otherwise.evaluate(A)},zo.prototype.eachChild=function(A){for(var D=0,W=this.branches;D<W.length;D+=1){var le=W[D],Ee=le[0],Pe=le[1];A(Ee),A(Pe)}A(this.otherwise)},zo.prototype.outputDefined=function(){return this.branches.every(function(A){return A[0],A[1].outputDefined()})&&this.otherwise.outputDefined()},zo.prototype.serialize=function(){var A=["case"];return this.eachChild(function(D){A.push(D.serialize())}),A};var Fo=function(A,D,W,le){this.type=A,this.input=D,this.beginIndex=W,this.endIndex=le};function _l(A,D){return A==="=="||A==="!="?D.kind==="boolean"||D.kind==="string"||D.kind==="number"||D.kind==="null"||D.kind==="value":D.kind==="string"||D.kind==="number"||D.kind==="value"}function hu(A,D,W,le){return le.compare(D,W)===0}function $o(A,D,W){var le=A!=="=="&&A!=="!=";return function(){function Ee(Pe,Ve,tt){this.type=Mt,this.lhs=Pe,this.rhs=Ve,this.collator=tt,this.hasUntypedArgument=Pe.type.kind==="value"||Ve.type.kind==="value"}return Ee.parse=function(Pe,Ve){if(Pe.length!==3&&Pe.length!==4)return Ve.error("Expected two or three arguments.");var tt=Pe[0],ht=Ve.parse(Pe[1],1,qt);if(!ht)return null;if(!_l(tt,ht.type))return Ve.concat(1).error('"'+tt+`" comparisons are not supported for type '`+bn(ht.type)+"'.");var Tt=Ve.parse(Pe[2],2,qt);if(!Tt)return null;if(!_l(tt,Tt.type))return Ve.concat(2).error('"'+tt+`" comparisons are not supported for type '`+bn(Tt.type)+"'.");if(ht.type.kind!==Tt.type.kind&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return Ve.error("Cannot compare types '"+bn(ht.type)+"' and '"+bn(Tt.type)+"'.");le&&(ht.type.kind==="value"&&Tt.type.kind!=="value"?ht=new Ut(Tt.type,[ht]):ht.type.kind!=="value"&&Tt.type.kind==="value"&&(Tt=new Ut(ht.type,[Tt])));var At=null;if(Pe.length===4){if(ht.type.kind!=="string"&&Tt.type.kind!=="string"&&ht.type.kind!=="value"&&Tt.type.kind!=="value")return Ve.error("Cannot use collator to compare non-string types.");if(!(At=Ve.parse(Pe[3],3,an)))return null}return new Ee(ht,Tt,At)},Ee.prototype.evaluate=function(Pe){var Ve=this.lhs.evaluate(Pe),tt=this.rhs.evaluate(Pe);if(le&&this.hasUntypedArgument){var ht=ir(Ve),Tt=ir(tt);if(ht.kind!==Tt.kind||ht.kind!=="string"&&ht.kind!=="number")throw new Jn('Expected arguments for "'+A+'" to be (string, string) or (number, number), but found ('+ht.kind+", "+Tt.kind+") instead.")}if(this.collator&&!le&&this.hasUntypedArgument){var At=ir(Ve),Ft=ir(tt);if(At.kind!=="string"||Ft.kind!=="string")return D(Pe,Ve,tt)}return this.collator?W(Pe,Ve,tt,this.collator.evaluate(Pe)):D(Pe,Ve,tt)},Ee.prototype.eachChild=function(Pe){Pe(this.lhs),Pe(this.rhs),this.collator&&Pe(this.collator)},Ee.prototype.outputDefined=function(){return!0},Ee.prototype.serialize=function(){var Pe=[A];return this.eachChild(function(Ve){Pe.push(Ve.serialize())}),Pe},Ee}()}Fo.parse=function(A,D){if(A.length<=2||A.length>=5)return D.error("Expected 3 or 4 arguments, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1,qt),le=D.parse(A[2],2,gt);if(!W||!le)return null;if(!Xt(W.type,[en(qt),vt,qt]))return D.error("Expected first argument to be of type array or string, but found "+bn(W.type)+" instead");if(A.length===4){var Ee=D.parse(A[3],3,gt);return Ee?new Fo(W.type,W,le,Ee):null}return new Fo(W.type,W,le)},Fo.prototype.evaluate=function(A){var D=this.input.evaluate(A),W=this.beginIndex.evaluate(A);if(!ln(D,["string","array"]))throw new Jn("Expected first argument to be of type array or string, but found "+bn(ir(D))+" instead.");if(this.endIndex){var le=this.endIndex.evaluate(A);return D.slice(W,le)}return D.slice(W)},Fo.prototype.eachChild=function(A){A(this.input),A(this.beginIndex),this.endIndex&&A(this.endIndex)},Fo.prototype.outputDefined=function(){return!1},Fo.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var A=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),A]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var pu=$o("==",function(A,D,W){return D===W},hu),ql=$o("!=",function(A,D,W){return D!==W},function(A,D,W,le){return!hu(0,D,W,le)}),du=$o("<",function(A,D,W){return D<W},function(A,D,W,le){return le.compare(D,W)<0}),Gl=$o(">",function(A,D,W){return D>W},function(A,D,W,le){return le.compare(D,W)>0}),gu=$o("<=",function(A,D,W){return D<=W},function(A,D,W,le){return le.compare(D,W)<=0}),Bs=$o(">=",function(A,D,W){return D>=W},function(A,D,W,le){return le.compare(D,W)>=0}),Qo=function(A,D,W,le,Ee){this.type=vt,this.number=A,this.locale=D,this.currency=W,this.minFractionDigits=le,this.maxFractionDigits=Ee};Qo.parse=function(A,D){if(A.length!==3)return D.error("Expected two arguments.");var W=D.parse(A[1],1,gt);if(!W)return null;var le=A[2];if(typeof le!="object"||Array.isArray(le))return D.error("NumberFormat options argument must be an object.");var Ee=null;if(le.locale&&!(Ee=D.parse(le.locale,1,vt)))return null;var Pe=null;if(le.currency&&!(Pe=D.parse(le.currency,1,vt)))return null;var Ve=null;if(le["min-fraction-digits"]&&!(Ve=D.parse(le["min-fraction-digits"],1,gt)))return null;var tt=null;return le["max-fraction-digits"]&&!(tt=D.parse(le["max-fraction-digits"],1,gt))?null:new Qo(W,Ee,Pe,Ve,tt)},Qo.prototype.evaluate=function(A){return new Intl.NumberFormat(this.locale?this.locale.evaluate(A):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(A):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(A):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(A):void 0}).format(this.number.evaluate(A))},Qo.prototype.eachChild=function(A){A(this.number),this.locale&&A(this.locale),this.currency&&A(this.currency),this.minFractionDigits&&A(this.minFractionDigits),this.maxFractionDigits&&A(this.maxFractionDigits)},Qo.prototype.outputDefined=function(){return!1},Qo.prototype.serialize=function(){var A={};return this.locale&&(A.locale=this.locale.serialize()),this.currency&&(A.currency=this.currency.serialize()),this.minFractionDigits&&(A["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(A["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),A]};var _s=function(A){this.type=gt,this.input=A};_s.parse=function(A,D){if(A.length!==2)return D.error("Expected 1 argument, but found "+(A.length-1)+" instead.");var W=D.parse(A[1],1);return W?W.type.kind!=="array"&&W.type.kind!=="string"&&W.type.kind!=="value"?D.error("Expected argument of type string or array, but found "+bn(W.type)+" instead."):new _s(W):null},_s.prototype.evaluate=function(A){var D=this.input.evaluate(A);if(typeof D=="string"||Array.isArray(D))return D.length;throw new Jn("Expected value to be of type string or array, but found "+bn(ir(D))+" instead.")},_s.prototype.eachChild=function(A){A(this.input)},_s.prototype.outputDefined=function(){return!1},_s.prototype.serialize=function(){var A=["length"];return this.eachChild(function(D){A.push(D.serialize())}),A};var Ns={"==":pu,"!=":ql,">":Gl,"<":du,">=":Bs,"<=":gu,array:Ut,at:Za,boolean:Ut,case:zo,coalesce:ti,collator:Qn,format:rn,image:cn,in:Ro,"index-of":uo,interpolate:Xi,"interpolate-hcl":Xi,"interpolate-lab":Xi,length:_s,let:To,literal:tr,match:Ko,number:Ut,"number-format":Qo,object:Ut,slice:Fo,step:Sr,string:Ut,"to-boolean":Sn,"to-color":Sn,"to-number":Sn,"to-string":Sn,var:ar,within:Vn};function wl(A,D){var W=D[0],le=D[1],Ee=D[2],Pe=D[3];W=W.evaluate(A),le=le.evaluate(A),Ee=Ee.evaluate(A);var Ve=Pe?Pe.evaluate(A):1,tt=Rn(W,le,Ee,Ve);if(tt)throw new Jn(tt);return new mn(W/255*Ve,le/255*Ve,Ee/255*Ve,Ve)}function Yl(A,D){return A in D}function Wl(A,D){var W=D[A];return W===void 0?null:W}function eo(A){return{type:A}}function ws(A){return{result:"success",value:A}}function ko(A){return{result:"error",value:A}}function Bo(A){return A["property-type"]==="data-driven"||A["property-type"]==="cross-faded-data-driven"}function vu(A){return!!A.expression&&A.expression.parameters.indexOf("zoom")>-1}function es(A){return!!A.expression&&A.expression.interpolated}function hi(A){return A instanceof Number?"number":A instanceof String?"string":A instanceof Boolean?"boolean":Array.isArray(A)?"array":A===null?"null":typeof A}function co(A){return typeof A=="object"&&A!==null&&!Array.isArray(A)}function tl(A){return A}function to(A,D){var W,le,Ee,Pe=D.type==="color",Ve=A.stops&&typeof A.stops[0][0]=="object",tt=Ve||A.property!==void 0,ht=Ve||!tt,Tt=A.type||(es(D)?"exponential":"interval");if(Pe&&((A=ot({},A)).stops&&(A.stops=A.stops.map(function(hr){return[hr[0],mn.parse(hr[1])]})),A.default?A.default=mn.parse(A.default):A.default=mn.parse(D.default)),A.colorSpace&&A.colorSpace!=="rgb"&&!wo[A.colorSpace])throw new Error("Unknown color space: "+A.colorSpace);if(Tt==="exponential")W=mu;else if(Tt==="interval")W=Tl;else if(Tt==="categorical"){W=Cu,le=Object.create(null);for(var At=0,Ft=A.stops;At<Ft.length;At+=1){var Ht=Ft[At];le[Ht[0]]=Ht[1]}Ee=typeof A.stops[0][0]}else{if(Tt!=="identity")throw new Error('Unknown function type "'+Tt+'"');W=yu}if(Ve){for(var jt={},on=[],un=0;un<A.stops.length;un++){var Ln=A.stops[un],En=Ln[0].zoom;jt[En]===void 0&&(jt[En]={zoom:En,type:A.type,property:A.property,default:A.default,stops:[]},on.push(En)),jt[En].stops.push([Ln[0].value,Ln[1]])}for(var Fn=[],Nn=0,Gn=on;Nn<Gn.length;Nn+=1){var Kn=Gn[Nn];Fn.push([jt[Kn].zoom,to(jt[Kn],D)])}var rr={name:"linear"};return{kind:"composite",interpolationType:rr,interpolationFactor:Xi.interpolationFactor.bind(void 0,rr),zoomStops:Fn.map(function(hr){return hr[0]}),evaluate:function(hr,wr){var Er=hr.zoom;return mu({stops:Fn,base:A.base},D,Er).evaluate(Er,wr)}}}if(ht){var yr=Tt==="exponential"?{name:"exponential",base:A.base!==void 0?A.base:1}:null;return{kind:"camera",interpolationType:yr,interpolationFactor:Xi.interpolationFactor.bind(void 0,yr),zoomStops:A.stops.map(function(hr){return hr[0]}),evaluate:function(hr){var wr=hr.zoom;return W(A,D,wr,le,Ee)}}}return{kind:"source",evaluate:function(hr,wr){var Er=wr&&wr.properties?wr.properties[A.property]:void 0;return Er===void 0?Ts(A.default,D.default):W(A,D,Er,le,Ee)}}}function Ts(A,D,W){return A!==void 0?A:D!==void 0?D:W!==void 0?W:void 0}function Cu(A,D,W,le,Ee){return Ts(typeof W===Ee?le[W]:void 0,A.default,D.default)}function Tl(A,D,W){if(hi(W)!=="number")return Ts(A.default,D.default);var le=A.stops.length;if(le===1||W<=A.stops[0][0])return A.stops[0][1];if(W>=A.stops[le-1][0])return A.stops[le-1][1];var Ee=gr(A.stops.map(function(Pe){return Pe[0]}),W);return A.stops[Ee][1]}function mu(A,D,W){var le=A.base!==void 0?A.base:1;if(hi(W)!=="number")return Ts(A.default,D.default);var Ee=A.stops.length;if(Ee===1||W<=A.stops[0][0])return A.stops[0][1];if(W>=A.stops[Ee-1][0])return A.stops[Ee-1][1];var Pe=gr(A.stops.map(function(Ft){return Ft[0]}),W),Ve=function(Ft,Ht,jt,on){var un=on-jt,Ln=Ft-jt;return un===0?0:Ht===1?Ln/un:(Math.pow(Ht,Ln)-1)/(Math.pow(Ht,un)-1)}(W,le,A.stops[Pe][0],A.stops[Pe+1][0]),tt=A.stops[Pe][1],ht=A.stops[Pe+1][1],Tt=xr[D.type]||tl;if(A.colorSpace&&A.colorSpace!=="rgb"){var At=wo[A.colorSpace];Tt=function(Ft,Ht){return At.reverse(At.interpolate(At.forward(Ft),At.forward(Ht),Ve))}}return typeof tt.evaluate=="function"?{evaluate:function(){for(var Ft=[],Ht=arguments.length;Ht--;)Ft[Ht]=arguments[Ht];var jt=tt.evaluate.apply(void 0,Ft),on=ht.evaluate.apply(void 0,Ft);if(jt!==void 0&&on!==void 0)return Tt(jt,on,Ve)}}:Tt(tt,ht,Ve)}function yu(A,D,W){return D.type==="color"?W=mn.parse(W):D.type==="formatted"?W=Pn.fromString(W.toString()):D.type==="resolvedImage"?W=yn.fromString(W.toString()):hi(W)===D.type||D.type==="enum"&&D.values[W]||(W=void 0),Ts(W,A.default,D.default)}Bn.register(Ns,{error:[{kind:"error"},[vt],function(A,D){var W=D[0];throw new Jn(W.evaluate(A))}],typeof:[vt,[qt],function(A,D){return bn(ir(D[0].evaluate(A)))}],"to-rgba":[en(gt,4),[Bt],function(A,D){return D[0].evaluate(A).toArray()}],rgb:[Bt,[gt,gt,gt],wl],rgba:[Bt,[gt,gt,gt,gt],wl],has:{type:Mt,overloads:[[[vt],function(A,D){return Yl(D[0].evaluate(A),A.properties())}],[[vt,Nt],function(A,D){var W=D[0],le=D[1];return Yl(W.evaluate(A),le.evaluate(A))}]]},get:{type:qt,overloads:[[[vt],function(A,D){return Wl(D[0].evaluate(A),A.properties())}],[[vt,Nt],function(A,D){var W=D[0],le=D[1];return Wl(W.evaluate(A),le.evaluate(A))}]]},"feature-state":[qt,[vt],function(A,D){return Wl(D[0].evaluate(A),A.featureState||{})}],properties:[Nt,[],function(A){return A.properties()}],"geometry-type":[vt,[],function(A){return A.geometryType()}],id:[qt,[],function(A){return A.id()}],zoom:[gt,[],function(A){return A.globals.zoom}],"heatmap-density":[gt,[],function(A){return A.globals.heatmapDensity||0}],"line-progress":[gt,[],function(A){return A.globals.lineProgress||0}],accumulated:[qt,[],function(A){return A.globals.accumulated===void 0?null:A.globals.accumulated}],"+":[gt,eo(gt),function(A,D){for(var W=0,le=0,Ee=D;le<Ee.length;le+=1)W+=Ee[le].evaluate(A);return W}],"*":[gt,eo(gt),function(A,D){for(var W=1,le=0,Ee=D;le<Ee.length;le+=1)W*=Ee[le].evaluate(A);return W}],"-":{type:gt,overloads:[[[gt,gt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)-le.evaluate(A)}],[[gt],function(A,D){return-D[0].evaluate(A)}]]},"/":[gt,[gt,gt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)/le.evaluate(A)}],"%":[gt,[gt,gt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)%le.evaluate(A)}],ln2:[gt,[],function(){return Math.LN2}],pi:[gt,[],function(){return Math.PI}],e:[gt,[],function(){return Math.E}],"^":[gt,[gt,gt],function(A,D){var W=D[0],le=D[1];return Math.pow(W.evaluate(A),le.evaluate(A))}],sqrt:[gt,[gt],function(A,D){var W=D[0];return Math.sqrt(W.evaluate(A))}],log10:[gt,[gt],function(A,D){var W=D[0];return Math.log(W.evaluate(A))/Math.LN10}],ln:[gt,[gt],function(A,D){var W=D[0];return Math.log(W.evaluate(A))}],log2:[gt,[gt],function(A,D){var W=D[0];return Math.log(W.evaluate(A))/Math.LN2}],sin:[gt,[gt],function(A,D){var W=D[0];return Math.sin(W.evaluate(A))}],cos:[gt,[gt],function(A,D){var W=D[0];return Math.cos(W.evaluate(A))}],tan:[gt,[gt],function(A,D){var W=D[0];return Math.tan(W.evaluate(A))}],asin:[gt,[gt],function(A,D){var W=D[0];return Math.asin(W.evaluate(A))}],acos:[gt,[gt],function(A,D){var W=D[0];return Math.acos(W.evaluate(A))}],atan:[gt,[gt],function(A,D){var W=D[0];return Math.atan(W.evaluate(A))}],min:[gt,eo(gt),function(A,D){return Math.min.apply(Math,D.map(function(W){return W.evaluate(A)}))}],max:[gt,eo(gt),function(A,D){return Math.max.apply(Math,D.map(function(W){return W.evaluate(A)}))}],abs:[gt,[gt],function(A,D){var W=D[0];return Math.abs(W.evaluate(A))}],round:[gt,[gt],function(A,D){var W=D[0].evaluate(A);return W<0?-Math.round(-W):Math.round(W)}],floor:[gt,[gt],function(A,D){var W=D[0];return Math.floor(W.evaluate(A))}],ceil:[gt,[gt],function(A,D){var W=D[0];return Math.ceil(W.evaluate(A))}],"filter-==":[Mt,[vt,qt],function(A,D){var W=D[0],le=D[1];return A.properties()[W.value]===le.value}],"filter-id-==":[Mt,[qt],function(A,D){var W=D[0];return A.id()===W.value}],"filter-type-==":[Mt,[vt],function(A,D){var W=D[0];return A.geometryType()===W.value}],"filter-<":[Mt,[vt,qt],function(A,D){var W=D[0],le=D[1],Ee=A.properties()[W.value],Pe=le.value;return typeof Ee==typeof Pe&&Ee<Pe}],"filter-id-<":[Mt,[qt],function(A,D){var W=D[0],le=A.id(),Ee=W.value;return typeof le==typeof Ee&&le<Ee}],"filter->":[Mt,[vt,qt],function(A,D){var W=D[0],le=D[1],Ee=A.properties()[W.value],Pe=le.value;return typeof Ee==typeof Pe&&Ee>Pe}],"filter-id->":[Mt,[qt],function(A,D){var W=D[0],le=A.id(),Ee=W.value;return typeof le==typeof Ee&&le>Ee}],"filter-<=":[Mt,[vt,qt],function(A,D){var W=D[0],le=D[1],Ee=A.properties()[W.value],Pe=le.value;return typeof Ee==typeof Pe&&Ee<=Pe}],"filter-id-<=":[Mt,[qt],function(A,D){var W=D[0],le=A.id(),Ee=W.value;return typeof le==typeof Ee&&le<=Ee}],"filter->=":[Mt,[vt,qt],function(A,D){var W=D[0],le=D[1],Ee=A.properties()[W.value],Pe=le.value;return typeof Ee==typeof Pe&&Ee>=Pe}],"filter-id->=":[Mt,[qt],function(A,D){var W=D[0],le=A.id(),Ee=W.value;return typeof le==typeof Ee&&le>=Ee}],"filter-has":[Mt,[qt],function(A,D){return D[0].value in A.properties()}],"filter-has-id":[Mt,[],function(A){return A.id()!==null&&A.id()!==void 0}],"filter-type-in":[Mt,[en(vt)],function(A,D){return D[0].value.indexOf(A.geometryType())>=0}],"filter-id-in":[Mt,[en(qt)],function(A,D){return D[0].value.indexOf(A.id())>=0}],"filter-in-small":[Mt,[vt,en(qt)],function(A,D){var W=D[0];return D[1].value.indexOf(A.properties()[W.value])>=0}],"filter-in-large":[Mt,[vt,en(qt)],function(A,D){var W=D[0],le=D[1];return function(Ee,Pe,Ve,tt){for(;Ve<=tt;){var ht=Ve+tt>>1;if(Pe[ht]===Ee)return!0;Pe[ht]>Ee?tt=ht-1:Ve=ht+1}return!1}(A.properties()[W.value],le.value,0,le.value.length-1)}],all:{type:Mt,overloads:[[[Mt,Mt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)&&le.evaluate(A)}],[eo(Mt),function(A,D){for(var W=0,le=D;W<le.length;W+=1)if(!le[W].evaluate(A))return!1;return!0}]]},any:{type:Mt,overloads:[[[Mt,Mt],function(A,D){var W=D[0],le=D[1];return W.evaluate(A)||le.evaluate(A)}],[eo(Mt),function(A,D){for(var W=0,le=D;W<le.length;W+=1)if(le[W].evaluate(A))return!0;return!1}]]},"!":[Mt,[Mt],function(A,D){return!D[0].evaluate(A)}],"is-supported-script":[Mt,[vt],function(A,D){var W=D[0],le=A.globals&&A.globals.isSupportedScript;return!le||le(W.evaluate(A))}],upcase:[vt,[vt],function(A,D){return D[0].evaluate(A).toUpperCase()}],downcase:[vt,[vt],function(A,D){return D[0].evaluate(A).toLowerCase()}],concat:[vt,eo(qt),function(A,D){return D.map(function(W){return sr(W.evaluate(A))}).join("")}],"resolved-locale":[vt,[an],function(A,D){return D[0].evaluate(A).resolvedLocale()}]});var nl=function(A,D){this.expression=A,this._warningHistory={},this._evaluator=new Dn,this._defaultValue=D?function(W){return W.type==="color"&&co(W.default)?new mn(0,0,0,0):W.type==="color"?mn.parse(W.default)||null:W.default===void 0?null:W.default}(D):null,this._enumValues=D&&D.type==="enum"?D.values:null};function js(A){return Array.isArray(A)&&A.length>0&&typeof A[0]=="string"&&A[0]in Ns}function rl(A,D){var W=new or(Ns,[],D?function(Ee){var Pe={color:Bt,string:vt,number:gt,enum:vt,boolean:Mt,formatted:Gt,resolvedImage:Yt};return Ee.type==="array"?en(Pe[Ee.value]||qt,Ee.length):Pe[Ee.type]}(D):void 0),le=W.parse(A,void 0,void 0,void 0,D&&D.type==="string"?{typeAnnotation:"coerce"}:void 0);return le?ws(new nl(le,D)):ko(W.errors)}nl.prototype.evaluateWithoutErrorHandling=function(A,D,W,le,Ee,Pe){return this._evaluator.globals=A,this._evaluator.feature=D,this._evaluator.featureState=W,this._evaluator.canonical=le,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Pe,this.expression.evaluate(this._evaluator)},nl.prototype.evaluate=function(A,D,W,le,Ee,Pe){this._evaluator.globals=A,this._evaluator.feature=D||null,this._evaluator.featureState=W||null,this._evaluator.canonical=le,this._evaluator.availableImages=Ee||null,this._evaluator.formattedSection=Pe||null;try{var Ve=this.expression.evaluate(this._evaluator);if(Ve==null||typeof Ve=="number"&&Ve!=Ve)return this._defaultValue;if(this._enumValues&&!(Ve in this._enumValues))throw new Jn("Expected value to be one of "+Object.keys(this._enumValues).map(function(tt){return JSON.stringify(tt)}).join(", ")+", but found "+JSON.stringify(Ve)+" instead.");return Ve}catch(tt){return this._warningHistory[tt.message]||(this._warningHistory[tt.message]=!0,typeof console<"u"&&console.warn(tt.message)),this._defaultValue}};var ts=function(A,D){this.kind=A,this._styleExpression=D,this.isStateDependent=A!=="constant"&&!Xn(D.expression)};ts.prototype.evaluateWithoutErrorHandling=function(A,D,W,le,Ee,Pe){return this._styleExpression.evaluateWithoutErrorHandling(A,D,W,le,Ee,Pe)},ts.prototype.evaluate=function(A,D,W,le,Ee,Pe){return this._styleExpression.evaluate(A,D,W,le,Ee,Pe)};var No=function(A,D,W,le){this.kind=A,this.zoomStops=W,this._styleExpression=D,this.isStateDependent=A!=="camera"&&!Xn(D.expression),this.interpolationType=le};function ns(A,D){if((A=rl(A,D)).result==="error")return A;var W=A.value.expression,le=nr(W);if(!le&&!Bo(D))return ko([new bt("","data expressions not supported")]);var Ee=lr(W,["zoom"]);if(!Ee&&!vu(D))return ko([new bt("","zoom expressions not supported")]);var Pe=kl(W);if(!Pe&&!Ee)return ko([new bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')]);if(Pe instanceof bt)return ko([Pe]);if(Pe instanceof Xi&&!es(D))return ko([new bt("",'"interpolate" expressions cannot be used with this property')]);if(!Pe)return ws(new ts(le?"constant":"source",A.value));var Ve=Pe instanceof Xi?Pe.interpolation:void 0;return ws(new No(le?"camera":"composite",A.value,Pe.labels,Ve))}No.prototype.evaluateWithoutErrorHandling=function(A,D,W,le,Ee,Pe){return this._styleExpression.evaluateWithoutErrorHandling(A,D,W,le,Ee,Pe)},No.prototype.evaluate=function(A,D,W,le,Ee,Pe){return this._styleExpression.evaluate(A,D,W,le,Ee,Pe)},No.prototype.interpolationFactor=function(A,D,W){return this.interpolationType?Xi.interpolationFactor(this.interpolationType,A,D,W):0};var jo=function(A,D){this._parameters=A,this._specification=D,ot(this,to(this._parameters,this._specification))};function kl(A){var D=null;if(A instanceof To)D=kl(A.result);else if(A instanceof ti)for(var W=0,le=A.args;W<le.length;W+=1){var Ee=le[W];if(D=kl(Ee))break}else(A instanceof Sr||A instanceof Xi)&&A.input instanceof Bn&&A.input.name==="zoom"&&(D=A);return D instanceof bt||A.eachChild(function(Pe){var Ve=kl(Pe);Ve instanceof bt?D=Ve:!D&&Ve?D=new bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):D&&Ve&&D!==Ve&&(D=new bt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),D}function fo(A){var D=A.key,W=A.value,le=A.valueSpec||{},Ee=A.objectElementValidators||{},Pe=A.style,Ve=A.styleSpec,tt=[],ht=hi(W);if(ht!=="object")return[new je(D,W,"object expected, "+ht+" found")];for(var Tt in W){var At=Tt.split(".")[0],Ft=le[At]||le["*"],Ht=void 0;if(Ee[At])Ht=Ee[At];else if(le[At])Ht=Di;else if(Ee["*"])Ht=Ee["*"];else{if(!le["*"]){tt.push(new je(D,W[Tt],'unknown property "'+Tt+'"'));continue}Ht=Di}tt=tt.concat(Ht({key:(D&&D+".")+Tt,value:W[Tt],valueSpec:Ft,style:Pe,styleSpec:Ve,object:W,objectKey:Tt},W))}for(var jt in le)Ee[jt]||le[jt].required&&le[jt].default===void 0&&W[jt]===void 0&&tt.push(new je(D,W,'missing required property "'+jt+'"'));return tt}function xu(A){var D=A.value,W=A.valueSpec,le=A.style,Ee=A.styleSpec,Pe=A.key,Ve=A.arrayElementValidator||Di;if(hi(D)!=="array")return[new je(Pe,D,"array expected, "+hi(D)+" found")];if(W.length&&D.length!==W.length)return[new je(Pe,D,"array length "+W.length+" expected, length "+D.length+" found")];if(W["min-length"]&&D.length<W["min-length"])return[new je(Pe,D,"array length at least "+W["min-length"]+" expected, length "+D.length+" found")];var tt={type:W.value,values:W.values};Ee.$version<7&&(tt.function=W.function),hi(W.value)==="object"&&(tt=W.value);for(var ht=[],Tt=0;Tt<D.length;Tt++)ht=ht.concat(Ve({array:D,arrayIndex:Tt,value:D[Tt],valueSpec:tt,style:le,styleSpec:Ee,key:Pe+"["+Tt+"]"}));return ht}function bu(A){var D=A.key,W=A.value,le=A.valueSpec,Ee=hi(W);return Ee==="number"&&W!=W&&(Ee="NaN"),Ee!=="number"?[new je(D,W,"number expected, "+Ee+" found")]:"minimum"in le&&W<le.minimum?[new je(D,W,W+" is less than the minimum value "+le.minimum)]:"maximum"in le&&W>le.maximum?[new je(D,W,W+" is greater than the maximum value "+le.maximum)]:[]}function Ml(A){var D,W,le,Ee=A.valueSpec,Pe=xt(A.value.type),Ve={},tt=Pe!=="categorical"&&A.value.property===void 0,ht=!tt,Tt=hi(A.value.stops)==="array"&&hi(A.value.stops[0])==="array"&&hi(A.value.stops[0][0])==="object",At=fo({key:A.key,value:A.value,valueSpec:A.styleSpec.function,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{stops:function(jt){if(Pe==="identity")return[new je(jt.key,jt.value,'identity function may not have a "stops" property')];var on=[],un=jt.value;return on=on.concat(xu({key:jt.key,value:un,valueSpec:jt.valueSpec,style:jt.style,styleSpec:jt.styleSpec,arrayElementValidator:Ft})),hi(un)==="array"&&un.length===0&&on.push(new je(jt.key,un,"array must have at least one stop")),on},default:function(jt){return Di({key:jt.key,value:jt.value,valueSpec:Ee,style:jt.style,styleSpec:jt.styleSpec})}}});return Pe==="identity"&&tt&&At.push(new je(A.key,A.value,'missing required property "property"')),Pe==="identity"||A.value.stops||At.push(new je(A.key,A.value,'missing required property "stops"')),Pe==="exponential"&&A.valueSpec.expression&&!es(A.valueSpec)&&At.push(new je(A.key,A.value,"exponential functions not supported")),A.styleSpec.$version>=8&&(ht&&!Bo(A.valueSpec)?At.push(new je(A.key,A.value,"property functions not supported")):tt&&!vu(A.valueSpec)&&At.push(new je(A.key,A.value,"zoom functions not supported"))),Pe!=="categorical"&&!Tt||A.value.property!==void 0||At.push(new je(A.key,A.value,'"property" property is required')),At;function Ft(jt){var on=[],un=jt.value,Ln=jt.key;if(hi(un)!=="array")return[new je(Ln,un,"array expected, "+hi(un)+" found")];if(un.length!==2)return[new je(Ln,un,"array length 2 expected, length "+un.length+" found")];if(Tt){if(hi(un[0])!=="object")return[new je(Ln,un,"object expected, "+hi(un[0])+" found")];if(un[0].zoom===void 0)return[new je(Ln,un,"object stop key must have zoom")];if(un[0].value===void 0)return[new je(Ln,un,"object stop key must have value")];if(le&&le>xt(un[0].zoom))return[new je(Ln,un[0].zoom,"stop zoom values must appear in ascending order")];xt(un[0].zoom)!==le&&(le=xt(un[0].zoom),W=void 0,Ve={}),on=on.concat(fo({key:Ln+"[0]",value:un[0],valueSpec:{zoom:{}},style:jt.style,styleSpec:jt.styleSpec,objectElementValidators:{zoom:bu,value:Ht}}))}else on=on.concat(Ht({key:Ln+"[0]",value:un[0],valueSpec:{},style:jt.style,styleSpec:jt.styleSpec},un));return js(mt(un[1]))?on.concat([new je(Ln+"[1]",un[1],"expressions are not allowed in function stops.")]):on.concat(Di({key:Ln+"[1]",value:un[1],valueSpec:Ee,style:jt.style,styleSpec:jt.styleSpec}))}function Ht(jt,on){var un=hi(jt.value),Ln=xt(jt.value),En=jt.value!==null?jt.value:on;if(D){if(un!==D)return[new je(jt.key,En,un+" stop domain type must match previous stop domain type "+D)]}else D=un;if(un!=="number"&&un!=="string"&&un!=="boolean")return[new je(jt.key,En,"stop domain value must be a number, string, or boolean")];if(un!=="number"&&Pe!=="categorical"){var Fn="number expected, "+un+" found";return Bo(Ee)&&Pe===void 0&&(Fn+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new je(jt.key,En,Fn)]}return Pe!=="categorical"||un!=="number"||isFinite(Ln)&&Math.floor(Ln)===Ln?Pe!=="categorical"&&un==="number"&&W!==void 0&&Ln<W?[new je(jt.key,En,"stop domain values must appear in ascending order")]:(W=Ln,Pe==="categorical"&&Ln in Ve?[new je(jt.key,En,"stop domain values must be unique")]:(Ve[Ln]=!0,[])):[new je(jt.key,En,"integer expected, found "+Ln)]}}function rs(A){var D=(A.expressionContext==="property"?ns:rl)(mt(A.value),A.valueSpec);if(D.result==="error")return D.value.map(function(le){return new je(""+A.key+le.key,A.value,le.message)});var W=D.value.expression||D.value._styleExpression.expression;if(A.expressionContext==="property"&&A.propertyKey==="text-font"&&!W.outputDefined())return[new je(A.key,A.value,'Invalid data expression for "'+A.propertyKey+'". Output values must be contained as literals within the expression.')];if(A.expressionContext==="property"&&A.propertyType==="layout"&&!Xn(W))return[new je(A.key,A.value,'"feature-state" data expressions are not supported with layout properties.')];if(A.expressionContext==="filter"&&!Xn(W))return[new je(A.key,A.value,'"feature-state" data expressions are not supported with filters.')];if(A.expressionContext&&A.expressionContext.indexOf("cluster")===0){if(!lr(W,["zoom","feature-state"]))return[new je(A.key,A.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(A.expressionContext==="cluster-initial"&&!nr(W))return[new je(A.key,A.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Al(A){var D=A.key,W=A.value,le=A.valueSpec,Ee=[];return Array.isArray(le.values)?le.values.indexOf(xt(W))===-1&&Ee.push(new je(D,W,"expected one of ["+le.values.join(", ")+"], "+JSON.stringify(W)+" found")):Object.keys(le.values).indexOf(xt(W))===-1&&Ee.push(new je(D,W,"expected one of ["+Object.keys(le.values).join(", ")+"], "+JSON.stringify(W)+" found")),Ee}function ks(A){if(A===!0||A===!1)return!0;if(!Array.isArray(A)||A.length===0)return!1;switch(A[0]){case"has":return A.length>=2&&A[1]!=="$id"&&A[1]!=="$type";case"in":return A.length>=3&&(typeof A[1]!="string"||Array.isArray(A[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return A.length!==3||Array.isArray(A[1])||Array.isArray(A[2]);case"any":case"all":for(var D=0,W=A.slice(1);D<W.length;D+=1){var le=W[D];if(!ks(le)&&typeof le!="boolean")return!1}return!0;default:return!0}}jo.deserialize=function(A){return new jo(A._parameters,A._specification)},jo.serialize=function(A){return{_parameters:A._parameters,_specification:A._specification}};var Zl={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Us(A){if(A==null)return{filter:function(){return!0},needGeometry:!1};ks(A)||(A=Vs(A));var D=rl(A,Zl);if(D.result==="error")throw new Error(D.value.map(function(W){return W.key+": "+W.message}).join(", "));return{filter:function(W,le,Ee){return D.value.evaluate(W,le,{},Ee)},needGeometry:il(A)}}function Ms(A,D){return A<D?-1:A>D?1:0}function il(A){if(!Array.isArray(A))return!1;if(A[0]==="within")return!0;for(var D=1;D<A.length;D++)if(il(A[D]))return!0;return!1}function Vs(A){if(!A)return!0;var D,W=A[0];return A.length<=1?W!=="any":W==="=="?pi(A[1],A[2],"=="):W==="!="?la(pi(A[1],A[2],"==")):W==="<"||W===">"||W==="<="||W===">="?pi(A[1],A[2],W):W==="any"?(D=A.slice(1),["any"].concat(D.map(Vs))):W==="all"?["all"].concat(A.slice(1).map(Vs)):W==="none"?["all"].concat(A.slice(1).map(Vs).map(la)):W==="in"?is(A[1],A.slice(2)):W==="!in"?la(is(A[1],A.slice(2))):W==="has"?Uo(A[1]):W==="!has"?la(Uo(A[1])):W!=="within"||A}function pi(A,D,W){switch(A){case"$type":return["filter-type-"+W,D];case"$id":return["filter-id-"+W,D];default:return["filter-"+W,A,D]}}function is(A,D){if(D.length===0)return!1;switch(A){case"$type":return["filter-type-in",["literal",D]];case"$id":return["filter-id-in",["literal",D]];default:return D.length>200&&!D.some(function(W){return typeof W!=typeof D[0]})?["filter-in-large",A,["literal",D.sort(Ms)]]:["filter-in-small",A,["literal",D]]}}function Uo(A){switch(A){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",A]}}function la(A){return["!",A]}function Kr(A){return ks(mt(A.value))?rs(ot({},A,{expressionContext:"filter",valueSpec:{value:"boolean"}})):ni(A)}function ni(A){var D=A.value,W=A.key;if(hi(D)!=="array")return[new je(W,D,"array expected, "+hi(D)+" found")];var le,Ee=A.styleSpec,Pe=[];if(D.length<1)return[new je(W,D,"filter array must have at least 1 element")];switch(Pe=Pe.concat(Al({key:W+"[0]",value:D[0],valueSpec:Ee.filter_operator,style:A.style,styleSpec:A.styleSpec})),xt(D[0])){case"<":case"<=":case">":case">=":D.length>=2&&xt(D[1])==="$type"&&Pe.push(new je(W,D,'"$type" cannot be use with operator "'+D[0]+'"'));case"==":case"!=":D.length!==3&&Pe.push(new je(W,D,'filter array for operator "'+D[0]+'" must have 3 elements'));case"in":case"!in":D.length>=2&&(le=hi(D[1]))!=="string"&&Pe.push(new je(W+"[1]",D[1],"string expected, "+le+" found"));for(var Ve=2;Ve<D.length;Ve++)le=hi(D[Ve]),xt(D[1])==="$type"?Pe=Pe.concat(Al({key:W+"["+Ve+"]",value:D[Ve],valueSpec:Ee.geometry_type,style:A.style,styleSpec:A.styleSpec})):le!=="string"&&le!=="number"&&le!=="boolean"&&Pe.push(new je(W+"["+Ve+"]",D[Ve],"string, number, or boolean expected, "+le+" found"));break;case"any":case"all":case"none":for(var tt=1;tt<D.length;tt++)Pe=Pe.concat(ni({key:W+"["+tt+"]",value:D[tt],style:A.style,styleSpec:A.styleSpec}));break;case"has":case"!has":le=hi(D[1]),D.length!==2?Pe.push(new je(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):le!=="string"&&Pe.push(new je(W+"[1]",D[1],"string expected, "+le+" found"));break;case"within":le=hi(D[1]),D.length!==2?Pe.push(new je(W,D,'filter array for "'+D[0]+'" operator must have 2 elements')):le!=="object"&&Pe.push(new je(W+"[1]",D[1],"object expected, "+le+" found"))}return Pe}function as(A,D){var W=A.key,le=A.style,Ee=A.styleSpec,Pe=A.value,Ve=A.objectKey,tt=Ee[D+"_"+A.layerType];if(!tt)return[];var ht=Ve.match(/^(.*)-transition$/);if(D==="paint"&&ht&&tt[ht[1]]&&tt[ht[1]].transition)return Di({key:W,value:Pe,valueSpec:Ee.transition,style:le,styleSpec:Ee});var Tt,At=A.valueSpec||tt[Ve];if(!At)return[new je(W,Pe,'unknown property "'+Ve+'"')];if(hi(Pe)==="string"&&Bo(At)&&!At.tokens&&(Tt=/^{([^}]+)}$/.exec(Pe)))return[new je(W,Pe,'"'+Ve+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(Tt[1])+" }`.")];var Ft=[];return A.layerType==="symbol"&&(Ve==="text-field"&&le&&!le.glyphs&&Ft.push(new je(W,Pe,'use of "text-field" requires a style "glyphs" property')),Ve==="text-font"&&co(mt(Pe))&&xt(Pe.type)==="identity"&&Ft.push(new je(W,Pe,'"text-font" does not support identity functions'))),Ft.concat(Di({key:A.key,value:Pe,valueSpec:At,style:le,styleSpec:Ee,expressionContext:"property",propertyType:D,propertyKey:Ve}))}function Vo(A){return as(A,"paint")}function Xl(A){return as(A,"layout")}function al(A){var D=[],W=A.value,le=A.key,Ee=A.style,Pe=A.styleSpec;W.type||W.ref||D.push(new je(le,W,'either "type" or "ref" is required'));var Ve,tt=xt(W.type),ht=xt(W.ref);if(W.id)for(var Tt=xt(W.id),At=0;At<A.arrayIndex;At++){var Ft=Ee.layers[At];xt(Ft.id)===Tt&&D.push(new je(le,W.id,'duplicate layer id "'+W.id+'", previously used at line '+Ft.id.__line__))}if("ref"in W)["type","source","source-layer","filter","layout"].forEach(function(on){on in W&&D.push(new je(le,W[on],'"'+on+'" is prohibited for ref layers'))}),Ee.layers.forEach(function(on){xt(on.id)===ht&&(Ve=on)}),Ve?Ve.ref?D.push(new je(le,W.ref,"ref cannot reference another ref layer")):tt=xt(Ve.type):D.push(new je(le,W.ref,'ref layer "'+ht+'" not found'));else if(tt!=="background")if(W.source){var Ht=Ee.sources&&Ee.sources[W.source],jt=Ht&&xt(Ht.type);Ht?jt==="vector"&&tt==="raster"?D.push(new je(le,W.source,'layer "'+W.id+'" requires a raster source')):jt==="raster"&&tt!=="raster"?D.push(new je(le,W.source,'layer "'+W.id+'" requires a vector source')):jt!=="vector"||W["source-layer"]?jt==="raster-dem"&&tt!=="hillshade"?D.push(new je(le,W.source,"raster-dem source can only be used with layer type 'hillshade'.")):tt!=="line"||!W.paint||!W.paint["line-gradient"]||jt==="geojson"&&Ht.lineMetrics||D.push(new je(le,W,'layer "'+W.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):D.push(new je(le,W,'layer "'+W.id+'" must specify a "source-layer"')):D.push(new je(le,W.source,'source "'+W.source+'" not found'))}else D.push(new je(le,W,'missing required property "source"'));return D=D.concat(fo({key:le,value:W,valueSpec:Pe.layer,style:A.style,styleSpec:A.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Di({key:le+".type",value:W.type,valueSpec:Pe.layer.type,style:A.style,styleSpec:A.styleSpec,object:W,objectKey:"type"})},filter:Kr,layout:function(on){return fo({layer:W,key:on.key,value:on.value,style:on.style,styleSpec:on.styleSpec,objectElementValidators:{"*":function(un){return Xl(ot({layerType:tt},un))}}})},paint:function(on){return fo({layer:W,key:on.key,value:on.value,style:on.style,styleSpec:on.styleSpec,objectElementValidators:{"*":function(un){return Vo(ot({layerType:tt},un))}}})}}})),D}function os(A){var D=A.value,W=A.key,le=hi(D);return le!=="string"?[new je(W,D,"string expected, "+le+" found")]:[]}var ol={promoteId:function(A){var D=A.key,W=A.value;if(hi(W)==="string")return os({key:D,value:W});var le=[];for(var Ee in W)le.push.apply(le,os({key:D+"."+Ee,value:W[Ee]}));return le}};function Ho(A){var D=A.value,W=A.key,le=A.styleSpec,Ee=A.style;if(!D.type)return[new je(W,D,'"type" is required')];var Pe,Ve=xt(D.type);switch(Ve){case"vector":case"raster":case"raster-dem":return fo({key:W,value:D,valueSpec:le["source_"+Ve.replace("-","_")],style:A.style,styleSpec:le,objectElementValidators:ol});case"geojson":if(Pe=fo({key:W,value:D,valueSpec:le.source_geojson,style:Ee,styleSpec:le,objectElementValidators:ol}),D.cluster)for(var tt in D.clusterProperties){var ht=D.clusterProperties[tt],Tt=ht[0],At=ht[1],Ft=typeof Tt=="string"?[Tt,["accumulated"],["get",tt]]:Tt;Pe.push.apply(Pe,rs({key:W+"."+tt+".map",value:At,expressionContext:"cluster-map"})),Pe.push.apply(Pe,rs({key:W+"."+tt+".reduce",value:Ft,expressionContext:"cluster-reduce"}))}return Pe;case"video":return fo({key:W,value:D,valueSpec:le.source_video,style:Ee,styleSpec:le});case"image":return fo({key:W,value:D,valueSpec:le.source_image,style:Ee,styleSpec:le});case"canvas":return[new je(W,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Al({key:W+".type",value:D.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:Ee,styleSpec:le})}}function As(A){var D=A.value,W=A.styleSpec,le=W.light,Ee=A.style,Pe=[],Ve=hi(D);if(D===void 0)return Pe;if(Ve!=="object")return Pe.concat([new je("light",D,"object expected, "+Ve+" found")]);for(var tt in D){var ht=tt.match(/^(.*)-transition$/);Pe=ht&&le[ht[1]]&&le[ht[1]].transition?Pe.concat(Di({key:tt,value:D[tt],valueSpec:W.transition,style:Ee,styleSpec:W})):le[tt]?Pe.concat(Di({key:tt,value:D[tt],valueSpec:le[tt],style:Ee,styleSpec:W})):Pe.concat([new je(tt,D[tt],'unknown property "'+tt+'"')])}return Pe}var ss={"*":function(){return[]},array:xu,boolean:function(A){var D=A.value,W=A.key,le=hi(D);return le!=="boolean"?[new je(W,D,"boolean expected, "+le+" found")]:[]},number:bu,color:function(A){var D=A.key,W=A.value,le=hi(W);return le!=="string"?[new je(D,W,"color expected, "+le+" found")]:hn(W)===null?[new je(D,W,'color expected, "'+W+'" found')]:[]},constants:st,enum:Al,filter:Kr,function:Ml,layer:al,object:fo,source:Ho,light:As,string:os,formatted:function(A){return os(A).length===0?[]:rs(A)},resolvedImage:function(A){return os(A).length===0?[]:rs(A)}};function Di(A){var D=A.value,W=A.valueSpec,le=A.styleSpec;return W.expression&&co(xt(D))?Ml(A):W.expression&&js(mt(D))?rs(A):W.type&&ss[W.type]?ss[W.type](A):fo(ot({},A,{valueSpec:W.type?le[W.type]:W}))}function Ss(A){var D=A.value,W=A.key,le=os(A);return le.length||(D.indexOf("{fontstack}")===-1&&le.push(new je(W,D,'"glyphs" url must include a "{fontstack}" token')),D.indexOf("{range}")===-1&&le.push(new je(W,D,'"glyphs" url must include a "{range}" token'))),le}function Es(A,D){D===void 0&&(D=Re);var W=[];return W=W.concat(Di({key:"",value:A,valueSpec:D.$root,styleSpec:D,style:A,objectElementValidators:{glyphs:Ss,"*":function(){return[]}}})),A.constants&&(W=W.concat(st({key:"constants",value:A.constants,style:A,styleSpec:D}))),Qi(W)}function Qi(A){return[].concat(A).sort(function(D,W){return D.line-W.line})}function Ta(A){return function(){for(var D=[],W=arguments.length;W--;)D[W]=arguments[W];return Qi(A.apply(this,D))}}Es.source=Ta(Ho),Es.light=Ta(As),Es.layer=Ta(al),Es.filter=Ta(Kr),Es.paintProperty=Ta(Vo),Es.layoutProperty=Ta(Xl);var ma=Es,ea=ma.light,Ca=ma.paintProperty,ls=ma.layoutProperty;function ho(A,D){var W=!1;if(D&&D.length)for(var le=0,Ee=D;le<Ee.length;le+=1){var Pe=Ee[le];A.fire(new ct(new Error(Pe.message))),W=!0}return W}var ua=no,Xa=3;function no(A,D,W){var le=this.cells=[];if(A instanceof ArrayBuffer){this.arrayBuffer=A;var Ee=new Int32Array(this.arrayBuffer);A=Ee[0],D=Ee[1],W=Ee[2],this.d=D+2*W;for(var Pe=0;Pe<this.d*this.d;Pe++){var Ve=Ee[Xa+Pe],tt=Ee[Xa+Pe+1];le.push(Ve===tt?null:Ee.subarray(Ve,tt))}var ht=Ee[Xa+le.length],Tt=Ee[Xa+le.length+1];this.keys=Ee.subarray(ht,Tt),this.bboxes=Ee.subarray(Tt),this.insert=this._insertReadonly}else{this.d=D+2*W;for(var At=0;At<this.d*this.d;At++)le.push([]);this.keys=[],this.bboxes=[]}this.n=D,this.extent=A,this.padding=W,this.scale=D/A,this.uid=0;var Ft=W/D*A;this.min=-Ft,this.max=A+Ft}no.prototype.insert=function(A,D,W,le,Ee){this._forEachCell(D,W,le,Ee,this._insertCell,this.uid++),this.keys.push(A),this.bboxes.push(D),this.bboxes.push(W),this.bboxes.push(le),this.bboxes.push(Ee)},no.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},no.prototype._insertCell=function(A,D,W,le,Ee,Pe){this.cells[Ee].push(Pe)},no.prototype.query=function(A,D,W,le,Ee){var Pe=this.min,Ve=this.max;if(A<=Pe&&D<=Pe&&Ve<=W&&Ve<=le&&!Ee)return Array.prototype.slice.call(this.keys);var tt=[];return this._forEachCell(A,D,W,le,this._queryCell,tt,{},Ee),tt},no.prototype._queryCell=function(A,D,W,le,Ee,Pe,Ve,tt){var ht=this.cells[Ee];if(ht!==null)for(var Tt=this.keys,At=this.bboxes,Ft=0;Ft<ht.length;Ft++){var Ht=ht[Ft];if(Ve[Ht]===void 0){var jt=4*Ht;(tt?tt(At[jt+0],At[jt+1],At[jt+2],At[jt+3]):A<=At[jt+2]&&D<=At[jt+3]&&W>=At[jt+0]&&le>=At[jt+1])?(Ve[Ht]=!0,Pe.push(Tt[Ht])):Ve[Ht]=!1}}},no.prototype._forEachCell=function(A,D,W,le,Ee,Pe,Ve,tt){for(var ht=this._convertToCellCoord(A),Tt=this._convertToCellCoord(D),At=this._convertToCellCoord(W),Ft=this._convertToCellCoord(le),Ht=ht;Ht<=At;Ht++)for(var jt=Tt;jt<=Ft;jt++){var on=this.d*jt+Ht;if((!tt||tt(this._convertFromCellCoord(Ht),this._convertFromCellCoord(jt),this._convertFromCellCoord(Ht+1),this._convertFromCellCoord(jt+1)))&&Ee.call(this,A,D,W,le,on,Pe,Ve,tt))return}},no.prototype._convertFromCellCoord=function(A){return(A-this.padding)/this.scale},no.prototype._convertToCellCoord=function(A){return Math.max(0,Math.min(this.d-1,Math.floor(A*this.scale)+this.padding))},no.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var A=this.cells,D=Xa+this.cells.length+1+1,W=0,le=0;le<this.cells.length;le++)W+=this.cells[le].length;var Ee=new Int32Array(D+W+this.keys.length+this.bboxes.length);Ee[0]=this.extent,Ee[1]=this.n,Ee[2]=this.padding;for(var Pe=D,Ve=0;Ve<A.length;Ve++){var tt=A[Ve];Ee[Xa+Ve]=Pe,Ee.set(tt,Pe),Pe+=tt.length}return Ee[Xa+A.length]=Pe,Ee.set(this.keys,Pe),Pe+=this.keys.length,Ee[Xa+A.length+1]=Pe,Ee.set(this.bboxes,Pe),Pe+=this.bboxes.length,Ee.buffer};var Sl=self.ImageData,ro=self.ImageBitmap,ca={};function Ar(A,D,W){W===void 0&&(W={}),Object.defineProperty(D,"_classRegistryKey",{value:A,writeable:!1}),ca[A]={klass:D,omit:W.omit||[],shallow:W.shallow||[]}}for(var ka in Ar("Object",Object),ua.serialize=function(A,D){var W=A.toArrayBuffer();return D&&D.push(W),{buffer:W}},ua.deserialize=function(A){return new ua(A.buffer)},Ar("Grid",ua),Ar("Color",mn),Ar("Error",Error),Ar("ResolvedImage",yn),Ar("StylePropertyFunction",jo),Ar("StyleExpression",nl,{omit:["_evaluator"]}),Ar("ZoomDependentExpression",No),Ar("ZoomConstantExpression",ts),Ar("CompoundExpression",Bn,{omit:["_evaluate"]}),Ns)Ns[ka]._classRegistryKey||Ar("Expression_"+ka,Ns[ka]);function sl(A){return A&&typeof ArrayBuffer<"u"&&(A instanceof ArrayBuffer||A.constructor&&A.constructor.name==="ArrayBuffer")}function El(A){return ro&&A instanceof ro}function Ls(A,D){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp)return A;if(sl(A)||El(A))return D&&D.push(A),A;if(ArrayBuffer.isView(A)){var W=A;return D&&D.push(W.buffer),W}if(A instanceof Sl)return D&&D.push(A.data.buffer),A;if(Array.isArray(A)){for(var le=[],Ee=0,Pe=A;Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];le.push(Ls(Ve,D))}return le}if(typeof A=="object"){var tt=A.constructor,ht=tt._classRegistryKey;if(!ht)throw new Error("can't serialize object of unregistered class");var Tt=tt.serialize?tt.serialize(A,D):{};if(!tt.serialize){for(var At in A)if(A.hasOwnProperty(At)&&!(ca[ht].omit.indexOf(At)>=0)){var Ft=A[At];Tt[At]=ca[ht].shallow.indexOf(At)>=0?Ft:Ls(Ft,D)}A instanceof Error&&(Tt.message=A.message)}if(Tt.$name)throw new Error("$name property is reserved for worker serialization logic.");return ht!=="Object"&&(Tt.$name=ht),Tt}throw new Error("can't serialize object of type "+typeof A)}function Cs(A){if(A==null||typeof A=="boolean"||typeof A=="number"||typeof A=="string"||A instanceof Boolean||A instanceof Number||A instanceof String||A instanceof Date||A instanceof RegExp||sl(A)||El(A)||ArrayBuffer.isView(A)||A instanceof Sl)return A;if(Array.isArray(A))return A.map(Cs);if(typeof A=="object"){var D=A.$name||"Object",W=ca[D].klass;if(!W)throw new Error("can't deserialize unregistered class "+D);if(W.deserialize)return W.deserialize(A);for(var le=Object.create(W.prototype),Ee=0,Pe=Object.keys(A);Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];if(Ve!=="$name"){var tt=A[Ve];le[Ve]=ca[D].shallow.indexOf(Ve)>=0?tt:Cs(tt)}}return le}throw new Error("can't deserialize object of type "+typeof A)}var qo=function(){this.first=!0};qo.prototype.update=function(A,D){var W=Math.floor(A);return this.first?(this.first=!1,this.lastIntegerZoom=W,this.lastIntegerZoomTime=0,this.lastZoom=A,this.lastFloorZoom=W,!0):(this.lastFloorZoom>W?(this.lastIntegerZoom=W+1,this.lastIntegerZoomTime=D):this.lastFloorZoom<W&&(this.lastIntegerZoom=W,this.lastIntegerZoomTime=D),A!==this.lastZoom&&(this.lastZoom=A,this.lastFloorZoom=W,!0))};var Tr={"Latin-1 Supplement":function(A){return A>=128&&A<=255},Arabic:function(A){return A>=1536&&A<=1791},"Arabic Supplement":function(A){return A>=1872&&A<=1919},"Arabic Extended-A":function(A){return A>=2208&&A<=2303},"Hangul Jamo":function(A){return A>=4352&&A<=4607},"Unified Canadian Aboriginal Syllabics":function(A){return A>=5120&&A<=5759},Khmer:function(A){return A>=6016&&A<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(A){return A>=6320&&A<=6399},"General Punctuation":function(A){return A>=8192&&A<=8303},"Letterlike Symbols":function(A){return A>=8448&&A<=8527},"Number Forms":function(A){return A>=8528&&A<=8591},"Miscellaneous Technical":function(A){return A>=8960&&A<=9215},"Control Pictures":function(A){return A>=9216&&A<=9279},"Optical Character Recognition":function(A){return A>=9280&&A<=9311},"Enclosed Alphanumerics":function(A){return A>=9312&&A<=9471},"Geometric Shapes":function(A){return A>=9632&&A<=9727},"Miscellaneous Symbols":function(A){return A>=9728&&A<=9983},"Miscellaneous Symbols and Arrows":function(A){return A>=11008&&A<=11263},"CJK Radicals Supplement":function(A){return A>=11904&&A<=12031},"Kangxi Radicals":function(A){return A>=12032&&A<=12255},"Ideographic Description Characters":function(A){return A>=12272&&A<=12287},"CJK Symbols and Punctuation":function(A){return A>=12288&&A<=12351},Hiragana:function(A){return A>=12352&&A<=12447},Katakana:function(A){return A>=12448&&A<=12543},Bopomofo:function(A){return A>=12544&&A<=12591},"Hangul Compatibility Jamo":function(A){return A>=12592&&A<=12687},Kanbun:function(A){return A>=12688&&A<=12703},"Bopomofo Extended":function(A){return A>=12704&&A<=12735},"CJK Strokes":function(A){return A>=12736&&A<=12783},"Katakana Phonetic Extensions":function(A){return A>=12784&&A<=12799},"Enclosed CJK Letters and Months":function(A){return A>=12800&&A<=13055},"CJK Compatibility":function(A){return A>=13056&&A<=13311},"CJK Unified Ideographs Extension A":function(A){return A>=13312&&A<=19903},"Yijing Hexagram Symbols":function(A){return A>=19904&&A<=19967},"CJK Unified Ideographs":function(A){return A>=19968&&A<=40959},"Yi Syllables":function(A){return A>=40960&&A<=42127},"Yi Radicals":function(A){return A>=42128&&A<=42191},"Hangul Jamo Extended-A":function(A){return A>=43360&&A<=43391},"Hangul Syllables":function(A){return A>=44032&&A<=55215},"Hangul Jamo Extended-B":function(A){return A>=55216&&A<=55295},"Private Use Area":function(A){return A>=57344&&A<=63743},"CJK Compatibility Ideographs":function(A){return A>=63744&&A<=64255},"Arabic Presentation Forms-A":function(A){return A>=64336&&A<=65023},"Vertical Forms":function(A){return A>=65040&&A<=65055},"CJK Compatibility Forms":function(A){return A>=65072&&A<=65103},"Small Form Variants":function(A){return A>=65104&&A<=65135},"Arabic Presentation Forms-B":function(A){return A>=65136&&A<=65279},"Halfwidth and Fullwidth Forms":function(A){return A>=65280&&A<=65519}};function po(A){for(var D=0,W=A;D<W.length;D+=1)if(Hs(W[D].charCodeAt(0)))return!0;return!1}function Hs(A){return!(A!==746&&A!==747&&(A<4352||!(Tr["Bopomofo Extended"](A)||Tr.Bopomofo(A)||Tr["CJK Compatibility Forms"](A)&&!(A>=65097&&A<=65103)||Tr["CJK Compatibility Ideographs"](A)||Tr["CJK Compatibility"](A)||Tr["CJK Radicals Supplement"](A)||Tr["CJK Strokes"](A)||!(!Tr["CJK Symbols and Punctuation"](A)||A>=12296&&A<=12305||A>=12308&&A<=12319||A===12336)||Tr["CJK Unified Ideographs Extension A"](A)||Tr["CJK Unified Ideographs"](A)||Tr["Enclosed CJK Letters and Months"](A)||Tr["Hangul Compatibility Jamo"](A)||Tr["Hangul Jamo Extended-A"](A)||Tr["Hangul Jamo Extended-B"](A)||Tr["Hangul Jamo"](A)||Tr["Hangul Syllables"](A)||Tr.Hiragana(A)||Tr["Ideographic Description Characters"](A)||Tr.Kanbun(A)||Tr["Kangxi Radicals"](A)||Tr["Katakana Phonetic Extensions"](A)||Tr.Katakana(A)&&A!==12540||!(!Tr["Halfwidth and Fullwidth Forms"](A)||A===65288||A===65289||A===65293||A>=65306&&A<=65310||A===65339||A===65341||A===65343||A>=65371&&A<=65503||A===65507||A>=65512&&A<=65519)||!(!Tr["Small Form Variants"](A)||A>=65112&&A<=65118||A>=65123&&A<=65126)||Tr["Unified Canadian Aboriginal Syllabics"](A)||Tr["Unified Canadian Aboriginal Syllabics Extended"](A)||Tr["Vertical Forms"](A)||Tr["Yijing Hexagram Symbols"](A)||Tr["Yi Syllables"](A)||Tr["Yi Radicals"](A))))}function ll(A){return!(Hs(A)||function(D){return!!(Tr["Latin-1 Supplement"](D)&&(D===167||D===169||D===174||D===177||D===188||D===189||D===190||D===215||D===247)||Tr["General Punctuation"](D)&&(D===8214||D===8224||D===8225||D===8240||D===8241||D===8251||D===8252||D===8258||D===8263||D===8264||D===8265||D===8273)||Tr["Letterlike Symbols"](D)||Tr["Number Forms"](D)||Tr["Miscellaneous Technical"](D)&&(D>=8960&&D<=8967||D>=8972&&D<=8991||D>=8996&&D<=9e3||D===9003||D>=9085&&D<=9114||D>=9150&&D<=9165||D===9167||D>=9169&&D<=9179||D>=9186&&D<=9215)||Tr["Control Pictures"](D)&&D!==9251||Tr["Optical Character Recognition"](D)||Tr["Enclosed Alphanumerics"](D)||Tr["Geometric Shapes"](D)||Tr["Miscellaneous Symbols"](D)&&!(D>=9754&&D<=9759)||Tr["Miscellaneous Symbols and Arrows"](D)&&(D>=11026&&D<=11055||D>=11088&&D<=11097||D>=11192&&D<=11243)||Tr["CJK Symbols and Punctuation"](D)||Tr.Katakana(D)||Tr["Private Use Area"](D)||Tr["CJK Compatibility Forms"](D)||Tr["Small Form Variants"](D)||Tr["Halfwidth and Fullwidth Forms"](D)||D===8734||D===8756||D===8757||D>=9984&&D<=10087||D>=10102&&D<=10131||D===65532||D===65533)}(A))}function Ma(A){return Tr.Arabic(A)||Tr["Arabic Supplement"](A)||Tr["Arabic Extended-A"](A)||Tr["Arabic Presentation Forms-A"](A)||Tr["Arabic Presentation Forms-B"](A)}function go(A){return A>=1424&&A<=2303||Tr["Arabic Presentation Forms-A"](A)||Tr["Arabic Presentation Forms-B"](A)}function io(A,D){return!(!D&&go(A)||A>=2304&&A<=3583||A>=3840&&A<=4255||Tr.Khmer(A))}function Ja(A){for(var D=0,W=A;D<W.length;D+=1)if(go(W[D].charCodeAt(0)))return!0;return!1}var Mo="deferred",Go="loading",ta="loaded",Os="error",qs=null,fa="unavailable",di=null,ul=function(A){A&&typeof A=="string"&&A.indexOf("NetworkError")>-1&&(fa=Os),qs&&qs(A)};function Ua(){na.fire(new $e("pluginStateChange",{pluginStatus:fa,pluginURL:di}))}var na=new at,Ao=function(){return fa},Jl=function(){if(fa!==Mo||!di)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");fa=Go,Ua(),di&&Et({url:di},function(A){A?ul(A):(fa=ta,Ua())})},Vi={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return fa===ta||Vi.applyArabicShaping!=null},isLoading:function(){return fa===Go},setState:function(A){fa=A.pluginStatus,di=A.pluginURL},isParsed:function(){return Vi.applyArabicShaping!=null&&Vi.processBidirectionalText!=null&&Vi.processStyledBidirectionalText!=null},getPluginURL:function(){return di}},ui=function(A,D){this.zoom=A,D?(this.now=D.now,this.fadeDuration=D.fadeDuration,this.zoomHistory=D.zoomHistory,this.transition=D.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new qo,this.transition={})};ui.prototype.isSupportedScript=function(A){return function(D,W){for(var le=0,Ee=D;le<Ee.length;le+=1)if(!io(Ee[le].charCodeAt(0),W))return!1;return!0}(A,Vi.isLoaded())},ui.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ui.prototype.getCrossfadeParameters=function(){var A=this.zoom,D=A-Math.floor(A),W=this.crossFadingFactor();return A>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:D+(1-D)*W}:{fromScale:.5,toScale:1,t:1-(1-W)*D}};var Ka=function(A,D){this.property=A,this.value=D,this.expression=function(W,le){if(co(W))return new jo(W,le);if(js(W)){var Ee=ns(W,le);if(Ee.result==="error")throw new Error(Ee.value.map(function(Ve){return Ve.key+": "+Ve.message}).join(", "));return Ee.value}var Pe=W;return typeof W=="string"&&le.type==="color"&&(Pe=mn.parse(W)),{kind:"constant",evaluate:function(){return Pe}}}(D===void 0?A.specification.default:D,A.specification)};Ka.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ka.prototype.possiblyEvaluate=function(A,D,W){return this.property.possiblyEvaluate(this,A,D,W)};var So=function(A){this.property=A,this.value=new Ka(A,void 0)};So.prototype.transitioned=function(A,D){return new Ll(this.property,this.value,D,u({},A.transition,this.transition),A.now)},So.prototype.untransitioned=function(){return new Ll(this.property,this.value,null,{},0)};var vo=function(A){this._properties=A,this._values=Object.create(A.defaultTransitionablePropertyValues)};vo.prototype.getValue=function(A){return w(this._values[A].value.value)},vo.prototype.setValue=function(A,D){this._values.hasOwnProperty(A)||(this._values[A]=new So(this._values[A].property)),this._values[A].value=new Ka(this._values[A].property,D===null?void 0:w(D))},vo.prototype.getTransition=function(A){return w(this._values[A].transition)},vo.prototype.setTransition=function(A,D){this._values.hasOwnProperty(A)||(this._values[A]=new So(this._values[A].property)),this._values[A].transition=w(D)||void 0},vo.prototype.serialize=function(){for(var A={},D=0,W=Object.keys(this._values);D<W.length;D+=1){var le=W[D],Ee=this.getValue(le);Ee!==void 0&&(A[le]=Ee);var Pe=this.getTransition(le);Pe!==void 0&&(A[le+"-transition"]=Pe)}return A},vo.prototype.transitioned=function(A,D){for(var W=new us(this._properties),le=0,Ee=Object.keys(this._values);le<Ee.length;le+=1){var Pe=Ee[le];W._values[Pe]=this._values[Pe].transitioned(A,D._values[Pe])}return W},vo.prototype.untransitioned=function(){for(var A=new us(this._properties),D=0,W=Object.keys(this._values);D<W.length;D+=1){var le=W[D];A._values[le]=this._values[le].untransitioned()}return A};var Ll=function(A,D,W,le,Ee){this.property=A,this.value=D,this.begin=Ee+le.delay||0,this.end=this.begin+le.duration||0,A.specification.transition&&(le.delay||le.duration)&&(this.prior=W)};Ll.prototype.possiblyEvaluate=function(A,D,W){var le=A.now||0,Ee=this.value.possiblyEvaluate(A,D,W),Pe=this.prior;if(Pe){if(le>this.end)return this.prior=null,Ee;if(this.value.isDataDriven())return this.prior=null,Ee;if(le<this.begin)return Pe.possiblyEvaluate(A,D,W);var Ve=(le-this.begin)/(this.end-this.begin);return this.property.interpolate(Pe.possiblyEvaluate(A,D,W),Ee,function(tt){if(tt<=0)return 0;if(tt>=1)return 1;var ht=tt*tt,Tt=ht*tt;return 4*(tt<.5?Tt:3*(tt-ht)+Tt-.75)}(Ve))}return Ee};var us=function(A){this._properties=A,this._values=Object.create(A.defaultTransitioningPropertyValues)};us.prototype.possiblyEvaluate=function(A,D,W){for(var le=new ya(this._properties),Ee=0,Pe=Object.keys(this._values);Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];le._values[Ve]=this._values[Ve].possiblyEvaluate(A,D,W)}return le},us.prototype.hasTransition=function(){for(var A=0,D=Object.keys(this._values);A<D.length;A+=1){var W=D[A];if(this._values[W].prior)return!0}return!1};var Ps=function(A){this._properties=A,this._values=Object.create(A.defaultPropertyValues)};Ps.prototype.getValue=function(A){return w(this._values[A].value)},Ps.prototype.setValue=function(A,D){this._values[A]=new Ka(this._values[A].property,D===null?void 0:w(D))},Ps.prototype.serialize=function(){for(var A={},D=0,W=Object.keys(this._values);D<W.length;D+=1){var le=W[D],Ee=this.getValue(le);Ee!==void 0&&(A[le]=Ee)}return A},Ps.prototype.possiblyEvaluate=function(A,D,W){for(var le=new ya(this._properties),Ee=0,Pe=Object.keys(this._values);Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];le._values[Ve]=this._values[Ve].possiblyEvaluate(A,D,W)}return le};var Ji=function(A,D,W){this.property=A,this.value=D,this.parameters=W};Ji.prototype.isConstant=function(){return this.value.kind==="constant"},Ji.prototype.constantOr=function(A){return this.value.kind==="constant"?this.value.value:A},Ji.prototype.evaluate=function(A,D,W,le){return this.property.evaluate(this.value,this.parameters,A,D,W,le)};var ya=function(A){this._properties=A,this._values=Object.create(A.defaultPossiblyEvaluatedValues)};ya.prototype.get=function(A){return this._values[A]};var Or=function(A){this.specification=A};Or.prototype.possiblyEvaluate=function(A,D){return A.expression.evaluate(D)},Or.prototype.interpolate=function(A,D,W){var le=xr[this.specification.type];return le?le(A,D,W):A};var Ir=function(A,D){this.specification=A,this.overrides=D};Ir.prototype.possiblyEvaluate=function(A,D,W,le){return A.expression.kind==="constant"||A.expression.kind==="camera"?new Ji(this,{kind:"constant",value:A.expression.evaluate(D,null,{},W,le)},D):new Ji(this,A.expression,D)},Ir.prototype.interpolate=function(A,D,W){if(A.value.kind!=="constant"||D.value.kind!=="constant")return A;if(A.value.value===void 0||D.value.value===void 0)return new Ji(this,{kind:"constant",value:void 0},A.parameters);var le=xr[this.specification.type];return le?new Ji(this,{kind:"constant",value:le(A.value.value,D.value.value,W)},A.parameters):A},Ir.prototype.evaluate=function(A,D,W,le,Ee,Pe){return A.kind==="constant"?A.value:A.evaluate(D,W,le,Ee,Pe)};var Gs=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(W,le,Ee,Pe){if(W.value===void 0)return new Ji(this,{kind:"constant",value:void 0},le);if(W.expression.kind==="constant"){var Ve=W.expression.evaluate(le,null,{},Ee,Pe),tt=W.property.specification.type==="resolvedImage"&&typeof Ve!="string"?Ve.name:Ve,ht=this._calculate(tt,tt,tt,le);return new Ji(this,{kind:"constant",value:ht},le)}if(W.expression.kind==="camera"){var Tt=this._calculate(W.expression.evaluate({zoom:le.zoom-1}),W.expression.evaluate({zoom:le.zoom}),W.expression.evaluate({zoom:le.zoom+1}),le);return new Ji(this,{kind:"constant",value:Tt},le)}return new Ji(this,W.expression,le)},D.prototype.evaluate=function(W,le,Ee,Pe,Ve,tt){if(W.kind==="source"){var ht=W.evaluate(le,Ee,Pe,Ve,tt);return this._calculate(ht,ht,ht,le)}return W.kind==="composite"?this._calculate(W.evaluate({zoom:Math.floor(le.zoom)-1},Ee,Pe),W.evaluate({zoom:Math.floor(le.zoom)},Ee,Pe),W.evaluate({zoom:Math.floor(le.zoom)+1},Ee,Pe),le):W.value},D.prototype._calculate=function(W,le,Ee,Pe){return Pe.zoom>Pe.zoomHistory.lastIntegerZoom?{from:W,to:le}:{from:Ee,to:le}},D.prototype.interpolate=function(W){return W},D}(Ir),Oa=function(A){this.specification=A};Oa.prototype.possiblyEvaluate=function(A,D,W,le){if(A.value!==void 0){if(A.expression.kind==="constant"){var Ee=A.expression.evaluate(D,null,{},W,le);return this._calculate(Ee,Ee,Ee,D)}return this._calculate(A.expression.evaluate(new ui(Math.floor(D.zoom-1),D)),A.expression.evaluate(new ui(Math.floor(D.zoom),D)),A.expression.evaluate(new ui(Math.floor(D.zoom+1),D)),D)}},Oa.prototype._calculate=function(A,D,W,le){return le.zoom>le.zoomHistory.lastIntegerZoom?{from:A,to:D}:{from:W,to:D}},Oa.prototype.interpolate=function(A){return A};var cs=function(A){this.specification=A};cs.prototype.possiblyEvaluate=function(A,D,W,le){return!!A.expression.evaluate(D,null,{},W,le)},cs.prototype.interpolate=function(){return!1};var xa=function(A){for(var D in this.properties=A,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],A){var W=A[D];W.specification.overridable&&this.overridableProperties.push(D);var le=this.defaultPropertyValues[D]=new Ka(W,void 0),Ee=this.defaultTransitionablePropertyValues[D]=new So(W);this.defaultTransitioningPropertyValues[D]=Ee.untransitioned(),this.defaultPossiblyEvaluatedValues[D]=le.possiblyEvaluate({})}};Ar("DataDrivenProperty",Ir),Ar("DataConstantProperty",Or),Ar("CrossFadedDataDrivenProperty",Gs),Ar("CrossFadedProperty",Oa),Ar("ColorRampProperty",cs);var Ys="-transition",ba=function(A){function D(W,le){if(A.call(this),this.id=W.id,this.type=W.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},W.type!=="custom"&&(this.metadata=W.metadata,this.minzoom=W.minzoom,this.maxzoom=W.maxzoom,W.type!=="background"&&(this.source=W.source,this.sourceLayer=W["source-layer"],this.filter=W.filter),le.layout&&(this._unevaluatedLayout=new Ps(le.layout)),le.paint)){for(var Ee in this._transitionablePaint=new vo(le.paint),W.paint)this.setPaintProperty(Ee,W.paint[Ee],{validate:!1});for(var Pe in W.layout)this.setLayoutProperty(Pe,W.layout[Pe],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new ya(le.paint)}}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},D.prototype.getLayoutProperty=function(W){return W==="visibility"?this.visibility:this._unevaluatedLayout.getValue(W)},D.prototype.setLayoutProperty=function(W,le,Ee){if(Ee===void 0&&(Ee={}),le!=null){var Pe="layers."+this.id+".layout."+W;if(this._validate(ls,Pe,W,le,Ee))return}W!=="visibility"?this._unevaluatedLayout.setValue(W,le):this.visibility=le},D.prototype.getPaintProperty=function(W){return x(W,Ys)?this._transitionablePaint.getTransition(W.slice(0,-11)):this._transitionablePaint.getValue(W)},D.prototype.setPaintProperty=function(W,le,Ee){if(Ee===void 0&&(Ee={}),le!=null){var Pe="layers."+this.id+".paint."+W;if(this._validate(Ca,Pe,W,le,Ee))return!1}if(x(W,Ys))return this._transitionablePaint.setTransition(W.slice(0,-11),le||void 0),!1;var Ve=this._transitionablePaint._values[W],tt=Ve.property.specification["property-type"]==="cross-faded-data-driven",ht=Ve.value.isDataDriven(),Tt=Ve.value;this._transitionablePaint.setValue(W,le),this._handleSpecialPaintPropertyUpdate(W);var At=this._transitionablePaint._values[W].value;return At.isDataDriven()||ht||tt||this._handleOverridablePaintPropertyUpdate(W,Tt,At)},D.prototype._handleSpecialPaintPropertyUpdate=function(W){},D.prototype._handleOverridablePaintPropertyUpdate=function(W,le,Ee){return!1},D.prototype.isHidden=function(W){return!!(this.minzoom&&W<this.minzoom)||!!(this.maxzoom&&W>=this.maxzoom)||this.visibility==="none"},D.prototype.updateTransitions=function(W){this._transitioningPaint=this._transitionablePaint.transitioned(W,this._transitioningPaint)},D.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},D.prototype.recalculate=function(W,le){W.getCrossfadeParameters&&(this._crossfadeParameters=W.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(W,void 0,le)),this.paint=this._transitioningPaint.possiblyEvaluate(W,void 0,le)},D.prototype.serialize=function(){var W={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(W.layout=W.layout||{},W.layout.visibility=this.visibility),m(W,function(le,Ee){return!(le===void 0||Ee==="layout"&&!Object.keys(le).length||Ee==="paint"&&!Object.keys(le).length)})},D.prototype._validate=function(W,le,Ee,Pe,Ve){return Ve===void 0&&(Ve={}),(!Ve||Ve.validate!==!1)&&ho(this,W.call(ma,{key:le,layerType:this.type,objectKey:Ee,value:Pe,styleSpec:Re,style:{glyphs:!0,sprite:!0}}))},D.prototype.is3D=function(){return!1},D.prototype.isTileClipped=function(){return!1},D.prototype.hasOffscreenPass=function(){return!1},D.prototype.resize=function(){},D.prototype.isStateDependent=function(){for(var W in this.paint._values){var le=this.paint.get(W);if(le instanceof Ji&&Bo(le.property.specification)&&(le.value.kind==="source"||le.value.kind==="composite")&&le.value.isStateDependent)return!0}return!1},D}(at),fs={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},hs=function(A,D){this._structArray=A,this._pos1=D*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},jr=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function ra(A,D){D===void 0&&(D=1);var W=0,le=0;return{members:A.map(function(Ee){var Pe,Ve=(Pe=Ee.type,fs[Pe].BYTES_PER_ELEMENT),tt=W=Eo(W,Math.max(D,Ve)),ht=Ee.components||1;return le=Math.max(le,Ve),W+=Ve*ht,{name:Ee.name,type:Ee.type,components:ht,offset:tt}}),size:Eo(W,Math.max(le,D)),alignment:D}}function Eo(A,D){return Math.ceil(A/D)*D}jr.serialize=function(A,D){return A._trim(),D&&(A.isTransferred=!0,D.push(A.arrayBuffer)),{length:A.length,arrayBuffer:A.arrayBuffer}},jr.deserialize=function(A){var D=Object.create(this.prototype);return D.arrayBuffer=A.arrayBuffer,D.length=A.length,D.capacity=A.arrayBuffer.byteLength/D.bytesPerElement,D._refreshViews(),D},jr.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},jr.prototype.clear=function(){this.length=0},jr.prototype.resize=function(A){this.reserve(A),this.length=A},jr.prototype.reserve=function(A){if(A>this.capacity){this.capacity=Math.max(A,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var D=this.uint8;this._refreshViews(),D&&this.uint8.set(D)}},jr.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Va=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,W,le)},D.prototype.emplace=function(W,le,Ee){var Pe=2*W;return this.int16[Pe+0]=le,this.int16[Pe+1]=Ee,W},D}(jr);Va.prototype.bytesPerElement=4,Ar("StructArrayLayout2i4",Va);var Is=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,W,le,Ee,Pe)},D.prototype.emplace=function(W,le,Ee,Pe,Ve){var tt=4*W;return this.int16[tt+0]=le,this.int16[tt+1]=Ee,this.int16[tt+2]=Pe,this.int16[tt+3]=Ve,W},D}(jr);Is.prototype.bytesPerElement=8,Ar("StructArrayLayout4i8",Is);var Ws=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,W,le,Ee,Pe,Ve,tt)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht){var Tt=6*W;return this.int16[Tt+0]=le,this.int16[Tt+1]=Ee,this.int16[Tt+2]=Pe,this.int16[Tt+3]=Ve,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,W},D}(jr);Ws.prototype.bytesPerElement=12,Ar("StructArrayLayout2i4i12",Ws);var Ds=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,W,le,Ee,Pe,Ve,tt)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht){var Tt=4*W,At=8*W;return this.int16[Tt+0]=le,this.int16[Tt+1]=Ee,this.uint8[At+4]=Pe,this.uint8[At+5]=Ve,this.uint8[At+6]=tt,this.uint8[At+7]=ht,W},D}(jr);Ds.prototype.bytesPerElement=8,Ar("StructArrayLayout2i4ub8",Ds);var Yo=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft){var Ht=this.length;return this.resize(Ht+1),this.emplace(Ht,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht){var jt=9*W,on=18*W;return this.uint16[jt+0]=le,this.uint16[jt+1]=Ee,this.uint16[jt+2]=Pe,this.uint16[jt+3]=Ve,this.uint16[jt+4]=tt,this.uint16[jt+5]=ht,this.uint16[jt+6]=Tt,this.uint16[jt+7]=At,this.uint8[on+16]=Ft,this.uint8[on+17]=Ht,W},D}(jr);Yo.prototype.bytesPerElement=18,Ar("StructArrayLayout8ui2ub18",Yo);var z=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt){var on=this.length;return this.resize(on+1),this.emplace(on,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on){var un=12*W;return this.int16[un+0]=le,this.int16[un+1]=Ee,this.int16[un+2]=Pe,this.int16[un+3]=Ve,this.uint16[un+4]=tt,this.uint16[un+5]=ht,this.uint16[un+6]=Tt,this.uint16[un+7]=At,this.int16[un+8]=Ft,this.int16[un+9]=Ht,this.int16[un+10]=jt,this.int16[un+11]=on,W},D}(jr);z.prototype.bytesPerElement=24,Ar("StructArrayLayout4i4ui4i24",z);var U=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Ee)},D.prototype.emplace=function(W,le,Ee,Pe){var Ve=3*W;return this.float32[Ve+0]=le,this.float32[Ve+1]=Ee,this.float32[Ve+2]=Pe,W},D}(jr);U.prototype.bytesPerElement=12,Ar("StructArrayLayout3f12",U);var j=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W){var le=this.length;return this.resize(le+1),this.emplace(le,W)},D.prototype.emplace=function(W,le){var Ee=1*W;return this.uint32[Ee+0]=le,W},D}(jr);j.prototype.bytesPerElement=4,Ar("StructArrayLayout1ul4",j);var J=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At){var Ft=this.length;return this.resize(Ft+1),this.emplace(Ft,W,le,Ee,Pe,Ve,tt,ht,Tt,At)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft){var Ht=10*W,jt=5*W;return this.int16[Ht+0]=le,this.int16[Ht+1]=Ee,this.int16[Ht+2]=Pe,this.int16[Ht+3]=Ve,this.int16[Ht+4]=tt,this.int16[Ht+5]=ht,this.uint32[jt+3]=Tt,this.uint16[Ht+8]=At,this.uint16[Ht+9]=Ft,W},D}(jr);J.prototype.bytesPerElement=20,Ar("StructArrayLayout6i1ul2ui20",J);var fe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt){var ht=this.length;return this.resize(ht+1),this.emplace(ht,W,le,Ee,Pe,Ve,tt)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht){var Tt=6*W;return this.int16[Tt+0]=le,this.int16[Tt+1]=Ee,this.int16[Tt+2]=Pe,this.int16[Tt+3]=Ve,this.int16[Tt+4]=tt,this.int16[Tt+5]=ht,W},D}(jr);fe.prototype.bytesPerElement=12,Ar("StructArrayLayout2i2i2i12",fe);var Ae=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve){var tt=this.length;return this.resize(tt+1),this.emplace(tt,W,le,Ee,Pe,Ve)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt){var ht=4*W,Tt=8*W;return this.float32[ht+0]=le,this.float32[ht+1]=Ee,this.float32[ht+2]=Pe,this.int16[Tt+6]=Ve,this.int16[Tt+7]=tt,W},D}(jr);Ae.prototype.bytesPerElement=16,Ar("StructArrayLayout2f1f2i16",Ae);var F=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,W,le,Ee,Pe)},D.prototype.emplace=function(W,le,Ee,Pe,Ve){var tt=12*W,ht=3*W;return this.uint8[tt+0]=le,this.uint8[tt+1]=Ee,this.float32[ht+1]=Pe,this.float32[ht+2]=Ve,W},D}(jr);F.prototype.bytesPerElement=12,Ar("StructArrayLayout2ub2f12",F);var Q=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Ee)},D.prototype.emplace=function(W,le,Ee,Pe){var Ve=3*W;return this.uint16[Ve+0]=le,this.uint16[Ve+1]=Ee,this.uint16[Ve+2]=Pe,W},D}(jr);Q.prototype.bytesPerElement=6,Ar("StructArrayLayout3ui6",Q);var ie=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un,Ln,En,Fn){var Nn=this.length;return this.resize(Nn+1),this.emplace(Nn,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un,Ln,En,Fn)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un,Ln,En,Fn,Nn){var Gn=24*W,Kn=12*W,rr=48*W;return this.int16[Gn+0]=le,this.int16[Gn+1]=Ee,this.uint16[Gn+2]=Pe,this.uint16[Gn+3]=Ve,this.uint32[Kn+2]=tt,this.uint32[Kn+3]=ht,this.uint32[Kn+4]=Tt,this.uint16[Gn+10]=At,this.uint16[Gn+11]=Ft,this.uint16[Gn+12]=Ht,this.float32[Kn+7]=jt,this.float32[Kn+8]=on,this.uint8[rr+36]=un,this.uint8[rr+37]=Ln,this.uint8[rr+38]=En,this.uint32[Kn+10]=Fn,this.int16[Gn+22]=Nn,W},D}(jr);ie.prototype.bytesPerElement=48,Ar("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",ie);var de=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un,Ln,En,Fn,Nn,Gn,Kn,rr,yr,hr,wr,Er,qr,Pr,Vr){var zr=this.length;return this.resize(zr+1),this.emplace(zr,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un,Ln,En,Fn,Nn,Gn,Kn,rr,yr,hr,wr,Er,qr,Pr,Vr)},D.prototype.emplace=function(W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un,Ln,En,Fn,Nn,Gn,Kn,rr,yr,hr,wr,Er,qr,Pr,Vr,zr){var Lr=34*W,$r=17*W;return this.int16[Lr+0]=le,this.int16[Lr+1]=Ee,this.int16[Lr+2]=Pe,this.int16[Lr+3]=Ve,this.int16[Lr+4]=tt,this.int16[Lr+5]=ht,this.int16[Lr+6]=Tt,this.int16[Lr+7]=At,this.uint16[Lr+8]=Ft,this.uint16[Lr+9]=Ht,this.uint16[Lr+10]=jt,this.uint16[Lr+11]=on,this.uint16[Lr+12]=un,this.uint16[Lr+13]=Ln,this.uint16[Lr+14]=En,this.uint16[Lr+15]=Fn,this.uint16[Lr+16]=Nn,this.uint16[Lr+17]=Gn,this.uint16[Lr+18]=Kn,this.uint16[Lr+19]=rr,this.uint16[Lr+20]=yr,this.uint16[Lr+21]=hr,this.uint16[Lr+22]=wr,this.uint32[$r+12]=Er,this.float32[$r+13]=qr,this.float32[$r+14]=Pr,this.float32[$r+15]=Vr,this.float32[$r+16]=zr,W},D}(jr);de.prototype.bytesPerElement=68,Ar("StructArrayLayout8i15ui1ul4f68",de);var xe=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W){var le=this.length;return this.resize(le+1),this.emplace(le,W)},D.prototype.emplace=function(W,le){var Ee=1*W;return this.float32[Ee+0]=le,W},D}(jr);xe.prototype.bytesPerElement=4,Ar("StructArrayLayout1f4",xe);var Ce=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Ee)},D.prototype.emplace=function(W,le,Ee,Pe){var Ve=3*W;return this.int16[Ve+0]=le,this.int16[Ve+1]=Ee,this.int16[Ve+2]=Pe,W},D}(jr);Ce.prototype.bytesPerElement=6,Ar("StructArrayLayout3i6",Ce);var Ue=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee){var Pe=this.length;return this.resize(Pe+1),this.emplace(Pe,W,le,Ee)},D.prototype.emplace=function(W,le,Ee,Pe){var Ve=2*W,tt=4*W;return this.uint32[Ve+0]=le,this.uint16[tt+2]=Ee,this.uint16[tt+3]=Pe,W},D}(jr);Ue.prototype.bytesPerElement=8,Ar("StructArrayLayout1ul2ui8",Ue);var He=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,W,le)},D.prototype.emplace=function(W,le,Ee){var Pe=2*W;return this.uint16[Pe+0]=le,this.uint16[Pe+1]=Ee,W},D}(jr);He.prototype.bytesPerElement=4,Ar("StructArrayLayout2ui4",He);var We=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W){var le=this.length;return this.resize(le+1),this.emplace(le,W)},D.prototype.emplace=function(W,le){var Ee=1*W;return this.uint16[Ee+0]=le,W},D}(jr);We.prototype.bytesPerElement=2,Ar("StructArrayLayout1ui2",We);var Ke=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le){var Ee=this.length;return this.resize(Ee+1),this.emplace(Ee,W,le)},D.prototype.emplace=function(W,le,Ee){var Pe=2*W;return this.float32[Pe+0]=le,this.float32[Pe+1]=Ee,W},D}(jr);Ke.prototype.bytesPerElement=8,Ar("StructArrayLayout2f8",Ke);var nt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},D.prototype.emplaceBack=function(W,le,Ee,Pe){var Ve=this.length;return this.resize(Ve+1),this.emplace(Ve,W,le,Ee,Pe)},D.prototype.emplace=function(W,le,Ee,Pe,Ve){var tt=4*W;return this.float32[tt+0]=le,this.float32[tt+1]=Ee,this.float32[tt+2]=Pe,this.float32[tt+3]=Ve,W},D}(jr);nt.prototype.bytesPerElement=16,Ar("StructArrayLayout4f16",nt);var pt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return W.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},W.x1.get=function(){return this._structArray.int16[this._pos2+2]},W.y1.get=function(){return this._structArray.int16[this._pos2+3]},W.x2.get=function(){return this._structArray.int16[this._pos2+4]},W.y2.get=function(){return this._structArray.int16[this._pos2+5]},W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.anchorPoint.get=function(){return new t(this.anchorPointX,this.anchorPointY)},Object.defineProperties(D.prototype,W),D}(hs);pt.prototype.size=20;var yt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new pt(this,W)},D}(J);Ar("CollisionBoxArray",yt);var It=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},W.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},W.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},W.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},W.segment.get=function(){return this._structArray.uint16[this._pos2+10]},W.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},W.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},W.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},W.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},W.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},W.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},W.placedOrientation.set=function(le){this._structArray.uint8[this._pos1+37]=le},W.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},W.hidden.set=function(le){this._structArray.uint8[this._pos1+38]=le},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},W.crossTileID.set=function(le){this._structArray.uint32[this._pos4+10]=le},W.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(D.prototype,W),D}(hs);It.prototype.size=48;var Rt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new It(this,W)},D}(ie);Ar("PlacedSymbolArray",Rt);var Pt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return W.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},W.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},W.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},W.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},W.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},W.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},W.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},W.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},W.key.get=function(){return this._structArray.uint16[this._pos2+8]},W.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},W.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},W.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},W.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},W.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},W.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},W.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},W.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},W.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},W.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},W.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},W.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},W.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},W.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},W.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},W.crossTileID.set=function(le){this._structArray.uint32[this._pos4+12]=le},W.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},W.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},W.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},W.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(D.prototype,W),D}(hs);Pt.prototype.size=68;var Vt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new Pt(this,W)},D}(de);Ar("SymbolInstanceArray",Vt);var Dt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getoffsetX=function(W){return this.float32[1*W+0]},D}(xe);Ar("GlyphOffsetArray",Dt);var sn=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.getx=function(W){return this.int16[3*W+0]},D.prototype.gety=function(W){return this.int16[3*W+1]},D.prototype.gettileUnitDistanceFromAnchor=function(W){return this.int16[3*W+2]},D}(Ce);Ar("SymbolLineVertexArray",sn);var Kt=function(A){function D(){A.apply(this,arguments)}A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D;var W={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return W.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},W.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},W.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(D.prototype,W),D}(hs);Kt.prototype.size=8;var Zt=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.get=function(W){return new Kt(this,W)},D}(Ue);Ar("FeatureIndexArray",Zt);var xn=ra([{name:"a_pos",components:2,type:"Int16"}],4).members,_n=function(A){A===void 0&&(A=[]),this.segments=A};function jn(A,D){return 256*(A=l(Math.floor(A),0,255))+l(Math.floor(D),0,255)}_n.prototype.prepareSegment=function(A,D,W,le){var Ee=this.segments[this.segments.length-1];return A>_n.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is "+_n.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+A),(!Ee||Ee.vertexLength+A>_n.MAX_VERTEX_ARRAY_LENGTH||Ee.sortKey!==le)&&(Ee={vertexOffset:D.length,primitiveOffset:W.length,vertexLength:0,primitiveLength:0},le!==void 0&&(Ee.sortKey=le),this.segments.push(Ee)),Ee},_n.prototype.get=function(){return this.segments},_n.prototype.destroy=function(){for(var A=0,D=this.segments;A<D.length;A+=1){var W=D[A];for(var le in W.vaos)W.vaos[le].destroy()}},_n.simpleSegment=function(A,D,W,le){return new _n([{vertexOffset:A,primitiveOffset:D,vertexLength:W,primitiveLength:le,vaos:{},sortKey:0}])},_n.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Ar("SegmentVector",_n);var Un=ra([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint8"},{name:"a_pixel_ratio_to",components:1,type:"Uint8"}]),Wn=_(function(A){A.exports=function(D,W){var le,Ee,Pe,Ve,tt,ht,Tt,At;for(le=3&D.length,Ee=D.length-le,Pe=W,tt=3432918353,ht=461845907,At=0;At<Ee;)Tt=255&D.charCodeAt(At)|(255&D.charCodeAt(++At))<<8|(255&D.charCodeAt(++At))<<16|(255&D.charCodeAt(++At))<<24,++At,Pe=27492+(65535&(Ve=5*(65535&(Pe=(Pe^=Tt=(65535&(Tt=(Tt=(65535&Tt)*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295)<<13|Pe>>>19))+((5*(Pe>>>16)&65535)<<16)&4294967295))+((58964+(Ve>>>16)&65535)<<16);switch(Tt=0,le){case 3:Tt^=(255&D.charCodeAt(At+2))<<16;case 2:Tt^=(255&D.charCodeAt(At+1))<<8;case 1:Pe^=Tt=(65535&(Tt=(Tt=(65535&(Tt^=255&D.charCodeAt(At)))*tt+(((Tt>>>16)*tt&65535)<<16)&4294967295)<<15|Tt>>>17))*ht+(((Tt>>>16)*ht&65535)<<16)&4294967295}return Pe^=D.length,Pe=2246822507*(65535&(Pe^=Pe>>>16))+((2246822507*(Pe>>>16)&65535)<<16)&4294967295,Pe=3266489909*(65535&(Pe^=Pe>>>13))+((3266489909*(Pe>>>16)&65535)<<16)&4294967295,(Pe^=Pe>>>16)>>>0}}),er=_(function(A){A.exports=function(D,W){for(var le,Ee=D.length,Pe=W^Ee,Ve=0;Ee>=4;)le=1540483477*(65535&(le=255&D.charCodeAt(Ve)|(255&D.charCodeAt(++Ve))<<8|(255&D.charCodeAt(++Ve))<<16|(255&D.charCodeAt(++Ve))<<24))+((1540483477*(le>>>16)&65535)<<16),Pe=1540483477*(65535&Pe)+((1540483477*(Pe>>>16)&65535)<<16)^(le=1540483477*(65535&(le^=le>>>24))+((1540483477*(le>>>16)&65535)<<16)),Ee-=4,++Ve;switch(Ee){case 3:Pe^=(255&D.charCodeAt(Ve+2))<<16;case 2:Pe^=(255&D.charCodeAt(Ve+1))<<8;case 1:Pe=1540483477*(65535&(Pe^=255&D.charCodeAt(Ve)))+((1540483477*(Pe>>>16)&65535)<<16)}return Pe=1540483477*(65535&(Pe^=Pe>>>13))+((1540483477*(Pe>>>16)&65535)<<16),(Pe^=Pe>>>15)>>>0}}),fr=Wn,cr=Wn,vr=er;fr.murmur3=cr,fr.murmur2=vr;var kr=function(){this.ids=[],this.positions=[],this.indexed=!1};kr.prototype.add=function(A,D,W,le){this.ids.push(qn(A)),this.positions.push(D,W,le)},kr.prototype.getPositions=function(A){for(var D=qn(A),W=0,le=this.ids.length-1;W<le;){var Ee=W+le>>1;this.ids[Ee]>=D?le=Ee:W=Ee+1}for(var Pe=[];this.ids[W]===D;){var Ve=this.positions[3*W],tt=this.positions[3*W+1],ht=this.positions[3*W+2];Pe.push({index:Ve,start:tt,end:ht}),W++}return Pe},kr.serialize=function(A,D){var W=new Float64Array(A.ids),le=new Uint32Array(A.positions);return ur(W,le,0,W.length-1),D&&D.push(W.buffer,le.buffer),{ids:W,positions:le}},kr.deserialize=function(A){var D=new kr;return D.ids=A.ids,D.positions=A.positions,D.indexed=!0,D};var Br=Math.pow(2,53)-1;function qn(A){var D=+A;return!isNaN(D)&&D<=Br?D:fr(String(A))}function ur(A,D,W,le){for(;W<le;){for(var Ee=A[W+le>>1],Pe=W-1,Ve=le+1;;){do Pe++;while(A[Pe]<Ee);do Ve--;while(A[Ve]>Ee);if(Pe>=Ve)break;mr(A,Pe,Ve),mr(D,3*Pe,3*Ve),mr(D,3*Pe+1,3*Ve+1),mr(D,3*Pe+2,3*Ve+2)}Ve-W<le-Ve?(ur(A,D,W,Ve),W=Ve+1):(ur(A,D,Ve+1,le),le=Ve)}}function mr(A,D,W){var le=A[D];A[D]=A[W],A[W]=le}Ar("FeaturePositionMap",kr);var Mr=function(A,D){this.gl=A.gl,this.location=D},Dr=function(A){function D(W,le){A.call(this,W,le),this.current=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){this.current!==W&&(this.current=W,this.gl.uniform1i(this.location,W))},D}(Mr),Hr=function(A){function D(W,le){A.call(this,W,le),this.current=0}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){this.current!==W&&(this.current=W,this.gl.uniform1f(this.location,W))},D}(Mr),Jr=function(A){function D(W,le){A.call(this,W,le),this.current=[0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W[0]===this.current[0]&&W[1]===this.current[1]||(this.current=W,this.gl.uniform2f(this.location,W[0],W[1]))},D}(Mr),ai=function(A){function D(W,le){A.call(this,W,le),this.current=[0,0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W[0]===this.current[0]&&W[1]===this.current[1]&&W[2]===this.current[2]||(this.current=W,this.gl.uniform3f(this.location,W[0],W[1],W[2]))},D}(Mr),wi=function(A){function D(W,le){A.call(this,W,le),this.current=[0,0,0,0]}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W[0]===this.current[0]&&W[1]===this.current[1]&&W[2]===this.current[2]&&W[3]===this.current[3]||(this.current=W,this.gl.uniform4f(this.location,W[0],W[1],W[2],W[3]))},D}(Mr),Ti=function(A){function D(W,le){A.call(this,W,le),this.current=mn.transparent}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){W.r===this.current.r&&W.g===this.current.g&&W.b===this.current.b&&W.a===this.current.a||(this.current=W,this.gl.uniform4f(this.location,W.r,W.g,W.b,W.a))},D}(Mr),oi=new Float32Array(16),Hi=function(A){function D(W,le){A.call(this,W,le),this.current=oi}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.set=function(W){if(W[12]!==this.current[12]||W[0]!==this.current[0])return this.current=W,void this.gl.uniformMatrix4fv(this.location,!1,W);for(var le=1;le<16;le++)if(W[le]!==this.current[le]){this.current=W,this.gl.uniformMatrix4fv(this.location,!1,W);break}},D}(Mr);function ha(A){return[jn(255*A.r,255*A.g),jn(255*A.b,255*A.a)]}var Ki=function(A,D,W){this.value=A,this.uniformNames=D.map(function(le){return"u_"+le}),this.type=W};Ki.prototype.setUniform=function(A,D,W){A.set(W.constantOr(this.value))},Ki.prototype.getBinding=function(A,D,W){return this.type==="color"?new Ti(A,D):new Hr(A,D)};var ia=function(A,D){this.uniformNames=D.map(function(W){return"u_"+W}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};ia.prototype.setConstantPatternPositions=function(A,D){this.pixelRatioFrom=D.pixelRatio,this.pixelRatioTo=A.pixelRatio,this.patternFrom=D.tlbr,this.patternTo=A.tlbr},ia.prototype.setUniform=function(A,D,W,le){var Ee=le==="u_pattern_to"?this.patternTo:le==="u_pattern_from"?this.patternFrom:le==="u_pixel_ratio_to"?this.pixelRatioTo:le==="u_pixel_ratio_from"?this.pixelRatioFrom:null;Ee&&A.set(Ee)},ia.prototype.getBinding=function(A,D,W){return W.substr(0,9)==="u_pattern"?new wi(A,D):new Hr(A,D)};var ei=function(A,D,W,le){this.expression=A,this.type=W,this.maxValue=0,this.paintVertexAttributes=D.map(function(Ee){return{name:"a_"+Ee,type:"Float32",components:W==="color"?2:1,offset:0}}),this.paintVertexArray=new le};ei.prototype.populatePaintArray=function(A,D,W,le,Ee){var Pe=this.paintVertexArray.length,Ve=this.expression.evaluate(new ui(0),D,{},le,[],Ee);this.paintVertexArray.resize(A),this._setPaintValue(Pe,A,Ve)},ei.prototype.updatePaintArray=function(A,D,W,le){var Ee=this.expression.evaluate({zoom:0},W,le);this._setPaintValue(A,D,Ee)},ei.prototype._setPaintValue=function(A,D,W){if(this.type==="color")for(var le=ha(W),Ee=A;Ee<D;Ee++)this.paintVertexArray.emplace(Ee,le[0],le[1]);else{for(var Pe=A;Pe<D;Pe++)this.paintVertexArray.emplace(Pe,W);this.maxValue=Math.max(this.maxValue,Math.abs(W))}},ei.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ei.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Xr=function(A,D,W,le,Ee,Pe){this.expression=A,this.uniformNames=D.map(function(Ve){return"u_"+Ve+"_t"}),this.type=W,this.useIntegerZoom=le,this.zoom=Ee,this.maxValue=0,this.paintVertexAttributes=D.map(function(Ve){return{name:"a_"+Ve,type:"Float32",components:W==="color"?4:2,offset:0}}),this.paintVertexArray=new Pe};Xr.prototype.populatePaintArray=function(A,D,W,le,Ee){var Pe=this.expression.evaluate(new ui(this.zoom),D,{},le,[],Ee),Ve=this.expression.evaluate(new ui(this.zoom+1),D,{},le,[],Ee),tt=this.paintVertexArray.length;this.paintVertexArray.resize(A),this._setPaintValue(tt,A,Pe,Ve)},Xr.prototype.updatePaintArray=function(A,D,W,le){var Ee=this.expression.evaluate({zoom:this.zoom},W,le),Pe=this.expression.evaluate({zoom:this.zoom+1},W,le);this._setPaintValue(A,D,Ee,Pe)},Xr.prototype._setPaintValue=function(A,D,W,le){if(this.type==="color")for(var Ee=ha(W),Pe=ha(le),Ve=A;Ve<D;Ve++)this.paintVertexArray.emplace(Ve,Ee[0],Ee[1],Pe[0],Pe[1]);else{for(var tt=A;tt<D;tt++)this.paintVertexArray.emplace(tt,W,le);this.maxValue=Math.max(this.maxValue,Math.abs(W),Math.abs(le))}},Xr.prototype.upload=function(A){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=A.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Xr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Xr.prototype.setUniform=function(A,D){var W=this.useIntegerZoom?Math.floor(D.zoom):D.zoom,le=l(this.expression.interpolationFactor(W,this.zoom,this.zoom+1),0,1);A.set(le)},Xr.prototype.getBinding=function(A,D,W){return new Hr(A,D)};var ki=function(A,D,W,le,Ee,Pe){this.expression=A,this.type=D,this.useIntegerZoom=W,this.zoom=le,this.layerId=Pe,this.zoomInPaintVertexArray=new Ee,this.zoomOutPaintVertexArray=new Ee};ki.prototype.populatePaintArray=function(A,D,W){var le=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(A),this.zoomOutPaintVertexArray.resize(A),this._setPaintValues(le,A,D.patterns&&D.patterns[this.layerId],W)},ki.prototype.updatePaintArray=function(A,D,W,le,Ee){this._setPaintValues(A,D,W.patterns&&W.patterns[this.layerId],Ee)},ki.prototype._setPaintValues=function(A,D,W,le){if(le&&W){var Ee=W.min,Pe=W.mid,Ve=W.max,tt=le[Ee],ht=le[Pe],Tt=le[Ve];if(tt&&ht&&Tt)for(var At=A;At<D;At++)this.zoomInPaintVertexArray.emplace(At,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],tt.tl[0],tt.tl[1],tt.br[0],tt.br[1],ht.pixelRatio,tt.pixelRatio),this.zoomOutPaintVertexArray.emplace(At,ht.tl[0],ht.tl[1],ht.br[0],ht.br[1],Tt.tl[0],Tt.tl[1],Tt.br[0],Tt.br[1],ht.pixelRatio,Tt.pixelRatio)}},ki.prototype.upload=function(A){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=A.createVertexBuffer(this.zoomInPaintVertexArray,Un.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=A.createVertexBuffer(this.zoomOutPaintVertexArray,Un.members,this.expression.isStateDependent))},ki.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var gi=function(A,D,W,le){this.binders={},this.layoutAttributes=le,this._buffers=[];var Ee=[];for(var Pe in A.paint._values)if(W(Pe)){var Ve=A.paint.get(Pe);if(Ve instanceof Ji&&Bo(Ve.property.specification)){var tt=Da(Pe,A.type),ht=Ve.value,Tt=Ve.property.specification.type,At=Ve.property.useIntegerZoom,Ft=Ve.property.specification["property-type"],Ht=Ft==="cross-faded"||Ft==="cross-faded-data-driven";if(ht.kind==="constant")this.binders[Pe]=Ht?new ia(ht.value,tt):new Ki(ht.value,tt,Tt),Ee.push("/u_"+Pe);else if(ht.kind==="source"||Ht){var jt=Bi(Pe,Tt,"source");this.binders[Pe]=Ht?new ki(ht,Tt,At,D,jt,A.id):new ei(ht,tt,Tt,jt),Ee.push("/a_"+Pe)}else{var on=Bi(Pe,Tt,"composite");this.binders[Pe]=new Xr(ht,tt,Tt,At,D,on),Ee.push("/z_"+Pe)}}}this.cacheKey=Ee.sort().join("")};gi.prototype.getMaxValue=function(A){var D=this.binders[A];return D instanceof ei||D instanceof Xr?D.maxValue:0},gi.prototype.populatePaintArrays=function(A,D,W,le,Ee){for(var Pe in this.binders){var Ve=this.binders[Pe];(Ve instanceof ei||Ve instanceof Xr||Ve instanceof ki)&&Ve.populatePaintArray(A,D,W,le,Ee)}},gi.prototype.setConstantPatternPositions=function(A,D){for(var W in this.binders){var le=this.binders[W];le instanceof ia&&le.setConstantPatternPositions(A,D)}},gi.prototype.updatePaintArrays=function(A,D,W,le,Ee){var Pe=!1;for(var Ve in A)for(var tt=0,ht=D.getPositions(Ve);tt<ht.length;tt+=1){var Tt=ht[tt],At=W.feature(Tt.index);for(var Ft in this.binders){var Ht=this.binders[Ft];if((Ht instanceof ei||Ht instanceof Xr||Ht instanceof ki)&&Ht.expression.isStateDependent===!0){var jt=le.paint.get(Ft);Ht.expression=jt.value,Ht.updatePaintArray(Tt.start,Tt.end,At,A[Ve],Ee),Pe=!0}}}return Pe},gi.prototype.defines=function(){var A=[];for(var D in this.binders){var W=this.binders[D];(W instanceof Ki||W instanceof ia)&&A.push.apply(A,W.uniformNames.map(function(le){return"#define HAS_UNIFORM_"+le}))}return A},gi.prototype.getPaintVertexBuffers=function(){return this._buffers},gi.prototype.getUniforms=function(A,D){var W=[];for(var le in this.binders){var Ee=this.binders[le];if(Ee instanceof Ki||Ee instanceof ia||Ee instanceof Xr)for(var Pe=0,Ve=Ee.uniformNames;Pe<Ve.length;Pe+=1){var tt=Ve[Pe];if(D[tt]){var ht=Ee.getBinding(A,D[tt],tt);W.push({name:tt,property:le,binding:ht})}}}return W},gi.prototype.setUniforms=function(A,D,W,le){for(var Ee=0,Pe=D;Ee<Pe.length;Ee+=1){var Ve=Pe[Ee],tt=Ve.name,ht=Ve.property,Tt=Ve.binding;this.binders[ht].setUniform(Tt,le,W.get(ht),tt)}},gi.prototype.updatePaintBuffers=function(A){for(var D in this._buffers=[],this.binders){var W=this.binders[D];if(A&&W instanceof ki){var le=A.fromScale===2?W.zoomInPaintVertexBuffer:W.zoomOutPaintVertexBuffer;le&&this._buffers.push(le)}else(W instanceof ei||W instanceof Xr)&&W.paintVertexBuffer&&this._buffers.push(W.paintVertexBuffer)}},gi.prototype.upload=function(A){for(var D in this.binders){var W=this.binders[D];(W instanceof ei||W instanceof Xr||W instanceof ki)&&W.upload(A)}this.updatePaintBuffers()},gi.prototype.destroy=function(){for(var A in this.binders){var D=this.binders[A];(D instanceof ei||D instanceof Xr||D instanceof ki)&&D.destroy()}};var Ei=function(A,D,W,le){le===void 0&&(le=function(){return!0}),this.programConfigurations={};for(var Ee=0,Pe=D;Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];this.programConfigurations[Ve.id]=new gi(Ve,W,le,A)}this.needsUpload=!1,this._featureMap=new kr,this._bufferOffset=0};function Da(A,D){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[A]||[A.replace(D+"-","").replace(/-/g,"_")]}function Bi(A,D,W){var le={color:{source:Ke,composite:nt},number:{source:xe,composite:Ke}},Ee=function(Pe){return{"line-pattern":{source:Yo,composite:Yo},"fill-pattern":{source:Yo,composite:Yo},"fill-extrusion-pattern":{source:Yo,composite:Yo}}[Pe]}(A);return Ee&&Ee[W]||le[D][W]}Ei.prototype.populatePaintArrays=function(A,D,W,le,Ee,Pe){for(var Ve in this.programConfigurations)this.programConfigurations[Ve].populatePaintArrays(A,D,le,Ee,Pe);D.id!==void 0&&this._featureMap.add(D.id,W,this._bufferOffset,A),this._bufferOffset=A,this.needsUpload=!0},Ei.prototype.updatePaintArrays=function(A,D,W,le){for(var Ee=0,Pe=W;Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];this.needsUpload=this.programConfigurations[Ve.id].updatePaintArrays(A,this._featureMap,D,Ve,le)||this.needsUpload}},Ei.prototype.get=function(A){return this.programConfigurations[A]},Ei.prototype.upload=function(A){if(this.needsUpload){for(var D in this.programConfigurations)this.programConfigurations[D].upload(A);this.needsUpload=!1}},Ei.prototype.destroy=function(){for(var A in this.programConfigurations)this.programConfigurations[A].destroy()},Ar("ConstantBinder",Ki),Ar("CrossFadedConstantBinder",ia),Ar("SourceExpressionBinder",ei),Ar("CrossFadedCompositeBinder",ki),Ar("CompositeExpressionBinder",Xr),Ar("ProgramConfiguration",gi,{omit:["_buffers"]}),Ar("ProgramConfigurationSet",Ei);var si=8192,Rs,Ha=(Rs=15,{min:-1*Math.pow(2,Rs-1),max:Math.pow(2,Rs-1)-1});function ao(A){for(var D=si/A.extent,W=A.loadGeometry(),le=0;le<W.length;le++)for(var Ee=W[le],Pe=0;Pe<Ee.length;Pe++){var Ve=Ee[Pe];Ve.x=Math.round(Ve.x*D),Ve.y=Math.round(Ve.y*D),(Ve.x<Ha.min||Ve.x>Ha.max||Ve.y<Ha.min||Ve.y>Ha.max)&&(S("Geometry exceeds allowed extent, reduce your vector tile buffer size"),Ve.x=l(Ve.x,Ha.min,Ha.max),Ve.y=l(Ve.y,Ha.min,Ha.max))}return W}function Yi(A,D,W,le,Ee){A.emplaceBack(2*D+(le+1)/2,2*W+(Ee+1)/2)}var pa=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Va,this.indexArray=new Q,this.segments=new _n,this.programConfigurations=new Ei(xn,A.layers,A.zoom),this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function mo(A,D){for(var W=0;W<A.length;W++)if(_u(D,A[W]))return!0;for(var le=0;le<D.length;le++)if(_u(A,D[le]))return!0;return!!Cc(A,D)}function Zu(A,D,W){return!!_u(A,D)||!!Oc(D,A,W)}function Tf(A,D){if(A.length===1)return kf(D,A[0]);for(var W=0;W<D.length;W++)for(var le=D[W],Ee=0;Ee<le.length;Ee++)if(_u(A,le[Ee]))return!0;for(var Pe=0;Pe<A.length;Pe++)if(kf(D,A[Pe]))return!0;for(var Ve=0;Ve<D.length;Ve++)if(Cc(A,D[Ve]))return!0;return!1}function Dh(A,D,W){if(A.length>1){if(Cc(A,D))return!0;for(var le=0;le<D.length;le++)if(Oc(D[le],A,W))return!0}for(var Ee=0;Ee<A.length;Ee++)if(Oc(A[Ee],D,W))return!0;return!1}function Cc(A,D){if(A.length===0||D.length===0)return!1;for(var W=0;W<A.length-1;W++)for(var le=A[W],Ee=A[W+1],Pe=0;Pe<D.length-1;Pe++)if(Xu(le,Ee,D[Pe],D[Pe+1]))return!0;return!1}function Xu(A,D,W,le){return T(A,W,le)!==T(D,W,le)&&T(A,D,W)!==T(A,D,le)}function Oc(A,D,W){var le=W*W;if(D.length===1)return A.distSqr(D[0])<le;for(var Ee=1;Ee<D.length;Ee++)if(Ou(A,D[Ee-1],D[Ee])<le)return!0;return!1}function Ou(A,D,W){var le=D.distSqr(W);if(le===0)return A.distSqr(D);var Ee=((A.x-D.x)*(W.x-D.x)+(A.y-D.y)*(W.y-D.y))/le;return Ee<0?A.distSqr(D):Ee>1?A.distSqr(W):A.distSqr(W.sub(D)._mult(Ee)._add(D))}function kf(A,D){for(var W,le,Ee,Pe=!1,Ve=0;Ve<A.length;Ve++)for(var tt=0,ht=(W=A[Ve]).length-1;tt<W.length;ht=tt++)le=W[tt],Ee=W[ht],le.y>D.y!=Ee.y>D.y&&D.x<(Ee.x-le.x)*(D.y-le.y)/(Ee.y-le.y)+le.x&&(Pe=!Pe);return Pe}function _u(A,D){for(var W=!1,le=0,Ee=A.length-1;le<A.length;Ee=le++){var Pe=A[le],Ve=A[Ee];Pe.y>D.y!=Ve.y>D.y&&D.x<(Ve.x-Pe.x)*(D.y-Pe.y)/(Ve.y-Pe.y)+Pe.x&&(W=!W)}return W}function Pc(A,D,W){var le=W[0],Ee=W[2];if(A.x<le.x&&D.x<le.x||A.x>Ee.x&&D.x>Ee.x||A.y<le.y&&D.y<le.y||A.y>Ee.y&&D.y>Ee.y)return!1;var Pe=T(A,D,W[0]);return Pe!==T(A,D,W[1])||Pe!==T(A,D,W[2])||Pe!==T(A,D,W[3])}function Ic(A,D,W){var le=D.paint.get(A).value;return le.kind==="constant"?le.value:W.programConfigurations.get(D.id).getMaxValue(A)}function Mf(A){return Math.sqrt(A[0]*A[0]+A[1]*A[1])}function Af(A,D,W,le,Ee){if(!D[0]&&!D[1])return A;var Pe=t.convert(D)._mult(Ee);W==="viewport"&&Pe._rotate(-le);for(var Ve=[],tt=0;tt<A.length;tt++){var ht=A[tt];Ve.push(ht.sub(Pe))}return Ve}pa.prototype.populate=function(A,D,W){var le=this.layers[0],Ee=[],Pe=null;le.type==="circle"&&(Pe=le.layout.get("circle-sort-key"));for(var Ve=0,tt=A;Ve<tt.length;Ve+=1){var ht=tt[Ve],Tt=ht.feature,At=ht.id,Ft=ht.index,Ht=ht.sourceLayerIndex,jt=this.layers[0]._featureFilter.needGeometry,on={type:Tt.type,id:At,properties:Tt.properties,geometry:jt?ao(Tt):[]};if(this.layers[0]._featureFilter.filter(new ui(this.zoom),on,W)){jt||(on.geometry=ao(Tt));var un=Pe?Pe.evaluate(on,{},W):void 0,Ln={id:At,properties:Tt.properties,type:Tt.type,sourceLayerIndex:Ht,index:Ft,geometry:on.geometry,patterns:{},sortKey:un};Ee.push(Ln)}}Pe&&Ee.sort(function(wr,Er){return wr.sortKey-Er.sortKey});for(var En=0,Fn=Ee;En<Fn.length;En+=1){var Nn=Fn[En],Gn=Nn,Kn=Gn.geometry,rr=Gn.index,yr=Gn.sourceLayerIndex,hr=A[rr].feature;this.addFeature(Nn,Kn,rr,W),D.featureIndex.insert(hr,Kn,rr,yr,this.index)}},pa.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},pa.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},pa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},pa.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,xn),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},pa.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},pa.prototype.addFeature=function(A,D,W,le){for(var Ee=0,Pe=D;Ee<Pe.length;Ee+=1)for(var Ve=0,tt=Pe[Ee];Ve<tt.length;Ve+=1){var ht=tt[Ve],Tt=ht.x,At=ht.y;if(!(Tt<0||Tt>=si||At<0||At>=si)){var Ft=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,A.sortKey),Ht=Ft.vertexLength;Yi(this.layoutVertexArray,Tt,At,-1,-1),Yi(this.layoutVertexArray,Tt,At,1,-1),Yi(this.layoutVertexArray,Tt,At,1,1),Yi(this.layoutVertexArray,Tt,At,-1,1),this.indexArray.emplaceBack(Ht,Ht+1,Ht+2),this.indexArray.emplaceBack(Ht,Ht+3,Ht+2),Ft.vertexLength+=4,Ft.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,{},le)},Ar("CircleBucket",pa,{omit:["layers"]});var mg=new xa({"circle-sort-key":new Ir(Re.layout_circle["circle-sort-key"])}),yg={paint:new xa({"circle-radius":new Ir(Re.paint_circle["circle-radius"]),"circle-color":new Ir(Re.paint_circle["circle-color"]),"circle-blur":new Ir(Re.paint_circle["circle-blur"]),"circle-opacity":new Ir(Re.paint_circle["circle-opacity"]),"circle-translate":new Or(Re.paint_circle["circle-translate"]),"circle-translate-anchor":new Or(Re.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Or(Re.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Or(Re.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ir(Re.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ir(Re.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ir(Re.paint_circle["circle-stroke-opacity"])}),layout:mg},ps=typeof Float32Array<"u"?Float32Array:Array;function Rh(A){return A[0]=1,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=1,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=1,A[11]=0,A[12]=0,A[13]=0,A[14]=0,A[15]=1,A}function id(A,D,W){var le=D[0],Ee=D[1],Pe=D[2],Ve=D[3],tt=D[4],ht=D[5],Tt=D[6],At=D[7],Ft=D[8],Ht=D[9],jt=D[10],on=D[11],un=D[12],Ln=D[13],En=D[14],Fn=D[15],Nn=W[0],Gn=W[1],Kn=W[2],rr=W[3];return A[0]=Nn*le+Gn*tt+Kn*Ft+rr*un,A[1]=Nn*Ee+Gn*ht+Kn*Ht+rr*Ln,A[2]=Nn*Pe+Gn*Tt+Kn*jt+rr*En,A[3]=Nn*Ve+Gn*At+Kn*on+rr*Fn,Nn=W[4],Gn=W[5],Kn=W[6],rr=W[7],A[4]=Nn*le+Gn*tt+Kn*Ft+rr*un,A[5]=Nn*Ee+Gn*ht+Kn*Ht+rr*Ln,A[6]=Nn*Pe+Gn*Tt+Kn*jt+rr*En,A[7]=Nn*Ve+Gn*At+Kn*on+rr*Fn,Nn=W[8],Gn=W[9],Kn=W[10],rr=W[11],A[8]=Nn*le+Gn*tt+Kn*Ft+rr*un,A[9]=Nn*Ee+Gn*ht+Kn*Ht+rr*Ln,A[10]=Nn*Pe+Gn*Tt+Kn*jt+rr*En,A[11]=Nn*Ve+Gn*At+Kn*on+rr*Fn,Nn=W[12],Gn=W[13],Kn=W[14],rr=W[15],A[12]=Nn*le+Gn*tt+Kn*Ft+rr*un,A[13]=Nn*Ee+Gn*ht+Kn*Ht+rr*Ln,A[14]=Nn*Pe+Gn*Tt+Kn*jt+rr*En,A[15]=Nn*Ve+Gn*At+Kn*on+rr*Fn,A}Math.hypot||(Math.hypot=function(){for(var A=arguments,D=0,W=arguments.length;W--;)D+=A[W]*A[W];return Math.sqrt(D)});var xg=id,Sf,bg=function(A,D,W){return A[0]=D[0]-W[0],A[1]=D[1]-W[1],A[2]=D[2]-W[2],A};function Ef(A,D,W){var le=D[0],Ee=D[1],Pe=D[2],Ve=D[3];return A[0]=W[0]*le+W[4]*Ee+W[8]*Pe+W[12]*Ve,A[1]=W[1]*le+W[5]*Ee+W[9]*Pe+W[13]*Ve,A[2]=W[2]*le+W[6]*Ee+W[10]*Pe+W[14]*Ve,A[3]=W[3]*le+W[7]*Ee+W[11]*Pe+W[15]*Ve,A}Sf=new ps(3),ps!=Float32Array&&(Sf[0]=0,Sf[1]=0,Sf[2]=0),function(){var A=new ps(4);ps!=Float32Array&&(A[0]=0,A[1]=0,A[2]=0,A[3]=0)}();var _g=function(A){var D=A[0],W=A[1];return D*D+W*W},wg=(function(){var A=new ps(2);ps!=Float32Array&&(A[0]=0,A[1]=0)}(),function(A){function D(W){A.call(this,W,yg)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(W){return new pa(W)},D.prototype.queryRadius=function(W){var le=W;return Ic("circle-radius",this,le)+Ic("circle-stroke-width",this,le)+Mf(this.paint.get("circle-translate"))},D.prototype.queryIntersectsFeature=function(W,le,Ee,Pe,Ve,tt,ht,Tt){for(var At=Af(W,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),tt.angle,ht),Ft=this.paint.get("circle-radius").evaluate(le,Ee)+this.paint.get("circle-stroke-width").evaluate(le,Ee),Ht=this.paint.get("circle-pitch-alignment")==="map",jt=Ht?At:function(yr,hr){return yr.map(function(wr){return ad(wr,hr)})}(At,Tt),on=Ht?Ft*ht:Ft,un=0,Ln=Pe;un<Ln.length;un+=1)for(var En=0,Fn=Ln[un];En<Fn.length;En+=1){var Nn=Fn[En],Gn=Ht?Nn:ad(Nn,Tt),Kn=on,rr=Ef([],[Nn.x,Nn.y,0,1],Tt);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Kn*=rr[3]/tt.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Kn*=tt.cameraToCenterDistance/rr[3]),Zu(jt,Gn,Kn))return!0}return!1},D}(ba));function ad(A,D){var W=Ef([],[A.x,A.y,0,1],D);return new t(W[0]/W[3],W[1]/W[3])}var od=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(pa);function zh(A,D,W,le){var Ee=D.width,Pe=D.height;if(le){if(le instanceof Uint8ClampedArray)le=new Uint8Array(le.buffer);else if(le.length!==Ee*Pe*W)throw new RangeError("mismatched image size")}else le=new Uint8Array(Ee*Pe*W);return A.width=Ee,A.height=Pe,A.data=le,A}function sd(A,D,W){var le=D.width,Ee=D.height;if(le!==A.width||Ee!==A.height){var Pe=zh({},{width:le,height:Ee},W);Fh(A,Pe,{x:0,y:0},{x:0,y:0},{width:Math.min(A.width,le),height:Math.min(A.height,Ee)},W),A.width=le,A.height=Ee,A.data=Pe.data}}function Fh(A,D,W,le,Ee,Pe){if(Ee.width===0||Ee.height===0)return D;if(Ee.width>A.width||Ee.height>A.height||W.x>A.width-Ee.width||W.y>A.height-Ee.height)throw new RangeError("out of range source coordinates for image copy");if(Ee.width>D.width||Ee.height>D.height||le.x>D.width-Ee.width||le.y>D.height-Ee.height)throw new RangeError("out of range destination coordinates for image copy");for(var Ve=A.data,tt=D.data,ht=0;ht<Ee.height;ht++)for(var Tt=((W.y+ht)*A.width+W.x)*Pe,At=((le.y+ht)*D.width+le.x)*Pe,Ft=0;Ft<Ee.width*Pe;Ft++)tt[At+Ft]=Ve[Tt+Ft];return D}Ar("HeatmapBucket",od,{omit:["layers"]});var Pu=function(A,D){zh(this,A,1,D)};Pu.prototype.resize=function(A){sd(this,A,1)},Pu.prototype.clone=function(){return new Pu({width:this.width,height:this.height},new Uint8Array(this.data))},Pu.copy=function(A,D,W,le,Ee){Fh(A,D,W,le,Ee,1)};var Lo=function(A,D){zh(this,A,4,D)};Lo.prototype.resize=function(A){sd(this,A,4)},Lo.prototype.replace=function(A,D){D?this.data.set(A):A instanceof Uint8ClampedArray?this.data=new Uint8Array(A.buffer):this.data=A},Lo.prototype.clone=function(){return new Lo({width:this.width,height:this.height},new Uint8Array(this.data))},Lo.copy=function(A,D,W,le,Ee){Fh(A,D,W,le,Ee,4)},Ar("AlphaImage",Pu),Ar("RGBAImage",Lo);var Tg={paint:new xa({"heatmap-radius":new Ir(Re.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ir(Re.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Or(Re.paint_heatmap["heatmap-intensity"]),"heatmap-color":new cs(Re.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Or(Re.paint_heatmap["heatmap-opacity"])})};function ld(A,D){for(var W=new Uint8Array(1024),le={},Ee=0,Pe=0;Ee<256;Ee++,Pe+=4){le[D]=Ee/255;var Ve=A.evaluate(le);W[Pe+0]=Math.floor(255*Ve.r/Ve.a),W[Pe+1]=Math.floor(255*Ve.g/Ve.a),W[Pe+2]=Math.floor(255*Ve.b/Ve.a),W[Pe+3]=Math.floor(255*Ve.a)}return new Lo({width:256,height:1},W)}var kg=function(A){function D(W){A.call(this,W,Tg),this._updateColorRamp()}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(W){return new od(W)},D.prototype._handleSpecialPaintPropertyUpdate=function(W){W==="heatmap-color"&&this._updateColorRamp()},D.prototype._updateColorRamp=function(){var W=this._transitionablePaint._values["heatmap-color"].value.expression;this.colorRamp=ld(W,"heatmapDensity"),this.colorRampTexture=null},D.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},D}(ba),Mg={paint:new xa({"hillshade-illumination-direction":new Or(Re.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Or(Re.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Or(Re.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Or(Re.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Or(Re.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Or(Re.paint_hillshade["hillshade-accent-color"])})},Ag=function(A){function D(W){A.call(this,W,Mg)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},D}(ba),ud=ra([{name:"a_pos",components:2,type:"Int16"}],4).members,Bh=Lf,Sg=Lf;function Lf(A,D,W){W=W||2;var le,Ee,Pe,Ve,tt,ht,Tt,At=D&&D.length,Ft=At?D[0]*W:A.length,Ht=cd(A,0,Ft,W,!0),jt=[];if(!Ht||Ht.next===Ht.prev)return jt;if(At&&(Ht=function(un,Ln,En,Fn){var Nn,Gn,Kn,rr=[];for(Nn=0,Gn=Ln.length;Nn<Gn;Nn++)(Kn=cd(un,Ln[Nn]*Fn,Nn<Gn-1?Ln[Nn+1]*Fn:un.length,Fn,!1))===Kn.next&&(Kn.steiner=!0),rr.push(Rg(Kn));for(rr.sort(Pg),Nn=0;Nn<rr.length;Nn++)Ig(rr[Nn],En),En=wu(En,En.next);return En}(A,D,Ht,W)),A.length>80*W){le=Pe=A[0],Ee=Ve=A[1];for(var on=W;on<Ft;on+=W)(tt=A[on])<le&&(le=tt),(ht=A[on+1])<Ee&&(Ee=ht),tt>Pe&&(Pe=tt),ht>Ve&&(Ve=ht);Tt=(Tt=Math.max(Pe-le,Ve-Ee))!==0?1/Tt:0}return Dc(Ht,jt,W,le,Ee,Tt),jt}function cd(A,D,W,le,Ee){var Pe,Ve;if(Ee===Uh(A,D,W,le)>0)for(Pe=D;Pe<W;Pe+=le)Ve=pd(Pe,A[Pe],A[Pe+1],Ve);else for(Pe=W-le;Pe>=D;Pe-=le)Ve=pd(Pe,A[Pe],A[Pe+1],Ve);return Ve&&Cf(Ve,Ve.next)&&(zc(Ve),Ve=Ve.next),Ve}function wu(A,D){if(!A)return A;D||(D=A);var W,le=A;do if(W=!1,le.steiner||!Cf(le,le.next)&&Aa(le.prev,le,le.next)!==0)le=le.next;else{if(zc(le),(le=D=le.prev)===le.next)break;W=!0}while(W||le!==D);return D}function Dc(A,D,W,le,Ee,Pe,Ve){if(A){!Ve&&Pe&&function(At,Ft,Ht,jt){var on=At;do on.z===null&&(on.z=Nh(on.x,on.y,Ft,Ht,jt)),on.prevZ=on.prev,on.nextZ=on.next,on=on.next;while(on!==At);on.prevZ.nextZ=null,on.prevZ=null,function(un){var Ln,En,Fn,Nn,Gn,Kn,rr,yr,hr=1;do{for(En=un,un=null,Gn=null,Kn=0;En;){for(Kn++,Fn=En,rr=0,Ln=0;Ln<hr&&(rr++,Fn=Fn.nextZ);Ln++);for(yr=hr;rr>0||yr>0&&Fn;)rr!==0&&(yr===0||!Fn||En.z<=Fn.z)?(Nn=En,En=En.nextZ,rr--):(Nn=Fn,Fn=Fn.nextZ,yr--),Gn?Gn.nextZ=Nn:un=Nn,Nn.prevZ=Gn,Gn=Nn;En=Fn}Gn.nextZ=null,hr*=2}while(Kn>1)}(on)}(A,le,Ee,Pe);for(var tt,ht,Tt=A;A.prev!==A.next;)if(tt=A.prev,ht=A.next,Pe?Lg(A,le,Ee,Pe):Eg(A))D.push(tt.i/W),D.push(A.i/W),D.push(ht.i/W),zc(A),A=ht.next,Tt=ht.next;else if((A=ht)===Tt){Ve?Ve===1?Dc(A=Cg(wu(A),D,W),D,W,le,Ee,Pe,2):Ve===2&&Og(A,D,W,le,Ee,Pe):Dc(wu(A),D,W,le,Ee,Pe,1);break}}}function Eg(A){var D=A.prev,W=A,le=A.next;if(Aa(D,W,le)>=0)return!1;for(var Ee=A.next.next;Ee!==A.prev;){if(Ju(D.x,D.y,W.x,W.y,le.x,le.y,Ee.x,Ee.y)&&Aa(Ee.prev,Ee,Ee.next)>=0)return!1;Ee=Ee.next}return!0}function Lg(A,D,W,le){var Ee=A.prev,Pe=A,Ve=A.next;if(Aa(Ee,Pe,Ve)>=0)return!1;for(var tt=Ee.x<Pe.x?Ee.x<Ve.x?Ee.x:Ve.x:Pe.x<Ve.x?Pe.x:Ve.x,ht=Ee.y<Pe.y?Ee.y<Ve.y?Ee.y:Ve.y:Pe.y<Ve.y?Pe.y:Ve.y,Tt=Ee.x>Pe.x?Ee.x>Ve.x?Ee.x:Ve.x:Pe.x>Ve.x?Pe.x:Ve.x,At=Ee.y>Pe.y?Ee.y>Ve.y?Ee.y:Ve.y:Pe.y>Ve.y?Pe.y:Ve.y,Ft=Nh(tt,ht,D,W,le),Ht=Nh(Tt,At,D,W,le),jt=A.prevZ,on=A.nextZ;jt&&jt.z>=Ft&&on&&on.z<=Ht;){if(jt!==A.prev&&jt!==A.next&&Ju(Ee.x,Ee.y,Pe.x,Pe.y,Ve.x,Ve.y,jt.x,jt.y)&&Aa(jt.prev,jt,jt.next)>=0||(jt=jt.prevZ,on!==A.prev&&on!==A.next&&Ju(Ee.x,Ee.y,Pe.x,Pe.y,Ve.x,Ve.y,on.x,on.y)&&Aa(on.prev,on,on.next)>=0))return!1;on=on.nextZ}for(;jt&&jt.z>=Ft;){if(jt!==A.prev&&jt!==A.next&&Ju(Ee.x,Ee.y,Pe.x,Pe.y,Ve.x,Ve.y,jt.x,jt.y)&&Aa(jt.prev,jt,jt.next)>=0)return!1;jt=jt.prevZ}for(;on&&on.z<=Ht;){if(on!==A.prev&&on!==A.next&&Ju(Ee.x,Ee.y,Pe.x,Pe.y,Ve.x,Ve.y,on.x,on.y)&&Aa(on.prev,on,on.next)>=0)return!1;on=on.nextZ}return!0}function Cg(A,D,W){var le=A;do{var Ee=le.prev,Pe=le.next.next;!Cf(Ee,Pe)&&fd(Ee,le,le.next,Pe)&&Rc(Ee,Pe)&&Rc(Pe,Ee)&&(D.push(Ee.i/W),D.push(le.i/W),D.push(Pe.i/W),zc(le),zc(le.next),le=A=Pe),le=le.next}while(le!==A);return wu(le)}function Og(A,D,W,le,Ee,Pe){var Ve=A;do{for(var tt=Ve.next.next;tt!==Ve.prev;){if(Ve.i!==tt.i&&zg(Ve,tt)){var ht=hd(Ve,tt);return Ve=wu(Ve,Ve.next),ht=wu(ht,ht.next),Dc(Ve,D,W,le,Ee,Pe),void Dc(ht,D,W,le,Ee,Pe)}tt=tt.next}Ve=Ve.next}while(Ve!==A)}function Pg(A,D){return A.x-D.x}function Ig(A,D){if(D=function(le,Ee){var Pe,Ve=Ee,tt=le.x,ht=le.y,Tt=-1/0;do{if(ht<=Ve.y&&ht>=Ve.next.y&&Ve.next.y!==Ve.y){var At=Ve.x+(ht-Ve.y)*(Ve.next.x-Ve.x)/(Ve.next.y-Ve.y);if(At<=tt&&At>Tt){if(Tt=At,At===tt){if(ht===Ve.y)return Ve;if(ht===Ve.next.y)return Ve.next}Pe=Ve.x<Ve.next.x?Ve:Ve.next}}Ve=Ve.next}while(Ve!==Ee);if(!Pe)return null;if(tt===Tt)return Pe;var Ft,Ht=Pe,jt=Pe.x,on=Pe.y,un=1/0;Ve=Pe;do tt>=Ve.x&&Ve.x>=jt&&tt!==Ve.x&&Ju(ht<on?tt:Tt,ht,jt,on,ht<on?Tt:tt,ht,Ve.x,Ve.y)&&(Ft=Math.abs(ht-Ve.y)/(tt-Ve.x),Rc(Ve,le)&&(Ft<un||Ft===un&&(Ve.x>Pe.x||Ve.x===Pe.x&&Dg(Pe,Ve)))&&(Pe=Ve,un=Ft)),Ve=Ve.next;while(Ve!==Ht);return Pe}(A,D)){var W=hd(D,A);wu(D,D.next),wu(W,W.next)}}function Dg(A,D){return Aa(A.prev,A,D.prev)<0&&Aa(D.next,A,A.next)<0}function Nh(A,D,W,le,Ee){return(A=1431655765&((A=858993459&((A=252645135&((A=16711935&((A=32767*(A-W)*Ee)|A<<8))|A<<4))|A<<2))|A<<1))|(D=1431655765&((D=858993459&((D=252645135&((D=16711935&((D=32767*(D-le)*Ee)|D<<8))|D<<4))|D<<2))|D<<1))<<1}function Rg(A){var D=A,W=A;do(D.x<W.x||D.x===W.x&&D.y<W.y)&&(W=D),D=D.next;while(D!==A);return W}function Ju(A,D,W,le,Ee,Pe,Ve,tt){return(Ee-Ve)*(D-tt)-(A-Ve)*(Pe-tt)>=0&&(A-Ve)*(le-tt)-(W-Ve)*(D-tt)>=0&&(W-Ve)*(Pe-tt)-(Ee-Ve)*(le-tt)>=0}function zg(A,D){return A.next.i!==D.i&&A.prev.i!==D.i&&!function(W,le){var Ee=W;do{if(Ee.i!==W.i&&Ee.next.i!==W.i&&Ee.i!==le.i&&Ee.next.i!==le.i&&fd(Ee,Ee.next,W,le))return!0;Ee=Ee.next}while(Ee!==W);return!1}(A,D)&&(Rc(A,D)&&Rc(D,A)&&function(W,le){var Ee=W,Pe=!1,Ve=(W.x+le.x)/2,tt=(W.y+le.y)/2;do Ee.y>tt!=Ee.next.y>tt&&Ee.next.y!==Ee.y&&Ve<(Ee.next.x-Ee.x)*(tt-Ee.y)/(Ee.next.y-Ee.y)+Ee.x&&(Pe=!Pe),Ee=Ee.next;while(Ee!==W);return Pe}(A,D)&&(Aa(A.prev,A,D.prev)||Aa(A,D.prev,D))||Cf(A,D)&&Aa(A.prev,A,A.next)>0&&Aa(D.prev,D,D.next)>0)}function Aa(A,D,W){return(D.y-A.y)*(W.x-D.x)-(D.x-A.x)*(W.y-D.y)}function Cf(A,D){return A.x===D.x&&A.y===D.y}function fd(A,D,W,le){var Ee=Pf(Aa(A,D,W)),Pe=Pf(Aa(A,D,le)),Ve=Pf(Aa(W,le,A)),tt=Pf(Aa(W,le,D));return Ee!==Pe&&Ve!==tt||!(Ee!==0||!Of(A,W,D))||!(Pe!==0||!Of(A,le,D))||!(Ve!==0||!Of(W,A,le))||!(tt!==0||!Of(W,D,le))}function Of(A,D,W){return D.x<=Math.max(A.x,W.x)&&D.x>=Math.min(A.x,W.x)&&D.y<=Math.max(A.y,W.y)&&D.y>=Math.min(A.y,W.y)}function Pf(A){return A>0?1:A<0?-1:0}function Rc(A,D){return Aa(A.prev,A,A.next)<0?Aa(A,D,A.next)>=0&&Aa(A,A.prev,D)>=0:Aa(A,D,A.prev)<0||Aa(A,A.next,D)<0}function hd(A,D){var W=new jh(A.i,A.x,A.y),le=new jh(D.i,D.x,D.y),Ee=A.next,Pe=D.prev;return A.next=D,D.prev=A,W.next=Ee,Ee.prev=W,le.next=W,W.prev=le,Pe.next=le,le.prev=Pe,le}function pd(A,D,W,le){var Ee=new jh(A,D,W);return le?(Ee.next=le.next,Ee.prev=le,le.next.prev=Ee,le.next=Ee):(Ee.prev=Ee,Ee.next=Ee),Ee}function zc(A){A.next.prev=A.prev,A.prev.next=A.next,A.prevZ&&(A.prevZ.nextZ=A.nextZ),A.nextZ&&(A.nextZ.prevZ=A.prevZ)}function jh(A,D,W){this.i=A,this.x=D,this.y=W,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Uh(A,D,W,le){for(var Ee=0,Pe=D,Ve=W-le;Pe<W;Pe+=le)Ee+=(A[Ve]-A[Pe])*(A[Pe+1]+A[Ve+1]),Ve=Pe;return Ee}function Fg(A,D,W,le,Ee){dd(A,D,W||0,le||A.length-1,Ee||Bg)}function dd(A,D,W,le,Ee){for(;le>W;){if(le-W>600){var Pe=le-W+1,Ve=D-W+1,tt=Math.log(Pe),ht=.5*Math.exp(2*tt/3),Tt=.5*Math.sqrt(tt*ht*(Pe-ht)/Pe)*(Ve-Pe/2<0?-1:1);dd(A,D,Math.max(W,Math.floor(D-Ve*ht/Pe+Tt)),Math.min(le,Math.floor(D+(Pe-Ve)*ht/Pe+Tt)),Ee)}var At=A[D],Ft=W,Ht=le;for(Fc(A,W,D),Ee(A[le],At)>0&&Fc(A,W,le);Ft<Ht;){for(Fc(A,Ft,Ht),Ft++,Ht--;Ee(A[Ft],At)<0;)Ft++;for(;Ee(A[Ht],At)>0;)Ht--}Ee(A[W],At)===0?Fc(A,W,Ht):Fc(A,++Ht,le),Ht<=D&&(W=Ht+1),D<=Ht&&(le=Ht-1)}}function Fc(A,D,W){var le=A[D];A[D]=A[W],A[W]=le}function Bg(A,D){return A<D?-1:A>D?1:0}function Vh(A,D){var W=A.length;if(W<=1)return[A];for(var le,Ee,Pe=[],Ve=0;Ve<W;Ve++){var tt=E(A[Ve]);tt!==0&&(A[Ve].area=Math.abs(tt),Ee===void 0&&(Ee=tt<0),Ee===tt<0?(le&&Pe.push(le),le=[A[Ve]]):le.push(A[Ve]))}if(le&&Pe.push(le),D>1)for(var ht=0;ht<Pe.length;ht++)Pe[ht].length<=D||(Fg(Pe[ht],D,1,Pe[ht].length-1,Ng),Pe[ht]=Pe[ht].slice(0,D));return Pe}function Ng(A,D){return D.area-A.area}function Hh(A,D,W){for(var le=W.patternDependencies,Ee=!1,Pe=0,Ve=D;Pe<Ve.length;Pe+=1){var tt=Ve[Pe].paint.get(A+"-pattern");tt.isConstant()||(Ee=!0);var ht=tt.constantOr(null);ht&&(Ee=!0,le[ht.to]=!0,le[ht.from]=!0)}return Ee}function qh(A,D,W,le,Ee){for(var Pe=Ee.patternDependencies,Ve=0,tt=D;Ve<tt.length;Ve+=1){var ht=tt[Ve],Tt=ht.paint.get(A+"-pattern").value;if(Tt.kind!=="constant"){var At=Tt.evaluate({zoom:le-1},W,{},Ee.availableImages),Ft=Tt.evaluate({zoom:le},W,{},Ee.availableImages),Ht=Tt.evaluate({zoom:le+1},W,{},Ee.availableImages);At=At&&At.name?At.name:At,Ft=Ft&&Ft.name?Ft.name:Ft,Ht=Ht&&Ht.name?Ht.name:Ht,Pe[At]=!0,Pe[Ft]=!0,Pe[Ht]=!0,W.patterns[ht.id]={min:At,mid:Ft,max:Ht}}}return W}Lf.deviation=function(A,D,W,le){var Ee=D&&D.length,Pe=Ee?D[0]*W:A.length,Ve=Math.abs(Uh(A,0,Pe,W));if(Ee)for(var tt=0,ht=D.length;tt<ht;tt++){var Tt=D[tt]*W,At=tt<ht-1?D[tt+1]*W:A.length;Ve-=Math.abs(Uh(A,Tt,At,W))}var Ft=0;for(tt=0;tt<le.length;tt+=3){var Ht=le[tt]*W,jt=le[tt+1]*W,on=le[tt+2]*W;Ft+=Math.abs((A[Ht]-A[on])*(A[jt+1]-A[Ht+1])-(A[Ht]-A[jt])*(A[on+1]-A[Ht+1]))}return Ve===0&&Ft===0?0:Math.abs((Ft-Ve)/Ve)},Lf.flatten=function(A){for(var D=A[0][0].length,W={vertices:[],holes:[],dimensions:D},le=0,Ee=0;Ee<A.length;Ee++){for(var Pe=0;Pe<A[Ee].length;Pe++)for(var Ve=0;Ve<D;Ve++)W.vertices.push(A[Ee][Pe][Ve]);Ee>0&&(le+=A[Ee-1].length,W.holes.push(le))}return W},Bh.default=Sg;var cl=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Va,this.indexArray=new Q,this.indexArray2=new He,this.programConfigurations=new Ei(ud,A.layers,A.zoom),this.segments=new _n,this.segments2=new _n,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};cl.prototype.populate=function(A,D,W){this.hasPattern=Hh("fill",this.layers,D);for(var le=this.layers[0].layout.get("fill-sort-key"),Ee=[],Pe=0,Ve=A;Pe<Ve.length;Pe+=1){var tt=Ve[Pe],ht=tt.feature,Tt=tt.id,At=tt.index,Ft=tt.sourceLayerIndex,Ht=this.layers[0]._featureFilter.needGeometry,jt={type:ht.type,id:Tt,properties:ht.properties,geometry:Ht?ao(ht):[]};if(this.layers[0]._featureFilter.filter(new ui(this.zoom),jt,W)){Ht||(jt.geometry=ao(ht));var on=le?le.evaluate(jt,{},W,D.availableImages):void 0,un={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Ft,index:At,geometry:jt.geometry,patterns:{},sortKey:on};Ee.push(un)}}le&&Ee.sort(function(wr,Er){return wr.sortKey-Er.sortKey});for(var Ln=0,En=Ee;Ln<En.length;Ln+=1){var Fn=En[Ln],Nn=Fn,Gn=Nn.geometry,Kn=Nn.index,rr=Nn.sourceLayerIndex;if(this.hasPattern){var yr=qh("fill",this.layers,Fn,this.zoom,D);this.patternFeatures.push(yr)}else this.addFeature(Fn,Gn,Kn,W,{});var hr=A[Kn].feature;D.featureIndex.insert(hr,Gn,Kn,rr,this.index)}},cl.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},cl.prototype.addFeatures=function(A,D,W){for(var le=0,Ee=this.patternFeatures;le<Ee.length;le+=1){var Pe=Ee[le];this.addFeature(Pe,Pe.geometry,Pe.index,D,W)}},cl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},cl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},cl.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,ud),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.indexBuffer2=A.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(A),this.uploaded=!0},cl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},cl.prototype.addFeature=function(A,D,W,le,Ee){for(var Pe=0,Ve=Vh(D,500);Pe<Ve.length;Pe+=1){for(var tt=Ve[Pe],ht=0,Tt=0,At=tt;Tt<At.length;Tt+=1)ht+=At[Tt].length;for(var Ft=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray),Ht=Ft.vertexLength,jt=[],on=[],un=0,Ln=tt;un<Ln.length;un+=1){var En=Ln[un];if(En.length!==0){En!==tt[0]&&on.push(jt.length/2);var Fn=this.segments2.prepareSegment(En.length,this.layoutVertexArray,this.indexArray2),Nn=Fn.vertexLength;this.layoutVertexArray.emplaceBack(En[0].x,En[0].y),this.indexArray2.emplaceBack(Nn+En.length-1,Nn),jt.push(En[0].x),jt.push(En[0].y);for(var Gn=1;Gn<En.length;Gn++)this.layoutVertexArray.emplaceBack(En[Gn].x,En[Gn].y),this.indexArray2.emplaceBack(Nn+Gn-1,Nn+Gn),jt.push(En[Gn].x),jt.push(En[Gn].y);Fn.vertexLength+=En.length,Fn.primitiveLength+=En.length}}for(var Kn=Bh(jt,on),rr=0;rr<Kn.length;rr+=3)this.indexArray.emplaceBack(Ht+Kn[rr],Ht+Kn[rr+1],Ht+Kn[rr+2]);Ft.vertexLength+=ht,Ft.primitiveLength+=Kn.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,Ee,le)},Ar("FillBucket",cl,{omit:["layers","patternFeatures"]});var jg=new xa({"fill-sort-key":new Ir(Re.layout_fill["fill-sort-key"])}),Ug={paint:new xa({"fill-antialias":new Or(Re.paint_fill["fill-antialias"]),"fill-opacity":new Ir(Re.paint_fill["fill-opacity"]),"fill-color":new Ir(Re.paint_fill["fill-color"]),"fill-outline-color":new Ir(Re.paint_fill["fill-outline-color"]),"fill-translate":new Or(Re.paint_fill["fill-translate"]),"fill-translate-anchor":new Or(Re.paint_fill["fill-translate-anchor"]),"fill-pattern":new Gs(Re.paint_fill["fill-pattern"])}),layout:jg},Vg=function(A){function D(W){A.call(this,W,Ug)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(W,le){A.prototype.recalculate.call(this,W,le);var Ee=this.paint._values["fill-outline-color"];Ee.value.kind==="constant"&&Ee.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},D.prototype.createBucket=function(W){return new cl(W)},D.prototype.queryRadius=function(){return Mf(this.paint.get("fill-translate"))},D.prototype.queryIntersectsFeature=function(W,le,Ee,Pe,Ve,tt,ht){return Tf(Af(W,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),tt.angle,ht),Pe)},D.prototype.isTileClipped=function(){return!0},D}(ba),gd=ra([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,vd=Ku;function Ku(A,D,W,le,Ee){this.properties={},this.extent=W,this.type=0,this._pbf=A,this._geometry=-1,this._keys=le,this._values=Ee,A.readFields(Hg,this,D)}function Hg(A,D,W){A==1?D.id=W.readVarint():A==2?function(le,Ee){for(var Pe=le.readVarint()+le.pos;le.pos<Pe;){var Ve=Ee._keys[le.readVarint()],tt=Ee._values[le.readVarint()];Ee.properties[Ve]=tt}}(W,D):A==3?D.type=W.readVarint():A==4&&(D._geometry=W.pos)}function qg(A){for(var D,W,le=0,Ee=0,Pe=A.length,Ve=Pe-1;Ee<Pe;Ve=Ee++)D=A[Ee],le+=((W=A[Ve]).x-D.x)*(D.y+W.y);return le}Ku.types=["Unknown","Point","LineString","Polygon"],Ku.prototype.loadGeometry=function(){var A=this._pbf;A.pos=this._geometry;for(var D,W=A.readVarint()+A.pos,le=1,Ee=0,Pe=0,Ve=0,tt=[];A.pos<W;){if(Ee<=0){var ht=A.readVarint();le=7&ht,Ee=ht>>3}if(Ee--,le===1||le===2)Pe+=A.readSVarint(),Ve+=A.readSVarint(),le===1&&(D&&tt.push(D),D=[]),D.push(new t(Pe,Ve));else{if(le!==7)throw new Error("unknown command "+le);D&&D.push(D[0].clone())}}return D&&tt.push(D),tt},Ku.prototype.bbox=function(){var A=this._pbf;A.pos=this._geometry;for(var D=A.readVarint()+A.pos,W=1,le=0,Ee=0,Pe=0,Ve=1/0,tt=-1/0,ht=1/0,Tt=-1/0;A.pos<D;){if(le<=0){var At=A.readVarint();W=7&At,le=At>>3}if(le--,W===1||W===2)(Ee+=A.readSVarint())<Ve&&(Ve=Ee),Ee>tt&&(tt=Ee),(Pe+=A.readSVarint())<ht&&(ht=Pe),Pe>Tt&&(Tt=Pe);else if(W!==7)throw new Error("unknown command "+W)}return[Ve,ht,tt,Tt]},Ku.prototype.toGeoJSON=function(A,D,W){var le,Ee,Pe=this.extent*Math.pow(2,W),Ve=this.extent*A,tt=this.extent*D,ht=this.loadGeometry(),Tt=Ku.types[this.type];function At(jt){for(var on=0;on<jt.length;on++){var un=jt[on],Ln=180-360*(un.y+tt)/Pe;jt[on]=[360*(un.x+Ve)/Pe-180,360/Math.PI*Math.atan(Math.exp(Ln*Math.PI/180))-90]}}switch(this.type){case 1:var Ft=[];for(le=0;le<ht.length;le++)Ft[le]=ht[le][0];At(ht=Ft);break;case 2:for(le=0;le<ht.length;le++)At(ht[le]);break;case 3:for(ht=function(jt){var on=jt.length;if(on<=1)return[jt];for(var un,Ln,En=[],Fn=0;Fn<on;Fn++){var Nn=qg(jt[Fn]);Nn!==0&&(Ln===void 0&&(Ln=Nn<0),Ln===Nn<0?(un&&En.push(un),un=[jt[Fn]]):un.push(jt[Fn]))}return un&&En.push(un),En}(ht),le=0;le<ht.length;le++)for(Ee=0;Ee<ht[le].length;Ee++)At(ht[le][Ee])}ht.length===1?ht=ht[0]:Tt="Multi"+Tt;var Ht={type:"Feature",geometry:{type:Tt,coordinates:ht},properties:this.properties};return"id"in this&&(Ht.id=this.id),Ht};var md=yd;function yd(A,D){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=A,this._keys=[],this._values=[],this._features=[],A.readFields(Gg,this,D),this.length=this._features.length}function Gg(A,D,W){A===15?D.version=W.readVarint():A===1?D.name=W.readString():A===5?D.extent=W.readVarint():A===2?D._features.push(W.pos):A===3?D._keys.push(W.readString()):A===4&&D._values.push(function(le){for(var Ee=null,Pe=le.readVarint()+le.pos;le.pos<Pe;){var Ve=le.readVarint()>>3;Ee=Ve===1?le.readString():Ve===2?le.readFloat():Ve===3?le.readDouble():Ve===4?le.readVarint64():Ve===5?le.readVarint():Ve===6?le.readSVarint():Ve===7?le.readBoolean():null}return Ee}(W))}function Yg(A,D,W){if(A===3){var le=new md(W,W.readVarint()+W.pos);le.length&&(D[le.name]=le)}}yd.prototype.feature=function(A){if(A<0||A>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[A];var D=this._pbf.readVarint()+this._pbf.pos;return new vd(this._pbf,D,this.extent,this._keys,this._values)};var $u={VectorTile:function(A,D){this.layers=A.readFields(Yg,{},D)},VectorTileFeature:vd,VectorTileLayer:md},Wg=$u.VectorTileFeature.types,Gh=Math.pow(2,13);function Bc(A,D,W,le,Ee,Pe,Ve,tt){A.emplaceBack(D,W,2*Math.floor(le*Gh)+Ve,Ee*Gh*2,Pe*Gh*2,Math.round(tt))}var fl=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.layoutVertexArray=new Ws,this.indexArray=new Q,this.programConfigurations=new Ei(gd,A.layers,A.zoom),this.segments=new _n,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};function Zg(A,D){return A.x===D.x&&(A.x<0||A.x>si)||A.y===D.y&&(A.y<0||A.y>si)}fl.prototype.populate=function(A,D,W){this.features=[],this.hasPattern=Hh("fill-extrusion",this.layers,D);for(var le=0,Ee=A;le<Ee.length;le+=1){var Pe=Ee[le],Ve=Pe.feature,tt=Pe.id,ht=Pe.index,Tt=Pe.sourceLayerIndex,At=this.layers[0]._featureFilter.needGeometry,Ft={type:Ve.type,id:tt,properties:Ve.properties,geometry:At?ao(Ve):[]};if(this.layers[0]._featureFilter.filter(new ui(this.zoom),Ft,W)){var Ht={id:tt,sourceLayerIndex:Tt,index:ht,geometry:At?Ft.geometry:ao(Ve),properties:Ve.properties,type:Ve.type,patterns:{}};Ve.id!==void 0&&(Ht.id=Ve.id),this.hasPattern?this.features.push(qh("fill-extrusion",this.layers,Ht,this.zoom,D)):this.addFeature(Ht,Ht.geometry,ht,W,{}),D.featureIndex.insert(Ve,Ht.geometry,ht,Tt,this.index,!0)}}},fl.prototype.addFeatures=function(A,D,W){for(var le=0,Ee=this.features;le<Ee.length;le+=1){var Pe=Ee[le],Ve=Pe.geometry;this.addFeature(Pe,Ve,Pe.index,D,W)}},fl.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},fl.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},fl.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},fl.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,gd),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},fl.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},fl.prototype.addFeature=function(A,D,W,le,Ee){for(var Pe=0,Ve=Vh(D,500);Pe<Ve.length;Pe+=1){for(var tt=Ve[Pe],ht=0,Tt=0,At=tt;Tt<At.length;Tt+=1)ht+=At[Tt].length;for(var Ft=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),Ht=0,jt=tt;Ht<jt.length;Ht+=1){var on=jt[Ht];if(on.length!==0&&!(($r=on).every(function(Wr){return Wr.x<0})||$r.every(function(Wr){return Wr.x>si})||$r.every(function(Wr){return Wr.y<0})||$r.every(function(Wr){return Wr.y>si})))for(var un=0,Ln=0;Ln<on.length;Ln++){var En=on[Ln];if(Ln>=1){var Fn=on[Ln-1];if(!Zg(En,Fn)){Ft.vertexLength+4>_n.MAX_VERTEX_ARRAY_LENGTH&&(Ft=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var Nn=En.sub(Fn)._perp()._unit(),Gn=Fn.dist(En);un+Gn>32768&&(un=0),Bc(this.layoutVertexArray,En.x,En.y,Nn.x,Nn.y,0,0,un),Bc(this.layoutVertexArray,En.x,En.y,Nn.x,Nn.y,0,1,un),un+=Gn,Bc(this.layoutVertexArray,Fn.x,Fn.y,Nn.x,Nn.y,0,0,un),Bc(this.layoutVertexArray,Fn.x,Fn.y,Nn.x,Nn.y,0,1,un);var Kn=Ft.vertexLength;this.indexArray.emplaceBack(Kn,Kn+2,Kn+1),this.indexArray.emplaceBack(Kn+1,Kn+2,Kn+3),Ft.vertexLength+=4,Ft.primitiveLength+=2}}}}if(Ft.vertexLength+ht>_n.MAX_VERTEX_ARRAY_LENGTH&&(Ft=this.segments.prepareSegment(ht,this.layoutVertexArray,this.indexArray)),Wg[A.type]==="Polygon"){for(var rr=[],yr=[],hr=Ft.vertexLength,wr=0,Er=tt;wr<Er.length;wr+=1){var qr=Er[wr];if(qr.length!==0){qr!==tt[0]&&yr.push(rr.length/2);for(var Pr=0;Pr<qr.length;Pr++){var Vr=qr[Pr];Bc(this.layoutVertexArray,Vr.x,Vr.y,0,0,1,1,0),rr.push(Vr.x),rr.push(Vr.y)}}}for(var zr=Bh(rr,yr),Lr=0;Lr<zr.length;Lr+=3)this.indexArray.emplaceBack(hr+zr[Lr],hr+zr[Lr+2],hr+zr[Lr+1]);Ft.primitiveLength+=zr.length/3,Ft.vertexLength+=ht}}var $r;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,Ee,le)},Ar("FillExtrusionBucket",fl,{omit:["layers","features"]});var Xg={paint:new xa({"fill-extrusion-opacity":new Or(Re["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ir(Re["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Or(Re["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Or(Re["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Gs(Re["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ir(Re["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ir(Re["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Or(Re["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},Jg=function(A){function D(W){A.call(this,W,Xg)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.createBucket=function(W){return new fl(W)},D.prototype.queryRadius=function(){return Mf(this.paint.get("fill-extrusion-translate"))},D.prototype.is3D=function(){return!0},D.prototype.queryIntersectsFeature=function(W,le,Ee,Pe,Ve,tt,ht,Tt){var At=Af(W,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),tt.angle,ht),Ft=this.paint.get("fill-extrusion-height").evaluate(le,Ee),Ht=this.paint.get("fill-extrusion-base").evaluate(le,Ee),jt=function(un,Ln,En,Fn){for(var Nn=[],Gn=0,Kn=un;Gn<Kn.length;Gn+=1){var rr=Kn[Gn],yr=[rr.x,rr.y,Fn,1];Ef(yr,yr,Ln),Nn.push(new t(yr[0]/yr[3],yr[1]/yr[3]))}return Nn}(At,Tt,0,0),on=function(un,Ln,En,Fn){for(var Nn=[],Gn=[],Kn=Fn[8]*Ln,rr=Fn[9]*Ln,yr=Fn[10]*Ln,hr=Fn[11]*Ln,wr=Fn[8]*En,Er=Fn[9]*En,qr=Fn[10]*En,Pr=Fn[11]*En,Vr=0,zr=un;Vr<zr.length;Vr+=1){for(var Lr=[],$r=[],Wr=0,Li=zr[Vr];Wr<Li.length;Wr+=1){var Ur=Li[Wr],yi=Ur.x,zi=Ur.y,Ni=Fn[0]*yi+Fn[4]*zi+Fn[12],ji=Fn[1]*yi+Fn[5]*zi+Fn[13],Ci=Fn[2]*yi+Fn[6]*zi+Fn[14],La=Fn[3]*yi+Fn[7]*zi+Fn[15],Wi=Ci+yr,za=La+hr,$a=Ni+wr,Ga=ji+Er,yo=Ci+qr,Ya=La+Pr,Pa=new t((Ni+Kn)/za,(ji+rr)/za);Pa.z=Wi/za,Lr.push(Pa);var Wa=new t($a/Ya,Ga/Ya);Wa.z=yo/Ya,$r.push(Wa)}Nn.push(Lr),Gn.push($r)}return[Nn,Gn]}(Pe,Ht,Ft,Tt);return function(un,Ln,En){var Fn=1/0;Tf(En,Ln)&&(Fn=xd(En,Ln[0]));for(var Nn=0;Nn<Ln.length;Nn++)for(var Gn=Ln[Nn],Kn=un[Nn],rr=0;rr<Gn.length-1;rr++){var yr=Gn[rr],hr=Gn[rr+1],wr=Kn[rr],Er=[yr,hr,Kn[rr+1],wr,yr];mo(En,Er)&&(Fn=Math.min(Fn,xd(En,Er)))}return Fn!==1/0&&Fn}(on[0],on[1],jt)},D}(ba);function Nc(A,D){return A.x*D.x+A.y*D.y}function xd(A,D){if(A.length===1){for(var W,le=0,Ee=D[le++];!W||Ee.equals(W);)if(!(W=D[le++]))return 1/0;for(;le<D.length;le++){var Pe=D[le],Ve=A[0],tt=W.sub(Ee),ht=Pe.sub(Ee),Tt=Ve.sub(Ee),At=Nc(tt,tt),Ft=Nc(tt,ht),Ht=Nc(ht,ht),jt=Nc(Tt,tt),on=Nc(Tt,ht),un=At*Ht-Ft*Ft,Ln=(Ht*jt-Ft*on)/un,En=(At*on-Ft*jt)/un,Fn=1-Ln-En,Nn=Ee.z*Fn+W.z*Ln+Pe.z*En;if(isFinite(Nn))return Nn}return 1/0}for(var Gn=1/0,Kn=0,rr=D;Kn<rr.length;Kn+=1){var yr=rr[Kn];Gn=Math.min(Gn,yr.z)}return Gn}var bd=ra([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,Kg=$u.VectorTileFeature.types,$g=Math.cos(Math.PI/180*37.5),_d=Math.pow(2,14)/.5,Co=function(A){this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(D){return D.id}),this.index=A.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ds,this.indexArray=new Q,this.programConfigurations=new Ei(bd,A.layers,A.zoom),this.segments=new _n,this.stateDependentLayerIds=this.layers.filter(function(D){return D.isStateDependent()}).map(function(D){return D.id})};Co.prototype.populate=function(A,D,W){this.hasPattern=Hh("line",this.layers,D);for(var le=this.layers[0].layout.get("line-sort-key"),Ee=[],Pe=0,Ve=A;Pe<Ve.length;Pe+=1){var tt=Ve[Pe],ht=tt.feature,Tt=tt.id,At=tt.index,Ft=tt.sourceLayerIndex,Ht=this.layers[0]._featureFilter.needGeometry,jt={type:ht.type,id:Tt,properties:ht.properties,geometry:Ht?ao(ht):[]};if(this.layers[0]._featureFilter.filter(new ui(this.zoom),jt,W)){Ht||(jt.geometry=ao(ht));var on=le?le.evaluate(jt,{},W):void 0,un={id:Tt,properties:ht.properties,type:ht.type,sourceLayerIndex:Ft,index:At,geometry:jt.geometry,patterns:{},sortKey:on};Ee.push(un)}}le&&Ee.sort(function(wr,Er){return wr.sortKey-Er.sortKey});for(var Ln=0,En=Ee;Ln<En.length;Ln+=1){var Fn=En[Ln],Nn=Fn,Gn=Nn.geometry,Kn=Nn.index,rr=Nn.sourceLayerIndex;if(this.hasPattern){var yr=qh("line",this.layers,Fn,this.zoom,D);this.patternFeatures.push(yr)}else this.addFeature(Fn,Gn,Kn,W,{});var hr=A[Kn].feature;D.featureIndex.insert(hr,Gn,Kn,rr,this.index)}},Co.prototype.update=function(A,D,W){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(A,D,this.stateDependentLayers,W)},Co.prototype.addFeatures=function(A,D,W){for(var le=0,Ee=this.patternFeatures;le<Ee.length;le+=1){var Pe=Ee[le];this.addFeature(Pe,Pe.geometry,Pe.index,D,W)}},Co.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Co.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Co.prototype.upload=function(A){this.uploaded||(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,bd),this.indexBuffer=A.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(A),this.uploaded=!0},Co.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Co.prototype.addFeature=function(A,D,W,le,Ee){for(var Pe=this.layers[0].layout,Ve=Pe.get("line-join").evaluate(A,{}),tt=Pe.get("line-cap"),ht=Pe.get("line-miter-limit"),Tt=Pe.get("line-round-limit"),At=0,Ft=D;At<Ft.length;At+=1){var Ht=Ft[At];this.addLine(Ht,A,Ve,tt,ht,Tt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,A,W,Ee,le)},Co.prototype.addLine=function(A,D,W,le,Ee,Pe){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,D.properties&&D.properties.hasOwnProperty("mapbox_clip_start")&&D.properties.hasOwnProperty("mapbox_clip_end")){this.clipStart=+D.properties.mapbox_clip_start,this.clipEnd=+D.properties.mapbox_clip_end;for(var Ve=0;Ve<A.length-1;Ve++)this.totalDistance+=A[Ve].dist(A[Ve+1]);this.updateScaledDistance()}for(var tt=Kg[D.type]==="Polygon",ht=A.length;ht>=2&&A[ht-1].equals(A[ht-2]);)ht--;for(var Tt=0;Tt<ht-1&&A[Tt].equals(A[Tt+1]);)Tt++;if(!(ht<(tt?3:2))){W==="bevel"&&(Ee=1.05);var At,Ft=this.overscaling<=16?15*si/(512*this.overscaling):0,Ht=this.segments.prepareSegment(10*ht,this.layoutVertexArray,this.indexArray),jt=void 0,on=void 0,un=void 0,Ln=void 0;this.e1=this.e2=-1,tt&&(At=A[ht-2],Ln=A[Tt].sub(At)._unit()._perp());for(var En=Tt;En<ht;En++)if(!(on=En===ht-1?tt?A[Tt+1]:void 0:A[En+1])||!A[En].equals(on)){Ln&&(un=Ln),At&&(jt=At),At=A[En],Ln=on?on.sub(At)._unit()._perp():un;var Fn=(un=un||Ln).add(Ln);Fn.x===0&&Fn.y===0||Fn._unit();var Nn=un.x*Ln.x+un.y*Ln.y,Gn=Fn.x*Ln.x+Fn.y*Ln.y,Kn=Gn!==0?1/Gn:1/0,rr=2*Math.sqrt(2-2*Gn),yr=Gn<$g&&jt&&on,hr=un.x*Ln.y-un.y*Ln.x>0;if(yr&&En>Tt){var wr=At.dist(jt);if(wr>2*Ft){var Er=At.sub(At.sub(jt)._mult(Ft/wr)._round());this.updateDistance(jt,Er),this.addCurrentVertex(Er,un,0,0,Ht),jt=Er}}var qr=jt&&on,Pr=qr?W:tt?"butt":le;if(qr&&Pr==="round"&&(Kn<Pe?Pr="miter":Kn<=2&&(Pr="fakeround")),Pr==="miter"&&Kn>Ee&&(Pr="bevel"),Pr==="bevel"&&(Kn>2&&(Pr="flipbevel"),Kn<Ee&&(Pr="miter")),jt&&this.updateDistance(jt,At),Pr==="miter")Fn._mult(Kn),this.addCurrentVertex(At,Fn,0,0,Ht);else if(Pr==="flipbevel"){if(Kn>100)Fn=Ln.mult(-1);else{var Vr=Kn*un.add(Ln).mag()/un.sub(Ln).mag();Fn._perp()._mult(Vr*(hr?-1:1))}this.addCurrentVertex(At,Fn,0,0,Ht),this.addCurrentVertex(At,Fn.mult(-1),0,0,Ht)}else if(Pr==="bevel"||Pr==="fakeround"){var zr=-Math.sqrt(Kn*Kn-1),Lr=hr?zr:0,$r=hr?0:zr;if(jt&&this.addCurrentVertex(At,un,Lr,$r,Ht),Pr==="fakeround")for(var Wr=Math.round(180*rr/Math.PI/20),Li=1;Li<Wr;Li++){var Ur=Li/Wr;if(Ur!==.5){var yi=Ur-.5;Ur+=Ur*yi*(Ur-1)*((1.0904+Nn*(Nn*(3.55645-1.43519*Nn)-3.2452))*yi*yi+(.848013+Nn*(.215638*Nn-1.06021)))}var zi=Ln.sub(un)._mult(Ur)._add(un)._unit()._mult(hr?-1:1);this.addHalfVertex(At,zi.x,zi.y,!1,hr,0,Ht)}on&&this.addCurrentVertex(At,Ln,-Lr,-$r,Ht)}else if(Pr==="butt")this.addCurrentVertex(At,Fn,0,0,Ht);else if(Pr==="square"){var Ni=jt?1:-1;this.addCurrentVertex(At,Fn,Ni,Ni,Ht)}else Pr==="round"&&(jt&&(this.addCurrentVertex(At,un,0,0,Ht),this.addCurrentVertex(At,un,1,1,Ht,!0)),on&&(this.addCurrentVertex(At,Ln,-1,-1,Ht,!0),this.addCurrentVertex(At,Ln,0,0,Ht)));if(yr&&En<ht-1){var ji=At.dist(on);if(ji>2*Ft){var Ci=At.add(on.sub(At)._mult(Ft/ji)._round());this.updateDistance(At,Ci),this.addCurrentVertex(Ci,Ln,0,0,Ht),At=Ci}}}}},Co.prototype.addCurrentVertex=function(A,D,W,le,Ee,Pe){Pe===void 0&&(Pe=!1);var Ve=D.x+D.y*W,tt=D.y-D.x*W,ht=-D.x+D.y*le,Tt=-D.y-D.x*le;this.addHalfVertex(A,Ve,tt,Pe,!1,W,Ee),this.addHalfVertex(A,ht,Tt,Pe,!0,-le,Ee),this.distance>_d/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(A,D,W,le,Ee,Pe))},Co.prototype.addHalfVertex=function(A,D,W,le,Ee,Pe,Ve){var tt=A.x,ht=A.y,Tt=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((tt<<1)+(le?1:0),(ht<<1)+(Ee?1:0),Math.round(63*D)+128,Math.round(63*W)+128,1+(Pe===0?0:Pe<0?-1:1)|(63&Tt)<<2,Tt>>6);var At=Ve.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,At),Ve.primitiveLength++),Ee?this.e2=At:this.e1=At},Co.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance>0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(_d-1):this.distance},Co.prototype.updateDistance=function(A,D){this.distance+=A.dist(D),this.updateScaledDistance()},Ar("LineBucket",Co,{omit:["layers","patternFeatures"]});var Qg=new xa({"line-cap":new Or(Re.layout_line["line-cap"]),"line-join":new Ir(Re.layout_line["line-join"]),"line-miter-limit":new Or(Re.layout_line["line-miter-limit"]),"line-round-limit":new Or(Re.layout_line["line-round-limit"]),"line-sort-key":new Ir(Re.layout_line["line-sort-key"])}),wd={paint:new xa({"line-opacity":new Ir(Re.paint_line["line-opacity"]),"line-color":new Ir(Re.paint_line["line-color"]),"line-translate":new Or(Re.paint_line["line-translate"]),"line-translate-anchor":new Or(Re.paint_line["line-translate-anchor"]),"line-width":new Ir(Re.paint_line["line-width"]),"line-gap-width":new Ir(Re.paint_line["line-gap-width"]),"line-offset":new Ir(Re.paint_line["line-offset"]),"line-blur":new Ir(Re.paint_line["line-blur"]),"line-dasharray":new Oa(Re.paint_line["line-dasharray"]),"line-pattern":new Gs(Re.paint_line["line-pattern"]),"line-gradient":new cs(Re.paint_line["line-gradient"])}),layout:Qg},ev=function(A){function D(){A.apply(this,arguments)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.possiblyEvaluate=function(W,le){return le=new ui(Math.floor(le.zoom),{now:le.now,fadeDuration:le.fadeDuration,zoomHistory:le.zoomHistory,transition:le.transition}),A.prototype.possiblyEvaluate.call(this,W,le)},D.prototype.evaluate=function(W,le,Ee,Pe){return le=u({},le,{zoom:Math.floor(le.zoom)}),A.prototype.evaluate.call(this,W,le,Ee,Pe)},D}(Ir),Td=new ev(wd.paint.properties["line-width"].specification);Td.useIntegerZoom=!0;var tv=function(A){function D(W){A.call(this,W,wd)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype._handleSpecialPaintPropertyUpdate=function(W){W==="line-gradient"&&this._updateGradient()},D.prototype._updateGradient=function(){var W=this._transitionablePaint._values["line-gradient"].value.expression;this.gradient=ld(W,"lineProgress"),this.gradientTexture=null},D.prototype.recalculate=function(W,le){A.prototype.recalculate.call(this,W,le),this.paint._values["line-floorwidth"]=Td.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,W)},D.prototype.createBucket=function(W){return new Co(W)},D.prototype.queryRadius=function(W){var le=W,Ee=kd(Ic("line-width",this,le),Ic("line-gap-width",this,le)),Pe=Ic("line-offset",this,le);return Ee/2+Math.abs(Pe)+Mf(this.paint.get("line-translate"))},D.prototype.queryIntersectsFeature=function(W,le,Ee,Pe,Ve,tt,ht){var Tt=Af(W,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),tt.angle,ht),At=ht/2*kd(this.paint.get("line-width").evaluate(le,Ee),this.paint.get("line-gap-width").evaluate(le,Ee)),Ft=this.paint.get("line-offset").evaluate(le,Ee);return Ft&&(Pe=function(Ht,jt){for(var on=[],un=new t(0,0),Ln=0;Ln<Ht.length;Ln++){for(var En=Ht[Ln],Fn=[],Nn=0;Nn<En.length;Nn++){var Gn=En[Nn-1],Kn=En[Nn],rr=En[Nn+1],yr=Nn===0?un:Kn.sub(Gn)._unit()._perp(),hr=Nn===En.length-1?un:rr.sub(Kn)._unit()._perp(),wr=yr._add(hr)._unit(),Er=wr.x*hr.x+wr.y*hr.y;wr._mult(1/Er),Fn.push(wr._mult(jt)._add(Kn))}on.push(Fn)}return on}(Pe,Ft*ht)),function(Ht,jt,on){for(var un=0;un<jt.length;un++){var Ln=jt[un];if(Ht.length>=3){for(var En=0;En<Ln.length;En++)if(_u(Ht,Ln[En]))return!0}if(Dh(Ht,Ln,on))return!0}return!1}(Tt,Pe,At)},D.prototype.isTileClipped=function(){return!0},D}(ba);function kd(A,D){return D>0?D+2*A:A}var Yh=ra([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),nv=ra([{name:"a_projected_pos",components:3,type:"Float32"}],4),rv=(ra([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),ra([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),Md=(ra([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),ra([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),iv=ra([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function av(A,D,W){return A.sections.forEach(function(le){le.text=function(Ee,Pe,Ve){var tt=Pe.layout.get("text-transform").evaluate(Ve,{});return tt==="uppercase"?Ee=Ee.toLocaleUpperCase():tt==="lowercase"&&(Ee=Ee.toLocaleLowerCase()),Vi.applyArabicShaping&&(Ee=Vi.applyArabicShaping(Ee)),Ee}(le.text,D,W)}),A}ra([{name:"triangle",components:3,type:"Uint16"}]),ra([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ra([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),ra([{type:"Float32",name:"offsetX"}]),ra([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var jc={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},qa=24,Ad=function(A,D,W,le,Ee){var Pe,Ve,tt=8*Ee-le-1,ht=(1<<tt)-1,Tt=ht>>1,At=-7,Ft=W?Ee-1:0,Ht=W?-1:1,jt=A[D+Ft];for(Ft+=Ht,Pe=jt&(1<<-At)-1,jt>>=-At,At+=tt;At>0;Pe=256*Pe+A[D+Ft],Ft+=Ht,At-=8);for(Ve=Pe&(1<<-At)-1,Pe>>=-At,At+=le;At>0;Ve=256*Ve+A[D+Ft],Ft+=Ht,At-=8);if(Pe===0)Pe=1-Tt;else{if(Pe===ht)return Ve?NaN:1/0*(jt?-1:1);Ve+=Math.pow(2,le),Pe-=Tt}return(jt?-1:1)*Ve*Math.pow(2,Pe-le)},Sd=function(A,D,W,le,Ee,Pe){var Ve,tt,ht,Tt=8*Pe-Ee-1,At=(1<<Tt)-1,Ft=At>>1,Ht=Ee===23?Math.pow(2,-24)-Math.pow(2,-77):0,jt=le?0:Pe-1,on=le?1:-1,un=D<0||D===0&&1/D<0?1:0;for(D=Math.abs(D),isNaN(D)||D===1/0?(tt=isNaN(D)?1:0,Ve=At):(Ve=Math.floor(Math.log(D)/Math.LN2),D*(ht=Math.pow(2,-Ve))<1&&(Ve--,ht*=2),(D+=Ve+Ft>=1?Ht/ht:Ht*Math.pow(2,1-Ft))*ht>=2&&(Ve++,ht/=2),Ve+Ft>=At?(tt=0,Ve=At):Ve+Ft>=1?(tt=(D*ht-1)*Math.pow(2,Ee),Ve+=Ft):(tt=D*Math.pow(2,Ft-1)*Math.pow(2,Ee),Ve=0));Ee>=8;A[W+jt]=255&tt,jt+=on,tt/=256,Ee-=8);for(Ve=Ve<<Ee|tt,Tt+=Ee;Tt>0;A[W+jt]=255&Ve,jt+=on,Ve/=256,Tt-=8);A[W+jt-on]|=128*un},If=Ri;function Ri(A){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(A)?A:new Uint8Array(A||0),this.pos=0,this.type=0,this.length=this.buf.length}Ri.Varint=0,Ri.Fixed64=1,Ri.Bytes=2,Ri.Fixed32=5;var Wh=4294967296,Ed=1/Wh,Ld=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Kl(A){return A.type===Ri.Bytes?A.readVarint()+A.pos:A.pos+1}function Qu(A,D,W){return W?4294967296*D+(A>>>0):4294967296*(D>>>0)+(A>>>0)}function Cd(A,D,W){var le=D<=16383?1:D<=2097151?2:D<=268435455?3:Math.floor(Math.log(D)/(7*Math.LN2));W.realloc(le);for(var Ee=W.pos-1;Ee>=A;Ee--)W.buf[Ee+le]=W.buf[Ee]}function ov(A,D){for(var W=0;W<A.length;W++)D.writeVarint(A[W])}function sv(A,D){for(var W=0;W<A.length;W++)D.writeSVarint(A[W])}function lv(A,D){for(var W=0;W<A.length;W++)D.writeFloat(A[W])}function uv(A,D){for(var W=0;W<A.length;W++)D.writeDouble(A[W])}function cv(A,D){for(var W=0;W<A.length;W++)D.writeBoolean(A[W])}function fv(A,D){for(var W=0;W<A.length;W++)D.writeFixed32(A[W])}function hv(A,D){for(var W=0;W<A.length;W++)D.writeSFixed32(A[W])}function pv(A,D){for(var W=0;W<A.length;W++)D.writeFixed64(A[W])}function dv(A,D){for(var W=0;W<A.length;W++)D.writeSFixed64(A[W])}function Df(A,D){return(A[D]|A[D+1]<<8|A[D+2]<<16)+16777216*A[D+3]}function ec(A,D,W){A[W]=D,A[W+1]=D>>>8,A[W+2]=D>>>16,A[W+3]=D>>>24}function Od(A,D){return(A[D]|A[D+1]<<8|A[D+2]<<16)+(A[D+3]<<24)}Ri.prototype={destroy:function(){this.buf=null},readFields:function(A,D,W){for(W=W||this.length;this.pos<W;){var le=this.readVarint(),Ee=le>>3,Pe=this.pos;this.type=7&le,A(Ee,D,this),this.pos===Pe&&this.skip(le)}return D},readMessage:function(A,D){return this.readFields(A,D,this.readVarint()+this.pos)},readFixed32:function(){var A=Df(this.buf,this.pos);return this.pos+=4,A},readSFixed32:function(){var A=Od(this.buf,this.pos);return this.pos+=4,A},readFixed64:function(){var A=Df(this.buf,this.pos)+Df(this.buf,this.pos+4)*Wh;return this.pos+=8,A},readSFixed64:function(){var A=Df(this.buf,this.pos)+Od(this.buf,this.pos+4)*Wh;return this.pos+=8,A},readFloat:function(){var A=Ad(this.buf,this.pos,!0,23,4);return this.pos+=4,A},readDouble:function(){var A=Ad(this.buf,this.pos,!0,52,8);return this.pos+=8,A},readVarint:function(A){var D,W,le=this.buf;return D=127&(W=le[this.pos++]),W<128?D:(D|=(127&(W=le[this.pos++]))<<7,W<128?D:(D|=(127&(W=le[this.pos++]))<<14,W<128?D:(D|=(127&(W=le[this.pos++]))<<21,W<128?D:function(Ee,Pe,Ve){var tt,ht,Tt=Ve.buf;if(tt=(112&(ht=Tt[Ve.pos++]))>>4,ht<128||(tt|=(127&(ht=Tt[Ve.pos++]))<<3,ht<128)||(tt|=(127&(ht=Tt[Ve.pos++]))<<10,ht<128)||(tt|=(127&(ht=Tt[Ve.pos++]))<<17,ht<128)||(tt|=(127&(ht=Tt[Ve.pos++]))<<24,ht<128)||(tt|=(1&(ht=Tt[Ve.pos++]))<<31,ht<128))return Qu(Ee,tt,Pe);throw new Error("Expected varint not more than 10 bytes")}(D|=(15&(W=le[this.pos]))<<28,A,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var A=this.readVarint();return A%2==1?(A+1)/-2:A/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var A=this.readVarint()+this.pos,D=this.pos;return this.pos=A,A-D>=12&&Ld?function(W,le,Ee){return Ld.decode(W.subarray(le,Ee))}(this.buf,D,A):function(W,le,Ee){for(var Pe="",Ve=le;Ve<Ee;){var tt,ht,Tt,At=W[Ve],Ft=null,Ht=At>239?4:At>223?3:At>191?2:1;if(Ve+Ht>Ee)break;Ht===1?At<128&&(Ft=At):Ht===2?(192&(tt=W[Ve+1]))==128&&(Ft=(31&At)<<6|63&tt)<=127&&(Ft=null):Ht===3?(tt=W[Ve+1],ht=W[Ve+2],(192&tt)==128&&(192&ht)==128&&((Ft=(15&At)<<12|(63&tt)<<6|63&ht)<=2047||Ft>=55296&&Ft<=57343)&&(Ft=null)):Ht===4&&(tt=W[Ve+1],ht=W[Ve+2],Tt=W[Ve+3],(192&tt)==128&&(192&ht)==128&&(192&Tt)==128&&((Ft=(15&At)<<18|(63&tt)<<12|(63&ht)<<6|63&Tt)<=65535||Ft>=1114112)&&(Ft=null)),Ft===null?(Ft=65533,Ht=1):Ft>65535&&(Ft-=65536,Pe+=String.fromCharCode(Ft>>>10&1023|55296),Ft=56320|1023&Ft),Pe+=String.fromCharCode(Ft),Ve+=Ht}return Pe}(this.buf,D,A)},readBytes:function(){var A=this.readVarint()+this.pos,D=this.buf.subarray(this.pos,A);return this.pos=A,D},readPackedVarint:function(A,D){if(this.type!==Ri.Bytes)return A.push(this.readVarint(D));var W=Kl(this);for(A=A||[];this.pos<W;)A.push(this.readVarint(D));return A},readPackedSVarint:function(A){if(this.type!==Ri.Bytes)return A.push(this.readSVarint());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readSVarint());return A},readPackedBoolean:function(A){if(this.type!==Ri.Bytes)return A.push(this.readBoolean());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readBoolean());return A},readPackedFloat:function(A){if(this.type!==Ri.Bytes)return A.push(this.readFloat());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readFloat());return A},readPackedDouble:function(A){if(this.type!==Ri.Bytes)return A.push(this.readDouble());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readDouble());return A},readPackedFixed32:function(A){if(this.type!==Ri.Bytes)return A.push(this.readFixed32());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readFixed32());return A},readPackedSFixed32:function(A){if(this.type!==Ri.Bytes)return A.push(this.readSFixed32());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readSFixed32());return A},readPackedFixed64:function(A){if(this.type!==Ri.Bytes)return A.push(this.readFixed64());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readFixed64());return A},readPackedSFixed64:function(A){if(this.type!==Ri.Bytes)return A.push(this.readSFixed64());var D=Kl(this);for(A=A||[];this.pos<D;)A.push(this.readSFixed64());return A},skip:function(A){var D=7&A;if(D===Ri.Varint)for(;this.buf[this.pos++]>127;);else if(D===Ri.Bytes)this.pos=this.readVarint()+this.pos;else if(D===Ri.Fixed32)this.pos+=4;else{if(D!==Ri.Fixed64)throw new Error("Unimplemented type: "+D);this.pos+=8}},writeTag:function(A,D){this.writeVarint(A<<3|D)},realloc:function(A){for(var D=this.length||16;D<this.pos+A;)D*=2;if(D!==this.length){var W=new Uint8Array(D);W.set(this.buf),this.buf=W,this.length=D}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(A){this.realloc(4),ec(this.buf,A,this.pos),this.pos+=4},writeSFixed32:function(A){this.realloc(4),ec(this.buf,A,this.pos),this.pos+=4},writeFixed64:function(A){this.realloc(8),ec(this.buf,-1&A,this.pos),ec(this.buf,Math.floor(A*Ed),this.pos+4),this.pos+=8},writeSFixed64:function(A){this.realloc(8),ec(this.buf,-1&A,this.pos),ec(this.buf,Math.floor(A*Ed),this.pos+4),this.pos+=8},writeVarint:function(A){(A=+A||0)>268435455||A<0?function(D,W){var le,Ee;if(D>=0?(le=D%4294967296|0,Ee=D/4294967296|0):(Ee=~(-D/4294967296),4294967295^(le=~(-D%4294967296))?le=le+1|0:(le=0,Ee=Ee+1|0)),D>=18446744073709552e3||D<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");W.realloc(10),function(Pe,Ve,tt){tt.buf[tt.pos++]=127&Pe|128,Pe>>>=7,tt.buf[tt.pos++]=127&Pe|128,Pe>>>=7,tt.buf[tt.pos++]=127&Pe|128,Pe>>>=7,tt.buf[tt.pos++]=127&Pe|128,Pe>>>=7,tt.buf[tt.pos]=127&Pe}(le,0,W),function(Pe,Ve){var tt=(7&Pe)<<4;Ve.buf[Ve.pos++]|=tt|((Pe>>>=3)?128:0),Pe&&(Ve.buf[Ve.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(Ve.buf[Ve.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(Ve.buf[Ve.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(Ve.buf[Ve.pos++]=127&Pe|((Pe>>>=7)?128:0),Pe&&(Ve.buf[Ve.pos++]=127&Pe)))))}(Ee,W)}(A,this):(this.realloc(4),this.buf[this.pos++]=127&A|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=127&(A>>>=7)|(A>127?128:0),A<=127||(this.buf[this.pos++]=A>>>7&127))))},writeSVarint:function(A){this.writeVarint(A<0?2*-A-1:2*A)},writeBoolean:function(A){this.writeVarint(!!A)},writeString:function(A){A=String(A),this.realloc(4*A.length),this.pos++;var D=this.pos;this.pos=function(le,Ee,Pe){for(var Ve,tt,ht=0;ht<Ee.length;ht++){if((Ve=Ee.charCodeAt(ht))>55295&&Ve<57344){if(!tt){Ve>56319||ht+1===Ee.length?(le[Pe++]=239,le[Pe++]=191,le[Pe++]=189):tt=Ve;continue}if(Ve<56320){le[Pe++]=239,le[Pe++]=191,le[Pe++]=189,tt=Ve;continue}Ve=tt-55296<<10|Ve-56320|65536,tt=null}else tt&&(le[Pe++]=239,le[Pe++]=191,le[Pe++]=189,tt=null);Ve<128?le[Pe++]=Ve:(Ve<2048?le[Pe++]=Ve>>6|192:(Ve<65536?le[Pe++]=Ve>>12|224:(le[Pe++]=Ve>>18|240,le[Pe++]=Ve>>12&63|128),le[Pe++]=Ve>>6&63|128),le[Pe++]=63&Ve|128)}return Pe}(this.buf,A,this.pos);var W=this.pos-D;W>=128&&Cd(D,W,this),this.pos=D-1,this.writeVarint(W),this.pos+=W},writeFloat:function(A){this.realloc(4),Sd(this.buf,A,this.pos,!0,23,4),this.pos+=4},writeDouble:function(A){this.realloc(8),Sd(this.buf,A,this.pos,!0,52,8),this.pos+=8},writeBytes:function(A){var D=A.length;this.writeVarint(D),this.realloc(D);for(var W=0;W<D;W++)this.buf[this.pos++]=A[W]},writeRawMessage:function(A,D){this.pos++;var W=this.pos;A(D,this);var le=this.pos-W;le>=128&&Cd(W,le,this),this.pos=W-1,this.writeVarint(le),this.pos+=le},writeMessage:function(A,D,W){this.writeTag(A,Ri.Bytes),this.writeRawMessage(D,W)},writePackedVarint:function(A,D){D.length&&this.writeMessage(A,ov,D)},writePackedSVarint:function(A,D){D.length&&this.writeMessage(A,sv,D)},writePackedBoolean:function(A,D){D.length&&this.writeMessage(A,cv,D)},writePackedFloat:function(A,D){D.length&&this.writeMessage(A,lv,D)},writePackedDouble:function(A,D){D.length&&this.writeMessage(A,uv,D)},writePackedFixed32:function(A,D){D.length&&this.writeMessage(A,fv,D)},writePackedSFixed32:function(A,D){D.length&&this.writeMessage(A,hv,D)},writePackedFixed64:function(A,D){D.length&&this.writeMessage(A,pv,D)},writePackedSFixed64:function(A,D){D.length&&this.writeMessage(A,dv,D)},writeBytesField:function(A,D){this.writeTag(A,Ri.Bytes),this.writeBytes(D)},writeFixed32Field:function(A,D){this.writeTag(A,Ri.Fixed32),this.writeFixed32(D)},writeSFixed32Field:function(A,D){this.writeTag(A,Ri.Fixed32),this.writeSFixed32(D)},writeFixed64Field:function(A,D){this.writeTag(A,Ri.Fixed64),this.writeFixed64(D)},writeSFixed64Field:function(A,D){this.writeTag(A,Ri.Fixed64),this.writeSFixed64(D)},writeVarintField:function(A,D){this.writeTag(A,Ri.Varint),this.writeVarint(D)},writeSVarintField:function(A,D){this.writeTag(A,Ri.Varint),this.writeSVarint(D)},writeStringField:function(A,D){this.writeTag(A,Ri.Bytes),this.writeString(D)},writeFloatField:function(A,D){this.writeTag(A,Ri.Fixed32),this.writeFloat(D)},writeDoubleField:function(A,D){this.writeTag(A,Ri.Fixed64),this.writeDouble(D)},writeBooleanField:function(A,D){this.writeVarintField(A,!!D)}};var Zh=3;function gv(A,D,W){A===1&&W.readMessage(vv,D)}function vv(A,D,W){if(A===3){var le=W.readMessage(mv,{}),Ee=le.id,Pe=le.bitmap,Ve=le.width,tt=le.height,ht=le.left,Tt=le.top,At=le.advance;D.push({id:Ee,bitmap:new Pu({width:Ve+2*Zh,height:tt+2*Zh},Pe),metrics:{width:Ve,height:tt,left:ht,top:Tt,advance:At}})}}function mv(A,D,W){A===1?D.id=W.readVarint():A===2?D.bitmap=W.readBytes():A===3?D.width=W.readVarint():A===4?D.height=W.readVarint():A===5?D.left=W.readSVarint():A===6?D.top=W.readSVarint():A===7&&(D.advance=W.readVarint())}var Pd=Zh;function Id(A){for(var D=0,W=0,le=0,Ee=A;le<Ee.length;le+=1){var Pe=Ee[le];D+=Pe.w*Pe.h,W=Math.max(W,Pe.w)}A.sort(function(un,Ln){return Ln.h-un.h});for(var Ve=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(D/.95)),W),h:1/0}],tt=0,ht=0,Tt=0,At=A;Tt<At.length;Tt+=1)for(var Ft=At[Tt],Ht=Ve.length-1;Ht>=0;Ht--){var jt=Ve[Ht];if(!(Ft.w>jt.w||Ft.h>jt.h)){if(Ft.x=jt.x,Ft.y=jt.y,ht=Math.max(ht,Ft.y+Ft.h),tt=Math.max(tt,Ft.x+Ft.w),Ft.w===jt.w&&Ft.h===jt.h){var on=Ve.pop();Ht<Ve.length&&(Ve[Ht]=on)}else Ft.h===jt.h?(jt.x+=Ft.w,jt.w-=Ft.w):Ft.w===jt.w?(jt.y+=Ft.h,jt.h-=Ft.h):(Ve.push({x:jt.x+Ft.w,y:jt.y,w:jt.w-Ft.w,h:Ft.h}),jt.y+=Ft.h,jt.h-=Ft.h);break}}return{w:tt,h:ht,fill:D/(tt*ht)||0}}var Wo=1,Rf=function(A,D){var W=D.pixelRatio,le=D.version,Ee=D.stretchX,Pe=D.stretchY,Ve=D.content;this.paddedRect=A,this.pixelRatio=W,this.stretchX=Ee,this.stretchY=Pe,this.content=Ve,this.version=le},Uc={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};Uc.tl.get=function(){return[this.paddedRect.x+Wo,this.paddedRect.y+Wo]},Uc.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-Wo,this.paddedRect.y+this.paddedRect.h-Wo]},Uc.tlbr.get=function(){return this.tl.concat(this.br)},Uc.displaySize.get=function(){return[(this.paddedRect.w-2*Wo)/this.pixelRatio,(this.paddedRect.h-2*Wo)/this.pixelRatio]},Object.defineProperties(Rf.prototype,Uc);var Vc=function(A,D){var W={},le={};this.haveRenderCallbacks=[];var Ee=[];this.addImages(A,W,Ee),this.addImages(D,le,Ee);var Pe=Id(Ee),Ve=Pe.w,tt=Pe.h,ht=new Lo({width:Ve||1,height:tt||1});for(var Tt in A){var At=A[Tt],Ft=W[Tt].paddedRect;Lo.copy(At.data,ht,{x:0,y:0},{x:Ft.x+Wo,y:Ft.y+Wo},At.data)}for(var Ht in D){var jt=D[Ht],on=le[Ht].paddedRect,un=on.x+Wo,Ln=on.y+Wo,En=jt.data.width,Fn=jt.data.height;Lo.copy(jt.data,ht,{x:0,y:0},{x:un,y:Ln},jt.data),Lo.copy(jt.data,ht,{x:0,y:Fn-1},{x:un,y:Ln-1},{width:En,height:1}),Lo.copy(jt.data,ht,{x:0,y:0},{x:un,y:Ln+Fn},{width:En,height:1}),Lo.copy(jt.data,ht,{x:En-1,y:0},{x:un-1,y:Ln},{width:1,height:Fn}),Lo.copy(jt.data,ht,{x:0,y:0},{x:un+En,y:Ln},{width:1,height:Fn})}this.image=ht,this.iconPositions=W,this.patternPositions=le};Vc.prototype.addImages=function(A,D,W){for(var le in A){var Ee=A[le],Pe={x:0,y:0,w:Ee.data.width+2*Wo,h:Ee.data.height+2*Wo};W.push(Pe),D[le]=new Rf(Pe,Ee),Ee.hasRenderCallback&&this.haveRenderCallbacks.push(le)}},Vc.prototype.patchUpdatedImages=function(A,D){for(var W in A.dispatchRenderCallbacks(this.haveRenderCallbacks),A.updatedImages)this.patchUpdatedImage(this.iconPositions[W],A.getImage(W),D),this.patchUpdatedImage(this.patternPositions[W],A.getImage(W),D)},Vc.prototype.patchUpdatedImage=function(A,D,W){if(A&&D&&A.version!==D.version){A.version=D.version;var le=A.tl,Ee=le[0],Pe=le[1];W.update(D.data,void 0,{x:Ee,y:Pe})}},Ar("ImagePosition",Rf),Ar("ImageAtlas",Vc);var ds={horizontal:1,vertical:2,horizontalOnly:3},Hc=-17,tc=function(){this.scale=1,this.fontStack="",this.imageName=null};tc.forText=function(A,D){var W=new tc;return W.scale=A||1,W.fontStack=D,W},tc.forImage=function(A){var D=new tc;return D.imageName=A,D};var oo=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function zf(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un){var Ln,En=oo.fromFeature(A,Ee);Ft===ds.vertical&&En.verticalizePunctuation();var Fn=Vi.processBidirectionalText,Nn=Vi.processStyledBidirectionalText;if(Fn&&En.sections.length===1){Ln=[];for(var Gn=0,Kn=Fn(En.toString(),Xh(En,Tt,Pe,D,le,jt,on));Gn<Kn.length;Gn+=1){var rr=Kn[Gn],yr=new oo;yr.text=rr,yr.sections=En.sections;for(var hr=0;hr<rr.length;hr++)yr.sectionIndex.push(0);Ln.push(yr)}}else if(Nn){Ln=[];for(var wr=0,Er=Nn(En.text,En.sectionIndex,Xh(En,Tt,Pe,D,le,jt,on));wr<Er.length;wr+=1){var qr=Er[wr],Pr=new oo;Pr.text=qr[0],Pr.sectionIndex=qr[1],Pr.sections=En.sections,Ln.push(Pr)}}else Ln=function(Lr,$r){for(var Wr=[],Li=Lr.text,Ur=0,yi=0,zi=$r;yi<zi.length;yi+=1){var Ni=zi[yi];Wr.push(Lr.substring(Ur,Ni)),Ur=Ni}return Ur<Li.length&&Wr.push(Lr.substring(Ur,Li.length)),Wr}(En,Xh(En,Tt,Pe,D,le,jt,on));var Vr=[],zr={positionedLines:Vr,text:En.toString(),top:At[1],bottom:At[1],left:At[0],right:At[0],writingMode:Ft,iconsInText:!1,verticalizable:!1};return function(Lr,$r,Wr,Li,Ur,yi,zi,Ni,ji,Ci,La,Wi){for(var za=0,$a=Hc,Ga=0,yo=0,Ya=Ni==="right"?1:Ni==="left"?0:.5,Pa=0,Wa=0,Fa=Ur;Wa<Fa.length;Wa+=1){var Ia=Fa[Wa];Ia.trim();var Zr=Ia.getMaxScale(),ri=(Zr-1)*qa,aa={positionedGlyphs:[],lineOffset:0};Lr.positionedLines[Pa]=aa;var Mi=aa.positionedGlyphs,$i=0;if(Ia.length()){for(var Gi=0;Gi<Ia.length();Gi++){var ci=Ia.getSection(Gi),oa=Ia.getSectionIndex(Gi),xo=Ia.getCharCode(Gi),Xo=0,so=null,pl=null,eu=null,Ba=qa,dl=!(ji===ds.horizontal||!La&&!Hs(xo)||La&&(Ff[xo]||Ma(xo)));if(ci.imageName){var Zs=Li[ci.imageName];if(!Zs)continue;eu=ci.imageName,Lr.iconsInText=Lr.iconsInText||!0,pl=Zs.paddedRect;var Xs=Zs.displaySize;ci.scale=ci.scale*qa/Wi,so={width:Xs[0],height:Xs[1],left:Wo,top:-Pd,advance:dl?Xs[1]:Xs[0]},Xo=ri+(qa-Xs[1]*ci.scale),Ba=so.advance;var zu=dl?Xs[0]*ci.scale-qa*Zr:Xs[1]*ci.scale-qa*Zr;zu>0&&zu>$i&&($i=zu)}else{var Yf=Wr[ci.fontStack],Fu=Yf&&Yf[xo];if(Fu&&Fu.rect)pl=Fu.rect,so=Fu.metrics;else{var Wf=$r[ci.fontStack],Wc=Wf&&Wf[xo];if(!Wc)continue;so=Wc.metrics}Xo=(Zr-ci.scale)*qa}dl?(Lr.verticalizable=!0,Mi.push({glyph:xo,imageName:eu,x:za,y:$a+Xo,vertical:dl,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:oa,metrics:so,rect:pl}),za+=Ba*ci.scale+Ci):(Mi.push({glyph:xo,imageName:eu,x:za,y:$a+Xo,vertical:dl,scale:ci.scale,fontStack:ci.fontStack,sectionIndex:oa,metrics:so,rect:pl}),za+=so.advance*ci.scale+Ci)}if(Mi.length!==0){var ap=za-Ci;Ga=Math.max(ap,Ga),xv(Mi,0,Mi.length-1,Ya,$i)}za=0;var Zf=yi*Zr+$i;aa.lineOffset=Math.max($i,ri),$a+=Zf,yo=Math.max(Zf,yo),++Pa}else $a+=yi,++Pa}var fc=$a-Hc,Xf=Jh(zi),Jf=Xf.horizontalAlign,Zc=Xf.verticalAlign;(function(op,Xc,Bu,hc,Kf,$f,pc,Qf,eh){var Jc=(Xc-Bu)*Kf,Kc=0;Kc=$f!==pc?-Qf*hc-Hc:(-hc*eh+.5)*pc;for(var Nu=0,$c=op;Nu<$c.length;Nu+=1)for(var ju=0,Qc=$c[Nu].positionedGlyphs;ju<Qc.length;ju+=1){var ef=Qc[ju];ef.x+=Jc,ef.y+=Kc}})(Lr.positionedLines,Ya,Jf,Zc,Ga,yo,yi,fc,Ur.length),Lr.top+=-Zc*fc,Lr.bottom=Lr.top+fc,Lr.left+=-Jf*Ga,Lr.right=Lr.left+Ga}(zr,D,W,le,Ln,Ve,tt,ht,Ft,Tt,Ht,un),!function(Lr){for(var $r=0,Wr=Lr;$r<Wr.length;$r+=1)if(Wr[$r].positionedGlyphs.length!==0)return!1;return!0}(Vr)&&zr}oo.fromFeature=function(A,D){for(var W=new oo,le=0;le<A.sections.length;le++){var Ee=A.sections[le];Ee.image?W.addImageSection(Ee):W.addTextSection(Ee,D)}return W},oo.prototype.length=function(){return this.text.length},oo.prototype.getSection=function(A){return this.sections[this.sectionIndex[A]]},oo.prototype.getSectionIndex=function(A){return this.sectionIndex[A]},oo.prototype.getCharCode=function(A){return this.text.charCodeAt(A)},oo.prototype.verticalizePunctuation=function(){this.text=function(A){for(var D="",W=0;W<A.length;W++){var le=A.charCodeAt(W+1)||null,Ee=A.charCodeAt(W-1)||null;le&&ll(le)&&!jc[A[W+1]]||Ee&&ll(Ee)&&!jc[A[W-1]]||!jc[A[W]]?D+=A[W]:D+=jc[A[W]]}return D}(this.text)},oo.prototype.trim=function(){for(var A=0,D=0;D<this.text.length&&Ff[this.text.charCodeAt(D)];D++)A++;for(var W=this.text.length,le=this.text.length-1;le>=0&&le>=A&&Ff[this.text.charCodeAt(le)];le--)W--;this.text=this.text.substring(A,W),this.sectionIndex=this.sectionIndex.slice(A,W)},oo.prototype.substring=function(A,D){var W=new oo;return W.text=this.text.substring(A,D),W.sectionIndex=this.sectionIndex.slice(A,D),W.sections=this.sections,W},oo.prototype.toString=function(){return this.text},oo.prototype.getMaxScale=function(){var A=this;return this.sectionIndex.reduce(function(D,W){return Math.max(D,A.sections[W].scale)},0)},oo.prototype.addTextSection=function(A,D){this.text+=A.text,this.sections.push(tc.forText(A.scale,A.fontStack||D));for(var W=this.sections.length-1,le=0;le<A.text.length;++le)this.sectionIndex.push(W)},oo.prototype.addImageSection=function(A){var D=A.image?A.image.name:"";if(D.length!==0){var W=this.getNextImageSectionCharCode();W?(this.text+=String.fromCharCode(W),this.sections.push(tc.forImage(D)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}else S("Can't add FormattedSection with an empty image.")},oo.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Ff={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Zo={};function Dd(A,D,W,le,Ee,Pe){if(D.imageName){var Ve=le[D.imageName];return Ve?Ve.displaySize[0]*D.scale*qa/Pe+Ee:0}var tt=W[D.fontStack],ht=tt&&tt[A];return ht?ht.metrics.advance*D.scale+Ee:0}function Rd(A,D,W,le){var Ee=Math.pow(A-D,2);return le?A<D?Ee/2:2*Ee:Ee+Math.abs(W)*W}function yv(A,D,W){var le=0;return A===10&&(le-=1e4),W&&(le+=150),A!==40&&A!==65288||(le+=50),D!==41&&D!==65289||(le+=50),le}function zd(A,D,W,le,Ee,Pe){for(var Ve=null,tt=Rd(D,W,Ee,Pe),ht=0,Tt=le;ht<Tt.length;ht+=1){var At=Tt[ht],Ft=Rd(D-At.x,W,Ee,Pe)+At.badness;Ft<=tt&&(Ve=At,tt=Ft)}return{index:A,x:D,priorBreak:Ve,badness:tt}}function Fd(A){return A?Fd(A.priorBreak).concat(A.index):[]}function Xh(A,D,W,le,Ee,Pe,Ve){if(Pe!=="point")return[];if(!A)return[];for(var tt=[],ht=function(Ln,En,Fn,Nn,Gn,Kn){for(var rr=0,yr=0;yr<Ln.length();yr++){var hr=Ln.getSection(yr);rr+=Dd(Ln.getCharCode(yr),hr,Nn,Gn,En,Kn)}return rr/Math.max(1,Math.ceil(rr/Fn))}(A,D,W,le,Ee,Ve),Tt=A.text.indexOf("​")>=0,At=0,Ft=0;Ft<A.length();Ft++){var Ht=A.getSection(Ft),jt=A.getCharCode(Ft);if(Ff[jt]||(At+=Dd(jt,Ht,le,Ee,D,Ve)),Ft<A.length()-1){var on=!((un=jt)<11904||!(Tr["Bopomofo Extended"](un)||Tr.Bopomofo(un)||Tr["CJK Compatibility Forms"](un)||Tr["CJK Compatibility Ideographs"](un)||Tr["CJK Compatibility"](un)||Tr["CJK Radicals Supplement"](un)||Tr["CJK Strokes"](un)||Tr["CJK Symbols and Punctuation"](un)||Tr["CJK Unified Ideographs Extension A"](un)||Tr["CJK Unified Ideographs"](un)||Tr["Enclosed CJK Letters and Months"](un)||Tr["Halfwidth and Fullwidth Forms"](un)||Tr.Hiragana(un)||Tr["Ideographic Description Characters"](un)||Tr["Kangxi Radicals"](un)||Tr["Katakana Phonetic Extensions"](un)||Tr.Katakana(un)||Tr["Vertical Forms"](un)||Tr["Yi Radicals"](un)||Tr["Yi Syllables"](un)));(Zo[jt]||on||Ht.imageName)&&tt.push(zd(Ft+1,At,ht,tt,yv(jt,A.getCharCode(Ft+1),on&&Tt),!1))}}var un;return Fd(zd(A.length(),At,ht,tt,0,!0))}function Jh(A){var D=.5,W=.5;switch(A){case"right":case"top-right":case"bottom-right":D=1;break;case"left":case"top-left":case"bottom-left":D=0}switch(A){case"bottom":case"bottom-right":case"bottom-left":W=1;break;case"top":case"top-right":case"top-left":W=0}return{horizontalAlign:D,verticalAlign:W}}function xv(A,D,W,le,Ee){if(le||Ee)for(var Pe=A[W],Ve=Pe.metrics.advance*Pe.scale,tt=(A[W].x+Ve)*le,ht=D;ht<=W;ht++)A[ht].x-=tt,A[ht].y+=Ee}function Bd(A,D,W,le,Ee,Pe){var Ve,tt=A.image;if(tt.content){var ht=tt.content,Tt=tt.pixelRatio||1;Ve=[ht[0]/Tt,ht[1]/Tt,tt.displaySize[0]-ht[2]/Tt,tt.displaySize[1]-ht[3]/Tt]}var At,Ft,Ht,jt,on=D.left*Pe,un=D.right*Pe;W==="width"||W==="both"?(jt=Ee[0]+on-le[3],Ft=Ee[0]+un+le[1]):Ft=(jt=Ee[0]+(on+un-tt.displaySize[0])/2)+tt.displaySize[0];var Ln=D.top*Pe,En=D.bottom*Pe;return W==="height"||W==="both"?(At=Ee[1]+Ln-le[0],Ht=Ee[1]+En+le[2]):Ht=(At=Ee[1]+(Ln+En-tt.displaySize[1])/2)+tt.displaySize[1],{image:tt,top:At,right:Ft,bottom:Ht,left:jt,collisionPadding:Ve}}Zo[10]=!0,Zo[32]=!0,Zo[38]=!0,Zo[40]=!0,Zo[41]=!0,Zo[43]=!0,Zo[45]=!0,Zo[47]=!0,Zo[173]=!0,Zo[183]=!0,Zo[8203]=!0,Zo[8208]=!0,Zo[8211]=!0,Zo[8231]=!0;var nc=function(A){function D(W,le,Ee,Pe){A.call(this,W,le),this.angle=Ee,Pe!==void 0&&(this.segment=Pe)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.clone=function(){return new D(this.x,this.y,this.angle,this.segment)},D}(t);Ar("Anchor",nc);var hl=128;function Kh(A,D){var W=D.expression;if(W.kind==="constant")return{kind:"constant",layoutSize:W.evaluate(new ui(A+1))};if(W.kind==="source")return{kind:"source"};for(var le=W.zoomStops,Ee=W.interpolationType,Pe=0;Pe<le.length&&le[Pe]<=A;)Pe++;for(var Ve=Pe=Math.max(0,Pe-1);Ve<le.length&&le[Ve]<A+1;)Ve++;Ve=Math.min(le.length-1,Ve);var tt=le[Pe],ht=le[Ve];return W.kind==="composite"?{kind:"composite",minZoom:tt,maxZoom:ht,interpolationType:Ee}:{kind:"camera",minZoom:tt,maxZoom:ht,minSize:W.evaluate(new ui(tt)),maxSize:W.evaluate(new ui(ht)),interpolationType:Ee}}function Nd(A,D,W){var le=D.uSize,Ee=D.uSizeT,Pe=W.lowerSize,Ve=W.upperSize;return A.kind==="source"?Pe/hl:A.kind==="composite"?$n(Pe/hl,Ve/hl,Ee):le}function jd(A,D){var W=0,le=0;if(A.kind==="constant")le=A.layoutSize;else if(A.kind!=="source"){var Ee=A.interpolationType,Pe=A.minZoom,Ve=A.maxZoom,tt=Ee?l(Xi.interpolationFactor(Ee,D,Pe,Ve),0,1):0;A.kind==="camera"?le=$n(A.minSize,A.maxSize,tt):W=tt}return{uSizeT:W,uSize:le}}var bv=Object.freeze({__proto__:null,getSizeData:Kh,evaluateSizeForFeature:Nd,evaluateSizeForZoom:jd,SIZE_PACK_FACTOR:hl});function Ud(A,D,W,le,Ee){if(D.segment===void 0)return!0;for(var Pe=D,Ve=D.segment+1,tt=0;tt>-W/2;){if(--Ve<0)return!1;tt-=A[Ve].dist(Pe),Pe=A[Ve]}tt+=A[Ve].dist(A[Ve+1]),Ve++;for(var ht=[],Tt=0;tt<W/2;){var At=A[Ve-1],Ft=A[Ve],Ht=A[Ve+1];if(!Ht)return!1;var jt=At.angleTo(Ft)-Ft.angleTo(Ht);for(jt=Math.abs((jt+3*Math.PI)%(2*Math.PI)-Math.PI),ht.push({distance:tt,angleDelta:jt}),Tt+=jt;tt-ht[0].distance>le;)Tt-=ht.shift().angleDelta;if(Tt>Ee)return!1;Ve++,tt+=Ft.dist(Ht)}return!0}function Vd(A){for(var D=0,W=0;W<A.length-1;W++)D+=A[W].dist(A[W+1]);return D}function Hd(A,D,W){return A?.6*D*W:0}function qd(A,D){return Math.max(A?A.right-A.left:0,D?D.right-D.left:0)}function _v(A,D,W,le,Ee,Pe){for(var Ve=Hd(W,Ee,Pe),tt=qd(W,le)*Pe,ht=0,Tt=Vd(A)/2,At=0;At<A.length-1;At++){var Ft=A[At],Ht=A[At+1],jt=Ft.dist(Ht);if(ht+jt>Tt){var on=(Tt-ht)/jt,un=$n(Ft.x,Ht.x,on),Ln=$n(Ft.y,Ht.y,on),En=new nc(un,Ln,Ht.angleTo(Ft),At);return En._round(),!Ve||Ud(A,En,tt,Ve,D)?En:void 0}ht+=jt}}function wv(A,D,W,le,Ee,Pe,Ve,tt,ht){var Tt=Hd(le,Pe,Ve),At=qd(le,Ee),Ft=At*Ve,Ht=A[0].x===0||A[0].x===ht||A[0].y===0||A[0].y===ht;return D-Ft<D/4&&(D=Ft+D/4),Gd(A,Ht?D/2*tt%D:(At/2+2*Pe)*Ve*tt%D,D,Tt,W,Ft,Ht,!1,ht)}function Gd(A,D,W,le,Ee,Pe,Ve,tt,ht){for(var Tt=Pe/2,At=Vd(A),Ft=0,Ht=D-W,jt=[],on=0;on<A.length-1;on++){for(var un=A[on],Ln=A[on+1],En=un.dist(Ln),Fn=Ln.angleTo(un);Ht+W<Ft+En;){var Nn=((Ht+=W)-Ft)/En,Gn=$n(un.x,Ln.x,Nn),Kn=$n(un.y,Ln.y,Nn);if(Gn>=0&&Gn<ht&&Kn>=0&&Kn<ht&&Ht-Tt>=0&&Ht+Tt<=At){var rr=new nc(Gn,Kn,Fn,on);rr._round(),le&&!Ud(A,rr,Pe,le,Ee)||jt.push(rr)}}Ft+=En}return tt||jt.length||Ve||(jt=Gd(A,Ft/2,W,le,Ee,Pe,Ve,!0,ht)),jt}function Yd(A,D,W,le,Ee){for(var Pe=[],Ve=0;Ve<A.length;Ve++)for(var tt=A[Ve],ht=void 0,Tt=0;Tt<tt.length-1;Tt++){var At=tt[Tt],Ft=tt[Tt+1];At.x<D&&Ft.x<D||(At.x<D?At=new t(D,At.y+(Ft.y-At.y)*((D-At.x)/(Ft.x-At.x)))._round():Ft.x<D&&(Ft=new t(D,At.y+(Ft.y-At.y)*((D-At.x)/(Ft.x-At.x)))._round()),At.y<W&&Ft.y<W||(At.y<W?At=new t(At.x+(Ft.x-At.x)*((W-At.y)/(Ft.y-At.y)),W)._round():Ft.y<W&&(Ft=new t(At.x+(Ft.x-At.x)*((W-At.y)/(Ft.y-At.y)),W)._round()),At.x>=le&&Ft.x>=le||(At.x>=le?At=new t(le,At.y+(Ft.y-At.y)*((le-At.x)/(Ft.x-At.x)))._round():Ft.x>=le&&(Ft=new t(le,At.y+(Ft.y-At.y)*((le-At.x)/(Ft.x-At.x)))._round()),At.y>=Ee&&Ft.y>=Ee||(At.y>=Ee?At=new t(At.x+(Ft.x-At.x)*((Ee-At.y)/(Ft.y-At.y)),Ee)._round():Ft.y>=Ee&&(Ft=new t(At.x+(Ft.x-At.x)*((Ee-At.y)/(Ft.y-At.y)),Ee)._round()),ht&&At.equals(ht[ht.length-1])||(ht=[At],Pe.push(ht)),ht.push(Ft)))))}return Pe}var rc=Wo;function Wd(A,D,W,le){var Ee=[],Pe=A.image,Ve=Pe.pixelRatio,tt=Pe.paddedRect.w-2*rc,ht=Pe.paddedRect.h-2*rc,Tt=A.right-A.left,At=A.bottom-A.top,Ft=Pe.stretchX||[[0,tt]],Ht=Pe.stretchY||[[0,ht]],jt=function(yi,zi){return yi+zi[1]-zi[0]},on=Ft.reduce(jt,0),un=Ht.reduce(jt,0),Ln=tt-on,En=ht-un,Fn=0,Nn=on,Gn=0,Kn=un,rr=0,yr=Ln,hr=0,wr=En;if(Pe.content&&le){var Er=Pe.content;Fn=Bf(Ft,0,Er[0]),Gn=Bf(Ht,0,Er[1]),Nn=Bf(Ft,Er[0],Er[2]),Kn=Bf(Ht,Er[1],Er[3]),rr=Er[0]-Fn,hr=Er[1]-Gn,yr=Er[2]-Er[0]-Nn,wr=Er[3]-Er[1]-Kn}var qr=function(yi,zi,Ni,ji){var Ci=Nf(yi.stretch-Fn,Nn,Tt,A.left),La=jf(yi.fixed-rr,yr,yi.stretch,on),Wi=Nf(zi.stretch-Gn,Kn,At,A.top),za=jf(zi.fixed-hr,wr,zi.stretch,un),$a=Nf(Ni.stretch-Fn,Nn,Tt,A.left),Ga=jf(Ni.fixed-rr,yr,Ni.stretch,on),yo=Nf(ji.stretch-Gn,Kn,At,A.top),Ya=jf(ji.fixed-hr,wr,ji.stretch,un),Pa=new t(Ci,Wi),Wa=new t($a,Wi),Fa=new t($a,yo),Ia=new t(Ci,yo),Zr=new t(La/Ve,za/Ve),ri=new t(Ga/Ve,Ya/Ve),aa=D*Math.PI/180;if(aa){var Mi=Math.sin(aa),$i=Math.cos(aa),Gi=[$i,-Mi,Mi,$i];Pa._matMult(Gi),Wa._matMult(Gi),Ia._matMult(Gi),Fa._matMult(Gi)}var ci=yi.stretch+yi.fixed,oa=Ni.stretch+Ni.fixed,xo=zi.stretch+zi.fixed,Xo=ji.stretch+ji.fixed;return{tl:Pa,tr:Wa,bl:Ia,br:Fa,tex:{x:Pe.paddedRect.x+rc+ci,y:Pe.paddedRect.y+rc+xo,w:oa-ci,h:Xo-xo},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Zr,pixelOffsetBR:ri,minFontScaleX:yr/Ve/Tt,minFontScaleY:wr/Ve/At,isSDF:W}};if(le&&(Pe.stretchX||Pe.stretchY))for(var Pr=Zd(Ft,Ln,on),Vr=Zd(Ht,En,un),zr=0;zr<Pr.length-1;zr++)for(var Lr=Pr[zr],$r=Pr[zr+1],Wr=0;Wr<Vr.length-1;Wr++){var Li=Vr[Wr],Ur=Vr[Wr+1];Ee.push(qr(Lr,Li,$r,Ur))}else Ee.push(qr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:tt+1},{fixed:0,stretch:ht+1}));return Ee}function Bf(A,D,W){for(var le=0,Ee=0,Pe=A;Ee<Pe.length;Ee+=1){var Ve=Pe[Ee];le+=Math.max(D,Math.min(W,Ve[1]))-Math.max(D,Math.min(W,Ve[0]))}return le}function Zd(A,D,W){for(var le=[{fixed:-rc,stretch:0}],Ee=0,Pe=A;Ee<Pe.length;Ee+=1){var Ve=Pe[Ee],tt=Ve[0],ht=Ve[1],Tt=le[le.length-1];le.push({fixed:tt-Tt.stretch,stretch:Tt.stretch}),le.push({fixed:tt-Tt.stretch,stretch:Tt.stretch+(ht-tt)})}return le.push({fixed:D+rc,stretch:W}),le}function Nf(A,D,W,le){return A/D*W+le}function jf(A,D,W,le){return A-D*W/le}var Uf=function(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt){if(this.boxStartIndex=A.length,ht){var At=Pe.top,Ft=Pe.bottom,Ht=Pe.collisionPadding;Ht&&(At-=Ht[1],Ft+=Ht[3]);var jt=Ft-At;jt>0&&(jt=Math.max(10,jt),this.circleDiameter=jt)}else{var on=Pe.top*Ve-tt,un=Pe.bottom*Ve+tt,Ln=Pe.left*Ve-tt,En=Pe.right*Ve+tt,Fn=Pe.collisionPadding;if(Fn&&(Ln-=Fn[0]*Ve,on-=Fn[1]*Ve,En+=Fn[2]*Ve,un+=Fn[3]*Ve),Tt){var Nn=new t(Ln,on),Gn=new t(En,on),Kn=new t(Ln,un),rr=new t(En,un),yr=Tt*Math.PI/180;Nn._rotate(yr),Gn._rotate(yr),Kn._rotate(yr),rr._rotate(yr),Ln=Math.min(Nn.x,Gn.x,Kn.x,rr.x),En=Math.max(Nn.x,Gn.x,Kn.x,rr.x),on=Math.min(Nn.y,Gn.y,Kn.y,rr.y),un=Math.max(Nn.y,Gn.y,Kn.y,rr.y)}A.emplaceBack(D.x,D.y,Ln,on,En,un,W,le,Ee)}this.boxEndIndex=A.length},ic=function(A,D){if(A===void 0&&(A=[]),D===void 0&&(D=Tv),this.data=A,this.length=this.data.length,this.compare=D,this.length>0)for(var W=(this.length>>1)-1;W>=0;W--)this._down(W)};function Tv(A,D){return A<D?-1:A>D?1:0}function kv(A,D,W){D===void 0&&(D=1),W===void 0&&(W=!1);for(var le=1/0,Ee=1/0,Pe=-1/0,Ve=-1/0,tt=A[0],ht=0;ht<tt.length;ht++){var Tt=tt[ht];(!ht||Tt.x<le)&&(le=Tt.x),(!ht||Tt.y<Ee)&&(Ee=Tt.y),(!ht||Tt.x>Pe)&&(Pe=Tt.x),(!ht||Tt.y>Ve)&&(Ve=Tt.y)}var At=Pe-le,Ft=Ve-Ee,Ht=Math.min(At,Ft),jt=Ht/2,on=new ic([],Mv);if(Ht===0)return new t(le,Ee);for(var un=le;un<Pe;un+=Ht)for(var Ln=Ee;Ln<Ve;Ln+=Ht)on.push(new ac(un+jt,Ln+jt,jt,A));for(var En=function(Gn){for(var Kn=0,rr=0,yr=0,hr=Gn[0],wr=0,Er=hr.length,qr=Er-1;wr<Er;qr=wr++){var Pr=hr[wr],Vr=hr[qr],zr=Pr.x*Vr.y-Vr.x*Pr.y;rr+=(Pr.x+Vr.x)*zr,yr+=(Pr.y+Vr.y)*zr,Kn+=3*zr}return new ac(rr/Kn,yr/Kn,0,Gn)}(A),Fn=on.length;on.length;){var Nn=on.pop();(Nn.d>En.d||!En.d)&&(En=Nn,W&&console.log("found best %d after %d probes",Math.round(1e4*Nn.d)/1e4,Fn)),Nn.max-En.d<=D||(jt=Nn.h/2,on.push(new ac(Nn.p.x-jt,Nn.p.y-jt,jt,A)),on.push(new ac(Nn.p.x+jt,Nn.p.y-jt,jt,A)),on.push(new ac(Nn.p.x-jt,Nn.p.y+jt,jt,A)),on.push(new ac(Nn.p.x+jt,Nn.p.y+jt,jt,A)),Fn+=4)}return W&&(console.log("num probes: "+Fn),console.log("best distance: "+En.d)),En.p}function Mv(A,D){return D.max-A.max}function ac(A,D,W,le){this.p=new t(A,D),this.h=W,this.d=function(Ee,Pe){for(var Ve=!1,tt=1/0,ht=0;ht<Pe.length;ht++)for(var Tt=Pe[ht],At=0,Ft=Tt.length,Ht=Ft-1;At<Ft;Ht=At++){var jt=Tt[At],on=Tt[Ht];jt.y>Ee.y!=on.y>Ee.y&&Ee.x<(on.x-jt.x)*(Ee.y-jt.y)/(on.y-jt.y)+jt.x&&(Ve=!Ve),tt=Math.min(tt,Ou(Ee,jt,on))}return(Ve?1:-1)*Math.sqrt(tt)}(this.p,le),this.max=this.d+this.h*Math.SQRT2}ic.prototype.push=function(A){this.data.push(A),this.length++,this._up(this.length-1)},ic.prototype.pop=function(){if(this.length!==0){var A=this.data[0],D=this.data.pop();return this.length--,this.length>0&&(this.data[0]=D,this._down(0)),A}},ic.prototype.peek=function(){return this.data[0]},ic.prototype._up=function(A){for(var D=this.data,W=this.compare,le=D[A];A>0;){var Ee=A-1>>1,Pe=D[Ee];if(W(le,Pe)>=0)break;D[A]=Pe,A=Ee}D[A]=le},ic.prototype._down=function(A){for(var D=this.data,W=this.compare,le=this.length>>1,Ee=D[A];A<le;){var Pe=1+(A<<1),Ve=D[Pe],tt=Pe+1;if(tt<this.length&&W(D[tt],Ve)<0&&(Pe=tt,Ve=D[tt]),W(Ve,Ee)>=0)break;D[A]=Ve,A=Pe}D[A]=Ee};var oc=7,$h=Number.POSITIVE_INFINITY;function Xd(A,D){return D[1]!==$h?function(W,le,Ee){var Pe=0,Ve=0;switch(le=Math.abs(le),Ee=Math.abs(Ee),W){case"top-right":case"top-left":case"top":Ve=Ee-oc;break;case"bottom-right":case"bottom-left":case"bottom":Ve=-Ee+oc}switch(W){case"top-right":case"bottom-right":case"right":Pe=-le;break;case"top-left":case"bottom-left":case"left":Pe=le}return[Pe,Ve]}(A,D[0],D[1]):function(W,le){var Ee=0,Pe=0;le<0&&(le=0);var Ve=le/Math.sqrt(2);switch(W){case"top-right":case"top-left":Pe=Ve-oc;break;case"bottom-right":case"bottom-left":Pe=-Ve+oc;break;case"bottom":Pe=-le+oc;break;case"top":Pe=le-oc}switch(W){case"top-right":case"bottom-right":Ee=-Ve;break;case"top-left":case"bottom-left":Ee=Ve;break;case"left":Ee=le;break;case"right":Ee=-le}return[Ee,Pe]}(A,D[0])}function Qh(A){switch(A){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}var qc=255,Tu=qc*hl;function Jd(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on){var un=function(Gn,Kn,rr,yr,hr,wr,Er,qr){for(var Pr=yr.layout.get("text-rotate").evaluate(wr,{})*Math.PI/180,Vr=[],zr=0,Lr=Kn.positionedLines;zr<Lr.length;zr+=1)for(var $r=Lr[zr],Wr=0,Li=$r.positionedGlyphs;Wr<Li.length;Wr+=1){var Ur=Li[Wr];if(Ur.rect){var yi=Ur.rect||{},zi=Pd+1,Ni=!0,ji=1,Ci=0,La=(hr||qr)&&Ur.vertical,Wi=Ur.metrics.advance*Ur.scale/2;if(qr&&Kn.verticalizable){var za=(Ur.scale-1)*qa,$a=(qa-Ur.metrics.width*Ur.scale)/2;Ci=$r.lineOffset/2-(Ur.imageName?-$a:za)}if(Ur.imageName){var Ga=Er[Ur.imageName];Ni=Ga.sdf,ji=Ga.pixelRatio,zi=Wo/ji}var yo=hr?[Ur.x+Wi,Ur.y]:[0,0],Ya=hr?[0,0]:[Ur.x+Wi+rr[0],Ur.y+rr[1]-Ci],Pa=[0,0];La&&(Pa=Ya,Ya=[0,0]);var Wa=(Ur.metrics.left-zi)*Ur.scale-Wi+Ya[0],Fa=(-Ur.metrics.top-zi)*Ur.scale+Ya[1],Ia=Wa+yi.w*Ur.scale/ji,Zr=Fa+yi.h*Ur.scale/ji,ri=new t(Wa,Fa),aa=new t(Ia,Fa),Mi=new t(Wa,Zr),$i=new t(Ia,Zr);if(La){var Gi=new t(-Wi,Wi-Hc),ci=-Math.PI/2,oa=qa/2-Wi,xo=Ur.imageName?oa:0,Xo=new t(5-Hc-oa,-xo),so=new(Function.prototype.bind.apply(t,[null].concat(Pa)));ri._rotateAround(ci,Gi)._add(Xo)._add(so),aa._rotateAround(ci,Gi)._add(Xo)._add(so),Mi._rotateAround(ci,Gi)._add(Xo)._add(so),$i._rotateAround(ci,Gi)._add(Xo)._add(so)}if(Pr){var pl=Math.sin(Pr),eu=Math.cos(Pr),Ba=[eu,-pl,pl,eu];ri._matMult(Ba),aa._matMult(Ba),Mi._matMult(Ba),$i._matMult(Ba)}var dl=new t(0,0),Zs=new t(0,0);Vr.push({tl:ri,tr:aa,bl:Mi,br:$i,tex:yi,writingMode:Kn.writingMode,glyphOffset:yo,sectionIndex:Ur.sectionIndex,isSDF:Ni,pixelOffsetTL:dl,pixelOffsetBR:Zs,minFontScaleX:0,minFontScaleY:0})}}return Vr}(0,W,tt,Ee,Pe,Ve,le,A.allowVerticalPlacement),Ln=A.textSizeData,En=null;Ln.kind==="source"?(En=[hl*Ee.layout.get("text-size").evaluate(Ve,{})])[0]>Tu&&S(A.layerIds[0]+': Value for "text-size" is >= '+qc+'. Reduce your "text-size".'):Ln.kind==="composite"&&((En=[hl*jt.compositeTextSizes[0].evaluate(Ve,{},on),hl*jt.compositeTextSizes[1].evaluate(Ve,{},on)])[0]>Tu||En[1]>Tu)&&S(A.layerIds[0]+': Value for "text-size" is >= '+qc+'. Reduce your "text-size".'),A.addSymbols(A.text,un,En,tt,Pe,Ve,Tt,D,ht.lineStartIndex,ht.lineLength,Ht,on);for(var Fn=0,Nn=At;Fn<Nn.length;Fn+=1)Ft[Nn[Fn]]=A.text.placedSymbolArray.length-1;return 4*un.length}function Kd(A){for(var D in A)return A[D];return null}function Av(A,D,W,le){var Ee=A.compareText;if(D in Ee){for(var Pe=Ee[D],Ve=Pe.length-1;Ve>=0;Ve--)if(le.dist(Pe[Ve])<W)return!0}else Ee[D]=[];return Ee[D].push(le),!1}var Sv=$u.VectorTileFeature.types,Ev=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Vf(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht){var jt=tt?Math.min(Tu,Math.round(tt[0])):0,on=tt?Math.min(Tu,Math.round(tt[1])):0;A.emplaceBack(D,W,Math.round(32*le),Math.round(32*Ee),Pe,Ve,(jt<<1)+(ht?1:0),on,16*Tt,16*At,256*Ft,256*Ht)}function ep(A,D,W){A.emplaceBack(D.x,D.y,W),A.emplaceBack(D.x,D.y,W),A.emplaceBack(D.x,D.y,W),A.emplaceBack(D.x,D.y,W)}function Lv(A){for(var D=0,W=A.sections;D<W.length;D+=1)if(Ja(W[D].text))return!0;return!1}var sc=function(A){this.layoutVertexArray=new z,this.indexArray=new Q,this.programConfigurations=A,this.segments=new _n,this.dynamicLayoutVertexArray=new U,this.opacityVertexArray=new j,this.placedSymbolArray=new Rt};sc.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},sc.prototype.upload=function(A,D,W,le){this.isEmpty()||(W&&(this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,Yh.members),this.indexBuffer=A.createIndexBuffer(this.indexArray,D),this.dynamicLayoutVertexBuffer=A.createVertexBuffer(this.dynamicLayoutVertexArray,nv.members,!0),this.opacityVertexBuffer=A.createVertexBuffer(this.opacityVertexArray,Ev,!0),this.opacityVertexBuffer.itemSize=1),(W||le)&&this.programConfigurations.upload(A))},sc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Ar("SymbolBuffers",sc);var Gc=function(A,D,W){this.layoutVertexArray=new A,this.layoutAttributes=D,this.indexArray=new W,this.segments=new _n,this.collisionVertexArray=new F};Gc.prototype.upload=function(A){this.layoutVertexBuffer=A.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=A.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=A.createVertexBuffer(this.collisionVertexArray,rv.members,!0)},Gc.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Ar("CollisionBuffers",Gc);var mi=function(A){this.collisionBoxArray=A.collisionBoxArray,this.zoom=A.zoom,this.overscaling=A.overscaling,this.layers=A.layers,this.layerIds=this.layers.map(function(Ve){return Ve.id}),this.index=A.index,this.pixelRatio=A.pixelRatio,this.sourceLayerIndex=A.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Rh([]),this.placementViewportMatrix=Rh([]);var D=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Kh(this.zoom,D["text-size"]),this.iconSizeData=Kh(this.zoom,D["icon-size"]);var W=this.layers[0].layout,le=W.get("symbol-sort-key"),Ee=W.get("symbol-z-order");this.sortFeaturesByKey=Ee!=="viewport-y"&&le.constantOr(1)!==void 0;var Pe=Ee==="viewport-y"||Ee==="auto"&&!this.sortFeaturesByKey;this.sortFeaturesByY=Pe&&(W.get("text-allow-overlap")||W.get("icon-allow-overlap")||W.get("text-ignore-placement")||W.get("icon-ignore-placement")),W.get("symbol-placement")==="point"&&(this.writingModes=W.get("text-writing-mode").map(function(Ve){return ds[Ve]})),this.stateDependentLayerIds=this.layers.filter(function(Ve){return Ve.isStateDependent()}).map(function(Ve){return Ve.id}),this.sourceID=A.sourceID};mi.prototype.createArrays=function(){this.text=new sc(new Ei(Yh.members,this.layers,this.zoom,function(A){return/^text/.test(A)})),this.icon=new sc(new Ei(Yh.members,this.layers,this.zoom,function(A){return/^icon/.test(A)})),this.glyphOffsetArray=new Dt,this.lineVertexArray=new sn,this.symbolInstances=new Vt},mi.prototype.calculateGlyphDependencies=function(A,D,W,le,Ee){for(var Pe=0;Pe<A.length;Pe++)if(D[A.charCodeAt(Pe)]=!0,(W||le)&&Ee){var Ve=jc[A.charAt(Pe)];Ve&&(D[Ve.charCodeAt(0)]=!0)}},mi.prototype.populate=function(A,D,W){var le=this.layers[0],Ee=le.layout,Pe=Ee.get("text-font"),Ve=Ee.get("text-field"),tt=Ee.get("icon-image"),ht=(Ve.value.kind!=="constant"||Ve.value.value instanceof Pn&&!Ve.value.value.isEmpty()||Ve.value.value.toString().length>0)&&(Pe.value.kind!=="constant"||Pe.value.value.length>0),Tt=tt.value.kind!=="constant"||!!tt.value.value||Object.keys(tt.parameters).length>0,At=Ee.get("symbol-sort-key");if(this.features=[],ht||Tt){for(var Ft=D.iconDependencies,Ht=D.glyphDependencies,jt=D.availableImages,on=new ui(this.zoom),un=0,Ln=A;un<Ln.length;un+=1){var En=Ln[un],Fn=En.feature,Nn=En.id,Gn=En.index,Kn=En.sourceLayerIndex,rr=le._featureFilter.needGeometry,yr={type:Fn.type,id:Nn,properties:Fn.properties,geometry:rr?ao(Fn):[]};if(le._featureFilter.filter(on,yr,W)){rr||(yr.geometry=ao(Fn));var hr=void 0;if(ht){var wr=le.getValueAndResolveTokens("text-field",yr,W,jt),Er=Pn.factory(wr);Lv(Er)&&(this.hasRTLText=!0),(!this.hasRTLText||Ao()==="unavailable"||this.hasRTLText&&Vi.isParsed())&&(hr=av(Er,le,yr))}var qr=void 0;if(Tt){var Pr=le.getValueAndResolveTokens("icon-image",yr,W,jt);qr=Pr instanceof yn?Pr:yn.fromString(Pr)}if(hr||qr){var Vr=this.sortFeaturesByKey?At.evaluate(yr,{},W):void 0,zr={id:Nn,text:hr,icon:qr,index:Gn,sourceLayerIndex:Kn,geometry:ao(Fn),properties:Fn.properties,type:Sv[Fn.type],sortKey:Vr};if(this.features.push(zr),qr&&(Ft[qr.name]=!0),hr){var Lr=Pe.evaluate(yr,{},W).join(","),$r=Ee.get("text-rotation-alignment")==="map"&&Ee.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ds.vertical)>=0;for(var Wr=0,Li=hr.sections;Wr<Li.length;Wr+=1){var Ur=Li[Wr];if(Ur.image)Ft[Ur.image.name]=!0;else{var yi=po(hr.toString()),zi=Ur.fontStack||Lr,Ni=Ht[zi]=Ht[zi]||{};this.calculateGlyphDependencies(Ur.text,Ni,$r,this.allowVerticalPlacement,yi)}}}}}}Ee.get("symbol-placement")==="line"&&(this.features=function(ji){var Ci={},La={},Wi=[],za=0;function $a($i){Wi.push(ji[$i]),za++}function Ga($i,Gi,ci){var oa=La[$i];return delete La[$i],La[Gi]=oa,Wi[oa].geometry[0].pop(),Wi[oa].geometry[0]=Wi[oa].geometry[0].concat(ci[0]),oa}function yo($i,Gi,ci){var oa=Ci[Gi];return delete Ci[Gi],Ci[$i]=oa,Wi[oa].geometry[0].shift(),Wi[oa].geometry[0]=ci[0].concat(Wi[oa].geometry[0]),oa}function Ya($i,Gi,ci){var oa=ci?Gi[0][Gi[0].length-1]:Gi[0][0];return $i+":"+oa.x+":"+oa.y}for(var Pa=0;Pa<ji.length;Pa++){var Wa=ji[Pa],Fa=Wa.geometry,Ia=Wa.text?Wa.text.toString():null;if(Ia){var Zr=Ya(Ia,Fa),ri=Ya(Ia,Fa,!0);if(Zr in La&&ri in Ci&&La[Zr]!==Ci[ri]){var aa=yo(Zr,ri,Fa),Mi=Ga(Zr,ri,Wi[aa].geometry);delete Ci[Zr],delete La[ri],La[Ya(Ia,Wi[Mi].geometry,!0)]=Mi,Wi[aa].geometry=null}else Zr in La?Ga(Zr,ri,Fa):ri in Ci?yo(Zr,ri,Fa):($a(Pa),Ci[Zr]=za-1,La[ri]=za-1)}else $a(Pa)}return Wi.filter(function($i){return $i.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(ji,Ci){return ji.sortKey-Ci.sortKey})}},mi.prototype.update=function(A,D,W){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(A,D,this.layers,W),this.icon.programConfigurations.updatePaintArrays(A,D,this.layers,W))},mi.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},mi.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},mi.prototype.upload=function(A){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(A),this.iconCollisionBox.upload(A)),this.text.upload(A,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(A,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},mi.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},mi.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},mi.prototype.addToLineVertexArray=function(A,D){var W=this.lineVertexArray.length;if(A.segment!==void 0){for(var le=A.dist(D[A.segment+1]),Ee=A.dist(D[A.segment]),Pe={},Ve=A.segment+1;Ve<D.length;Ve++)Pe[Ve]={x:D[Ve].x,y:D[Ve].y,tileUnitDistanceFromAnchor:le},Ve<D.length-1&&(le+=D[Ve+1].dist(D[Ve]));for(var tt=A.segment||0;tt>=0;tt--)Pe[tt]={x:D[tt].x,y:D[tt].y,tileUnitDistanceFromAnchor:Ee},tt>0&&(Ee+=D[tt-1].dist(D[tt]));for(var ht=0;ht<D.length;ht++){var Tt=Pe[ht];this.lineVertexArray.emplaceBack(Tt.x,Tt.y,Tt.tileUnitDistanceFromAnchor)}}return{lineStartIndex:W,lineLength:this.lineVertexArray.length-W}},mi.prototype.addSymbols=function(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt,At,Ft){for(var Ht=A.indexArray,jt=A.layoutVertexArray,on=A.segments.prepareSegment(4*D.length,jt,Ht,Pe.sortKey),un=this.glyphOffsetArray.length,Ln=on.vertexLength,En=this.allowVerticalPlacement&&Ve===ds.vertical?Math.PI/2:0,Fn=Pe.text&&Pe.text.sections,Nn=0;Nn<D.length;Nn++){var Gn=D[Nn],Kn=Gn.tl,rr=Gn.tr,yr=Gn.bl,hr=Gn.br,wr=Gn.tex,Er=Gn.pixelOffsetTL,qr=Gn.pixelOffsetBR,Pr=Gn.minFontScaleX,Vr=Gn.minFontScaleY,zr=Gn.glyphOffset,Lr=Gn.isSDF,$r=Gn.sectionIndex,Wr=on.vertexLength,Li=zr[1];Vf(jt,tt.x,tt.y,Kn.x,Li+Kn.y,wr.x,wr.y,W,Lr,Er.x,Er.y,Pr,Vr),Vf(jt,tt.x,tt.y,rr.x,Li+rr.y,wr.x+wr.w,wr.y,W,Lr,qr.x,Er.y,Pr,Vr),Vf(jt,tt.x,tt.y,yr.x,Li+yr.y,wr.x,wr.y+wr.h,W,Lr,Er.x,qr.y,Pr,Vr),Vf(jt,tt.x,tt.y,hr.x,Li+hr.y,wr.x+wr.w,wr.y+wr.h,W,Lr,qr.x,qr.y,Pr,Vr),ep(A.dynamicLayoutVertexArray,tt,En),Ht.emplaceBack(Wr,Wr+1,Wr+2),Ht.emplaceBack(Wr+1,Wr+2,Wr+3),on.vertexLength+=4,on.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(zr[0]),Nn!==D.length-1&&$r===D[Nn+1].sectionIndex||A.programConfigurations.populatePaintArrays(jt.length,Pe,Pe.index,{},Ft,Fn&&Fn[$r])}A.placedSymbolArray.emplaceBack(tt.x,tt.y,un,this.glyphOffsetArray.length-un,Ln,ht,Tt,tt.segment,W?W[0]:0,W?W[1]:0,le[0],le[1],Ve,0,!1,0,At)},mi.prototype._addCollisionDebugVertex=function(A,D,W,le,Ee,Pe){return D.emplaceBack(0,0),A.emplaceBack(W.x,W.y,le,Ee,Math.round(Pe.x),Math.round(Pe.y))},mi.prototype.addCollisionDebugVertices=function(A,D,W,le,Ee,Pe,Ve){var tt=Ee.segments.prepareSegment(4,Ee.layoutVertexArray,Ee.indexArray),ht=tt.vertexLength,Tt=Ee.layoutVertexArray,At=Ee.collisionVertexArray,Ft=Ve.anchorX,Ht=Ve.anchorY;this._addCollisionDebugVertex(Tt,At,Pe,Ft,Ht,new t(A,D)),this._addCollisionDebugVertex(Tt,At,Pe,Ft,Ht,new t(W,D)),this._addCollisionDebugVertex(Tt,At,Pe,Ft,Ht,new t(W,le)),this._addCollisionDebugVertex(Tt,At,Pe,Ft,Ht,new t(A,le)),tt.vertexLength+=4;var jt=Ee.indexArray;jt.emplaceBack(ht,ht+1),jt.emplaceBack(ht+1,ht+2),jt.emplaceBack(ht+2,ht+3),jt.emplaceBack(ht+3,ht),tt.primitiveLength+=4},mi.prototype.addDebugCollisionBoxes=function(A,D,W,le){for(var Ee=A;Ee<D;Ee++){var Pe=this.collisionBoxArray.get(Ee),Ve=Pe.x1,tt=Pe.y1,ht=Pe.x2,Tt=Pe.y2;this.addCollisionDebugVertices(Ve,tt,ht,Tt,le?this.textCollisionBox:this.iconCollisionBox,Pe.anchorPoint,W)}},mi.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Gc(fe,Md.members,He),this.iconCollisionBox=new Gc(fe,Md.members,He);for(var A=0;A<this.symbolInstances.length;A++){var D=this.symbolInstances.get(A);this.addDebugCollisionBoxes(D.textBoxStartIndex,D.textBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.verticalTextBoxStartIndex,D.verticalTextBoxEndIndex,D,!0),this.addDebugCollisionBoxes(D.iconBoxStartIndex,D.iconBoxEndIndex,D,!1),this.addDebugCollisionBoxes(D.verticalIconBoxStartIndex,D.verticalIconBoxEndIndex,D,!1)}},mi.prototype._deserializeCollisionBoxesForSymbol=function(A,D,W,le,Ee,Pe,Ve,tt,ht){for(var Tt={},At=D;At<W;At++){var Ft=A.get(At);Tt.textBox={x1:Ft.x1,y1:Ft.y1,x2:Ft.x2,y2:Ft.y2,anchorPointX:Ft.anchorPointX,anchorPointY:Ft.anchorPointY},Tt.textFeatureIndex=Ft.featureIndex;break}for(var Ht=le;Ht<Ee;Ht++){var jt=A.get(Ht);Tt.verticalTextBox={x1:jt.x1,y1:jt.y1,x2:jt.x2,y2:jt.y2,anchorPointX:jt.anchorPointX,anchorPointY:jt.anchorPointY},Tt.verticalTextFeatureIndex=jt.featureIndex;break}for(var on=Pe;on<Ve;on++){var un=A.get(on);Tt.iconBox={x1:un.x1,y1:un.y1,x2:un.x2,y2:un.y2,anchorPointX:un.anchorPointX,anchorPointY:un.anchorPointY},Tt.iconFeatureIndex=un.featureIndex;break}for(var Ln=tt;Ln<ht;Ln++){var En=A.get(Ln);Tt.verticalIconBox={x1:En.x1,y1:En.y1,x2:En.x2,y2:En.y2,anchorPointX:En.anchorPointX,anchorPointY:En.anchorPointY},Tt.verticalIconFeatureIndex=En.featureIndex;break}return Tt},mi.prototype.deserializeCollisionBoxes=function(A){this.collisionArrays=[];for(var D=0;D<this.symbolInstances.length;D++){var W=this.symbolInstances.get(D);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(A,W.textBoxStartIndex,W.textBoxEndIndex,W.verticalTextBoxStartIndex,W.verticalTextBoxEndIndex,W.iconBoxStartIndex,W.iconBoxEndIndex,W.verticalIconBoxStartIndex,W.verticalIconBoxEndIndex))}},mi.prototype.hasTextData=function(){return this.text.segments.get().length>0},mi.prototype.hasIconData=function(){return this.icon.segments.get().length>0},mi.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},mi.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},mi.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},mi.prototype.addIndicesForPlacedSymbol=function(A,D){for(var W=A.placedSymbolArray.get(D),le=W.vertexStartIndex+4*W.numGlyphs,Ee=W.vertexStartIndex;Ee<le;Ee+=4)A.indexArray.emplaceBack(Ee,Ee+1,Ee+2),A.indexArray.emplaceBack(Ee+1,Ee+2,Ee+3)},mi.prototype.getSortedSymbolIndexes=function(A){if(this.sortedAngle===A&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var D=Math.sin(A),W=Math.cos(A),le=[],Ee=[],Pe=[],Ve=0;Ve<this.symbolInstances.length;++Ve){Pe.push(Ve);var tt=this.symbolInstances.get(Ve);le.push(0|Math.round(D*tt.anchorX+W*tt.anchorY)),Ee.push(tt.featureIndex)}return Pe.sort(function(ht,Tt){return le[ht]-le[Tt]||Ee[Tt]-Ee[ht]}),Pe},mi.prototype.addToSortKeyRanges=function(A,D){var W=this.sortKeyRanges[this.sortKeyRanges.length-1];W&&W.sortKey===D?W.symbolInstanceEnd=A+1:this.sortKeyRanges.push({sortKey:D,symbolInstanceStart:A,symbolInstanceEnd:A+1})},mi.prototype.sortFeatures=function(A){var D=this;if(this.sortFeaturesByY&&this.sortedAngle!==A&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(A),this.sortedAngle=A,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var W=0,le=this.symbolInstanceIndexes;W<le.length;W+=1){var Ee=le[W],Pe=this.symbolInstances.get(Ee);this.featureSortOrder.push(Pe.featureIndex),[Pe.rightJustifiedTextSymbolIndex,Pe.centerJustifiedTextSymbolIndex,Pe.leftJustifiedTextSymbolIndex].forEach(function(Ve,tt,ht){Ve>=0&&ht.indexOf(Ve)===tt&&D.addIndicesForPlacedSymbol(D.text,Ve)}),Pe.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,Pe.verticalPlacedTextSymbolIndex),Pe.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.placedIconSymbolIndex),Pe.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,Pe.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Ar("SymbolBucket",mi,{omit:["layers","collisionBoxArray","features","compareText"]}),mi.MAX_GLYPHS=65535,mi.addDynamicAttributes=ep;var Cv=new xa({"symbol-placement":new Or(Re.layout_symbol["symbol-placement"]),"symbol-spacing":new Or(Re.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Or(Re.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ir(Re.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Or(Re.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Or(Re.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Or(Re.layout_symbol["icon-ignore-placement"]),"icon-optional":new Or(Re.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Or(Re.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ir(Re.layout_symbol["icon-size"]),"icon-text-fit":new Or(Re.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Or(Re.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ir(Re.layout_symbol["icon-image"]),"icon-rotate":new Ir(Re.layout_symbol["icon-rotate"]),"icon-padding":new Or(Re.layout_symbol["icon-padding"]),"icon-keep-upright":new Or(Re.layout_symbol["icon-keep-upright"]),"icon-offset":new Ir(Re.layout_symbol["icon-offset"]),"icon-anchor":new Ir(Re.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Or(Re.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Or(Re.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Or(Re.layout_symbol["text-rotation-alignment"]),"text-field":new Ir(Re.layout_symbol["text-field"]),"text-font":new Ir(Re.layout_symbol["text-font"]),"text-size":new Ir(Re.layout_symbol["text-size"]),"text-max-width":new Ir(Re.layout_symbol["text-max-width"]),"text-line-height":new Or(Re.layout_symbol["text-line-height"]),"text-letter-spacing":new Ir(Re.layout_symbol["text-letter-spacing"]),"text-justify":new Ir(Re.layout_symbol["text-justify"]),"text-radial-offset":new Ir(Re.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Or(Re.layout_symbol["text-variable-anchor"]),"text-anchor":new Ir(Re.layout_symbol["text-anchor"]),"text-max-angle":new Or(Re.layout_symbol["text-max-angle"]),"text-writing-mode":new Or(Re.layout_symbol["text-writing-mode"]),"text-rotate":new Ir(Re.layout_symbol["text-rotate"]),"text-padding":new Or(Re.layout_symbol["text-padding"]),"text-keep-upright":new Or(Re.layout_symbol["text-keep-upright"]),"text-transform":new Ir(Re.layout_symbol["text-transform"]),"text-offset":new Ir(Re.layout_symbol["text-offset"]),"text-allow-overlap":new Or(Re.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Or(Re.layout_symbol["text-ignore-placement"]),"text-optional":new Or(Re.layout_symbol["text-optional"])}),tp={paint:new xa({"icon-opacity":new Ir(Re.paint_symbol["icon-opacity"]),"icon-color":new Ir(Re.paint_symbol["icon-color"]),"icon-halo-color":new Ir(Re.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ir(Re.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ir(Re.paint_symbol["icon-halo-blur"]),"icon-translate":new Or(Re.paint_symbol["icon-translate"]),"icon-translate-anchor":new Or(Re.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ir(Re.paint_symbol["text-opacity"]),"text-color":new Ir(Re.paint_symbol["text-color"],{runtimeType:Bt,getOverride:function(A){return A.textColor},hasOverride:function(A){return!!A.textColor}}),"text-halo-color":new Ir(Re.paint_symbol["text-halo-color"]),"text-halo-width":new Ir(Re.paint_symbol["text-halo-width"]),"text-halo-blur":new Ir(Re.paint_symbol["text-halo-blur"]),"text-translate":new Or(Re.paint_symbol["text-translate"]),"text-translate-anchor":new Or(Re.paint_symbol["text-translate-anchor"])}),layout:Cv},lc=function(A){this.type=A.property.overrides?A.property.overrides.runtimeType:St,this.defaultValue=A};lc.prototype.evaluate=function(A){if(A.formattedSection){var D=this.defaultValue.property.overrides;if(D&&D.hasOverride(A.formattedSection))return D.getOverride(A.formattedSection)}return A.feature&&A.featureState?this.defaultValue.evaluate(A.feature,A.featureState):this.defaultValue.property.specification.default},lc.prototype.eachChild=function(A){this.defaultValue.isConstant()||A(this.defaultValue.value._styleExpression.expression)},lc.prototype.outputDefined=function(){return!1},lc.prototype.serialize=function(){return null},Ar("FormatSectionOverride",lc,{omit:["defaultValue"]});var Ov=function(A){function D(W){A.call(this,W,tp)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.recalculate=function(W,le){if(A.prototype.recalculate.call(this,W,le),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["icon-rotation-alignment"]="map":this.layout._values["icon-rotation-alignment"]="viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout.get("symbol-placement")!=="point"?this.layout._values["text-rotation-alignment"]="map":this.layout._values["text-rotation-alignment"]="viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var Ee=this.layout.get("text-writing-mode");if(Ee){for(var Pe=[],Ve=0,tt=Ee;Ve<tt.length;Ve+=1){var ht=tt[Ve];Pe.indexOf(ht)<0&&Pe.push(ht)}this.layout._values["text-writing-mode"]=Pe}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},D.prototype.getValueAndResolveTokens=function(W,le,Ee,Pe){var Ve=this.layout.get(W).evaluate(le,{},Ee,Pe),tt=this._unevaluatedLayout._values[W];return tt.isDataDriven()||js(tt.value)||!Ve?Ve:function(ht,Tt){return Tt.replace(/{([^{}]+)}/g,function(At,Ft){return Ft in ht?String(ht[Ft]):""})}(le.properties,Ve)},D.prototype.createBucket=function(W){return new mi(W)},D.prototype.queryRadius=function(){return 0},D.prototype.queryIntersectsFeature=function(){return!1},D.prototype._setPaintOverrides=function(){for(var W=0,le=tp.paint.overridableProperties;W<le.length;W+=1){var Ee=le[W];if(D.hasPaintOverride(this.layout,Ee)){var Pe,Ve=this.paint.get(Ee),tt=new lc(Ve),ht=new nl(tt,Ve.property.specification);Pe=Ve.value.kind==="constant"||Ve.value.kind==="source"?new ts("source",ht):new No("composite",ht,Ve.value.zoomStops,Ve.value._interpolationType),this.paint._values[Ee]=new Ji(Ve.property,Pe,Ve.parameters)}}},D.prototype._handleOverridablePaintPropertyUpdate=function(W,le,Ee){return!(!this.layout||le.isDataDriven()||Ee.isDataDriven())&&D.hasPaintOverride(this.layout,W)},D.hasPaintOverride=function(W,le){var Ee=W.get("text-field"),Pe=tp.paint.properties[le],Ve=!1,tt=function(At){for(var Ft=0,Ht=At;Ft<Ht.length;Ft+=1){var jt=Ht[Ft];if(Pe.overrides&&Pe.overrides.hasOverride(jt))return void(Ve=!0)}};if(Ee.value.kind==="constant"&&Ee.value.value instanceof Pn)tt(Ee.value.value.sections);else if(Ee.value.kind==="source"){var ht=function(At){if(!Ve)if(At instanceof tr&&ir(At.value)===Gt){var Ft=At.value;tt(Ft.sections)}else At instanceof rn?tt(At.sections):At.eachChild(ht)},Tt=Ee.value;Tt._styleExpression&&ht(Tt._styleExpression.expression)}return Ve},D}(ba),Pv={paint:new xa({"background-color":new Or(Re.paint_background["background-color"]),"background-pattern":new Oa(Re.paint_background["background-pattern"]),"background-opacity":new Or(Re.paint_background["background-opacity"])})},Iv=function(A){function D(W){A.call(this,W,Pv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(ba),Dv={paint:new xa({"raster-opacity":new Or(Re.paint_raster["raster-opacity"]),"raster-hue-rotate":new Or(Re.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Or(Re.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Or(Re.paint_raster["raster-brightness-max"]),"raster-saturation":new Or(Re.paint_raster["raster-saturation"]),"raster-contrast":new Or(Re.paint_raster["raster-contrast"]),"raster-resampling":new Or(Re.paint_raster["raster-resampling"]),"raster-fade-duration":new Or(Re.paint_raster["raster-fade-duration"])})},Rv=function(A){function D(W){A.call(this,W,Dv)}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D}(ba),zv=function(A){function D(W){A.call(this,W,{}),this.implementation=W}return A&&(D.__proto__=A),D.prototype=Object.create(A&&A.prototype),D.prototype.constructor=D,D.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},D.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},D.prototype.recalculate=function(){},D.prototype.updateTransitions=function(){},D.prototype.hasTransition=function(){},D.prototype.serialize=function(){},D.prototype.onAdd=function(W){this.implementation.onAdd&&this.implementation.onAdd(W,W.painter.context.gl)},D.prototype.onRemove=function(W){this.implementation.onRemove&&this.implementation.onRemove(W,W.painter.context.gl)},D}(ba),Fv={circle:wg,heatmap:kg,hillshade:Ag,fill:Vg,"fill-extrusion":Jg,line:tv,symbol:Ov,background:Iv,raster:Rv},$d=self.HTMLImageElement,Qd=self.HTMLCanvasElement,e0=self.HTMLVideoElement,t0=self.ImageData,Hf=self.ImageBitmap,Iu=function(A,D,W,le){this.context=A,this.format=W,this.texture=A.gl.createTexture(),this.update(D,le)};Iu.prototype.update=function(A,D,W){var le=A.width,Ee=A.height,Pe=!(this.size&&this.size[0]===le&&this.size[1]===Ee||W),Ve=this.context,tt=Ve.gl;if(this.useMipmap=!!(D&&D.useMipmap),tt.bindTexture(tt.TEXTURE_2D,this.texture),Ve.pixelStoreUnpackFlipY.set(!1),Ve.pixelStoreUnpack.set(1),Ve.pixelStoreUnpackPremultiplyAlpha.set(this.format===tt.RGBA&&(!D||D.premultiply!==!1)),Pe)this.size=[le,Ee],A instanceof $d||A instanceof Qd||A instanceof e0||A instanceof t0||Hf&&A instanceof Hf?tt.texImage2D(tt.TEXTURE_2D,0,this.format,this.format,tt.UNSIGNED_BYTE,A):tt.texImage2D(tt.TEXTURE_2D,0,this.format,le,Ee,0,this.format,tt.UNSIGNED_BYTE,A.data);else{var ht=W||{x:0,y:0},Tt=ht.x,At=ht.y;A instanceof $d||A instanceof Qd||A instanceof e0||A instanceof t0||Hf&&A instanceof Hf?tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,At,tt.RGBA,tt.UNSIGNED_BYTE,A):tt.texSubImage2D(tt.TEXTURE_2D,0,Tt,At,le,Ee,tt.RGBA,tt.UNSIGNED_BYTE,A.data)}this.useMipmap&&this.isSizePowerOfTwo()&&tt.generateMipmap(tt.TEXTURE_2D)},Iu.prototype.bind=function(A,D,W){var le=this.context.gl;le.bindTexture(le.TEXTURE_2D,this.texture),W!==le.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(W=le.LINEAR),A!==this.filter&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MAG_FILTER,A),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_MIN_FILTER,W||A),this.filter=A),D!==this.wrap&&(le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_S,D),le.texParameteri(le.TEXTURE_2D,le.TEXTURE_WRAP_T,D),this.wrap=D)},Iu.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Iu.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var np=function(A){var D=this;this._callback=A,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){D._triggered=!1,D._callback()})};np.prototype.trigger=function(){var A=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){A._triggered=!1,A._callback()},0))},np.prototype.remove=function(){delete this._channel,this._callback=function(){}};var uc=function(A,D,W){this.target=A,this.parent=D,this.mapId=W,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},h(["receive","process"],this),this.invoker=new np(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=L()?A:self};function n0(A,D,W){var le=2*Math.PI*6378137/256/Math.pow(2,W);return[A*le-2*Math.PI*6378137/2,D*le-2*Math.PI*6378137/2]}uc.prototype.send=function(A,D,W,le,Ee){var Pe=this;Ee===void 0&&(Ee=!1);var Ve=Math.round(1e18*Math.random()).toString(36).substring(0,10);W&&(this.callbacks[Ve]=W);var tt=R(this.globalScope)?void 0:[];return this.target.postMessage({id:Ve,type:A,hasCallback:!!W,targetMapId:le,mustQueue:Ee,sourceMapId:this.mapId,data:Ls(D,tt)},tt),{cancel:function(){W&&delete Pe.callbacks[Ve],Pe.target.postMessage({id:Ve,type:"<cancel>",targetMapId:le,sourceMapId:Pe.mapId})}}},uc.prototype.receive=function(A){var D=A.data,W=D.id;if(W&&(!D.targetMapId||this.mapId===D.targetMapId))if(D.type==="<cancel>"){delete this.tasks[W];var le=this.cancelCallbacks[W];delete this.cancelCallbacks[W],le&&le()}else L()||D.mustQueue?(this.tasks[W]=D,this.taskQueue.push(W),this.invoker.trigger()):this.processTask(W,D)},uc.prototype.process=function(){if(this.taskQueue.length){var A=this.taskQueue.shift(),D=this.tasks[A];delete this.tasks[A],this.taskQueue.length&&this.invoker.trigger(),D&&this.processTask(A,D)}},uc.prototype.processTask=function(A,D){var W=this;if(D.type==="<response>"){var le=this.callbacks[A];delete this.callbacks[A],le&&(D.error?le(Cs(D.error)):le(null,Cs(D.data)))}else{var Ee=!1,Pe=R(this.globalScope)?void 0:[],Ve=D.hasCallback?function(At,Ft){Ee=!0,delete W.cancelCallbacks[A],W.target.postMessage({id:A,type:"<response>",sourceMapId:W.mapId,error:At?Ls(At):null,data:Ls(Ft,Pe)},Pe)}:function(At){Ee=!0},tt=null,ht=Cs(D.data);if(this.parent[D.type])tt=this.parent[D.type](D.sourceMapId,ht,Ve);else if(this.parent.getWorkerSource){var Tt=D.type.split(".");tt=this.parent.getWorkerSource(D.sourceMapId,Tt[0],ht.source)[Tt[1]](ht,Ve)}else Ve(new Error("Could not find function "+D.type));!Ee&&tt&&tt.cancel&&(this.cancelCallbacks[A]=tt.cancel)}},uc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var Sa=function(A,D){A&&(D?this.setSouthWest(A).setNorthEast(D):A.length===4?this.setSouthWest([A[0],A[1]]).setNorthEast([A[2],A[3]]):this.setSouthWest(A[0]).setNorthEast(A[1]))};Sa.prototype.setNorthEast=function(A){return this._ne=A instanceof qi?new qi(A.lng,A.lat):qi.convert(A),this},Sa.prototype.setSouthWest=function(A){return this._sw=A instanceof qi?new qi(A.lng,A.lat):qi.convert(A),this},Sa.prototype.extend=function(A){var D,W,le=this._sw,Ee=this._ne;if(A instanceof qi)D=A,W=A;else{if(!(A instanceof Sa)){if(Array.isArray(A)){if(A.length===4||A.every(Array.isArray)){var Pe=A;return this.extend(Sa.convert(Pe))}var Ve=A;return this.extend(qi.convert(Ve))}return this}if(D=A._sw,W=A._ne,!D||!W)return this}return le||Ee?(le.lng=Math.min(D.lng,le.lng),le.lat=Math.min(D.lat,le.lat),Ee.lng=Math.max(W.lng,Ee.lng),Ee.lat=Math.max(W.lat,Ee.lat)):(this._sw=new qi(D.lng,D.lat),this._ne=new qi(W.lng,W.lat)),this},Sa.prototype.getCenter=function(){return new qi((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Sa.prototype.getSouthWest=function(){return this._sw},Sa.prototype.getNorthEast=function(){return this._ne},Sa.prototype.getNorthWest=function(){return new qi(this.getWest(),this.getNorth())},Sa.prototype.getSouthEast=function(){return new qi(this.getEast(),this.getSouth())},Sa.prototype.getWest=function(){return this._sw.lng},Sa.prototype.getSouth=function(){return this._sw.lat},Sa.prototype.getEast=function(){return this._ne.lng},Sa.prototype.getNorth=function(){return this._ne.lat},Sa.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Sa.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},Sa.prototype.isEmpty=function(){return!(this._sw&&this._ne)},Sa.prototype.contains=function(A){var D=qi.convert(A),W=D.lng,le=D.lat,Ee=this._sw.lat<=le&&le<=this._ne.lat,Pe=this._sw.lng<=W&&W<=this._ne.lng;return this._sw.lng>this._ne.lng&&(Pe=this._sw.lng>=W&&W>=this._ne.lng),Ee&&Pe},Sa.convert=function(A){return!A||A instanceof Sa?A:new Sa(A)};var r0=63710088e-1,qi=function(A,D){if(isNaN(A)||isNaN(D))throw new Error("Invalid LngLat object: ("+A+", "+D+")");if(this.lng=+A,this.lat=+D,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};qi.prototype.wrap=function(){return new qi(o(this.lng,-180,180),this.lat)},qi.prototype.toArray=function(){return[this.lng,this.lat]},qi.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},qi.prototype.distanceTo=function(A){var D=Math.PI/180,W=this.lat*D,le=A.lat*D,Ee=Math.sin(W)*Math.sin(le)+Math.cos(W)*Math.cos(le)*Math.cos((A.lng-this.lng)*D);return r0*Math.acos(Math.min(Ee,1))},qi.prototype.toBounds=function(A){A===void 0&&(A=0);var D=360*A/40075017,W=D/Math.cos(Math.PI/180*this.lat);return new Sa(new qi(this.lng-W,this.lat-D),new qi(this.lng+W,this.lat+D))},qi.convert=function(A){if(A instanceof qi)return A;if(Array.isArray(A)&&(A.length===2||A.length===3))return new qi(Number(A[0]),Number(A[1]));if(!Array.isArray(A)&&typeof A=="object"&&A!==null)return new qi(Number("lng"in A?A.lng:A.lon),Number(A.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var i0=2*Math.PI*r0;function a0(A){return i0*Math.cos(A*Math.PI/180)}function o0(A){return(180+A)/360}function s0(A){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+A*Math.PI/360)))/360}function l0(A,D){return A/a0(D)}function rp(A){var D=180-360*A;return 360/Math.PI*Math.atan(Math.exp(D*Math.PI/180))-90}var Du=function(A,D,W){W===void 0&&(W=0),this.x=+A,this.y=+D,this.z=+W};Du.fromLngLat=function(A,D){D===void 0&&(D=0);var W=qi.convert(A);return new Du(o0(W.lng),s0(W.lat),l0(D,W.lat))},Du.prototype.toLngLat=function(){return new qi(360*this.x-180,rp(this.y))},Du.prototype.toAltitude=function(){return A=this.z,D=this.y,A*a0(rp(D));var A,D},Du.prototype.meterInMercatorCoordinateUnits=function(){return 1/i0*(A=rp(this.y),1/Math.cos(A*Math.PI/180));var A};var Ru=function(A,D,W){this.z=A,this.x=D,this.y=W,this.key=Yc(0,A,A,D,W)};Ru.prototype.equals=function(A){return this.z===A.z&&this.x===A.x&&this.y===A.y},Ru.prototype.url=function(A,D){var W,le,Ee,Pe,Ve,tt=(W=this.x,le=this.y,Ee=this.z,Pe=n0(256*W,256*(le=Math.pow(2,Ee)-le-1),Ee),Ve=n0(256*(W+1),256*(le+1),Ee),Pe[0]+","+Pe[1]+","+Ve[0]+","+Ve[1]),ht=function(Tt,At,Ft){for(var Ht,jt="",on=Tt;on>0;on--)jt+=(At&(Ht=1<<on-1)?1:0)+(Ft&Ht?2:0);return jt}(this.z,this.x,this.y);return A[(this.x+this.y)%A.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(D==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ht).replace("{bbox-epsg-3857}",tt)},Ru.prototype.getTilePoint=function(A){var D=Math.pow(2,this.z);return new t((A.x*D-this.x)*si,(A.y*D-this.y)*si)},Ru.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var u0=function(A,D){this.wrap=A,this.canonical=D,this.key=Yc(A,D.z,D.z,D.x,D.y)},Ea=function(A,D,W,le,Ee){this.overscaledZ=A,this.wrap=D,this.canonical=new Ru(W,+le,+Ee),this.key=Yc(D,A,W,le,Ee)};function Yc(A,D,W,le,Ee){(A*=2)<0&&(A=-1*A-1);var Pe=1<<W;return(Pe*Pe*A+Pe*Ee+le).toString(36)+W.toString(36)+D.toString(36)}Ea.prototype.equals=function(A){return this.overscaledZ===A.overscaledZ&&this.wrap===A.wrap&&this.canonical.equals(A.canonical)},Ea.prototype.scaledTo=function(A){var D=this.canonical.z-A;return A>this.canonical.z?new Ea(A,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Ea(A,this.wrap,A,this.canonical.x>>D,this.canonical.y>>D)},Ea.prototype.calculateScaledKey=function(A,D){var W=this.canonical.z-A;return A>this.canonical.z?Yc(this.wrap*+D,A,this.canonical.z,this.canonical.x,this.canonical.y):Yc(this.wrap*+D,A,A,this.canonical.x>>W,this.canonical.y>>W)},Ea.prototype.isChildOf=function(A){if(A.wrap!==this.wrap)return!1;var D=this.canonical.z-A.canonical.z;return A.overscaledZ===0||A.overscaledZ<this.overscaledZ&&A.canonical.x===this.canonical.x>>D&&A.canonical.y===this.canonical.y>>D},Ea.prototype.children=function(A){if(this.overscaledZ>=A)return[new Ea(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var D=this.canonical.z+1,W=2*this.canonical.x,le=2*this.canonical.y;return[new Ea(D,this.wrap,D,W,le),new Ea(D,this.wrap,D,W+1,le),new Ea(D,this.wrap,D,W,le+1),new Ea(D,this.wrap,D,W+1,le+1)]},Ea.prototype.isLessThan=function(A){return this.wrap<A.wrap||!(this.wrap>A.wrap)&&(this.overscaledZ<A.overscaledZ||!(this.overscaledZ>A.overscaledZ)&&(this.canonical.x<A.canonical.x||!(this.canonical.x>A.canonical.x)&&this.canonical.y<A.canonical.y))},Ea.prototype.wrapped=function(){return new Ea(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Ea.prototype.unwrapTo=function(A){return new Ea(this.overscaledZ,A,this.canonical.z,this.canonical.x,this.canonical.y)},Ea.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Ea.prototype.toUnwrapped=function(){return new u0(this.wrap,this.canonical)},Ea.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Ea.prototype.getTilePoint=function(A){return this.canonical.getTilePoint(new Du(A.x-this.wrap,A.y))},Ar("CanonicalTileID",Ru),Ar("OverscaledTileID",Ea,{omit:["posMatrix"]});var $l=function(A,D,W){if(this.uid=A,D.height!==D.width)throw new RangeError("DEM tiles must be square");if(W&&W!=="mapbox"&&W!=="terrarium")return S('"'+W+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=D.height;var le=this.dim=D.height-2;this.data=new Uint32Array(D.data.buffer),this.encoding=W||"mapbox";for(var Ee=0;Ee<le;Ee++)this.data[this._idx(-1,Ee)]=this.data[this._idx(0,Ee)],this.data[this._idx(le,Ee)]=this.data[this._idx(le-1,Ee)],this.data[this._idx(Ee,-1)]=this.data[this._idx(Ee,0)],this.data[this._idx(Ee,le)]=this.data[this._idx(Ee,le-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(le,-1)]=this.data[this._idx(le-1,0)],this.data[this._idx(-1,le)]=this.data[this._idx(0,le-1)],this.data[this._idx(le,le)]=this.data[this._idx(le-1,le-1)]};$l.prototype.get=function(A,D){var W=new Uint8Array(this.data.buffer),le=4*this._idx(A,D);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(W[le],W[le+1],W[le+2])},$l.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,.00390625,32768]:[6553.6,25.6,.1,1e4]},$l.prototype._idx=function(A,D){if(A<-1||A>=this.dim+1||D<-1||D>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(D+1)*this.stride+(A+1)},$l.prototype._unpackMapbox=function(A,D,W){return(256*A*256+256*D+W)/10-1e4},$l.prototype._unpackTerrarium=function(A,D,W){return 256*A+D+W/256-32768},$l.prototype.getPixels=function(){return new Lo({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},$l.prototype.backfillBorder=function(A,D,W){if(this.dim!==A.dim)throw new Error("dem dimension mismatch");var le=D*this.dim,Ee=D*this.dim+this.dim,Pe=W*this.dim,Ve=W*this.dim+this.dim;switch(D){case-1:le=Ee-1;break;case 1:Ee=le+1}switch(W){case-1:Pe=Ve-1;break;case 1:Ve=Pe+1}for(var tt=-D*this.dim,ht=-W*this.dim,Tt=Pe;Tt<Ve;Tt++)for(var At=le;At<Ee;At++)this.data[this._idx(At,Tt)]=A.data[this._idx(At+tt,Tt+ht)]},Ar("DEMData",$l);var qf=function(A){this._stringToNumber={},this._numberToString=[];for(var D=0;D<A.length;D++){var W=A[D];this._stringToNumber[W]=D,this._numberToString[D]=W}};qf.prototype.encode=function(A){return this._stringToNumber[A]},qf.prototype.decode=function(A){return this._numberToString[A]};var Gf=function(A,D,W,le,Ee){this.type="Feature",this._vectorTileFeature=A,A._z=D,A._x=W,A._y=le,this.properties=A.properties,this.id=Ee},ip={geometry:{configurable:!0}};ip.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},ip.geometry.set=function(A){this._geometry=A},Gf.prototype.toJSON=function(){var A={geometry:this.geometry};for(var D in this)D!=="_geometry"&&D!=="_vectorTileFeature"&&(A[D]=this[D]);return A},Object.defineProperties(Gf.prototype,ip);var cc=function(){this.state={},this.stateChanges={},this.deletedStates={}};cc.prototype.updateState=function(A,D,W){var le=String(D);if(this.stateChanges[A]=this.stateChanges[A]||{},this.stateChanges[A][le]=this.stateChanges[A][le]||{},u(this.stateChanges[A][le],W),this.deletedStates[A]===null)for(var Ee in this.deletedStates[A]={},this.state[A])Ee!==le&&(this.deletedStates[A][Ee]=null);else if(this.deletedStates[A]&&this.deletedStates[A][le]===null)for(var Pe in this.deletedStates[A][le]={},this.state[A][le])W[Pe]||(this.deletedStates[A][le][Pe]=null);else for(var Ve in W)this.deletedStates[A]&&this.deletedStates[A][le]&&this.deletedStates[A][le][Ve]===null&&delete this.deletedStates[A][le][Ve]},cc.prototype.removeFeatureState=function(A,D,W){if(this.deletedStates[A]!==null){var le=String(D);if(this.deletedStates[A]=this.deletedStates[A]||{},W&&D!==void 0)this.deletedStates[A][le]!==null&&(this.deletedStates[A][le]=this.deletedStates[A][le]||{},this.deletedStates[A][le][W]=null);else if(D!==void 0)if(this.stateChanges[A]&&this.stateChanges[A][le])for(W in this.deletedStates[A][le]={},this.stateChanges[A][le])this.deletedStates[A][le][W]=null;else this.deletedStates[A][le]=null;else this.deletedStates[A]=null}},cc.prototype.getState=function(A,D){var W=String(D),le=this.state[A]||{},Ee=this.stateChanges[A]||{},Pe=u({},le[W],Ee[W]);if(this.deletedStates[A]===null)return{};if(this.deletedStates[A]){var Ve=this.deletedStates[A][D];if(Ve===null)return{};for(var tt in Ve)delete Pe[tt]}return Pe},cc.prototype.initializeTileState=function(A,D){A.setFeatureState(this.state,D)},cc.prototype.coalesceChanges=function(A,D){var W={};for(var le in this.stateChanges){this.state[le]=this.state[le]||{};var Ee={};for(var Pe in this.stateChanges[le])this.state[le][Pe]||(this.state[le][Pe]={}),u(this.state[le][Pe],this.stateChanges[le][Pe]),Ee[Pe]=this.state[le][Pe];W[le]=Ee}for(var Ve in this.deletedStates){this.state[Ve]=this.state[Ve]||{};var tt={};if(this.deletedStates[Ve]===null)for(var ht in this.state[Ve])tt[ht]={},this.state[Ve][ht]={};else for(var Tt in this.deletedStates[Ve]){if(this.deletedStates[Ve][Tt]===null)this.state[Ve][Tt]={};else for(var At=0,Ft=Object.keys(this.deletedStates[Ve][Tt]);At<Ft.length;At+=1){var Ht=Ft[At];delete this.state[Ve][Tt][Ht]}tt[Tt]=this.state[Ve][Tt]}W[Ve]=W[Ve]||{},u(W[Ve],tt)}if(this.stateChanges={},this.deletedStates={},Object.keys(W).length!==0)for(var jt in A)A[jt].setFeatureState(W,D)};var Ql=function(A,D){this.tileID=A,this.x=A.canonical.x,this.y=A.canonical.y,this.z=A.canonical.z,this.grid=new ua(si,16,0),this.grid3D=new ua(si,16,0),this.featureIndexArray=new Zt,this.promoteId=D};function c0(A,D,W,le,Ee){return v(A,function(Pe,Ve){var tt=D instanceof ya?D.get(Ve):null;return tt&&tt.evaluate?tt.evaluate(W,le,Ee):tt})}function f0(A){for(var D=1/0,W=1/0,le=-1/0,Ee=-1/0,Pe=0,Ve=A;Pe<Ve.length;Pe+=1){var tt=Ve[Pe];D=Math.min(D,tt.x),W=Math.min(W,tt.y),le=Math.max(le,tt.x),Ee=Math.max(Ee,tt.y)}return{minX:D,minY:W,maxX:le,maxY:Ee}}function Bv(A,D){return D-A}Ql.prototype.insert=function(A,D,W,le,Ee,Pe){var Ve=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(W,le,Ee);for(var tt=Pe?this.grid3D:this.grid,ht=0;ht<D.length;ht++){for(var Tt=D[ht],At=[1/0,1/0,-1/0,-1/0],Ft=0;Ft<Tt.length;Ft++){var Ht=Tt[Ft];At[0]=Math.min(At[0],Ht.x),At[1]=Math.min(At[1],Ht.y),At[2]=Math.max(At[2],Ht.x),At[3]=Math.max(At[3],Ht.y)}At[0]<si&&At[1]<si&&At[2]>=0&&At[3]>=0&&tt.insert(Ve,At[0],At[1],At[2],At[3])}},Ql.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new $u.VectorTile(new If(this.rawTileData)).layers,this.sourceLayerCoder=new qf(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},Ql.prototype.query=function(A,D,W,le){var Ee=this;this.loadVTLayers();for(var Pe=A.params||{},Ve=si/A.tileSize/A.scale,tt=Us(Pe.filter),ht=A.queryGeometry,Tt=A.queryPadding*Ve,At=f0(ht),Ft=this.grid.query(At.minX-Tt,At.minY-Tt,At.maxX+Tt,At.maxY+Tt),Ht=f0(A.cameraQueryGeometry),jt=0,on=this.grid3D.query(Ht.minX-Tt,Ht.minY-Tt,Ht.maxX+Tt,Ht.maxY+Tt,function(Gn,Kn,rr,yr){return function(hr,wr,Er,qr,Pr){for(var Vr=0,zr=hr;Vr<zr.length;Vr+=1){var Lr=zr[Vr];if(wr<=Lr.x&&Er<=Lr.y&&qr>=Lr.x&&Pr>=Lr.y)return!0}var $r=[new t(wr,Er),new t(wr,Pr),new t(qr,Pr),new t(qr,Er)];if(hr.length>2){for(var Wr=0,Li=$r;Wr<Li.length;Wr+=1)if(_u(hr,Li[Wr]))return!0}for(var Ur=0;Ur<hr.length-1;Ur++)if(Pc(hr[Ur],hr[Ur+1],$r))return!0;return!1}(A.cameraQueryGeometry,Gn-Tt,Kn-Tt,rr+Tt,yr+Tt)});jt<on.length;jt+=1){var un=on[jt];Ft.push(un)}Ft.sort(Bv);for(var Ln,En={},Fn=function(Gn){var Kn=Ft[Gn];if(Kn!==Ln){Ln=Kn;var rr=Ee.featureIndexArray.get(Kn),yr=null;Ee.loadMatchingFeature(En,rr.bucketIndex,rr.sourceLayerIndex,rr.featureIndex,tt,Pe.layers,Pe.availableImages,D,W,le,function(hr,wr,Er){return yr||(yr=ao(hr)),wr.queryIntersectsFeature(ht,hr,Er,yr,Ee.z,A.transform,Ve,A.pixelPosMatrix)})}},Nn=0;Nn<Ft.length;Nn++)Fn(Nn);return En},Ql.prototype.loadMatchingFeature=function(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt,At){var Ft=this.bucketLayerIDs[D];if(!Pe||function(yr,hr){for(var wr=0;wr<yr.length;wr++)if(hr.indexOf(yr[wr])>=0)return!0;return!1}(Pe,Ft)){var Ht=this.sourceLayerCoder.decode(W),jt=this.vtLayers[Ht].feature(le);if(Ee.filter(new ui(this.tileID.overscaledZ),jt))for(var on=this.getId(jt,Ht),un=0;un<Ft.length;un++){var Ln=Ft[un];if(!(Pe&&Pe.indexOf(Ln)<0)){var En=tt[Ln];if(En){var Fn={};on!==void 0&&Tt&&(Fn=Tt.getState(En.sourceLayer||"_geojsonTileLayer",on));var Nn=ht[Ln];Nn.paint=c0(Nn.paint,En.paint,jt,Fn,Ve),Nn.layout=c0(Nn.layout,En.layout,jt,Fn,Ve);var Gn=!At||At(jt,En,Fn);if(Gn){var Kn=new Gf(jt,this.z,this.x,this.y,on);Kn.layer=Nn;var rr=A[Ln];rr===void 0&&(rr=A[Ln]=[]),rr.push({featureIndex:le,feature:Kn,intersectionZ:Gn})}}}}}},Ql.prototype.lookupSymbolFeatures=function(A,D,W,le,Ee,Pe,Ve,tt){var ht={};this.loadVTLayers();for(var Tt=Us(Ee),At=0,Ft=A;At<Ft.length;At+=1){var Ht=Ft[At];this.loadMatchingFeature(ht,W,le,Ht,Tt,Pe,Ve,tt,D)}return ht},Ql.prototype.hasLayer=function(A){for(var D=0,W=this.bucketLayerIDs;D<W.length;D+=1)for(var le=0,Ee=W[D];le<Ee.length;le+=1)if(A===Ee[le])return!0;return!1},Ql.prototype.getId=function(A,D){var W=A.id;if(this.promoteId){var le=typeof this.promoteId=="string"?this.promoteId:this.promoteId[D];typeof(W=A.properties[le])=="boolean"&&(W=Number(W))}return W},Ar("FeatureIndex",Ql,{omit:["rawTileData","sourceLayerCoder"]});var Ra=function(A,D){this.tileID=A,this.uid=c(),this.uses=0,this.tileSize=D,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Ra.prototype.registerFadeDuration=function(A){var D=A+this.timeAdded;D<$.now()||this.fadeEndTime&&D<this.fadeEndTime||(this.fadeEndTime=D)},Ra.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Ra.prototype.loadVectorData=function(A,D,W){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",A){for(var le in A.featureIndex&&(this.latestFeatureIndex=A.featureIndex,A.rawTileData?(this.latestRawTileData=A.rawTileData,this.latestFeatureIndex.rawTileData=A.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=A.collisionBoxArray,this.buckets=function(Tt,At){var Ft={};if(!At)return Ft;for(var Ht=function(){var un=on[jt],Ln=un.layerIds.map(function(Gn){return At.getLayer(Gn)}).filter(Boolean);if(Ln.length!==0){un.layers=Ln,un.stateDependentLayerIds&&(un.stateDependentLayers=un.stateDependentLayerIds.map(function(Gn){return Ln.filter(function(Kn){return Kn.id===Gn})[0]}));for(var En=0,Fn=Ln;En<Fn.length;En+=1){var Nn=Fn[En];Ft[Nn.id]=un}}},jt=0,on=Tt;jt<on.length;jt+=1)Ht();return Ft}(A.buckets,D.style),this.hasSymbolBuckets=!1,this.buckets){var Ee=this.buckets[le];if(Ee instanceof mi){if(this.hasSymbolBuckets=!0,!W)break;Ee.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var Pe in this.buckets){var Ve=this.buckets[Pe];if(Ve instanceof mi&&Ve.hasRTLText){this.hasRTLText=!0,Vi.isLoading()||Vi.isLoaded()||Ao()!=="deferred"||Jl();break}}for(var tt in this.queryPadding=0,this.buckets){var ht=this.buckets[tt];this.queryPadding=Math.max(this.queryPadding,D.style.getLayer(tt).queryRadius(ht))}A.imageAtlas&&(this.imageAtlas=A.imageAtlas),A.glyphAtlasImage&&(this.glyphAtlasImage=A.glyphAtlasImage)}else this.collisionBoxArray=new yt},Ra.prototype.unloadVectorData=function(){for(var A in this.buckets)this.buckets[A].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Ra.prototype.getBucket=function(A){return this.buckets[A.id]},Ra.prototype.upload=function(A){for(var D in this.buckets){var W=this.buckets[D];W.uploadPending()&&W.upload(A)}var le=A.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Iu(A,this.imageAtlas.image,le.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Iu(A,this.glyphAtlasImage,le.ALPHA),this.glyphAtlasImage=null)},Ra.prototype.prepare=function(A){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(A,this.imageAtlasTexture)},Ra.prototype.queryRenderedFeatures=function(A,D,W,le,Ee,Pe,Ve,tt,ht,Tt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:le,cameraQueryGeometry:Ee,scale:Pe,tileSize:this.tileSize,pixelPosMatrix:Tt,transform:tt,params:Ve,queryPadding:this.queryPadding*ht},A,D,W):{}},Ra.prototype.querySourceFeatures=function(A,D){var W=this.latestFeatureIndex;if(W&&W.rawTileData){var le=W.loadVTLayers(),Ee=D?D.sourceLayer:"",Pe=le._geojsonTileLayer||le[Ee];if(Pe)for(var Ve=Us(D&&D.filter),tt=this.tileID.canonical,ht=tt.z,Tt=tt.x,At=tt.y,Ft={z:ht,x:Tt,y:At},Ht=0;Ht<Pe.length;Ht++){var jt=Pe.feature(Ht);if(Ve.filter(new ui(this.tileID.overscaledZ),jt)){var on=W.getId(jt,Ee),un=new Gf(jt,ht,Tt,At,on);un.tile=Ft,A.push(un)}}}},Ra.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Ra.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Ra.prototype.setExpiryData=function(A){var D=this.expirationTime;if(A.cacheControl){var W=C(A.cacheControl);W["max-age"]&&(this.expirationTime=Date.now()+1e3*W["max-age"])}else A.expires&&(this.expirationTime=new Date(A.expires).getTime());if(this.expirationTime){var le=Date.now(),Ee=!1;if(this.expirationTime>le)Ee=!1;else if(D)if(this.expirationTime<D)Ee=!0;else{var Pe=this.expirationTime-D;Pe?this.expirationTime=le+Math.max(Pe,3e4):Ee=!0}else Ee=!0;Ee?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Ra.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Ra.prototype.setFeatureState=function(A,D){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(A).length!==0){var W=this.latestFeatureIndex.loadVTLayers();for(var le in this.buckets)if(D.style.hasLayer(le)){var Ee=this.buckets[le],Pe=Ee.layers[0].sourceLayer||"_geojsonTileLayer",Ve=W[Pe],tt=A[Pe];if(Ve&&tt&&Object.keys(tt).length!==0){Ee.update(tt,Ve,this.imageAtlas&&this.imageAtlas.patternPositions||{});var ht=D&&D.style&&D.style.getLayer(le);ht&&(this.queryPadding=Math.max(this.queryPadding,ht.queryRadius(Ee)))}}}},Ra.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Ra.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<$.now()},Ra.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Ra.prototype.setHoldDuration=function(A){this.symbolFadeHoldUntil=$.now()+A},Ra.prototype.setDependencies=function(A,D){for(var W={},le=0,Ee=D;le<Ee.length;le+=1)W[Ee[le]]=!0;this.dependencies[A]=W},Ra.prototype.hasDependency=function(A,D){for(var W=0,le=A;W<le.length;W+=1){var Ee=le[W],Pe=this.dependencies[Ee];if(Pe){for(var Ve=0,tt=D;Ve<tt.length;Ve+=1)if(Pe[tt[Ve]])return!0}}return!1};var ku=self.performance,h0=function(A){this._marks={start:[A.url,"start"].join("#"),end:[A.url,"end"].join("#"),measure:A.url.toString()},ku.mark(this._marks.start)};h0.prototype.finish=function(){ku.mark(this._marks.end);var A=ku.getEntriesByName(this._marks.measure);return A.length===0&&(ku.measure(this._marks.measure,this._marks.start,this._marks.end),A=ku.getEntriesByName(this._marks.measure),ku.clearMarks(this._marks.start),ku.clearMarks(this._marks.end),ku.clearMeasures(this._marks.measure)),A},a.Actor=uc,a.AlphaImage=Pu,a.CanonicalTileID=Ru,a.CollisionBoxArray=yt,a.Color=mn,a.DEMData=$l,a.DataConstantProperty=Or,a.DictionaryCoder=qf,a.EXTENT=si,a.ErrorEvent=ct,a.EvaluationParameters=ui,a.Event=$e,a.Evented=at,a.FeatureIndex=Ql,a.FillBucket=cl,a.FillExtrusionBucket=fl,a.ImageAtlas=Vc,a.ImagePosition=Rf,a.LineBucket=Co,a.LngLat=qi,a.LngLatBounds=Sa,a.MercatorCoordinate=Du,a.ONE_EM=qa,a.OverscaledTileID=Ea,a.Point=t,a.Point$1=t,a.Properties=xa,a.Protobuf=If,a.RGBAImage=Lo,a.RequestManager=ae,a.RequestPerformance=h0,a.ResourceType=_t,a.SegmentVector=_n,a.SourceFeatureState=cc,a.StructArrayLayout1ui2=We,a.StructArrayLayout2f1f2i16=Ae,a.StructArrayLayout2i4=Va,a.StructArrayLayout3ui6=Q,a.StructArrayLayout4i8=Is,a.SymbolBucket=mi,a.Texture=Iu,a.Tile=Ra,a.Transitionable=vo,a.Uniform1f=Hr,a.Uniform1i=Dr,a.Uniform2f=Jr,a.Uniform3f=ai,a.Uniform4f=wi,a.UniformColor=Ti,a.UniformMatrix4f=Hi,a.UnwrappedTileID=u0,a.ValidationError=je,a.WritingMode=ds,a.ZoomHistory=qo,a.add=function(A,D,W){return A[0]=D[0]+W[0],A[1]=D[1]+W[1],A[2]=D[2]+W[2],A},a.addDynamicAttributes=ep,a.asyncAll=function(A,D,W){if(!A.length)return W(null,[]);var le=A.length,Ee=new Array(A.length),Pe=null;A.forEach(function(Ve,tt){D(Ve,function(ht,Tt){ht&&(Pe=ht),Ee[tt]=Tt,--le==0&&W(Pe,Ee)})})},a.bezier=r,a.bindAll=h,a.browser=$,a.cacheEntryPossiblyAdded=function(A){++ft>ye&&(A.getActor().send("enforceCacheSizeLimit",Te),ft=0)},a.clamp=l,a.clearTileCache=function(A){var D=self.caches.delete(ce);A&&D.catch(A).then(function(){return A()})},a.clipLine=Yd,a.clone=function(A){var D=new ps(16);return D[0]=A[0],D[1]=A[1],D[2]=A[2],D[3]=A[3],D[4]=A[4],D[5]=A[5],D[6]=A[6],D[7]=A[7],D[8]=A[8],D[9]=A[9],D[10]=A[10],D[11]=A[11],D[12]=A[12],D[13]=A[13],D[14]=A[14],D[15]=A[15],D},a.clone$1=w,a.clone$2=function(A){var D=new ps(3);return D[0]=A[0],D[1]=A[1],D[2]=A[2],D},a.collisionCircleLayout=iv,a.config=K,a.create=function(){var A=new ps(16);return ps!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=0,A[12]=0,A[13]=0,A[14]=0),A[0]=1,A[5]=1,A[10]=1,A[15]=1,A},a.create$1=function(){var A=new ps(9);return ps!=Float32Array&&(A[1]=0,A[2]=0,A[3]=0,A[5]=0,A[6]=0,A[7]=0),A[0]=1,A[4]=1,A[8]=1,A},a.create$2=function(){var A=new ps(4);return ps!=Float32Array&&(A[1]=0,A[2]=0),A[0]=1,A[3]=1,A},a.createCommonjsModule=_,a.createExpression=rl,a.createLayout=ra,a.createStyleLayer=function(A){return A.type==="custom"?new zv(A):new Fv[A.type](A)},a.cross=function(A,D,W){var le=D[0],Ee=D[1],Pe=D[2],Ve=W[0],tt=W[1],ht=W[2];return A[0]=Ee*ht-Pe*tt,A[1]=Pe*Ve-le*ht,A[2]=le*tt-Ee*Ve,A},a.deepEqual=function A(D,W){if(Array.isArray(D)){if(!Array.isArray(W)||D.length!==W.length)return!1;for(var le=0;le<D.length;le++)if(!A(D[le],W[le]))return!1;return!0}if(typeof D=="object"&&D!==null&&W!==null){if(typeof W!="object"||Object.keys(D).length!==Object.keys(W).length)return!1;for(var Ee in D)if(!A(D[Ee],W[Ee]))return!1;return!0}return D===W},a.dot=function(A,D){return A[0]*D[0]+A[1]*D[1]+A[2]*D[2]},a.dot$1=function(A,D){return A[0]*D[0]+A[1]*D[1]+A[2]*D[2]+A[3]*D[3]},a.ease=n,a.emitValidationErrors=ho,a.endsWith=x,a.enforceCacheSizeLimit=function(A){Be(),se&&se.then(function(D){D.keys().then(function(W){for(var le=0;le<W.length-A;le++)D.delete(W[le])})})},a.evaluateSizeForFeature=Nd,a.evaluateSizeForZoom=jd,a.evaluateVariableOffset=Xd,a.evented=na,a.extend=u,a.featureFilter=Us,a.filterObject=m,a.fromRotation=function(A,D){var W=Math.sin(D),le=Math.cos(D);return A[0]=le,A[1]=W,A[2]=0,A[3]=-W,A[4]=le,A[5]=0,A[6]=0,A[7]=0,A[8]=1,A},a.getAnchorAlignment=Jh,a.getAnchorJustification=Qh,a.getArrayBuffer=Et,a.getImage=Je,a.getJSON=function(A,D){return ut(u(A,{type:"json"}),D)},a.getRTLTextPluginStatus=Ao,a.getReferrer=wt,a.getVideo=function(A,D){var W,le,Ee=self.document.createElement("video");Ee.muted=!0,Ee.onloadstart=function(){D(null,Ee)};for(var Pe=0;Pe<A.length;Pe++){var Ve=self.document.createElement("source");W=A[Pe],le=void 0,(le=self.document.createElement("a")).href=W,le.protocol===self.document.location.protocol&&le.host===self.document.location.host||(Ee.crossOrigin="Anonymous"),Ve.src=A[Pe],Ee.appendChild(Ve)}return{cancel:function(){}}},a.identity=Rh,a.invert=function(A,D){var W=D[0],le=D[1],Ee=D[2],Pe=D[3],Ve=D[4],tt=D[5],ht=D[6],Tt=D[7],At=D[8],Ft=D[9],Ht=D[10],jt=D[11],on=D[12],un=D[13],Ln=D[14],En=D[15],Fn=W*tt-le*Ve,Nn=W*ht-Ee*Ve,Gn=W*Tt-Pe*Ve,Kn=le*ht-Ee*tt,rr=le*Tt-Pe*tt,yr=Ee*Tt-Pe*ht,hr=At*un-Ft*on,wr=At*Ln-Ht*on,Er=At*En-jt*on,qr=Ft*Ln-Ht*un,Pr=Ft*En-jt*un,Vr=Ht*En-jt*Ln,zr=Fn*Vr-Nn*Pr+Gn*qr+Kn*Er-rr*wr+yr*hr;return zr?(zr=1/zr,A[0]=(tt*Vr-ht*Pr+Tt*qr)*zr,A[1]=(Ee*Pr-le*Vr-Pe*qr)*zr,A[2]=(un*yr-Ln*rr+En*Kn)*zr,A[3]=(Ht*rr-Ft*yr-jt*Kn)*zr,A[4]=(ht*Er-Ve*Vr-Tt*wr)*zr,A[5]=(W*Vr-Ee*Er+Pe*wr)*zr,A[6]=(Ln*Gn-on*yr-En*Nn)*zr,A[7]=(At*yr-Ht*Gn+jt*Nn)*zr,A[8]=(Ve*Pr-tt*Er+Tt*hr)*zr,A[9]=(le*Er-W*Pr-Pe*hr)*zr,A[10]=(on*rr-un*Gn+En*Fn)*zr,A[11]=(Ft*Gn-At*rr-jt*Fn)*zr,A[12]=(tt*wr-Ve*qr-ht*hr)*zr,A[13]=(W*qr-le*wr+Ee*hr)*zr,A[14]=(un*Nn-on*Kn-Ln*Fn)*zr,A[15]=(At*Kn-Ft*Nn+Ht*Fn)*zr,A):null},a.isChar=Tr,a.isMapboxURL=ue,a.keysDifference=function(A,D){var W=[];for(var le in A)le in D||W.push(le);return W},a.makeRequest=ut,a.mapObject=v,a.mercatorXfromLng=o0,a.mercatorYfromLat=s0,a.mercatorZfromAltitude=l0,a.mul=xg,a.multiply=id,a.mvt=$u,a.normalize=function(A,D){var W=D[0],le=D[1],Ee=D[2],Pe=W*W+le*le+Ee*Ee;return Pe>0&&(Pe=1/Math.sqrt(Pe)),A[0]=D[0]*Pe,A[1]=D[1]*Pe,A[2]=D[2]*Pe,A},a.number=$n,a.offscreenCanvasSupported=rt,a.ortho=function(A,D,W,le,Ee,Pe,Ve){var tt=1/(D-W),ht=1/(le-Ee),Tt=1/(Pe-Ve);return A[0]=-2*tt,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=-2*ht,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[10]=2*Tt,A[11]=0,A[12]=(D+W)*tt,A[13]=(Ee+le)*ht,A[14]=(Ve+Pe)*Tt,A[15]=1,A},a.parseGlyphPBF=function(A){return new If(A).readFields(gv,[])},a.pbf=If,a.performSymbolLayout=function(A,D,W,le,Ee,Pe,Ve){A.createArrays();var tt=512*A.overscaling;A.tilePixelRatio=si/tt,A.compareText={},A.iconsNeedLinear=!1;var ht=A.layers[0].layout,Tt=A.layers[0]._unevaluatedLayout._values,At={};if(A.textSizeData.kind==="composite"){var Ft=A.textSizeData,Ht=Ft.minZoom,jt=Ft.maxZoom;At.compositeTextSizes=[Tt["text-size"].possiblyEvaluate(new ui(Ht),Ve),Tt["text-size"].possiblyEvaluate(new ui(jt),Ve)]}if(A.iconSizeData.kind==="composite"){var on=A.iconSizeData,un=on.minZoom,Ln=on.maxZoom;At.compositeIconSizes=[Tt["icon-size"].possiblyEvaluate(new ui(un),Ve),Tt["icon-size"].possiblyEvaluate(new ui(Ln),Ve)]}At.layoutTextSize=Tt["text-size"].possiblyEvaluate(new ui(A.zoom+1),Ve),At.layoutIconSize=Tt["icon-size"].possiblyEvaluate(new ui(A.zoom+1),Ve),At.textMaxSize=Tt["text-size"].possiblyEvaluate(new ui(18));for(var En=ht.get("text-line-height")*qa,Fn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point",Nn=ht.get("text-keep-upright"),Gn=ht.get("text-size"),Kn=function(){var hr=yr[rr],wr=ht.get("text-font").evaluate(hr,{},Ve).join(","),Er=Gn.evaluate(hr,{},Ve),qr=At.layoutTextSize.evaluate(hr,{},Ve),Pr=At.layoutIconSize.evaluate(hr,{},Ve),Vr={horizontal:{},vertical:void 0},zr=hr.text,Lr=[0,0];if(zr){var $r=zr.toString(),Wr=ht.get("text-letter-spacing").evaluate(hr,{},Ve)*qa,Li=function(Zr){for(var ri=0,aa=Zr;ri<aa.length;ri+=1)if(Mi=aa[ri].charCodeAt(0),Tr.Arabic(Mi)||Tr["Arabic Supplement"](Mi)||Tr["Arabic Extended-A"](Mi)||Tr["Arabic Presentation Forms-A"](Mi)||Tr["Arabic Presentation Forms-B"](Mi))return!1;var Mi;return!0}($r)?Wr:0,Ur=ht.get("text-anchor").evaluate(hr,{},Ve),yi=ht.get("text-variable-anchor");if(!yi){var zi=ht.get("text-radial-offset").evaluate(hr,{},Ve);Lr=zi?Xd(Ur,[zi*qa,$h]):ht.get("text-offset").evaluate(hr,{},Ve).map(function(Zr){return Zr*qa})}var Ni=Fn?"center":ht.get("text-justify").evaluate(hr,{},Ve),ji=ht.get("symbol-placement"),Ci=ji==="point"?ht.get("text-max-width").evaluate(hr,{},Ve)*qa:0,La=function(){A.allowVerticalPlacement&&po($r)&&(Vr.vertical=zf(zr,D,W,Ee,wr,Ci,En,Ur,"left",Li,Lr,ds.vertical,!0,ji,qr,Er))};if(!Fn&&yi){for(var Wi=Ni==="auto"?yi.map(function(Zr){return Qh(Zr)}):[Ni],za=!1,$a=0;$a<Wi.length;$a++){var Ga=Wi[$a];if(!Vr.horizontal[Ga])if(za)Vr.horizontal[Ga]=Vr.horizontal[0];else{var yo=zf(zr,D,W,Ee,wr,Ci,En,"center",Ga,Li,Lr,ds.horizontal,!1,ji,qr,Er);yo&&(Vr.horizontal[Ga]=yo,za=yo.positionedLines.length===1)}}La()}else{Ni==="auto"&&(Ni=Qh(Ur));var Ya=zf(zr,D,W,Ee,wr,Ci,En,Ur,Ni,Li,Lr,ds.horizontal,!1,ji,qr,Er);Ya&&(Vr.horizontal[Ni]=Ya),La(),po($r)&&Fn&&Nn&&(Vr.vertical=zf(zr,D,W,Ee,wr,Ci,En,Ur,Ni,Li,Lr,ds.vertical,!1,ji,qr,Er))}}var Pa=void 0,Wa=!1;if(hr.icon&&hr.icon.name){var Fa=le[hr.icon.name];Fa&&(Pa=function(Zr,ri,aa){var Mi=Jh(aa),$i=Mi.horizontalAlign,Gi=Mi.verticalAlign,ci=ri[0],oa=ri[1],xo=ci-Zr.displaySize[0]*$i,Xo=xo+Zr.displaySize[0],so=oa-Zr.displaySize[1]*Gi;return{image:Zr,top:so,bottom:so+Zr.displaySize[1],left:xo,right:Xo}}(Ee[hr.icon.name],ht.get("icon-offset").evaluate(hr,{},Ve),ht.get("icon-anchor").evaluate(hr,{},Ve)),Wa=Fa.sdf,A.sdfIcons===void 0?A.sdfIcons=Fa.sdf:A.sdfIcons!==Fa.sdf&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Fa.pixelRatio!==A.pixelRatio||ht.get("icon-rotate").constantOr(1)!==0)&&(A.iconsNeedLinear=!0))}var Ia=Kd(Vr.horizontal)||Vr.vertical;A.iconsInText=!!Ia&&Ia.iconsInText,(Ia||Pa)&&function(Zr,ri,aa,Mi,$i,Gi,ci,oa,xo,Xo,so){var pl=Gi.textMaxSize.evaluate(ri,{});pl===void 0&&(pl=ci);var eu,Ba=Zr.layers[0].layout,dl=Ba.get("icon-offset").evaluate(ri,{},so),Zs=Kd(aa.horizontal),Xs=24,zu=ci/Xs,Yf=Zr.tilePixelRatio*zu,Fu=Zr.tilePixelRatio*pl/Xs,Wf=Zr.tilePixelRatio*oa,Wc=Zr.tilePixelRatio*Ba.get("symbol-spacing"),ap=Ba.get("text-padding")*Zr.tilePixelRatio,Zf=Ba.get("icon-padding")*Zr.tilePixelRatio,fc=Ba.get("text-max-angle")/180*Math.PI,Xf=Ba.get("text-rotation-alignment")==="map"&&Ba.get("symbol-placement")!=="point",Jf=Ba.get("icon-rotation-alignment")==="map"&&Ba.get("symbol-placement")!=="point",Zc=Ba.get("symbol-placement"),op=Wc/2,Xc=Ba.get("icon-text-fit");Mi&&Xc!=="none"&&(Zr.allowVerticalPlacement&&aa.vertical&&(eu=Bd(Mi,aa.vertical,Xc,Ba.get("icon-text-fit-padding"),dl,zu)),Zs&&(Mi=Bd(Mi,Zs,Xc,Ba.get("icon-text-fit-padding"),dl,zu)));var Bu=function(Nv,tf){tf.x<0||tf.x>=si||tf.y<0||tf.y>=si||function(da,vl,jv,Mu,hp,m0,th,Cl,nh,nf,rh,ih,pp,y0,rf,x0,b0,_0,w0,T0,gs,ah,k0,Ol,Uv){var M0,Uu,dc,gc,vc,mc=da.addToLineVertexArray(vl,jv),A0=0,S0=0,E0=0,L0=0,dp=-1,gp=-1,tu={},C0=fr(""),vp=0,mp=0;if(Cl._unevaluatedLayout.getValue("text-radial-offset")===void 0?(vp=(M0=Cl.layout.get("text-offset").evaluate(gs,{},Ol).map(function(of){return of*qa}))[0],mp=M0[1]):(vp=Cl.layout.get("text-radial-offset").evaluate(gs,{},Ol)*qa,mp=$h),da.allowVerticalPlacement&&Mu.vertical){var O0=Cl.layout.get("text-rotate").evaluate(gs,{},Ol)+90,Vv=Mu.vertical;gc=new Uf(nh,vl,nf,rh,ih,Vv,pp,y0,rf,O0),th&&(vc=new Uf(nh,vl,nf,rh,ih,th,b0,_0,rf,O0))}if(hp){var yp=Cl.layout.get("icon-rotate").evaluate(gs,{}),P0=Cl.layout.get("icon-text-fit")!=="none",I0=Wd(hp,yp,k0,P0),xp=th?Wd(th,yp,k0,P0):void 0;dc=new Uf(nh,vl,nf,rh,ih,hp,b0,_0,!1,yp),A0=4*I0.length;var D0=da.iconSizeData,af=null;D0.kind==="source"?(af=[hl*Cl.layout.get("icon-size").evaluate(gs,{})])[0]>Tu&&S(da.layerIds[0]+': Value for "icon-size" is >= '+qc+'. Reduce your "icon-size".'):D0.kind==="composite"&&((af=[hl*ah.compositeIconSizes[0].evaluate(gs,{},Ol),hl*ah.compositeIconSizes[1].evaluate(gs,{},Ol)])[0]>Tu||af[1]>Tu)&&S(da.layerIds[0]+': Value for "icon-size" is >= '+qc+'. Reduce your "icon-size".'),da.addSymbols(da.icon,I0,af,T0,w0,gs,!1,vl,mc.lineStartIndex,mc.lineLength,-1,Ol),dp=da.icon.placedSymbolArray.length-1,xp&&(S0=4*xp.length,da.addSymbols(da.icon,xp,af,T0,w0,gs,ds.vertical,vl,mc.lineStartIndex,mc.lineLength,-1,Ol),gp=da.icon.placedSymbolArray.length-1)}for(var R0 in Mu.horizontal){var oh=Mu.horizontal[R0];if(!Uu){C0=fr(oh.text);var Hv=Cl.layout.get("text-rotate").evaluate(gs,{},Ol);Uu=new Uf(nh,vl,nf,rh,ih,oh,pp,y0,rf,Hv)}var z0=oh.positionedLines.length===1;if(E0+=Jd(da,vl,oh,m0,Cl,rf,gs,x0,mc,Mu.vertical?ds.horizontal:ds.horizontalOnly,z0?Object.keys(Mu.horizontal):[R0],tu,dp,ah,Ol),z0)break}Mu.vertical&&(L0+=Jd(da,vl,Mu.vertical,m0,Cl,rf,gs,x0,mc,ds.vertical,["vertical"],tu,gp,ah,Ol));var qv=Uu?Uu.boxStartIndex:da.collisionBoxArray.length,Gv=Uu?Uu.boxEndIndex:da.collisionBoxArray.length,Yv=gc?gc.boxStartIndex:da.collisionBoxArray.length,Wv=gc?gc.boxEndIndex:da.collisionBoxArray.length,Zv=dc?dc.boxStartIndex:da.collisionBoxArray.length,Xv=dc?dc.boxEndIndex:da.collisionBoxArray.length,Jv=vc?vc.boxStartIndex:da.collisionBoxArray.length,Kv=vc?vc.boxEndIndex:da.collisionBoxArray.length,Pl=-1,sh=function(of,B0){return of&&of.circleDiameter?Math.max(of.circleDiameter,B0):B0};Pl=sh(Uu,Pl),Pl=sh(gc,Pl),Pl=sh(dc,Pl);var F0=(Pl=sh(vc,Pl))>-1?1:0;F0&&(Pl*=Uv/qa),da.glyphOffsetArray.length>=mi.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),gs.sortKey!==void 0&&da.addToSortKeyRanges(da.symbolInstances.length,gs.sortKey),da.symbolInstances.emplaceBack(vl.x,vl.y,tu.right>=0?tu.right:-1,tu.center>=0?tu.center:-1,tu.left>=0?tu.left:-1,tu.vertical||-1,dp,gp,C0,qv,Gv,Yv,Wv,Zv,Xv,Jv,Kv,nf,E0,L0,A0,S0,F0,0,pp,vp,mp,Pl)}(Zr,tf,Nv,aa,Mi,$i,eu,Zr.layers[0],Zr.collisionBoxArray,ri.index,ri.sourceLayerIndex,Zr.index,Yf,ap,Xf,xo,Wf,Zf,Jf,dl,ri,Gi,Xo,so,ci)};if(Zc==="line")for(var hc=0,Kf=Yd(ri.geometry,0,0,si,si);hc<Kf.length;hc+=1)for(var $f=Kf[hc],pc=0,Qf=wv($f,Wc,fc,aa.vertical||Zs,Mi,Xs,Fu,Zr.overscaling,si);pc<Qf.length;pc+=1){var eh=Qf[pc];Zs&&Av(Zr,Zs.text,op,eh)||Bu($f,eh)}else if(Zc==="line-center")for(var Jc=0,Kc=ri.geometry;Jc<Kc.length;Jc+=1){var Nu=Kc[Jc];if(Nu.length>1){var $c=_v(Nu,fc,aa.vertical||Zs,Mi,Xs,Fu);$c&&Bu(Nu,$c)}}else if(ri.type==="Polygon")for(var ju=0,Qc=Vh(ri.geometry,0);ju<Qc.length;ju+=1){var ef=Qc[ju],p0=kv(ef,16);Bu(ef[0],new nc(p0.x,p0.y,0))}else if(ri.type==="LineString")for(var sp=0,d0=ri.geometry;sp<d0.length;sp+=1){var lp=d0[sp];Bu(lp,new nc(lp[0].x,lp[0].y,0))}else if(ri.type==="Point")for(var up=0,g0=ri.geometry;up<g0.length;up+=1)for(var cp=0,v0=g0[up];cp<v0.length;cp+=1){var fp=v0[cp];Bu([fp],new nc(fp.x,fp.y,0))}}(A,hr,Vr,Pa,le,At,qr,Pr,Lr,Wa,Ve)},rr=0,yr=A.features;rr<yr.length;rr+=1)Kn();Pe&&A.generateCollisionDebugBuffers()},a.perspective=function(A,D,W,le,Ee){var Pe,Ve=1/Math.tan(D/2);return A[0]=Ve/W,A[1]=0,A[2]=0,A[3]=0,A[4]=0,A[5]=Ve,A[6]=0,A[7]=0,A[8]=0,A[9]=0,A[11]=-1,A[12]=0,A[13]=0,A[15]=0,Ee!=null&&Ee!==1/0?(Pe=1/(le-Ee),A[10]=(Ee+le)*Pe,A[14]=2*Ee*le*Pe):(A[10]=-1,A[14]=-2*le),A},a.pick=function(A,D){for(var W={},le=0;le<D.length;le++){var Ee=D[le];Ee in A&&(W[Ee]=A[Ee])}return W},a.plugin=Vi,a.polygonIntersectsPolygon=mo,a.postMapLoadEvent=Ne,a.postTurnstileEvent=_e,a.potpack=Id,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.register=Ar,a.registerForPluginStateChange=function(A){return A({pluginStatus:fa,pluginURL:di}),na.on("pluginStateChange",A),A},a.rotate=function(A,D,W){var le=D[0],Ee=D[1],Pe=D[2],Ve=D[3],tt=Math.sin(W),ht=Math.cos(W);return A[0]=le*ht+Pe*tt,A[1]=Ee*ht+Ve*tt,A[2]=le*-tt+Pe*ht,A[3]=Ee*-tt+Ve*ht,A},a.rotateX=function(A,D,W){var le=Math.sin(W),Ee=Math.cos(W),Pe=D[4],Ve=D[5],tt=D[6],ht=D[7],Tt=D[8],At=D[9],Ft=D[10],Ht=D[11];return D!==A&&(A[0]=D[0],A[1]=D[1],A[2]=D[2],A[3]=D[3],A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15]),A[4]=Pe*Ee+Tt*le,A[5]=Ve*Ee+At*le,A[6]=tt*Ee+Ft*le,A[7]=ht*Ee+Ht*le,A[8]=Tt*Ee-Pe*le,A[9]=At*Ee-Ve*le,A[10]=Ft*Ee-tt*le,A[11]=Ht*Ee-ht*le,A},a.rotateZ=function(A,D,W){var le=Math.sin(W),Ee=Math.cos(W),Pe=D[0],Ve=D[1],tt=D[2],ht=D[3],Tt=D[4],At=D[5],Ft=D[6],Ht=D[7];return D!==A&&(A[8]=D[8],A[9]=D[9],A[10]=D[10],A[11]=D[11],A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15]),A[0]=Pe*Ee+Tt*le,A[1]=Ve*Ee+At*le,A[2]=tt*Ee+Ft*le,A[3]=ht*Ee+Ht*le,A[4]=Tt*Ee-Pe*le,A[5]=At*Ee-Ve*le,A[6]=Ft*Ee-tt*le,A[7]=Ht*Ee-ht*le,A},a.scale=function(A,D,W){var le=W[0],Ee=W[1],Pe=W[2];return A[0]=D[0]*le,A[1]=D[1]*le,A[2]=D[2]*le,A[3]=D[3]*le,A[4]=D[4]*Ee,A[5]=D[5]*Ee,A[6]=D[6]*Ee,A[7]=D[7]*Ee,A[8]=D[8]*Pe,A[9]=D[9]*Pe,A[10]=D[10]*Pe,A[11]=D[11]*Pe,A[12]=D[12],A[13]=D[13],A[14]=D[14],A[15]=D[15],A},a.scale$1=function(A,D,W){return A[0]=D[0]*W,A[1]=D[1]*W,A[2]=D[2]*W,A[3]=D[3]*W,A},a.scale$2=function(A,D,W){return A[0]=D[0]*W,A[1]=D[1]*W,A[2]=D[2]*W,A},a.setCacheLimits=function(A,D){Te=A,ye=D},a.setRTLTextPlugin=function(A,D,W){if(W===void 0&&(W=!1),fa===Mo||fa===Go||fa===ta)throw new Error("setRTLTextPlugin cannot be called multiple times.");di=$.resolveURL(A),fa=Mo,qs=D,Ua(),W||Jl()},a.sphericalToCartesian=function(A){var D=A[0],W=A[1],le=A[2];return W+=90,W*=Math.PI/180,le*=Math.PI/180,{x:D*Math.cos(W)*Math.sin(le),y:D*Math.sin(W)*Math.sin(le),z:D*Math.cos(le)}},a.sqrLen=_g,a.styleSpec=Re,a.sub=bg,a.symbolSize=bv,a.transformMat3=function(A,D,W){var le=D[0],Ee=D[1],Pe=D[2];return A[0]=le*W[0]+Ee*W[3]+Pe*W[6],A[1]=le*W[1]+Ee*W[4]+Pe*W[7],A[2]=le*W[2]+Ee*W[5]+Pe*W[8],A},a.transformMat4=Ef,a.translate=function(A,D,W){var le,Ee,Pe,Ve,tt,ht,Tt,At,Ft,Ht,jt,on,un=W[0],Ln=W[1],En=W[2];return D===A?(A[12]=D[0]*un+D[4]*Ln+D[8]*En+D[12],A[13]=D[1]*un+D[5]*Ln+D[9]*En+D[13],A[14]=D[2]*un+D[6]*Ln+D[10]*En+D[14],A[15]=D[3]*un+D[7]*Ln+D[11]*En+D[15]):(le=D[0],Ee=D[1],Pe=D[2],Ve=D[3],tt=D[4],ht=D[5],Tt=D[6],At=D[7],Ft=D[8],Ht=D[9],jt=D[10],on=D[11],A[0]=le,A[1]=Ee,A[2]=Pe,A[3]=Ve,A[4]=tt,A[5]=ht,A[6]=Tt,A[7]=At,A[8]=Ft,A[9]=Ht,A[10]=jt,A[11]=on,A[12]=le*un+tt*Ln+Ft*En+D[12],A[13]=Ee*un+ht*Ln+Ht*En+D[13],A[14]=Pe*un+Tt*Ln+jt*En+D[14],A[15]=Ve*un+At*Ln+on*En+D[15]),A},a.triggerPluginCompletionEvent=ul,a.uniqueId=c,a.validateCustomStyleLayer=function(A){var D=[],W=A.id;return W===void 0&&D.push({message:"layers."+W+': missing required property "id"'}),A.render===void 0&&D.push({message:"layers."+W+': missing required method "render"'}),A.renderingMode&&A.renderingMode!=="2d"&&A.renderingMode!=="3d"&&D.push({message:"layers."+W+': property "renderingMode" must be either "2d" or "3d"'}),D},a.validateLight=ea,a.validateStyle=ma,a.values=function(A){var D=[];for(var W in A)D.push(A[W]);return D},a.vectorTile=$u,a.version=y,a.warnOnce=S,a.webpSupported=Z,a.window=self,a.wrap=o}),k(0,function(a){function _(Je){var Qe=typeof Je;if(Qe==="number"||Qe==="boolean"||Qe==="string"||Je==null)return JSON.stringify(Je);if(Array.isArray(Je)){for(var qe="[",$e=0,ct=Je;$e<ct.length;$e+=1)qe+=_(ct[$e])+",";return qe+"]"}for(var at=Object.keys(Je).sort(),Re="{",je=0;je<at.length;je++)Re+=JSON.stringify(at[je])+":"+_(Je[at[je]])+",";return Re+"}"}function y(Je){for(var Qe="",qe=0,$e=a.refProperties;qe<$e.length;qe+=1)Qe+="/"+_(Je[$e[qe]]);return Qe}var d=function(Je){this.keyCache={},Je&&this.replace(Je)};d.prototype.replace=function(Je){this._layerConfigs={},this._layers={},this.update(Je,[])},d.prototype.update=function(Je,Qe){for(var qe=this,$e=0,ct=Je;$e<ct.length;$e+=1){var at=ct[$e];this._layerConfigs[at.id]=at;var Re=this._layers[at.id]=a.createStyleLayer(at);Re._featureFilter=a.featureFilter(Re.filter),this.keyCache[at.id]&&delete this.keyCache[at.id]}for(var je=0,st=Qe;je<st.length;je+=1){var ot=st[je];delete this.keyCache[ot],delete this._layerConfigs[ot],delete this._layers[ot]}this.familiesBySource={};for(var xt=0,mt=function(Bt,Nt){for(var qt={},an=0;an<Bt.length;an++){var Gt=Nt&&Nt[Bt[an].id]||y(Bt[an]);Nt&&(Nt[Bt[an].id]=Gt);var Yt=qt[Gt];Yt||(Yt=qt[Gt]=[]),Yt.push(Bt[an])}var en=[];for(var bn in qt)en.push(qt[bn]);return en}(a.values(this._layerConfigs),this.keyCache);xt<mt.length;xt+=1){var bt=mt[xt].map(function(Bt){return qe._layers[Bt.id]}),dt=bt[0];if(dt.visibility!=="none"){var St=dt.source||"",gt=this.familiesBySource[St];gt||(gt=this.familiesBySource[St]={});var vt=dt.sourceLayer||"_geojsonTileLayer",Mt=gt[vt];Mt||(Mt=gt[vt]=[]),Mt.push(bt)}}};var s=function(Je){var Qe={},qe=[];for(var $e in Je){var ct=Je[$e],at=Qe[$e]={};for(var Re in ct){var je=ct[+Re];if(je&&je.bitmap.width!==0&&je.bitmap.height!==0){var st={x:0,y:0,w:je.bitmap.width+2,h:je.bitmap.height+2};qe.push(st),at[Re]={rect:st,metrics:je.metrics}}}}var ot=a.potpack(qe),xt=ot.w,mt=ot.h,bt=new a.AlphaImage({width:xt||1,height:mt||1});for(var dt in Je){var St=Je[dt];for(var gt in St){var vt=St[+gt];if(vt&&vt.bitmap.width!==0&&vt.bitmap.height!==0){var Mt=Qe[dt][gt].rect;a.AlphaImage.copy(vt.bitmap,bt,{x:0,y:0},{x:Mt.x+1,y:Mt.y+1},vt.bitmap)}}}this.image=bt,this.positions=Qe};a.register("GlyphAtlas",s);var t=function(Je){this.tileID=new a.OverscaledTileID(Je.tileID.overscaledZ,Je.tileID.wrap,Je.tileID.canonical.z,Je.tileID.canonical.x,Je.tileID.canonical.y),this.uid=Je.uid,this.zoom=Je.zoom,this.pixelRatio=Je.pixelRatio,this.tileSize=Je.tileSize,this.source=Je.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=Je.showCollisionBoxes,this.collectResourceTiming=!!Je.collectResourceTiming,this.returnDependencies=!!Je.returnDependencies,this.promoteId=Je.promoteId};function i(Je,Qe,qe){for(var $e=new a.EvaluationParameters(Qe),ct=0,at=Je;ct<at.length;ct+=1)at[ct].recalculate($e,qe)}function r(Je,Qe){var qe=a.getArrayBuffer(Je.request,function($e,ct,at,Re){$e?Qe($e):ct&&Qe(null,{vectorTile:new a.vectorTile.VectorTile(new a.pbf(ct)),rawData:ct,cacheControl:at,expires:Re})});return function(){qe.cancel(),Qe()}}t.prototype.parse=function(Je,Qe,qe,$e,ct){var at=this;this.status="parsing",this.data=Je,this.collisionBoxArray=new a.CollisionBoxArray;var Re=new a.DictionaryCoder(Object.keys(Je.layers).sort()),je=new a.FeatureIndex(this.tileID,this.promoteId);je.bucketLayerIDs=[];var st,ot,xt,mt,bt={},dt={featureIndex:je,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:qe},St=Qe.familiesBySource[this.source];for(var gt in St){var vt=Je.layers[gt];if(vt){vt.version===1&&a.warnOnce('Vector tile source "'+this.source+'" layer "'+gt+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var Mt=Re.encode(gt),Bt=[],Nt=0;Nt<vt.length;Nt++){var qt=vt.feature(Nt),an=je.getId(qt,gt);Bt.push({feature:qt,id:an,index:Nt,sourceLayerIndex:Mt})}for(var Gt=0,Yt=St[gt];Gt<Yt.length;Gt+=1){var en=Yt[Gt],bn=en[0];bn.minzoom&&this.zoom<Math.floor(bn.minzoom)||bn.maxzoom&&this.zoom>=bn.maxzoom||bn.visibility!=="none"&&(i(en,this.zoom,qe),(bt[bn.id]=bn.createBucket({index:je.bucketLayerIDs.length,layers:en,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Mt,sourceID:this.source})).populate(Bt,dt,this.tileID.canonical),je.bucketLayerIDs.push(en.map(function(nn){return nn.id})))}}}var On=a.mapObject(dt.glyphDependencies,function(nn){return Object.keys(nn).map(Number)});Object.keys(On).length?$e.send("getGlyphs",{uid:this.uid,stacks:On},function(nn,hn){st||(st=nn,ot=hn,ln.call(at))}):ot={};var gn=Object.keys(dt.iconDependencies);gn.length?$e.send("getImages",{icons:gn,source:this.source,tileID:this.tileID,type:"icons"},function(nn,hn){st||(st=nn,xt=hn,ln.call(at))}):xt={};var Xt=Object.keys(dt.patternDependencies);function ln(){if(st)return ct(st);if(ot&&xt&&mt){var nn=new s(ot),hn=new a.ImageAtlas(xt,mt);for(var mn in bt){var Mn=bt[mn];Mn instanceof a.SymbolBucket?(i(Mn.layers,this.zoom,qe),a.performSymbolLayout(Mn,ot,nn.positions,xt,hn.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Mn.hasPattern&&(Mn instanceof a.LineBucket||Mn instanceof a.FillBucket||Mn instanceof a.FillExtrusionBucket)&&(i(Mn.layers,this.zoom,qe),Mn.addFeatures(dt,this.tileID.canonical,hn.patternPositions))}this.status="done",ct(null,{buckets:a.values(bt).filter(function(Tn){return!Tn.isEmpty()}),featureIndex:je,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:nn.image,imageAtlas:hn,glyphMap:this.returnDependencies?ot:null,iconMap:this.returnDependencies?xt:null,glyphPositions:this.returnDependencies?nn.positions:null})}}Xt.length?$e.send("getImages",{icons:Xt,source:this.source,tileID:this.tileID,type:"patterns"},function(nn,hn){st||(st=nn,mt=hn,ln.call(at))}):mt={},ln.call(this)};var n=function(Je,Qe,qe,$e){this.actor=Je,this.layerIndex=Qe,this.availableImages=qe,this.loadVectorData=$e||r,this.loading={},this.loaded={}};n.prototype.loadTile=function(Je,Qe){var qe=this,$e=Je.uid;this.loading||(this.loading={});var ct=!!(Je&&Je.request&&Je.request.collectResourceTiming)&&new a.RequestPerformance(Je.request),at=this.loading[$e]=new t(Je);at.abort=this.loadVectorData(Je,function(Re,je){if(delete qe.loading[$e],Re||!je)return at.status="done",qe.loaded[$e]=at,Qe(Re);var st=je.rawData,ot={};je.expires&&(ot.expires=je.expires),je.cacheControl&&(ot.cacheControl=je.cacheControl);var xt={};if(ct){var mt=ct.finish();mt&&(xt.resourceTiming=JSON.parse(JSON.stringify(mt)))}at.vectorTile=je.vectorTile,at.parse(je.vectorTile,qe.layerIndex,qe.availableImages,qe.actor,function(bt,dt){if(bt||!dt)return Qe(bt);Qe(null,a.extend({rawTileData:st.slice(0)},dt,ot,xt))}),qe.loaded=qe.loaded||{},qe.loaded[$e]=at})},n.prototype.reloadTile=function(Je,Qe){var qe=this,$e=this.loaded,ct=Je.uid,at=this;if($e&&$e[ct]){var Re=$e[ct];Re.showCollisionBoxes=Je.showCollisionBoxes;var je=function(st,ot){var xt=Re.reloadCallback;xt&&(delete Re.reloadCallback,Re.parse(Re.vectorTile,at.layerIndex,qe.availableImages,at.actor,xt)),Qe(st,ot)};Re.status==="parsing"?Re.reloadCallback=je:Re.status==="done"&&(Re.vectorTile?Re.parse(Re.vectorTile,this.layerIndex,this.availableImages,this.actor,je):je())}},n.prototype.abortTile=function(Je,Qe){var qe=this.loading,$e=Je.uid;qe&&qe[$e]&&qe[$e].abort&&(qe[$e].abort(),delete qe[$e]),Qe()},n.prototype.removeTile=function(Je,Qe){var qe=this.loaded,$e=Je.uid;qe&&qe[$e]&&delete qe[$e],Qe()};var l=a.window.ImageBitmap,o=function(){this.loaded={}};o.prototype.loadTile=function(Je,Qe){var qe=Je.uid,$e=Je.encoding,ct=Je.rawImageData,at=l&&ct instanceof l?this.getImageData(ct):ct,Re=new a.DEMData(qe,at,$e);this.loaded=this.loaded||{},this.loaded[qe]=Re,Qe(null,Re)},o.prototype.getImageData=function(Je){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(Je.width,Je.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=Je.width,this.offscreenCanvas.height=Je.height,this.offscreenCanvasContext.drawImage(Je,0,0,Je.width,Je.height);var Qe=this.offscreenCanvasContext.getImageData(-1,-1,Je.width+2,Je.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new a.RGBAImage({width:Qe.width,height:Qe.height},Qe.data)},o.prototype.removeTile=function(Je){var Qe=this.loaded,qe=Je.uid;Qe&&Qe[qe]&&delete Qe[qe]};var u=function Je(Qe,qe){var $e,ct=Qe&&Qe.type;if(ct==="FeatureCollection")for($e=0;$e<Qe.features.length;$e++)Je(Qe.features[$e],qe);else if(ct==="GeometryCollection")for($e=0;$e<Qe.geometries.length;$e++)Je(Qe.geometries[$e],qe);else if(ct==="Feature")Je(Qe.geometry,qe);else if(ct==="Polygon")p(Qe.coordinates,qe);else if(ct==="MultiPolygon")for($e=0;$e<Qe.coordinates.length;$e++)p(Qe.coordinates[$e],qe);return Qe};function p(Je,Qe){if(Je.length!==0){c(Je[0],Qe);for(var qe=1;qe<Je.length;qe++)c(Je[qe],!Qe)}}function c(Je,Qe){for(var qe=0,$e=0,ct=Je.length,at=ct-1;$e<ct;at=$e++)qe+=(Je[$e][0]-Je[at][0])*(Je[at][1]+Je[$e][1]);qe>=0!=!!Qe&&Je.reverse()}var b=a.vectorTile.VectorTileFeature.prototype.toGeoJSON,g=function(Je){this._feature=Je,this.extent=a.EXTENT,this.type=Je.type,this.properties=Je.tags,"id"in Je&&!isNaN(Je.id)&&(this.id=parseInt(Je.id,10))};g.prototype.loadGeometry=function(){if(this._feature.type===1){for(var Je=[],Qe=0,qe=this._feature.geometry;Qe<qe.length;Qe+=1){var $e=qe[Qe];Je.push([new a.Point$1($e[0],$e[1])])}return Je}for(var ct=[],at=0,Re=this._feature.geometry;at<Re.length;at+=1){for(var je=[],st=0,ot=Re[at];st<ot.length;st+=1){var xt=ot[st];je.push(new a.Point$1(xt[0],xt[1]))}ct.push(je)}return ct},g.prototype.toGeoJSON=function(Je,Qe,qe){return b.call(this,Je,Qe,qe)};var h=function(Je){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=Je.length,this._features=Je};h.prototype.feature=function(Je){return new g(this._features[Je])};var x=a.vectorTile.VectorTileFeature,v=m;function m(Je,Qe){this.options=Qe||{},this.features=Je,this.length=Je.length}function w(Je,Qe){this.id=typeof Je.id=="number"?Je.id:void 0,this.type=Je.type,this.rawGeometry=Je.type===1?[Je.geometry]:Je.geometry,this.properties=Je.tags,this.extent=Qe||4096}m.prototype.feature=function(Je){return new w(this.features[Je],this.options.extent)},w.prototype.loadGeometry=function(){var Je=this.rawGeometry;this.geometry=[];for(var Qe=0;Qe<Je.length;Qe++){for(var qe=Je[Qe],$e=[],ct=0;ct<qe.length;ct++)$e.push(new a.Point$1(qe[ct][0],qe[ct][1]));this.geometry.push($e)}return this.geometry},w.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Je=this.geometry,Qe=1/0,qe=-1/0,$e=1/0,ct=-1/0,at=0;at<Je.length;at++)for(var Re=Je[at],je=0;je<Re.length;je++){var st=Re[je];Qe=Math.min(Qe,st.x),qe=Math.max(qe,st.x),$e=Math.min($e,st.y),ct=Math.max(ct,st.y)}return[Qe,$e,qe,ct]},w.prototype.toGeoJSON=x.prototype.toGeoJSON;var f=L,S=L,T=function(Je,Qe){Qe=Qe||{};var qe={};for(var $e in Je)qe[$e]=new v(Je[$e].features,Qe),qe[$e].name=$e,qe[$e].version=Qe.version,qe[$e].extent=Qe.extent;return L({layers:qe})},E=v;function L(Je){var Qe=new a.pbf;return function(qe,$e){for(var ct in qe.layers)$e.writeMessage(3,C,qe.layers[ct])}(Je,Qe),Qe.finish()}function C(Je,Qe){var qe;Qe.writeVarintField(15,Je.version||1),Qe.writeStringField(1,Je.name||""),Qe.writeVarintField(5,Je.extent||4096);var $e={keys:[],values:[],keycache:{},valuecache:{}};for(qe=0;qe<Je.length;qe++)$e.feature=Je.feature(qe),Qe.writeMessage(2,P,$e);var ct=$e.keys;for(qe=0;qe<ct.length;qe++)Qe.writeStringField(3,ct[qe]);var at=$e.values;for(qe=0;qe<at.length;qe++)Qe.writeMessage(4,N,at[qe])}function P(Je,Qe){var qe=Je.feature;qe.id!==void 0&&Qe.writeVarintField(1,qe.id),Qe.writeMessage(2,R,Je),Qe.writeVarintField(3,qe.type),Qe.writeMessage(4,H,qe)}function R(Je,Qe){var qe=Je.feature,$e=Je.keys,ct=Je.values,at=Je.keycache,Re=Je.valuecache;for(var je in qe.properties){var st=at[je];st===void 0&&($e.push(je),st=$e.length-1,at[je]=st),Qe.writeVarint(st);var ot=qe.properties[je],xt=typeof ot;xt!=="string"&&xt!=="boolean"&&xt!=="number"&&(ot=JSON.stringify(ot));var mt=xt+":"+ot,bt=Re[mt];bt===void 0&&(ct.push(ot),bt=ct.length-1,Re[mt]=bt),Qe.writeVarint(bt)}}function G(Je,Qe){return(Qe<<3)+(7&Je)}function I(Je){return Je<<1^Je>>31}function H(Je,Qe){for(var qe=Je.loadGeometry(),$e=Je.type,ct=0,at=0,Re=qe.length,je=0;je<Re;je++){var st=qe[je],ot=1;$e===1&&(ot=st.length),Qe.writeVarint(G(1,ot));for(var xt=$e===3?st.length-1:st.length,mt=0;mt<xt;mt++){mt===1&&$e!==1&&Qe.writeVarint(G(2,xt-1));var bt=st[mt].x-ct,dt=st[mt].y-at;Qe.writeVarint(I(bt)),Qe.writeVarint(I(dt)),ct+=bt,at+=dt}$e===3&&Qe.writeVarint(G(7,1))}}function N(Je,Qe){var qe=typeof Je;qe==="string"?Qe.writeStringField(1,Je):qe==="boolean"?Qe.writeBooleanField(7,Je):qe==="number"&&(Je%1!=0?Qe.writeDoubleField(3,Je):Je<0?Qe.writeSVarintField(6,Je):Qe.writeVarintField(5,Je))}function B(Je,Qe,qe,$e,ct,at){if(!(ct-$e<=qe)){var Re=$e+ct>>1;V(Je,Qe,Re,$e,ct,at%2),B(Je,Qe,qe,$e,Re-1,at+1),B(Je,Qe,qe,Re+1,ct,at+1)}}function V(Je,Qe,qe,$e,ct,at){for(;ct>$e;){if(ct-$e>600){var Re=ct-$e+1,je=qe-$e+1,st=Math.log(Re),ot=.5*Math.exp(2*st/3),xt=.5*Math.sqrt(st*ot*(Re-ot)/Re)*(je-Re/2<0?-1:1);V(Je,Qe,qe,Math.max($e,Math.floor(qe-je*ot/Re+xt)),Math.min(ct,Math.floor(qe+(Re-je)*ot/Re+xt)),at)}var mt=Qe[2*qe+at],bt=$e,dt=ct;for(q(Je,Qe,$e,qe),Qe[2*ct+at]>mt&&q(Je,Qe,$e,ct);bt<dt;){for(q(Je,Qe,bt,dt),bt++,dt--;Qe[2*bt+at]<mt;)bt++;for(;Qe[2*dt+at]>mt;)dt--}Qe[2*$e+at]===mt?q(Je,Qe,$e,dt):q(Je,Qe,++dt,ct),dt<=qe&&($e=dt+1),qe<=dt&&(ct=dt-1)}}function q(Je,Qe,qe,$e){te(Je,qe,$e),te(Qe,2*qe,2*$e),te(Qe,2*qe+1,2*$e+1)}function te(Je,Qe,qe){var $e=Je[Qe];Je[Qe]=Je[qe],Je[qe]=$e}function $(Je,Qe,qe,$e){var ct=Je-qe,at=Qe-$e;return ct*ct+at*at}f.fromVectorTileJs=S,f.fromGeojsonVt=T,f.GeoJSONWrapper=E;var K=function(Je){return Je[0]},Z=function(Je){return Je[1]},X=function(Je,Qe,qe,$e,ct){Qe===void 0&&(Qe=K),qe===void 0&&(qe=Z),$e===void 0&&($e=64),ct===void 0&&(ct=Float64Array),this.nodeSize=$e,this.points=Je;for(var at=Je.length<65536?Uint16Array:Uint32Array,Re=this.ids=new at(Je.length),je=this.coords=new ct(2*Je.length),st=0;st<Je.length;st++)Re[st]=st,je[2*st]=Qe(Je[st]),je[2*st+1]=qe(Je[st]);B(Re,je,$e,0,Re.length-1,0)};X.prototype.range=function(Je,Qe,qe,$e){return function(ct,at,Re,je,st,ot,xt){for(var mt,bt,dt=[0,ct.length-1,0],St=[];dt.length;){var gt=dt.pop(),vt=dt.pop(),Mt=dt.pop();if(vt-Mt<=xt)for(var Bt=Mt;Bt<=vt;Bt++)mt=at[2*Bt],bt=at[2*Bt+1],mt>=Re&&mt<=st&&bt>=je&&bt<=ot&&St.push(ct[Bt]);else{var Nt=Math.floor((Mt+vt)/2);mt=at[2*Nt],bt=at[2*Nt+1],mt>=Re&&mt<=st&&bt>=je&&bt<=ot&&St.push(ct[Nt]);var qt=(gt+1)%2;(gt===0?Re<=mt:je<=bt)&&(dt.push(Mt),dt.push(Nt-1),dt.push(qt)),(gt===0?st>=mt:ot>=bt)&&(dt.push(Nt+1),dt.push(vt),dt.push(qt))}}return St}(this.ids,this.coords,Je,Qe,qe,$e,this.nodeSize)},X.prototype.within=function(Je,Qe,qe){return function($e,ct,at,Re,je,st){for(var ot=[0,$e.length-1,0],xt=[],mt=je*je;ot.length;){var bt=ot.pop(),dt=ot.pop(),St=ot.pop();if(dt-St<=st)for(var gt=St;gt<=dt;gt++)$(ct[2*gt],ct[2*gt+1],at,Re)<=mt&&xt.push($e[gt]);else{var vt=Math.floor((St+dt)/2),Mt=ct[2*vt],Bt=ct[2*vt+1];$(Mt,Bt,at,Re)<=mt&&xt.push($e[vt]);var Nt=(bt+1)%2;(bt===0?at-je<=Mt:Re-je<=Bt)&&(ot.push(St),ot.push(vt-1),ot.push(Nt)),(bt===0?at+je>=Mt:Re+je>=Bt)&&(ot.push(vt+1),ot.push(dt),ot.push(Nt))}}return xt}(this.ids,this.coords,Je,Qe,qe,this.nodeSize)};var ee={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(Je){return Je}},ne=function(Je){this.options=me(Object.create(ee),Je),this.trees=new Array(this.options.maxZoom+1)};function re(Je,Qe,qe,$e,ct){return{x:Je,y:Qe,zoom:1/0,id:qe,parentId:-1,numPoints:$e,properties:ct}}function ae(Je,Qe){var qe=Je.geometry.coordinates,$e=qe[0],ct=qe[1];return{x:ge($e),y:we(ct),zoom:1/0,index:Qe,parentId:-1}}function ue(Je){return{type:"Feature",id:Je.id,properties:pe(Je),geometry:{type:"Point",coordinates:[($e=Je.x,360*($e-.5)),(Qe=Je.y,qe=(180-360*Qe)*Math.PI/180,360*Math.atan(Math.exp(qe))/Math.PI-90)]}};var Qe,qe,$e}function pe(Je){var Qe=Je.numPoints,qe=Qe>=1e4?Math.round(Qe/1e3)+"k":Qe>=1e3?Math.round(Qe/100)/10+"k":Qe;return me(me({},Je.properties),{cluster:!0,cluster_id:Je.id,point_count:Qe,point_count_abbreviated:qe})}function ge(Je){return Je/360+.5}function we(Je){var Qe=Math.sin(Je*Math.PI/180),qe=.5-.25*Math.log((1+Qe)/(1-Qe))/Math.PI;return qe<0?0:qe>1?1:qe}function me(Je,Qe){for(var qe in Qe)Je[qe]=Qe[qe];return Je}function ve(Je){return Je.x}function Ie(Je){return Je.y}function Se(Je,Qe,qe,$e){for(var ct,at=$e,Re=qe-Qe>>1,je=qe-Qe,st=Je[Qe],ot=Je[Qe+1],xt=Je[qe],mt=Je[qe+1],bt=Qe+3;bt<qe;bt+=3){var dt=ke(Je[bt],Je[bt+1],st,ot,xt,mt);if(dt>at)ct=bt,at=dt;else if(dt===at){var St=Math.abs(bt-Re);St<je&&(ct=bt,je=St)}}at>$e&&(ct-Qe>3&&Se(Je,Qe,ct,$e),Je[ct+2]=at,qe-ct>3&&Se(Je,ct,qe,$e))}function ke(Je,Qe,qe,$e,ct,at){var Re=ct-qe,je=at-$e;if(Re!==0||je!==0){var st=((Je-qe)*Re+(Qe-$e)*je)/(Re*Re+je*je);st>1?(qe=ct,$e=at):st>0&&(qe+=Re*st,$e+=je*st)}return(Re=Je-qe)*Re+(je=Qe-$e)*je}function se(Je,Qe,qe,$e){var ct={id:Je===void 0?null:Je,type:Qe,geometry:qe,tags:$e,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(at){var Re=at.geometry,je=at.type;if(je==="Point"||je==="MultiPoint"||je==="LineString")oe(at,Re);else if(je==="Polygon"||je==="MultiLineString")for(var st=0;st<Re.length;st++)oe(at,Re[st]);else if(je==="MultiPolygon")for(st=0;st<Re.length;st++)for(var ot=0;ot<Re[st].length;ot++)oe(at,Re[st][ot])}(ct),ct}function oe(Je,Qe){for(var qe=0;qe<Qe.length;qe+=3)Je.minX=Math.min(Je.minX,Qe[qe]),Je.minY=Math.min(Je.minY,Qe[qe+1]),Je.maxX=Math.max(Je.maxX,Qe[qe]),Je.maxY=Math.max(Je.maxY,Qe[qe+1])}function he(Je,Qe,qe,$e){if(Qe.geometry){var ct=Qe.geometry.coordinates,at=Qe.geometry.type,Re=Math.pow(qe.tolerance/((1<<qe.maxZoom)*qe.extent),2),je=[],st=Qe.id;if(qe.promoteId?st=Qe.properties[qe.promoteId]:qe.generateId&&(st=$e||0),at==="Point")Le(ct,je);else if(at==="MultiPoint")for(var ot=0;ot<ct.length;ot++)Le(ct[ot],je);else if(at==="LineString")Me(ct,je,Re,!1);else if(at==="MultiLineString"){if(qe.lineMetrics){for(ot=0;ot<ct.length;ot++)je=[],Me(ct[ot],je,Re,!1),Je.push(se(st,"LineString",je,Qe.properties));return}_e(ct,je,Re,!1)}else if(at==="Polygon")_e(ct,je,Re,!0);else{if(at!=="MultiPolygon"){if(at==="GeometryCollection"){for(ot=0;ot<Qe.geometry.geometries.length;ot++)he(Je,{id:st,geometry:Qe.geometry.geometries[ot],properties:Qe.properties},qe,$e);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ot=0;ot<ct.length;ot++){var xt=[];_e(ct[ot],xt,Re,!0),je.push(xt)}}Je.push(se(st,at,je,Qe.properties))}}function Le(Je,Qe){Qe.push(De(Je[0])),Qe.push(Ne(Je[1])),Qe.push(0)}function Me(Je,Qe,qe,$e){for(var ct,at,Re=0,je=0;je<Je.length;je++){var st=De(Je[je][0]),ot=Ne(Je[je][1]);Qe.push(st),Qe.push(ot),Qe.push(0),je>0&&(Re+=$e?(ct*ot-st*at)/2:Math.sqrt(Math.pow(st-ct,2)+Math.pow(ot-at,2))),ct=st,at=ot}var xt=Qe.length-3;Qe[2]=1,Se(Qe,0,xt,qe),Qe[xt+2]=1,Qe.size=Math.abs(Re),Qe.start=0,Qe.end=Qe.size}function _e(Je,Qe,qe,$e){for(var ct=0;ct<Je.length;ct++){var at=[];Me(Je[ct],at,qe,$e),Qe.push(at)}}function De(Je){return Je/360+.5}function Ne(Je){var Qe=Math.sin(Je*Math.PI/180),qe=.5-.25*Math.log((1+Qe)/(1-Qe))/Math.PI;return qe<0?0:qe>1?1:qe}function ce(Je,Qe,qe,$e,ct,at,Re,je){if($e/=Qe,at>=(qe/=Qe)&&Re<$e)return Je;if(Re<qe||at>=$e)return null;for(var st=[],ot=0;ot<Je.length;ot++){var xt=Je[ot],mt=xt.geometry,bt=xt.type,dt=ct===0?xt.minX:xt.minY,St=ct===0?xt.maxX:xt.maxY;if(dt>=qe&&St<$e)st.push(xt);else if(!(St<qe||dt>=$e)){var gt=[];if(bt==="Point"||bt==="MultiPoint")Te(mt,gt,qe,$e,ct);else if(bt==="LineString")ye(mt,gt,qe,$e,ct,!1,je.lineMetrics);else if(bt==="MultiLineString")Be(mt,gt,qe,$e,ct,!1);else if(bt==="Polygon")Be(mt,gt,qe,$e,ct,!0);else if(bt==="MultiPolygon")for(var vt=0;vt<mt.length;vt++){var Mt=[];Be(mt[vt],Mt,qe,$e,ct,!0),Mt.length&&gt.push(Mt)}if(gt.length){if(je.lineMetrics&&bt==="LineString"){for(vt=0;vt<gt.length;vt++)st.push(se(xt.id,bt,gt[vt],xt.tags));continue}bt!=="LineString"&&bt!=="MultiLineString"||(gt.length===1?(bt="LineString",gt=gt[0]):bt="MultiLineString"),bt!=="Point"&&bt!=="MultiPoint"||(bt=gt.length===3?"Point":"MultiPoint"),st.push(se(xt.id,bt,gt,xt.tags))}}}return st.length?st:null}function Te(Je,Qe,qe,$e,ct){for(var at=0;at<Je.length;at+=3){var Re=Je[at+ct];Re>=qe&&Re<=$e&&(Qe.push(Je[at]),Qe.push(Je[at+1]),Qe.push(Je[at+2]))}}function ye(Je,Qe,qe,$e,ct,at,Re){for(var je,st,ot=Oe(Je),xt=ct===0?Ge:Ze,mt=Je.start,bt=0;bt<Je.length-3;bt+=3){var dt=Je[bt],St=Je[bt+1],gt=Je[bt+2],vt=Je[bt+3],Mt=Je[bt+4],Bt=ct===0?dt:St,Nt=ct===0?vt:Mt,qt=!1;Re&&(je=Math.sqrt(Math.pow(dt-vt,2)+Math.pow(St-Mt,2))),Bt<qe?Nt>qe&&(st=xt(ot,dt,St,vt,Mt,qe),Re&&(ot.start=mt+je*st)):Bt>$e?Nt<$e&&(st=xt(ot,dt,St,vt,Mt,$e),Re&&(ot.start=mt+je*st)):Fe(ot,dt,St,gt),Nt<qe&&Bt>=qe&&(st=xt(ot,dt,St,vt,Mt,qe),qt=!0),Nt>$e&&Bt<=$e&&(st=xt(ot,dt,St,vt,Mt,$e),qt=!0),!at&&qt&&(Re&&(ot.end=mt+je*st),Qe.push(ot),ot=Oe(Je)),Re&&(mt+=je)}var an=Je.length-3;dt=Je[an],St=Je[an+1],gt=Je[an+2],(Bt=ct===0?dt:St)>=qe&&Bt<=$e&&Fe(ot,dt,St,gt),an=ot.length-3,at&&an>=3&&(ot[an]!==ot[0]||ot[an+1]!==ot[1])&&Fe(ot,ot[0],ot[1],ot[2]),ot.length&&Qe.push(ot)}function Oe(Je){var Qe=[];return Qe.size=Je.size,Qe.start=Je.start,Qe.end=Je.end,Qe}function Be(Je,Qe,qe,$e,ct,at){for(var Re=0;Re<Je.length;Re++)ye(Je[Re],Qe,qe,$e,ct,at,!1)}function Fe(Je,Qe,qe,$e){Je.push(Qe),Je.push(qe),Je.push($e)}function Ge(Je,Qe,qe,$e,ct,at){var Re=(at-Qe)/($e-Qe);return Je.push(at),Je.push(qe+(ct-qe)*Re),Je.push(1),Re}function Ze(Je,Qe,qe,$e,ct,at){var Re=(at-qe)/(ct-qe);return Je.push(Qe+($e-Qe)*Re),Je.push(at),Je.push(1),Re}function et(Je,Qe){for(var qe=[],$e=0;$e<Je.length;$e++){var ct,at=Je[$e],Re=at.type;if(Re==="Point"||Re==="MultiPoint"||Re==="LineString")ct=ft(at.geometry,Qe);else if(Re==="MultiLineString"||Re==="Polygon"){ct=[];for(var je=0;je<at.geometry.length;je++)ct.push(ft(at.geometry[je],Qe))}else if(Re==="MultiPolygon")for(ct=[],je=0;je<at.geometry.length;je++){for(var st=[],ot=0;ot<at.geometry[je].length;ot++)st.push(ft(at.geometry[je][ot],Qe));ct.push(st)}qe.push(se(at.id,Re,ct,at.tags))}return qe}function ft(Je,Qe){var qe=[];qe.size=Je.size,Je.start!==void 0&&(qe.start=Je.start,qe.end=Je.end);for(var $e=0;$e<Je.length;$e+=3)qe.push(Je[$e]+Qe,Je[$e+1],Je[$e+2]);return qe}function rt(Je,Qe){if(Je.transformed)return Je;var qe,$e,ct,at=1<<Je.z,Re=Je.x,je=Je.y;for(qe=0;qe<Je.features.length;qe++){var st=Je.features[qe],ot=st.geometry,xt=st.type;if(st.geometry=[],xt===1)for($e=0;$e<ot.length;$e+=2)st.geometry.push(_t(ot[$e],ot[$e+1],Qe,at,Re,je));else for($e=0;$e<ot.length;$e++){var mt=[];for(ct=0;ct<ot[$e].length;ct+=2)mt.push(_t(ot[$e][ct],ot[$e][ct+1],Qe,at,Re,je));st.geometry.push(mt)}}return Je.transformed=!0,Je}function _t(Je,Qe,qe,$e,ct,at){return[Math.round(qe*(Je*$e-ct)),Math.round(qe*(Qe*$e-at))]}function kt(Je,Qe,qe,$e,ct){for(var at=Qe===ct.maxZoom?0:ct.tolerance/((1<<Qe)*ct.extent),Re={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:qe,y:$e,z:Qe,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},je=0;je<Je.length;je++){Re.numFeatures++,wt(Re,Je[je],at,ct);var st=Je[je].minX,ot=Je[je].minY,xt=Je[je].maxX,mt=Je[je].maxY;st<Re.minX&&(Re.minX=st),ot<Re.minY&&(Re.minY=ot),xt>Re.maxX&&(Re.maxX=xt),mt>Re.maxY&&(Re.maxY=mt)}return Re}function wt(Je,Qe,qe,$e){var ct=Qe.geometry,at=Qe.type,Re=[];if(at==="Point"||at==="MultiPoint")for(var je=0;je<ct.length;je+=3)Re.push(ct[je]),Re.push(ct[je+1]),Je.numPoints++,Je.numSimplified++;else if(at==="LineString")lt(Re,ct,Je,qe,!1,!1);else if(at==="MultiLineString"||at==="Polygon")for(je=0;je<ct.length;je++)lt(Re,ct[je],Je,qe,at==="Polygon",je===0);else if(at==="MultiPolygon")for(var st=0;st<ct.length;st++){var ot=ct[st];for(je=0;je<ot.length;je++)lt(Re,ot[je],Je,qe,!0,je===0)}if(Re.length){var xt=Qe.tags||null;if(at==="LineString"&&$e.lineMetrics){for(var mt in xt={},Qe.tags)xt[mt]=Qe.tags[mt];xt.mapbox_clip_start=ct.start/ct.size,xt.mapbox_clip_end=ct.end/ct.size}var bt={geometry:Re,type:at==="Polygon"||at==="MultiPolygon"?3:at==="LineString"||at==="MultiLineString"?2:1,tags:xt};Qe.id!==null&&(bt.id=Qe.id),Je.features.push(bt)}}function lt(Je,Qe,qe,$e,ct,at){var Re=$e*$e;if($e>0&&Qe.size<(ct?Re:$e))qe.numPoints+=Qe.length/3;else{for(var je=[],st=0;st<Qe.length;st+=3)($e===0||Qe[st+2]>Re)&&(qe.numSimplified++,je.push(Qe[st]),je.push(Qe[st+1])),qe.numPoints++;ct&&function(ot,xt){for(var mt=0,bt=0,dt=ot.length,St=dt-2;bt<dt;St=bt,bt+=2)mt+=(ot[bt]-ot[St])*(ot[bt+1]+ot[St+1]);if(mt>0===xt)for(bt=0,dt=ot.length;bt<dt/2;bt+=2){var gt=ot[bt],vt=ot[bt+1];ot[bt]=ot[dt-2-bt],ot[bt+1]=ot[dt-1-bt],ot[dt-2-bt]=gt,ot[dt-1-bt]=vt}}(je,at),Je.push(je)}}function ut(Je,Qe){var qe=(Qe=this.options=function(ct,at){for(var Re in at)ct[Re]=at[Re];return ct}(Object.create(this.options),Qe)).debug;if(qe&&console.time("preprocess data"),Qe.maxZoom<0||Qe.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(Qe.promoteId&&Qe.generateId)throw new Error("promoteId and generateId cannot be used together.");var $e=function(ct,at){var Re=[];if(ct.type==="FeatureCollection")for(var je=0;je<ct.features.length;je++)he(Re,ct.features[je],at,je);else ct.type==="Feature"?he(Re,ct,at):he(Re,{geometry:ct},at);return Re}(Je,Qe);this.tiles={},this.tileCoords=[],qe&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",Qe.indexMaxZoom,Qe.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),($e=function(ct,at){var Re=at.buffer/at.extent,je=ct,st=ce(ct,1,-1-Re,Re,0,-1,2,at),ot=ce(ct,1,1-Re,2+Re,0,-1,2,at);return(st||ot)&&(je=ce(ct,1,-Re,1+Re,0,-1,2,at)||[],st&&(je=et(st,1).concat(je)),ot&&(je=je.concat(et(ot,-1)))),je}($e,Qe)).length&&this.splitTile($e,0,0,0),qe&&($e.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Et(Je,Qe,qe){return 32*((1<<Je)*qe+Qe)+Je}function Ot(Je,Qe){var qe=Je.tileID.canonical;if(!this._geoJSONIndex)return Qe(null,null);var $e=this._geoJSONIndex.getTile(qe.z,qe.x,qe.y);if(!$e)return Qe(null,null);var ct=new h($e.features),at=f(ct);at.byteOffset===0&&at.byteLength===at.buffer.byteLength||(at=new Uint8Array(at)),Qe(null,{vectorTile:ct,rawData:at.buffer})}ne.prototype.load=function(Je){var Qe=this.options,qe=Qe.log,$e=Qe.minZoom,ct=Qe.maxZoom,at=Qe.nodeSize;qe&&console.time("total time");var Re="prepare "+Je.length+" points";qe&&console.time(Re),this.points=Je;for(var je=[],st=0;st<Je.length;st++)Je[st].geometry&&je.push(ae(Je[st],st));this.trees[ct+1]=new X(je,ve,Ie,at,Float32Array),qe&&console.timeEnd(Re);for(var ot=ct;ot>=$e;ot--){var xt=+Date.now();je=this._cluster(je,ot),this.trees[ot]=new X(je,ve,Ie,at,Float32Array),qe&&console.log("z%d: %d clusters in %dms",ot,je.length,+Date.now()-xt)}return qe&&console.timeEnd("total time"),this},ne.prototype.getClusters=function(Je,Qe){var qe=((Je[0]+180)%360+360)%360-180,$e=Math.max(-90,Math.min(90,Je[1])),ct=Je[2]===180?180:((Je[2]+180)%360+360)%360-180,at=Math.max(-90,Math.min(90,Je[3]));if(Je[2]-Je[0]>=360)qe=-180,ct=180;else if(qe>ct){var Re=this.getClusters([qe,$e,180,at],Qe),je=this.getClusters([-180,$e,ct,at],Qe);return Re.concat(je)}for(var st=this.trees[this._limitZoom(Qe)],ot=[],xt=0,mt=st.range(ge(qe),we(at),ge(ct),we($e));xt<mt.length;xt+=1){var bt=mt[xt],dt=st.points[bt];ot.push(dt.numPoints?ue(dt):this.points[dt.index])}return ot},ne.prototype.getChildren=function(Je){var Qe=this._getOriginId(Je),qe=this._getOriginZoom(Je),$e="No cluster with the specified id.",ct=this.trees[qe];if(!ct)throw new Error($e);var at=ct.points[Qe];if(!at)throw new Error($e);for(var Re=this.options.radius/(this.options.extent*Math.pow(2,qe-1)),je=[],st=0,ot=ct.within(at.x,at.y,Re);st<ot.length;st+=1){var xt=ot[st],mt=ct.points[xt];mt.parentId===Je&&je.push(mt.numPoints?ue(mt):this.points[mt.index])}if(je.length===0)throw new Error($e);return je},ne.prototype.getLeaves=function(Je,Qe,qe){Qe=Qe||10,qe=qe||0;var $e=[];return this._appendLeaves($e,Je,Qe,qe,0),$e},ne.prototype.getTile=function(Je,Qe,qe){var $e=this.trees[this._limitZoom(Je)],ct=Math.pow(2,Je),at=this.options,Re=at.extent,je=at.radius/Re,st=(qe-je)/ct,ot=(qe+1+je)/ct,xt={features:[]};return this._addTileFeatures($e.range((Qe-je)/ct,st,(Qe+1+je)/ct,ot),$e.points,Qe,qe,ct,xt),Qe===0&&this._addTileFeatures($e.range(1-je/ct,st,1,ot),$e.points,ct,qe,ct,xt),Qe===ct-1&&this._addTileFeatures($e.range(0,st,je/ct,ot),$e.points,-1,qe,ct,xt),xt.features.length?xt:null},ne.prototype.getClusterExpansionZoom=function(Je){for(var Qe=this._getOriginZoom(Je)-1;Qe<=this.options.maxZoom;){var qe=this.getChildren(Je);if(Qe++,qe.length!==1)break;Je=qe[0].properties.cluster_id}return Qe},ne.prototype._appendLeaves=function(Je,Qe,qe,$e,ct){for(var at=0,Re=this.getChildren(Qe);at<Re.length;at+=1){var je=Re[at],st=je.properties;if(st&&st.cluster?ct+st.point_count<=$e?ct+=st.point_count:ct=this._appendLeaves(Je,st.cluster_id,qe,$e,ct):ct<$e?ct++:Je.push(je),Je.length===qe)break}return ct},ne.prototype._addTileFeatures=function(Je,Qe,qe,$e,ct,at){for(var Re=0,je=Je;Re<je.length;Re+=1){var st=Qe[je[Re]],ot=st.numPoints,xt={type:1,geometry:[[Math.round(this.options.extent*(st.x*ct-qe)),Math.round(this.options.extent*(st.y*ct-$e))]],tags:ot?pe(st):this.points[st.index].properties},mt=void 0;ot?mt=st.id:this.options.generateId?mt=st.index:this.points[st.index].id&&(mt=this.points[st.index].id),mt!==void 0&&(xt.id=mt),at.features.push(xt)}},ne.prototype._limitZoom=function(Je){return Math.max(this.options.minZoom,Math.min(Je,this.options.maxZoom+1))},ne.prototype._cluster=function(Je,Qe){for(var qe=[],$e=this.options,ct=$e.radius,at=$e.extent,Re=$e.reduce,je=ct/(at*Math.pow(2,Qe)),st=0;st<Je.length;st++){var ot=Je[st];if(!(ot.zoom<=Qe)){ot.zoom=Qe;for(var xt=this.trees[Qe+1],mt=xt.within(ot.x,ot.y,je),bt=ot.numPoints||1,dt=ot.x*bt,St=ot.y*bt,gt=Re&&bt>1?this._map(ot,!0):null,vt=(st<<5)+(Qe+1)+this.points.length,Mt=0,Bt=mt;Mt<Bt.length;Mt+=1){var Nt=Bt[Mt],qt=xt.points[Nt];if(!(qt.zoom<=Qe)){qt.zoom=Qe;var an=qt.numPoints||1;dt+=qt.x*an,St+=qt.y*an,bt+=an,qt.parentId=vt,Re&&(gt||(gt=this._map(ot,!0)),Re(gt,this._map(qt)))}}bt===1?qe.push(ot):(ot.parentId=vt,qe.push(re(dt/bt,St/bt,vt,bt,gt)))}}return qe},ne.prototype._getOriginId=function(Je){return Je-this.points.length>>5},ne.prototype._getOriginZoom=function(Je){return(Je-this.points.length)%32},ne.prototype._map=function(Je,Qe){if(Je.numPoints)return Qe?me({},Je.properties):Je.properties;var qe=this.points[Je.index].properties,$e=this.options.map(qe);return Qe&&$e===qe?me({},$e):$e},ut.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},ut.prototype.splitTile=function(Je,Qe,qe,$e,ct,at,Re){for(var je=[Je,Qe,qe,$e],st=this.options,ot=st.debug;je.length;){$e=je.pop(),qe=je.pop(),Qe=je.pop(),Je=je.pop();var xt=1<<Qe,mt=Et(Qe,qe,$e),bt=this.tiles[mt];if(!bt&&(ot>1&&console.time("creation"),bt=this.tiles[mt]=kt(Je,Qe,qe,$e,st),this.tileCoords.push({z:Qe,x:qe,y:$e}),ot)){ot>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",Qe,qe,$e,bt.numFeatures,bt.numPoints,bt.numSimplified),console.timeEnd("creation"));var dt="z"+Qe;this.stats[dt]=(this.stats[dt]||0)+1,this.total++}if(bt.source=Je,ct){if(Qe===st.maxZoom||Qe===ct)continue;var St=1<<ct-Qe;if(qe!==Math.floor(at/St)||$e!==Math.floor(Re/St))continue}else if(Qe===st.indexMaxZoom||bt.numPoints<=st.indexMaxPoints)continue;if(bt.source=null,Je.length!==0){ot>1&&console.time("clipping");var gt,vt,Mt,Bt,Nt,qt,an=.5*st.buffer/st.extent,Gt=.5-an,Yt=.5+an,en=1+an;gt=vt=Mt=Bt=null,Nt=ce(Je,xt,qe-an,qe+Yt,0,bt.minX,bt.maxX,st),qt=ce(Je,xt,qe+Gt,qe+en,0,bt.minX,bt.maxX,st),Je=null,Nt&&(gt=ce(Nt,xt,$e-an,$e+Yt,1,bt.minY,bt.maxY,st),vt=ce(Nt,xt,$e+Gt,$e+en,1,bt.minY,bt.maxY,st),Nt=null),qt&&(Mt=ce(qt,xt,$e-an,$e+Yt,1,bt.minY,bt.maxY,st),Bt=ce(qt,xt,$e+Gt,$e+en,1,bt.minY,bt.maxY,st),qt=null),ot>1&&console.timeEnd("clipping"),je.push(gt||[],Qe+1,2*qe,2*$e),je.push(vt||[],Qe+1,2*qe,2*$e+1),je.push(Mt||[],Qe+1,2*qe+1,2*$e),je.push(Bt||[],Qe+1,2*qe+1,2*$e+1)}}},ut.prototype.getTile=function(Je,Qe,qe){var $e=this.options,ct=$e.extent,at=$e.debug;if(Je<0||Je>24)return null;var Re=1<<Je,je=Et(Je,Qe=(Qe%Re+Re)%Re,qe);if(this.tiles[je])return rt(this.tiles[je],ct);at>1&&console.log("drilling down to z%d-%d-%d",Je,Qe,qe);for(var st,ot=Je,xt=Qe,mt=qe;!st&&ot>0;)ot--,xt=Math.floor(xt/2),mt=Math.floor(mt/2),st=this.tiles[Et(ot,xt,mt)];return st&&st.source?(at>1&&console.log("found parent tile z%d-%d-%d",ot,xt,mt),at>1&&console.time("drilling down"),this.splitTile(st.source,ot,xt,mt,Je,Qe,qe),at>1&&console.timeEnd("drilling down"),this.tiles[je]?rt(this.tiles[je],ct):null):null};var zt=function(Je){function Qe(qe,$e,ct,at){Je.call(this,qe,$e,ct,Ot),at&&(this.loadGeoJSON=at)}return Je&&(Qe.__proto__=Je),Qe.prototype=Object.create(Je&&Je.prototype),Qe.prototype.constructor=Qe,Qe.prototype.loadData=function(qe,$e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=$e,this._pendingLoadDataParams=qe,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},Qe.prototype._loadData=function(){var qe=this;if(this._pendingCallback&&this._pendingLoadDataParams){var $e=this._pendingCallback,ct=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var at=!!(ct&&ct.request&&ct.request.collectResourceTiming)&&new a.RequestPerformance(ct.request);this.loadGeoJSON(ct,function(Re,je){if(Re||!je)return $e(Re);if(typeof je!="object")return $e(new Error("Input data given to '"+ct.source+"' is not a valid GeoJSON object."));u(je,!0);try{qe._geoJSONIndex=ct.cluster?new ne(function(xt){var mt=xt.superclusterOptions,bt=xt.clusterProperties;if(!bt||!mt)return mt;for(var dt={},St={},gt={accumulated:null,zoom:0},vt={properties:null},Mt=Object.keys(bt),Bt=0,Nt=Mt;Bt<Nt.length;Bt+=1){var qt=Nt[Bt],an=bt[qt],Gt=an[0],Yt=an[1],en=a.createExpression(Yt),bn=a.createExpression(typeof Gt=="string"?[Gt,["accumulated"],["get",qt]]:Gt);dt[qt]=en.value,St[qt]=bn.value}return mt.map=function(On){vt.properties=On;for(var gn={},Xt=0,ln=Mt;Xt<ln.length;Xt+=1){var nn=ln[Xt];gn[nn]=dt[nn].evaluate(gt,vt)}return gn},mt.reduce=function(On,gn){vt.properties=gn;for(var Xt=0,ln=Mt;Xt<ln.length;Xt+=1){var nn=ln[Xt];gt.accumulated=On[nn],On[nn]=St[nn].evaluate(gt,vt)}},mt}(ct)).load(je.features):function(xt,mt){return new ut(xt,mt)}(je,ct.geojsonVtOptions)}catch(xt){return $e(xt)}qe.loaded={};var st={};if(at){var ot=at.finish();ot&&(st.resourceTiming={},st.resourceTiming[ct.source]=JSON.parse(JSON.stringify(ot)))}$e(null,st)})}},Qe.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},Qe.prototype.reloadTile=function(qe,$e){var ct=this.loaded,at=qe.uid;return ct&&ct[at]?Je.prototype.reloadTile.call(this,qe,$e):this.loadTile(qe,$e)},Qe.prototype.loadGeoJSON=function(qe,$e){if(qe.request)a.getJSON(qe.request,$e);else{if(typeof qe.data!="string")return $e(new Error("Input data given to '"+qe.source+"' is not a valid GeoJSON object."));try{return $e(null,JSON.parse(qe.data))}catch{return $e(new Error("Input data given to '"+qe.source+"' is not a valid GeoJSON object."))}}},Qe.prototype.removeSource=function(qe,$e){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),$e()},Qe.prototype.getClusterExpansionZoom=function(qe,$e){try{$e(null,this._geoJSONIndex.getClusterExpansionZoom(qe.clusterId))}catch(ct){$e(ct)}},Qe.prototype.getClusterChildren=function(qe,$e){try{$e(null,this._geoJSONIndex.getChildren(qe.clusterId))}catch(ct){$e(ct)}},Qe.prototype.getClusterLeaves=function(qe,$e){try{$e(null,this._geoJSONIndex.getLeaves(qe.clusterId,qe.limit,qe.offset))}catch(ct){$e(ct)}},Qe}(n),Lt=function(Je){var Qe=this;this.self=Je,this.actor=new a.Actor(Je,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:n,geojson:zt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(qe,$e){if(Qe.workerSourceTypes[qe])throw new Error('Worker source with name "'+qe+'" already registered.');Qe.workerSourceTypes[qe]=$e},this.self.registerRTLTextPlugin=function(qe){if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=qe.applyArabicShaping,a.plugin.processBidirectionalText=qe.processBidirectionalText,a.plugin.processStyledBidirectionalText=qe.processStyledBidirectionalText}};return Lt.prototype.setReferrer=function(Je,Qe){this.referrer=Qe},Lt.prototype.setImages=function(Je,Qe,qe){for(var $e in this.availableImages[Je]=Qe,this.workerSources[Je]){var ct=this.workerSources[Je][$e];for(var at in ct)ct[at].availableImages=Qe}qe()},Lt.prototype.setLayers=function(Je,Qe,qe){this.getLayerIndex(Je).replace(Qe),qe()},Lt.prototype.updateLayers=function(Je,Qe,qe){this.getLayerIndex(Je).update(Qe.layers,Qe.removedIds),qe()},Lt.prototype.loadTile=function(Je,Qe,qe){this.getWorkerSource(Je,Qe.type,Qe.source).loadTile(Qe,qe)},Lt.prototype.loadDEMTile=function(Je,Qe,qe){this.getDEMWorkerSource(Je,Qe.source).loadTile(Qe,qe)},Lt.prototype.reloadTile=function(Je,Qe,qe){this.getWorkerSource(Je,Qe.type,Qe.source).reloadTile(Qe,qe)},Lt.prototype.abortTile=function(Je,Qe,qe){this.getWorkerSource(Je,Qe.type,Qe.source).abortTile(Qe,qe)},Lt.prototype.removeTile=function(Je,Qe,qe){this.getWorkerSource(Je,Qe.type,Qe.source).removeTile(Qe,qe)},Lt.prototype.removeDEMTile=function(Je,Qe){this.getDEMWorkerSource(Je,Qe.source).removeTile(Qe)},Lt.prototype.removeSource=function(Je,Qe,qe){if(this.workerSources[Je]&&this.workerSources[Je][Qe.type]&&this.workerSources[Je][Qe.type][Qe.source]){var $e=this.workerSources[Je][Qe.type][Qe.source];delete this.workerSources[Je][Qe.type][Qe.source],$e.removeSource!==void 0?$e.removeSource(Qe,qe):qe()}},Lt.prototype.loadWorkerSource=function(Je,Qe,qe){try{this.self.importScripts(Qe.url),qe()}catch($e){qe($e.toString())}},Lt.prototype.syncRTLPluginState=function(Je,Qe,qe){try{a.plugin.setState(Qe);var $e=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&$e!=null){this.self.importScripts($e);var ct=a.plugin.isParsed();qe(ct?void 0:new Error("RTL Text Plugin failed to import scripts from "+$e),ct)}}catch(at){qe(at.toString())}},Lt.prototype.getAvailableImages=function(Je){var Qe=this.availableImages[Je];return Qe||(Qe=[]),Qe},Lt.prototype.getLayerIndex=function(Je){var Qe=this.layerIndexes[Je];return Qe||(Qe=this.layerIndexes[Je]=new d),Qe},Lt.prototype.getWorkerSource=function(Je,Qe,qe){var $e=this;if(this.workerSources[Je]||(this.workerSources[Je]={}),this.workerSources[Je][Qe]||(this.workerSources[Je][Qe]={}),!this.workerSources[Je][Qe][qe]){var ct={send:function(at,Re,je){$e.actor.send(at,Re,je,Je)}};this.workerSources[Je][Qe][qe]=new this.workerSourceTypes[Qe](ct,this.getLayerIndex(Je),this.getAvailableImages(Je))}return this.workerSources[Je][Qe][qe]},Lt.prototype.getDEMWorkerSource=function(Je,Qe){return this.demWorkerSources[Je]||(this.demWorkerSources[Je]={}),this.demWorkerSources[Je][Qe]||(this.demWorkerSources[Je][Qe]=new o),this.demWorkerSources[Je][Qe]},Lt.prototype.enforceCacheSizeLimit=function(Je,Qe){a.enforceCacheSizeLimit(Qe)},typeof WorkerGlobalScope<"u"&&a.window!==void 0&&a.window instanceof WorkerGlobalScope&&(a.window.worker=new Lt(a.window)),Lt}),k(0,function(a){var _=a.createCommonjsModule(function(z){function U(fe){return!j(fe)}function j(fe){return typeof window<"u"&&typeof document<"u"?Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var F,Q,ie=new Blob([""],{type:"text/javascript"}),de=URL.createObjectURL(ie);try{Q=new Worker(de),F=!0}catch{F=!1}return Q&&Q.terminate(),URL.revokeObjectURL(de),F}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var F=document.createElement("canvas");F.width=F.height=1;var Q=F.getContext("2d");if(!Q)return!1;var ie=Q.getImageData(0,0,1,1);return ie&&ie.width===F.width}()?(Ae=fe&&fe.failIfMajorPerformanceCaveat,J[Ae]===void 0&&(J[Ae]=function(F){var Q=function(de){var xe=document.createElement("canvas"),Ce=Object.create(U.webGLContextAttributes);return Ce.failIfMajorPerformanceCaveat=de,xe.probablySupportsContext?xe.probablySupportsContext("webgl",Ce)||xe.probablySupportsContext("experimental-webgl",Ce):xe.supportsContext?xe.supportsContext("webgl",Ce)||xe.supportsContext("experimental-webgl",Ce):xe.getContext("webgl",Ce)||xe.getContext("experimental-webgl",Ce)}(F);if(!Q)return!1;var ie=Q.createShader(Q.VERTEX_SHADER);return!(!ie||Q.isContextLost())&&(Q.shaderSource(ie,"void main() {}"),Q.compileShader(ie),Q.getShaderParameter(ie,Q.COMPILE_STATUS)===!0)}(Ae)),J[Ae]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support":"not a browser";var Ae}z.exports?z.exports=U:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=U,window.mapboxgl.notSupportedReason=j);var J={};U.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),y={create:function(z,U,j){var J=a.window.document.createElement(z);return U!==void 0&&(J.className=U),j&&j.appendChild(J),J},createNS:function(z,U){return a.window.document.createElementNS(z,U)}},d=a.window.document.documentElement.style;function s(z){if(!d)return z[0];for(var U=0;U<z.length;U++)if(z[U]in d)return z[U];return z[0]}var t,i=s(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);y.disableDrag=function(){d&&i&&(t=d[i],d[i]="none")},y.enableDrag=function(){d&&i&&(d[i]=t)};var r=s(["transform","WebkitTransform"]);y.setTransform=function(z,U){z.style[r]=U};var n=!1;try{var l=Object.defineProperty({},"passive",{get:function(){n=!0}});a.window.addEventListener("test",l,l),a.window.removeEventListener("test",l,l)}catch{n=!1}y.addEventListener=function(z,U,j,J){J===void 0&&(J={}),"passive"in J&&n?z.addEventListener(U,j,J):z.addEventListener(U,j,J.capture)},y.removeEventListener=function(z,U,j,J){J===void 0&&(J={}),"passive"in J&&n?z.removeEventListener(U,j,J):z.removeEventListener(U,j,J.capture)};var o=function(z){z.preventDefault(),z.stopPropagation(),a.window.removeEventListener("click",o,!0)};function u(z){var U=z.userImage;return!!(U&&U.render&&U.render())&&(z.data.replace(new Uint8Array(U.data.buffer)),!0)}y.suppressClick=function(){a.window.addEventListener("click",o,!0),a.window.setTimeout(function(){a.window.removeEventListener("click",o,!0)},0)},y.mousePos=function(z,U){var j=z.getBoundingClientRect();return new a.Point(U.clientX-j.left-z.clientLeft,U.clientY-j.top-z.clientTop)},y.touchPos=function(z,U){for(var j=z.getBoundingClientRect(),J=[],fe=0;fe<U.length;fe++)J.push(new a.Point(U[fe].clientX-j.left-z.clientLeft,U[fe].clientY-j.top-z.clientTop));return J},y.mouseButton=function(z){return a.window.InstallTrigger!==void 0&&z.button===2&&z.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:z.button},y.remove=function(z){z.parentNode&&z.parentNode.removeChild(z)};var p=function(z){function U(){z.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.isLoaded=function(){return this.loaded},U.prototype.setLoaded=function(j){if(this.loaded!==j&&(this.loaded=j,j)){for(var J=0,fe=this.requestors;J<fe.length;J+=1){var Ae=fe[J],F=Ae.ids,Q=Ae.callback;this._notify(F,Q)}this.requestors=[]}},U.prototype.getImage=function(j){return this.images[j]},U.prototype.addImage=function(j,J){this._validate(j,J)&&(this.images[j]=J)},U.prototype._validate=function(j,J){var fe=!0;return this._validateStretch(J.stretchX,J.data&&J.data.width)||(this.fire(new a.ErrorEvent(new Error('Image "'+j+'" has invalid "stretchX" value'))),fe=!1),this._validateStretch(J.stretchY,J.data&&J.data.height)||(this.fire(new a.ErrorEvent(new Error('Image "'+j+'" has invalid "stretchY" value'))),fe=!1),this._validateContent(J.content,J)||(this.fire(new a.ErrorEvent(new Error('Image "'+j+'" has invalid "content" value'))),fe=!1),fe},U.prototype._validateStretch=function(j,J){if(!j)return!0;for(var fe=0,Ae=0,F=j;Ae<F.length;Ae+=1){var Q=F[Ae];if(Q[0]<fe||Q[1]<Q[0]||J<Q[1])return!1;fe=Q[1]}return!0},U.prototype._validateContent=function(j,J){return!(j&&(j.length!==4||j[0]<0||J.data.width<j[0]||j[1]<0||J.data.height<j[1]||j[2]<0||J.data.width<j[2]||j[3]<0||J.data.height<j[3]||j[2]<j[0]||j[3]<j[1]))},U.prototype.updateImage=function(j,J){var fe=this.images[j];J.version=fe.version+1,this.images[j]=J,this.updatedImages[j]=!0},U.prototype.removeImage=function(j){var J=this.images[j];delete this.images[j],delete this.patterns[j],J.userImage&&J.userImage.onRemove&&J.userImage.onRemove()},U.prototype.listImages=function(){return Object.keys(this.images)},U.prototype.getImages=function(j,J){var fe=!0;if(!this.isLoaded())for(var Ae=0,F=j;Ae<F.length;Ae+=1){var Q=F[Ae];this.images[Q]||(fe=!1)}this.isLoaded()||fe?this._notify(j,J):this.requestors.push({ids:j,callback:J})},U.prototype._notify=function(j,J){for(var fe={},Ae=0,F=j;Ae<F.length;Ae+=1){var Q=F[Ae];this.images[Q]||this.fire(new a.Event("styleimagemissing",{id:Q}));var ie=this.images[Q];ie?fe[Q]={data:ie.data.clone(),pixelRatio:ie.pixelRatio,sdf:ie.sdf,version:ie.version,stretchX:ie.stretchX,stretchY:ie.stretchY,content:ie.content,hasRenderCallback:!!(ie.userImage&&ie.userImage.render)}:a.warnOnce('Image "'+Q+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}J(null,fe)},U.prototype.getPixelSize=function(){var j=this.atlasImage;return{width:j.width,height:j.height}},U.prototype.getPattern=function(j){var J=this.patterns[j],fe=this.getImage(j);if(!fe)return null;if(J&&J.position.version===fe.version)return J.position;if(J)J.position.version=fe.version;else{var Ae={w:fe.data.width+2,h:fe.data.height+2,x:0,y:0},F=new a.ImagePosition(Ae,fe);this.patterns[j]={bin:Ae,position:F}}return this._updatePatternAtlas(),this.patterns[j].position},U.prototype.bind=function(j){var J=j.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(j,this.atlasImage,J.RGBA),this.atlasTexture.bind(J.LINEAR,J.CLAMP_TO_EDGE)},U.prototype._updatePatternAtlas=function(){var j=[];for(var J in this.patterns)j.push(this.patterns[J].bin);var fe=a.potpack(j),Ae=fe.w,F=fe.h,Q=this.atlasImage;for(var ie in Q.resize({width:Ae||1,height:F||1}),this.patterns){var de=this.patterns[ie].bin,xe=de.x+1,Ce=de.y+1,Ue=this.images[ie].data,He=Ue.width,We=Ue.height;a.RGBAImage.copy(Ue,Q,{x:0,y:0},{x:xe,y:Ce},{width:He,height:We}),a.RGBAImage.copy(Ue,Q,{x:0,y:We-1},{x:xe,y:Ce-1},{width:He,height:1}),a.RGBAImage.copy(Ue,Q,{x:0,y:0},{x:xe,y:Ce+We},{width:He,height:1}),a.RGBAImage.copy(Ue,Q,{x:He-1,y:0},{x:xe-1,y:Ce},{width:1,height:We}),a.RGBAImage.copy(Ue,Q,{x:0,y:0},{x:xe+He,y:Ce},{width:1,height:We})}this.dirty=!0},U.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},U.prototype.dispatchRenderCallbacks=function(j){for(var J=0,fe=j;J<fe.length;J+=1){var Ae=fe[J];if(!this.callbackDispatchedThisFrame[Ae]){this.callbackDispatchedThisFrame[Ae]=!0;var F=this.images[Ae];u(F)&&this.updateImage(Ae,F)}}},U}(a.Evented),c=h,b=h,g=1e20;function h(z,U,j,J,fe,Ae){this.fontSize=z||24,this.buffer=U===void 0?3:U,this.cutoff=J||.25,this.fontFamily=fe||"sans-serif",this.fontWeight=Ae||"normal",this.radius=j||8;var F=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=F,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(F*F),this.gridInner=new Float64Array(F*F),this.f=new Float64Array(F),this.d=new Float64Array(F),this.z=new Float64Array(F+1),this.v=new Int16Array(F),this.middle=Math.round(F/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function x(z,U,j,J,fe,Ae,F){for(var Q=0;Q<U;Q++){for(var ie=0;ie<j;ie++)J[ie]=z[ie*U+Q];for(v(J,fe,Ae,F,j),ie=0;ie<j;ie++)z[ie*U+Q]=fe[ie]}for(ie=0;ie<j;ie++){for(Q=0;Q<U;Q++)J[Q]=z[ie*U+Q];for(v(J,fe,Ae,F,U),Q=0;Q<U;Q++)z[ie*U+Q]=Math.sqrt(fe[Q])}}function v(z,U,j,J,fe){j[0]=0,J[0]=-g,J[1]=+g;for(var Ae=1,F=0;Ae<fe;Ae++){for(var Q=(z[Ae]+Ae*Ae-(z[j[F]]+j[F]*j[F]))/(2*Ae-2*j[F]);Q<=J[F];)F--,Q=(z[Ae]+Ae*Ae-(z[j[F]]+j[F]*j[F]))/(2*Ae-2*j[F]);j[++F]=Ae,J[F]=Q,J[F+1]=+g}for(Ae=0,F=0;Ae<fe;Ae++){for(;J[F+1]<Ae;)F++;U[Ae]=(Ae-j[F])*(Ae-j[F])+z[j[F]]}}h.prototype.draw=function(z){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(z,this.buffer,this.middle);for(var U=this.ctx.getImageData(0,0,this.size,this.size),j=new Uint8ClampedArray(this.size*this.size),J=0;J<this.size*this.size;J++){var fe=U.data[4*J+3]/255;this.gridOuter[J]=fe===1?0:fe===0?g:Math.pow(Math.max(0,.5-fe),2),this.gridInner[J]=fe===1?g:fe===0?0:Math.pow(Math.max(0,fe-.5),2)}for(x(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),x(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),J=0;J<this.size*this.size;J++){var Ae=this.gridOuter[J]-this.gridInner[J];j[J]=Math.max(0,Math.min(255,Math.round(255-255*(Ae/this.radius+this.cutoff))))}return j},c.default=b;var m=function(z,U){this.requestManager=z,this.localIdeographFontFamily=U,this.entries={}};m.prototype.setURL=function(z){this.url=z},m.prototype.getGlyphs=function(z,U){var j=this,J=[];for(var fe in z)for(var Ae=0,F=z[fe];Ae<F.length;Ae+=1){var Q=F[Ae];J.push({stack:fe,id:Q})}a.asyncAll(J,function(ie,de){var xe=ie.stack,Ce=ie.id,Ue=j.entries[xe];Ue||(Ue=j.entries[xe]={glyphs:{},requests:{},ranges:{}});var He=Ue.glyphs[Ce];if(He===void 0){if(He=j._tinySDF(Ue,xe,Ce))return Ue.glyphs[Ce]=He,void de(null,{stack:xe,id:Ce,glyph:He});var We=Math.floor(Ce/256);if(256*We>65535)de(new Error("glyphs > 65535 not supported"));else if(Ue.ranges[We])de(null,{stack:xe,id:Ce,glyph:He});else{var Ke=Ue.requests[We];Ke||(Ke=Ue.requests[We]=[],m.loadGlyphRange(xe,We,j.url,j.requestManager,function(nt,pt){if(pt){for(var yt in pt)j._doesCharSupportLocalGlyph(+yt)||(Ue.glyphs[+yt]=pt[+yt]);Ue.ranges[We]=!0}for(var It=0,Rt=Ke;It<Rt.length;It+=1)(0,Rt[It])(nt,pt);delete Ue.requests[We]})),Ke.push(function(nt,pt){nt?de(nt):pt&&de(null,{stack:xe,id:Ce,glyph:pt[Ce]||null})})}}else de(null,{stack:xe,id:Ce,glyph:He})},function(ie,de){if(ie)U(ie);else if(de){for(var xe={},Ce=0,Ue=de;Ce<Ue.length;Ce+=1){var He=Ue[Ce],We=He.stack,Ke=He.id,nt=He.glyph;(xe[We]||(xe[We]={}))[Ke]=nt&&{id:nt.id,bitmap:nt.bitmap.clone(),metrics:nt.metrics}}U(null,xe)}})},m.prototype._doesCharSupportLocalGlyph=function(z){return!!this.localIdeographFontFamily&&(a.isChar["CJK Unified Ideographs"](z)||a.isChar["Hangul Syllables"](z)||a.isChar.Hiragana(z)||a.isChar.Katakana(z))},m.prototype._tinySDF=function(z,U,j){var J=this.localIdeographFontFamily;if(J&&this._doesCharSupportLocalGlyph(j)){var fe=z.tinySDF;if(!fe){var Ae="400";/bold/i.test(U)?Ae="900":/medium/i.test(U)?Ae="500":/light/i.test(U)&&(Ae="200"),fe=z.tinySDF=new m.TinySDF(24,3,8,.25,J,Ae)}return{id:j,bitmap:new a.AlphaImage({width:30,height:30},fe.draw(String.fromCharCode(j))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},m.loadGlyphRange=function(z,U,j,J,fe){var Ae=256*U,F=Ae+255,Q=J.transformRequest(J.normalizeGlyphsURL(j).replace("{fontstack}",z).replace("{range}",Ae+"-"+F),a.ResourceType.Glyphs);a.getArrayBuffer(Q,function(ie,de){if(ie)fe(ie);else if(de){for(var xe={},Ce=0,Ue=a.parseGlyphPBF(de);Ce<Ue.length;Ce+=1){var He=Ue[Ce];xe[He.id]=He}fe(null,xe)}})},m.TinySDF=c;var w=function(){this.specification=a.styleSpec.light.position};w.prototype.possiblyEvaluate=function(z,U){return a.sphericalToCartesian(z.expression.evaluate(U))},w.prototype.interpolate=function(z,U,j){return{x:a.number(z.x,U.x,j),y:a.number(z.y,U.y,j),z:a.number(z.z,U.z,j)}};var f=new a.Properties({anchor:new a.DataConstantProperty(a.styleSpec.light.anchor),position:new w,color:new a.DataConstantProperty(a.styleSpec.light.color),intensity:new a.DataConstantProperty(a.styleSpec.light.intensity)}),S="-transition",T=function(z){function U(j){z.call(this),this._transitionable=new a.Transitionable(f),this.setLight(j),this._transitioning=this._transitionable.untransitioned()}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getLight=function(){return this._transitionable.serialize()},U.prototype.setLight=function(j,J){if(J===void 0&&(J={}),!this._validate(a.validateLight,j,J))for(var fe in j){var Ae=j[fe];a.endsWith(fe,S)?this._transitionable.setTransition(fe.slice(0,-11),Ae):this._transitionable.setValue(fe,Ae)}},U.prototype.updateTransitions=function(j){this._transitioning=this._transitionable.transitioned(j,this._transitioning)},U.prototype.hasTransition=function(){return this._transitioning.hasTransition()},U.prototype.recalculate=function(j){this.properties=this._transitioning.possiblyEvaluate(j)},U.prototype._validate=function(j,J,fe){return(!fe||fe.validate!==!1)&&a.emitValidationErrors(this,j.call(a.validateStyle,a.extend({value:J,style:{glyphs:!0,sprite:!0},styleSpec:a.styleSpec})))},U}(a.Evented),E=function(z,U){this.width=z,this.height=U,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};E.prototype.getDash=function(z,U){var j=z.join(",")+String(U);return this.dashEntry[j]||(this.dashEntry[j]=this.addDash(z,U)),this.dashEntry[j]},E.prototype.getDashRanges=function(z,U,j){var J=[],fe=z.length%2==1?-z[z.length-1]*j:0,Ae=z[0]*j,F=!0;J.push({left:fe,right:Ae,isDash:F,zeroLength:z[0]===0});for(var Q=z[0],ie=1;ie<z.length;ie++){F=!F;var de=z[ie];fe=Q*j,Ae=(Q+=de)*j,J.push({left:fe,right:Ae,isDash:F,zeroLength:de===0})}return J},E.prototype.addRoundDash=function(z,U,j){for(var J=U/2,fe=-j;fe<=j;fe++)for(var Ae=this.nextRow+j+fe,F=this.width*Ae,Q=0,ie=z[Q],de=0;de<this.width;de++){de/ie.right>1&&(ie=z[++Q]);var xe=Math.abs(de-ie.left),Ce=Math.abs(de-ie.right),Ue=Math.min(xe,Ce),He=void 0,We=fe/j*(J+1);if(ie.isDash){var Ke=J-Math.abs(We);He=Math.sqrt(Ue*Ue+Ke*Ke)}else He=J-Math.sqrt(Ue*Ue+We*We);this.data[F+de]=Math.max(0,Math.min(255,He+128))}},E.prototype.addRegularDash=function(z){for(var U=z.length-1;U>=0;--U){var j=z[U],J=z[U+1];j.zeroLength?z.splice(U,1):J&&J.isDash===j.isDash&&(J.left=j.left,z.splice(U,1))}var fe=z[0],Ae=z[z.length-1];fe.isDash===Ae.isDash&&(fe.left=Ae.left-this.width,Ae.right=fe.right+this.width);for(var F=this.width*this.nextRow,Q=0,ie=z[Q],de=0;de<this.width;de++){de/ie.right>1&&(ie=z[++Q]);var xe=Math.abs(de-ie.left),Ce=Math.abs(de-ie.right),Ue=Math.min(xe,Ce),He=ie.isDash?Ue:-Ue;this.data[F+de]=Math.max(0,Math.min(255,He+128))}},E.prototype.addDash=function(z,U){var j=U?7:0,J=2*j+1;if(this.nextRow+J>this.height)return a.warnOnce("LineAtlas out of space"),null;for(var fe=0,Ae=0;Ae<z.length;Ae++)fe+=z[Ae];if(fe!==0){var F=this.width/fe,Q=this.getDashRanges(z,this.width,F);U?this.addRoundDash(Q,F,j):this.addRegularDash(Q)}var ie={y:(this.nextRow+j+.5)/this.height,height:2*j/this.height,width:fe};return this.nextRow+=J,this.dirty=!0,ie},E.prototype.bind=function(z){var U=z.gl;this.texture?(U.bindTexture(U.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,U.texSubImage2D(U.TEXTURE_2D,0,0,0,this.width,this.height,U.ALPHA,U.UNSIGNED_BYTE,this.data))):(this.texture=U.createTexture(),U.bindTexture(U.TEXTURE_2D,this.texture),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_S,U.REPEAT),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_WRAP_T,U.REPEAT),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,U.LINEAR),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,U.LINEAR),U.texImage2D(U.TEXTURE_2D,0,U.ALPHA,this.width,this.height,0,U.ALPHA,U.UNSIGNED_BYTE,this.data))};var L=function z(U,j){this.workerPool=U,this.actors=[],this.currentActor=0,this.id=a.uniqueId();for(var J=this.workerPool.acquire(this.id),fe=0;fe<J.length;fe++){var Ae=J[fe],F=new z.Actor(Ae,j,this.id);F.name="Worker "+fe,this.actors.push(F)}};function C(z,U,j){var J=function(fe,Ae){if(fe)return j(fe);if(Ae){var F=a.pick(a.extend(Ae,z),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ae.vector_layers&&(F.vectorLayers=Ae.vector_layers,F.vectorLayerIds=F.vectorLayers.map(function(Q){return Q.id})),F.tiles=U.canonicalizeTileset(F,z.url),j(null,F)}};return z.url?a.getJSON(U.transformRequest(U.normalizeSourceURL(z.url),a.ResourceType.Source),J):a.browser.frame(function(){return J(null,z)})}L.prototype.broadcast=function(z,U,j){j=j||function(){},a.asyncAll(this.actors,function(J,fe){J.send(z,U,fe)},j)},L.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},L.prototype.remove=function(){this.actors.forEach(function(z){z.remove()}),this.actors=[],this.workerPool.release(this.id)},L.Actor=a.Actor;var P=function(z,U,j){this.bounds=a.LngLatBounds.convert(this.validateBounds(z)),this.minzoom=U||0,this.maxzoom=j||24};P.prototype.validateBounds=function(z){return Array.isArray(z)&&z.length===4?[Math.max(-180,z[0]),Math.max(-90,z[1]),Math.min(180,z[2]),Math.min(90,z[3])]:[-180,-90,180,90]},P.prototype.contains=function(z){var U=Math.pow(2,z.z),j=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*U),J=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*U),fe=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*U),Ae=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*U);return z.x>=j&&z.x<fe&&z.y>=J&&z.y<Ae};var R=function(z){function U(j,J,fe,Ae){if(z.call(this),this.id=j,this.dispatcher=fe,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(J,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},J),this._collectResourceTiming=J.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(Ae)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.load=function(){var j=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,function(J,fe){j._tileJSONRequest=null,j._loaded=!0,J?j.fire(new a.ErrorEvent(J)):fe&&(a.extend(j,fe),fe.bounds&&(j.tileBounds=new P(fe.bounds,j.minzoom,j.maxzoom)),a.postTurnstileEvent(fe.tiles,j.map._requestManager._customAccessToken),a.postMapLoadEvent(fe.tiles,j.map._getMapId(),j.map._requestManager._skuToken,j.map._requestManager._customAccessToken),j.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),j.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},U.prototype.loaded=function(){return this._loaded},U.prototype.hasTile=function(j){return!this.tileBounds||this.tileBounds.contains(j.canonical)},U.prototype.onAdd=function(j){this.map=j,this.load()},U.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},U.prototype.serialize=function(){return a.extend({},this._options)},U.prototype.loadTile=function(j,J){var fe=this.map._requestManager.normalizeTileURL(j.tileID.canonical.url(this.tiles,this.scheme)),Ae={request:this.map._requestManager.transformRequest(fe,a.ResourceType.Tile),uid:j.uid,tileID:j.tileID,zoom:j.tileID.overscaledZ,tileSize:this.tileSize*j.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function F(Q,ie){return delete j.request,j.aborted?J(null):Q&&Q.status!==404?J(Q):(ie&&ie.resourceTiming&&(j.resourceTiming=ie.resourceTiming),this.map._refreshExpiredTiles&&ie&&j.setExpiryData(ie),j.loadVectorData(ie,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),J(null),void(j.reloadCallback&&(this.loadTile(j,j.reloadCallback),j.reloadCallback=null)))}Ae.request.collectResourceTiming=this._collectResourceTiming,j.actor&&j.state!=="expired"?j.state==="loading"?j.reloadCallback=J:j.request=j.actor.send("reloadTile",Ae,F.bind(this)):(j.actor=this.dispatcher.getActor(),j.request=j.actor.send("loadTile",Ae,F.bind(this)))},U.prototype.abortTile=function(j){j.request&&(j.request.cancel(),delete j.request),j.actor&&j.actor.send("abortTile",{uid:j.uid,type:this.type,source:this.id},void 0)},U.prototype.unloadTile=function(j){j.unloadVectorData(),j.actor&&j.actor.send("removeTile",{uid:j.uid,type:this.type,source:this.id},void 0)},U.prototype.hasTransition=function(){return!1},U}(a.Evented),G=function(z){function U(j,J,fe,Ae){z.call(this),this.id=j,this.dispatcher=fe,this.setEventedParent(Ae),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},J),a.extend(this,a.pick(J,["url","scheme","tileSize"]))}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.load=function(){var j=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=C(this._options,this.map._requestManager,function(J,fe){j._tileJSONRequest=null,j._loaded=!0,J?j.fire(new a.ErrorEvent(J)):fe&&(a.extend(j,fe),fe.bounds&&(j.tileBounds=new P(fe.bounds,j.minzoom,j.maxzoom)),a.postTurnstileEvent(fe.tiles),a.postMapLoadEvent(fe.tiles,j.map._getMapId(),j.map._requestManager._skuToken),j.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),j.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})))})},U.prototype.loaded=function(){return this._loaded},U.prototype.onAdd=function(j){this.map=j,this.load()},U.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},U.prototype.serialize=function(){return a.extend({},this._options)},U.prototype.hasTile=function(j){return!this.tileBounds||this.tileBounds.contains(j.canonical)},U.prototype.loadTile=function(j,J){var fe=this,Ae=this.map._requestManager.normalizeTileURL(j.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);j.request=a.getImage(this.map._requestManager.transformRequest(Ae,a.ResourceType.Tile),function(F,Q){if(delete j.request,j.aborted)j.state="unloaded",J(null);else if(F)j.state="errored",J(F);else if(Q){fe.map._refreshExpiredTiles&&j.setExpiryData(Q),delete Q.cacheControl,delete Q.expires;var ie=fe.map.painter.context,de=ie.gl;j.texture=fe.map.painter.getTileTexture(Q.width),j.texture?j.texture.update(Q,{useMipmap:!0}):(j.texture=new a.Texture(ie,Q,de.RGBA,{useMipmap:!0}),j.texture.bind(de.LINEAR,de.CLAMP_TO_EDGE,de.LINEAR_MIPMAP_NEAREST),ie.extTextureFilterAnisotropic&&de.texParameterf(de.TEXTURE_2D,ie.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,ie.extTextureFilterAnisotropicMax)),j.state="loaded",a.cacheEntryPossiblyAdded(fe.dispatcher),J(null)}})},U.prototype.abortTile=function(j,J){j.request&&(j.request.cancel(),delete j.request),J()},U.prototype.unloadTile=function(j,J){j.texture&&this.map.painter.saveTileTexture(j.texture),J()},U.prototype.hasTransition=function(){return!1},U}(a.Evented),I=function(z){function U(j,J,fe,Ae){z.call(this,j,J,fe,Ae),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},J),this.encoding=J.encoding||"mapbox"}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},U.prototype.loadTile=function(j,J){var fe=this.map._requestManager.normalizeTileURL(j.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function Ae(F,Q){F&&(j.state="errored",J(F)),Q&&(j.dem=Q,j.needsHillshadePrepare=!0,j.state="loaded",J(null))}j.request=a.getImage(this.map._requestManager.transformRequest(fe,a.ResourceType.Tile),(function(F,Q){if(delete j.request,j.aborted)j.state="unloaded",J(null);else if(F)j.state="errored",J(F);else if(Q){this.map._refreshExpiredTiles&&j.setExpiryData(Q),delete Q.cacheControl,delete Q.expires;var ie=a.window.ImageBitmap&&Q instanceof a.window.ImageBitmap&&a.offscreenCanvasSupported()?Q:a.browser.getImageData(Q,1),de={uid:j.uid,coord:j.tileID,source:this.id,rawImageData:ie,encoding:this.encoding};j.actor&&j.state!=="expired"||(j.actor=this.dispatcher.getActor(),j.actor.send("loadDEMTile",de,Ae.bind(this)))}}).bind(this)),j.neighboringTiles=this._getNeighboringTiles(j.tileID)},U.prototype._getNeighboringTiles=function(j){var J=j.canonical,fe=Math.pow(2,J.z),Ae=(J.x-1+fe)%fe,F=J.x===0?j.wrap-1:j.wrap,Q=(J.x+1+fe)%fe,ie=J.x+1===fe?j.wrap+1:j.wrap,de={};return de[new a.OverscaledTileID(j.overscaledZ,F,J.z,Ae,J.y).key]={backfilled:!1},de[new a.OverscaledTileID(j.overscaledZ,ie,J.z,Q,J.y).key]={backfilled:!1},J.y>0&&(de[new a.OverscaledTileID(j.overscaledZ,F,J.z,Ae,J.y-1).key]={backfilled:!1},de[new a.OverscaledTileID(j.overscaledZ,j.wrap,J.z,J.x,J.y-1).key]={backfilled:!1},de[new a.OverscaledTileID(j.overscaledZ,ie,J.z,Q,J.y-1).key]={backfilled:!1}),J.y+1<fe&&(de[new a.OverscaledTileID(j.overscaledZ,F,J.z,Ae,J.y+1).key]={backfilled:!1},de[new a.OverscaledTileID(j.overscaledZ,j.wrap,J.z,J.x,J.y+1).key]={backfilled:!1},de[new a.OverscaledTileID(j.overscaledZ,ie,J.z,Q,J.y+1).key]={backfilled:!1}),de},U.prototype.unloadTile=function(j){j.demTexture&&this.map.painter.saveTileTexture(j.demTexture),j.fbo&&(j.fbo.destroy(),delete j.fbo),j.dem&&delete j.dem,delete j.neighboringTiles,j.state="unloaded",j.actor&&j.actor.send("removeDEMTile",{uid:j.uid,source:this.id})},U}(G),H=function(z){function U(j,J,fe,Ae){z.call(this),this.id=j,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=fe.getActor(),this.setEventedParent(Ae),this._data=J.data,this._options=a.extend({},J),this._collectResourceTiming=J.collectResourceTiming,this._resourceTiming=[],J.maxzoom!==void 0&&(this.maxzoom=J.maxzoom),J.type&&(this.type=J.type),J.attribution&&(this.attribution=J.attribution),this.promoteId=J.promoteId;var F=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:J.cluster||!1,geojsonVtOptions:{buffer:(J.buffer!==void 0?J.buffer:128)*F,tolerance:(J.tolerance!==void 0?J.tolerance:.375)*F,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:J.lineMetrics||!1,generateId:J.generateId||!1},superclusterOptions:{maxZoom:J.clusterMaxZoom!==void 0?Math.min(J.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,extent:a.EXTENT,radius:(J.clusterRadius||50)*F,log:!1,generateId:J.generateId||!1},clusterProperties:J.clusterProperties},J.workerOptions)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.load=function(){var j=this;this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(J){if(J)j.fire(new a.ErrorEvent(J));else{var fe={dataType:"source",sourceDataType:"metadata"};j._collectResourceTiming&&j._resourceTiming&&j._resourceTiming.length>0&&(fe.resourceTiming=j._resourceTiming,j._resourceTiming=[]),j.fire(new a.Event("data",fe))}})},U.prototype.onAdd=function(j){this.map=j,this.load()},U.prototype.setData=function(j){var J=this;return this._data=j,this.fire(new a.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(fe){if(fe)J.fire(new a.ErrorEvent(fe));else{var Ae={dataType:"source",sourceDataType:"content"};J._collectResourceTiming&&J._resourceTiming&&J._resourceTiming.length>0&&(Ae.resourceTiming=J._resourceTiming,J._resourceTiming=[]),J.fire(new a.Event("data",Ae))}}),this},U.prototype.getClusterExpansionZoom=function(j,J){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:j,source:this.id},J),this},U.prototype.getClusterChildren=function(j,J){return this.actor.send("geojson.getClusterChildren",{clusterId:j,source:this.id},J),this},U.prototype.getClusterLeaves=function(j,J,fe,Ae){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:j,limit:J,offset:fe},Ae),this},U.prototype._updateWorkerData=function(j){var J=this;this._loaded=!1;var fe=a.extend({},this.workerOptions),Ae=this._data;typeof Ae=="string"?(fe.request=this.map._requestManager.transformRequest(a.browser.resolveURL(Ae),a.ResourceType.Source),fe.request.collectResourceTiming=this._collectResourceTiming):fe.data=JSON.stringify(Ae),this.actor.send(this.type+".loadData",fe,function(F,Q){J._removed||Q&&Q.abandoned||(J._loaded=!0,Q&&Q.resourceTiming&&Q.resourceTiming[J.id]&&(J._resourceTiming=Q.resourceTiming[J.id].slice(0)),J.actor.send(J.type+".coalesce",{source:fe.source},null),j(F))})},U.prototype.loaded=function(){return this._loaded},U.prototype.loadTile=function(j,J){var fe=this,Ae=j.actor?"reloadTile":"loadTile";j.actor=this.actor;var F={type:this.type,uid:j.uid,tileID:j.tileID,zoom:j.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};j.request=this.actor.send(Ae,F,function(Q,ie){return delete j.request,j.unloadVectorData(),j.aborted?J(null):Q?J(Q):(j.loadVectorData(ie,fe.map.painter,Ae==="reloadTile"),J(null))})},U.prototype.abortTile=function(j){j.request&&(j.request.cancel(),delete j.request),j.aborted=!0},U.prototype.unloadTile=function(j){j.unloadVectorData(),this.actor.send("removeTile",{uid:j.uid,type:this.type,source:this.id})},U.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},U.prototype.serialize=function(){return a.extend({},this._options,{type:this.type,data:this._data})},U.prototype.hasTransition=function(){return!1},U}(a.Evented),N=a.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),B=function(z){function U(j,J,fe,Ae){z.call(this),this.id=j,this.dispatcher=fe,this.coordinates=J.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Ae),this.options=J}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.load=function(j,J){var fe=this;this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),function(Ae,F){fe._loaded=!0,Ae?fe.fire(new a.ErrorEvent(Ae)):F&&(fe.image=F,j&&(fe.coordinates=j),J&&J(),fe._finishLoading())})},U.prototype.loaded=function(){return this._loaded},U.prototype.updateImage=function(j){var J=this;return this.image&&j.url?(this.options.url=j.url,this.load(j.coordinates,function(){J.texture=null}),this):this},U.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))},U.prototype.onAdd=function(j){this.map=j,this.load()},U.prototype.setCoordinates=function(j){var J=this;this.coordinates=j;var fe=j.map(a.MercatorCoordinate.fromLngLat);this.tileID=function(F){for(var Q=1/0,ie=1/0,de=-1/0,xe=-1/0,Ce=0,Ue=F;Ce<Ue.length;Ce+=1){var He=Ue[Ce];Q=Math.min(Q,He.x),ie=Math.min(ie,He.y),de=Math.max(de,He.x),xe=Math.max(xe,He.y)}var We=de-Q,Ke=xe-ie,nt=Math.max(We,Ke),pt=Math.max(0,Math.floor(-Math.log(nt)/Math.LN2)),yt=Math.pow(2,pt);return new a.CanonicalTileID(pt,Math.floor((Q+de)/2*yt),Math.floor((ie+xe)/2*yt))}(fe),this.minzoom=this.maxzoom=this.tileID.z;var Ae=fe.map(function(F){return J.tileID.getTilePoint(F)._round()});return this._boundsArray=new a.StructArrayLayout4i8,this._boundsArray.emplaceBack(Ae[0].x,Ae[0].y,0,0),this._boundsArray.emplaceBack(Ae[1].x,Ae[1].y,a.EXTENT,0),this._boundsArray.emplaceBack(Ae[3].x,Ae[3].y,0,a.EXTENT),this._boundsArray.emplaceBack(Ae[2].x,Ae[2].y,a.EXTENT,a.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this},U.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var j=this.map.painter.context,J=j.gl;for(var fe in this.boundsBuffer||(this.boundsBuffer=j.createVertexBuffer(this._boundsArray,N.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new a.Texture(j,this.image,J.RGBA),this.texture.bind(J.LINEAR,J.CLAMP_TO_EDGE)),this.tiles){var Ae=this.tiles[fe];Ae.state!=="loaded"&&(Ae.state="loaded",Ae.texture=this.texture)}}},U.prototype.loadTile=function(j,J){this.tileID&&this.tileID.equals(j.tileID.canonical)?(this.tiles[String(j.tileID.wrap)]=j,j.buckets={},J(null)):(j.state="errored",J(null))},U.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},U.prototype.hasTransition=function(){return!1},U}(a.Evented),V=function(z){function U(j,J,fe,Ae){z.call(this,j,J,fe,Ae),this.roundZoom=!0,this.type="video",this.options=J}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.load=function(){var j=this;this._loaded=!1;var J=this.options;this.urls=[];for(var fe=0,Ae=J.urls;fe<Ae.length;fe+=1){var F=Ae[fe];this.urls.push(this.map._requestManager.transformRequest(F,a.ResourceType.Source).url)}a.getVideo(this.urls,function(Q,ie){j._loaded=!0,Q?j.fire(new a.ErrorEvent(Q)):ie&&(j.video=ie,j.video.loop=!0,j.video.addEventListener("playing",function(){j.map.triggerRepaint()}),j.map&&j.video.play(),j._finishLoading())})},U.prototype.pause=function(){this.video&&this.video.pause()},U.prototype.play=function(){this.video&&this.video.play()},U.prototype.seek=function(j){if(this.video){var J=this.video.seekable;j<J.start(0)||j>J.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+J.start(0)+" and "+J.end(0)+"-second mark."))):this.video.currentTime=j}},U.prototype.getVideo=function(){return this.video},U.prototype.onAdd=function(j){this.map||(this.map=j,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},U.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var j=this.map.painter.context,J=j.gl;for(var fe in this.boundsBuffer||(this.boundsBuffer=j.createVertexBuffer(this._boundsArray,N.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(J.LINEAR,J.CLAMP_TO_EDGE),J.texSubImage2D(J.TEXTURE_2D,0,0,0,J.RGBA,J.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(j,this.video,J.RGBA),this.texture.bind(J.LINEAR,J.CLAMP_TO_EDGE)),this.tiles){var Ae=this.tiles[fe];Ae.state!=="loaded"&&(Ae.state="loaded",Ae.texture=this.texture)}}},U.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},U.prototype.hasTransition=function(){return this.video&&!this.video.paused},U}(B),q=function(z){function U(j,J,fe,Ae){z.call(this,j,J,fe,Ae),J.coordinates?Array.isArray(J.coordinates)&&J.coordinates.length===4&&!J.coordinates.some(function(F){return!Array.isArray(F)||F.length!==2||F.some(function(Q){return typeof Q!="number"})})||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+j,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+j,null,'missing required property "coordinates"'))),J.animate&&typeof J.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError("sources."+j,null,'optional "animate" property must be a boolean value'))),J.canvas?typeof J.canvas=="string"||J.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError("sources."+j,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError("sources."+j,null,'missing required property "canvas"'))),this.options=J,this.animate=J.animate===void 0||J.animate}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},U.prototype.getCanvas=function(){return this.canvas},U.prototype.onAdd=function(j){this.map=j,this.load(),this.canvas&&this.animate&&this.play()},U.prototype.onRemove=function(){this.pause()},U.prototype.prepare=function(){var j=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,j=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,j=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var J=this.map.painter.context,fe=J.gl;for(var Ae in this.boundsBuffer||(this.boundsBuffer=J.createVertexBuffer(this._boundsArray,N.members)),this.boundsSegments||(this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(j||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(J,this.canvas,fe.RGBA,{premultiply:!0}),this.tiles){var F=this.tiles[Ae];F.state!=="loaded"&&(F.state="loaded",F.texture=this.texture)}}},U.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},U.prototype.hasTransition=function(){return this._playing},U.prototype._hasInvalidDimensions=function(){for(var j=0,J=[this.canvas.width,this.canvas.height];j<J.length;j+=1){var fe=J[j];if(isNaN(fe)||fe<=0)return!0}return!1},U}(B),te={vector:R,raster:G,"raster-dem":I,geojson:H,video:V,image:B,canvas:q};function $(z,U){var j=a.identity([]);return a.translate(j,j,[1,1,0]),a.scale(j,j,[.5*z.width,.5*z.height,1]),a.multiply(j,j,z.calculatePosMatrix(U.toUnwrapped()))}function K(z,U,j,J,fe,Ae){var F=function(Ke,nt,pt){if(Ke)for(var yt=0,It=Ke;yt<It.length;yt+=1){var Rt=nt[It[yt]];if(Rt&&Rt.source===pt&&Rt.type==="fill-extrusion")return!0}else for(var Pt in nt){var Vt=nt[Pt];if(Vt.source===pt&&Vt.type==="fill-extrusion")return!0}return!1}(fe&&fe.layers,U,z.id),Q=Ae.maxPitchScaleFactor(),ie=z.tilesIn(J,Q,F);ie.sort(Z);for(var de=[],xe=0,Ce=ie;xe<Ce.length;xe+=1){var Ue=Ce[xe];de.push({wrappedTileID:Ue.tileID.wrapped().key,queryResults:Ue.tile.queryRenderedFeatures(U,j,z._state,Ue.queryGeometry,Ue.cameraQueryGeometry,Ue.scale,fe,Ae,Q,$(z.transform,Ue.tileID))})}var He=function(Ke){for(var nt={},pt={},yt=0,It=Ke;yt<It.length;yt+=1){var Rt=It[yt],Pt=Rt.queryResults,Vt=Rt.wrappedTileID,Dt=pt[Vt]=pt[Vt]||{};for(var sn in Pt)for(var Kt=Pt[sn],Zt=Dt[sn]=Dt[sn]||{},xn=nt[sn]=nt[sn]||[],_n=0,jn=Kt;_n<jn.length;_n+=1){var Un=jn[_n];Zt[Un.featureIndex]||(Zt[Un.featureIndex]=!0,xn.push(Un))}}return nt}(de);for(var We in He)He[We].forEach(function(Ke){var nt=Ke.feature,pt=z.getFeatureState(nt.layer["source-layer"],nt.id);nt.source=nt.layer.source,nt.layer["source-layer"]&&(nt.sourceLayer=nt.layer["source-layer"]),nt.state=pt});return He}function Z(z,U){var j=z.tileID,J=U.tileID;return j.overscaledZ-J.overscaledZ||j.canonical.y-J.canonical.y||j.wrap-J.wrap||j.canonical.x-J.canonical.x}var X=function(z,U){this.max=z,this.onRemove=U,this.reset()};X.prototype.reset=function(){for(var z in this.data)for(var U=0,j=this.data[z];U<j.length;U+=1){var J=j[U];J.timeout&&clearTimeout(J.timeout),this.onRemove(J.value)}return this.data={},this.order=[],this},X.prototype.add=function(z,U,j){var J=this,fe=z.wrapped().key;this.data[fe]===void 0&&(this.data[fe]=[]);var Ae={value:U,timeout:void 0};if(j!==void 0&&(Ae.timeout=setTimeout(function(){J.remove(z,Ae)},j)),this.data[fe].push(Ae),this.order.push(fe),this.order.length>this.max){var F=this._getAndRemoveByKey(this.order[0]);F&&this.onRemove(F)}return this},X.prototype.has=function(z){return z.wrapped().key in this.data},X.prototype.getAndRemove=function(z){return this.has(z)?this._getAndRemoveByKey(z.wrapped().key):null},X.prototype._getAndRemoveByKey=function(z){var U=this.data[z].shift();return U.timeout&&clearTimeout(U.timeout),this.data[z].length===0&&delete this.data[z],this.order.splice(this.order.indexOf(z),1),U.value},X.prototype.getByKey=function(z){var U=this.data[z];return U?U[0].value:null},X.prototype.get=function(z){return this.has(z)?this.data[z.wrapped().key][0].value:null},X.prototype.remove=function(z,U){if(!this.has(z))return this;var j=z.wrapped().key,J=U===void 0?0:this.data[j].indexOf(U),fe=this.data[j][J];return this.data[j].splice(J,1),fe.timeout&&clearTimeout(fe.timeout),this.data[j].length===0&&delete this.data[j],this.onRemove(fe.value),this.order.splice(this.order.indexOf(j),1),this},X.prototype.setMaxSize=function(z){for(this.max=z;this.order.length>this.max;){var U=this._getAndRemoveByKey(this.order[0]);U&&this.onRemove(U)}return this},X.prototype.filter=function(z){var U=[];for(var j in this.data)for(var J=0,fe=this.data[j];J<fe.length;J+=1){var Ae=fe[J];z(Ae.value)||U.push(Ae)}for(var F=0,Q=U;F<Q.length;F+=1){var ie=Q[F];this.remove(ie.value.tileID,ie)}};var ee=function(z,U,j){this.context=z;var J=z.gl;this.buffer=J.createBuffer(),this.dynamicDraw=!!j,this.context.unbindVAO(),z.bindElementBuffer.set(this.buffer),J.bufferData(J.ELEMENT_ARRAY_BUFFER,U.arrayBuffer,this.dynamicDraw?J.DYNAMIC_DRAW:J.STATIC_DRAW),this.dynamicDraw||delete U.arrayBuffer};ee.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},ee.prototype.updateData=function(z){var U=this.context.gl;this.context.unbindVAO(),this.bind(),U.bufferSubData(U.ELEMENT_ARRAY_BUFFER,0,z.arrayBuffer)},ee.prototype.destroy=function(){var z=this.context.gl;this.buffer&&(z.deleteBuffer(this.buffer),delete this.buffer)};var ne={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},re=function(z,U,j,J){this.length=U.length,this.attributes=j,this.itemSize=U.bytesPerElement,this.dynamicDraw=J,this.context=z;var fe=z.gl;this.buffer=fe.createBuffer(),z.bindVertexBuffer.set(this.buffer),fe.bufferData(fe.ARRAY_BUFFER,U.arrayBuffer,this.dynamicDraw?fe.DYNAMIC_DRAW:fe.STATIC_DRAW),this.dynamicDraw||delete U.arrayBuffer};re.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},re.prototype.updateData=function(z){var U=this.context.gl;this.bind(),U.bufferSubData(U.ARRAY_BUFFER,0,z.arrayBuffer)},re.prototype.enableAttributes=function(z,U){for(var j=0;j<this.attributes.length;j++){var J=this.attributes[j],fe=U.attributes[J.name];fe!==void 0&&z.enableVertexAttribArray(fe)}},re.prototype.setVertexAttribPointers=function(z,U,j){for(var J=0;J<this.attributes.length;J++){var fe=this.attributes[J],Ae=U.attributes[fe.name];Ae!==void 0&&z.vertexAttribPointer(Ae,fe.components,z[ne[fe.type]],!1,this.itemSize,fe.offset+this.itemSize*(j||0))}},re.prototype.destroy=function(){var z=this.context.gl;this.buffer&&(z.deleteBuffer(this.buffer),delete this.buffer)};var ae=function(z){this.gl=z.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};ae.prototype.get=function(){return this.current},ae.prototype.set=function(z){},ae.prototype.getDefault=function(){return this.default},ae.prototype.setDefault=function(){this.set(this.default)};var ue=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return a.Color.transparent},U.prototype.set=function(j){var J=this.current;(j.r!==J.r||j.g!==J.g||j.b!==J.b||j.a!==J.a||this.dirty)&&(this.gl.clearColor(j.r,j.g,j.b,j.a),this.current=j,this.dirty=!1)},U}(ae),pe=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return 1},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.clearDepth(j),this.current=j,this.dirty=!1)},U}(ae),ge=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return 0},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.clearStencil(j),this.current=j,this.dirty=!1)},U}(ae),we=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return[!0,!0,!0,!0]},U.prototype.set=function(j){var J=this.current;(j[0]!==J[0]||j[1]!==J[1]||j[2]!==J[2]||j[3]!==J[3]||this.dirty)&&(this.gl.colorMask(j[0],j[1],j[2],j[3]),this.current=j,this.dirty=!1)},U}(ae),me=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!0},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.depthMask(j),this.current=j,this.dirty=!1)},U}(ae),ve=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return 255},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.stencilMask(j),this.current=j,this.dirty=!1)},U}(ae),Ie=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},U.prototype.set=function(j){var J=this.current;(j.func!==J.func||j.ref!==J.ref||j.mask!==J.mask||this.dirty)&&(this.gl.stencilFunc(j.func,j.ref,j.mask),this.current=j,this.dirty=!1)},U}(ae),Se=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){var j=this.gl;return[j.KEEP,j.KEEP,j.KEEP]},U.prototype.set=function(j){var J=this.current;(j[0]!==J[0]||j[1]!==J[1]||j[2]!==J[2]||this.dirty)&&(this.gl.stencilOp(j[0],j[1],j[2]),this.current=j,this.dirty=!1)},U}(ae),ke=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!1},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;j?J.enable(J.STENCIL_TEST):J.disable(J.STENCIL_TEST),this.current=j,this.dirty=!1}},U}(ae),se=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return[0,1]},U.prototype.set=function(j){var J=this.current;(j[0]!==J[0]||j[1]!==J[1]||this.dirty)&&(this.gl.depthRange(j[0],j[1]),this.current=j,this.dirty=!1)},U}(ae),oe=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!1},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;j?J.enable(J.DEPTH_TEST):J.disable(J.DEPTH_TEST),this.current=j,this.dirty=!1}},U}(ae),he=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return this.gl.LESS},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.depthFunc(j),this.current=j,this.dirty=!1)},U}(ae),Le=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!1},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;j?J.enable(J.BLEND):J.disable(J.BLEND),this.current=j,this.dirty=!1}},U}(ae),Me=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){var j=this.gl;return[j.ONE,j.ZERO]},U.prototype.set=function(j){var J=this.current;(j[0]!==J[0]||j[1]!==J[1]||this.dirty)&&(this.gl.blendFunc(j[0],j[1]),this.current=j,this.dirty=!1)},U}(ae),_e=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return a.Color.transparent},U.prototype.set=function(j){var J=this.current;(j.r!==J.r||j.g!==J.g||j.b!==J.b||j.a!==J.a||this.dirty)&&(this.gl.blendColor(j.r,j.g,j.b,j.a),this.current=j,this.dirty=!1)},U}(ae),De=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return this.gl.FUNC_ADD},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.blendEquation(j),this.current=j,this.dirty=!1)},U}(ae),Ne=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!1},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;j?J.enable(J.CULL_FACE):J.disable(J.CULL_FACE),this.current=j,this.dirty=!1}},U}(ae),ce=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return this.gl.BACK},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.cullFace(j),this.current=j,this.dirty=!1)},U}(ae),Te=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return this.gl.CCW},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.frontFace(j),this.current=j,this.dirty=!1)},U}(ae),ye=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.useProgram(j),this.current=j,this.dirty=!1)},U}(ae),Oe=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return this.gl.TEXTURE0},U.prototype.set=function(j){(j!==this.current||this.dirty)&&(this.gl.activeTexture(j),this.current=j,this.dirty=!1)},U}(ae),Be=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){var j=this.gl;return[0,0,j.drawingBufferWidth,j.drawingBufferHeight]},U.prototype.set=function(j){var J=this.current;(j[0]!==J[0]||j[1]!==J[1]||j[2]!==J[2]||j[3]!==J[3]||this.dirty)&&(this.gl.viewport(j[0],j[1],j[2],j[3]),this.current=j,this.dirty=!1)},U}(ae),Fe=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.bindFramebuffer(J.FRAMEBUFFER,j),this.current=j,this.dirty=!1}},U}(ae),Ge=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.bindRenderbuffer(J.RENDERBUFFER,j),this.current=j,this.dirty=!1}},U}(ae),Ze=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.bindTexture(J.TEXTURE_2D,j),this.current=j,this.dirty=!1}},U}(ae),et=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.bindBuffer(J.ARRAY_BUFFER,j),this.current=j,this.dirty=!1}},U}(ae),ft=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){var J=this.gl;J.bindBuffer(J.ELEMENT_ARRAY_BUFFER,j),this.current=j,this.dirty=!1},U}(ae),rt=function(z){function U(j){z.call(this,j),this.vao=j.extVertexArrayObject}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U.prototype.set=function(j){this.vao&&(j!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(j),this.current=j,this.dirty=!1)},U}(ae),_t=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return 4},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.pixelStorei(J.UNPACK_ALIGNMENT,j),this.current=j,this.dirty=!1}},U}(ae),kt=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!1},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.pixelStorei(J.UNPACK_PREMULTIPLY_ALPHA_WEBGL,j),this.current=j,this.dirty=!1}},U}(ae),wt=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return!1},U.prototype.set=function(j){if(j!==this.current||this.dirty){var J=this.gl;J.pixelStorei(J.UNPACK_FLIP_Y_WEBGL,j),this.current=j,this.dirty=!1}},U}(ae),lt=function(z){function U(j,J){z.call(this,j),this.context=j,this.parent=J}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getDefault=function(){return null},U}(ae),ut=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.setDirty=function(){this.dirty=!0},U.prototype.set=function(j){if(j!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var J=this.gl;J.framebufferTexture2D(J.FRAMEBUFFER,J.COLOR_ATTACHMENT0,J.TEXTURE_2D,j,0),this.current=j,this.dirty=!1}},U}(lt),Et=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.set=function(j){if(j!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var J=this.gl;J.framebufferRenderbuffer(J.FRAMEBUFFER,J.DEPTH_ATTACHMENT,J.RENDERBUFFER,j),this.current=j,this.dirty=!1}},U}(lt),Ot=function(z,U,j,J){this.context=z,this.width=U,this.height=j;var fe=z.gl,Ae=this.framebuffer=fe.createFramebuffer();this.colorAttachment=new ut(z,Ae),J&&(this.depthAttachment=new Et(z,Ae))};Ot.prototype.destroy=function(){var z=this.context.gl,U=this.colorAttachment.get();if(U&&z.deleteTexture(U),this.depthAttachment){var j=this.depthAttachment.get();j&&z.deleteRenderbuffer(j)}z.deleteFramebuffer(this.framebuffer)};var zt=function(z,U,j){this.func=z,this.mask=U,this.range=j};zt.ReadOnly=!1,zt.ReadWrite=!0,zt.disabled=new zt(519,zt.ReadOnly,[0,1]);var Lt=7680,Je=function(z,U,j,J,fe,Ae){this.test=z,this.ref=U,this.mask=j,this.fail=J,this.depthFail=fe,this.pass=Ae};Je.disabled=new Je({func:519,mask:0},0,0,Lt,Lt,Lt);var Qe=function(z,U,j){this.blendFunction=z,this.blendColor=U,this.mask=j};Qe.Replace=[1,0],Qe.disabled=new Qe(Qe.Replace,a.Color.transparent,[!1,!1,!1,!1]),Qe.unblended=new Qe(Qe.Replace,a.Color.transparent,[!0,!0,!0,!0]),Qe.alphaBlended=new Qe([1,771],a.Color.transparent,[!0,!0,!0,!0]);var qe=function(z,U,j){this.enable=z,this.mode=U,this.frontFace=j};qe.disabled=new qe(!1,1029,2305),qe.backCCW=new qe(!0,1029,2305);var $e=function(z){this.gl=z,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new ue(this),this.clearDepth=new pe(this),this.clearStencil=new ge(this),this.colorMask=new we(this),this.depthMask=new me(this),this.stencilMask=new ve(this),this.stencilFunc=new Ie(this),this.stencilOp=new Se(this),this.stencilTest=new ke(this),this.depthRange=new se(this),this.depthTest=new oe(this),this.depthFunc=new he(this),this.blend=new Le(this),this.blendFunc=new Me(this),this.blendColor=new _e(this),this.blendEquation=new De(this),this.cullFace=new Ne(this),this.cullFaceSide=new ce(this),this.frontFace=new Te(this),this.program=new ye(this),this.activeTexture=new Oe(this),this.viewport=new Be(this),this.bindFramebuffer=new Fe(this),this.bindRenderbuffer=new Ge(this),this.bindTexture=new Ze(this),this.bindVertexBuffer=new et(this),this.bindElementBuffer=new ft(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new rt(this),this.pixelStoreUnpack=new _t(this),this.pixelStoreUnpackPremultiplyAlpha=new kt(this),this.pixelStoreUnpackFlipY=new wt(this),this.extTextureFilterAnisotropic=z.getExtension("EXT_texture_filter_anisotropic")||z.getExtension("MOZ_EXT_texture_filter_anisotropic")||z.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=z.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=z.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(z.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=z.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=z.getExtension("EXT_disjoint_timer_query")};$e.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},$e.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},$e.prototype.createIndexBuffer=function(z,U){return new ee(this,z,U)},$e.prototype.createVertexBuffer=function(z,U,j){return new re(this,z,U,j)},$e.prototype.createRenderbuffer=function(z,U,j){var J=this.gl,fe=J.createRenderbuffer();return this.bindRenderbuffer.set(fe),J.renderbufferStorage(J.RENDERBUFFER,z,U,j),this.bindRenderbuffer.set(null),fe},$e.prototype.createFramebuffer=function(z,U,j){return new Ot(this,z,U,j)},$e.prototype.clear=function(z){var U=z.color,j=z.depth,J=this.gl,fe=0;U&&(fe|=J.COLOR_BUFFER_BIT,this.clearColor.set(U),this.colorMask.set([!0,!0,!0,!0])),j!==void 0&&(fe|=J.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(j),this.depthMask.set(!0)),J.clear(fe)},$e.prototype.setCullFace=function(z){z.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(z.mode),this.frontFace.set(z.frontFace))},$e.prototype.setDepthMode=function(z){z.func!==this.gl.ALWAYS||z.mask?(this.depthTest.set(!0),this.depthFunc.set(z.func),this.depthMask.set(z.mask),this.depthRange.set(z.range)):this.depthTest.set(!1)},$e.prototype.setStencilMode=function(z){z.test.func!==this.gl.ALWAYS||z.mask?(this.stencilTest.set(!0),this.stencilMask.set(z.mask),this.stencilOp.set([z.fail,z.depthFail,z.pass]),this.stencilFunc.set({func:z.test.func,ref:z.ref,mask:z.test.mask})):this.stencilTest.set(!1)},$e.prototype.setColorMode=function(z){a.deepEqual(z.blendFunction,Qe.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(z.blendFunction),this.blendColor.set(z.blendColor)),this.colorMask.set(z.mask)},$e.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var ct=function(z){function U(j,J,fe){var Ae=this;z.call(this),this.id=j,this.dispatcher=fe,this.on("data",function(F){F.dataType==="source"&&F.sourceDataType==="metadata"&&(Ae._sourceLoaded=!0),Ae._sourceLoaded&&!Ae._paused&&F.dataType==="source"&&F.sourceDataType==="content"&&(Ae.reload(),Ae.transform&&Ae.update(Ae.transform))}),this.on("error",function(){Ae._sourceErrored=!0}),this._source=function(F,Q,ie,de){var xe=new te[Q.type](F,Q,ie,de);if(xe.id!==F)throw new Error("Expected Source id to be "+F+" instead of "+xe.id);return a.bindAll(["load","abort","unload","serialize","prepare"],xe),xe}(j,J,fe,this),this._tiles={},this._cache=new X(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new a.SourceFeatureState}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.onAdd=function(j){this.map=j,this._maxTileCacheSize=j?j._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(j)},U.prototype.onRemove=function(j){this._source&&this._source.onRemove&&this._source.onRemove(j)},U.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var j in this._tiles){var J=this._tiles[j];if(J.state!=="loaded"&&J.state!=="errored")return!1}return!0},U.prototype.getSource=function(){return this._source},U.prototype.pause=function(){this._paused=!0},U.prototype.resume=function(){if(this._paused){var j=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,j&&this.reload(),this.transform&&this.update(this.transform)}},U.prototype._loadTile=function(j,J){return this._source.loadTile(j,J)},U.prototype._unloadTile=function(j){if(this._source.unloadTile)return this._source.unloadTile(j,function(){})},U.prototype._abortTile=function(j){if(this._source.abortTile)return this._source.abortTile(j,function(){})},U.prototype.serialize=function(){return this._source.serialize()},U.prototype.prepare=function(j){for(var J in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var fe=this._tiles[J];fe.upload(j),fe.prepare(this.map.style.imageManager)}},U.prototype.getIds=function(){return a.values(this._tiles).map(function(j){return j.tileID}).sort(at).map(function(j){return j.key})},U.prototype.getRenderableIds=function(j){var J=this,fe=[];for(var Ae in this._tiles)this._isIdRenderable(Ae,j)&&fe.push(this._tiles[Ae]);return j?fe.sort(function(F,Q){var ie=F.tileID,de=Q.tileID,xe=new a.Point(ie.canonical.x,ie.canonical.y)._rotate(J.transform.angle),Ce=new a.Point(de.canonical.x,de.canonical.y)._rotate(J.transform.angle);return ie.overscaledZ-de.overscaledZ||Ce.y-xe.y||Ce.x-xe.x}).map(function(F){return F.tileID.key}):fe.map(function(F){return F.tileID}).sort(at).map(function(F){return F.key})},U.prototype.hasRenderableParent=function(j){var J=this.findLoadedParent(j,0);return!!J&&this._isIdRenderable(J.tileID.key)},U.prototype._isIdRenderable=function(j,J){return this._tiles[j]&&this._tiles[j].hasData()&&!this._coveredTiles[j]&&(J||!this._tiles[j].holdingForFade())},U.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var j in this._cache.reset(),this._tiles)this._tiles[j].state!=="errored"&&this._reloadTile(j,"reloading")},U.prototype._reloadTile=function(j,J){var fe=this._tiles[j];fe&&(fe.state!=="loading"&&(fe.state=J),this._loadTile(fe,this._tileLoaded.bind(this,fe,j,J)))},U.prototype._tileLoaded=function(j,J,fe,Ae){if(Ae)return j.state="errored",void(Ae.status!==404?this._source.fire(new a.ErrorEvent(Ae,{tile:j})):this.update(this.transform));j.timeAdded=a.browser.now(),fe==="expired"&&(j.refreshedUponExpiration=!0),this._setTileReloadTimer(J,j),this.getSource().type==="raster-dem"&&j.dem&&this._backfillDEM(j),this._state.initializeTileState(j,this.map?this.map.painter:null),this._source.fire(new a.Event("data",{dataType:"source",tile:j,coord:j.tileID}))},U.prototype._backfillDEM=function(j){for(var J=this.getRenderableIds(),fe=0;fe<J.length;fe++){var Ae=J[fe];if(j.neighboringTiles&&j.neighboringTiles[Ae]){var F=this.getTileByID(Ae);Q(j,F),Q(F,j)}}function Q(ie,de){ie.needsHillshadePrepare=!0;var xe=de.tileID.canonical.x-ie.tileID.canonical.x,Ce=de.tileID.canonical.y-ie.tileID.canonical.y,Ue=Math.pow(2,ie.tileID.canonical.z),He=de.tileID.key;xe===0&&Ce===0||Math.abs(Ce)>1||(Math.abs(xe)>1&&(Math.abs(xe+Ue)===1?xe+=Ue:Math.abs(xe-Ue)===1&&(xe-=Ue)),de.dem&&ie.dem&&(ie.dem.backfillBorder(de.dem,xe,Ce),ie.neighboringTiles&&ie.neighboringTiles[He]&&(ie.neighboringTiles[He].backfilled=!0)))}},U.prototype.getTile=function(j){return this.getTileByID(j.key)},U.prototype.getTileByID=function(j){return this._tiles[j]},U.prototype._retainLoadedChildren=function(j,J,fe,Ae){for(var F in this._tiles){var Q=this._tiles[F];if(!(Ae[F]||!Q.hasData()||Q.tileID.overscaledZ<=J||Q.tileID.overscaledZ>fe)){for(var ie=Q.tileID;Q&&Q.tileID.overscaledZ>J+1;){var de=Q.tileID.scaledTo(Q.tileID.overscaledZ-1);(Q=this._tiles[de.key])&&Q.hasData()&&(ie=de)}for(var xe=ie;xe.overscaledZ>J;)if(j[(xe=xe.scaledTo(xe.overscaledZ-1)).key]){Ae[ie.key]=ie;break}}}},U.prototype.findLoadedParent=function(j,J){if(j.key in this._loadedParentTiles){var fe=this._loadedParentTiles[j.key];return fe&&fe.tileID.overscaledZ>=J?fe:null}for(var Ae=j.overscaledZ-1;Ae>=J;Ae--){var F=j.scaledTo(Ae),Q=this._getLoadedTile(F);if(Q)return Q}},U.prototype._getLoadedTile=function(j){var J=this._tiles[j.key];return J&&J.hasData()?J:this._cache.getByKey(j.wrapped().key)},U.prototype.updateCacheSize=function(j){var J=(Math.ceil(j.width/this._source.tileSize)+1)*(Math.ceil(j.height/this._source.tileSize)+1),fe=Math.floor(5*J),Ae=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,fe):fe;this._cache.setMaxSize(Ae)},U.prototype.handleWrapJump=function(j){var J=(j-(this._prevLng===void 0?j:this._prevLng))/360,fe=Math.round(J);if(this._prevLng=j,fe){var Ae={};for(var F in this._tiles){var Q=this._tiles[F];Q.tileID=Q.tileID.unwrapTo(Q.tileID.wrap+fe),Ae[Q.tileID.key]=Q}for(var ie in this._tiles=Ae,this._timers)clearTimeout(this._timers[ie]),delete this._timers[ie];for(var de in this._tiles){var xe=this._tiles[de];this._setTileReloadTimer(de,xe)}}},U.prototype.update=function(j){var J=this;if(this.transform=j,this._sourceLoaded&&!this._paused){var fe;this.updateCacheSize(j),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?fe=j.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Dt){return new a.OverscaledTileID(Dt.canonical.z,Dt.wrap,Dt.canonical.z,Dt.canonical.x,Dt.canonical.y)}):(fe=j.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(fe=fe.filter(function(Dt){return J._source.hasTile(Dt)}))):fe=[];var Ae=j.coveringZoomLevel(this._source),F=Math.max(Ae-U.maxOverzooming,this._source.minzoom),Q=Math.max(Ae+U.maxUnderzooming,this._source.minzoom),ie=this._updateRetainedTiles(fe,Ae);if(Re(this._source.type)){for(var de={},xe={},Ce=0,Ue=Object.keys(ie);Ce<Ue.length;Ce+=1){var He=Ue[Ce],We=ie[He],Ke=this._tiles[He];if(Ke&&!(Ke.fadeEndTime&&Ke.fadeEndTime<=a.browser.now())){var nt=this.findLoadedParent(We,F);nt&&(this._addTile(nt.tileID),de[nt.tileID.key]=nt.tileID),xe[He]=We}}for(var pt in this._retainLoadedChildren(xe,Ae,Q,ie),de)ie[pt]||(this._coveredTiles[pt]=!0,ie[pt]=de[pt])}for(var yt in ie)this._tiles[yt].clearFadeHold();for(var It=0,Rt=a.keysDifference(this._tiles,ie);It<Rt.length;It+=1){var Pt=Rt[It],Vt=this._tiles[Pt];Vt.hasSymbolBuckets&&!Vt.holdingForFade()?Vt.setHoldDuration(this.map._fadeDuration):Vt.hasSymbolBuckets&&!Vt.symbolFadeFinished()||this._removeTile(Pt)}this._updateLoadedParentTileCache()}},U.prototype.releaseSymbolFadeTiles=function(){for(var j in this._tiles)this._tiles[j].holdingForFade()&&this._removeTile(j)},U.prototype._updateRetainedTiles=function(j,J){for(var fe={},Ae={},F=Math.max(J-U.maxOverzooming,this._source.minzoom),Q=Math.max(J+U.maxUnderzooming,this._source.minzoom),ie={},de=0,xe=j;de<xe.length;de+=1){var Ce=xe[de],Ue=this._addTile(Ce);fe[Ce.key]=Ce,Ue.hasData()||J<this._source.maxzoom&&(ie[Ce.key]=Ce)}this._retainLoadedChildren(ie,J,Q,fe);for(var He=0,We=j;He<We.length;He+=1){var Ke=We[He],nt=this._tiles[Ke.key];if(!nt.hasData()){if(J+1>this._source.maxzoom){var pt=Ke.children(this._source.maxzoom)[0],yt=this.getTile(pt);if(yt&&yt.hasData()){fe[pt.key]=pt;continue}}else{var It=Ke.children(this._source.maxzoom);if(fe[It[0].key]&&fe[It[1].key]&&fe[It[2].key]&&fe[It[3].key])continue}for(var Rt=nt.wasRequested(),Pt=Ke.overscaledZ-1;Pt>=F;--Pt){var Vt=Ke.scaledTo(Pt);if(Ae[Vt.key]||(Ae[Vt.key]=!0,!(nt=this.getTile(Vt))&&Rt&&(nt=this._addTile(Vt)),nt&&(fe[Vt.key]=Vt,Rt=nt.wasRequested(),nt.hasData())))break}}}return fe},U.prototype._updateLoadedParentTileCache=function(){for(var j in this._loadedParentTiles={},this._tiles){for(var J=[],fe=void 0,Ae=this._tiles[j].tileID;Ae.overscaledZ>0;){if(Ae.key in this._loadedParentTiles){fe=this._loadedParentTiles[Ae.key];break}J.push(Ae.key);var F=Ae.scaledTo(Ae.overscaledZ-1);if(fe=this._getLoadedTile(F))break;Ae=F}for(var Q=0,ie=J;Q<ie.length;Q+=1){var de=ie[Q];this._loadedParentTiles[de]=fe}}},U.prototype._addTile=function(j){var J=this._tiles[j.key];if(J)return J;(J=this._cache.getAndRemove(j))&&(this._setTileReloadTimer(j.key,J),J.tileID=j,this._state.initializeTileState(J,this.map?this.map.painter:null),this._cacheTimers[j.key]&&(clearTimeout(this._cacheTimers[j.key]),delete this._cacheTimers[j.key],this._setTileReloadTimer(j.key,J)));var fe=!!J;return fe||(J=new a.Tile(j,this._source.tileSize*j.overscaleFactor()),this._loadTile(J,this._tileLoaded.bind(this,J,j.key,J.state))),J?(J.uses++,this._tiles[j.key]=J,fe||this._source.fire(new a.Event("dataloading",{tile:J,coord:J.tileID,dataType:"source"})),J):null},U.prototype._setTileReloadTimer=function(j,J){var fe=this;j in this._timers&&(clearTimeout(this._timers[j]),delete this._timers[j]);var Ae=J.getExpiryTimeout();Ae&&(this._timers[j]=setTimeout(function(){fe._reloadTile(j,"expired"),delete fe._timers[j]},Ae))},U.prototype._removeTile=function(j){var J=this._tiles[j];J&&(J.uses--,delete this._tiles[j],this._timers[j]&&(clearTimeout(this._timers[j]),delete this._timers[j]),J.uses>0||(J.hasData()&&J.state!=="reloading"?this._cache.add(J.tileID,J,J.getExpiryTimeout()):(J.aborted=!0,this._abortTile(J),this._unloadTile(J))))},U.prototype.clearTiles=function(){for(var j in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(j);this._cache.reset()},U.prototype.tilesIn=function(j,J,fe){var Ae=this,F=[],Q=this.transform;if(!Q)return F;for(var ie=fe?Q.getCameraQueryGeometry(j):j,de=j.map(function(Pt){return Q.pointCoordinate(Pt)}),xe=ie.map(function(Pt){return Q.pointCoordinate(Pt)}),Ce=this.getIds(),Ue=1/0,He=1/0,We=-1/0,Ke=-1/0,nt=0,pt=xe;nt<pt.length;nt+=1){var yt=pt[nt];Ue=Math.min(Ue,yt.x),He=Math.min(He,yt.y),We=Math.max(We,yt.x),Ke=Math.max(Ke,yt.y)}for(var It=function(Pt){var Vt=Ae._tiles[Ce[Pt]];if(!Vt.holdingForFade()){var Dt=Vt.tileID,sn=Math.pow(2,Q.zoom-Vt.tileID.overscaledZ),Kt=J*Vt.queryPadding*a.EXTENT/Vt.tileSize/sn,Zt=[Dt.getTilePoint(new a.MercatorCoordinate(Ue,He)),Dt.getTilePoint(new a.MercatorCoordinate(We,Ke))];if(Zt[0].x-Kt<a.EXTENT&&Zt[0].y-Kt<a.EXTENT&&Zt[1].x+Kt>=0&&Zt[1].y+Kt>=0){var xn=de.map(function(jn){return Dt.getTilePoint(jn)}),_n=xe.map(function(jn){return Dt.getTilePoint(jn)});F.push({tile:Vt,tileID:Dt,queryGeometry:xn,cameraQueryGeometry:_n,scale:sn})}}},Rt=0;Rt<Ce.length;Rt++)It(Rt);return F},U.prototype.getVisibleCoordinates=function(j){for(var J=this,fe=this.getRenderableIds(j).map(function(ie){return J._tiles[ie].tileID}),Ae=0,F=fe;Ae<F.length;Ae+=1){var Q=F[Ae];Q.posMatrix=this.transform.calculatePosMatrix(Q.toUnwrapped())}return fe},U.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Re(this._source.type))for(var j in this._tiles){var J=this._tiles[j];if(J.fadeEndTime!==void 0&&J.fadeEndTime>=a.browser.now())return!0}return!1},U.prototype.setFeatureState=function(j,J,fe){j=j||"_geojsonTileLayer",this._state.updateState(j,J,fe)},U.prototype.removeFeatureState=function(j,J,fe){j=j||"_geojsonTileLayer",this._state.removeFeatureState(j,J,fe)},U.prototype.getFeatureState=function(j,J){return j=j||"_geojsonTileLayer",this._state.getState(j,J)},U.prototype.setDependencies=function(j,J,fe){var Ae=this._tiles[j];Ae&&Ae.setDependencies(J,fe)},U.prototype.reloadTilesForDependencies=function(j,J){for(var fe in this._tiles)this._tiles[fe].hasDependency(j,J)&&this._reloadTile(fe,"reloading");this._cache.filter(function(Ae){return!Ae.hasDependency(j,J)})},U}(a.Evented);function at(z,U){var j=Math.abs(2*z.wrap)-+(z.wrap<0),J=Math.abs(2*U.wrap)-+(U.wrap<0);return z.overscaledZ-U.overscaledZ||J-j||U.canonical.y-z.canonical.y||U.canonical.x-z.canonical.x}function Re(z){return z==="raster"||z==="image"||z==="video"}function je(){return new a.window.Worker(Yo.workerUrl)}ct.maxOverzooming=10,ct.maxUnderzooming=3;var st="mapboxgl_preloaded_worker_pool",ot=function(){this.active={}};ot.prototype.acquire=function(z){if(!this.workers)for(this.workers=[];this.workers.length<ot.workerCount;)this.workers.push(new je);return this.active[z]=!0,this.workers.slice()},ot.prototype.release=function(z){delete this.active[z],this.numActive()===0&&(this.workers.forEach(function(U){U.terminate()}),this.workers=null)},ot.prototype.isPreloaded=function(){return!!this.active[st]},ot.prototype.numActive=function(){return Object.keys(this.active).length};var xt,mt=Math.floor(a.browser.hardwareConcurrency/2);function bt(){return xt||(xt=new ot),xt}function dt(z,U){var j={};for(var J in z)J!=="ref"&&(j[J]=z[J]);return a.refProperties.forEach(function(fe){fe in U&&(j[fe]=U[fe])}),j}function St(z){z=z.slice();for(var U=Object.create(null),j=0;j<z.length;j++)U[z[j].id]=z[j];for(var J=0;J<z.length;J++)"ref"in z[J]&&(z[J]=dt(z[J],U[z[J].ref]));return z}ot.workerCount=Math.max(Math.min(mt,6),1);var gt={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function vt(z,U,j){j.push({command:gt.addSource,args:[z,U[z]]})}function Mt(z,U,j){U.push({command:gt.removeSource,args:[z]}),j[z]=!0}function Bt(z,U,j,J){Mt(z,j,J),vt(z,U,j)}function Nt(z,U,j){var J;for(J in z[j])if(z[j].hasOwnProperty(J)&&J!=="data"&&!a.deepEqual(z[j][J],U[j][J]))return!1;for(J in U[j])if(U[j].hasOwnProperty(J)&&J!=="data"&&!a.deepEqual(z[j][J],U[j][J]))return!1;return!0}function qt(z,U,j,J,fe,Ae){var F;for(F in U=U||{},z=z||{})z.hasOwnProperty(F)&&(a.deepEqual(z[F],U[F])||j.push({command:Ae,args:[J,F,U[F],fe]}));for(F in U)U.hasOwnProperty(F)&&!z.hasOwnProperty(F)&&(a.deepEqual(z[F],U[F])||j.push({command:Ae,args:[J,F,U[F],fe]}))}function an(z){return z.id}function Gt(z,U){return z[U.id]=U,z}function Yt(z,U){if(!z)return[{command:gt.setStyle,args:[U]}];var j=[];try{if(!a.deepEqual(z.version,U.version))return[{command:gt.setStyle,args:[U]}];a.deepEqual(z.center,U.center)||j.push({command:gt.setCenter,args:[U.center]}),a.deepEqual(z.zoom,U.zoom)||j.push({command:gt.setZoom,args:[U.zoom]}),a.deepEqual(z.bearing,U.bearing)||j.push({command:gt.setBearing,args:[U.bearing]}),a.deepEqual(z.pitch,U.pitch)||j.push({command:gt.setPitch,args:[U.pitch]}),a.deepEqual(z.sprite,U.sprite)||j.push({command:gt.setSprite,args:[U.sprite]}),a.deepEqual(z.glyphs,U.glyphs)||j.push({command:gt.setGlyphs,args:[U.glyphs]}),a.deepEqual(z.transition,U.transition)||j.push({command:gt.setTransition,args:[U.transition]}),a.deepEqual(z.light,U.light)||j.push({command:gt.setLight,args:[U.light]});var J={},fe=[];(function(F,Q,ie,de){var xe;for(xe in Q=Q||{},F=F||{})F.hasOwnProperty(xe)&&(Q.hasOwnProperty(xe)||Mt(xe,ie,de));for(xe in Q)Q.hasOwnProperty(xe)&&(F.hasOwnProperty(xe)?a.deepEqual(F[xe],Q[xe])||(F[xe].type==="geojson"&&Q[xe].type==="geojson"&&Nt(F,Q,xe)?ie.push({command:gt.setGeoJSONSourceData,args:[xe,Q[xe].data]}):Bt(xe,Q,ie,de)):vt(xe,Q,ie))})(z.sources,U.sources,fe,J);var Ae=[];z.layers&&z.layers.forEach(function(F){J[F.source]?j.push({command:gt.removeLayer,args:[F.id]}):Ae.push(F)}),j=j.concat(fe),function(F,Q,ie){Q=Q||[];var de,xe,Ce,Ue,He,We,Ke,nt=(F=F||[]).map(an),pt=Q.map(an),yt=F.reduce(Gt,{}),It=Q.reduce(Gt,{}),Rt=nt.slice(),Pt=Object.create(null);for(de=0,xe=0;de<nt.length;de++)Ce=nt[de],It.hasOwnProperty(Ce)?xe++:(ie.push({command:gt.removeLayer,args:[Ce]}),Rt.splice(Rt.indexOf(Ce,xe),1));for(de=0,xe=0;de<pt.length;de++)Ce=pt[pt.length-1-de],Rt[Rt.length-1-de]!==Ce&&(yt.hasOwnProperty(Ce)?(ie.push({command:gt.removeLayer,args:[Ce]}),Rt.splice(Rt.lastIndexOf(Ce,Rt.length-xe),1)):xe++,We=Rt[Rt.length-de],ie.push({command:gt.addLayer,args:[It[Ce],We]}),Rt.splice(Rt.length-de,0,Ce),Pt[Ce]=!0);for(de=0;de<pt.length;de++)if(Ue=yt[Ce=pt[de]],He=It[Ce],!Pt[Ce]&&!a.deepEqual(Ue,He))if(a.deepEqual(Ue.source,He.source)&&a.deepEqual(Ue["source-layer"],He["source-layer"])&&a.deepEqual(Ue.type,He.type)){for(Ke in qt(Ue.layout,He.layout,ie,Ce,null,gt.setLayoutProperty),qt(Ue.paint,He.paint,ie,Ce,null,gt.setPaintProperty),a.deepEqual(Ue.filter,He.filter)||ie.push({command:gt.setFilter,args:[Ce,He.filter]}),a.deepEqual(Ue.minzoom,He.minzoom)&&a.deepEqual(Ue.maxzoom,He.maxzoom)||ie.push({command:gt.setLayerZoomRange,args:[Ce,He.minzoom,He.maxzoom]}),Ue)Ue.hasOwnProperty(Ke)&&Ke!=="layout"&&Ke!=="paint"&&Ke!=="filter"&&Ke!=="metadata"&&Ke!=="minzoom"&&Ke!=="maxzoom"&&(Ke.indexOf("paint.")===0?qt(Ue[Ke],He[Ke],ie,Ce,Ke.slice(6),gt.setPaintProperty):a.deepEqual(Ue[Ke],He[Ke])||ie.push({command:gt.setLayerProperty,args:[Ce,Ke,He[Ke]]}));for(Ke in He)He.hasOwnProperty(Ke)&&!Ue.hasOwnProperty(Ke)&&Ke!=="layout"&&Ke!=="paint"&&Ke!=="filter"&&Ke!=="metadata"&&Ke!=="minzoom"&&Ke!=="maxzoom"&&(Ke.indexOf("paint.")===0?qt(Ue[Ke],He[Ke],ie,Ce,Ke.slice(6),gt.setPaintProperty):a.deepEqual(Ue[Ke],He[Ke])||ie.push({command:gt.setLayerProperty,args:[Ce,Ke,He[Ke]]}))}else ie.push({command:gt.removeLayer,args:[Ce]}),We=Rt[Rt.lastIndexOf(Ce)+1],ie.push({command:gt.addLayer,args:[He,We]})}(Ae,U.layers,j)}catch(F){console.warn("Unable to compute style diff:",F),j=[{command:gt.setStyle,args:[U]}]}return j}var en=function(z,U){this.reset(z,U)};en.prototype.reset=function(z,U){this.points=z||[],this._distances=[0];for(var j=1;j<this.points.length;j++)this._distances[j]=this._distances[j-1]+this.points[j].dist(this.points[j-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(U||0,.5*this.length),this.paddedLength=this.length-2*this.padding},en.prototype.lerp=function(z){if(this.points.length===1)return this.points[0];z=a.clamp(z,0,1);for(var U=1,j=this._distances[U],J=z*this.paddedLength+this.padding;j<J&&U<this._distances.length;)j=this._distances[++U];var fe=U-1,Ae=this._distances[fe],F=j-Ae,Q=F>0?(J-Ae)/F:0;return this.points[fe].mult(1-Q).add(this.points[U].mult(Q))};var bn=function(z,U,j){var J=this.boxCells=[],fe=this.circleCells=[];this.xCellCount=Math.ceil(z/j),this.yCellCount=Math.ceil(U/j);for(var Ae=0;Ae<this.xCellCount*this.yCellCount;Ae++)J.push([]),fe.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=z,this.height=U,this.xScale=this.xCellCount/z,this.yScale=this.yCellCount/U,this.boxUid=0,this.circleUid=0};function On(z,U,j,J,fe){var Ae=a.create();return U?(a.scale(Ae,Ae,[1/fe,1/fe,1]),j||a.rotateZ(Ae,Ae,J.angle)):a.multiply(Ae,J.labelPlaneMatrix,z),Ae}function gn(z,U,j,J,fe){if(U){var Ae=a.clone(z);return a.scale(Ae,Ae,[fe,fe,1]),j||a.rotateZ(Ae,Ae,-J.angle),Ae}return J.glCoordMatrix}function Xt(z,U){var j=[z.x,z.y,0,1];ir(j,j,U);var J=j[3];return{point:new a.Point(j[0]/J,j[1]/J),signedDistanceFromCamera:J}}function ln(z,U){return .5+z/U*.5}function nn(z,U){var j=z[0]/z[3],J=z[1]/z[3];return j>=-U[0]&&j<=U[0]&&J>=-U[1]&&J<=U[1]}function hn(z,U,j,J,fe,Ae,F,Q){var ie=J?z.textSizeData:z.iconSizeData,de=a.evaluateSizeForZoom(ie,j.transform.zoom),xe=[256/j.width*2+1,256/j.height*2+1],Ce=J?z.text.dynamicLayoutVertexArray:z.icon.dynamicLayoutVertexArray;Ce.clear();for(var Ue=z.lineVertexArray,He=J?z.text.placedSymbolArray:z.icon.placedSymbolArray,We=j.transform.width/j.transform.height,Ke=!1,nt=0;nt<He.length;nt++){var pt=He.get(nt);if(pt.hidden||pt.writingMode===a.WritingMode.vertical&&!Ke)Zn(pt.numGlyphs,Ce);else{Ke=!1;var yt=[pt.anchorX,pt.anchorY,0,1];if(a.transformMat4(yt,yt,U),nn(yt,xe)){var It=yt[3],Rt=ln(j.transform.cameraToCenterDistance,It),Pt=a.evaluateSizeForFeature(ie,de,pt),Vt=F?Pt/Rt:Pt*Rt,Dt=new a.Point(pt.anchorX,pt.anchorY),sn=Xt(Dt,fe).point,Kt={},Zt=Tn(pt,Vt,!1,Q,U,fe,Ae,z.glyphOffsetArray,Ue,Ce,sn,Dt,Kt,We);Ke=Zt.useVertical,(Zt.notEnoughRoom||Ke||Zt.needsFlipping&&Tn(pt,Vt,!0,Q,U,fe,Ae,z.glyphOffsetArray,Ue,Ce,sn,Dt,Kt,We).notEnoughRoom)&&Zn(pt.numGlyphs,Ce)}else Zn(pt.numGlyphs,Ce)}}J?z.text.dynamicLayoutVertexBuffer.updateData(Ce):z.icon.dynamicLayoutVertexBuffer.updateData(Ce)}function mn(z,U,j,J,fe,Ae,F,Q,ie,de,xe){var Ce=Q.glyphStartIndex+Q.numGlyphs,Ue=Q.lineStartIndex,He=Q.lineStartIndex+Q.lineLength,We=U.getoffsetX(Q.glyphStartIndex),Ke=U.getoffsetX(Ce-1),nt=yn(z*We,j,J,fe,Ae,F,Q.segment,Ue,He,ie,de,xe);if(!nt)return null;var pt=yn(z*Ke,j,J,fe,Ae,F,Q.segment,Ue,He,ie,de,xe);return pt?{first:nt,last:pt}:null}function Mn(z,U,j,J){return z===a.WritingMode.horizontal&&Math.abs(j.y-U.y)>Math.abs(j.x-U.x)*J?{useVertical:!0}:(z===a.WritingMode.vertical?U.y<j.y:U.x>j.x)?{needsFlipping:!0}:null}function Tn(z,U,j,J,fe,Ae,F,Q,ie,de,xe,Ce,Ue,He){var We,Ke=U/24,nt=z.lineOffsetX*Ke,pt=z.lineOffsetY*Ke;if(z.numGlyphs>1){var yt=z.glyphStartIndex+z.numGlyphs,It=z.lineStartIndex,Rt=z.lineStartIndex+z.lineLength,Pt=mn(Ke,Q,nt,pt,j,xe,Ce,z,ie,Ae,Ue);if(!Pt)return{notEnoughRoom:!0};var Vt=Xt(Pt.first.point,F).point,Dt=Xt(Pt.last.point,F).point;if(J&&!j){var sn=Mn(z.writingMode,Vt,Dt,He);if(sn)return sn}We=[Pt.first];for(var Kt=z.glyphStartIndex+1;Kt<yt-1;Kt++)We.push(yn(Ke*Q.getoffsetX(Kt),nt,pt,j,xe,Ce,z.segment,It,Rt,ie,Ae,Ue));We.push(Pt.last)}else{if(J&&!j){var Zt=Xt(Ce,fe).point,xn=z.lineStartIndex+z.segment+1,_n=new a.Point(ie.getx(xn),ie.gety(xn)),jn=Xt(_n,fe),Un=jn.signedDistanceFromCamera>0?jn.point:Pn(Ce,_n,Zt,1,fe),Wn=Mn(z.writingMode,Zt,Un,He);if(Wn)return Wn}var er=yn(Ke*Q.getoffsetX(z.glyphStartIndex),nt,pt,j,xe,Ce,z.segment,z.lineStartIndex,z.lineStartIndex+z.lineLength,ie,Ae,Ue);if(!er)return{notEnoughRoom:!0};We=[er]}for(var fr=0,cr=We;fr<cr.length;fr+=1){var vr=cr[fr];a.addDynamicAttributes(de,vr.point,vr.angle)}return{}}function Pn(z,U,j,J,fe){var Ae=Xt(z.add(z.sub(U)._unit()),fe).point,F=j.sub(Ae);return j.add(F._mult(J/F.mag()))}function yn(z,U,j,J,fe,Ae,F,Q,ie,de,xe,Ce){var Ue=J?z-U:z+U,He=Ue>0?1:-1,We=0;J&&(He*=-1,We=Math.PI),He<0&&(We+=Math.PI);for(var Ke=He>0?Q+F:Q+F+1,nt=fe,pt=fe,yt=0,It=0,Rt=Math.abs(Ue),Pt=[];yt+It<=Rt;){if((Ke+=He)<Q||Ke>=ie)return null;if(pt=nt,Pt.push(nt),(nt=Ce[Ke])===void 0){var Vt=new a.Point(de.getx(Ke),de.gety(Ke)),Dt=Xt(Vt,xe);if(Dt.signedDistanceFromCamera>0)nt=Ce[Ke]=Dt.point;else{var sn=Ke-He;nt=Pn(yt===0?Ae:new a.Point(de.getx(sn),de.gety(sn)),Vt,pt,Rt-yt+1,xe)}}yt+=It,It=pt.dist(nt)}var Kt=(Rt-yt)/It,Zt=nt.sub(pt),xn=Zt.mult(Kt)._add(pt);xn._add(Zt._unit()._perp()._mult(j*He));var _n=We+Math.atan2(nt.y-pt.y,nt.x-pt.x);return Pt.push(xn),{point:xn,angle:_n,path:Pt}}bn.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},bn.prototype.insert=function(z,U,j,J,fe){this._forEachCell(U,j,J,fe,this._insertBoxCell,this.boxUid++),this.boxKeys.push(z),this.bboxes.push(U),this.bboxes.push(j),this.bboxes.push(J),this.bboxes.push(fe)},bn.prototype.insertCircle=function(z,U,j,J){this._forEachCell(U-J,j-J,U+J,j+J,this._insertCircleCell,this.circleUid++),this.circleKeys.push(z),this.circles.push(U),this.circles.push(j),this.circles.push(J)},bn.prototype._insertBoxCell=function(z,U,j,J,fe,Ae){this.boxCells[fe].push(Ae)},bn.prototype._insertCircleCell=function(z,U,j,J,fe,Ae){this.circleCells[fe].push(Ae)},bn.prototype._query=function(z,U,j,J,fe,Ae){if(j<0||z>this.width||J<0||U>this.height)return!fe&&[];var F=[];if(z<=0&&U<=0&&this.width<=j&&this.height<=J){if(fe)return!0;for(var Q=0;Q<this.boxKeys.length;Q++)F.push({key:this.boxKeys[Q],x1:this.bboxes[4*Q],y1:this.bboxes[4*Q+1],x2:this.bboxes[4*Q+2],y2:this.bboxes[4*Q+3]});for(var ie=0;ie<this.circleKeys.length;ie++){var de=this.circles[3*ie],xe=this.circles[3*ie+1],Ce=this.circles[3*ie+2];F.push({key:this.circleKeys[ie],x1:de-Ce,y1:xe-Ce,x2:de+Ce,y2:xe+Ce})}return Ae?F.filter(Ae):F}var Ue={hitTest:fe,seenUids:{box:{},circle:{}}};return this._forEachCell(z,U,j,J,this._queryCell,F,Ue,Ae),fe?F.length>0:F},bn.prototype._queryCircle=function(z,U,j,J,fe){var Ae=z-j,F=z+j,Q=U-j,ie=U+j;if(F<0||Ae>this.width||ie<0||Q>this.height)return!J&&[];var de=[],xe={hitTest:J,circle:{x:z,y:U,radius:j},seenUids:{box:{},circle:{}}};return this._forEachCell(Ae,Q,F,ie,this._queryCellCircle,de,xe,fe),J?de.length>0:de},bn.prototype.query=function(z,U,j,J,fe){return this._query(z,U,j,J,!1,fe)},bn.prototype.hitTest=function(z,U,j,J,fe){return this._query(z,U,j,J,!0,fe)},bn.prototype.hitTestCircle=function(z,U,j,J){return this._queryCircle(z,U,j,!0,J)},bn.prototype._queryCell=function(z,U,j,J,fe,Ae,F,Q){var ie=F.seenUids,de=this.boxCells[fe];if(de!==null)for(var xe=this.bboxes,Ce=0,Ue=de;Ce<Ue.length;Ce+=1){var He=Ue[Ce];if(!ie.box[He]){ie.box[He]=!0;var We=4*He;if(z<=xe[We+2]&&U<=xe[We+3]&&j>=xe[We+0]&&J>=xe[We+1]&&(!Q||Q(this.boxKeys[He]))){if(F.hitTest)return Ae.push(!0),!0;Ae.push({key:this.boxKeys[He],x1:xe[We],y1:xe[We+1],x2:xe[We+2],y2:xe[We+3]})}}}var Ke=this.circleCells[fe];if(Ke!==null)for(var nt=this.circles,pt=0,yt=Ke;pt<yt.length;pt+=1){var It=yt[pt];if(!ie.circle[It]){ie.circle[It]=!0;var Rt=3*It;if(this._circleAndRectCollide(nt[Rt],nt[Rt+1],nt[Rt+2],z,U,j,J)&&(!Q||Q(this.circleKeys[It]))){if(F.hitTest)return Ae.push(!0),!0;var Pt=nt[Rt],Vt=nt[Rt+1],Dt=nt[Rt+2];Ae.push({key:this.circleKeys[It],x1:Pt-Dt,y1:Vt-Dt,x2:Pt+Dt,y2:Vt+Dt})}}}},bn.prototype._queryCellCircle=function(z,U,j,J,fe,Ae,F,Q){var ie=F.circle,de=F.seenUids,xe=this.boxCells[fe];if(xe!==null)for(var Ce=this.bboxes,Ue=0,He=xe;Ue<He.length;Ue+=1){var We=He[Ue];if(!de.box[We]){de.box[We]=!0;var Ke=4*We;if(this._circleAndRectCollide(ie.x,ie.y,ie.radius,Ce[Ke+0],Ce[Ke+1],Ce[Ke+2],Ce[Ke+3])&&(!Q||Q(this.boxKeys[We])))return Ae.push(!0),!0}}var nt=this.circleCells[fe];if(nt!==null)for(var pt=this.circles,yt=0,It=nt;yt<It.length;yt+=1){var Rt=It[yt];if(!de.circle[Rt]){de.circle[Rt]=!0;var Pt=3*Rt;if(this._circlesCollide(pt[Pt],pt[Pt+1],pt[Pt+2],ie.x,ie.y,ie.radius)&&(!Q||Q(this.circleKeys[Rt])))return Ae.push(!0),!0}}},bn.prototype._forEachCell=function(z,U,j,J,fe,Ae,F,Q){for(var ie=this._convertToXCellCoord(z),de=this._convertToYCellCoord(U),xe=this._convertToXCellCoord(j),Ce=this._convertToYCellCoord(J),Ue=ie;Ue<=xe;Ue++)for(var He=de;He<=Ce;He++){var We=this.xCellCount*He+Ue;if(fe.call(this,z,U,j,J,We,Ae,F,Q))return}},bn.prototype._convertToXCellCoord=function(z){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(z*this.xScale)))},bn.prototype._convertToYCellCoord=function(z){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(z*this.yScale)))},bn.prototype._circlesCollide=function(z,U,j,J,fe,Ae){var F=J-z,Q=fe-U,ie=j+Ae;return ie*ie>F*F+Q*Q},bn.prototype._circleAndRectCollide=function(z,U,j,J,fe,Ae,F){var Q=(Ae-J)/2,ie=Math.abs(z-(J+Q));if(ie>Q+j)return!1;var de=(F-fe)/2,xe=Math.abs(U-(fe+de));if(xe>de+j)return!1;if(ie<=Q||xe<=de)return!0;var Ce=ie-Q,Ue=xe-de;return Ce*Ce+Ue*Ue<=j*j};var Rn=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Zn(z,U){for(var j=0;j<z;j++){var J=U.length;U.resize(J+4),U.float32.set(Rn,3*J)}}function ir(z,U,j){var J=U[0],fe=U[1];return z[0]=j[0]*J+j[4]*fe+j[12],z[1]=j[1]*J+j[5]*fe+j[13],z[3]=j[3]*J+j[7]*fe+j[15],z}var sr=100,tr=function(z,U,j){U===void 0&&(U=new bn(z.width+200,z.height+200,25)),j===void 0&&(j=new bn(z.width+200,z.height+200,25)),this.transform=z,this.grid=U,this.ignoredGrid=j,this.pitchfactor=Math.cos(z._pitch)*z.cameraToCenterDistance,this.screenRightBoundary=z.width+sr,this.screenBottomBoundary=z.height+sr,this.gridRightBoundary=z.width+200,this.gridBottomBoundary=z.height+200};function Jn(z,U,j){return U*(a.EXTENT/(z.tileSize*Math.pow(2,j-z.tileID.overscaledZ)))}tr.prototype.placeCollisionBox=function(z,U,j,J,fe){var Ae=this.projectAndGetPerspectiveRatio(J,z.anchorPointX,z.anchorPointY),F=j*Ae.perspectiveRatio,Q=z.x1*F+Ae.point.x,ie=z.y1*F+Ae.point.y,de=z.x2*F+Ae.point.x,xe=z.y2*F+Ae.point.y;return!this.isInsideGrid(Q,ie,de,xe)||!U&&this.grid.hitTest(Q,ie,de,xe,fe)?{box:[],offscreen:!1}:{box:[Q,ie,de,xe],offscreen:this.isOffscreen(Q,ie,de,xe)}},tr.prototype.placeCollisionCircles=function(z,U,j,J,fe,Ae,F,Q,ie,de,xe,Ce,Ue){var He=[],We=new a.Point(U.anchorX,U.anchorY),Ke=Xt(We,Ae),nt=ln(this.transform.cameraToCenterDistance,Ke.signedDistanceFromCamera),pt=(de?fe/nt:fe*nt)/a.ONE_EM,yt=Xt(We,F).point,It=mn(pt,J,U.lineOffsetX*pt,U.lineOffsetY*pt,!1,yt,We,U,j,F,{}),Rt=!1,Pt=!1,Vt=!0;if(It){for(var Dt=.5*Ce*nt+Ue,sn=new a.Point(-100,-100),Kt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),Zt=new en,xn=It.first,_n=It.last,jn=[],Un=xn.path.length-1;Un>=1;Un--)jn.push(xn.path[Un]);for(var Wn=1;Wn<_n.path.length;Wn++)jn.push(_n.path[Wn]);var er=2.5*Dt;if(Q){var fr=jn.map(function(Ki){return Xt(Ki,Q)});jn=fr.some(function(Ki){return Ki.signedDistanceFromCamera<=0})?[]:fr.map(function(Ki){return Ki.point})}var cr=[];if(jn.length>0){for(var vr=jn[0].clone(),kr=jn[0].clone(),Br=1;Br<jn.length;Br++)vr.x=Math.min(vr.x,jn[Br].x),vr.y=Math.min(vr.y,jn[Br].y),kr.x=Math.max(kr.x,jn[Br].x),kr.y=Math.max(kr.y,jn[Br].y);cr=vr.x>=sn.x&&kr.x<=Kt.x&&vr.y>=sn.y&&kr.y<=Kt.y?[jn]:kr.x<sn.x||vr.x>Kt.x||kr.y<sn.y||vr.y>Kt.y?[]:a.clipLine([jn],sn.x,sn.y,Kt.x,Kt.y)}for(var qn=0,ur=cr;qn<ur.length;qn+=1){var mr=ur[qn];Zt.reset(mr,.25*Dt);var Mr;Mr=Zt.length<=.5*Dt?1:Math.ceil(Zt.paddedLength/er)+1;for(var Dr=0;Dr<Mr;Dr++){var Hr=Dr/Math.max(Mr-1,1),Jr=Zt.lerp(Hr),ai=Jr.x+sr,wi=Jr.y+sr;He.push(ai,wi,Dt,0);var Ti=ai-Dt,oi=wi-Dt,Hi=ai+Dt,ha=wi+Dt;if(Vt=Vt&&this.isOffscreen(Ti,oi,Hi,ha),Pt=Pt||this.isInsideGrid(Ti,oi,Hi,ha),!z&&this.grid.hitTestCircle(ai,wi,Dt,xe)&&(Rt=!0,!ie))return{circles:[],offscreen:!1,collisionDetected:Rt}}}}return{circles:!ie&&Rt||!Pt?[]:He,offscreen:Vt,collisionDetected:Rt}},tr.prototype.queryRenderedSymbols=function(z){if(z.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var U=[],j=1/0,J=1/0,fe=-1/0,Ae=-1/0,F=0,Q=z;F<Q.length;F+=1){var ie=Q[F],de=new a.Point(ie.x+sr,ie.y+sr);j=Math.min(j,de.x),J=Math.min(J,de.y),fe=Math.max(fe,de.x),Ae=Math.max(Ae,de.y),U.push(de)}for(var xe={},Ce={},Ue=0,He=this.grid.query(j,J,fe,Ae).concat(this.ignoredGrid.query(j,J,fe,Ae));Ue<He.length;Ue+=1){var We=He[Ue],Ke=We.key;if(xe[Ke.bucketInstanceId]===void 0&&(xe[Ke.bucketInstanceId]={}),!xe[Ke.bucketInstanceId][Ke.featureIndex]){var nt=[new a.Point(We.x1,We.y1),new a.Point(We.x2,We.y1),new a.Point(We.x2,We.y2),new a.Point(We.x1,We.y2)];a.polygonIntersectsPolygon(U,nt)&&(xe[Ke.bucketInstanceId][Ke.featureIndex]=!0,Ce[Ke.bucketInstanceId]===void 0&&(Ce[Ke.bucketInstanceId]=[]),Ce[Ke.bucketInstanceId].push(Ke.featureIndex))}}return Ce},tr.prototype.insertCollisionBox=function(z,U,j,J,fe){var Ae={bucketInstanceId:j,featureIndex:J,collisionGroupID:fe};(U?this.ignoredGrid:this.grid).insert(Ae,z[0],z[1],z[2],z[3])},tr.prototype.insertCollisionCircles=function(z,U,j,J,fe){for(var Ae=U?this.ignoredGrid:this.grid,F={bucketInstanceId:j,featureIndex:J,collisionGroupID:fe},Q=0;Q<z.length;Q+=4)Ae.insertCircle(F,z[Q],z[Q+1],z[Q+2])},tr.prototype.projectAndGetPerspectiveRatio=function(z,U,j){var J=[U,j,0,1];return ir(J,J,z),{point:new a.Point((J[0]/J[3]+1)/2*this.transform.width+sr,(-J[1]/J[3]+1)/2*this.transform.height+sr),perspectiveRatio:.5+this.transform.cameraToCenterDistance/J[3]*.5}},tr.prototype.isOffscreen=function(z,U,j,J){return j<sr||z>=this.screenRightBoundary||J<sr||U>this.screenBottomBoundary},tr.prototype.isInsideGrid=function(z,U,j,J){return j>=0&&z<this.gridRightBoundary&&J>=0&&U<this.gridBottomBoundary},tr.prototype.getViewportMatrix=function(){var z=a.identity([]);return a.translate(z,z,[-100,-100,0]),z};var pr=function(z,U,j,J){this.opacity=z?Math.max(0,Math.min(1,z.opacity+(z.placed?U:-U))):J&&j?1:0,this.placed=j};pr.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Ut=function(z,U,j,J,fe){this.text=new pr(z?z.text:null,U,j,fe),this.icon=new pr(z?z.icon:null,U,J,fe)};Ut.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var rn=function(z,U,j){this.text=z,this.icon=U,this.skipFade=j},cn=function(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]},vn=function(z,U,j,J,fe){this.bucketInstanceId=z,this.featureIndex=U,this.sourceLayerIndex=j,this.bucketIndex=J,this.tileID=fe},Sn=function(z){this.crossSourceCollisions=z,this.maxGroupID=0,this.collisionGroups={}};function Hn(z,U,j,J,fe){var Ae=a.getAnchorAlignment(z),F=-(Ae.horizontalAlign-.5)*U,Q=-(Ae.verticalAlign-.5)*j,ie=a.evaluateVariableOffset(z,J);return new a.Point(F+ie[0]*fe,Q+ie[1]*fe)}function Dn(z,U,j,J,fe,Ae){var F=z.x1,Q=z.x2,ie=z.y1,de=z.y2,xe=z.anchorPointX,Ce=z.anchorPointY,Ue=new a.Point(U,j);return J&&Ue._rotate(fe?Ae:-Ae),{x1:F+Ue.x,y1:ie+Ue.y,x2:Q+Ue.x,y2:de+Ue.y,anchorPointX:xe,anchorPointY:Ce}}Sn.prototype.get=function(z){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[z]){var U=++this.maxGroupID;this.collisionGroups[z]={ID:U,predicate:function(j){return j.collisionGroupID===U}}}return this.collisionGroups[z]};var Bn=function(z,U,j,J){this.transform=z.clone(),this.collisionIndex=new tr(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=U,this.retainedQueryData={},this.collisionGroups=new Sn(j),this.collisionCircleArrays={},this.prevPlacement=J,J&&(J.prevPlacement=void 0),this.placedOrientations={}};function Qn(z,U,j,J,fe){z.emplaceBack(U?1:0,j?1:0,J||0,fe||0),z.emplaceBack(U?1:0,j?1:0,J||0,fe||0),z.emplaceBack(U?1:0,j?1:0,J||0,fe||0),z.emplaceBack(U?1:0,j?1:0,J||0,fe||0)}Bn.prototype.getBucketParts=function(z,U,j,J){var fe=j.getBucket(U),Ae=j.latestFeatureIndex;if(fe&&Ae&&U.id===fe.layerIds[0]){var F=j.collisionBoxArray,Q=fe.layers[0].layout,ie=Math.pow(2,this.transform.zoom-j.tileID.overscaledZ),de=j.tileSize/a.EXTENT,xe=this.transform.calculatePosMatrix(j.tileID.toUnwrapped()),Ce=Q.get("text-pitch-alignment")==="map",Ue=Q.get("text-rotation-alignment")==="map",He=Jn(j,1,this.transform.zoom),We=On(xe,Ce,Ue,this.transform,He),Ke=null;if(Ce){var nt=gn(xe,Ce,Ue,this.transform,He);Ke=a.multiply([],this.transform.labelPlaneMatrix,nt)}this.retainedQueryData[fe.bucketInstanceId]=new vn(fe.bucketInstanceId,Ae,fe.sourceLayerIndex,fe.index,j.tileID);var pt={bucket:fe,layout:Q,posMatrix:xe,textLabelPlaneMatrix:We,labelToScreenMatrix:Ke,scale:ie,textPixelRatio:de,holdingForFade:j.holdingForFade(),collisionBoxArray:F,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(fe.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(fe.sourceID)};if(J)for(var yt=0,It=fe.sortKeyRanges;yt<It.length;yt+=1){var Rt=It[yt],Pt=Rt.sortKey,Vt=Rt.symbolInstanceStart,Dt=Rt.symbolInstanceEnd;z.push({sortKey:Pt,symbolInstanceStart:Vt,symbolInstanceEnd:Dt,parameters:pt})}else z.push({symbolInstanceStart:0,symbolInstanceEnd:fe.symbolInstances.length,parameters:pt})}},Bn.prototype.attemptAnchorPlacement=function(z,U,j,J,fe,Ae,F,Q,ie,de,xe,Ce,Ue,He,We){var Ke,nt=[Ce.textOffset0,Ce.textOffset1],pt=Hn(z,j,J,nt,fe),yt=this.collisionIndex.placeCollisionBox(Dn(U,pt.x,pt.y,Ae,F,this.transform.angle),xe,Q,ie,de.predicate);if(!We||this.collisionIndex.placeCollisionBox(Dn(We,pt.x,pt.y,Ae,F,this.transform.angle),xe,Q,ie,de.predicate).box.length!==0)return yt.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[Ce.crossTileID]&&this.prevPlacement.placements[Ce.crossTileID]&&this.prevPlacement.placements[Ce.crossTileID].text&&(Ke=this.prevPlacement.variableOffsets[Ce.crossTileID].anchor),this.variableOffsets[Ce.crossTileID]={textOffset:nt,width:j,height:J,anchor:z,textBoxScale:fe,prevAnchor:Ke},this.markUsedJustification(Ue,z,Ce,He),Ue.allowVerticalPlacement&&(this.markUsedOrientation(Ue,He,Ce),this.placedOrientations[Ce.crossTileID]=He),{shift:pt,placedGlyphBoxes:yt}):void 0},Bn.prototype.placeLayerBucketPart=function(z,U,j){var J=this,fe=z.parameters,Ae=fe.bucket,F=fe.layout,Q=fe.posMatrix,ie=fe.textLabelPlaneMatrix,de=fe.labelToScreenMatrix,xe=fe.textPixelRatio,Ce=fe.holdingForFade,Ue=fe.collisionBoxArray,He=fe.partiallyEvaluatedTextSize,We=fe.collisionGroup,Ke=F.get("text-optional"),nt=F.get("icon-optional"),pt=F.get("text-allow-overlap"),yt=F.get("icon-allow-overlap"),It=F.get("text-rotation-alignment")==="map",Rt=F.get("text-pitch-alignment")==="map",Pt=F.get("icon-text-fit")!=="none",Vt=F.get("symbol-z-order")==="viewport-y",Dt=pt&&(yt||!Ae.hasIconData()||nt),sn=yt&&(pt||!Ae.hasTextData()||Ke);!Ae.collisionArrays&&Ue&&Ae.deserializeCollisionBoxes(Ue);var Kt=function(Wn,er){if(!U[Wn.crossTileID])if(Ce)J.placements[Wn.crossTileID]=new rn(!1,!1,!1);else{var fr,cr=!1,vr=!1,kr=!0,Br=null,qn={box:null,offscreen:null},ur={box:null,offscreen:null},mr=null,Mr=null,Dr=0,Hr=0,Jr=0;er.textFeatureIndex?Dr=er.textFeatureIndex:Wn.useRuntimeCollisionCircles&&(Dr=Wn.featureIndex),er.verticalTextFeatureIndex&&(Hr=er.verticalTextFeatureIndex);var ai=er.textBox;if(ai){var wi=function(Yi){var pa=a.WritingMode.horizontal;if(Ae.allowVerticalPlacement&&!Yi&&J.prevPlacement){var mo=J.prevPlacement.placedOrientations[Wn.crossTileID];mo&&(J.placedOrientations[Wn.crossTileID]=mo,pa=mo,J.markUsedOrientation(Ae,pa,Wn))}return pa},Ti=function(Yi,pa){if(Ae.allowVerticalPlacement&&Wn.numVerticalGlyphVertices>0&&er.verticalTextBox)for(var mo=0,Zu=Ae.writingModes;mo<Zu.length&&(Zu[mo]===a.WritingMode.vertical?(qn=pa(),ur=qn):qn=Yi(),!(qn&&qn.box&&qn.box.length));mo+=1);else qn=Yi()};if(F.get("text-variable-anchor")){var oi=F.get("text-variable-anchor");if(J.prevPlacement&&J.prevPlacement.variableOffsets[Wn.crossTileID]){var Hi=J.prevPlacement.variableOffsets[Wn.crossTileID];oi.indexOf(Hi.anchor)>0&&(oi=oi.filter(function(Yi){return Yi!==Hi.anchor})).unshift(Hi.anchor)}var ha=function(Yi,pa,mo){for(var Zu=Yi.x2-Yi.x1,Tf=Yi.y2-Yi.y1,Dh=Wn.textBoxScale,Cc=Pt&&!yt?pa:null,Xu={box:[],offscreen:!1},Oc=pt?2*oi.length:oi.length,Ou=0;Ou<Oc;++Ou){var kf=oi[Ou%oi.length],_u=Ou>=oi.length,Pc=J.attemptAnchorPlacement(kf,Yi,Zu,Tf,Dh,It,Rt,xe,Q,We,_u,Wn,Ae,mo,Cc);if(Pc&&(Xu=Pc.placedGlyphBoxes)&&Xu.box&&Xu.box.length){cr=!0,Br=Pc.shift;break}}return Xu};Ti(function(){return ha(ai,er.iconBox,a.WritingMode.horizontal)},function(){var Yi=er.verticalTextBox,pa=qn&&qn.box&&qn.box.length;return Ae.allowVerticalPlacement&&!pa&&Wn.numVerticalGlyphVertices>0&&Yi?ha(Yi,er.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null}}),qn&&(cr=qn.box,kr=qn.offscreen);var Ki=wi(qn&&qn.box);if(!cr&&J.prevPlacement){var ia=J.prevPlacement.variableOffsets[Wn.crossTileID];ia&&(J.variableOffsets[Wn.crossTileID]=ia,J.markUsedJustification(Ae,ia.anchor,Wn,Ki))}}else{var ei=function(Yi,pa){var mo=J.collisionIndex.placeCollisionBox(Yi,pt,xe,Q,We.predicate);return mo&&mo.box&&mo.box.length&&(J.markUsedOrientation(Ae,pa,Wn),J.placedOrientations[Wn.crossTileID]=pa),mo};Ti(function(){return ei(ai,a.WritingMode.horizontal)},function(){var Yi=er.verticalTextBox;return Ae.allowVerticalPlacement&&Wn.numVerticalGlyphVertices>0&&Yi?ei(Yi,a.WritingMode.vertical):{box:null,offscreen:null}}),wi(qn&&qn.box&&qn.box.length)}}if(cr=(fr=qn)&&fr.box&&fr.box.length>0,kr=fr&&fr.offscreen,Wn.useRuntimeCollisionCircles){var Xr=Ae.text.placedSymbolArray.get(Wn.centerJustifiedTextSymbolIndex),ki=a.evaluateSizeForFeature(Ae.textSizeData,He,Xr),gi=F.get("text-padding"),Ei=Wn.collisionCircleDiameter;mr=J.collisionIndex.placeCollisionCircles(pt,Xr,Ae.lineVertexArray,Ae.glyphOffsetArray,ki,Q,ie,de,j,Rt,We.predicate,Ei,gi),cr=pt||mr.circles.length>0&&!mr.collisionDetected,kr=kr&&mr.offscreen}if(er.iconFeatureIndex&&(Jr=er.iconFeatureIndex),er.iconBox){var Da=function(Yi){var pa=Pt&&Br?Dn(Yi,Br.x,Br.y,It,Rt,J.transform.angle):Yi;return J.collisionIndex.placeCollisionBox(pa,yt,xe,Q,We.predicate)};vr=ur&&ur.box&&ur.box.length&&er.verticalIconBox?(Mr=Da(er.verticalIconBox)).box.length>0:(Mr=Da(er.iconBox)).box.length>0,kr=kr&&Mr.offscreen}var Bi=Ke||Wn.numHorizontalGlyphVertices===0&&Wn.numVerticalGlyphVertices===0,si=nt||Wn.numIconVertices===0;if(Bi||si?si?Bi||(vr=vr&&cr):cr=vr&&cr:vr=cr=vr&&cr,cr&&fr&&fr.box&&(ur&&ur.box&&Hr?J.collisionIndex.insertCollisionBox(fr.box,F.get("text-ignore-placement"),Ae.bucketInstanceId,Hr,We.ID):J.collisionIndex.insertCollisionBox(fr.box,F.get("text-ignore-placement"),Ae.bucketInstanceId,Dr,We.ID)),vr&&Mr&&J.collisionIndex.insertCollisionBox(Mr.box,F.get("icon-ignore-placement"),Ae.bucketInstanceId,Jr,We.ID),mr&&(cr&&J.collisionIndex.insertCollisionCircles(mr.circles,F.get("text-ignore-placement"),Ae.bucketInstanceId,Dr,We.ID),j)){var Rs=Ae.bucketInstanceId,Ha=J.collisionCircleArrays[Rs];Ha===void 0&&(Ha=J.collisionCircleArrays[Rs]=new cn);for(var ao=0;ao<mr.circles.length;ao+=4)Ha.circles.push(mr.circles[ao+0]),Ha.circles.push(mr.circles[ao+1]),Ha.circles.push(mr.circles[ao+2]),Ha.circles.push(mr.collisionDetected?1:0)}J.placements[Wn.crossTileID]=new rn(cr||Dt,vr||sn,kr||Ae.justReloaded),U[Wn.crossTileID]=!0}};if(Vt)for(var Zt=Ae.getSortedSymbolIndexes(this.transform.angle),xn=Zt.length-1;xn>=0;--xn){var _n=Zt[xn];Kt(Ae.symbolInstances.get(_n),Ae.collisionArrays[_n])}else for(var jn=z.symbolInstanceStart;jn<z.symbolInstanceEnd;jn++)Kt(Ae.symbolInstances.get(jn),Ae.collisionArrays[jn]);if(j&&Ae.bucketInstanceId in this.collisionCircleArrays){var Un=this.collisionCircleArrays[Ae.bucketInstanceId];a.invert(Un.invProjMatrix,Q),Un.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ae.justReloaded=!1},Bn.prototype.markUsedJustification=function(z,U,j,J){var fe,Ae={left:j.leftJustifiedTextSymbolIndex,center:j.centerJustifiedTextSymbolIndex,right:j.rightJustifiedTextSymbolIndex};fe=J===a.WritingMode.vertical?j.verticalPlacedTextSymbolIndex:Ae[a.getAnchorJustification(U)];for(var F=0,Q=[j.leftJustifiedTextSymbolIndex,j.centerJustifiedTextSymbolIndex,j.rightJustifiedTextSymbolIndex,j.verticalPlacedTextSymbolIndex];F<Q.length;F+=1){var ie=Q[F];ie>=0&&(z.text.placedSymbolArray.get(ie).crossTileID=fe>=0&&ie!==fe?0:j.crossTileID)}},Bn.prototype.markUsedOrientation=function(z,U,j){for(var J=U===a.WritingMode.horizontal||U===a.WritingMode.horizontalOnly?U:0,fe=U===a.WritingMode.vertical?U:0,Ae=0,F=[j.leftJustifiedTextSymbolIndex,j.centerJustifiedTextSymbolIndex,j.rightJustifiedTextSymbolIndex];Ae<F.length;Ae+=1){var Q=F[Ae];z.text.placedSymbolArray.get(Q).placedOrientation=J}j.verticalPlacedTextSymbolIndex&&(z.text.placedSymbolArray.get(j.verticalPlacedTextSymbolIndex).placedOrientation=fe)},Bn.prototype.commit=function(z){this.commitTime=z,this.zoomAtLastRecencyCheck=this.transform.zoom;var U=this.prevPlacement,j=!1;this.prevZoomAdjustment=U?U.zoomAdjustment(this.transform.zoom):0;var J=U?U.symbolFadeChange(z):1,fe=U?U.opacities:{},Ae=U?U.variableOffsets:{},F=U?U.placedOrientations:{};for(var Q in this.placements){var ie=this.placements[Q],de=fe[Q];de?(this.opacities[Q]=new Ut(de,J,ie.text,ie.icon),j=j||ie.text!==de.text.placed||ie.icon!==de.icon.placed):(this.opacities[Q]=new Ut(null,J,ie.text,ie.icon,ie.skipFade),j=j||ie.text||ie.icon)}for(var xe in fe){var Ce=fe[xe];if(!this.opacities[xe]){var Ue=new Ut(Ce,J,!1,!1);Ue.isHidden()||(this.opacities[xe]=Ue,j=j||Ce.text.placed||Ce.icon.placed)}}for(var He in Ae)this.variableOffsets[He]||!this.opacities[He]||this.opacities[He].isHidden()||(this.variableOffsets[He]=Ae[He]);for(var We in F)this.placedOrientations[We]||!this.opacities[We]||this.opacities[We].isHidden()||(this.placedOrientations[We]=F[We]);j?this.lastPlacementChangeTime=z:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=U?U.lastPlacementChangeTime:z)},Bn.prototype.updateLayerOpacities=function(z,U){for(var j={},J=0,fe=U;J<fe.length;J+=1){var Ae=fe[J],F=Ae.getBucket(z);F&&Ae.latestFeatureIndex&&z.id===F.layerIds[0]&&this.updateBucketOpacities(F,j,Ae.collisionBoxArray)}},Bn.prototype.updateBucketOpacities=function(z,U,j){var J=this;z.hasTextData()&&z.text.opacityVertexArray.clear(),z.hasIconData()&&z.icon.opacityVertexArray.clear(),z.hasIconCollisionBoxData()&&z.iconCollisionBox.collisionVertexArray.clear(),z.hasTextCollisionBoxData()&&z.textCollisionBox.collisionVertexArray.clear();var fe=z.layers[0].layout,Ae=new Ut(null,0,!1,!1,!0),F=fe.get("text-allow-overlap"),Q=fe.get("icon-allow-overlap"),ie=fe.get("text-variable-anchor"),de=fe.get("text-rotation-alignment")==="map",xe=fe.get("text-pitch-alignment")==="map",Ce=fe.get("icon-text-fit")!=="none",Ue=new Ut(null,0,F&&(Q||!z.hasIconData()||fe.get("icon-optional")),Q&&(F||!z.hasTextData()||fe.get("text-optional")),!0);!z.collisionArrays&&j&&(z.hasIconCollisionBoxData()||z.hasTextCollisionBoxData())&&z.deserializeCollisionBoxes(j);for(var He=function(pt,yt,It){for(var Rt=0;Rt<yt/4;Rt++)pt.opacityVertexArray.emplaceBack(It)},We=function(pt){var yt=z.symbolInstances.get(pt),It=yt.numHorizontalGlyphVertices,Rt=yt.numVerticalGlyphVertices,Pt=yt.crossTileID,Vt=U[Pt],Dt=J.opacities[Pt];Vt?Dt=Ae:Dt||(Dt=Ue,J.opacities[Pt]=Dt),U[Pt]=!0;var sn=It>0||Rt>0,Kt=yt.numIconVertices>0,Zt=J.placedOrientations[yt.crossTileID],xn=Zt===a.WritingMode.vertical,_n=Zt===a.WritingMode.horizontal||Zt===a.WritingMode.horizontalOnly;if(sn){var jn=Cn(Dt.text),Un=xn?pn:jn;He(z.text,It,Un);var Wn=_n?pn:jn;He(z.text,Rt,Wn);var er=Dt.text.isHidden();[yt.rightJustifiedTextSymbolIndex,yt.centerJustifiedTextSymbolIndex,yt.leftJustifiedTextSymbolIndex].forEach(function(Jr){Jr>=0&&(z.text.placedSymbolArray.get(Jr).hidden=er||xn?1:0)}),yt.verticalPlacedTextSymbolIndex>=0&&(z.text.placedSymbolArray.get(yt.verticalPlacedTextSymbolIndex).hidden=er||_n?1:0);var fr=J.variableOffsets[yt.crossTileID];fr&&J.markUsedJustification(z,fr.anchor,yt,Zt);var cr=J.placedOrientations[yt.crossTileID];cr&&(J.markUsedJustification(z,"left",yt,cr),J.markUsedOrientation(z,cr,yt))}if(Kt){var vr=Cn(Dt.icon),kr=!(Ce&&yt.verticalPlacedIconSymbolIndex&&xn);if(yt.placedIconSymbolIndex>=0){var Br=kr?vr:pn;He(z.icon,yt.numIconVertices,Br),z.icon.placedSymbolArray.get(yt.placedIconSymbolIndex).hidden=Dt.icon.isHidden()}if(yt.verticalPlacedIconSymbolIndex>=0){var qn=kr?pn:vr;He(z.icon,yt.numVerticalIconVertices,qn),z.icon.placedSymbolArray.get(yt.verticalPlacedIconSymbolIndex).hidden=Dt.icon.isHidden()}}if(z.hasIconCollisionBoxData()||z.hasTextCollisionBoxData()){var ur=z.collisionArrays[pt];if(ur){var mr=new a.Point(0,0);if(ur.textBox||ur.verticalTextBox){var Mr=!0;if(ie){var Dr=J.variableOffsets[Pt];Dr?(mr=Hn(Dr.anchor,Dr.width,Dr.height,Dr.textOffset,Dr.textBoxScale),de&&mr._rotate(xe?J.transform.angle:-J.transform.angle)):Mr=!1}ur.textBox&&Qn(z.textCollisionBox.collisionVertexArray,Dt.text.placed,!Mr||xn,mr.x,mr.y),ur.verticalTextBox&&Qn(z.textCollisionBox.collisionVertexArray,Dt.text.placed,!Mr||_n,mr.x,mr.y)}var Hr=!!(!_n&&ur.verticalIconBox);ur.iconBox&&Qn(z.iconCollisionBox.collisionVertexArray,Dt.icon.placed,Hr,Ce?mr.x:0,Ce?mr.y:0),ur.verticalIconBox&&Qn(z.iconCollisionBox.collisionVertexArray,Dt.icon.placed,!Hr,Ce?mr.x:0,Ce?mr.y:0)}}},Ke=0;Ke<z.symbolInstances.length;Ke++)We(Ke);if(z.sortFeatures(this.transform.angle),this.retainedQueryData[z.bucketInstanceId]&&(this.retainedQueryData[z.bucketInstanceId].featureSortOrder=z.featureSortOrder),z.hasTextData()&&z.text.opacityVertexBuffer&&z.text.opacityVertexBuffer.updateData(z.text.opacityVertexArray),z.hasIconData()&&z.icon.opacityVertexBuffer&&z.icon.opacityVertexBuffer.updateData(z.icon.opacityVertexArray),z.hasIconCollisionBoxData()&&z.iconCollisionBox.collisionVertexBuffer&&z.iconCollisionBox.collisionVertexBuffer.updateData(z.iconCollisionBox.collisionVertexArray),z.hasTextCollisionBoxData()&&z.textCollisionBox.collisionVertexBuffer&&z.textCollisionBox.collisionVertexBuffer.updateData(z.textCollisionBox.collisionVertexArray),z.bucketInstanceId in this.collisionCircleArrays){var nt=this.collisionCircleArrays[z.bucketInstanceId];z.placementInvProjMatrix=nt.invProjMatrix,z.placementViewportMatrix=nt.viewportMatrix,z.collisionCircleArray=nt.circles,delete this.collisionCircleArrays[z.bucketInstanceId]}},Bn.prototype.symbolFadeChange=function(z){return this.fadeDuration===0?1:(z-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},Bn.prototype.zoomAdjustment=function(z){return Math.max(0,(this.transform.zoom-z)/1.5)},Bn.prototype.hasTransitions=function(z){return this.stale||z-this.lastPlacementChangeTime<this.fadeDuration},Bn.prototype.stillRecent=function(z,U){var j=this.zoomAtLastRecencyCheck===U?1-this.zoomAdjustment(U):1;return this.zoomAtLastRecencyCheck=U,this.commitTime+this.fadeDuration*j>z},Bn.prototype.setStale=function(){this.stale=!0};var Wt=Math.pow(2,25),An=Math.pow(2,24),Ct=Math.pow(2,17),Jt=Math.pow(2,16),tn=Math.pow(2,9),wn=Math.pow(2,8),kn=Math.pow(2,1);function Cn(z){if(z.opacity===0&&!z.placed)return 0;if(z.opacity===1&&z.placed)return 4294967295;var U=z.placed?1:0,j=Math.floor(127*z.opacity);return j*Wt+U*An+j*Ct+U*Jt+j*tn+U*wn+j*kn+U}var pn=0,$t=function(z){this._sortAcrossTiles=z.layout.get("symbol-z-order")!=="viewport-y"&&z.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};$t.prototype.continuePlacement=function(z,U,j,J,fe){for(var Ae=this._bucketParts;this._currentTileIndex<z.length;){var F=z[this._currentTileIndex];if(U.getBucketParts(Ae,J,F,this._sortAcrossTiles),this._currentTileIndex++,fe())return!0}for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ae.sort(function(ie,de){return ie.sortKey-de.sortKey}));this._currentPartIndex<Ae.length;){var Q=Ae[this._currentPartIndex];if(U.placeLayerBucketPart(Q,this._seenCrossTileIDs,j),this._currentPartIndex++,fe())return!0}return!1};var Qt=function(z,U,j,J,fe,Ae,F){this.placement=new Bn(z,fe,Ae,F),this._currentPlacementIndex=U.length-1,this._forceFullPlacement=j,this._showCollisionBoxes=J,this._done=!1};Qt.prototype.isDone=function(){return this._done},Qt.prototype.continuePlacement=function(z,U,j){for(var J=this,fe=a.browser.now(),Ae=function(){var ie=a.browser.now()-fe;return!J._forceFullPlacement&&ie>2};this._currentPlacementIndex>=0;){var F=U[z[this._currentPlacementIndex]],Q=this.placement.collisionIndex.transform.zoom;if(F.type==="symbol"&&(!F.minzoom||F.minzoom<=Q)&&(!F.maxzoom||F.maxzoom>Q)){if(this._inProgressLayer||(this._inProgressLayer=new $t(F)),this._inProgressLayer.continuePlacement(j[F.source],this.placement,this._showCollisionBoxes,F,Ae))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},Qt.prototype.commit=function(z){return this.placement.commit(z),this.placement};var fn=512/a.EXTENT/2,dn=function(z,U,j){this.tileID=z,this.indexedSymbolInstances={},this.bucketInstanceId=j;for(var J=0;J<U.length;J++){var fe=U.get(J),Ae=fe.key;this.indexedSymbolInstances[Ae]||(this.indexedSymbolInstances[Ae]=[]),this.indexedSymbolInstances[Ae].push({crossTileID:fe.crossTileID,coord:this.getScaledCoordinates(fe,z)})}};dn.prototype.getScaledCoordinates=function(z,U){var j=U.canonical.z-this.tileID.canonical.z,J=fn/Math.pow(2,j);return{x:Math.floor((U.canonical.x*a.EXTENT+z.anchorX)*J),y:Math.floor((U.canonical.y*a.EXTENT+z.anchorY)*J)}},dn.prototype.findMatches=function(z,U,j){for(var J=this.tileID.canonical.z<U.canonical.z?1:Math.pow(2,this.tileID.canonical.z-U.canonical.z),fe=0;fe<z.length;fe++){var Ae=z.get(fe);if(!Ae.crossTileID){var F=this.indexedSymbolInstances[Ae.key];if(F)for(var Q=this.getScaledCoordinates(Ae,U),ie=0,de=F;ie<de.length;ie+=1){var xe=de[ie];if(Math.abs(xe.coord.x-Q.x)<=J&&Math.abs(xe.coord.y-Q.y)<=J&&!j[xe.crossTileID]){j[xe.crossTileID]=!0,Ae.crossTileID=xe.crossTileID;break}}}}};var In=function(){this.maxCrossTileID=0};In.prototype.generate=function(){return++this.maxCrossTileID};var zn=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};zn.prototype.handleWrapJump=function(z){var U=Math.round((z-this.lng)/360);if(U!==0)for(var j in this.indexes){var J=this.indexes[j],fe={};for(var Ae in J){var F=J[Ae];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+U),fe[F.tileID.key]=F}this.indexes[j]=fe}this.lng=z},zn.prototype.addBucket=function(z,U,j){if(this.indexes[z.overscaledZ]&&this.indexes[z.overscaledZ][z.key]){if(this.indexes[z.overscaledZ][z.key].bucketInstanceId===U.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(z.overscaledZ,this.indexes[z.overscaledZ][z.key])}for(var J=0;J<U.symbolInstances.length;J++)U.symbolInstances.get(J).crossTileID=0;this.usedCrossTileIDs[z.overscaledZ]||(this.usedCrossTileIDs[z.overscaledZ]={});var fe=this.usedCrossTileIDs[z.overscaledZ];for(var Ae in this.indexes){var F=this.indexes[Ae];if(Number(Ae)>z.overscaledZ)for(var Q in F){var ie=F[Q];ie.tileID.isChildOf(z)&&ie.findMatches(U.symbolInstances,z,fe)}else{var de=F[z.scaledTo(Number(Ae)).key];de&&de.findMatches(U.symbolInstances,z,fe)}}for(var xe=0;xe<U.symbolInstances.length;xe++){var Ce=U.symbolInstances.get(xe);Ce.crossTileID||(Ce.crossTileID=j.generate(),fe[Ce.crossTileID]=!0)}return this.indexes[z.overscaledZ]===void 0&&(this.indexes[z.overscaledZ]={}),this.indexes[z.overscaledZ][z.key]=new dn(z,U.symbolInstances,U.bucketInstanceId),!0},zn.prototype.removeBucketCrossTileIDs=function(z,U){for(var j in U.indexedSymbolInstances)for(var J=0,fe=U.indexedSymbolInstances[j];J<fe.length;J+=1){var Ae=fe[J];delete this.usedCrossTileIDs[z][Ae.crossTileID]}},zn.prototype.removeStaleBuckets=function(z){var U=!1;for(var j in this.indexes){var J=this.indexes[j];for(var fe in J)z[J[fe].bucketInstanceId]||(this.removeBucketCrossTileIDs(j,J[fe]),delete J[fe],U=!0)}return U};var Yn=function(){this.layerIndexes={},this.crossTileIDs=new In,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};Yn.prototype.addLayer=function(z,U,j){var J=this.layerIndexes[z.id];J===void 0&&(J=this.layerIndexes[z.id]=new zn);var fe=!1,Ae={};J.handleWrapJump(j);for(var F=0,Q=U;F<Q.length;F+=1){var ie=Q[F],de=ie.getBucket(z);de&&z.id===de.layerIds[0]&&(de.bucketInstanceId||(de.bucketInstanceId=++this.maxBucketInstanceId),J.addBucket(ie.tileID,de,this.crossTileIDs)&&(fe=!0),Ae[de.bucketInstanceId]=!0)}return J.removeStaleBuckets(Ae)&&(fe=!0),fe},Yn.prototype.pruneUnusedLayers=function(z){var U={};for(var j in z.forEach(function(J){U[J]=!0}),this.layerIndexes)U[j]||delete this.layerIndexes[j]};var Vn=function(z,U){return a.emitValidationErrors(z,U&&U.filter(function(j){return j.identifier!=="source.canvas"}))},nr=a.pick(gt,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Xn=a.pick(gt,["setCenter","setZoom","setBearing","setPitch"]),lr=function(){var z={},U=a.styleSpec.$version;for(var j in a.styleSpec.$root){var J=a.styleSpec.$root[j];if(J.required){var fe;(fe=j==="version"?U:J.type==="array"?[]:{})!=null&&(z[j]=fe)}}return z}(),ar=function(z){function U(j,J){var fe=this;J===void 0&&(J={}),z.call(this),this.map=j,this.dispatcher=new L(bt(),this),this.imageManager=new p,this.imageManager.setEventedParent(this),this.glyphManager=new m(j._requestManager,J.localIdeographFontFamily),this.lineAtlas=new E(256,512),this.crossTileSymbolIndex=new Yn,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new a.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());var Ae=this;this._rtlTextPluginCallback=U.registerForPluginStateChange(function(F){var Q={pluginStatus:F.pluginStatus,pluginURL:F.pluginURL};Ae.dispatcher.broadcast("syncRTLPluginState",Q,function(ie,de){if(a.triggerPluginCompletionEvent(ie),de&&de.every(function(Ce){return Ce}))for(var xe in Ae.sourceCaches)Ae.sourceCaches[xe].reload()})}),this.on("data",function(F){if(F.dataType==="source"&&F.sourceDataType==="metadata"){var Q=fe.sourceCaches[F.sourceId];if(Q){var ie=Q.getSource();if(ie&&ie.vectorLayerIds)for(var de in fe._layers){var xe=fe._layers[de];xe.source===ie.id&&fe._validateLayer(xe)}}}})}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.loadURL=function(j,J){var fe=this;J===void 0&&(J={}),this.fire(new a.Event("dataloading",{dataType:"style"}));var Ae=typeof J.validate=="boolean"?J.validate:!a.isMapboxURL(j);j=this.map._requestManager.normalizeStyleURL(j,J.accessToken);var F=this.map._requestManager.transformRequest(j,a.ResourceType.Style);this._request=a.getJSON(F,function(Q,ie){fe._request=null,Q?fe.fire(new a.ErrorEvent(Q)):ie&&fe._load(ie,Ae)})},U.prototype.loadJSON=function(j,J){var fe=this;J===void 0&&(J={}),this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.browser.frame(function(){fe._request=null,fe._load(j,J.validate!==!1)})},U.prototype.loadEmpty=function(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(lr,!1)},U.prototype._load=function(j,J){if(!J||!Vn(this,a.validateStyle(j))){for(var fe in this._loaded=!0,this.stylesheet=j,j.sources)this.addSource(fe,j.sources[fe],{validate:!1});j.sprite?this._loadSprite(j.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(j.glyphs);var Ae=St(this.stylesheet.layers);this._order=Ae.map(function(de){return de.id}),this._layers={},this._serializedLayers={};for(var F=0,Q=Ae;F<Q.length;F+=1){var ie=Q[F];(ie=a.createStyleLayer(ie)).setEventedParent(this,{layer:{id:ie.id}}),this._layers[ie.id]=ie,this._serializedLayers[ie.id]=ie.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new T(this.stylesheet.light),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}},U.prototype._loadSprite=function(j){var J=this;this._spriteRequest=function(fe,Ae,F){var Q,ie,de,xe=a.browser.devicePixelRatio>1?"@2x":"",Ce=a.getJSON(Ae.transformRequest(Ae.normalizeSpriteURL(fe,xe,".json"),a.ResourceType.SpriteJSON),function(We,Ke){Ce=null,de||(de=We,Q=Ke,He())}),Ue=a.getImage(Ae.transformRequest(Ae.normalizeSpriteURL(fe,xe,".png"),a.ResourceType.SpriteImage),function(We,Ke){Ue=null,de||(de=We,ie=Ke,He())});function He(){if(de)F(de);else if(Q&&ie){var We=a.browser.getImageData(ie),Ke={};for(var nt in Q){var pt=Q[nt],yt=pt.width,It=pt.height,Rt=pt.x,Pt=pt.y,Vt=pt.sdf,Dt=pt.pixelRatio,sn=pt.stretchX,Kt=pt.stretchY,Zt=pt.content,xn=new a.RGBAImage({width:yt,height:It});a.RGBAImage.copy(We,xn,{x:Rt,y:Pt},{x:0,y:0},{width:yt,height:It}),Ke[nt]={data:xn,pixelRatio:Dt,sdf:Vt,stretchX:sn,stretchY:Kt,content:Zt}}F(null,Ke)}}return{cancel:function(){Ce&&(Ce.cancel(),Ce=null),Ue&&(Ue.cancel(),Ue=null)}}}(j,this.map._requestManager,function(fe,Ae){if(J._spriteRequest=null,fe)J.fire(new a.ErrorEvent(fe));else if(Ae)for(var F in Ae)J.imageManager.addImage(F,Ae[F]);J.imageManager.setLoaded(!0),J._availableImages=J.imageManager.listImages(),J.dispatcher.broadcast("setImages",J._availableImages),J.fire(new a.Event("data",{dataType:"style"}))})},U.prototype._validateLayer=function(j){var J=this.sourceCaches[j.source];if(J){var fe=j.sourceLayer;if(fe){var Ae=J.getSource();(Ae.type==="geojson"||Ae.vectorLayerIds&&Ae.vectorLayerIds.indexOf(fe)===-1)&&this.fire(new a.ErrorEvent(new Error('Source layer "'+fe+'" does not exist on source "'+Ae.id+'" as specified by style layer "'+j.id+'"')))}}},U.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var j in this.sourceCaches)if(!this.sourceCaches[j].loaded())return!1;return!!this.imageManager.isLoaded()},U.prototype._serializeLayers=function(j){for(var J=[],fe=0,Ae=j;fe<Ae.length;fe+=1){var F=Ae[fe],Q=this._layers[F];Q.type!=="custom"&&J.push(Q.serialize())}return J},U.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var j in this.sourceCaches)if(this.sourceCaches[j].hasTransition())return!0;for(var J in this._layers)if(this._layers[J].hasTransition())return!0;return!1},U.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},U.prototype.update=function(j){if(this._loaded){var J=this._changed;if(this._changed){var fe=Object.keys(this._updatedLayers),Ae=Object.keys(this._removedLayers);for(var F in(fe.length||Ae.length)&&this._updateWorkerLayers(fe,Ae),this._updatedSources){var Q=this._updatedSources[F];Q==="reload"?this._reloadSource(F):Q==="clear"&&this._clearSource(F)}for(var ie in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[ie].updateTransitions(j);this.light.updateTransitions(j),this._resetUpdates()}for(var de in this.sourceCaches)this.sourceCaches[de].used=!1;for(var xe=0,Ce=this._order;xe<Ce.length;xe+=1){var Ue=Ce[xe],He=this._layers[Ue];He.recalculate(j,this._availableImages),!He.isHidden(j.zoom)&&He.source&&(this.sourceCaches[He.source].used=!0)}this.light.recalculate(j),this.z=j.zoom,J&&this.fire(new a.Event("data",{dataType:"style"}))}},U.prototype._updateTilesForChangedImages=function(){var j=Object.keys(this._changedImages);if(j.length){for(var J in this.sourceCaches)this.sourceCaches[J].reloadTilesForDependencies(["icons","patterns"],j);this._changedImages={}}},U.prototype._updateWorkerLayers=function(j,J){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(j),removedIds:J})},U.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},U.prototype.setState=function(j){var J=this;if(this._checkLoaded(),Vn(this,a.validateStyle(j)))return!1;(j=a.clone$1(j)).layers=St(j.layers);var fe=Yt(this.serialize(),j).filter(function(F){return!(F.command in Xn)});if(fe.length===0)return!1;var Ae=fe.filter(function(F){return!(F.command in nr)});if(Ae.length>0)throw new Error("Unimplemented: "+Ae.map(function(F){return F.command}).join(", ")+".");return fe.forEach(function(F){F.command!=="setTransition"&&J[F.command].apply(J,F.args)}),this.stylesheet=j,!0},U.prototype.addImage=function(j,J){if(this.getImage(j))return this.fire(new a.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(j,J),this._availableImages=this.imageManager.listImages(),this._changedImages[j]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},U.prototype.updateImage=function(j,J){this.imageManager.updateImage(j,J)},U.prototype.getImage=function(j){return this.imageManager.getImage(j)},U.prototype.removeImage=function(j){if(!this.getImage(j))return this.fire(new a.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(j),this._availableImages=this.imageManager.listImages(),this._changedImages[j]=!0,this._changed=!0,this.fire(new a.Event("data",{dataType:"style"}))},U.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},U.prototype.addSource=function(j,J,fe){var Ae=this;if(fe===void 0&&(fe={}),this._checkLoaded(),this.sourceCaches[j]!==void 0)throw new Error("There is already a source with this ID");if(!J.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(J).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(J.type)>=0&&this._validate(a.validateStyle.source,"sources."+j,J,null,fe))){this.map&&this.map._collectResourceTiming&&(J.collectResourceTiming=!0);var F=this.sourceCaches[j]=new ct(j,J,this.dispatcher);F.style=this,F.setEventedParent(this,function(){return{isSourceLoaded:Ae.loaded(),source:F.serialize(),sourceId:j}}),F.onAdd(this.map),this._changed=!0}},U.prototype.removeSource=function(j){if(this._checkLoaded(),this.sourceCaches[j]===void 0)throw new Error("There is no source with this ID");for(var J in this._layers)if(this._layers[J].source===j)return this.fire(new a.ErrorEvent(new Error('Source "'+j+'" cannot be removed while layer "'+J+'" is using it.')));var fe=this.sourceCaches[j];delete this.sourceCaches[j],delete this._updatedSources[j],fe.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:j})),fe.setEventedParent(null),fe.clearTiles(),fe.onRemove&&fe.onRemove(this.map),this._changed=!0},U.prototype.setGeoJSONSourceData=function(j,J){this._checkLoaded(),this.sourceCaches[j].getSource().setData(J),this._changed=!0},U.prototype.getSource=function(j){return this.sourceCaches[j]&&this.sourceCaches[j].getSource()},U.prototype.addLayer=function(j,J,fe){fe===void 0&&(fe={}),this._checkLoaded();var Ae=j.id;if(this.getLayer(Ae))this.fire(new a.ErrorEvent(new Error('Layer with id "'+Ae+'" already exists on this map')));else{var F;if(j.type==="custom"){if(Vn(this,a.validateCustomStyleLayer(j)))return;F=a.createStyleLayer(j)}else{if(typeof j.source=="object"&&(this.addSource(Ae,j.source),j=a.clone$1(j),j=a.extend(j,{source:Ae})),this._validate(a.validateStyle.layer,"layers."+Ae,j,{arrayIndex:-1},fe))return;F=a.createStyleLayer(j),this._validateLayer(F),F.setEventedParent(this,{layer:{id:Ae}}),this._serializedLayers[F.id]=F.serialize()}var Q=J?this._order.indexOf(J):this._order.length;if(J&&Q===-1)this.fire(new a.ErrorEvent(new Error('Layer with id "'+J+'" does not exist on this map.')));else{if(this._order.splice(Q,0,Ae),this._layerOrderChanged=!0,this._layers[Ae]=F,this._removedLayers[Ae]&&F.source&&F.type!=="custom"){var ie=this._removedLayers[Ae];delete this._removedLayers[Ae],ie.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",this.sourceCaches[F.source].pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map)}}},U.prototype.moveLayer=function(j,J){if(this._checkLoaded(),this._changed=!0,this._layers[j]){if(j!==J){var fe=this._order.indexOf(j);this._order.splice(fe,1);var Ae=J?this._order.indexOf(J):this._order.length;J&&Ae===-1?this.fire(new a.ErrorEvent(new Error('Layer with id "'+J+'" does not exist on this map.'))):(this._order.splice(Ae,0,j),this._layerOrderChanged=!0)}}else this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style and cannot be moved.")))},U.prototype.removeLayer=function(j){this._checkLoaded();var J=this._layers[j];if(J){J.setEventedParent(null);var fe=this._order.indexOf(j);this._order.splice(fe,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[j]=J,delete this._layers[j],delete this._serializedLayers[j],delete this._updatedLayers[j],delete this._updatedPaintProps[j],J.onRemove&&J.onRemove(this.map)}else this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style and cannot be removed.")))},U.prototype.getLayer=function(j){return this._layers[j]},U.prototype.hasLayer=function(j){return j in this._layers},U.prototype.setLayerZoomRange=function(j,J,fe){this._checkLoaded();var Ae=this.getLayer(j);Ae?Ae.minzoom===J&&Ae.maxzoom===fe||(J!=null&&(Ae.minzoom=J),fe!=null&&(Ae.maxzoom=fe),this._updateLayer(Ae)):this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style and cannot have zoom extent.")))},U.prototype.setFilter=function(j,J,fe){fe===void 0&&(fe={}),this._checkLoaded();var Ae=this.getLayer(j);if(Ae){if(!a.deepEqual(Ae.filter,J))return J==null?(Ae.filter=void 0,void this._updateLayer(Ae)):void(this._validate(a.validateStyle.filter,"layers."+Ae.id+".filter",J,null,fe)||(Ae.filter=a.clone$1(J),this._updateLayer(Ae)))}else this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style and cannot be filtered.")))},U.prototype.getFilter=function(j){return a.clone$1(this.getLayer(j).filter)},U.prototype.setLayoutProperty=function(j,J,fe,Ae){Ae===void 0&&(Ae={}),this._checkLoaded();var F=this.getLayer(j);F?a.deepEqual(F.getLayoutProperty(J),fe)||(F.setLayoutProperty(J,fe,Ae),this._updateLayer(F)):this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style and cannot be styled.")))},U.prototype.getLayoutProperty=function(j,J){var fe=this.getLayer(j);if(fe)return fe.getLayoutProperty(J);this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style.")))},U.prototype.setPaintProperty=function(j,J,fe,Ae){Ae===void 0&&(Ae={}),this._checkLoaded();var F=this.getLayer(j);F?a.deepEqual(F.getPaintProperty(J),fe)||(F.setPaintProperty(J,fe,Ae)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[j]=!0):this.fire(new a.ErrorEvent(new Error("The layer '"+j+"' does not exist in the map's style and cannot be styled.")))},U.prototype.getPaintProperty=function(j,J){return this.getLayer(j).getPaintProperty(J)},U.prototype.setFeatureState=function(j,J){this._checkLoaded();var fe=j.source,Ae=j.sourceLayer,F=this.sourceCaches[fe];if(F!==void 0){var Q=F.getSource().type;Q==="geojson"&&Ae?this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):Q!=="vector"||Ae?(j.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),F.setFeatureState(Ae,j.id,J)):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+fe+"' does not exist in the map's style.")))},U.prototype.removeFeatureState=function(j,J){this._checkLoaded();var fe=j.source,Ae=this.sourceCaches[fe];if(Ae!==void 0){var F=Ae.getSource().type,Q=F==="vector"?j.sourceLayer:void 0;F!=="vector"||Q?J&&typeof j.id!="string"&&typeof j.id!="number"?this.fire(new a.ErrorEvent(new Error("A feature id is requred to remove its specific state property."))):Ae.removeFeatureState(Q,j.id,J):this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+fe+"' does not exist in the map's style.")))},U.prototype.getFeatureState=function(j){this._checkLoaded();var J=j.source,fe=j.sourceLayer,Ae=this.sourceCaches[J];if(Ae!==void 0){if(Ae.getSource().type!=="vector"||fe)return j.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),Ae.getFeatureState(fe,j.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error("The source '"+J+"' does not exist in the map's style.")))},U.prototype.getTransition=function(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},U.prototype.serialize=function(){return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:a.mapObject(this.sourceCaches,function(j){return j.serialize()}),layers:this._serializeLayers(this._order)},function(j){return j!==void 0})},U.prototype._updateLayer=function(j){this._updatedLayers[j.id]=!0,j.source&&!this._updatedSources[j.source]&&this.sourceCaches[j.source].getSource().type!=="raster"&&(this._updatedSources[j.source]="reload",this.sourceCaches[j.source].pause()),this._changed=!0},U.prototype._flattenAndSortRenderedFeatures=function(j){for(var J=this,fe=function(Zt){return J._layers[Zt].type==="fill-extrusion"},Ae={},F=[],Q=this._order.length-1;Q>=0;Q--){var ie=this._order[Q];if(fe(ie)){Ae[ie]=Q;for(var de=0,xe=j;de<xe.length;de+=1){var Ce=xe[de][ie];if(Ce)for(var Ue=0,He=Ce;Ue<He.length;Ue+=1){var We=He[Ue];F.push(We)}}}}F.sort(function(Zt,xn){return xn.intersectionZ-Zt.intersectionZ});for(var Ke=[],nt=this._order.length-1;nt>=0;nt--){var pt=this._order[nt];if(fe(pt))for(var yt=F.length-1;yt>=0;yt--){var It=F[yt].feature;if(Ae[It.layer.id]<nt)break;Ke.push(It),F.pop()}else for(var Rt=0,Pt=j;Rt<Pt.length;Rt+=1){var Vt=Pt[Rt][pt];if(Vt)for(var Dt=0,sn=Vt;Dt<sn.length;Dt+=1){var Kt=sn[Dt];Ke.push(Kt.feature)}}}return Ke},U.prototype.queryRenderedFeatures=function(j,J,fe){J&&J.filter&&this._validate(a.validateStyle.filter,"queryRenderedFeatures.filter",J.filter,null,J);var Ae={};if(J&&J.layers){if(!Array.isArray(J.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var F=0,Q=J.layers;F<Q.length;F+=1){var ie=Q[F],de=this._layers[ie];if(!de)return this.fire(new a.ErrorEvent(new Error("The layer '"+ie+"' does not exist in the map's style and cannot be queried for features."))),[];Ae[de.source]=!0}}var xe=[];for(var Ce in J.availableImages=this._availableImages,this.sourceCaches)J.layers&&!Ae[Ce]||xe.push(K(this.sourceCaches[Ce],this._layers,this._serializedLayers,j,J,fe));return this.placement&&xe.push(function(Ue,He,We,Ke,nt,pt,yt){for(var It={},Rt=pt.queryRenderedSymbols(Ke),Pt=[],Vt=0,Dt=Object.keys(Rt).map(Number);Vt<Dt.length;Vt+=1){var sn=Dt[Vt];Pt.push(yt[sn])}Pt.sort(Z);for(var Kt=function(){var Un=xn[Zt],Wn=Un.featureIndex.lookupSymbolFeatures(Rt[Un.bucketInstanceId],He,Un.bucketIndex,Un.sourceLayerIndex,nt.filter,nt.layers,nt.availableImages,Ue);for(var er in Wn){var fr=It[er]=It[er]||[],cr=Wn[er];cr.sort(function(qn,ur){var mr=Un.featureSortOrder;if(mr){var Mr=mr.indexOf(qn.featureIndex);return mr.indexOf(ur.featureIndex)-Mr}return ur.featureIndex-qn.featureIndex});for(var vr=0,kr=cr;vr<kr.length;vr+=1){var Br=kr[vr];fr.push(Br)}}},Zt=0,xn=Pt;Zt<xn.length;Zt+=1)Kt();var _n=function(Un){It[Un].forEach(function(Wn){var er=Wn.feature,fr=Ue[Un],cr=We[fr.source].getFeatureState(er.layer["source-layer"],er.id);er.source=er.layer.source,er.layer["source-layer"]&&(er.sourceLayer=er.layer["source-layer"]),er.state=cr})};for(var jn in It)_n(jn);return It}(this._layers,this._serializedLayers,this.sourceCaches,j,J,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(xe)},U.prototype.querySourceFeatures=function(j,J){J&&J.filter&&this._validate(a.validateStyle.filter,"querySourceFeatures.filter",J.filter,null,J);var fe=this.sourceCaches[j];return fe?function(Ae,F){for(var Q=Ae.getRenderableIds().map(function(He){return Ae.getTileByID(He)}),ie=[],de={},xe=0;xe<Q.length;xe++){var Ce=Q[xe],Ue=Ce.tileID.canonical.key;de[Ue]||(de[Ue]=!0,Ce.querySourceFeatures(ie,F))}return ie}(fe,J):[]},U.prototype.addSourceType=function(j,J,fe){return U.getSourceType(j)?fe(new Error('A source type called "'+j+'" already exists.')):(U.setSourceType(j,J),J.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:j,url:J.workerSourceURL},fe):fe(null,null))},U.prototype.getLight=function(){return this.light.getLight()},U.prototype.setLight=function(j,J){J===void 0&&(J={}),this._checkLoaded();var fe=this.light.getLight(),Ae=!1;for(var F in j)if(!a.deepEqual(j[F],fe[F])){Ae=!0;break}if(Ae){var Q={now:a.browser.now(),transition:a.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(j,J),this.light.updateTransitions(Q)}},U.prototype._validate=function(j,J,fe,Ae,F){return F===void 0&&(F={}),(!F||F.validate!==!1)&&Vn(this,j.call(a.validateStyle,a.extend({key:J,style:this.serialize(),value:fe,styleSpec:a.styleSpec},Ae)))},U.prototype._remove=function(){for(var j in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[j].setEventedParent(null);for(var J in this.sourceCaches)this.sourceCaches[J].clearTiles(),this.sourceCaches[J].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},U.prototype._clearSource=function(j){this.sourceCaches[j].clearTiles()},U.prototype._reloadSource=function(j){this.sourceCaches[j].resume(),this.sourceCaches[j].reload()},U.prototype._updateSources=function(j){for(var J in this.sourceCaches)this.sourceCaches[J].update(j)},U.prototype._generateCollisionBoxes=function(){for(var j in this.sourceCaches)this._reloadSource(j)},U.prototype._updatePlacement=function(j,J,fe,Ae,F){F===void 0&&(F=!1);for(var Q=!1,ie=!1,de={},xe=0,Ce=this._order;xe<Ce.length;xe+=1){var Ue=Ce[xe],He=this._layers[Ue];if(He.type==="symbol"){if(!de[He.source]){var We=this.sourceCaches[He.source];de[He.source]=We.getRenderableIds(!0).map(function(Rt){return We.getTileByID(Rt)}).sort(function(Rt,Pt){return Pt.tileID.overscaledZ-Rt.tileID.overscaledZ||(Rt.tileID.isLessThan(Pt.tileID)?-1:1)})}var Ke=this.crossTileSymbolIndex.addLayer(He,de[He.source],j.center.lng);Q=Q||Ke}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((F=F||this._layerOrderChanged||fe===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.browser.now(),j.zoom))&&(this.pauseablePlacement=new Qt(j,this._order,F,J,fe,Ae,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,de),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.browser.now()),ie=!0),Q&&this.pauseablePlacement.placement.setStale()),ie||Q)for(var nt=0,pt=this._order;nt<pt.length;nt+=1){var yt=pt[nt],It=this._layers[yt];It.type==="symbol"&&this.placement.updateLayerOpacities(It,de[It.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.browser.now())},U.prototype._releaseSymbolFadeTiles=function(){for(var j in this.sourceCaches)this.sourceCaches[j].releaseSymbolFadeTiles()},U.prototype.getImages=function(j,J,fe){this.imageManager.getImages(J.icons,fe),this._updateTilesForChangedImages();var Ae=this.sourceCaches[J.source];Ae&&Ae.setDependencies(J.tileID.key,J.type,J.icons)},U.prototype.getGlyphs=function(j,J,fe){this.glyphManager.getGlyphs(J.stacks,fe)},U.prototype.getResource=function(j,J,fe){return a.makeRequest(J,fe)},U}(a.Evented);ar.getSourceType=function(z){return te[z]},ar.setSourceType=function(z,U){te[z]=U},ar.registerForPluginStateChange=a.registerForPluginStateChange;var or=a.createLayout([{name:"a_pos",type:"Int16",components:2}]),dr=ti(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),gr=ti(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Sr=ti(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),$n=ti(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),xr=ti("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Rr=ti(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),ii=ti(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),_i=ti("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),vi=ti("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),Si=ti("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),fi=ti(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Ui=ti(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),bo=ti(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),ja=ti(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Do=ti(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Vl=ti(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),ys=ti(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform float u_maxzoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggeration=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/ pow(2.0,(u_zoom-u_maxzoom)*exaggeration+19.2562-u_zoom);gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Qs=ti(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),Hl=ti(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),_o=ti(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,vec2(v_lineprogress,0.5));gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define MAX_LINE_DISTANCE 32767.0
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_lineprogress;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_lineprogress=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0/MAX_LINE_DISTANCE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),fu=ti(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),xs=ti(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),bs=ti(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),wo=ti(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),Xi=ti(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),el=ti(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function ti(z,U){var j=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,J={};return{fragmentSource:z=z.replace(j,function(fe,Ae,F,Q,ie){return J[ie]=!0,Ae==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
varying `+F+" "+Q+" "+ie+`;
#else
uniform `+F+" "+Q+" u_"+ie+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ie+`
    `+F+" "+Q+" "+ie+" = u_"+ie+`;
#endif
`}),vertexSource:U=U.replace(j,function(fe,Ae,F,Q,ie){var de=Q==="float"?"vec2":"vec4",xe=ie.match(/color/)?"color":de;return J[ie]?Ae==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
uniform lowp float u_`+ie+`_t;
attribute `+F+" "+de+" a_"+ie+`;
varying `+F+" "+Q+" "+ie+`;
#else
uniform `+F+" "+Q+" u_"+ie+`;
#endif
`:xe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+ie+" = a_"+ie+`;
#else
    `+F+" "+Q+" "+ie+" = u_"+ie+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+ie+" = unpack_mix_"+xe+"(a_"+ie+", u_"+ie+`_t);
#else
    `+F+" "+Q+" "+ie+" = u_"+ie+`;
#endif
`:Ae==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
uniform lowp float u_`+ie+`_t;
attribute `+F+" "+de+" a_"+ie+`;
#else
uniform `+F+" "+Q+" u_"+ie+`;
#endif
`:xe==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+F+" "+Q+" "+ie+" = a_"+ie+`;
#else
    `+F+" "+Q+" "+ie+" = u_"+ie+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+F+" "+Q+" "+ie+" = unpack_mix_"+xe+"(a_"+ie+", u_"+ie+`_t);
#else
    `+F+" "+Q+" "+ie+" = u_"+ie+`;
#endif
`})}}var To=Object.freeze({__proto__:null,prelude:dr,background:gr,backgroundPattern:Sr,circle:$n,clippingMask:xr,heatmap:Rr,heatmapTexture:ii,collisionBox:_i,collisionCircle:vi,debug:Si,fill:fi,fillOutline:Ui,fillOutlinePattern:bo,fillPattern:ja,fillExtrusion:Do,fillExtrusionPattern:Vl,hillshadePrepare:ys,hillshade:Qs,line:Hl,lineGradient:_o,linePattern:fu,lineSDF:xs,raster:bs,symbolIcon:wo,symbolSDF:Xi,symbolTextAndIcon:el}),Za=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};Za.prototype.bind=function(z,U,j,J,fe,Ae,F,Q){this.context=z;for(var ie=this.boundPaintVertexBuffers.length!==J.length,de=0;!ie&&de<J.length;de++)this.boundPaintVertexBuffers[de]!==J[de]&&(ie=!0);var xe=!this.vao||this.boundProgram!==U||this.boundLayoutVertexBuffer!==j||ie||this.boundIndexBuffer!==fe||this.boundVertexOffset!==Ae||this.boundDynamicVertexBuffer!==F||this.boundDynamicVertexBuffer2!==Q;!z.extVertexArrayObject||xe?this.freshBind(U,j,J,fe,Ae,F,Q):(z.bindVertexArrayOES.set(this.vao),F&&F.bind(),fe&&fe.dynamicDraw&&fe.bind(),Q&&Q.bind())},Za.prototype.freshBind=function(z,U,j,J,fe,Ae,F){var Q,ie=z.numAttributes,de=this.context,xe=de.gl;if(de.extVertexArrayObject)this.vao&&this.destroy(),this.vao=de.extVertexArrayObject.createVertexArrayOES(),de.bindVertexArrayOES.set(this.vao),Q=0,this.boundProgram=z,this.boundLayoutVertexBuffer=U,this.boundPaintVertexBuffers=j,this.boundIndexBuffer=J,this.boundVertexOffset=fe,this.boundDynamicVertexBuffer=Ae,this.boundDynamicVertexBuffer2=F;else{Q=de.currentNumAttributes||0;for(var Ce=ie;Ce<Q;Ce++)xe.disableVertexAttribArray(Ce)}U.enableAttributes(xe,z);for(var Ue=0,He=j;Ue<He.length;Ue+=1)He[Ue].enableAttributes(xe,z);Ae&&Ae.enableAttributes(xe,z),F&&F.enableAttributes(xe,z),U.bind(),U.setVertexAttribPointers(xe,z,fe);for(var We=0,Ke=j;We<Ke.length;We+=1){var nt=Ke[We];nt.bind(),nt.setVertexAttribPointers(xe,z,fe)}Ae&&(Ae.bind(),Ae.setVertexAttribPointers(xe,z,fe)),J&&J.bind(),F&&(F.bind(),F.setVertexAttribPointers(xe,z,fe)),de.currentNumAttributes=ie},Za.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Ro=function(z,U,j,J,fe){var Ae=z.gl;this.program=Ae.createProgram();var F=j?j.defines():[];fe&&F.push("#define OVERDRAW_INSPECTOR;");var Q=F.concat(dr.fragmentSource,U.fragmentSource).join(`
`),ie=F.concat(dr.vertexSource,U.vertexSource).join(`
`),de=Ae.createShader(Ae.FRAGMENT_SHADER);if(Ae.isContextLost())this.failedToCreate=!0;else{Ae.shaderSource(de,Q),Ae.compileShader(de),Ae.attachShader(this.program,de);var xe=Ae.createShader(Ae.VERTEX_SHADER);if(Ae.isContextLost())this.failedToCreate=!0;else{Ae.shaderSource(xe,ie),Ae.compileShader(xe),Ae.attachShader(this.program,xe);for(var Ce=j?j.layoutAttributes:[],Ue=0;Ue<Ce.length;Ue++)Ae.bindAttribLocation(this.program,Ue,Ce[Ue].name);Ae.linkProgram(this.program),Ae.deleteShader(xe),Ae.deleteShader(de),this.numAttributes=Ae.getProgramParameter(this.program,Ae.ACTIVE_ATTRIBUTES),this.attributes={};for(var He={},We=0;We<this.numAttributes;We++){var Ke=Ae.getActiveAttrib(this.program,We);Ke&&(this.attributes[Ke.name]=Ae.getAttribLocation(this.program,Ke.name))}for(var nt=Ae.getProgramParameter(this.program,Ae.ACTIVE_UNIFORMS),pt=0;pt<nt;pt++){var yt=Ae.getActiveUniform(this.program,pt);yt&&(He[yt.name]=Ae.getUniformLocation(this.program,yt.name))}this.fixedUniforms=J(z,He),this.binderUniforms=j?j.getUniforms(z,He):[]}}};function uo(z,U,j){var J=1/Jn(j,1,U.transform.tileZoom),fe=Math.pow(2,j.tileID.overscaledZ),Ae=j.tileSize*Math.pow(2,U.transform.tileZoom)/fe,F=Ae*(j.tileID.canonical.x+j.tileID.wrap*fe),Q=Ae*j.tileID.canonical.y;return{u_image:0,u_texsize:j.imageAtlasTexture.size,u_scale:[J,z.fromScale,z.toScale],u_fade:z.t,u_pixel_coord_upper:[F>>16,Q>>16],u_pixel_coord_lower:[65535&F,65535&Q]}}Ro.prototype.draw=function(z,U,j,J,fe,Ae,F,Q,ie,de,xe,Ce,Ue,He,We,Ke){var nt,pt=z.gl;if(!this.failedToCreate){for(var yt in z.program.set(this.program),z.setDepthMode(j),z.setStencilMode(J),z.setColorMode(fe),z.setCullFace(Ae),this.fixedUniforms)this.fixedUniforms[yt].set(F[yt]);He&&He.setUniforms(z,this.binderUniforms,Ce,{zoom:Ue});for(var It=(nt={},nt[pt.LINES]=2,nt[pt.TRIANGLES]=3,nt[pt.LINE_STRIP]=1,nt)[U],Rt=0,Pt=xe.get();Rt<Pt.length;Rt+=1){var Vt=Pt[Rt],Dt=Vt.vaos||(Vt.vaos={});(Dt[Q]||(Dt[Q]=new Za)).bind(z,this,ie,He?He.getPaintVertexBuffers():[],de,Vt.vertexOffset,We,Ke),pt.drawElements(U,Vt.primitiveLength*It,pt.UNSIGNED_SHORT,Vt.primitiveOffset*It*2)}}};var Ko=function(z,U,j,J){var fe=U.style.light,Ae=fe.properties.get("position"),F=[Ae.x,Ae.y,Ae.z],Q=a.create$1();fe.properties.get("anchor")==="viewport"&&a.fromRotation(Q,-U.transform.angle),a.transformMat3(F,F,Q);var ie=fe.properties.get("color");return{u_matrix:z,u_lightpos:F,u_lightintensity:fe.properties.get("intensity"),u_lightcolor:[ie.r,ie.g,ie.b],u_vertical_gradient:+j,u_opacity:J}},zo=function(z,U,j,J,fe,Ae,F){return a.extend(Ko(z,U,j,J),uo(Ae,U,F),{u_height_factor:-Math.pow(2,fe.overscaledZ)/F.tileSize/8})},Fo=function(z){return{u_matrix:z}},_l=function(z,U,j,J){return a.extend(Fo(z),uo(j,U,J))},hu=function(z,U){return{u_matrix:z,u_world:U}},$o=function(z,U,j,J,fe){return a.extend(_l(z,U,j,J),{u_world:fe})},pu=function(z,U,j,J){var fe,Ae,F=z.transform;if(J.paint.get("circle-pitch-alignment")==="map"){var Q=Jn(j,1,F.zoom);fe=!0,Ae=[Q,Q]}else fe=!1,Ae=F.pixelsToGLUnits;return{u_camera_to_center_distance:F.cameraToCenterDistance,u_scale_with_map:+(J.paint.get("circle-pitch-scale")==="map"),u_matrix:z.translatePosMatrix(U.posMatrix,j,J.paint.get("circle-translate"),J.paint.get("circle-translate-anchor")),u_pitch_with_map:+fe,u_device_pixel_ratio:a.browser.devicePixelRatio,u_extrude_scale:Ae}},ql=function(z,U,j){var J=Jn(j,1,U.zoom),fe=Math.pow(2,U.zoom-j.tileID.overscaledZ),Ae=j.tileID.overscaleFactor();return{u_matrix:z,u_camera_to_center_distance:U.cameraToCenterDistance,u_pixels_to_tile_units:J,u_extrude_scale:[U.pixelsToGLUnits[0]/(J*fe),U.pixelsToGLUnits[1]/(J*fe)],u_overscale_factor:Ae}},du=function(z,U,j){return{u_matrix:z,u_inv_matrix:U,u_camera_to_center_distance:j.cameraToCenterDistance,u_viewport_size:[j.width,j.height]}},Gl=function(z,U,j){return j===void 0&&(j=1),{u_matrix:z,u_color:U,u_overlay:0,u_overlay_scale:j}},gu=function(z){return{u_matrix:z}},Bs=function(z,U,j,J){return{u_matrix:z,u_extrude_scale:Jn(U,1,j),u_intensity:J}},Qo=function(z,U,j,J){var fe=a.create();a.ortho(fe,0,z.width,z.height,0,0,1);var Ae=z.context.gl;return{u_matrix:fe,u_world:[Ae.drawingBufferWidth,Ae.drawingBufferHeight],u_image:j,u_color_ramp:J,u_opacity:U.paint.get("heatmap-opacity")}},_s=function(z,U,j){var J=j.paint.get("hillshade-shadow-color"),fe=j.paint.get("hillshade-highlight-color"),Ae=j.paint.get("hillshade-accent-color"),F=j.paint.get("hillshade-illumination-direction")*(Math.PI/180);j.paint.get("hillshade-illumination-anchor")==="viewport"&&(F-=z.transform.angle);var Q,ie,de,xe=!z.options.moving;return{u_matrix:z.transform.calculatePosMatrix(U.tileID.toUnwrapped(),xe),u_image:0,u_latrange:(Q=U.tileID,ie=Math.pow(2,Q.canonical.z),de=Q.canonical.y,[new a.MercatorCoordinate(0,de/ie).toLngLat().lat,new a.MercatorCoordinate(0,(de+1)/ie).toLngLat().lat]),u_light:[j.paint.get("hillshade-exaggeration"),F],u_shadow:J,u_highlight:fe,u_accent:Ae}},Ns=function(z,U,j){var J=U.stride,fe=a.create();return a.ortho(fe,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(fe,fe,[0,-a.EXTENT,0]),{u_matrix:fe,u_image:1,u_dimension:[J,J],u_zoom:z.overscaledZ,u_maxzoom:j,u_unpack:U.getUnpackVector()}},wl=function(z,U,j){var J=z.transform;return{u_matrix:ko(z,U,j),u_ratio:1/Jn(U,1,J.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_units_to_pixels:[1/J.pixelsToGLUnits[0],1/J.pixelsToGLUnits[1]]}},Yl=function(z,U,j){return a.extend(wl(z,U,j),{u_image:0})},Wl=function(z,U,j,J){var fe=z.transform,Ae=ws(U,fe);return{u_matrix:ko(z,U,j),u_texsize:U.imageAtlasTexture.size,u_ratio:1/Jn(U,1,fe.zoom),u_device_pixel_ratio:a.browser.devicePixelRatio,u_image:0,u_scale:[Ae,J.fromScale,J.toScale],u_fade:J.t,u_units_to_pixels:[1/fe.pixelsToGLUnits[0],1/fe.pixelsToGLUnits[1]]}},eo=function(z,U,j,J,fe){var Ae=z.transform,F=z.lineAtlas,Q=ws(U,Ae),ie=j.layout.get("line-cap")==="round",de=F.getDash(J.from,ie),xe=F.getDash(J.to,ie),Ce=de.width*fe.fromScale,Ue=xe.width*fe.toScale;return a.extend(wl(z,U,j),{u_patternscale_a:[Q/Ce,-de.height/2],u_patternscale_b:[Q/Ue,-xe.height/2],u_sdfgamma:F.width/(256*Math.min(Ce,Ue)*a.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:de.y,u_tex_y_b:xe.y,u_mix:fe.t})};function ws(z,U){return 1/Jn(z,1,U.tileZoom)}function ko(z,U,j){return z.translatePosMatrix(U.tileID.posMatrix,U,j.paint.get("line-translate"),j.paint.get("line-translate-anchor"))}var Bo=function(z,U,j,J,fe){return{u_matrix:z,u_tl_parent:U,u_scale_parent:j,u_buffer_scale:1,u_fade_t:J.mix,u_opacity:J.opacity*fe.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:fe.paint.get("raster-brightness-min"),u_brightness_high:fe.paint.get("raster-brightness-max"),u_saturation_factor:(F=fe.paint.get("raster-saturation"),F>0?1-1/(1.001-F):-F),u_contrast_factor:(Ae=fe.paint.get("raster-contrast"),Ae>0?1/(1-Ae):1+Ae),u_spin_weights:vu(fe.paint.get("raster-hue-rotate"))};var Ae,F};function vu(z){z*=Math.PI/180;var U=Math.sin(z),j=Math.cos(z);return[(2*j+1)/3,(-Math.sqrt(3)*U-j+1)/3,(Math.sqrt(3)*U-j+1)/3]}var es,hi=function(z,U,j,J,fe,Ae,F,Q,ie,de){var xe=fe.transform;return{u_is_size_zoom_constant:+(z==="constant"||z==="source"),u_is_size_feature_constant:+(z==="constant"||z==="camera"),u_size_t:U?U.uSizeT:0,u_size:U?U.uSize:0,u_camera_to_center_distance:xe.cameraToCenterDistance,u_pitch:xe.pitch/360*2*Math.PI,u_rotate_symbol:+j,u_aspect_ratio:xe.width/xe.height,u_fade_change:fe.options.fadeDuration?fe.symbolFadeChange:1,u_matrix:Ae,u_label_plane_matrix:F,u_coord_matrix:Q,u_is_text:+ie,u_pitch_with_map:+J,u_texsize:de,u_texture:0}},co=function(z,U,j,J,fe,Ae,F,Q,ie,de,xe){var Ce=fe.transform;return a.extend(hi(z,U,j,J,fe,Ae,F,Q,ie,de),{u_gamma_scale:J?Math.cos(Ce._pitch)*Ce.cameraToCenterDistance:1,u_device_pixel_ratio:a.browser.devicePixelRatio,u_is_halo:+xe})},tl=function(z,U,j,J,fe,Ae,F,Q,ie,de){return a.extend(co(z,U,j,J,fe,Ae,F,Q,!0,ie,!0),{u_texsize_icon:de,u_texture_icon:1})},to=function(z,U,j){return{u_matrix:z,u_opacity:U,u_color:j}},Ts=function(z,U,j,J,fe,Ae){return a.extend(function(F,Q,ie,de){var xe=ie.imageManager.getPattern(F.from.toString()),Ce=ie.imageManager.getPattern(F.to.toString()),Ue=ie.imageManager.getPixelSize(),He=Ue.width,We=Ue.height,Ke=Math.pow(2,de.tileID.overscaledZ),nt=de.tileSize*Math.pow(2,ie.transform.tileZoom)/Ke,pt=nt*(de.tileID.canonical.x+de.tileID.wrap*Ke),yt=nt*de.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:xe.tl,u_pattern_br_a:xe.br,u_pattern_tl_b:Ce.tl,u_pattern_br_b:Ce.br,u_texsize:[He,We],u_mix:Q.t,u_pattern_size_a:xe.displaySize,u_pattern_size_b:Ce.displaySize,u_scale_a:Q.fromScale,u_scale_b:Q.toScale,u_tile_units_to_pixels:1/Jn(de,1,ie.transform.tileZoom),u_pixel_coord_upper:[pt>>16,yt>>16],u_pixel_coord_lower:[65535&pt,65535&yt]}}(J,Ae,j,fe),{u_matrix:z,u_opacity:U})},Cu={fillExtrusion:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_lightpos:new a.Uniform3f(z,U.u_lightpos),u_lightintensity:new a.Uniform1f(z,U.u_lightintensity),u_lightcolor:new a.Uniform3f(z,U.u_lightcolor),u_vertical_gradient:new a.Uniform1f(z,U.u_vertical_gradient),u_opacity:new a.Uniform1f(z,U.u_opacity)}},fillExtrusionPattern:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_lightpos:new a.Uniform3f(z,U.u_lightpos),u_lightintensity:new a.Uniform1f(z,U.u_lightintensity),u_lightcolor:new a.Uniform3f(z,U.u_lightcolor),u_vertical_gradient:new a.Uniform1f(z,U.u_vertical_gradient),u_height_factor:new a.Uniform1f(z,U.u_height_factor),u_image:new a.Uniform1i(z,U.u_image),u_texsize:new a.Uniform2f(z,U.u_texsize),u_pixel_coord_upper:new a.Uniform2f(z,U.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(z,U.u_pixel_coord_lower),u_scale:new a.Uniform3f(z,U.u_scale),u_fade:new a.Uniform1f(z,U.u_fade),u_opacity:new a.Uniform1f(z,U.u_opacity)}},fill:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix)}},fillPattern:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_image:new a.Uniform1i(z,U.u_image),u_texsize:new a.Uniform2f(z,U.u_texsize),u_pixel_coord_upper:new a.Uniform2f(z,U.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(z,U.u_pixel_coord_lower),u_scale:new a.Uniform3f(z,U.u_scale),u_fade:new a.Uniform1f(z,U.u_fade)}},fillOutline:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_world:new a.Uniform2f(z,U.u_world)}},fillOutlinePattern:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_world:new a.Uniform2f(z,U.u_world),u_image:new a.Uniform1i(z,U.u_image),u_texsize:new a.Uniform2f(z,U.u_texsize),u_pixel_coord_upper:new a.Uniform2f(z,U.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(z,U.u_pixel_coord_lower),u_scale:new a.Uniform3f(z,U.u_scale),u_fade:new a.Uniform1f(z,U.u_fade)}},circle:function(z,U){return{u_camera_to_center_distance:new a.Uniform1f(z,U.u_camera_to_center_distance),u_scale_with_map:new a.Uniform1i(z,U.u_scale_with_map),u_pitch_with_map:new a.Uniform1i(z,U.u_pitch_with_map),u_extrude_scale:new a.Uniform2f(z,U.u_extrude_scale),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_matrix:new a.UniformMatrix4f(z,U.u_matrix)}},collisionBox:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_camera_to_center_distance:new a.Uniform1f(z,U.u_camera_to_center_distance),u_pixels_to_tile_units:new a.Uniform1f(z,U.u_pixels_to_tile_units),u_extrude_scale:new a.Uniform2f(z,U.u_extrude_scale),u_overscale_factor:new a.Uniform1f(z,U.u_overscale_factor)}},collisionCircle:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_inv_matrix:new a.UniformMatrix4f(z,U.u_inv_matrix),u_camera_to_center_distance:new a.Uniform1f(z,U.u_camera_to_center_distance),u_viewport_size:new a.Uniform2f(z,U.u_viewport_size)}},debug:function(z,U){return{u_color:new a.UniformColor(z,U.u_color),u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_overlay:new a.Uniform1i(z,U.u_overlay),u_overlay_scale:new a.Uniform1f(z,U.u_overlay_scale)}},clippingMask:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix)}},heatmap:function(z,U){return{u_extrude_scale:new a.Uniform1f(z,U.u_extrude_scale),u_intensity:new a.Uniform1f(z,U.u_intensity),u_matrix:new a.UniformMatrix4f(z,U.u_matrix)}},heatmapTexture:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_world:new a.Uniform2f(z,U.u_world),u_image:new a.Uniform1i(z,U.u_image),u_color_ramp:new a.Uniform1i(z,U.u_color_ramp),u_opacity:new a.Uniform1f(z,U.u_opacity)}},hillshade:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_image:new a.Uniform1i(z,U.u_image),u_latrange:new a.Uniform2f(z,U.u_latrange),u_light:new a.Uniform2f(z,U.u_light),u_shadow:new a.UniformColor(z,U.u_shadow),u_highlight:new a.UniformColor(z,U.u_highlight),u_accent:new a.UniformColor(z,U.u_accent)}},hillshadePrepare:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_image:new a.Uniform1i(z,U.u_image),u_dimension:new a.Uniform2f(z,U.u_dimension),u_zoom:new a.Uniform1f(z,U.u_zoom),u_maxzoom:new a.Uniform1f(z,U.u_maxzoom),u_unpack:new a.Uniform4f(z,U.u_unpack)}},line:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_ratio:new a.Uniform1f(z,U.u_ratio),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(z,U.u_units_to_pixels)}},lineGradient:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_ratio:new a.Uniform1f(z,U.u_ratio),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(z,U.u_units_to_pixels),u_image:new a.Uniform1i(z,U.u_image)}},linePattern:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_texsize:new a.Uniform2f(z,U.u_texsize),u_ratio:new a.Uniform1f(z,U.u_ratio),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_image:new a.Uniform1i(z,U.u_image),u_units_to_pixels:new a.Uniform2f(z,U.u_units_to_pixels),u_scale:new a.Uniform3f(z,U.u_scale),u_fade:new a.Uniform1f(z,U.u_fade)}},lineSDF:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_ratio:new a.Uniform1f(z,U.u_ratio),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_units_to_pixels:new a.Uniform2f(z,U.u_units_to_pixels),u_patternscale_a:new a.Uniform2f(z,U.u_patternscale_a),u_patternscale_b:new a.Uniform2f(z,U.u_patternscale_b),u_sdfgamma:new a.Uniform1f(z,U.u_sdfgamma),u_image:new a.Uniform1i(z,U.u_image),u_tex_y_a:new a.Uniform1f(z,U.u_tex_y_a),u_tex_y_b:new a.Uniform1f(z,U.u_tex_y_b),u_mix:new a.Uniform1f(z,U.u_mix)}},raster:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_tl_parent:new a.Uniform2f(z,U.u_tl_parent),u_scale_parent:new a.Uniform1f(z,U.u_scale_parent),u_buffer_scale:new a.Uniform1f(z,U.u_buffer_scale),u_fade_t:new a.Uniform1f(z,U.u_fade_t),u_opacity:new a.Uniform1f(z,U.u_opacity),u_image0:new a.Uniform1i(z,U.u_image0),u_image1:new a.Uniform1i(z,U.u_image1),u_brightness_low:new a.Uniform1f(z,U.u_brightness_low),u_brightness_high:new a.Uniform1f(z,U.u_brightness_high),u_saturation_factor:new a.Uniform1f(z,U.u_saturation_factor),u_contrast_factor:new a.Uniform1f(z,U.u_contrast_factor),u_spin_weights:new a.Uniform3f(z,U.u_spin_weights)}},symbolIcon:function(z,U){return{u_is_size_zoom_constant:new a.Uniform1i(z,U.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(z,U.u_is_size_feature_constant),u_size_t:new a.Uniform1f(z,U.u_size_t),u_size:new a.Uniform1f(z,U.u_size),u_camera_to_center_distance:new a.Uniform1f(z,U.u_camera_to_center_distance),u_pitch:new a.Uniform1f(z,U.u_pitch),u_rotate_symbol:new a.Uniform1i(z,U.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(z,U.u_aspect_ratio),u_fade_change:new a.Uniform1f(z,U.u_fade_change),u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(z,U.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(z,U.u_coord_matrix),u_is_text:new a.Uniform1i(z,U.u_is_text),u_pitch_with_map:new a.Uniform1i(z,U.u_pitch_with_map),u_texsize:new a.Uniform2f(z,U.u_texsize),u_texture:new a.Uniform1i(z,U.u_texture)}},symbolSDF:function(z,U){return{u_is_size_zoom_constant:new a.Uniform1i(z,U.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(z,U.u_is_size_feature_constant),u_size_t:new a.Uniform1f(z,U.u_size_t),u_size:new a.Uniform1f(z,U.u_size),u_camera_to_center_distance:new a.Uniform1f(z,U.u_camera_to_center_distance),u_pitch:new a.Uniform1f(z,U.u_pitch),u_rotate_symbol:new a.Uniform1i(z,U.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(z,U.u_aspect_ratio),u_fade_change:new a.Uniform1f(z,U.u_fade_change),u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(z,U.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(z,U.u_coord_matrix),u_is_text:new a.Uniform1i(z,U.u_is_text),u_pitch_with_map:new a.Uniform1i(z,U.u_pitch_with_map),u_texsize:new a.Uniform2f(z,U.u_texsize),u_texture:new a.Uniform1i(z,U.u_texture),u_gamma_scale:new a.Uniform1f(z,U.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(z,U.u_is_halo)}},symbolTextAndIcon:function(z,U){return{u_is_size_zoom_constant:new a.Uniform1i(z,U.u_is_size_zoom_constant),u_is_size_feature_constant:new a.Uniform1i(z,U.u_is_size_feature_constant),u_size_t:new a.Uniform1f(z,U.u_size_t),u_size:new a.Uniform1f(z,U.u_size),u_camera_to_center_distance:new a.Uniform1f(z,U.u_camera_to_center_distance),u_pitch:new a.Uniform1f(z,U.u_pitch),u_rotate_symbol:new a.Uniform1i(z,U.u_rotate_symbol),u_aspect_ratio:new a.Uniform1f(z,U.u_aspect_ratio),u_fade_change:new a.Uniform1f(z,U.u_fade_change),u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_label_plane_matrix:new a.UniformMatrix4f(z,U.u_label_plane_matrix),u_coord_matrix:new a.UniformMatrix4f(z,U.u_coord_matrix),u_is_text:new a.Uniform1i(z,U.u_is_text),u_pitch_with_map:new a.Uniform1i(z,U.u_pitch_with_map),u_texsize:new a.Uniform2f(z,U.u_texsize),u_texsize_icon:new a.Uniform2f(z,U.u_texsize_icon),u_texture:new a.Uniform1i(z,U.u_texture),u_texture_icon:new a.Uniform1i(z,U.u_texture_icon),u_gamma_scale:new a.Uniform1f(z,U.u_gamma_scale),u_device_pixel_ratio:new a.Uniform1f(z,U.u_device_pixel_ratio),u_is_halo:new a.Uniform1i(z,U.u_is_halo)}},background:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_opacity:new a.Uniform1f(z,U.u_opacity),u_color:new a.UniformColor(z,U.u_color)}},backgroundPattern:function(z,U){return{u_matrix:new a.UniformMatrix4f(z,U.u_matrix),u_opacity:new a.Uniform1f(z,U.u_opacity),u_image:new a.Uniform1i(z,U.u_image),u_pattern_tl_a:new a.Uniform2f(z,U.u_pattern_tl_a),u_pattern_br_a:new a.Uniform2f(z,U.u_pattern_br_a),u_pattern_tl_b:new a.Uniform2f(z,U.u_pattern_tl_b),u_pattern_br_b:new a.Uniform2f(z,U.u_pattern_br_b),u_texsize:new a.Uniform2f(z,U.u_texsize),u_mix:new a.Uniform1f(z,U.u_mix),u_pattern_size_a:new a.Uniform2f(z,U.u_pattern_size_a),u_pattern_size_b:new a.Uniform2f(z,U.u_pattern_size_b),u_scale_a:new a.Uniform1f(z,U.u_scale_a),u_scale_b:new a.Uniform1f(z,U.u_scale_b),u_pixel_coord_upper:new a.Uniform2f(z,U.u_pixel_coord_upper),u_pixel_coord_lower:new a.Uniform2f(z,U.u_pixel_coord_lower),u_tile_units_to_pixels:new a.Uniform1f(z,U.u_tile_units_to_pixels)}}};function Tl(z,U,j,J,fe,Ae,F){for(var Q=z.context,ie=Q.gl,de=z.useProgram("collisionBox"),xe=[],Ce=0,Ue=0,He=0;He<J.length;He++){var We=J[He],Ke=U.getTile(We),nt=Ke.getBucket(j);if(nt){var pt=We.posMatrix;fe[0]===0&&fe[1]===0||(pt=z.translatePosMatrix(We.posMatrix,Ke,fe,Ae));var yt=F?nt.textCollisionBox:nt.iconCollisionBox,It=nt.collisionCircleArray;if(It.length>0){var Rt=a.create(),Pt=pt;a.mul(Rt,nt.placementInvProjMatrix,z.transform.glCoordMatrix),a.mul(Rt,Rt,nt.placementViewportMatrix),xe.push({circleArray:It,circleOffset:Ue,transform:Pt,invTransform:Rt}),Ue=Ce+=It.length/4}yt&&de.draw(Q,ie.LINES,zt.disabled,Je.disabled,z.colorModeForRenderPass(),qe.disabled,ql(pt,z.transform,Ke),j.id,yt.layoutVertexBuffer,yt.indexBuffer,yt.segments,null,z.transform.zoom,null,null,yt.collisionVertexBuffer)}}if(F&&xe.length){var Vt=z.useProgram("collisionCircle"),Dt=new a.StructArrayLayout2f1f2i16;Dt.resize(4*Ce),Dt._trim();for(var sn=0,Kt=0,Zt=xe;Kt<Zt.length;Kt+=1)for(var xn=Zt[Kt],_n=0;_n<xn.circleArray.length/4;_n++){var jn=4*_n,Un=xn.circleArray[jn+0],Wn=xn.circleArray[jn+1],er=xn.circleArray[jn+2],fr=xn.circleArray[jn+3];Dt.emplace(sn++,Un,Wn,er,fr,0),Dt.emplace(sn++,Un,Wn,er,fr,1),Dt.emplace(sn++,Un,Wn,er,fr,2),Dt.emplace(sn++,Un,Wn,er,fr,3)}(!es||es.length<2*Ce)&&(es=function(mr){var Mr=2*mr,Dr=new a.StructArrayLayout3ui6;Dr.resize(Mr),Dr._trim();for(var Hr=0;Hr<Mr;Hr++){var Jr=6*Hr;Dr.uint16[Jr+0]=4*Hr+0,Dr.uint16[Jr+1]=4*Hr+1,Dr.uint16[Jr+2]=4*Hr+2,Dr.uint16[Jr+3]=4*Hr+2,Dr.uint16[Jr+4]=4*Hr+3,Dr.uint16[Jr+5]=4*Hr+0}return Dr}(Ce));for(var cr=Q.createIndexBuffer(es,!0),vr=Q.createVertexBuffer(Dt,a.collisionCircleLayout.members,!0),kr=0,Br=xe;kr<Br.length;kr+=1){var qn=Br[kr],ur=du(qn.transform,qn.invTransform,z.transform);Vt.draw(Q,ie.TRIANGLES,zt.disabled,Je.disabled,z.colorModeForRenderPass(),qe.disabled,ur,j.id,vr,cr,a.SegmentVector.simpleSegment(0,2*qn.circleOffset,qn.circleArray.length,qn.circleArray.length/2),null,z.transform.zoom,null,null,null)}vr.destroy(),cr.destroy()}}var mu=a.identity(new Float32Array(16));function yu(z,U,j,J,fe,Ae){var F=a.getAnchorAlignment(z),Q=-(F.horizontalAlign-.5)*U,ie=-(F.verticalAlign-.5)*j,de=a.evaluateVariableOffset(z,J);return new a.Point((Q/fe+de[0])*Ae,(ie/fe+de[1])*Ae)}function nl(z,U,j,J,fe,Ae,F,Q,ie,de,xe){var Ce=z.text.placedSymbolArray,Ue=z.text.dynamicLayoutVertexArray,He=z.icon.dynamicLayoutVertexArray,We={};Ue.clear();for(var Ke=0;Ke<Ce.length;Ke++){var nt=Ce.get(Ke),pt=z.allowVerticalPlacement&&!nt.placedOrientation,yt=nt.hidden||!nt.crossTileID||pt?null:J[nt.crossTileID];if(yt){var It=new a.Point(nt.anchorX,nt.anchorY),Rt=Xt(It,j?Q:F),Pt=ln(Ae.cameraToCenterDistance,Rt.signedDistanceFromCamera),Vt=fe.evaluateSizeForFeature(z.textSizeData,de,nt)*Pt/a.ONE_EM;j&&(Vt*=z.tilePixelRatio/ie);for(var Dt=yt.width,sn=yt.height,Kt=yu(yt.anchor,Dt,sn,yt.textOffset,yt.textBoxScale,Vt),Zt=j?Xt(It.add(Kt),F).point:Rt.point.add(U?Kt.rotate(-Ae.angle):Kt),xn=z.allowVerticalPlacement&&nt.placedOrientation===a.WritingMode.vertical?Math.PI/2:0,_n=0;_n<nt.numGlyphs;_n++)a.addDynamicAttributes(Ue,Zt,xn);xe&&nt.associatedIconIndex>=0&&(We[nt.associatedIconIndex]={shiftedAnchor:Zt,angle:xn})}else Zn(nt.numGlyphs,Ue)}if(xe){He.clear();for(var jn=z.icon.placedSymbolArray,Un=0;Un<jn.length;Un++){var Wn=jn.get(Un);if(Wn.hidden)Zn(Wn.numGlyphs,He);else{var er=We[Un];if(er)for(var fr=0;fr<Wn.numGlyphs;fr++)a.addDynamicAttributes(He,er.shiftedAnchor,er.angle);else Zn(Wn.numGlyphs,He)}}z.icon.dynamicLayoutVertexBuffer.updateData(He)}z.text.dynamicLayoutVertexBuffer.updateData(Ue)}function js(z,U,j){return j.iconsInText&&U?"symbolTextAndIcon":z?"symbolSDF":"symbolIcon"}function rl(z,U,j,J,fe,Ae,F,Q,ie,de,xe,Ce){for(var Ue=z.context,He=Ue.gl,We=z.transform,Ke=Q==="map",nt=ie==="map",pt=Ke&&j.layout.get("symbol-placement")!=="point",yt=Ke&&!nt&&!pt,It=j.layout.get("symbol-sort-key").constantOr(1)!==void 0,Rt=z.depthModeForSublayer(0,zt.ReadOnly),Pt=j.layout.get("text-variable-anchor"),Vt=[],Dt=0,sn=J;Dt<sn.length;Dt+=1){var Kt=sn[Dt],Zt=U.getTile(Kt),xn=Zt.getBucket(j);if(xn){var _n=fe?xn.text:xn.icon;if(_n&&_n.segments.get().length){var jn=_n.programConfigurations.get(j.id),Un=fe||xn.sdfIcons,Wn=fe?xn.textSizeData:xn.iconSizeData,er=nt||We.pitch!==0,fr=z.useProgram(js(Un,fe,xn),jn),cr=a.evaluateSizeForZoom(Wn,We.zoom),vr=void 0,kr=[0,0],Br=void 0,qn=void 0,ur=null,mr=void 0;if(fe){if(Br=Zt.glyphAtlasTexture,qn=He.LINEAR,vr=Zt.glyphAtlasTexture.size,xn.iconsInText){kr=Zt.imageAtlasTexture.size,ur=Zt.imageAtlasTexture;var Mr=Wn.kind==="composite"||Wn.kind==="camera";mr=er||z.options.rotating||z.options.zooming||Mr?He.LINEAR:He.NEAREST}}else{var Dr=j.layout.get("icon-size").constantOr(0)!==1||xn.iconsNeedLinear;Br=Zt.imageAtlasTexture,qn=Un||z.options.rotating||z.options.zooming||Dr||er?He.LINEAR:He.NEAREST,vr=Zt.imageAtlasTexture.size}var Hr=Jn(Zt,1,z.transform.zoom),Jr=On(Kt.posMatrix,nt,Ke,z.transform,Hr),ai=gn(Kt.posMatrix,nt,Ke,z.transform,Hr),wi=Pt&&xn.hasTextData(),Ti=j.layout.get("icon-text-fit")!=="none"&&wi&&xn.hasIconData();pt&&hn(xn,Kt.posMatrix,z,fe,Jr,ai,nt,de);var oi=z.translatePosMatrix(Kt.posMatrix,Zt,Ae,F),Hi=pt||fe&&Pt||Ti?mu:Jr,ha=z.translatePosMatrix(ai,Zt,Ae,F,!0),Ki=Un&&j.paint.get(fe?"text-halo-width":"icon-halo-width").constantOr(1)!==0,ia={program:fr,buffers:_n,uniformValues:Un?xn.iconsInText?tl(Wn.kind,cr,yt,nt,z,oi,Hi,ha,vr,kr):co(Wn.kind,cr,yt,nt,z,oi,Hi,ha,fe,vr,!0):hi(Wn.kind,cr,yt,nt,z,oi,Hi,ha,fe,vr),atlasTexture:Br,atlasTextureIcon:ur,atlasInterpolation:qn,atlasInterpolationIcon:mr,isSDF:Un,hasHalo:Ki};if(It)for(var ei=0,Xr=_n.segments.get();ei<Xr.length;ei+=1){var ki=Xr[ei];Vt.push({segments:new a.SegmentVector([ki]),sortKey:ki.sortKey,state:ia})}else Vt.push({segments:_n.segments,sortKey:0,state:ia})}}}It&&Vt.sort(function(Rs,Ha){return Rs.sortKey-Ha.sortKey});for(var gi=0,Ei=Vt;gi<Ei.length;gi+=1){var Da=Ei[gi],Bi=Da.state;if(Ue.activeTexture.set(He.TEXTURE0),Bi.atlasTexture.bind(Bi.atlasInterpolation,He.CLAMP_TO_EDGE),Bi.atlasTextureIcon&&(Ue.activeTexture.set(He.TEXTURE1),Bi.atlasTextureIcon&&Bi.atlasTextureIcon.bind(Bi.atlasInterpolationIcon,He.CLAMP_TO_EDGE)),Bi.isSDF){var si=Bi.uniformValues;Bi.hasHalo&&(si.u_is_halo=1,ts(Bi.buffers,Da.segments,j,z,Bi.program,Rt,xe,Ce,si)),si.u_is_halo=0}ts(Bi.buffers,Da.segments,j,z,Bi.program,Rt,xe,Ce,Bi.uniformValues)}}function ts(z,U,j,J,fe,Ae,F,Q,ie){var de=J.context,xe=de.gl;fe.draw(de,xe.TRIANGLES,Ae,F,Q,qe.disabled,ie,j.id,z.layoutVertexBuffer,z.indexBuffer,U,j.paint,J.transform.zoom,z.programConfigurations.get(j.id),z.dynamicLayoutVertexBuffer,z.opacityVertexBuffer)}function No(z,U,j,J,fe,Ae,F){var Q,ie,de,xe,Ce,Ue=z.context.gl,He=j.paint.get("fill-pattern"),We=He&&He.constantOr(1),Ke=j.getCrossfadeParameters();F?(ie=We&&!j.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Q=Ue.LINES):(ie=We?"fillPattern":"fill",Q=Ue.TRIANGLES);for(var nt=0,pt=J;nt<pt.length;nt+=1){var yt=pt[nt],It=U.getTile(yt);if(!We||It.patternsLoaded()){var Rt=It.getBucket(j);if(Rt){var Pt=Rt.programConfigurations.get(j.id),Vt=z.useProgram(ie,Pt);We&&(z.context.activeTexture.set(Ue.TEXTURE0),It.imageAtlasTexture.bind(Ue.LINEAR,Ue.CLAMP_TO_EDGE),Pt.updatePaintBuffers(Ke));var Dt=He.constantOr(null);if(Dt&&It.imageAtlas){var sn=It.imageAtlas,Kt=sn.patternPositions[Dt.to.toString()],Zt=sn.patternPositions[Dt.from.toString()];Kt&&Zt&&Pt.setConstantPatternPositions(Kt,Zt)}var xn=z.translatePosMatrix(yt.posMatrix,It,j.paint.get("fill-translate"),j.paint.get("fill-translate-anchor"));if(F){xe=Rt.indexBuffer2,Ce=Rt.segments2;var _n=[Ue.drawingBufferWidth,Ue.drawingBufferHeight];de=ie==="fillOutlinePattern"&&We?$o(xn,z,Ke,It,_n):hu(xn,_n)}else xe=Rt.indexBuffer,Ce=Rt.segments,de=We?_l(xn,z,Ke,It):Fo(xn);Vt.draw(z.context,Q,fe,z.stencilModeForClipping(yt),Ae,qe.disabled,de,j.id,Rt.layoutVertexBuffer,xe,Ce,j.paint,z.transform.zoom,Pt)}}}}function ns(z,U,j,J,fe,Ae,F){for(var Q=z.context,ie=Q.gl,de=j.paint.get("fill-extrusion-pattern"),xe=de.constantOr(1),Ce=j.getCrossfadeParameters(),Ue=j.paint.get("fill-extrusion-opacity"),He=0,We=J;He<We.length;He+=1){var Ke=We[He],nt=U.getTile(Ke),pt=nt.getBucket(j);if(pt){var yt=pt.programConfigurations.get(j.id),It=z.useProgram(xe?"fillExtrusionPattern":"fillExtrusion",yt);xe&&(z.context.activeTexture.set(ie.TEXTURE0),nt.imageAtlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),yt.updatePaintBuffers(Ce));var Rt=de.constantOr(null);if(Rt&&nt.imageAtlas){var Pt=nt.imageAtlas,Vt=Pt.patternPositions[Rt.to.toString()],Dt=Pt.patternPositions[Rt.from.toString()];Vt&&Dt&&yt.setConstantPatternPositions(Vt,Dt)}var sn=z.translatePosMatrix(Ke.posMatrix,nt,j.paint.get("fill-extrusion-translate"),j.paint.get("fill-extrusion-translate-anchor")),Kt=j.paint.get("fill-extrusion-vertical-gradient"),Zt=xe?zo(sn,z,Kt,Ue,Ke,Ce,nt):Ko(sn,z,Kt,Ue);It.draw(Q,Q.gl.TRIANGLES,fe,Ae,F,qe.backCCW,Zt,j.id,pt.layoutVertexBuffer,pt.indexBuffer,pt.segments,j.paint,z.transform.zoom,yt)}}}function jo(z,U,j,J,fe,Ae){var F=z.context,Q=F.gl,ie=U.fbo;if(ie){var de=z.useProgram("hillshade");F.activeTexture.set(Q.TEXTURE0),Q.bindTexture(Q.TEXTURE_2D,ie.colorAttachment.get());var xe=_s(z,U,j);de.draw(F,Q.TRIANGLES,J,fe,Ae,qe.disabled,xe,j.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments)}}function kl(z,U,j,J,fe,Ae,F){var Q=z.context,ie=Q.gl,de=U.dem;if(de&&de.data){var xe=de.dim,Ce=de.stride,Ue=de.getPixels();if(Q.activeTexture.set(ie.TEXTURE1),Q.pixelStoreUnpackPremultiplyAlpha.set(!1),U.demTexture=U.demTexture||z.getTileTexture(Ce),U.demTexture){var He=U.demTexture;He.update(Ue,{premultiply:!1}),He.bind(ie.NEAREST,ie.CLAMP_TO_EDGE)}else U.demTexture=new a.Texture(Q,Ue,ie.RGBA,{premultiply:!1}),U.demTexture.bind(ie.NEAREST,ie.CLAMP_TO_EDGE);Q.activeTexture.set(ie.TEXTURE0);var We=U.fbo;if(!We){var Ke=new a.Texture(Q,{width:xe,height:xe,data:null},ie.RGBA);Ke.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),(We=U.fbo=Q.createFramebuffer(xe,xe,!0)).colorAttachment.set(Ke.texture)}Q.bindFramebuffer.set(We.framebuffer),Q.viewport.set([0,0,xe,xe]),z.useProgram("hillshadePrepare").draw(Q,ie.TRIANGLES,fe,Ae,F,qe.disabled,Ns(U.tileID,de,J),j.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments),U.needsHillshadePrepare=!1}}function fo(z,U,j,J,fe){var Ae=J.paint.get("raster-fade-duration");if(Ae>0){var F=a.browser.now(),Q=(F-z.timeAdded)/Ae,ie=U?(F-U.timeAdded)/Ae:-1,de=j.getSource(),xe=fe.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),Ce=!U||Math.abs(U.tileID.overscaledZ-xe)>Math.abs(z.tileID.overscaledZ-xe),Ue=Ce&&z.refreshedUponExpiration?1:a.clamp(Ce?Q:1-ie,0,1);return z.refreshedUponExpiration&&Q>=1&&(z.refreshedUponExpiration=!1),U?{opacity:1,mix:1-Ue}:{opacity:Ue,mix:0}}return{opacity:1,mix:0}}var xu=new a.Color(1,0,0,1),bu=new a.Color(0,1,0,1),Ml=new a.Color(0,0,1,1),rs=new a.Color(1,0,1,1),Al=new a.Color(0,1,1,1);function ks(z){var U=z.transform.padding;Zl(z,z.transform.height-(U.top||0),3,xu),Zl(z,U.bottom||0,3,bu),Us(z,U.left||0,3,Ml),Us(z,z.transform.width-(U.right||0),3,rs);var j=z.transform.centerPoint;(function(J,fe,Ae,F){var Q=20,ie=2;Ms(J,fe-ie/2,Ae-Q/2,ie,Q,F),Ms(J,fe-Q/2,Ae-ie/2,Q,ie,F)})(z,j.x,z.transform.height-j.y,Al)}function Zl(z,U,j,J){Ms(z,0,U+j/2,z.transform.width,j,J)}function Us(z,U,j,J){Ms(z,U-j/2,0,j,z.transform.height,J)}function Ms(z,U,j,J,fe,Ae){var F=z.context,Q=F.gl;Q.enable(Q.SCISSOR_TEST),Q.scissor(U*a.browser.devicePixelRatio,j*a.browser.devicePixelRatio,J*a.browser.devicePixelRatio,fe*a.browser.devicePixelRatio),F.clear({color:Ae}),Q.disable(Q.SCISSOR_TEST)}function il(z,U,j){var J=z.context,fe=J.gl,Ae=j.posMatrix,F=z.useProgram("debug"),Q=zt.disabled,ie=Je.disabled,de=z.colorModeForRenderPass(),xe="$debug";J.activeTexture.set(fe.TEXTURE0),z.emptyTexture.bind(fe.LINEAR,fe.CLAMP_TO_EDGE),F.draw(J,fe.LINE_STRIP,Q,ie,de,qe.disabled,Gl(Ae,a.Color.red),xe,z.debugBuffer,z.tileBorderIndexBuffer,z.debugSegments);var Ce=U.getTileByID(j.key).latestRawTileData,Ue=Ce&&Ce.byteLength||0,He=Math.floor(Ue/1024),We=U.getTile(j).tileSize,Ke=512/Math.min(We,512)*(j.overscaledZ/z.transform.zoom)*.5,nt=j.canonical.toString();j.overscaledZ!==j.canonical.z&&(nt+=" => "+j.overscaledZ),function(pt,yt){pt.initDebugOverlayCanvas();var It=pt.debugOverlayCanvas,Rt=pt.context.gl,Pt=pt.debugOverlayCanvas.getContext("2d");Pt.clearRect(0,0,It.width,It.height),Pt.shadowColor="white",Pt.shadowBlur=2,Pt.lineWidth=1.5,Pt.strokeStyle="white",Pt.textBaseline="top",Pt.font="bold 36px Open Sans, sans-serif",Pt.fillText(yt,5,5),Pt.strokeText(yt,5,5),pt.debugOverlayTexture.update(It),pt.debugOverlayTexture.bind(Rt.LINEAR,Rt.CLAMP_TO_EDGE)}(z,nt+" "+He+"kb"),F.draw(J,fe.TRIANGLES,Q,ie,Qe.alphaBlended,qe.disabled,Gl(Ae,a.Color.transparent,Ke),xe,z.debugBuffer,z.quadTriangleIndexBuffer,z.debugSegments)}var Vs={symbol:function(z,U,j,J,fe){if(z.renderPass==="translucent"){var Ae=Je.disabled,F=z.colorModeForRenderPass();j.layout.get("text-variable-anchor")&&function(Q,ie,de,xe,Ce,Ue,He){for(var We=ie.transform,Ke=Ce==="map",nt=Ue==="map",pt=0,yt=Q;pt<yt.length;pt+=1){var It=yt[pt],Rt=xe.getTile(It),Pt=Rt.getBucket(de);if(Pt&&Pt.text&&Pt.text.segments.get().length){var Vt=Pt.textSizeData,Dt=a.evaluateSizeForZoom(Vt,We.zoom),sn=Jn(Rt,1,ie.transform.zoom),Kt=On(It.posMatrix,nt,Ke,ie.transform,sn),Zt=de.layout.get("icon-text-fit")!=="none"&&Pt.hasIconData();if(Dt){var xn=Math.pow(2,We.zoom-Rt.tileID.overscaledZ);nl(Pt,Ke,nt,He,a.symbolSize,We,Kt,It.posMatrix,xn,Dt,Zt)}}}}(J,z,j,U,j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),fe),j.paint.get("icon-opacity").constantOr(1)!==0&&rl(z,U,j,J,!1,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),j.layout.get("icon-rotation-alignment"),j.layout.get("icon-pitch-alignment"),j.layout.get("icon-keep-upright"),Ae,F),j.paint.get("text-opacity").constantOr(1)!==0&&rl(z,U,j,J,!0,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),j.layout.get("text-rotation-alignment"),j.layout.get("text-pitch-alignment"),j.layout.get("text-keep-upright"),Ae,F),U.map.showCollisionBoxes&&(Tl(z,U,j,J,j.paint.get("text-translate"),j.paint.get("text-translate-anchor"),!0),Tl(z,U,j,J,j.paint.get("icon-translate"),j.paint.get("icon-translate-anchor"),!1))}},circle:function(z,U,j,J){if(z.renderPass==="translucent"){var fe=j.paint.get("circle-opacity"),Ae=j.paint.get("circle-stroke-width"),F=j.paint.get("circle-stroke-opacity"),Q=j.layout.get("circle-sort-key").constantOr(1)!==void 0;if(fe.constantOr(1)!==0||Ae.constantOr(1)!==0&&F.constantOr(1)!==0){for(var ie=z.context,de=ie.gl,xe=z.depthModeForSublayer(0,zt.ReadOnly),Ce=Je.disabled,Ue=z.colorModeForRenderPass(),He=[],We=0;We<J.length;We++){var Ke=J[We],nt=U.getTile(Ke),pt=nt.getBucket(j);if(pt){var yt=pt.programConfigurations.get(j.id),It={programConfiguration:yt,program:z.useProgram("circle",yt),layoutVertexBuffer:pt.layoutVertexBuffer,indexBuffer:pt.indexBuffer,uniformValues:pu(z,Ke,nt,j)};if(Q)for(var Rt=0,Pt=pt.segments.get();Rt<Pt.length;Rt+=1){var Vt=Pt[Rt];He.push({segments:new a.SegmentVector([Vt]),sortKey:Vt.sortKey,state:It})}else He.push({segments:pt.segments,sortKey:0,state:It})}}Q&&He.sort(function(fr,cr){return fr.sortKey-cr.sortKey});for(var Dt=0,sn=He;Dt<sn.length;Dt+=1){var Kt=sn[Dt],Zt=Kt.state,xn=Zt.programConfiguration,_n=Zt.program,jn=Zt.layoutVertexBuffer,Un=Zt.indexBuffer,Wn=Zt.uniformValues,er=Kt.segments;_n.draw(ie,de.TRIANGLES,xe,Ce,Ue,qe.disabled,Wn,j.id,jn,Un,er,j.paint,z.transform.zoom,xn)}}}},heatmap:function(z,U,j,J){if(j.paint.get("heatmap-opacity")!==0)if(z.renderPass==="offscreen"){var fe=z.context,Ae=fe.gl,F=Je.disabled,Q=new Qe([Ae.ONE,Ae.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Ke,nt,pt){var yt=Ke.gl;Ke.activeTexture.set(yt.TEXTURE1),Ke.viewport.set([0,0,nt.width/4,nt.height/4]);var It=pt.heatmapFbo;if(It)yt.bindTexture(yt.TEXTURE_2D,It.colorAttachment.get()),Ke.bindFramebuffer.set(It.framebuffer);else{var Rt=yt.createTexture();yt.bindTexture(yt.TEXTURE_2D,Rt),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_S,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_WRAP_T,yt.CLAMP_TO_EDGE),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MIN_FILTER,yt.LINEAR),yt.texParameteri(yt.TEXTURE_2D,yt.TEXTURE_MAG_FILTER,yt.LINEAR),It=pt.heatmapFbo=Ke.createFramebuffer(nt.width/4,nt.height/4,!1),function(Pt,Vt,Dt,sn){var Kt=Pt.gl,Zt=Pt.extRenderToTextureHalfFloat?Pt.extTextureHalfFloat.HALF_FLOAT_OES:Kt.UNSIGNED_BYTE;Kt.texImage2D(Kt.TEXTURE_2D,0,Kt.RGBA,Vt.width/4,Vt.height/4,0,Kt.RGBA,Zt,null),sn.colorAttachment.set(Dt)}(Ke,nt,Rt,It)}})(fe,z,j),fe.clear({color:a.Color.transparent});for(var ie=0;ie<J.length;ie++){var de=J[ie];if(!U.hasRenderableParent(de)){var xe=U.getTile(de),Ce=xe.getBucket(j);if(Ce){var Ue=Ce.programConfigurations.get(j.id),He=z.useProgram("heatmap",Ue),We=z.transform.zoom;He.draw(fe,Ae.TRIANGLES,zt.disabled,F,Q,qe.disabled,Bs(de.posMatrix,xe,We,j.paint.get("heatmap-intensity")),j.id,Ce.layoutVertexBuffer,Ce.indexBuffer,Ce.segments,j.paint,z.transform.zoom,Ue)}}}fe.viewport.set([0,0,z.width,z.height])}else z.renderPass==="translucent"&&(z.context.setColorMode(z.colorModeForRenderPass()),function(Ke,nt){var pt=Ke.context,yt=pt.gl,It=nt.heatmapFbo;if(It){pt.activeTexture.set(yt.TEXTURE0),yt.bindTexture(yt.TEXTURE_2D,It.colorAttachment.get()),pt.activeTexture.set(yt.TEXTURE1);var Rt=nt.colorRampTexture;Rt||(Rt=nt.colorRampTexture=new a.Texture(pt,nt.colorRamp,yt.RGBA)),Rt.bind(yt.LINEAR,yt.CLAMP_TO_EDGE),Ke.useProgram("heatmapTexture").draw(pt,yt.TRIANGLES,zt.disabled,Je.disabled,Ke.colorModeForRenderPass(),qe.disabled,Qo(Ke,nt,0,1),nt.id,Ke.viewportBuffer,Ke.quadTriangleIndexBuffer,Ke.viewportSegments,nt.paint,Ke.transform.zoom)}}(z,j))},line:function(z,U,j,J){if(z.renderPass==="translucent"){var fe=j.paint.get("line-opacity"),Ae=j.paint.get("line-width");if(fe.constantOr(1)!==0&&Ae.constantOr(1)!==0){var F=z.depthModeForSublayer(0,zt.ReadOnly),Q=z.colorModeForRenderPass(),ie=j.paint.get("line-dasharray"),de=j.paint.get("line-pattern"),xe=de.constantOr(1),Ce=j.paint.get("line-gradient"),Ue=j.getCrossfadeParameters(),He=xe?"linePattern":ie?"lineSDF":Ce?"lineGradient":"line",We=z.context,Ke=We.gl,nt=!0;if(Ce){We.activeTexture.set(Ke.TEXTURE0);var pt=j.gradientTexture;if(!j.gradient)return;pt||(pt=j.gradientTexture=new a.Texture(We,j.gradient,Ke.RGBA)),pt.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE)}for(var yt=0,It=J;yt<It.length;yt+=1){var Rt=It[yt],Pt=U.getTile(Rt);if(!xe||Pt.patternsLoaded()){var Vt=Pt.getBucket(j);if(Vt){var Dt=Vt.programConfigurations.get(j.id),sn=z.context.program.get(),Kt=z.useProgram(He,Dt),Zt=nt||Kt.program!==sn,xn=de.constantOr(null);if(xn&&Pt.imageAtlas){var _n=Pt.imageAtlas,jn=_n.patternPositions[xn.to.toString()],Un=_n.patternPositions[xn.from.toString()];jn&&Un&&Dt.setConstantPatternPositions(jn,Un)}var Wn=xe?Wl(z,Pt,j,Ue):ie?eo(z,Pt,j,ie,Ue):Ce?Yl(z,Pt,j):wl(z,Pt,j);xe?(We.activeTexture.set(Ke.TEXTURE0),Pt.imageAtlasTexture.bind(Ke.LINEAR,Ke.CLAMP_TO_EDGE),Dt.updatePaintBuffers(Ue)):ie&&(Zt||z.lineAtlas.dirty)&&(We.activeTexture.set(Ke.TEXTURE0),z.lineAtlas.bind(We)),Kt.draw(We,Ke.TRIANGLES,F,z.stencilModeForClipping(Rt),Q,qe.disabled,Wn,j.id,Vt.layoutVertexBuffer,Vt.indexBuffer,Vt.segments,j.paint,z.transform.zoom,Dt),nt=!1}}}}}},fill:function(z,U,j,J){var fe=j.paint.get("fill-color"),Ae=j.paint.get("fill-opacity");if(Ae.constantOr(1)!==0){var F=z.colorModeForRenderPass(),Q=j.paint.get("fill-pattern"),ie=z.opaquePassEnabledForLayer()&&!Q.constantOr(1)&&fe.constantOr(a.Color.transparent).a===1&&Ae.constantOr(0)===1?"opaque":"translucent";if(z.renderPass===ie){var de=z.depthModeForSublayer(1,z.renderPass==="opaque"?zt.ReadWrite:zt.ReadOnly);No(z,U,j,J,de,F,!1)}if(z.renderPass==="translucent"&&j.paint.get("fill-antialias")){var xe=z.depthModeForSublayer(j.getPaintProperty("fill-outline-color")?2:0,zt.ReadOnly);No(z,U,j,J,xe,F,!0)}}},"fill-extrusion":function(z,U,j,J){var fe=j.paint.get("fill-extrusion-opacity");if(fe!==0&&z.renderPass==="translucent"){var Ae=new zt(z.context.gl.LEQUAL,zt.ReadWrite,z.depthRangeFor3D);if(fe!==1||j.paint.get("fill-extrusion-pattern").constantOr(1))ns(z,U,j,J,Ae,Je.disabled,Qe.disabled),ns(z,U,j,J,Ae,z.stencilModeFor3D(),z.colorModeForRenderPass());else{var F=z.colorModeForRenderPass();ns(z,U,j,J,Ae,Je.disabled,F)}}},hillshade:function(z,U,j,J){if(z.renderPass==="offscreen"||z.renderPass==="translucent"){for(var fe=z.context,Ae=U.getSource().maxzoom,F=z.depthModeForSublayer(0,zt.ReadOnly),Q=z.colorModeForRenderPass(),ie=z.renderPass==="translucent"?z.stencilConfigForOverlap(J):[{},J],de=ie[0],xe=0,Ce=ie[1];xe<Ce.length;xe+=1){var Ue=Ce[xe],He=U.getTile(Ue);He.needsHillshadePrepare&&z.renderPass==="offscreen"?kl(z,He,j,Ae,F,Je.disabled,Q):z.renderPass==="translucent"&&jo(z,He,j,F,de[Ue.overscaledZ],Q)}fe.viewport.set([0,0,z.width,z.height])}},raster:function(z,U,j,J){if(z.renderPass==="translucent"&&j.paint.get("raster-opacity")!==0&&J.length)for(var fe=z.context,Ae=fe.gl,F=U.getSource(),Q=z.useProgram("raster"),ie=z.colorModeForRenderPass(),de=F instanceof B?[{},J]:z.stencilConfigForOverlap(J),xe=de[0],Ce=de[1],Ue=Ce[Ce.length-1].overscaledZ,He=!z.options.moving,We=0,Ke=Ce;We<Ke.length;We+=1){var nt=Ke[We],pt=z.depthModeForSublayer(nt.overscaledZ-Ue,j.paint.get("raster-opacity")===1?zt.ReadWrite:zt.ReadOnly,Ae.LESS),yt=U.getTile(nt),It=z.transform.calculatePosMatrix(nt.toUnwrapped(),He);yt.registerFadeDuration(j.paint.get("raster-fade-duration"));var Rt=U.findLoadedParent(nt,0),Pt=fo(yt,Rt,U,j,z.transform),Vt=void 0,Dt=void 0,sn=j.paint.get("raster-resampling")==="nearest"?Ae.NEAREST:Ae.LINEAR;fe.activeTexture.set(Ae.TEXTURE0),yt.texture.bind(sn,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST),fe.activeTexture.set(Ae.TEXTURE1),Rt?(Rt.texture.bind(sn,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST),Vt=Math.pow(2,Rt.tileID.overscaledZ-yt.tileID.overscaledZ),Dt=[yt.tileID.canonical.x*Vt%1,yt.tileID.canonical.y*Vt%1]):yt.texture.bind(sn,Ae.CLAMP_TO_EDGE,Ae.LINEAR_MIPMAP_NEAREST);var Kt=Bo(It,Dt||[0,0],Vt||1,Pt,j);F instanceof B?Q.draw(fe,Ae.TRIANGLES,pt,Je.disabled,ie,qe.disabled,Kt,j.id,F.boundsBuffer,z.quadTriangleIndexBuffer,F.boundsSegments):Q.draw(fe,Ae.TRIANGLES,pt,xe[nt.overscaledZ],ie,qe.disabled,Kt,j.id,z.rasterBoundsBuffer,z.quadTriangleIndexBuffer,z.rasterBoundsSegments)}},background:function(z,U,j){var J=j.paint.get("background-color"),fe=j.paint.get("background-opacity");if(fe!==0){var Ae=z.context,F=Ae.gl,Q=z.transform,ie=Q.tileSize,de=j.paint.get("background-pattern");if(!z.isPatternMissing(de)){var xe=!de&&J.a===1&&fe===1&&z.opaquePassEnabledForLayer()?"opaque":"translucent";if(z.renderPass===xe){var Ce=Je.disabled,Ue=z.depthModeForSublayer(0,xe==="opaque"?zt.ReadWrite:zt.ReadOnly),He=z.colorModeForRenderPass(),We=z.useProgram(de?"backgroundPattern":"background"),Ke=Q.coveringTiles({tileSize:ie});de&&(Ae.activeTexture.set(F.TEXTURE0),z.imageManager.bind(z.context));for(var nt=j.getCrossfadeParameters(),pt=0,yt=Ke;pt<yt.length;pt+=1){var It=yt[pt],Rt=z.transform.calculatePosMatrix(It.toUnwrapped()),Pt=de?Ts(Rt,fe,z,de,{tileID:It,tileSize:ie},nt):to(Rt,fe,J);We.draw(Ae,F.TRIANGLES,Ue,Ce,He,qe.disabled,Pt,j.id,z.tileExtentBuffer,z.quadTriangleIndexBuffer,z.tileExtentSegments)}}}}},debug:function(z,U,j){for(var J=0;J<j.length;J++)il(z,U,j[J])},custom:function(z,U,j){var J=z.context,fe=j.implementation;if(z.renderPass==="offscreen"){var Ae=fe.prerender;Ae&&(z.setCustomLayerDefaults(),J.setColorMode(z.colorModeForRenderPass()),Ae.call(fe,J.gl,z.transform.customLayerMatrix()),J.setDirty(),z.setBaseState())}else if(z.renderPass==="translucent"){z.setCustomLayerDefaults(),J.setColorMode(z.colorModeForRenderPass()),J.setStencilMode(Je.disabled);var F=fe.renderingMode==="3d"?new zt(z.context.gl.LEQUAL,zt.ReadWrite,z.depthRangeFor3D):z.depthModeForSublayer(0,zt.ReadOnly);J.setDepthMode(F),fe.render(J.gl,z.transform.customLayerMatrix()),J.setDirty(),z.setBaseState(),J.bindFramebuffer.set(null)}}},pi=function(z,U){this.context=new $e(z),this.transform=U,this._tileTextures={},this.setup(),this.numSublayers=ct.maxUnderzooming+ct.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Yn,this.gpuTimers={}};pi.prototype.resize=function(z,U){if(this.width=z*a.browser.devicePixelRatio,this.height=U*a.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var j=0,J=this.style._order;j<J.length;j+=1){var fe=J[j];this.style._layers[fe].resize()}},pi.prototype.setup=function(){var z=this.context,U=new a.StructArrayLayout2i4;U.emplaceBack(0,0),U.emplaceBack(a.EXTENT,0),U.emplaceBack(0,a.EXTENT),U.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=z.createVertexBuffer(U,or.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);var j=new a.StructArrayLayout2i4;j.emplaceBack(0,0),j.emplaceBack(a.EXTENT,0),j.emplaceBack(0,a.EXTENT),j.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=z.createVertexBuffer(j,or.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);var J=new a.StructArrayLayout4i8;J.emplaceBack(0,0,0,0),J.emplaceBack(a.EXTENT,0,a.EXTENT,0),J.emplaceBack(0,a.EXTENT,0,a.EXTENT),J.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.rasterBoundsBuffer=z.createVertexBuffer(J,N.members),this.rasterBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);var fe=new a.StructArrayLayout2i4;fe.emplaceBack(0,0),fe.emplaceBack(1,0),fe.emplaceBack(0,1),fe.emplaceBack(1,1),this.viewportBuffer=z.createVertexBuffer(fe,or.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);var Ae=new a.StructArrayLayout1ui2;Ae.emplaceBack(0),Ae.emplaceBack(1),Ae.emplaceBack(3),Ae.emplaceBack(2),Ae.emplaceBack(0),this.tileBorderIndexBuffer=z.createIndexBuffer(Ae);var F=new a.StructArrayLayout3ui6;F.emplaceBack(0,1,2),F.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=z.createIndexBuffer(F),this.emptyTexture=new a.Texture(z,{width:1,height:1,data:new Uint8Array([0,0,0,0])},z.gl.RGBA);var Q=this.context.gl;this.stencilClearMode=new Je({func:Q.ALWAYS,mask:0},0,255,Q.ZERO,Q.ZERO,Q.ZERO)},pi.prototype.clearStencil=function(){var z=this.context,U=z.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var j=a.create();a.ortho(j,0,this.width,this.height,0,0,1),a.scale(j,j,[U.drawingBufferWidth,U.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(z,U.TRIANGLES,zt.disabled,this.stencilClearMode,Qe.disabled,qe.disabled,gu(j),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},pi.prototype._renderTileClippingMasks=function(z,U){if(this.currentStencilSource!==z.source&&z.isTileClipped()&&U&&U.length){this.currentStencilSource=z.source;var j=this.context,J=j.gl;this.nextStencilID+U.length>256&&this.clearStencil(),j.setColorMode(Qe.disabled),j.setDepthMode(zt.disabled);var fe=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var Ae=0,F=U;Ae<F.length;Ae+=1){var Q=F[Ae],ie=this._tileClippingMaskIDs[Q.key]=this.nextStencilID++;fe.draw(j,J.TRIANGLES,zt.disabled,new Je({func:J.ALWAYS,mask:0},ie,255,J.KEEP,J.KEEP,J.REPLACE),Qe.disabled,qe.disabled,gu(Q.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},pi.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var z=this.nextStencilID++,U=this.context.gl;return new Je({func:U.NOTEQUAL,mask:255},z,255,U.KEEP,U.KEEP,U.REPLACE)},pi.prototype.stencilModeForClipping=function(z){var U=this.context.gl;return new Je({func:U.EQUAL,mask:255},this._tileClippingMaskIDs[z.key],0,U.KEEP,U.KEEP,U.REPLACE)},pi.prototype.stencilConfigForOverlap=function(z){var U,j=this.context.gl,J=z.sort(function(ie,de){return de.overscaledZ-ie.overscaledZ}),fe=J[J.length-1].overscaledZ,Ae=J[0].overscaledZ-fe+1;if(Ae>1){this.currentStencilSource=void 0,this.nextStencilID+Ae>256&&this.clearStencil();for(var F={},Q=0;Q<Ae;Q++)F[Q+fe]=new Je({func:j.GEQUAL,mask:255},Q+this.nextStencilID,255,j.KEEP,j.KEEP,j.REPLACE);return this.nextStencilID+=Ae,[F,J]}return[(U={},U[fe]=Je.disabled,U),J]},pi.prototype.colorModeForRenderPass=function(){var z=this.context.gl;if(this._showOverdrawInspector){var U=.125;return new Qe([z.CONSTANT_COLOR,z.ONE],new a.Color(U,U,U,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?Qe.unblended:Qe.alphaBlended},pi.prototype.depthModeForSublayer=function(z,U,j){if(!this.opaquePassEnabledForLayer())return zt.disabled;var J=1-((1+this.currentLayer)*this.numSublayers+z)*this.depthEpsilon;return new zt(j||this.context.gl.LEQUAL,U,[J,J])},pi.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},pi.prototype.render=function(z,U){var j=this;this.style=z,this.options=U,this.lineAtlas=z.lineAtlas,this.imageManager=z.imageManager,this.glyphManager=z.glyphManager,this.symbolFadeChange=z.placement.symbolFadeChange(a.browser.now()),this.imageManager.beginFrame();var J=this.style._order,fe=this.style.sourceCaches;for(var Ae in fe){var F=fe[Ae];F.used&&F.prepare(this.context)}var Q,ie,de={},xe={},Ce={};for(var Ue in fe){var He=fe[Ue];de[Ue]=He.getVisibleCoordinates(),xe[Ue]=de[Ue].slice().reverse(),Ce[Ue]=He.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var We=0;We<J.length;We++){var Ke=J[We];if(this.style._layers[Ke].is3D()){this.opaquePassCutoff=We;break}}this.renderPass="offscreen";for(var nt=0,pt=J;nt<pt.length;nt+=1){var yt=pt[nt],It=this.style._layers[yt];if(It.hasOffscreenPass()&&!It.isHidden(this.transform.zoom)){var Rt=xe[It.source];(It.type==="custom"||Rt.length)&&this.renderLayer(this,fe[It.source],It,Rt)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:U.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=U.showOverdrawInspector,this.depthRangeFor3D=[0,1-(z._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=J.length-1;this.currentLayer>=0;this.currentLayer--){var Pt=this.style._layers[J[this.currentLayer]],Vt=fe[Pt.source],Dt=de[Pt.source];this._renderTileClippingMasks(Pt,Dt),this.renderLayer(this,Vt,Pt,Dt)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<J.length;this.currentLayer++){var sn=this.style._layers[J[this.currentLayer]],Kt=fe[sn.source],Zt=(sn.type==="symbol"?Ce:xe)[sn.source];this._renderTileClippingMasks(sn,de[sn.source]),this.renderLayer(this,Kt,sn,Zt)}this.options.showTileBoundaries&&(a.values(this.style._layers).forEach(function(xn){xn.source&&!xn.isHidden(j.transform.zoom)&&(xn.source!==(ie&&ie.id)&&(ie=j.style.sourceCaches[xn.source]),(!Q||Q.getSource().maxzoom<ie.getSource().maxzoom)&&(Q=ie))}),Q&&Vs.debug(this,Q,Q.getVisibleCoordinates())),this.options.showPadding&&ks(this),this.context.setDefault()},pi.prototype.renderLayer=function(z,U,j,J){j.isHidden(this.transform.zoom)||(j.type==="background"||j.type==="custom"||J.length)&&(this.id=j.id,this.gpuTimingStart(j),Vs[j.type](z,U,j,J,this.style.placement.variableOffsets),this.gpuTimingEnd())},pi.prototype.gpuTimingStart=function(z){if(this.options.gpuTiming){var U=this.context.extTimerQuery,j=this.gpuTimers[z.id];j||(j=this.gpuTimers[z.id]={calls:0,cpuTime:0,query:U.createQueryEXT()}),j.calls++,U.beginQueryEXT(U.TIME_ELAPSED_EXT,j.query)}},pi.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var z=this.context.extTimerQuery;z.endQueryEXT(z.TIME_ELAPSED_EXT)}},pi.prototype.collectGpuTimers=function(){var z=this.gpuTimers;return this.gpuTimers={},z},pi.prototype.queryGpuTimers=function(z){var U={};for(var j in z){var J=z[j],fe=this.context.extTimerQuery,Ae=fe.getQueryObjectEXT(J.query,fe.QUERY_RESULT_EXT)/1e6;fe.deleteQueryEXT(J.query),U[j]=Ae}return U},pi.prototype.translatePosMatrix=function(z,U,j,J,fe){if(!j[0]&&!j[1])return z;var Ae=fe?J==="map"?this.transform.angle:0:J==="viewport"?-this.transform.angle:0;if(Ae){var F=Math.sin(Ae),Q=Math.cos(Ae);j=[j[0]*Q-j[1]*F,j[0]*F+j[1]*Q]}var ie=[fe?j[0]:Jn(U,j[0],this.transform.zoom),fe?j[1]:Jn(U,j[1],this.transform.zoom),0],de=new Float32Array(16);return a.translate(de,z,ie),de},pi.prototype.saveTileTexture=function(z){var U=this._tileTextures[z.size[0]];U?U.push(z):this._tileTextures[z.size[0]]=[z]},pi.prototype.getTileTexture=function(z){var U=this._tileTextures[z];return U&&U.length>0?U.pop():null},pi.prototype.isPatternMissing=function(z){if(!z)return!1;if(!z.from||!z.to)return!0;var U=this.imageManager.getPattern(z.from.toString()),j=this.imageManager.getPattern(z.to.toString());return!U||!j},pi.prototype.useProgram=function(z,U){this.cache=this.cache||{};var j=""+z+(U?U.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[j]||(this.cache[j]=new Ro(this.context,To[z],U,Cu[z],this._showOverdrawInspector)),this.cache[j]},pi.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},pi.prototype.setBaseState=function(){var z=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(z.FUNC_ADD)},pi.prototype.initDebugOverlayCanvas=function(){if(this.debugOverlayCanvas==null){this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512;var z=this.context.gl;this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,z.RGBA)}},pi.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var is=function(z,U){this.points=z,this.planes=U};is.fromInvProjectionMatrix=function(z,U,j){var J=Math.pow(2,j),fe=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(F){return a.transformMat4([],F,z)}).map(function(F){return a.scale$1([],F,1/F[3]/U*J)}),Ae=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(F){var Q=a.sub([],fe[F[0]],fe[F[1]]),ie=a.sub([],fe[F[2]],fe[F[1]]),de=a.normalize([],a.cross([],Q,ie)),xe=-a.dot(de,fe[F[1]]);return de.concat(xe)});return new is(fe,Ae)};var Uo=function(z,U){this.min=z,this.max=U,this.center=a.scale$2([],a.add([],this.min,this.max),.5)};Uo.prototype.quadrant=function(z){for(var U=[z%2==0,z<2],j=a.clone$2(this.min),J=a.clone$2(this.max),fe=0;fe<U.length;fe++)j[fe]=U[fe]?this.min[fe]:this.center[fe],J[fe]=U[fe]?this.center[fe]:this.max[fe];return J[2]=this.max[2],new Uo(j,J)},Uo.prototype.distanceX=function(z){return Math.max(Math.min(this.max[0],z[0]),this.min[0])-z[0]},Uo.prototype.distanceY=function(z){return Math.max(Math.min(this.max[1],z[1]),this.min[1])-z[1]},Uo.prototype.intersects=function(z){for(var U=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],j=!0,J=0;J<z.planes.length;J++){for(var fe=z.planes[J],Ae=0,F=0;F<U.length;F++)Ae+=a.dot$1(fe,U[F])>=0;if(Ae===0)return 0;Ae!==U.length&&(j=!1)}if(j)return 2;for(var Q=0;Q<3;Q++){for(var ie=Number.MAX_VALUE,de=-Number.MAX_VALUE,xe=0;xe<z.points.length;xe++){var Ce=z.points[xe][Q]-this.min[Q];ie=Math.min(ie,Ce),de=Math.max(de,Ce)}if(de<0||ie>this.max[Q]-this.min[Q])return 0}return 1};var la=function(z,U,j,J){if(z===void 0&&(z=0),U===void 0&&(U=0),j===void 0&&(j=0),J===void 0&&(J=0),isNaN(z)||z<0||isNaN(U)||U<0||isNaN(j)||j<0||isNaN(J)||J<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=z,this.bottom=U,this.left=j,this.right=J};la.prototype.interpolate=function(z,U,j){return U.top!=null&&z.top!=null&&(this.top=a.number(z.top,U.top,j)),U.bottom!=null&&z.bottom!=null&&(this.bottom=a.number(z.bottom,U.bottom,j)),U.left!=null&&z.left!=null&&(this.left=a.number(z.left,U.left,j)),U.right!=null&&z.right!=null&&(this.right=a.number(z.right,U.right,j)),this},la.prototype.getCenter=function(z,U){var j=a.clamp((this.left+z-this.right)/2,0,z),J=a.clamp((this.top+U-this.bottom)/2,0,U);return new a.Point(j,J)},la.prototype.equals=function(z){return this.top===z.top&&this.bottom===z.bottom&&this.left===z.left&&this.right===z.right},la.prototype.clone=function(){return new la(this.top,this.bottom,this.left,this.right)},la.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Kr=function(z,U,j,J,fe){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=fe===void 0||fe,this._minZoom=z||0,this._maxZoom=U||22,this._minPitch=j??0,this._maxPitch=J??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new la,this._posMatrixCache={},this._alignedPosMatrixCache={}},ni={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Kr.prototype.clone=function(){var z=new Kr(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return z.tileSize=this.tileSize,z.latRange=this.latRange,z.width=this.width,z.height=this.height,z._center=this._center,z.zoom=this.zoom,z.angle=this.angle,z._fov=this._fov,z._pitch=this._pitch,z._unmodified=this._unmodified,z._edgeInsets=this._edgeInsets.clone(),z._calcMatrices(),z},ni.minZoom.get=function(){return this._minZoom},ni.minZoom.set=function(z){this._minZoom!==z&&(this._minZoom=z,this.zoom=Math.max(this.zoom,z))},ni.maxZoom.get=function(){return this._maxZoom},ni.maxZoom.set=function(z){this._maxZoom!==z&&(this._maxZoom=z,this.zoom=Math.min(this.zoom,z))},ni.minPitch.get=function(){return this._minPitch},ni.minPitch.set=function(z){this._minPitch!==z&&(this._minPitch=z,this.pitch=Math.max(this.pitch,z))},ni.maxPitch.get=function(){return this._maxPitch},ni.maxPitch.set=function(z){this._maxPitch!==z&&(this._maxPitch=z,this.pitch=Math.min(this.pitch,z))},ni.renderWorldCopies.get=function(){return this._renderWorldCopies},ni.renderWorldCopies.set=function(z){z===void 0?z=!0:z===null&&(z=!1),this._renderWorldCopies=z},ni.worldSize.get=function(){return this.tileSize*this.scale},ni.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},ni.size.get=function(){return new a.Point(this.width,this.height)},ni.bearing.get=function(){return-this.angle/Math.PI*180},ni.bearing.set=function(z){var U=-a.wrap(z,-180,180)*Math.PI/180;this.angle!==U&&(this._unmodified=!1,this.angle=U,this._calcMatrices(),this.rotationMatrix=a.create$2(),a.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},ni.pitch.get=function(){return this._pitch/Math.PI*180},ni.pitch.set=function(z){var U=a.clamp(z,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==U&&(this._unmodified=!1,this._pitch=U,this._calcMatrices())},ni.fov.get=function(){return this._fov/Math.PI*180},ni.fov.set=function(z){z=Math.max(.01,Math.min(60,z)),this._fov!==z&&(this._unmodified=!1,this._fov=z/180*Math.PI,this._calcMatrices())},ni.zoom.get=function(){return this._zoom},ni.zoom.set=function(z){var U=Math.min(Math.max(z,this.minZoom),this.maxZoom);this._zoom!==U&&(this._unmodified=!1,this._zoom=U,this.scale=this.zoomScale(U),this.tileZoom=Math.floor(U),this.zoomFraction=U-this.tileZoom,this._constrain(),this._calcMatrices())},ni.center.get=function(){return this._center},ni.center.set=function(z){z.lat===this._center.lat&&z.lng===this._center.lng||(this._unmodified=!1,this._center=z,this._constrain(),this._calcMatrices())},ni.padding.get=function(){return this._edgeInsets.toJSON()},ni.padding.set=function(z){this._edgeInsets.equals(z)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,z,1),this._calcMatrices())},ni.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Kr.prototype.isPaddingEqual=function(z){return this._edgeInsets.equals(z)},Kr.prototype.interpolatePadding=function(z,U,j){this._unmodified=!1,this._edgeInsets.interpolate(z,U,j),this._constrain(),this._calcMatrices()},Kr.prototype.coveringZoomLevel=function(z){var U=(z.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/z.tileSize));return Math.max(0,U)},Kr.prototype.getVisibleUnwrappedCoordinates=function(z){var U=[new a.UnwrappedTileID(0,z)];if(this._renderWorldCopies)for(var j=this.pointCoordinate(new a.Point(0,0)),J=this.pointCoordinate(new a.Point(this.width,0)),fe=this.pointCoordinate(new a.Point(this.width,this.height)),Ae=this.pointCoordinate(new a.Point(0,this.height)),F=Math.floor(Math.min(j.x,J.x,fe.x,Ae.x)),Q=Math.floor(Math.max(j.x,J.x,fe.x,Ae.x)),ie=F-1;ie<=Q+1;ie++)ie!==0&&U.push(new a.UnwrappedTileID(ie,z));return U},Kr.prototype.coveringTiles=function(z){var U=this.coveringZoomLevel(z),j=U;if(z.minzoom!==void 0&&U<z.minzoom)return[];z.maxzoom!==void 0&&U>z.maxzoom&&(U=z.maxzoom);var J=a.MercatorCoordinate.fromLngLat(this.center),fe=Math.pow(2,U),Ae=[fe*J.x,fe*J.y,0],F=is.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,U),Q=z.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(Q=U);var ie=function(Zt){return{aabb:new Uo([Zt*fe,0,0],[(Zt+1)*fe,fe,0]),zoom:0,x:0,y:0,wrap:Zt,fullyVisible:!1}},de=[],xe=[],Ce=U,Ue=z.reparseOverscaled?j:U;if(this._renderWorldCopies)for(var He=1;He<=3;He++)de.push(ie(-He)),de.push(ie(He));for(de.push(ie(0));de.length>0;){var We=de.pop(),Ke=We.x,nt=We.y,pt=We.fullyVisible;if(!pt){var yt=We.aabb.intersects(F);if(yt===0)continue;pt=yt===2}var It=We.aabb.distanceX(Ae),Rt=We.aabb.distanceY(Ae),Pt=Math.max(Math.abs(It),Math.abs(Rt)),Vt=3+(1<<Ce-We.zoom)-2;if(We.zoom===Ce||Pt>Vt&&We.zoom>=Q)xe.push({tileID:new a.OverscaledTileID(We.zoom===Ce?Ue:We.zoom,We.wrap,We.zoom,Ke,nt),distanceSq:a.sqrLen([Ae[0]-.5-Ke,Ae[1]-.5-nt])});else for(var Dt=0;Dt<4;Dt++){var sn=(Ke<<1)+Dt%2,Kt=(nt<<1)+(Dt>>1);de.push({aabb:We.aabb.quadrant(Dt),zoom:We.zoom+1,x:sn,y:Kt,wrap:We.wrap,fullyVisible:pt})}}return xe.sort(function(Zt,xn){return Zt.distanceSq-xn.distanceSq}).map(function(Zt){return Zt.tileID})},Kr.prototype.resize=function(z,U){this.width=z,this.height=U,this.pixelsToGLUnits=[2/z,-2/U],this._constrain(),this._calcMatrices()},ni.unmodified.get=function(){return this._unmodified},Kr.prototype.zoomScale=function(z){return Math.pow(2,z)},Kr.prototype.scaleZoom=function(z){return Math.log(z)/Math.LN2},Kr.prototype.project=function(z){var U=a.clamp(z.lat,-this.maxValidLatitude,this.maxValidLatitude);return new a.Point(a.mercatorXfromLng(z.lng)*this.worldSize,a.mercatorYfromLat(U)*this.worldSize)},Kr.prototype.unproject=function(z){return new a.MercatorCoordinate(z.x/this.worldSize,z.y/this.worldSize).toLngLat()},ni.point.get=function(){return this.project(this.center)},Kr.prototype.setLocationAtPoint=function(z,U){var j=this.pointCoordinate(U),J=this.pointCoordinate(this.centerPoint),fe=this.locationCoordinate(z),Ae=new a.MercatorCoordinate(fe.x-(j.x-J.x),fe.y-(j.y-J.y));this.center=this.coordinateLocation(Ae),this._renderWorldCopies&&(this.center=this.center.wrap())},Kr.prototype.locationPoint=function(z){return this.coordinatePoint(this.locationCoordinate(z))},Kr.prototype.pointLocation=function(z){return this.coordinateLocation(this.pointCoordinate(z))},Kr.prototype.locationCoordinate=function(z){return a.MercatorCoordinate.fromLngLat(z)},Kr.prototype.coordinateLocation=function(z){return z.toLngLat()},Kr.prototype.pointCoordinate=function(z){var U=[z.x,z.y,0,1],j=[z.x,z.y,1,1];a.transformMat4(U,U,this.pixelMatrixInverse),a.transformMat4(j,j,this.pixelMatrixInverse);var J=U[3],fe=j[3],Ae=U[0]/J,F=j[0]/fe,Q=U[1]/J,ie=j[1]/fe,de=U[2]/J,xe=j[2]/fe,Ce=de===xe?0:(0-de)/(xe-de);return new a.MercatorCoordinate(a.number(Ae,F,Ce)/this.worldSize,a.number(Q,ie,Ce)/this.worldSize)},Kr.prototype.coordinatePoint=function(z){var U=[z.x*this.worldSize,z.y*this.worldSize,0,1];return a.transformMat4(U,U,this.pixelMatrix),new a.Point(U[0]/U[3],U[1]/U[3])},Kr.prototype.getBounds=function(){return new a.LngLatBounds().extend(this.pointLocation(new a.Point(0,0))).extend(this.pointLocation(new a.Point(this.width,0))).extend(this.pointLocation(new a.Point(this.width,this.height))).extend(this.pointLocation(new a.Point(0,this.height)))},Kr.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new a.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Kr.prototype.setMaxBounds=function(z){z?(this.lngRange=[z.getWest(),z.getEast()],this.latRange=[z.getSouth(),z.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Kr.prototype.calculatePosMatrix=function(z,U){U===void 0&&(U=!1);var j=z.key,J=U?this._alignedPosMatrixCache:this._posMatrixCache;if(J[j])return J[j];var fe=z.canonical,Ae=this.worldSize/this.zoomScale(fe.z),F=fe.x+Math.pow(2,fe.z)*z.wrap,Q=a.identity(new Float64Array(16));return a.translate(Q,Q,[F*Ae,fe.y*Ae,0]),a.scale(Q,Q,[Ae/a.EXTENT,Ae/a.EXTENT,1]),a.multiply(Q,U?this.alignedProjMatrix:this.projMatrix,Q),J[j]=new Float32Array(Q),J[j]},Kr.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Kr.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var z,U,j,J,fe=-90,Ae=90,F=-180,Q=180,ie=this.size,de=this._unmodified;if(this.latRange){var xe=this.latRange;fe=a.mercatorYfromLat(xe[1])*this.worldSize,z=(Ae=a.mercatorYfromLat(xe[0])*this.worldSize)-fe<ie.y?ie.y/(Ae-fe):0}if(this.lngRange){var Ce=this.lngRange;F=a.mercatorXfromLng(Ce[0])*this.worldSize,U=(Q=a.mercatorXfromLng(Ce[1])*this.worldSize)-F<ie.x?ie.x/(Q-F):0}var Ue=this.point,He=Math.max(U||0,z||0);if(He)return this.center=this.unproject(new a.Point(U?(Q+F)/2:Ue.x,z?(Ae+fe)/2:Ue.y)),this.zoom+=this.scaleZoom(He),this._unmodified=de,void(this._constraining=!1);if(this.latRange){var We=Ue.y,Ke=ie.y/2;We-Ke<fe&&(J=fe+Ke),We+Ke>Ae&&(J=Ae-Ke)}if(this.lngRange){var nt=Ue.x,pt=ie.x/2;nt-pt<F&&(j=F+pt),nt+pt>Q&&(j=Q-pt)}j===void 0&&J===void 0||(this.center=this.unproject(new a.Point(j!==void 0?j:Ue.x,J!==void 0?J:Ue.y))),this._unmodified=de,this._constraining=!1}},Kr.prototype._calcMatrices=function(){if(this.height){var z=this._fov/2,U=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(z)*this.height;var j=Math.PI/2+this._pitch,J=this._fov*(.5+U.y/this.height),fe=Math.sin(J)*this.cameraToCenterDistance/Math.sin(a.clamp(Math.PI-j-J,.01,Math.PI-.01)),Ae=this.point,F=Ae.x,Q=Ae.y,ie=1.01*(Math.cos(Math.PI/2-this._pitch)*fe+this.cameraToCenterDistance),de=this.height/50,xe=new Float64Array(16);a.perspective(xe,this._fov,this.width/this.height,de,ie),xe[8]=2*-U.x/this.width,xe[9]=2*U.y/this.height,a.scale(xe,xe,[1,-1,1]),a.translate(xe,xe,[0,0,-this.cameraToCenterDistance]),a.rotateX(xe,xe,this._pitch),a.rotateZ(xe,xe,this.angle),a.translate(xe,xe,[-F,-Q,0]),this.mercatorMatrix=a.scale([],xe,[this.worldSize,this.worldSize,this.worldSize]),a.scale(xe,xe,[1,1,a.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=xe,this.invProjMatrix=a.invert([],this.projMatrix);var Ce=this.width%2/2,Ue=this.height%2/2,He=Math.cos(this.angle),We=Math.sin(this.angle),Ke=F-Math.round(F)+He*Ce+We*Ue,nt=Q-Math.round(Q)+He*Ue+We*Ce,pt=new Float64Array(xe);if(a.translate(pt,pt,[Ke>.5?Ke-1:Ke,nt>.5?nt-1:nt,0]),this.alignedProjMatrix=pt,xe=a.create(),a.scale(xe,xe,[this.width/2,-this.height/2,1]),a.translate(xe,xe,[1,-1,0]),this.labelPlaneMatrix=xe,xe=a.create(),a.scale(xe,xe,[1,-1,1]),a.translate(xe,xe,[-1,-1,0]),a.scale(xe,xe,[2/this.width,2/this.height,1]),this.glCoordMatrix=xe,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(xe=a.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=xe,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Kr.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var z=this.pointCoordinate(new a.Point(0,0)),U=[z.x*this.worldSize,z.y*this.worldSize,0,1];return a.transformMat4(U,U,this.pixelMatrix)[3]/this.cameraToCenterDistance},Kr.prototype.getCameraPoint=function(){var z=this._pitch,U=Math.tan(z)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,U))},Kr.prototype.getCameraQueryGeometry=function(z){var U=this.getCameraPoint();if(z.length===1)return[z[0],U];for(var j=U.x,J=U.y,fe=U.x,Ae=U.y,F=0,Q=z;F<Q.length;F+=1){var ie=Q[F];j=Math.min(j,ie.x),J=Math.min(J,ie.y),fe=Math.max(fe,ie.x),Ae=Math.max(Ae,ie.y)}return[new a.Point(j,J),new a.Point(fe,J),new a.Point(fe,Ae),new a.Point(j,Ae),new a.Point(j,J)]},Object.defineProperties(Kr.prototype,ni);var as=function(z){var U,j,J,fe,Ae;this._hashName=z&&encodeURIComponent(z),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(U=this._updateHashUnthrottled.bind(this),j=300,J=!1,fe=null,Ae=function(){fe=null,J&&(U(),fe=setTimeout(Ae,j),J=!1)},function(){return J=!0,fe||Ae(),fe})};as.prototype.addTo=function(z){return this._map=z,a.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},as.prototype.remove=function(){return a.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},as.prototype.getHashString=function(z){var U=this._map.getCenter(),j=Math.round(100*this._map.getZoom())/100,J=Math.ceil((j*Math.LN2+Math.log(512/360/.5))/Math.LN10),fe=Math.pow(10,J),Ae=Math.round(U.lng*fe)/fe,F=Math.round(U.lat*fe)/fe,Q=this._map.getBearing(),ie=this._map.getPitch(),de="";if(de+=z?"/"+Ae+"/"+F+"/"+j:j+"/"+F+"/"+Ae,(Q||ie)&&(de+="/"+Math.round(10*Q)/10),ie&&(de+="/"+Math.round(ie)),this._hashName){var xe=this._hashName,Ce=!1,Ue=a.window.location.hash.slice(1).split("&").map(function(He){var We=He.split("=")[0];return We===xe?(Ce=!0,We+"="+de):He}).filter(function(He){return He});return Ce||Ue.push(xe+"="+de),"#"+Ue.join("&")}return"#"+de},as.prototype._getCurrentHash=function(){var z,U=this,j=a.window.location.hash.replace("#","");return this._hashName?(j.split("&").map(function(J){return J.split("=")}).forEach(function(J){J[0]===U._hashName&&(z=J)}),(z&&z[1]||"").split("/")):j.split("/")},as.prototype._onHashChange=function(){var z=this._getCurrentHash();if(z.length>=3&&!z.some(function(j){return isNaN(j)})){var U=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(z[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+z[2],+z[1]],zoom:+z[0],bearing:U,pitch:+(z[4]||0)}),!0}return!1},as.prototype._updateHashUnthrottled=function(){var z=this.getHashString();try{a.window.history.replaceState(a.window.history.state,"",z)}catch{}};var Vo={linearity:.3,easing:a.bezier(0,0,.3,1)},Xl=a.extend({deceleration:2500,maxSpeed:1400},Vo),al=a.extend({deceleration:20,maxSpeed:1400},Vo),os=a.extend({deceleration:1e3,maxSpeed:360},Vo),ol=a.extend({deceleration:1e3,maxSpeed:90},Vo),Ho=function(z){this._map=z,this.clear()};function As(z,U){(!z.duration||z.duration<U.duration)&&(z.duration=U.duration,z.easing=U.easing)}function ss(z,U,j){var J=j.maxSpeed,fe=j.linearity,Ae=j.deceleration,F=a.clamp(z*fe/(U/1e3),-J,J),Q=Math.abs(F)/(Ae*fe);return{easing:j.easing,duration:1e3*Q,amount:F*(Q/2)}}Ho.prototype.clear=function(){this._inertiaBuffer=[]},Ho.prototype.record=function(z){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.browser.now(),settings:z})},Ho.prototype._drainInertiaBuffer=function(){for(var z=this._inertiaBuffer,U=a.browser.now();z.length>0&&U-z[0].time>160;)z.shift()},Ho.prototype._onMoveEnd=function(z){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var U={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0},j=0,J=this._inertiaBuffer;j<J.length;j+=1){var fe=J[j].settings;U.zoom+=fe.zoomDelta||0,U.bearing+=fe.bearingDelta||0,U.pitch+=fe.pitchDelta||0,fe.panDelta&&U.pan._add(fe.panDelta),fe.around&&(U.around=fe.around),fe.pinchAround&&(U.pinchAround=fe.pinchAround)}var Ae=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,F={};if(U.pan.mag()){var Q=ss(U.pan.mag(),Ae,a.extend({},Xl,z||{}));F.offset=U.pan.mult(Q.amount/U.pan.mag()),F.center=this._map.transform.center,As(F,Q)}if(U.zoom){var ie=ss(U.zoom,Ae,al);F.zoom=this._map.transform.zoom+ie.amount,As(F,ie)}if(U.bearing){var de=ss(U.bearing,Ae,os);F.bearing=this._map.transform.bearing+a.clamp(de.amount,-179,179),As(F,de)}if(U.pitch){var xe=ss(U.pitch,Ae,ol);F.pitch=this._map.transform.pitch+xe.amount,As(F,xe)}if(F.zoom||F.bearing){var Ce=U.pinchAround===void 0?U.around:U.pinchAround;F.around=Ce?this._map.unproject(Ce):this._map.getCenter()}return this.clear(),a.extend(F,{noMoveStart:!0})}};var Di=function(z){function U(J,fe,Ae,F){F===void 0&&(F={});var Q=y.mousePos(fe.getCanvasContainer(),Ae),ie=fe.unproject(Q);z.call(this,J,a.extend({point:Q,lngLat:ie,originalEvent:Ae},F)),this._defaultPrevented=!1,this.target=fe}z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U;var j={defaultPrevented:{configurable:!0}};return U.prototype.preventDefault=function(){this._defaultPrevented=!0},j.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(U.prototype,j),U}(a.Event),Ss=function(z){function U(J,fe,Ae){var F=J==="touchend"?Ae.changedTouches:Ae.touches,Q=y.touchPos(fe.getCanvasContainer(),F),ie=Q.map(function(Ce){return fe.unproject(Ce)}),de=Q.reduce(function(Ce,Ue,He,We){return Ce.add(Ue.div(We.length))},new a.Point(0,0)),xe=fe.unproject(de);z.call(this,J,{points:Q,point:de,lngLats:ie,lngLat:xe,originalEvent:Ae}),this._defaultPrevented=!1}z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U;var j={defaultPrevented:{configurable:!0}};return U.prototype.preventDefault=function(){this._defaultPrevented=!0},j.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(U.prototype,j),U}(a.Event),Es=function(z){function U(J,fe,Ae){z.call(this,J,{originalEvent:Ae}),this._defaultPrevented=!1}z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U;var j={defaultPrevented:{configurable:!0}};return U.prototype.preventDefault=function(){this._defaultPrevented=!0},j.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(U.prototype,j),U}(a.Event),Qi=function(z,U){this._map=z,this._clickTolerance=U.clickTolerance};Qi.prototype.reset=function(){delete this._mousedownPos},Qi.prototype.wheel=function(z){return this._firePreventable(new Es(z.type,this._map,z))},Qi.prototype.mousedown=function(z,U){return this._mousedownPos=U,this._firePreventable(new Di(z.type,this._map,z))},Qi.prototype.mouseup=function(z){this._map.fire(new Di(z.type,this._map,z))},Qi.prototype.click=function(z,U){this._mousedownPos&&this._mousedownPos.dist(U)>=this._clickTolerance||this._map.fire(new Di(z.type,this._map,z))},Qi.prototype.dblclick=function(z){return this._firePreventable(new Di(z.type,this._map,z))},Qi.prototype.mouseover=function(z){this._map.fire(new Di(z.type,this._map,z))},Qi.prototype.mouseout=function(z){this._map.fire(new Di(z.type,this._map,z))},Qi.prototype.touchstart=function(z){return this._firePreventable(new Ss(z.type,this._map,z))},Qi.prototype.touchmove=function(z){this._map.fire(new Ss(z.type,this._map,z))},Qi.prototype.touchend=function(z){this._map.fire(new Ss(z.type,this._map,z))},Qi.prototype.touchcancel=function(z){this._map.fire(new Ss(z.type,this._map,z))},Qi.prototype._firePreventable=function(z){if(this._map.fire(z),z.defaultPrevented)return{}},Qi.prototype.isEnabled=function(){return!0},Qi.prototype.isActive=function(){return!1},Qi.prototype.enable=function(){},Qi.prototype.disable=function(){};var Ta=function(z){this._map=z};Ta.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Ta.prototype.mousemove=function(z){this._map.fire(new Di(z.type,this._map,z))},Ta.prototype.mousedown=function(){this._delayContextMenu=!0},Ta.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Di("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Ta.prototype.contextmenu=function(z){this._delayContextMenu?this._contextMenuEvent=z:this._map.fire(new Di(z.type,this._map,z)),this._map.listens("contextmenu")&&z.preventDefault()},Ta.prototype.isEnabled=function(){return!0},Ta.prototype.isActive=function(){return!1},Ta.prototype.enable=function(){},Ta.prototype.disable=function(){};var ma=function(z,U){this._map=z,this._el=z.getCanvasContainer(),this._container=z.getContainer(),this._clickTolerance=U.clickTolerance||1};function ea(z,U){for(var j={},J=0;J<z.length;J++)j[z[J].identifier]=U[J];return j}ma.prototype.isEnabled=function(){return!!this._enabled},ma.prototype.isActive=function(){return!!this._active},ma.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},ma.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ma.prototype.mousedown=function(z,U){this.isEnabled()&&z.shiftKey&&z.button===0&&(y.disableDrag(),this._startPos=this._lastPos=U,this._active=!0)},ma.prototype.mousemoveWindow=function(z,U){if(this._active){var j=U;if(!(this._lastPos.equals(j)||!this._box&&j.dist(this._startPos)<this._clickTolerance)){var J=this._startPos;this._lastPos=j,this._box||(this._box=y.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",z));var fe=Math.min(J.x,j.x),Ae=Math.max(J.x,j.x),F=Math.min(J.y,j.y),Q=Math.max(J.y,j.y);y.setTransform(this._box,"translate("+fe+"px,"+F+"px)"),this._box.style.width=Ae-fe+"px",this._box.style.height=Q-F+"px"}}},ma.prototype.mouseupWindow=function(z,U){var j=this;if(this._active&&z.button===0){var J=this._startPos,fe=U;if(this.reset(),y.suppressClick(),J.x!==fe.x||J.y!==fe.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:z})),{cameraAnimation:function(Ae){return Ae.fitScreenCoordinates(J,fe,j._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",z)}},ma.prototype.keydown=function(z){this._active&&z.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",z))},ma.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(y.remove(this._box),this._box=null),y.enableDrag(),delete this._startPos,delete this._lastPos},ma.prototype._fireEvent=function(z,U){return this._map.fire(new a.Event(z,{originalEvent:U}))};var Ca=function(z){this.reset(),this.numTouches=z.numTouches};Ca.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Ca.prototype.touchstart=function(z,U,j){(this.centroid||j.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=z.timeStamp),j.length===this.numTouches&&(this.centroid=function(J){for(var fe=new a.Point(0,0),Ae=0,F=J;Ae<F.length;Ae+=1){var Q=F[Ae];fe._add(Q)}return fe.div(J.length)}(U),this.touches=ea(j,U)))},Ca.prototype.touchmove=function(z,U,j){if(!this.aborted&&this.centroid){var J=ea(j,U);for(var fe in this.touches){var Ae=this.touches[fe],F=J[fe];(!F||F.dist(Ae)>30)&&(this.aborted=!0)}}},Ca.prototype.touchend=function(z,U,j){if((!this.centroid||z.timeStamp-this.startTime>500)&&(this.aborted=!0),j.length===0){var J=!this.aborted&&this.centroid;if(this.reset(),J)return J}};var ls=function(z){this.singleTap=new Ca(z),this.numTaps=z.numTaps,this.reset()};ls.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ls.prototype.touchstart=function(z,U,j){this.singleTap.touchstart(z,U,j)},ls.prototype.touchmove=function(z,U,j){this.singleTap.touchmove(z,U,j)},ls.prototype.touchend=function(z,U,j){var J=this.singleTap.touchend(z,U,j);if(J){var fe=z.timeStamp-this.lastTime<500,Ae=!this.lastTap||this.lastTap.dist(J)<30;if(fe&&Ae||this.reset(),this.count++,this.lastTime=z.timeStamp,this.lastTap=J,this.count===this.numTaps)return this.reset(),J}};var ho=function(){this._zoomIn=new ls({numTouches:1,numTaps:2}),this._zoomOut=new ls({numTouches:2,numTaps:1}),this.reset()};ho.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ho.prototype.touchstart=function(z,U,j){this._zoomIn.touchstart(z,U,j),this._zoomOut.touchstart(z,U,j)},ho.prototype.touchmove=function(z,U,j){this._zoomIn.touchmove(z,U,j),this._zoomOut.touchmove(z,U,j)},ho.prototype.touchend=function(z,U,j){var J=this,fe=this._zoomIn.touchend(z,U,j),Ae=this._zoomOut.touchend(z,U,j);return fe?(this._active=!0,z.preventDefault(),setTimeout(function(){return J.reset()},0),{cameraAnimation:function(F){return F.easeTo({duration:300,zoom:F.getZoom()+1,around:F.unproject(fe)},{originalEvent:z})}}):Ae?(this._active=!0,z.preventDefault(),setTimeout(function(){return J.reset()},0),{cameraAnimation:function(F){return F.easeTo({duration:300,zoom:F.getZoom()-1,around:F.unproject(Ae)},{originalEvent:z})}}):void 0},ho.prototype.touchcancel=function(){this.reset()},ho.prototype.enable=function(){this._enabled=!0},ho.prototype.disable=function(){this._enabled=!1,this.reset()},ho.prototype.isEnabled=function(){return this._enabled},ho.prototype.isActive=function(){return this._active};var ua=function(z){this.reset(),this._clickTolerance=z.clickTolerance||1};ua.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},ua.prototype._correctButton=function(z,U){return!1},ua.prototype._move=function(z,U){return{}},ua.prototype.mousedown=function(z,U){if(!this._lastPoint){var j=y.mouseButton(z);this._correctButton(z,j)&&(this._lastPoint=U,this._eventButton=j)}},ua.prototype.mousemoveWindow=function(z,U){var j=this._lastPoint;if(j&&(z.preventDefault(),this._moved||!(U.dist(j)<this._clickTolerance)))return this._moved=!0,this._lastPoint=U,this._move(j,U)},ua.prototype.mouseupWindow=function(z){y.mouseButton(z)===this._eventButton&&(this._moved&&y.suppressClick(),this.reset())},ua.prototype.enable=function(){this._enabled=!0},ua.prototype.disable=function(){this._enabled=!1,this.reset()},ua.prototype.isEnabled=function(){return this._enabled},ua.prototype.isActive=function(){return this._active};var Xa=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.mousedown=function(j,J){z.prototype.mousedown.call(this,j,J),this._lastPoint&&(this._active=!0)},U.prototype._correctButton=function(j,J){return J===0&&!j.ctrlKey},U.prototype._move=function(j,J){return{around:J,panDelta:J.sub(j)}},U}(ua),no=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype._correctButton=function(j,J){return J===0&&j.ctrlKey||J===2},U.prototype._move=function(j,J){var fe=.8*(J.x-j.x);if(fe)return this._active=!0,{bearingDelta:fe}},U.prototype.contextmenu=function(j){j.preventDefault()},U}(ua),Sl=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype._correctButton=function(j,J){return J===0&&j.ctrlKey||J===2},U.prototype._move=function(j,J){var fe=-.5*(J.y-j.y);if(fe)return this._active=!0,{pitchDelta:fe}},U.prototype.contextmenu=function(j){j.preventDefault()},U}(ua),ro=function(z){this._minTouches=1,this._clickTolerance=z.clickTolerance||1,this.reset()};ro.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)},ro.prototype.touchstart=function(z,U,j){return this._calculateTransform(z,U,j)},ro.prototype.touchmove=function(z,U,j){if(this._active)return z.preventDefault(),this._calculateTransform(z,U,j)},ro.prototype.touchend=function(z,U,j){this._calculateTransform(z,U,j),this._active&&j.length<this._minTouches&&this.reset()},ro.prototype.touchcancel=function(){this.reset()},ro.prototype._calculateTransform=function(z,U,j){j.length>0&&(this._active=!0);var J=ea(j,U),fe=new a.Point(0,0),Ae=new a.Point(0,0),F=0;for(var Q in J){var ie=J[Q],de=this._touches[Q];de&&(fe._add(ie),Ae._add(ie.sub(de)),F++,J[Q]=ie)}if(this._touches=J,!(F<this._minTouches)&&Ae.mag()){var xe=Ae.div(F);if(this._sum._add(xe),!(this._sum.mag()<this._clickTolerance))return{around:fe.div(F),panDelta:xe}}},ro.prototype.enable=function(){this._enabled=!0},ro.prototype.disable=function(){this._enabled=!1,this.reset()},ro.prototype.isEnabled=function(){return this._enabled},ro.prototype.isActive=function(){return this._active};var ca=function(){this.reset()};function Ar(z,U,j){for(var J=0;J<z.length;J++)if(z[J].identifier===j)return U[J]}ca.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ca.prototype._start=function(z){},ca.prototype._move=function(z,U,j){return{}},ca.prototype.touchstart=function(z,U,j){this._firstTwoTouches||j.length<2||(this._firstTwoTouches=[j[0].identifier,j[1].identifier],this._start([U[0],U[1]]))},ca.prototype.touchmove=function(z,U,j){if(this._firstTwoTouches){z.preventDefault();var J=this._firstTwoTouches,fe=J[0],Ae=J[1],F=Ar(j,U,fe),Q=Ar(j,U,Ae);if(F&&Q){var ie=this._aroundCenter?null:F.add(Q).div(2);return this._move([F,Q],ie,z)}}},ca.prototype.touchend=function(z,U,j){if(this._firstTwoTouches){var J=this._firstTwoTouches,fe=J[0],Ae=J[1],F=Ar(j,U,fe),Q=Ar(j,U,Ae);F&&Q||(this._active&&y.suppressClick(),this.reset())}},ca.prototype.touchcancel=function(){this.reset()},ca.prototype.enable=function(z){this._enabled=!0,this._aroundCenter=!!z&&z.around==="center"},ca.prototype.disable=function(){this._enabled=!1,this.reset()},ca.prototype.isEnabled=function(){return this._enabled},ca.prototype.isActive=function(){return this._active};function ka(z,U){return Math.log(z/U)/Math.LN2}var sl=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.reset=function(){z.prototype.reset.call(this),delete this._distance,delete this._startDistance},U.prototype._start=function(j){this._startDistance=this._distance=j[0].dist(j[1])},U.prototype._move=function(j,J){var fe=this._distance;if(this._distance=j[0].dist(j[1]),this._active||!(Math.abs(ka(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:ka(this._distance,fe),pinchAround:J}},U}(ca);function El(z,U){return 180*z.angleWith(U)/Math.PI}var Ls=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.reset=function(){z.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},U.prototype._start=function(j){this._startVector=this._vector=j[0].sub(j[1]),this._minDiameter=j[0].dist(j[1])},U.prototype._move=function(j,J){var fe=this._vector;if(this._vector=j[0].sub(j[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:El(this._vector,fe),pinchAround:J}},U.prototype._isBelowThreshold=function(j){this._minDiameter=Math.min(this._minDiameter,j.mag());var J=25/(Math.PI*this._minDiameter)*360,fe=El(j,this._startVector);return Math.abs(fe)<J},U}(ca);function Cs(z){return Math.abs(z.y)>Math.abs(z.x)}var qo=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.reset=function(){z.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},U.prototype._start=function(j){this._lastPoints=j,Cs(j[0].sub(j[1]))&&(this._valid=!1)},U.prototype._move=function(j,J,fe){var Ae=j[0].sub(this._lastPoints[0]),F=j[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(Ae,F,fe.timeStamp),this._valid)return this._lastPoints=j,this._active=!0,{pitchDelta:(Ae.y+F.y)/2*-.5}},U.prototype.gestureBeginsVertically=function(j,J,fe){if(this._valid!==void 0)return this._valid;var Ae=j.mag()>=2,F=J.mag()>=2;if(Ae||F){if(!Ae||!F)return this._firstMove===void 0&&(this._firstMove=fe),fe-this._firstMove<100&&void 0;var Q=j.y>0==J.y>0;return Cs(j)&&Cs(J)&&Q}},U}(ca),Tr={panStep:100,bearingStep:15,pitchStep:10},po=function(){var z=Tr;this._panStep=z.panStep,this._bearingStep=z.bearingStep,this._pitchStep=z.pitchStep};function Hs(z){return z*(2-z)}po.prototype.reset=function(){this._active=!1},po.prototype.keydown=function(z){var U=this;if(!(z.altKey||z.ctrlKey||z.metaKey)){var j=0,J=0,fe=0,Ae=0,F=0;switch(z.keyCode){case 61:case 107:case 171:case 187:j=1;break;case 189:case 109:case 173:j=-1;break;case 37:z.shiftKey?J=-1:(z.preventDefault(),Ae=-1);break;case 39:z.shiftKey?J=1:(z.preventDefault(),Ae=1);break;case 38:z.shiftKey?fe=1:(z.preventDefault(),F=-1);break;case 40:z.shiftKey?fe=-1:(z.preventDefault(),F=1);break;default:return}return{cameraAnimation:function(Q){var ie=Q.getZoom();Q.easeTo({duration:300,easeId:"keyboardHandler",easing:Hs,zoom:j?Math.round(ie)+j*(z.shiftKey?2:1):ie,bearing:Q.getBearing()+J*U._bearingStep,pitch:Q.getPitch()+fe*U._pitchStep,offset:[-Ae*U._panStep,-F*U._panStep],center:Q.getCenter()},{originalEvent:z})}}}},po.prototype.enable=function(){this._enabled=!0},po.prototype.disable=function(){this._enabled=!1,this.reset()},po.prototype.isEnabled=function(){return this._enabled},po.prototype.isActive=function(){return this._active};var ll=4.000244140625,Ma=function(z,U){this._map=z,this._el=z.getCanvasContainer(),this._handler=U,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onWheel","_onTimeout","_onScrollFrame","_onScrollFinished"],this)};Ma.prototype.setZoomRate=function(z){this._defaultZoomRate=z},Ma.prototype.setWheelZoomRate=function(z){this._wheelZoomRate=z},Ma.prototype.isEnabled=function(){return!!this._enabled},Ma.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},Ma.prototype.isZooming=function(){return!!this._zooming},Ma.prototype.enable=function(z){this.isEnabled()||(this._enabled=!0,this._aroundCenter=z&&z.around==="center")},Ma.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},Ma.prototype.wheel=function(z){if(this.isEnabled()){var U=z.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*z.deltaY:z.deltaY,j=a.browser.now(),J=j-(this._lastWheelEventTime||0);this._lastWheelEventTime=j,U!==0&&U%ll==0?this._type="wheel":U!==0&&Math.abs(U)<4?this._type="trackpad":J>400?(this._type=null,this._lastValue=U,this._timeout=setTimeout(this._onTimeout,40,z)):this._type||(this._type=Math.abs(J*U)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,U+=this._lastValue)),z.shiftKey&&U&&(U/=4),this._type&&(this._lastWheelEvent=z,this._delta-=U,this._active||this._start(z)),z.preventDefault()}},Ma.prototype._onTimeout=function(z){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(z)},Ma.prototype._start=function(z){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var U=y.mousePos(this._el,z);this._around=a.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(U)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},Ma.prototype.renderFrame=function(){return this._onScrollFrame()},Ma.prototype._onScrollFrame=function(){var z=this;if(this._frameId&&(this._frameId=null,this.isActive())){var U=this._map.transform;if(this._delta!==0){var j=this._type==="wheel"&&Math.abs(this._delta)>ll?this._wheelZoomRate:this._defaultZoomRate,J=2/(1+Math.exp(-Math.abs(this._delta*j)));this._delta<0&&J!==0&&(J=1/J);var fe=typeof this._targetZoom=="number"?U.zoomScale(this._targetZoom):U.scale;this._targetZoom=Math.min(U.maxZoom,Math.max(U.minZoom,U.scaleZoom(fe*J))),this._type==="wheel"&&(this._startZoom=U.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var Ae,F=typeof this._targetZoom=="number"?this._targetZoom:U.zoom,Q=this._startZoom,ie=this._easing,de=!1;if(this._type==="wheel"&&Q&&ie){var xe=Math.min((a.browser.now()-this._lastWheelEventTime)/200,1),Ce=ie(xe);Ae=a.number(Q,F,Ce),xe<1?this._frameId||(this._frameId=!0):de=!0}else Ae=F,de=!0;return this._active=!0,de&&(this._active=!1,this._finishTimeout=setTimeout(function(){z._zooming=!1,z._handler._triggerRenderFrame(),delete z._targetZoom,delete z._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!de,zoomDelta:Ae-U.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},Ma.prototype._smoothOutEasing=function(z){var U=a.ease;if(this._prevEase){var j=this._prevEase,J=(a.browser.now()-j.start)/j.duration,fe=j.easing(J+.01)-j.easing(J),Ae=.27/Math.sqrt(fe*fe+1e-4)*.01,F=Math.sqrt(.0729-Ae*Ae);U=a.bezier(Ae,F,.25,1)}return this._prevEase={start:a.browser.now(),duration:z,easing:U},U},Ma.prototype.reset=function(){this._active=!1};var go=function(z,U){this._clickZoom=z,this._tapZoom=U};go.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},go.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},go.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},go.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var io=function(){this.reset()};io.prototype.reset=function(){this._active=!1},io.prototype.dblclick=function(z,U){return z.preventDefault(),{cameraAnimation:function(j){j.easeTo({duration:300,zoom:j.getZoom()+(z.shiftKey?-1:1),around:j.unproject(U)},{originalEvent:z})}}},io.prototype.enable=function(){this._enabled=!0},io.prototype.disable=function(){this._enabled=!1,this.reset()},io.prototype.isEnabled=function(){return this._enabled},io.prototype.isActive=function(){return this._active};var Ja=function(){this._tap=new ls({numTouches:1,numTaps:1}),this.reset()};Ja.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},Ja.prototype.touchstart=function(z,U,j){this._swipePoint||(this._tapTime&&z.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?j.length>0&&(this._swipePoint=U[0],this._swipeTouch=j[0].identifier):this._tap.touchstart(z,U,j))},Ja.prototype.touchmove=function(z,U,j){if(this._tapTime){if(this._swipePoint){if(j[0].identifier!==this._swipeTouch)return;var J=U[0],fe=J.y-this._swipePoint.y;return this._swipePoint=J,z.preventDefault(),this._active=!0,{zoomDelta:fe/128}}}else this._tap.touchmove(z,U,j)},Ja.prototype.touchend=function(z,U,j){this._tapTime?this._swipePoint&&j.length===0&&this.reset():this._tap.touchend(z,U,j)&&(this._tapTime=z.timeStamp)},Ja.prototype.touchcancel=function(){this.reset()},Ja.prototype.enable=function(){this._enabled=!0},Ja.prototype.disable=function(){this._enabled=!1,this.reset()},Ja.prototype.isEnabled=function(){return this._enabled},Ja.prototype.isActive=function(){return this._active};var Mo=function(z,U,j){this._el=z,this._mousePan=U,this._touchPan=j};Mo.prototype.enable=function(z){this._inertiaOptions=z||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Mo.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Mo.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Mo.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Go=function(z,U,j){this._pitchWithRotate=z.pitchWithRotate,this._mouseRotate=U,this._mousePitch=j};Go.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Go.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Go.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Go.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var ta=function(z,U,j,J){this._el=z,this._touchZoom=U,this._touchRotate=j,this._tapDragZoom=J,this._rotationDisabled=!1,this._enabled=!0};ta.prototype.enable=function(z){this._touchZoom.enable(z),this._rotationDisabled||this._touchRotate.enable(z),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},ta.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},ta.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},ta.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},ta.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},ta.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var Os=function(z){return z.zoom||z.drag||z.pitch||z.rotate},qs=function(z){function U(){z.apply(this,arguments)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U}(a.Event);function fa(z){return z.panDelta&&z.panDelta.mag()||z.zoomDelta||z.bearingDelta||z.pitchDelta}var di=function(z,U){this._map=z,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new Ho(z),this._bearingSnap=U.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(U),a.bindAll(["handleEvent","handleWindowEvent"],this);var j=this._el;this._listeners=[[j,"touchstart",{passive:!1}],[j,"touchmove",{passive:!1}],[j,"touchend",void 0],[j,"touchcancel",void 0],[j,"mousedown",void 0],[j,"mousemove",void 0],[j,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[j,"mouseover",void 0],[j,"mouseout",void 0],[j,"dblclick",void 0],[j,"click",void 0],[j,"keydown",{capture:!1}],[j,"keyup",void 0],[j,"wheel",{passive:!1}],[j,"contextmenu",void 0],[a.window,"blur",void 0]];for(var J=0,fe=this._listeners;J<fe.length;J+=1){var Ae=fe[J],F=Ae[0],Q=Ae[1],ie=Ae[2];y.addEventListener(F,Q,F===a.window.document?this.handleWindowEvent:this.handleEvent,ie)}};di.prototype.destroy=function(){for(var z=0,U=this._listeners;z<U.length;z+=1){var j=U[z],J=j[0],fe=j[1],Ae=j[2];y.removeEventListener(J,fe,J===a.window.document?this.handleWindowEvent:this.handleEvent,Ae)}},di.prototype._addDefaultHandlers=function(z){var U=this._map,j=U.getCanvasContainer();this._add("mapEvent",new Qi(U,z));var J=U.boxZoom=new ma(U,z);this._add("boxZoom",J);var fe=new ho,Ae=new io;U.doubleClickZoom=new go(Ae,fe),this._add("tapZoom",fe),this._add("clickZoom",Ae);var F=new Ja;this._add("tapDragZoom",F);var Q=U.touchPitch=new qo;this._add("touchPitch",Q);var ie=new no(z),de=new Sl(z);U.dragRotate=new Go(z,ie,de),this._add("mouseRotate",ie,["mousePitch"]),this._add("mousePitch",de,["mouseRotate"]);var xe=new Xa(z),Ce=new ro(z);U.dragPan=new Mo(j,xe,Ce),this._add("mousePan",xe),this._add("touchPan",Ce,["touchZoom","touchRotate"]);var Ue=new Ls,He=new sl;U.touchZoomRotate=new ta(j,He,Ue,F),this._add("touchRotate",Ue,["touchPan","touchZoom"]),this._add("touchZoom",He,["touchPan","touchRotate"]);var We=U.scrollZoom=new Ma(U,this);this._add("scrollZoom",We,["mousePan"]);var Ke=U.keyboard=new po;this._add("keyboard",Ke),this._add("blockableMapEvent",new Ta(U));for(var nt=0,pt=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];nt<pt.length;nt+=1){var yt=pt[nt];z.interactive&&z[yt]&&U[yt].enable(z[yt])}},di.prototype._add=function(z,U,j){this._handlers.push({handlerName:z,handler:U,allowed:j}),this._handlersById[z]=U},di.prototype.stop=function(){if(!this._updatingCamera){for(var z=0,U=this._handlers;z<U.length;z+=1)U[z].handler.reset();this._inertia.clear(),this._fireEvents({},{}),this._changes=[]}},di.prototype.isActive=function(){for(var z=0,U=this._handlers;z<U.length;z+=1)if(U[z].handler.isActive())return!0;return!1},di.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},di.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},di.prototype.isMoving=function(){return!!Os(this._eventsInProgress)||this.isZooming()},di.prototype._blockedByActive=function(z,U,j){for(var J in z)if(J!==j&&(!U||U.indexOf(J)<0))return!0;return!1},di.prototype.handleWindowEvent=function(z){this.handleEvent(z,z.type+"Window")},di.prototype._getMapTouches=function(z){for(var U=[],j=0,J=z;j<J.length;j+=1){var fe=J[j],Ae=fe.target;this._el.contains(Ae)&&U.push(fe)}return U},di.prototype.handleEvent=function(z,U){if(z.type!=="blur"){this._updatingCamera=!0;for(var j=z.type==="renderFrame"?void 0:z,J={needsRenderFrame:!1},fe={},Ae={},F=z.touches?this._getMapTouches(z.touches):void 0,Q=F?y.touchPos(this._el,F):y.mousePos(this._el,z),ie=0,de=this._handlers;ie<de.length;ie+=1){var xe=de[ie],Ce=xe.handlerName,Ue=xe.handler,He=xe.allowed;if(Ue.isEnabled()){var We=void 0;this._blockedByActive(Ae,He,Ce)?Ue.reset():Ue[U||z.type]&&(We=Ue[U||z.type](z,Q,F),this.mergeHandlerResult(J,fe,We,Ce,j),We&&We.needsRenderFrame&&this._triggerRenderFrame()),(We||Ue.isActive())&&(Ae[Ce]=Ue)}}var Ke={};for(var nt in this._previousActiveHandlers)Ae[nt]||(Ke[nt]=j);this._previousActiveHandlers=Ae,(Object.keys(Ke).length||fa(J))&&(this._changes.push([J,fe,Ke]),this._triggerRenderFrame()),(Object.keys(Ae).length||fa(J))&&this._map._stop(!0),this._updatingCamera=!1;var pt=J.cameraAnimation;pt&&(this._inertia.clear(),this._fireEvents({},{}),this._changes=[],pt(this._map))}else this.stop()},di.prototype.mergeHandlerResult=function(z,U,j,J,fe){if(j){a.extend(z,j);var Ae={handlerName:J,originalEvent:j.originalEvent||fe};j.zoomDelta!==void 0&&(U.zoom=Ae),j.panDelta!==void 0&&(U.drag=Ae),j.pitchDelta!==void 0&&(U.pitch=Ae),j.bearingDelta!==void 0&&(U.rotate=Ae)}},di.prototype._applyChanges=function(){for(var z={},U={},j={},J=0,fe=this._changes;J<fe.length;J+=1){var Ae=fe[J],F=Ae[0],Q=Ae[1],ie=Ae[2];F.panDelta&&(z.panDelta=(z.panDelta||new a.Point(0,0))._add(F.panDelta)),F.zoomDelta&&(z.zoomDelta=(z.zoomDelta||0)+F.zoomDelta),F.bearingDelta&&(z.bearingDelta=(z.bearingDelta||0)+F.bearingDelta),F.pitchDelta&&(z.pitchDelta=(z.pitchDelta||0)+F.pitchDelta),F.around!==void 0&&(z.around=F.around),F.pinchAround!==void 0&&(z.pinchAround=F.pinchAround),F.noInertia&&(z.noInertia=F.noInertia),a.extend(U,Q),a.extend(j,ie)}this._updateMapTransform(z,U,j),this._changes=[]},di.prototype._updateMapTransform=function(z,U,j){var J=this._map,fe=J.transform;if(!fa(z))return this._fireEvents(U,j);var Ae=z.panDelta,F=z.zoomDelta,Q=z.bearingDelta,ie=z.pitchDelta,de=z.around,xe=z.pinchAround;xe!==void 0&&(de=xe),J._stop(!0),de=de||J.transform.centerPoint;var Ce=fe.pointLocation(Ae?de.sub(Ae):de);Q&&(fe.bearing+=Q),ie&&(fe.pitch+=ie),F&&(fe.zoom+=F),fe.setLocationAtPoint(Ce,de),this._map._update(),z.noInertia||this._inertia.record(z),this._fireEvents(U,j)},di.prototype._fireEvents=function(z,U){var j=this,J=Os(this._eventsInProgress),fe=Os(z),Ae={};for(var F in z){var Q=z[F].originalEvent;this._eventsInProgress[F]||(Ae[F+"start"]=Q),this._eventsInProgress[F]=z[F]}for(var ie in!J&&fe&&this._fireEvent("movestart",fe.originalEvent),Ae)this._fireEvent(ie,Ae[ie]);for(var de in z.rotate&&(this._bearingChanged=!0),fe&&this._fireEvent("move",fe.originalEvent),z){var xe=z[de].originalEvent;this._fireEvent(de,xe)}var Ce,Ue={};for(var He in this._eventsInProgress){var We=this._eventsInProgress[He],Ke=We.handlerName,nt=We.originalEvent;this._handlersById[Ke].isActive()||(delete this._eventsInProgress[He],Ce=U[Ke]||nt,Ue[He+"end"]=Ce)}for(var pt in Ue)this._fireEvent(pt,Ue[pt]);var yt=Os(this._eventsInProgress);if((J||fe)&&!yt){this._updatingCamera=!0;var It=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Rt=function(Pt){return Pt!==0&&-j._bearingSnap<Pt&&Pt<j._bearingSnap};It?(Rt(It.bearing||this._map.getBearing())&&(It.bearing=0),this._map.easeTo(It,{originalEvent:Ce})):(this._map.fire(new a.Event("moveend",{originalEvent:Ce})),Rt(this._map.getBearing())&&this._map.resetNorth()),this._bearingChanged=!1,this._updatingCamera=!1}},di.prototype._fireEvent=function(z,U){this._map.fire(new a.Event(z,U?{originalEvent:U}:{}))},di.prototype._triggerRenderFrame=function(){var z=this;this._frameId===void 0&&(this._frameId=this._map._requestRenderFrame(function(U){delete z._frameId,z.handleEvent(new qs("renderFrame",{timeStamp:U})),z._applyChanges()}))};var ul=function(z){function U(j,J){z.call(this),this._moving=!1,this._zooming=!1,this.transform=j,this._bearingSnap=J.bearingSnap,a.bindAll(["_renderFrameCallback"],this)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.getCenter=function(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)},U.prototype.setCenter=function(j,J){return this.jumpTo({center:j},J)},U.prototype.panBy=function(j,J,fe){return j=a.Point.convert(j).mult(-1),this.panTo(this.transform.center,a.extend({offset:j},J),fe)},U.prototype.panTo=function(j,J,fe){return this.easeTo(a.extend({center:j},J),fe)},U.prototype.getZoom=function(){return this.transform.zoom},U.prototype.setZoom=function(j,J){return this.jumpTo({zoom:j},J),this},U.prototype.zoomTo=function(j,J,fe){return this.easeTo(a.extend({zoom:j},J),fe)},U.prototype.zoomIn=function(j,J){return this.zoomTo(this.getZoom()+1,j,J),this},U.prototype.zoomOut=function(j,J){return this.zoomTo(this.getZoom()-1,j,J),this},U.prototype.getBearing=function(){return this.transform.bearing},U.prototype.setBearing=function(j,J){return this.jumpTo({bearing:j},J),this},U.prototype.getPadding=function(){return this.transform.padding},U.prototype.setPadding=function(j,J){return this.jumpTo({padding:j},J),this},U.prototype.rotateTo=function(j,J,fe){return this.easeTo(a.extend({bearing:j},J),fe)},U.prototype.resetNorth=function(j,J){return this.rotateTo(0,a.extend({duration:1e3},j),J),this},U.prototype.resetNorthPitch=function(j,J){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},j),J),this},U.prototype.snapToNorth=function(j,J){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(j,J):this},U.prototype.getPitch=function(){return this.transform.pitch},U.prototype.setPitch=function(j,J){return this.jumpTo({pitch:j},J),this},U.prototype.cameraForBounds=function(j,J){return j=a.LngLatBounds.convert(j),this._cameraForBoxAndBearing(j.getNorthWest(),j.getSouthEast(),0,J)},U.prototype._cameraForBoxAndBearing=function(j,J,fe,Ae){var F={top:0,bottom:0,right:0,left:0};if(typeof(Ae=a.extend({padding:F,offset:[0,0],maxZoom:this.transform.maxZoom},Ae)).padding=="number"){var Q=Ae.padding;Ae.padding={top:Q,bottom:Q,right:Q,left:Q}}Ae.padding=a.extend(F,Ae.padding);var ie=this.transform,de=ie.padding,xe=ie.project(a.LngLat.convert(j)),Ce=ie.project(a.LngLat.convert(J)),Ue=xe.rotate(-fe*Math.PI/180),He=Ce.rotate(-fe*Math.PI/180),We=new a.Point(Math.max(Ue.x,He.x),Math.max(Ue.y,He.y)),Ke=new a.Point(Math.min(Ue.x,He.x),Math.min(Ue.y,He.y)),nt=We.sub(Ke),pt=(ie.width-(de.left+de.right+Ae.padding.left+Ae.padding.right))/nt.x,yt=(ie.height-(de.top+de.bottom+Ae.padding.top+Ae.padding.bottom))/nt.y;if(!(yt<0||pt<0)){var It=Math.min(ie.scaleZoom(ie.scale*Math.min(pt,yt)),Ae.maxZoom),Rt=a.Point.convert(Ae.offset),Pt=(Ae.padding.left-Ae.padding.right)/2,Vt=(Ae.padding.top-Ae.padding.bottom)/2,Dt=new a.Point(Rt.x+Pt,Rt.y+Vt).mult(ie.scale/ie.zoomScale(It));return{center:ie.unproject(xe.add(Ce).div(2).sub(Dt)),zoom:It,bearing:fe}}a.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},U.prototype.fitBounds=function(j,J,fe){return this._fitInternal(this.cameraForBounds(j,J),J,fe)},U.prototype.fitScreenCoordinates=function(j,J,fe,Ae,F){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(a.Point.convert(j)),this.transform.pointLocation(a.Point.convert(J)),fe,Ae),Ae,F)},U.prototype._fitInternal=function(j,J,fe){return j?(delete(J=a.extend(j,J)).padding,J.linear?this.easeTo(J,fe):this.flyTo(J,fe)):this},U.prototype.jumpTo=function(j,J){this.stop();var fe=this.transform,Ae=!1,F=!1,Q=!1;return"zoom"in j&&fe.zoom!==+j.zoom&&(Ae=!0,fe.zoom=+j.zoom),j.center!==void 0&&(fe.center=a.LngLat.convert(j.center)),"bearing"in j&&fe.bearing!==+j.bearing&&(F=!0,fe.bearing=+j.bearing),"pitch"in j&&fe.pitch!==+j.pitch&&(Q=!0,fe.pitch=+j.pitch),j.padding==null||fe.isPaddingEqual(j.padding)||(fe.padding=j.padding),this.fire(new a.Event("movestart",J)).fire(new a.Event("move",J)),Ae&&this.fire(new a.Event("zoomstart",J)).fire(new a.Event("zoom",J)).fire(new a.Event("zoomend",J)),F&&this.fire(new a.Event("rotatestart",J)).fire(new a.Event("rotate",J)).fire(new a.Event("rotateend",J)),Q&&this.fire(new a.Event("pitchstart",J)).fire(new a.Event("pitch",J)).fire(new a.Event("pitchend",J)),this.fire(new a.Event("moveend",J))},U.prototype.easeTo=function(j,J){var fe=this;this._stop(!1,j.easeId),((j=a.extend({offset:[0,0],duration:500,easing:a.ease},j)).animate===!1||!j.essential&&a.browser.prefersReducedMotion)&&(j.duration=0);var Ae=this.transform,F=this.getZoom(),Q=this.getBearing(),ie=this.getPitch(),de=this.getPadding(),xe="zoom"in j?+j.zoom:F,Ce="bearing"in j?this._normalizeBearing(j.bearing,Q):Q,Ue="pitch"in j?+j.pitch:ie,He="padding"in j?j.padding:Ae.padding,We=a.Point.convert(j.offset),Ke=Ae.centerPoint.add(We),nt=Ae.pointLocation(Ke),pt=a.LngLat.convert(j.center||nt);this._normalizeCenter(pt);var yt,It,Rt=Ae.project(nt),Pt=Ae.project(pt).sub(Rt),Vt=Ae.zoomScale(xe-F);j.around&&(yt=a.LngLat.convert(j.around),It=Ae.locationPoint(yt));var Dt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||xe!==F,this._rotating=this._rotating||Q!==Ce,this._pitching=this._pitching||Ue!==ie,this._padding=!Ae.isPaddingEqual(He),this._easeId=j.easeId,this._prepareEase(J,j.noMoveStart,Dt),clearTimeout(this._easeEndTimeoutID),this._ease(function(sn){if(fe._zooming&&(Ae.zoom=a.number(F,xe,sn)),fe._rotating&&(Ae.bearing=a.number(Q,Ce,sn)),fe._pitching&&(Ae.pitch=a.number(ie,Ue,sn)),fe._padding&&(Ae.interpolatePadding(de,He,sn),Ke=Ae.centerPoint.add(We)),yt)Ae.setLocationAtPoint(yt,It);else{var Kt=Ae.zoomScale(Ae.zoom-F),Zt=xe>F?Math.min(2,Vt):Math.max(.5,Vt),xn=Math.pow(Zt,1-sn),_n=Ae.unproject(Rt.add(Pt.mult(sn*xn)).mult(Kt));Ae.setLocationAtPoint(Ae.renderWorldCopies?_n.wrap():_n,Ke)}fe._fireMoveEvents(J)},function(sn){fe._afterEase(J,sn)},j),this},U.prototype._prepareEase=function(j,J,fe){fe===void 0&&(fe={}),this._moving=!0,J||fe.moving||this.fire(new a.Event("movestart",j)),this._zooming&&!fe.zooming&&this.fire(new a.Event("zoomstart",j)),this._rotating&&!fe.rotating&&this.fire(new a.Event("rotatestart",j)),this._pitching&&!fe.pitching&&this.fire(new a.Event("pitchstart",j))},U.prototype._fireMoveEvents=function(j){this.fire(new a.Event("move",j)),this._zooming&&this.fire(new a.Event("zoom",j)),this._rotating&&this.fire(new a.Event("rotate",j)),this._pitching&&this.fire(new a.Event("pitch",j))},U.prototype._afterEase=function(j,J){if(!this._easeId||!J||this._easeId!==J){delete this._easeId;var fe=this._zooming,Ae=this._rotating,F=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,fe&&this.fire(new a.Event("zoomend",j)),Ae&&this.fire(new a.Event("rotateend",j)),F&&this.fire(new a.Event("pitchend",j)),this.fire(new a.Event("moveend",j))}},U.prototype.flyTo=function(j,J){var fe=this;if(!j.essential&&a.browser.prefersReducedMotion){var Ae=a.pick(j,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Ae,J)}this.stop(),j=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},j);var F=this.transform,Q=this.getZoom(),ie=this.getBearing(),de=this.getPitch(),xe=this.getPadding(),Ce="zoom"in j?a.clamp(+j.zoom,F.minZoom,F.maxZoom):Q,Ue="bearing"in j?this._normalizeBearing(j.bearing,ie):ie,He="pitch"in j?+j.pitch:de,We="padding"in j?j.padding:F.padding,Ke=F.zoomScale(Ce-Q),nt=a.Point.convert(j.offset),pt=F.centerPoint.add(nt),yt=F.pointLocation(pt),It=a.LngLat.convert(j.center||yt);this._normalizeCenter(It);var Rt=F.project(yt),Pt=F.project(It).sub(Rt),Vt=j.curve,Dt=Math.max(F.width,F.height),sn=Dt/Ke,Kt=Pt.mag();if("minZoom"in j){var Zt=a.clamp(Math.min(j.minZoom,Q,Ce),F.minZoom,F.maxZoom),xn=Dt/F.zoomScale(Zt-Q);Vt=Math.sqrt(xn/Kt*2)}var _n=Vt*Vt;function jn(qn){var ur=(sn*sn-Dt*Dt+(qn?-1:1)*_n*_n*Kt*Kt)/(2*(qn?sn:Dt)*_n*Kt);return Math.log(Math.sqrt(ur*ur+1)-ur)}function Un(qn){return(Math.exp(qn)-Math.exp(-qn))/2}function Wn(qn){return(Math.exp(qn)+Math.exp(-qn))/2}var er=jn(0),fr=function(qn){return Wn(er)/Wn(er+Vt*qn)},cr=function(qn){return Dt*((Wn(er)*(Un(ur=er+Vt*qn)/Wn(ur))-Un(er))/_n)/Kt;var ur},vr=(jn(1)-er)/Vt;if(Math.abs(Kt)<1e-6||!isFinite(vr)){if(Math.abs(Dt-sn)<1e-6)return this.easeTo(j,J);var kr=sn<Dt?-1:1;vr=Math.abs(Math.log(sn/Dt))/Vt,cr=function(){return 0},fr=function(qn){return Math.exp(kr*Vt*qn)}}if("duration"in j)j.duration=+j.duration;else{var Br="screenSpeed"in j?+j.screenSpeed/Vt:+j.speed;j.duration=1e3*vr/Br}return j.maxDuration&&j.duration>j.maxDuration&&(j.duration=0),this._zooming=!0,this._rotating=ie!==Ue,this._pitching=He!==de,this._padding=!F.isPaddingEqual(We),this._prepareEase(J,!1),this._ease(function(qn){var ur=qn*vr,mr=1/fr(ur);F.zoom=qn===1?Ce:Q+F.scaleZoom(mr),fe._rotating&&(F.bearing=a.number(ie,Ue,qn)),fe._pitching&&(F.pitch=a.number(de,He,qn)),fe._padding&&(F.interpolatePadding(xe,We,qn),pt=F.centerPoint.add(nt));var Mr=qn===1?It:F.unproject(Rt.add(Pt.mult(cr(ur))).mult(mr));F.setLocationAtPoint(F.renderWorldCopies?Mr.wrap():Mr,pt),fe._fireMoveEvents(J)},function(){return fe._afterEase(J)},j),this},U.prototype.isEasing=function(){return!!this._easeFrameId},U.prototype.stop=function(){return this._stop()},U.prototype._stop=function(j,J){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var fe=this._onEaseEnd;delete this._onEaseEnd,fe.call(this,J)}if(!j){var Ae=this.handlers;Ae&&Ae.stop()}return this},U.prototype._ease=function(j,J,fe){fe.animate===!1||fe.duration===0?(j(1),J()):(this._easeStart=a.browser.now(),this._easeOptions=fe,this._onEaseFrame=j,this._onEaseEnd=J,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},U.prototype._renderFrameCallback=function(){var j=Math.min((a.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(j)),j<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},U.prototype._normalizeBearing=function(j,J){j=a.wrap(j,-180,180);var fe=Math.abs(j-J);return Math.abs(j-360-J)<fe&&(j-=360),Math.abs(j+360-J)<fe&&(j+=360),j},U.prototype._normalizeCenter=function(j){var J=this.transform;if(J.renderWorldCopies&&!J.lngRange){var fe=j.lng-J.center.lng;j.lng+=fe>180?-360:fe<-180?360:0}},U}(a.Evented),Ua=function(z){z===void 0&&(z={}),this.options=z,a.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};Ua.prototype.getDefaultPosition=function(){return"bottom-right"},Ua.prototype.onAdd=function(z){var U=this.options&&this.options.compact;return this._map=z,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._innerContainer=y.create("div","mapboxgl-ctrl-attrib-inner",this._container),U&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),U===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Ua.prototype.onRemove=function(){y.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Ua.prototype._updateEditLink=function(){var z=this._editLink;z||(z=this._editLink=this._container.querySelector(".mapbox-improve-map"));var U=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(z){var j=U.reduce(function(J,fe,Ae){return fe.value&&(J+=fe.key+"="+fe.value+(Ae<U.length-1?"&":"")),J},"?");z.href=a.config.FEEDBACK_URL+"/"+j+(this._map._hash?this._map._hash.getHashString(!0):""),z.rel="noopener nofollow"}},Ua.prototype._updateData=function(z){!z||z.sourceDataType!=="metadata"&&z.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Ua.prototype._updateAttributions=function(){if(this._map.style){var z=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?z=z.concat(this.options.customAttribution.map(function(Q){return typeof Q!="string"?"":Q})):typeof this.options.customAttribution=="string"&&z.push(this.options.customAttribution)),this._map.style.stylesheet){var U=this._map.style.stylesheet;this.styleOwner=U.owner,this.styleId=U.id}var j=this._map.style.sourceCaches;for(var J in j){var fe=j[J];if(fe.used){var Ae=fe.getSource();Ae.attribution&&z.indexOf(Ae.attribution)<0&&z.push(Ae.attribution)}}z.sort(function(Q,ie){return Q.length-ie.length});var F=(z=z.filter(function(Q,ie){for(var de=ie+1;de<z.length;de++)if(z[de].indexOf(Q)>=0)return!1;return!0})).join(" | ");F!==this._attribHTML&&(this._attribHTML=F,z.length?(this._innerContainer.innerHTML=F,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Ua.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact")};var na=function(){a.bindAll(["_updateLogo"],this),a.bindAll(["_updateCompact"],this)};na.prototype.onAdd=function(z){this._map=z,this._container=y.create("div","mapboxgl-ctrl");var U=y.create("a","mapboxgl-ctrl-logo");return U.target="_blank",U.rel="noopener nofollow",U.href="https://www.mapbox.com/",U.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),U.setAttribute("rel","noopener nofollow"),this._container.appendChild(U),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},na.prototype.onRemove=function(){y.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},na.prototype.getDefaultPosition=function(){return"bottom-left"},na.prototype._updateLogo=function(z){z&&z.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},na.prototype._logoRequired=function(){if(this._map.style){var z=this._map.style.sourceCaches;for(var U in z)if(z[U].getSource().mapbox_logo)return!0;return!1}},na.prototype._updateCompact=function(){var z=this._container.children;if(z.length){var U=z[0];this._map.getCanvasContainer().offsetWidth<250?U.classList.add("mapboxgl-compact"):U.classList.remove("mapboxgl-compact")}};var Ao=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Ao.prototype.add=function(z){var U=++this._id;return this._queue.push({callback:z,id:U,cancelled:!1}),U},Ao.prototype.remove=function(z){for(var U=this._currentlyRunning,j=0,J=U?this._queue.concat(U):this._queue;j<J.length;j+=1){var fe=J[j];if(fe.id===z)return void(fe.cancelled=!0)}},Ao.prototype.run=function(z){z===void 0&&(z=0);var U=this._currentlyRunning=this._queue;this._queue=[];for(var j=0,J=U;j<J.length;j+=1){var fe=J[j];if(!fe.cancelled&&(fe.callback(z),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Ao.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var Jl={"FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},Vi=a.window.HTMLImageElement,ui=a.window.HTMLElement,Ka=a.window.ImageBitmap,So=60,vo={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:So,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Ll=function(z){function U(J){var fe=this;if((J=a.extend({},vo,J)).minZoom!=null&&J.maxZoom!=null&&J.minZoom>J.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(J.minPitch!=null&&J.maxPitch!=null&&J.minPitch>J.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(J.minPitch!=null&&J.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(J.maxPitch!=null&&J.maxPitch>So)throw new Error("maxPitch must be less than or equal to 60");var Ae=new Kr(J.minZoom,J.maxZoom,J.minPitch,J.maxPitch,J.renderWorldCopies);if(z.call(this,Ae,J),this._interactive=J.interactive,this._maxTileCacheSize=J.maxTileCacheSize,this._failIfMajorPerformanceCaveat=J.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=J.preserveDrawingBuffer,this._antialias=J.antialias,this._trackResize=J.trackResize,this._bearingSnap=J.bearingSnap,this._refreshExpiredTiles=J.refreshExpiredTiles,this._fadeDuration=J.fadeDuration,this._crossSourceCollisions=J.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=J.collectResourceTiming,this._renderTaskQueue=new Ao,this._controls=[],this._mapId=a.uniqueId(),this._locale=a.extend({},Jl,J.locale),this._requestManager=new a.RequestManager(J.transformRequest,J.accessToken),typeof J.container=="string"){if(this._container=a.window.document.getElementById(J.container),!this._container)throw new Error("Container '"+J.container+"' not found.")}else{if(!(J.container instanceof ui))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=J.container}if(J.maxBounds&&this.setMaxBounds(J.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return fe._update(!1)}),this.on("moveend",function(){return fe._update(!1)}),this.on("zoom",function(){return fe._update(!0)}),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1)),this.handlers=new di(this,J);var F=typeof J.hash=="string"&&J.hash||void 0;this._hash=J.hash&&new as(F).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:J.center,zoom:J.zoom,bearing:J.bearing,pitch:J.pitch}),J.bounds&&(this.resize(),this.fitBounds(J.bounds,a.extend({},J.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=J.localIdeographFontFamily,J.style&&this.setStyle(J.style,{localIdeographFontFamily:J.localIdeographFontFamily}),J.attributionControl&&this.addControl(new Ua({customAttribution:J.customAttribution})),this.addControl(new na,J.logoPosition),this.on("style.load",function(){fe.transform.unmodified&&fe.jumpTo(fe.style.stylesheet)}),this.on("data",function(Q){fe._update(Q.dataType==="style"),fe.fire(new a.Event(Q.dataType+"data",Q))}),this.on("dataloading",function(Q){fe.fire(new a.Event(Q.dataType+"dataloading",Q))})}z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U;var j={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return U.prototype._getMapId=function(){return this._mapId},U.prototype.addControl=function(J,fe){if(fe===void 0&&J.getDefaultPosition&&(fe=J.getDefaultPosition()),fe===void 0&&(fe="top-right"),!J||!J.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var Ae=J.onAdd(this);this._controls.push(J);var F=this._controlPositions[fe];return fe.indexOf("bottom")!==-1?F.insertBefore(Ae,F.firstChild):F.appendChild(Ae),this},U.prototype.removeControl=function(J){if(!J||!J.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var fe=this._controls.indexOf(J);return fe>-1&&this._controls.splice(fe,1),J.onRemove(this),this},U.prototype.resize=function(J){var fe=this._containerDimensions(),Ae=fe[0],F=fe[1];this._resizeCanvas(Ae,F),this.transform.resize(Ae,F),this.painter.resize(Ae,F);var Q=!this._moving;return Q&&(this.stop(),this.fire(new a.Event("movestart",J)).fire(new a.Event("move",J))),this.fire(new a.Event("resize",J)),Q&&this.fire(new a.Event("moveend",J)),this},U.prototype.getBounds=function(){return this.transform.getBounds()},U.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},U.prototype.setMaxBounds=function(J){return this.transform.setMaxBounds(a.LngLatBounds.convert(J)),this._update()},U.prototype.setMinZoom=function(J){if((J=J??-2)>=-2&&J<=this.transform.maxZoom)return this.transform.minZoom=J,this._update(),this.getZoom()<J&&this.setZoom(J),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},U.prototype.getMinZoom=function(){return this.transform.minZoom},U.prototype.setMaxZoom=function(J){if((J=J??22)>=this.transform.minZoom)return this.transform.maxZoom=J,this._update(),this.getZoom()>J&&this.setZoom(J),this;throw new Error("maxZoom must be greater than the current minZoom")},U.prototype.getMaxZoom=function(){return this.transform.maxZoom},U.prototype.setMinPitch=function(J){if((J=J??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(J>=0&&J<=this.transform.maxPitch)return this.transform.minPitch=J,this._update(),this.getPitch()<J&&this.setPitch(J),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},U.prototype.getMinPitch=function(){return this.transform.minPitch},U.prototype.setMaxPitch=function(J){if((J=J??So)>So)throw new Error("maxPitch must be less than or equal to 60");if(J>=this.transform.minPitch)return this.transform.maxPitch=J,this._update(),this.getPitch()>J&&this.setPitch(J),this;throw new Error("maxPitch must be greater than the current minPitch")},U.prototype.getMaxPitch=function(){return this.transform.maxPitch},U.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},U.prototype.setRenderWorldCopies=function(J){return this.transform.renderWorldCopies=J,this._update()},U.prototype.project=function(J){return this.transform.locationPoint(a.LngLat.convert(J))},U.prototype.unproject=function(J){return this.transform.pointLocation(a.Point.convert(J))},U.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},U.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},U.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},U.prototype._createDelegatedListener=function(J,fe,Ae){var F,Q=this;if(J==="mouseenter"||J==="mouseover"){var ie=!1;return{layer:fe,listener:Ae,delegates:{mousemove:function(xe){var Ce=Q.getLayer(fe)?Q.queryRenderedFeatures(xe.point,{layers:[fe]}):[];Ce.length?ie||(ie=!0,Ae.call(Q,new Di(J,Q,xe.originalEvent,{features:Ce}))):ie=!1},mouseout:function(){ie=!1}}}}if(J==="mouseleave"||J==="mouseout"){var de=!1;return{layer:fe,listener:Ae,delegates:{mousemove:function(xe){(Q.getLayer(fe)?Q.queryRenderedFeatures(xe.point,{layers:[fe]}):[]).length?de=!0:de&&(de=!1,Ae.call(Q,new Di(J,Q,xe.originalEvent)))},mouseout:function(xe){de&&(de=!1,Ae.call(Q,new Di(J,Q,xe.originalEvent)))}}}}return{layer:fe,listener:Ae,delegates:(F={},F[J]=function(xe){var Ce=Q.getLayer(fe)?Q.queryRenderedFeatures(xe.point,{layers:[fe]}):[];Ce.length&&(xe.features=Ce,Ae.call(Q,xe),delete xe.features)},F)}},U.prototype.on=function(J,fe,Ae){if(Ae===void 0)return z.prototype.on.call(this,J,fe);var F=this._createDelegatedListener(J,fe,Ae);for(var Q in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[J]=this._delegatedListeners[J]||[],this._delegatedListeners[J].push(F),F.delegates)this.on(Q,F.delegates[Q]);return this},U.prototype.once=function(J,fe,Ae){if(Ae===void 0)return z.prototype.once.call(this,J,fe);var F=this._createDelegatedListener(J,fe,Ae);for(var Q in F.delegates)this.once(Q,F.delegates[Q]);return this},U.prototype.off=function(J,fe,Ae){var F=this;return Ae===void 0?z.prototype.off.call(this,J,fe):(this._delegatedListeners&&this._delegatedListeners[J]&&function(Q){for(var ie=Q[J],de=0;de<ie.length;de++){var xe=ie[de];if(xe.layer===fe&&xe.listener===Ae){for(var Ce in xe.delegates)F.off(Ce,xe.delegates[Ce]);return ie.splice(de,1),F}}}(this._delegatedListeners),this)},U.prototype.queryRenderedFeatures=function(J,fe){if(!this.style)return[];var Ae;if(fe!==void 0||J===void 0||J instanceof a.Point||Array.isArray(J)||(fe=J,J=void 0),fe=fe||{},(J=J||[[0,0],[this.transform.width,this.transform.height]])instanceof a.Point||typeof J[0]=="number")Ae=[a.Point.convert(J)];else{var F=a.Point.convert(J[0]),Q=a.Point.convert(J[1]);Ae=[F,new a.Point(Q.x,F.y),Q,new a.Point(F.x,Q.y),F]}return this.style.queryRenderedFeatures(Ae,fe,this.transform)},U.prototype.querySourceFeatures=function(J,fe){return this.style.querySourceFeatures(J,fe)},U.prototype.setStyle=function(J,fe){return(fe=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},fe)).diff!==!1&&fe.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&J?(this._diffStyle(J,fe),this):(this._localIdeographFontFamily=fe.localIdeographFontFamily,this._updateStyle(J,fe))},U.prototype._getUIString=function(J){var fe=this._locale[J];if(fe==null)throw new Error("Missing UI string '"+J+"'");return fe},U.prototype._updateStyle=function(J,fe){return this.style&&(this.style.setEventedParent(null),this.style._remove()),J?(this.style=new ar(this,fe||{}),this.style.setEventedParent(this,{style:this.style}),typeof J=="string"?this.style.loadURL(J):this.style.loadJSON(J),this):(delete this.style,this)},U.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new ar(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},U.prototype._diffStyle=function(J,fe){var Ae=this;if(typeof J=="string"){var F=this._requestManager.normalizeStyleURL(J),Q=this._requestManager.transformRequest(F,a.ResourceType.Style);a.getJSON(Q,function(ie,de){ie?Ae.fire(new a.ErrorEvent(ie)):de&&Ae._updateDiff(de,fe)})}else typeof J=="object"&&this._updateDiff(J,fe)},U.prototype._updateDiff=function(J,fe){try{this.style.setState(J)&&this._update(!0)}catch(Ae){a.warnOnce("Unable to perform style diff: "+(Ae.message||Ae.error||Ae)+".  Rebuilding the style from scratch."),this._updateStyle(J,fe)}},U.prototype.getStyle=function(){if(this.style)return this.style.serialize()},U.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():a.warnOnce("There is no style added to the map.")},U.prototype.addSource=function(J,fe){return this._lazyInitEmptyStyle(),this.style.addSource(J,fe),this._update(!0)},U.prototype.isSourceLoaded=function(J){var fe=this.style&&this.style.sourceCaches[J];if(fe!==void 0)return fe.loaded();this.fire(new a.ErrorEvent(new Error("There is no source with ID '"+J+"'")))},U.prototype.areTilesLoaded=function(){var J=this.style&&this.style.sourceCaches;for(var fe in J){var Ae=J[fe]._tiles;for(var F in Ae){var Q=Ae[F];if(Q.state!=="loaded"&&Q.state!=="errored")return!1}}return!0},U.prototype.addSourceType=function(J,fe,Ae){return this._lazyInitEmptyStyle(),this.style.addSourceType(J,fe,Ae)},U.prototype.removeSource=function(J){return this.style.removeSource(J),this._update(!0)},U.prototype.getSource=function(J){return this.style.getSource(J)},U.prototype.addImage=function(J,fe,Ae){Ae===void 0&&(Ae={});var F=Ae.pixelRatio;F===void 0&&(F=1);var Q=Ae.sdf;Q===void 0&&(Q=!1);var ie=Ae.stretchX,de=Ae.stretchY,xe=Ae.content;if(this._lazyInitEmptyStyle(),fe instanceof Vi||Ka&&fe instanceof Ka){var Ce=a.browser.getImageData(fe),Ue=Ce.width,He=Ce.height,We=Ce.data;this.style.addImage(J,{data:new a.RGBAImage({width:Ue,height:He},We),pixelRatio:F,stretchX:ie,stretchY:de,content:xe,sdf:Q,version:0})}else{if(fe.width===void 0||fe.height===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var Ke=fe.width,nt=fe.height,pt=fe.data,yt=fe;this.style.addImage(J,{data:new a.RGBAImage({width:Ke,height:nt},new Uint8Array(pt)),pixelRatio:F,stretchX:ie,stretchY:de,content:xe,sdf:Q,version:0,userImage:yt}),yt.onAdd&&yt.onAdd(this,J)}},U.prototype.updateImage=function(J,fe){var Ae=this.style.getImage(J);if(!Ae)return this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var F=fe instanceof Vi||Ka&&fe instanceof Ka?a.browser.getImageData(fe):fe,Q=F.width,ie=F.height,de=F.data;if(Q===void 0||ie===void 0)return this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(Q!==Ae.data.width||ie!==Ae.data.height)return this.fire(new a.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image")));var xe=!(fe instanceof Vi||Ka&&fe instanceof Ka);Ae.data.replace(de,xe),this.style.updateImage(J,Ae)},U.prototype.hasImage=function(J){return J?!!this.style.getImage(J):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)},U.prototype.removeImage=function(J){this.style.removeImage(J)},U.prototype.loadImage=function(J,fe){a.getImage(this._requestManager.transformRequest(J,a.ResourceType.Image),fe)},U.prototype.listImages=function(){return this.style.listImages()},U.prototype.addLayer=function(J,fe){return this._lazyInitEmptyStyle(),this.style.addLayer(J,fe),this._update(!0)},U.prototype.moveLayer=function(J,fe){return this.style.moveLayer(J,fe),this._update(!0)},U.prototype.removeLayer=function(J){return this.style.removeLayer(J),this._update(!0)},U.prototype.getLayer=function(J){return this.style.getLayer(J)},U.prototype.setLayerZoomRange=function(J,fe,Ae){return this.style.setLayerZoomRange(J,fe,Ae),this._update(!0)},U.prototype.setFilter=function(J,fe,Ae){return Ae===void 0&&(Ae={}),this.style.setFilter(J,fe,Ae),this._update(!0)},U.prototype.getFilter=function(J){return this.style.getFilter(J)},U.prototype.setPaintProperty=function(J,fe,Ae,F){return F===void 0&&(F={}),this.style.setPaintProperty(J,fe,Ae,F),this._update(!0)},U.prototype.getPaintProperty=function(J,fe){return this.style.getPaintProperty(J,fe)},U.prototype.setLayoutProperty=function(J,fe,Ae,F){return F===void 0&&(F={}),this.style.setLayoutProperty(J,fe,Ae,F),this._update(!0)},U.prototype.getLayoutProperty=function(J,fe){return this.style.getLayoutProperty(J,fe)},U.prototype.setLight=function(J,fe){return fe===void 0&&(fe={}),this._lazyInitEmptyStyle(),this.style.setLight(J,fe),this._update(!0)},U.prototype.getLight=function(){return this.style.getLight()},U.prototype.setFeatureState=function(J,fe){return this.style.setFeatureState(J,fe),this._update()},U.prototype.removeFeatureState=function(J,fe){return this.style.removeFeatureState(J,fe),this._update()},U.prototype.getFeatureState=function(J){return this.style.getFeatureState(J)},U.prototype.getContainer=function(){return this._container},U.prototype.getCanvasContainer=function(){return this._canvasContainer},U.prototype.getCanvas=function(){return this._canvas},U.prototype._containerDimensions=function(){var J=0,fe=0;return this._container&&(J=this._container.clientWidth||400,fe=this._container.clientHeight||300),[J,fe]},U.prototype._detectMissingCSS=function(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},U.prototype._setupContainer=function(){var J=this._container;J.classList.add("mapboxgl-map"),(this._missingCSSCanary=y.create("div","mapboxgl-canary",J)).style.visibility="hidden",this._detectMissingCSS();var fe=this._canvasContainer=y.create("div","mapboxgl-canvas-container",J);this._interactive&&fe.classList.add("mapboxgl-interactive"),this._canvas=y.create("canvas","mapboxgl-canvas",fe),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map");var Ae=this._containerDimensions();this._resizeCanvas(Ae[0],Ae[1]);var F=this._controlContainer=y.create("div","mapboxgl-control-container",J),Q=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(ie){Q[ie]=y.create("div","mapboxgl-ctrl-"+ie,F)})},U.prototype._resizeCanvas=function(J,fe){var Ae=a.browser.devicePixelRatio||1;this._canvas.width=Ae*J,this._canvas.height=Ae*fe,this._canvas.style.width=J+"px",this._canvas.style.height=fe+"px"},U.prototype._setupPainter=function(){var J=a.extend({},_.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),fe=this._canvas.getContext("webgl",J)||this._canvas.getContext("experimental-webgl",J);fe?(this.painter=new pi(fe,this.transform),a.webpSupported.testSupport(fe)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))},U.prototype._contextLost=function(J){J.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:J}))},U.prototype._contextRestored=function(J){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:J}))},U.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},U.prototype._update=function(J){return this.style?(this._styleDirty=this._styleDirty||J,this._sourcesDirty=!0,this.triggerRepaint(),this):this},U.prototype._requestRenderFrame=function(J){return this._update(),this._renderTaskQueue.add(J)},U.prototype._cancelRenderFrame=function(J){this._renderTaskQueue.remove(J)},U.prototype._render=function(J){var fe,Ae=this,F=0,Q=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(fe=Q.createQueryEXT(),Q.beginQueryEXT(Q.TIME_ELAPSED_EXT,fe),F=a.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(J),!this._removed){var ie=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var de=this.transform.zoom,xe=a.browser.now();this.style.zoomHistory.update(de,xe);var Ce=new a.EvaluationParameters(de,{now:xe,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ue=Ce.crossFadingFactor();Ue===1&&Ue===this._crossFadingFactor||(ie=!0,this._crossFadingFactor=Ue),this.style.update(Ce)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&(this.style.hasTransitions()||ie)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var He=a.browser.now()-F;Q.endQueryEXT(Q.TIME_ELAPSED_EXT,fe),setTimeout(function(){var Ke=Q.getQueryObjectEXT(fe,Q.QUERY_RESULT_EXT)/1e6;Q.deleteQueryEXT(fe),Ae.fire(new a.Event("gpu-timing-frame",{cpuTime:He,gpuTime:Ke}))},50)}if(this.listens("gpu-timing-layer")){var We=this.painter.collectGpuTimers();setTimeout(function(){var Ke=Ae.painter.queryGpuTimers(We);Ae.fire(new a.Event("gpu-timing-layer",{layerTimes:Ke}))},50)}return this._sourcesDirty||this._styleDirty||this._placementDirty||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&(this._fullyLoaded||(this._fullyLoaded=!0),this.fire(new a.Event("idle"))),this}},U.prototype.remove=function(){this._hash&&this._hash.remove();for(var J=0,fe=this._controls;J<fe.length;J+=1)fe[J].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1));var Ae=this.painter.context.gl.getExtension("WEBGL_lose_context");Ae&&Ae.loseContext(),us(this._canvasContainer),us(this._controlContainer),us(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new a.Event("remove"))},U.prototype.triggerRepaint=function(){var J=this;this.style&&!this._frame&&(this._frame=a.browser.frame(function(fe){J._frame=null,J._render(fe)}))},U.prototype._onWindowOnline=function(){this._update()},U.prototype._onWindowResize=function(J){this._trackResize&&this.resize({originalEvent:J})._update()},j.showTileBoundaries.get=function(){return!!this._showTileBoundaries},j.showTileBoundaries.set=function(J){this._showTileBoundaries!==J&&(this._showTileBoundaries=J,this._update())},j.showPadding.get=function(){return!!this._showPadding},j.showPadding.set=function(J){this._showPadding!==J&&(this._showPadding=J,this._update())},j.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},j.showCollisionBoxes.set=function(J){this._showCollisionBoxes!==J&&(this._showCollisionBoxes=J,J?this.style._generateCollisionBoxes():this._update())},j.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},j.showOverdrawInspector.set=function(J){this._showOverdrawInspector!==J&&(this._showOverdrawInspector=J,this._update())},j.repaint.get=function(){return!!this._repaint},j.repaint.set=function(J){this._repaint!==J&&(this._repaint=J,this.triggerRepaint())},j.vertices.get=function(){return!!this._vertices},j.vertices.set=function(J){this._vertices=J,this._update()},U.prototype._setCacheLimits=function(J,fe){a.setCacheLimits(J,fe)},j.version.get=function(){return a.version},Object.defineProperties(U.prototype,j),U}(ul);function us(z){z.parentNode&&z.parentNode.removeChild(z)}var Ps={showCompass:!0,showZoom:!0,visualizePitch:!1},Ji=function(z){var U=this;this.options=a.extend({},Ps,z),this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(j){return j.preventDefault()}),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(j){return U._map.zoomIn({},{originalEvent:j})}),y.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(j){return U._map.zoomOut({},{originalEvent:j})}),y.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(j){U.options.visualizePitch?U._map.resetNorthPitch({},{originalEvent:j}):U._map.resetNorth({},{originalEvent:j})}),this._compassIcon=y.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};Ji.prototype._updateZoomButtons=function(){var z=this._map.getZoom();this._zoomInButton.disabled=z===this._map.getMaxZoom(),this._zoomOutButton.disabled=z===this._map.getMinZoom()},Ji.prototype._rotateCompassArrow=function(){var z=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=z},Ji.prototype.onAdd=function(z){return this._map=z,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ya(this._map,this._compass,this.options.visualizePitch)),this._container},Ji.prototype.onRemove=function(){y.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},Ji.prototype._createButton=function(z,U){var j=y.create("button",z,this._container);return j.type="button",j.addEventListener("click",U),j},Ji.prototype._setButtonTitle=function(z,U){var j=this._map._getUIString("NavigationControl."+U);z.title=j,z.setAttribute("aria-label",j)};var ya=function(z,U,j){j===void 0&&(j=!1),this._clickTolerance=10,this.element=U,this.mouseRotate=new no({clickTolerance:z.dragRotate._mouseRotate._clickTolerance}),this.map=z,j&&(this.mousePitch=new Sl({clickTolerance:z.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),y.addEventListener(U,"mousedown",this.mousedown),y.addEventListener(U,"touchstart",this.touchstart,{passive:!1}),y.addEventListener(U,"touchmove",this.touchmove),y.addEventListener(U,"touchend",this.touchend),y.addEventListener(U,"touchcancel",this.reset)};function Or(z,U,j){if(z=new a.LngLat(z.lng,z.lat),U){var J=new a.LngLat(z.lng-360,z.lat),fe=new a.LngLat(z.lng+360,z.lat),Ae=j.locationPoint(z).distSqr(U);j.locationPoint(J).distSqr(U)<Ae?z=J:j.locationPoint(fe).distSqr(U)<Ae&&(z=fe)}for(;Math.abs(z.lng-j.center.lng)>180;){var F=j.locationPoint(z);if(F.x>=0&&F.y>=0&&F.x<=j.width&&F.y<=j.height)break;z.lng>j.center.lng?z.lng-=360:z.lng+=360}return z}ya.prototype.down=function(z,U){this.mouseRotate.mousedown(z,U),this.mousePitch&&this.mousePitch.mousedown(z,U),y.disableDrag()},ya.prototype.move=function(z,U){var j=this.map,J=this.mouseRotate.mousemoveWindow(z,U);if(J&&J.bearingDelta&&j.setBearing(j.getBearing()+J.bearingDelta),this.mousePitch){var fe=this.mousePitch.mousemoveWindow(z,U);fe&&fe.pitchDelta&&j.setPitch(j.getPitch()+fe.pitchDelta)}},ya.prototype.off=function(){var z=this.element;y.removeEventListener(z,"mousedown",this.mousedown),y.removeEventListener(z,"touchstart",this.touchstart,{passive:!1}),y.removeEventListener(z,"touchmove",this.touchmove),y.removeEventListener(z,"touchend",this.touchend),y.removeEventListener(z,"touchcancel",this.reset),this.offTemp()},ya.prototype.offTemp=function(){y.enableDrag(),y.removeEventListener(a.window,"mousemove",this.mousemove),y.removeEventListener(a.window,"mouseup",this.mouseup)},ya.prototype.mousedown=function(z){this.down(a.extend({},z,{ctrlKey:!0,preventDefault:function(){return z.preventDefault()}}),y.mousePos(this.element,z)),y.addEventListener(a.window,"mousemove",this.mousemove),y.addEventListener(a.window,"mouseup",this.mouseup)},ya.prototype.mousemove=function(z){this.move(z,y.mousePos(this.element,z))},ya.prototype.mouseup=function(z){this.mouseRotate.mouseupWindow(z),this.mousePitch&&this.mousePitch.mouseupWindow(z),this.offTemp()},ya.prototype.touchstart=function(z){z.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=y.touchPos(this.element,z.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return z.preventDefault()}},this._startPos))},ya.prototype.touchmove=function(z){z.targetTouches.length!==1?this.reset():(this._lastPos=y.touchPos(this.element,z.targetTouches)[0],this.move({preventDefault:function(){return z.preventDefault()}},this._lastPos))},ya.prototype.touchend=function(z){z.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},ya.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ir={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Gs(z,U,j){var J=z.classList;for(var fe in Ir)J.remove("mapboxgl-"+j+"-anchor-"+fe);J.add("mapboxgl-"+j+"-anchor-"+U)}var Oa,cs=function(z){function U(j,J){var fe=this;if(z.call(this),(j instanceof a.window.HTMLElement||J)&&(j=a.extend({element:j},J)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=j&&j.anchor||"center",this._color=j&&j.color||"#3FB1CE",this._draggable=j&&j.draggable||!1,this._state="inactive",this._rotation=j&&j.rotation||0,this._rotationAlignment=j&&j.rotationAlignment||"auto",this._pitchAlignment=j&&j.pitchAlignment&&j.pitchAlignment!=="auto"?j.pitchAlignment:this._rotationAlignment,j&&j.element)this._element=j.element,this._offset=a.Point.convert(j&&j.offset||[0,0]);else{this._defaultMarker=!0,this._element=y.create("div"),this._element.setAttribute("aria-label","Map marker");var Ae=y.createNS("http://www.w3.org/2000/svg","svg");Ae.setAttributeNS(null,"display","block"),Ae.setAttributeNS(null,"height","41px"),Ae.setAttributeNS(null,"width","27px"),Ae.setAttributeNS(null,"viewBox","0 0 27 41");var F=y.createNS("http://www.w3.org/2000/svg","g");F.setAttributeNS(null,"stroke","none"),F.setAttributeNS(null,"stroke-width","1"),F.setAttributeNS(null,"fill","none"),F.setAttributeNS(null,"fill-rule","evenodd");var Q=y.createNS("http://www.w3.org/2000/svg","g");Q.setAttributeNS(null,"fill-rule","nonzero");var ie=y.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"transform","translate(3.0, 29.0)"),ie.setAttributeNS(null,"fill","#000000");for(var de=0,xe=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];de<xe.length;de+=1){var Ce=xe[de],Ue=y.createNS("http://www.w3.org/2000/svg","ellipse");Ue.setAttributeNS(null,"opacity","0.04"),Ue.setAttributeNS(null,"cx","10.5"),Ue.setAttributeNS(null,"cy","5.80029008"),Ue.setAttributeNS(null,"rx",Ce.rx),Ue.setAttributeNS(null,"ry",Ce.ry),ie.appendChild(Ue)}var He=y.createNS("http://www.w3.org/2000/svg","g");He.setAttributeNS(null,"fill",this._color);var We=y.createNS("http://www.w3.org/2000/svg","path");We.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),He.appendChild(We);var Ke=y.createNS("http://www.w3.org/2000/svg","g");Ke.setAttributeNS(null,"opacity","0.25"),Ke.setAttributeNS(null,"fill","#000000");var nt=y.createNS("http://www.w3.org/2000/svg","path");nt.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),Ke.appendChild(nt);var pt=y.createNS("http://www.w3.org/2000/svg","g");pt.setAttributeNS(null,"transform","translate(6.0, 7.0)"),pt.setAttributeNS(null,"fill","#FFFFFF");var yt=y.createNS("http://www.w3.org/2000/svg","g");yt.setAttributeNS(null,"transform","translate(8.0, 8.0)");var It=y.createNS("http://www.w3.org/2000/svg","circle");It.setAttributeNS(null,"fill","#000000"),It.setAttributeNS(null,"opacity","0.25"),It.setAttributeNS(null,"cx","5.5"),It.setAttributeNS(null,"cy","5.5"),It.setAttributeNS(null,"r","5.4999962");var Rt=y.createNS("http://www.w3.org/2000/svg","circle");Rt.setAttributeNS(null,"fill","#FFFFFF"),Rt.setAttributeNS(null,"cx","5.5"),Rt.setAttributeNS(null,"cy","5.5"),Rt.setAttributeNS(null,"r","5.4999962"),yt.appendChild(It),yt.appendChild(Rt),Q.appendChild(ie),Q.appendChild(He),Q.appendChild(Ke),Q.appendChild(pt),Q.appendChild(yt),Ae.appendChild(Q),this._element.appendChild(Ae),this._offset=a.Point.convert(j&&j.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(Pt){Pt.preventDefault()}),this._element.addEventListener("mousedown",function(Pt){Pt.preventDefault()}),this._element.addEventListener("focus",function(){var Pt=fe._map.getContainer();Pt.scrollTop=0,Pt.scrollLeft=0}),Gs(this._element,this._anchor,"marker"),this._popup=null}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.addTo=function(j){return this.remove(),this._map=j,j.getCanvasContainer().appendChild(this._element),j.on("move",this._update),j.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},U.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),y.remove(this._element),this._popup&&this._popup.remove(),this},U.prototype.getLngLat=function(){return this._lngLat},U.prototype.setLngLat=function(j){return this._lngLat=a.LngLat.convert(j),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},U.prototype.getElement=function(){return this._element},U.prototype.setPopup=function(j){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),j){if(!("offset"in j.options)){var J=13.5,fe=Math.sqrt(Math.pow(J,2)/2);j.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[fe,-1*(24.6+fe)],"bottom-right":[-fe,-1*(24.6+fe)],left:[J,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=j,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},U.prototype._onKeyPress=function(j){var J=j.code,fe=j.charCode||j.keyCode;J!=="Space"&&J!=="Enter"&&fe!==32&&fe!==13||this.togglePopup()},U.prototype._onMapClick=function(j){var J=j.originalEvent.target,fe=this._element;this._popup&&(J===fe||fe.contains(J))&&this.togglePopup()},U.prototype.getPopup=function(){return this._popup},U.prototype.togglePopup=function(){var j=this._popup;return j?(j.isOpen()?j.remove():j.addTo(this._map),this):this},U.prototype._update=function(j){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Or(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var J="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?J="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(J="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var fe="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?fe="rotateX(0deg)":this._pitchAlignment==="map"&&(fe="rotateX("+this._map.getPitch()+"deg)"),j&&j.type!=="moveend"||(this._pos=this._pos.round()),y.setTransform(this._element,Ir[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+fe+" "+J)}},U.prototype.getOffset=function(){return this._offset},U.prototype.setOffset=function(j){return this._offset=a.Point.convert(j),this._update(),this},U.prototype._onMove=function(j){this._pos=j.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))},U.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"},U.prototype._addDragHandler=function(j){this._element.contains(j.originalEvent.target)&&(j.preventDefault(),this._positionDelta=j.point.sub(this._pos).add(this._offset),this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},U.prototype.setDraggable=function(j){return this._draggable=!!j,this._map&&(j?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},U.prototype.isDraggable=function(){return this._draggable},U.prototype.setRotation=function(j){return this._rotation=j||0,this._update(),this},U.prototype.getRotation=function(){return this._rotation},U.prototype.setRotationAlignment=function(j){return this._rotationAlignment=j||"auto",this._update(),this},U.prototype.getRotationAlignment=function(){return this._rotationAlignment},U.prototype.setPitchAlignment=function(j){return this._pitchAlignment=j&&j!=="auto"?j:this._rotationAlignment,this._update(),this},U.prototype.getPitchAlignment=function(){return this._pitchAlignment},U}(a.Evented),xa={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},Ys=0,ba=!1,fs=function(z){function U(j){z.call(this),this.options=a.extend({},xa,j),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.onAdd=function(j){return this._map=j,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),J=this._setupUI,Oa!==void 0?J(Oa):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(function(fe){Oa=fe.state!=="denied",J(Oa)}):(Oa=!!a.window.navigator.geolocation,J(Oa)),this._container;var J},U.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),y.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Ys=0,ba=!1},U.prototype._isOutOfMapMaxBounds=function(j){var J=this._map.getMaxBounds(),fe=j.coords;return J&&(fe.longitude<J.getWest()||fe.longitude>J.getEast()||fe.latitude<J.getSouth()||fe.latitude>J.getNorth())},U.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},U.prototype._onSuccess=function(j){if(this._map){if(this._isOutOfMapMaxBounds(j))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",j)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=j,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(j),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(j),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",j)),this._finish()}},U.prototype._updateCamera=function(j){var J=new a.LngLat(j.coords.longitude,j.coords.latitude),fe=j.coords.accuracy,Ae=this._map.getBearing(),F=a.extend({bearing:Ae},this.options.fitBoundsOptions);this._map.fitBounds(J.toBounds(fe),F,{geolocateSource:!0})},U.prototype._updateMarker=function(j){if(j){var J=new a.LngLat(j.coords.longitude,j.coords.latitude);this._accuracyCircleMarker.setLngLat(J).addTo(this._map),this._userLocationDotMarker.setLngLat(J).addTo(this._map),this._accuracy=j.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},U.prototype._updateCircleRadius=function(){var j=this._map._container.clientHeight/2,J=this._map.unproject([0,j]),fe=this._map.unproject([1,j]),Ae=J.distanceTo(fe),F=Math.ceil(2*this._accuracy/Ae);this._circleElement.style.width=F+"px",this._circleElement.style.height=F+"px"},U.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},U.prototype._onError=function(j){if(this._map){if(this.options.trackUserLocation)if(j.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var J=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=J,this._geolocateButton.setAttribute("aria-label",J),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(j.code===3&&ba)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",j)),this._finish()}},U.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},U.prototype._setupUI=function(j){var J=this;if(this._container.addEventListener("contextmenu",function(F){return F.preventDefault()}),this._geolocateButton=y.create("button","mapboxgl-ctrl-geolocate",this._container),y.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",j===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var fe=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=fe,this._geolocateButton.setAttribute("aria-label",fe)}else{var Ae=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=Ae,this._geolocateButton.setAttribute("aria-label",Ae)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=y.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new cs(this._dotElement),this._circleElement=y.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new cs({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(F){var Q=F.originalEvent&&F.originalEvent.type==="resize";F.geolocateSource||J._watchState!=="ACTIVE_LOCK"||Q||(J._watchState="BACKGROUND",J._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),J._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),J.fire(new a.Event("trackuserlocationend")))})},U.prototype.trigger=function(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Ys--,ba=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var j;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++Ys>1?(j={maximumAge:6e5,timeout:0},ba=!0):(j=this.options.positionOptions,ba=!1),this._geolocationWatchID=a.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,j)}}else a.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},U.prototype._clearWatch=function(){a.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},U}(a.Evented),hs={maxWidth:100,unit:"metric"},jr=function(z){this.options=a.extend({},hs,z),a.bindAll(["_onMove","setUnit"],this)};function ra(z,U,j){var J=j&&j.maxWidth||100,fe=z._container.clientHeight/2,Ae=z.unproject([0,fe]),F=z.unproject([J,fe]),Q=Ae.distanceTo(F);if(j&&j.unit==="imperial"){var ie=3.2808*Q;ie>5280?Eo(U,J,ie/5280,z._getUIString("ScaleControl.Miles")):Eo(U,J,ie,z._getUIString("ScaleControl.Feet"))}else j&&j.unit==="nautical"?Eo(U,J,Q/1852,z._getUIString("ScaleControl.NauticalMiles")):Q>=1e3?Eo(U,J,Q/1e3,z._getUIString("ScaleControl.Kilometers")):Eo(U,J,Q,z._getUIString("ScaleControl.Meters"))}function Eo(z,U,j,J){var fe,Ae,F,Q=(fe=j,(Ae=Math.pow(10,(""+Math.floor(fe)).length-1))*((F=fe/Ae)>=10?10:F>=5?5:F>=3?3:F>=2?2:F>=1?1:function(de){var xe=Math.pow(10,Math.ceil(-Math.log(de)/Math.LN10));return Math.round(de*xe)/xe}(F))),ie=Q/j;z.style.width=U*ie+"px",z.innerHTML=Q+"&nbsp;"+J}jr.prototype.getDefaultPosition=function(){return"bottom-left"},jr.prototype._onMove=function(){ra(this._map,this._container,this.options)},jr.prototype.onAdd=function(z){return this._map=z,this._container=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",z.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},jr.prototype.onRemove=function(){y.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},jr.prototype.setUnit=function(z){this.options.unit=z,ra(this._map,this._container,this.options)};var Va=function(z){this._fullscreen=!1,z&&z.container&&(z.container instanceof a.window.HTMLElement?this._container=z.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in a.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in a.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in a.window.document&&(this._fullscreenchange="MSFullscreenChange")};Va.prototype.onAdd=function(z){return this._map=z,this._container||(this._container=this._map.getContainer()),this._controlContainer=y.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Va.prototype.onRemove=function(){y.remove(this._controlContainer),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Va.prototype._checkFullscreenSupport=function(){return!!(a.window.document.fullscreenEnabled||a.window.document.mozFullScreenEnabled||a.window.document.msFullscreenEnabled||a.window.document.webkitFullscreenEnabled)},Va.prototype._setupUI=function(){var z=this._fullscreenButton=y.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);y.create("span","mapboxgl-ctrl-icon",z).setAttribute("aria-hidden",!0),z.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Va.prototype._updateTitle=function(){var z=this._getTitle();this._fullscreenButton.setAttribute("aria-label",z),this._fullscreenButton.title=z},Va.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Va.prototype._isFullscreen=function(){return this._fullscreen},Va.prototype._changeIcon=function(){(a.window.document.fullscreenElement||a.window.document.mozFullScreenElement||a.window.document.webkitFullscreenElement||a.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Va.prototype._onClickFullscreen=function(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.mozCancelFullScreen?a.window.document.mozCancelFullScreen():a.window.document.msExitFullscreen?a.window.document.msExitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Is={closeButton:!0,closeOnClick:!0,className:"",maxWidth:"240px"},Ws=function(z){function U(j){z.call(this),this.options=a.extend(Object.create(Is),j),a.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return z&&(U.__proto__=z),U.prototype=Object.create(z&&z.prototype),U.prototype.constructor=U,U.prototype.addTo=function(j){return this._map&&this.remove(),this._map=j,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new a.Event("open")),this},U.prototype.isOpen=function(){return!!this._map},U.prototype.remove=function(){return this._content&&y.remove(this._content),this._container&&(y.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new a.Event("close")),this},U.prototype.getLngLat=function(){return this._lngLat},U.prototype.setLngLat=function(j){return this._lngLat=a.LngLat.convert(j),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},U.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},U.prototype.getElement=function(){return this._container},U.prototype.setText=function(j){return this.setDOMContent(a.window.document.createTextNode(j))},U.prototype.setHTML=function(j){var J,fe=a.window.document.createDocumentFragment(),Ae=a.window.document.createElement("body");for(Ae.innerHTML=j;J=Ae.firstChild;)fe.appendChild(J);return this.setDOMContent(fe)},U.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},U.prototype.setMaxWidth=function(j){return this.options.maxWidth=j,this._update(),this},U.prototype.setDOMContent=function(j){return this._createContent(),this._content.appendChild(j),this._update(),this},U.prototype.addClassName=function(j){this._container&&this._container.classList.add(j)},U.prototype.removeClassName=function(j){this._container&&this._container.classList.remove(j)},U.prototype.toggleClassName=function(j){if(this._container)return this._container.classList.toggle(j)},U.prototype._createContent=function(){this._content&&y.remove(this._content),this._content=y.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=y.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},U.prototype._onMouseUp=function(j){this._update(j.point)},U.prototype._onMouseMove=function(j){this._update(j.point)},U.prototype._onDrag=function(j){this._update(j.point)},U.prototype._update=function(j){var J=this,fe=this._lngLat||this._trackPointer;if(this._map&&fe&&this._content&&(this._container||(this._container=y.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=y.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(Ue){return J._container.classList.add(Ue)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Or(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||j)){var Ae=this._pos=this._trackPointer&&j?j:this._map.project(this._lngLat),F=this.options.anchor,Q=Ds(this.options.offset);if(!F){var ie,de=this._container.offsetWidth,xe=this._container.offsetHeight;ie=Ae.y+Q.bottom.y<xe?["top"]:Ae.y>this._map.transform.height-xe?["bottom"]:[],Ae.x<de/2?ie.push("left"):Ae.x>this._map.transform.width-de/2&&ie.push("right"),F=ie.length===0?"bottom":ie.join("-")}var Ce=Ae.add(Q[F]).round();y.setTransform(this._container,Ir[F]+" translate("+Ce.x+"px,"+Ce.y+"px)"),Gs(this._container,F,"popup")}},U.prototype._onClose=function(){this.remove()},U}(a.Evented);function Ds(z){if(z){if(typeof z=="number"){var U=Math.round(Math.sqrt(.5*Math.pow(z,2)));return{center:new a.Point(0,0),top:new a.Point(0,z),"top-left":new a.Point(U,U),"top-right":new a.Point(-U,U),bottom:new a.Point(0,-z),"bottom-left":new a.Point(U,-U),"bottom-right":new a.Point(-U,-U),left:new a.Point(z,0),right:new a.Point(-z,0)}}if(z instanceof a.Point||Array.isArray(z)){var j=a.Point.convert(z);return{center:j,top:j,"top-left":j,"top-right":j,bottom:j,"bottom-left":j,"bottom-right":j,left:j,right:j}}return{center:a.Point.convert(z.center||[0,0]),top:a.Point.convert(z.top||[0,0]),"top-left":a.Point.convert(z["top-left"]||[0,0]),"top-right":a.Point.convert(z["top-right"]||[0,0]),bottom:a.Point.convert(z.bottom||[0,0]),"bottom-left":a.Point.convert(z["bottom-left"]||[0,0]),"bottom-right":a.Point.convert(z["bottom-right"]||[0,0]),left:a.Point.convert(z.left||[0,0]),right:a.Point.convert(z.right||[0,0])}}return Ds(new a.Point(0,0))}var Yo={version:a.version,supported:_,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:Ll,NavigationControl:Ji,GeolocateControl:fs,AttributionControl:Ua,ScaleControl:jr,FullscreenControl:Va,Popup:Ws,Marker:cs,Style:ar,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,Evented:a.Evented,config:a.config,prewarm:function(){bt().acquire(st)},clearPrewarmedResources:function(){var z=xt;z&&(z.isPreloaded()&&z.numActive()===1?(z.release(st),xt=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(z){a.config.ACCESS_TOKEN=z},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(z){a.config.API_URL=z},get workerCount(){return ot.workerCount},set workerCount(z){ot.workerCount=z},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(z){a.config.MAX_PARALLEL_IMAGE_REQUESTS=z},clearStorage:function(z){a.clearTileCache(z)},workerUrl:""};return Yo}),M}()},27084:function(Y){Y.exports=Math.log2||function(O){return Math.log(O)*Math.LOG2E}},16825:function(Y,O,e){Y.exports=function(k,a){a||(a=k,k=window);var _=0,y=0,d=0,s={shift:!1,alt:!1,control:!1,meta:!1},t=!1;function i(h){var x=!1;return"altKey"in h&&(x=x||h.altKey!==s.alt,s.alt=!!h.altKey),"shiftKey"in h&&(x=x||h.shiftKey!==s.shift,s.shift=!!h.shiftKey),"ctrlKey"in h&&(x=x||h.ctrlKey!==s.control,s.control=!!h.ctrlKey),"metaKey"in h&&(x=x||h.metaKey!==s.meta,s.meta=!!h.metaKey),x}function r(h,x){var v=M.x(x),m=M.y(x);"buttons"in x&&(h=0|x.buttons),(h!==_||v!==y||m!==d||i(x))&&(_=0|h,y=v||0,d=m||0,a&&a(_,y,d,s))}function n(h){r(0,h)}function l(){(_||y||d||s.shift||s.alt||s.meta||s.control)&&(y=d=0,_=0,s.shift=s.alt=s.control=s.meta=!1,a&&a(0,0,0,s))}function o(h){i(h)&&a&&a(_,y,d,s)}function u(h){M.buttons(h)===0?r(0,h):r(_,h)}function p(h){r(_|M.buttons(h),h)}function c(h){r(_&~M.buttons(h),h)}function b(){t||(t=!0,k.addEventListener("mousemove",u),k.addEventListener("mousedown",p),k.addEventListener("mouseup",c),k.addEventListener("mouseleave",n),k.addEventListener("mouseenter",n),k.addEventListener("mouseout",n),k.addEventListener("mouseover",n),k.addEventListener("blur",l),k.addEventListener("keyup",o),k.addEventListener("keydown",o),k.addEventListener("keypress",o),k!==window&&(window.addEventListener("blur",l),window.addEventListener("keyup",o),window.addEventListener("keydown",o),window.addEventListener("keypress",o)))}b();var g={element:k};return Object.defineProperties(g,{enabled:{get:function(){return t},set:function(h){h?b():t&&(t=!1,k.removeEventListener("mousemove",u),k.removeEventListener("mousedown",p),k.removeEventListener("mouseup",c),k.removeEventListener("mouseleave",n),k.removeEventListener("mouseenter",n),k.removeEventListener("mouseout",n),k.removeEventListener("mouseover",n),k.removeEventListener("blur",l),k.removeEventListener("keyup",o),k.removeEventListener("keydown",o),k.removeEventListener("keypress",o),k!==window&&(window.removeEventListener("blur",l),window.removeEventListener("keyup",o),window.removeEventListener("keydown",o),window.removeEventListener("keypress",o)))},enumerable:!0},buttons:{get:function(){return _},enumerable:!0},x:{get:function(){return y},enumerable:!0},y:{get:function(){return d},enumerable:!0},mods:{get:function(){return s},enumerable:!0}}),g};var M=e(74311)},48956:function(Y){var O={left:0,top:0};Y.exports=function(e,M,k){M=M||e.currentTarget||e.srcElement,Array.isArray(k)||(k=[0,0]);var a,_=e.clientX||0,y=e.clientY||0,d=(a=M)===window||a===document||a===document.body?O:a.getBoundingClientRect();return k[0]=_-d.left,k[1]=y-d.top,k}},74311:function(Y,O){function e(M){return M.target||M.srcElement||window}O.buttons=function(M){if(typeof M=="object"){if("buttons"in M)return M.buttons;if("which"in M){if((k=M.which)===2)return 4;if(k===3)return 2;if(k>0)return 1<<k-1}else if("button"in M){var k;if((k=M.button)===1)return 4;if(k===2)return 2;if(k>=0)return 1<<k}}return 0},O.element=e,O.x=function(M){if(typeof M=="object"){if("offsetX"in M)return M.offsetX;var k=e(M).getBoundingClientRect();return M.clientX-k.left}return 0},O.y=function(M){if(typeof M=="object"){if("offsetY"in M)return M.offsetY;var k=e(M).getBoundingClientRect();return M.clientY-k.top}return 0}},1195:function(Y,O,e){var M=e(75686);Y.exports=function(k,a,_){typeof k=="function"&&(_=!!a,a=k,k=window);var y=M("ex",k),d=function(s){_&&s.preventDefault();var t=s.deltaX||0,i=s.deltaY||0,r=s.deltaZ||0,n=1;switch(s.deltaMode){case 1:n=y;break;case 2:n=window.innerHeight}if(i*=n,r*=n,(t*=n)||i||r)return a(t,i,r,s)};return k.addEventListener("wheel",d),d}},7417:function(Y,O,e){var M;(function(k,a,_){a[k]=a[k]||function(){var y,d,s,t=Object.prototype.toString,i=typeof setImmediate<"u"?function(v){return setImmediate(v)}:setTimeout;try{Object.defineProperty({},"x",{}),y=function(v,m,w,f){return Object.defineProperty(v,m,{value:w,writable:!0,configurable:f!==!1})}}catch{y=function(m,w,f){return m[w]=f,m}}function r(v,m){s.add(v,m),d||(d=i(s.drain))}function n(v){var m,w=typeof v;return v==null||w!="object"&&w!="function"||(m=v.then),typeof m=="function"&&m}function l(){for(var v=0;v<this.chain.length;v++)o(this,this.state===1?this.chain[v].success:this.chain[v].failure,this.chain[v]);this.chain.length=0}function o(v,m,w){var f,S;try{m===!1?w.reject(v.msg):(f=m===!0?v.msg:m.call(void 0,v.msg))===w.promise?w.reject(TypeError("Promise-chain cycle")):(S=n(f))?S.call(f,w.resolve,w.reject):w.resolve(f)}catch(T){w.reject(T)}}function u(v){var m,w=this;if(!w.triggered){w.triggered=!0,w.def&&(w=w.def);try{(m=n(v))?r(function(){var f=new b(w);try{m.call(v,function(){u.apply(f,arguments)},function(){p.apply(f,arguments)})}catch(S){p.call(f,S)}}):(w.msg=v,w.state=1,w.chain.length>0&&r(l,w))}catch(f){p.call(new b(w),f)}}}function p(v){var m=this;m.triggered||(m.triggered=!0,m.def&&(m=m.def),m.msg=v,m.state=2,m.chain.length>0&&r(l,m))}function c(v,m,w,f){for(var S=0;S<m.length;S++)(function(T){v.resolve(m[T]).then(function(E){w(T,E)},f)})(S)}function b(v){this.def=v,this.triggered=!1}function g(v){this.promise=v,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function h(v){if(typeof v!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var m=new g(this);this.then=function(w,f){var S={success:typeof w!="function"||w,failure:typeof f=="function"&&f};return S.promise=new this.constructor(function(T,E){if(typeof T!="function"||typeof E!="function")throw TypeError("Not a function");S.resolve=T,S.reject=E}),m.chain.push(S),m.state!==0&&r(l,m),S.promise},this.catch=function(w){return this.then(void 0,w)};try{v.call(void 0,function(w){u.call(m,w)},function(w){p.call(m,w)})}catch(w){p.call(m,w)}}s=function(){var v,m,w;function f(S,T){this.fn=S,this.self=T,this.next=void 0}return{add:function(S,T){w=new f(S,T),m?m.next=w:v=w,m=w,w=void 0},drain:function(){var S=v;for(v=m=d=void 0;S;)S.fn.call(S.self),S=S.next}}}();var x=y({},"constructor",h,!1);return h.prototype=x,y(x,"__NPO__",0,!1),y(h,"resolve",function(v){return v&&typeof v=="object"&&v.__NPO__===1?v:new this(function(m,w){if(typeof m!="function"||typeof w!="function")throw TypeError("Not a function");m(v)})}),y(h,"reject",function(v){return new this(function(m,w){if(typeof m!="function"||typeof w!="function")throw TypeError("Not a function");w(v)})}),y(h,"all",function(v){var m=this;return t.call(v)!="[object Array]"?m.reject(TypeError("Not an array")):v.length===0?m.resolve([]):new m(function(w,f){if(typeof w!="function"||typeof f!="function")throw TypeError("Not a function");var S=v.length,T=Array(S),E=0;c(m,v,function(L,C){T[L]=C,++E===S&&w(T)},f)})}),y(h,"race",function(v){var m=this;return t.call(v)!="[object Array]"?m.reject(TypeError("Not an array")):new m(function(w,f){if(typeof w!="function"||typeof f!="function")throw TypeError("Not a function");c(m,v,function(S,T){w(T)},f)})}),h}(),Y.exports?Y.exports=a[k]:(M=(function(){return a[k]}).call(O,e,O,Y))===void 0||(Y.exports=M)})("Promise",e.g!==void 0?e.g:this)},18625:function(Y){var O=Math.PI,e=y(120);function M(d,s,t,i){return["C",d,s,t,i,t,i]}function k(d,s,t,i,r,n){return["C",d/3+.6666666666666666*t,s/3+.6666666666666666*i,r/3+.6666666666666666*t,n/3+.6666666666666666*i,r,n]}function a(d,s,t,i,r,n,l,o,u,p){if(p)S=p[0],T=p[1],w=p[2],f=p[3];else{var c=_(d,s,-r);d=c.x,s=c.y;var b=(d-(o=(c=_(o,u,-r)).x))/2,g=(s-(u=c.y))/2,h=b*b/(t*t)+g*g/(i*i);h>1&&(t*=h=Math.sqrt(h),i*=h);var x=t*t,v=i*i,m=(n==l?-1:1)*Math.sqrt(Math.abs((x*v-x*g*g-v*b*b)/(x*g*g+v*b*b)));m==1/0&&(m=1);var w=m*t*g/i+(d+o)/2,f=m*-i*b/t+(s+u)/2,S=Math.asin(((s-f)/i).toFixed(9)),T=Math.asin(((u-f)/i).toFixed(9));(S=d<w?O-S:S)<0&&(S=2*O+S),(T=o<w?O-T:T)<0&&(T=2*O+T),l&&S>T&&(S-=2*O),!l&&T>S&&(T-=2*O)}if(Math.abs(T-S)>e){var E=T,L=o,C=u;T=S+e*(l&&T>S?1:-1);var P=a(o=w+t*Math.cos(T),u=f+i*Math.sin(T),t,i,r,0,l,L,C,[T,E,w,f])}var R=Math.tan((T-S)/4),G=4/3*t*R,I=4/3*i*R,H=[2*d-(d+G*Math.sin(S)),2*s-(s-I*Math.cos(S)),o+G*Math.sin(T),u-I*Math.cos(T),o,u];if(p)return H;P&&(H=H.concat(P));for(var N=0;N<H.length;){var B=_(H[N],H[N+1],r);H[N++]=B.x,H[N++]=B.y}return H}function _(d,s,t){return{x:d*Math.cos(t)-s*Math.sin(t),y:d*Math.sin(t)+s*Math.cos(t)}}function y(d){return d*(O/180)}Y.exports=function(d){for(var s,t=[],i=0,r=0,n=0,l=0,o=null,u=null,p=0,c=0,b=0,g=d.length;b<g;b++){var h=d[b],x=h[0];switch(x){case"M":n=h[1],l=h[2];break;case"A":(h=a(p,c,h[1],h[2],y(h[3]),h[4],h[5],h[6],h[7])).unshift("C"),h.length>7&&(t.push(h.splice(0,7)),h.unshift("C"));break;case"S":var v=p,m=c;s!="C"&&s!="S"||(v+=v-i,m+=m-r),h=["C",v,m,h[1],h[2],h[3],h[4]];break;case"T":s=="Q"||s=="T"?(o=2*p-o,u=2*c-u):(o=p,u=c),h=k(p,c,o,u,h[1],h[2]);break;case"Q":o=h[1],u=h[2],h=k(p,c,h[1],h[2],h[3],h[4]);break;case"L":h=M(p,c,h[1],h[2]);break;case"H":h=M(p,c,h[1],c);break;case"V":h=M(p,c,p,h[1]);break;case"Z":h=M(p,c,n,l)}s=x,p=h[h.length-2],c=h[h.length-1],h.length>4?(i=h[h.length-4],r=h[h.length-3]):(i=p,r=c),t.push(h)}return t}},56131:function(Y){var O=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;Y.exports=function(){try{if(!Object.assign)return!1;var k=new String("abc");if(k[5]="de",Object.getOwnPropertyNames(k)[0]==="5")return!1;for(var a={},_=0;_<10;_++)a["_"+String.fromCharCode(_)]=_;if(Object.getOwnPropertyNames(a).map(function(d){return a[d]}).join("")!=="0123456789")return!1;var y={};return"abcdefghijklmnopqrst".split("").forEach(function(d){y[d]=d}),Object.keys(Object.assign({},y)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(k,a){for(var _,y,d=function(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}(k),s=1;s<arguments.length;s++){for(var t in _=Object(arguments[s]))e.call(_,t)&&(d[t]=_[t]);if(O){y=O(_);for(var i=0;i<y.length;i++)M.call(_,y[i])&&(d[y[i]]=_[y[i]])}}return d}},65848:function(Y){var O=function(e){return e!=e};Y.exports=function(e,M){return e===0&&M===0?1/e==1/M:e===M||!(!O(e)||!O(M))}},64003:function(Y,O,e){var M=e(17045),k=e(68222),a=e(65848),_=e(27015),y=e(55572),d=k(_(),Object);M(d,{getPolyfill:_,implementation:a,shim:y}),Y.exports=d},27015:function(Y,O,e){var M=e(65848);Y.exports=function(){return typeof Object.is=="function"?Object.is:M}},55572:function(Y,O,e){var M=e(27015),k=e(17045);Y.exports=function(){var a=M();return k(Object,{is:a},{is:function(){return Object.is!==a}}),a}},99019:function(Y,O,e){var M;if(!Object.keys){var k=Object.prototype.hasOwnProperty,a=Object.prototype.toString,_=e(64178),y=Object.prototype.propertyIsEnumerable,d=!y.call({toString:null},"toString"),s=y.call(function(){},"prototype"),t=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=function(l){var o=l.constructor;return o&&o.prototype===l},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window>"u")return!1;for(var l in window)try{if(!r["$"+l]&&k.call(window,l)&&window[l]!==null&&typeof window[l]=="object")try{i(window[l])}catch{return!0}}catch{return!0}return!1}();M=function(l){var o=l!==null&&typeof l=="object",u=a.call(l)==="[object Function]",p=_(l),c=o&&a.call(l)==="[object String]",b=[];if(!o&&!u&&!p)throw new TypeError("Object.keys called on a non-object");var g=s&&u;if(c&&l.length>0&&!k.call(l,0))for(var h=0;h<l.length;++h)b.push(String(h));if(p&&l.length>0)for(var x=0;x<l.length;++x)b.push(String(x));else for(var v in l)g&&v==="prototype"||!k.call(l,v)||b.push(String(v));if(d)for(var m=function(f){if(typeof window>"u"||!n)return i(f);try{return i(f)}catch{return!1}}(l),w=0;w<t.length;++w)m&&t[w]==="constructor"||!k.call(l,t[w])||b.push(t[w]);return b}}Y.exports=M},8709:function(Y,O,e){var M=Array.prototype.slice,k=e(64178),a=Object.keys,_=a?function(d){return a(d)}:e(99019),y=Object.keys;_.shim=function(){if(Object.keys){var d=function(){var s=Object.keys(arguments);return s&&s.length===arguments.length}(1,2);d||(Object.keys=function(s){return k(s)?y(M.call(s)):y(s)})}else Object.keys=_;return Object.keys||_},Y.exports=_},64178:function(Y){var O=Object.prototype.toString;Y.exports=function(e){var M=O.call(e),k=M==="[object Arguments]";return k||(k=M!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&O.call(e.callee)==="[object Function]"),k}},88641:function(Y){function O(k,a){if(typeof k!="string")return[k];var _=[k];typeof a=="string"||Array.isArray(a)?a={brackets:a}:a||(a={});var y=a.brackets?Array.isArray(a.brackets)?a.brackets:[a.brackets]:["{}","[]","()"],d=a.escape||"___",s=!!a.flat;y.forEach(function(i){var r=new RegExp(["\\",i[0],"[^\\",i[0],"\\",i[1],"]*\\",i[1]].join("")),n=[];function l(o,u,p){var c=_.push(o.slice(i[0].length,-i[1].length))-1;return n.push(c),d+c+d}_.forEach(function(o,u){for(var p,c=0;o!=p;)if(p=o,o=o.replace(r,l),c++>1e4)throw Error("References have circular dependency. Please, check them.");_[u]=o}),n=n.reverse(),_=_.map(function(o){return n.forEach(function(u){o=o.replace(new RegExp("(\\"+d+u+"\\"+d+")","g"),i[0]+"$1"+i[1])}),o})});var t=new RegExp("\\"+d+"([0-9]+)\\"+d);return s?_:function i(r,n,l){for(var o,u=[],p=0;o=t.exec(r);){if(p++>1e4)throw Error("Circular references in parenthesis");u.push(r.slice(0,o.index)),u.push(i(n[o[1]],n)),r=r.slice(o.index+o[0].length)}return u.push(r),u}(_[0],_)}function e(k,a){if(a&&a.flat){var _,y=a&&a.escape||"___",d=k[0];if(!d)return"";for(var s=new RegExp("\\"+y+"([0-9]+)\\"+y),t=0;d!=_;){if(t++>1e4)throw Error("Circular references in "+k);_=d,d=d.replace(s,i)}return d}return k.reduce(function r(n,l){return Array.isArray(l)&&(l=l.reduce(r,"")),n+l},"");function i(r,n){if(k[n]==null)throw Error("Reference "+n+"is undefined");return k[n]}}function M(k,a){return Array.isArray(k)?e(k,a):O(k,a)}M.parse=O,M.stringify=e,Y.exports=M},18863:function(Y,O,e){var M=e(71299);Y.exports=function(k){var a;return arguments.length>1&&(k=arguments),typeof k=="string"?k=k.split(/\s/).map(parseFloat):typeof k=="number"&&(k=[k]),k.length&&typeof k[0]=="number"?a=k.length===1?{width:k[0],height:k[0],x:0,y:0}:k.length===2?{width:k[0],height:k[1],x:0,y:0}:{x:k[0],y:k[1],width:k[2]-k[0]||0,height:k[3]-k[1]||0}:k&&(a={x:(k=M(k,{left:"x l left Left",top:"y t top Top",width:"w width W Width",height:"h height W Width",bottom:"b bottom Bottom",right:"r right Right"})).left||0,y:k.top||0},k.width==null?k.right?a.width=k.right-a.x:a.width=0:a.width=k.width,k.height==null?k.bottom?a.height=k.bottom-a.y:a.height=0:a.height=k.height),a}},95616:function(Y){Y.exports=function(k){var a=[];return k.replace(e,function(_,y,d){var s=y.toLowerCase();for(d=function(t){var i=t.match(M);return i?i.map(Number):[]}(d),s=="m"&&d.length>2&&(a.push([y].concat(d.splice(0,2))),s="l",y=y=="m"?"l":"L");;){if(d.length==O[s])return d.unshift(y),a.push(d);if(d.length<O[s])throw new Error("malformed path data");a.push([y].concat(d.splice(0,O[s])))}}),a};var O={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},e=/([astvzqmhlc])([^astvzqmhlc]*)/gi,M=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},25677:function(Y){Y.exports=function(O,e){e||(e=[0,""]),O=String(O);var M=parseFloat(O,10);return e[0]=M,e[1]=O.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},9748:function(Y,O,e){var M=e(90386);(function(){var k,a,_,y,d,s;typeof performance<"u"&&performance!==null&&performance.now?Y.exports=function(){return performance.now()}:M!=null&&M.hrtime?(Y.exports=function(){return(k()-d)/1e6},a=M.hrtime,y=(k=function(){var t;return 1e9*(t=a())[0]+t[1]})(),s=1e9*M.uptime(),d=y-s):Date.now?(Y.exports=function(){return Date.now()-_},_=Date.now()):(Y.exports=function(){return new Date().getTime()-_},_=new Date().getTime())}).call(this)},71299:function(Y){Y.exports=function(M,k,a){var _,y,d={};if(typeof k=="string"&&(k=e(k)),Array.isArray(k)){var s={};for(y=0;y<k.length;y++)s[k[y]]=!0;k=s}for(_ in k)k[_]=e(k[_]);var t={};for(_ in k){var i=k[_];if(Array.isArray(i))for(y=0;y<i.length;y++){var r=i[y];if(a&&(t[r]=!0),r in M){if(d[_]=M[r],a)for(var n=y;n<i.length;n++)t[i[n]]=!0;break}}else _ in M&&(k[_]&&(d[_]=M[_]),a&&(t[_]=!0))}if(a)for(_ in M)t[_]||(d[_]=M[_]);return d};var O={};function e(M){return O[M]?O[M]:(typeof M=="string"&&(M=O[M]=M.split(/\s*,\s*|\s+/)),M)}},38258:function(Y){Y.exports=function(O,e,M,k){var a=O[0],_=O[1],y=!1;M===void 0&&(M=0),k===void 0&&(k=e.length);for(var d=k-M,s=0,t=d-1;s<d;t=s++){var i=e[s+M][0],r=e[s+M][1],n=e[t+M][0],l=e[t+M][1];r>_!=l>_&&a<(n-i)*(_-r)/(l-r)+i&&(y=!y)}return y}},52142:function(Y,O,e){var M,k=e(69444),a=e(29023),_=e(87263),y=e(11328),d=e(55968),s=e(10670),t=!1,i=a();function r(n,l,o){var u=M.segments(n),p=M.segments(l),c=o(M.combine(u,p));return M.polygon(c)}M={buildLog:function(n){return n===!0?t=k():n===!1&&(t=!1),t!==!1&&t.list},epsilon:function(n){return i.epsilon(n)},segments:function(n){var l=_(!0,i,t);return n.regions.forEach(l.addRegion),{segments:l.calculate(n.inverted),inverted:n.inverted}},combine:function(n,l){return{combined:_(!1,i,t).calculate(n.segments,n.inverted,l.segments,l.inverted),inverted1:n.inverted,inverted2:l.inverted}},selectUnion:function(n){return{segments:d.union(n.combined,t),inverted:n.inverted1||n.inverted2}},selectIntersect:function(n){return{segments:d.intersect(n.combined,t),inverted:n.inverted1&&n.inverted2}},selectDifference:function(n){return{segments:d.difference(n.combined,t),inverted:n.inverted1&&!n.inverted2}},selectDifferenceRev:function(n){return{segments:d.differenceRev(n.combined,t),inverted:!n.inverted1&&n.inverted2}},selectXor:function(n){return{segments:d.xor(n.combined,t),inverted:n.inverted1!==n.inverted2}},polygon:function(n){return{regions:y(n.segments,i,t),inverted:n.inverted}},polygonFromGeoJSON:function(n){return s.toPolygon(M,n)},polygonToGeoJSON:function(n){return s.fromPolygon(M,i,n)},union:function(n,l){return r(n,l,M.selectUnion)},intersect:function(n,l){return r(n,l,M.selectIntersect)},difference:function(n,l){return r(n,l,M.selectDifference)},differenceRev:function(n,l){return r(n,l,M.selectDifferenceRev)},xor:function(n,l){return r(n,l,M.selectXor)}},typeof window=="object"&&(window.PolyBool=M),Y.exports=M},69444:function(Y){Y.exports=function(){var O,e=0,M=!1;function k(a,_){return O.list.push({type:a,data:_?JSON.parse(JSON.stringify(_)):void 0}),O}return O={list:[],segmentId:function(){return e++},checkIntersection:function(a,_){return k("check",{seg1:a,seg2:_})},segmentChop:function(a,_){return k("div_seg",{seg:a,pt:_}),k("chop",{seg:a,pt:_})},statusRemove:function(a){return k("pop_seg",{seg:a})},segmentUpdate:function(a){return k("seg_update",{seg:a})},segmentNew:function(a,_){return k("new_seg",{seg:a,primary:_})},segmentRemove:function(a){return k("rem_seg",{seg:a})},tempStatus:function(a,_,y){return k("temp_status",{seg:a,above:_,below:y})},rewind:function(a){return k("rewind",{seg:a})},status:function(a,_,y){return k("status",{seg:a,above:_,below:y})},vert:function(a){return a===M?O:(M=a,k("vert",{x:a}))},log:function(a){return typeof a!="string"&&(a=JSON.stringify(a,!1,"  ")),k("log",{txt:a})},reset:function(){return k("reset")},selected:function(a){return k("selected",{segs:a})},chainStart:function(a){return k("chain_start",{seg:a})},chainRemoveHead:function(a,_){return k("chain_rem_head",{index:a,pt:_})},chainRemoveTail:function(a,_){return k("chain_rem_tail",{index:a,pt:_})},chainNew:function(a,_){return k("chain_new",{pt1:a,pt2:_})},chainMatch:function(a){return k("chain_match",{index:a})},chainClose:function(a){return k("chain_close",{index:a})},chainAddHead:function(a,_){return k("chain_add_head",{index:a,pt:_})},chainAddTail:function(a,_){return k("chain_add_tail",{index:a,pt:_})},chainConnect:function(a,_){return k("chain_con",{index1:a,index2:_})},chainReverse:function(a){return k("chain_rev",{index:a})},chainJoin:function(a,_){return k("chain_join",{index1:a,index2:_})},done:function(){return k("done")}}}},29023:function(Y){Y.exports=function(O){typeof O!="number"&&(O=1e-10);var e={epsilon:function(M){return typeof M=="number"&&(O=M),O},pointAboveOrOnLine:function(M,k,a){var _=k[0],y=k[1],d=a[0],s=a[1],t=M[0];return(d-_)*(M[1]-y)-(s-y)*(t-_)>=-O},pointBetween:function(M,k,a){var _=M[1]-k[1],y=a[0]-k[0],d=M[0]-k[0],s=a[1]-k[1],t=d*y+_*s;return!(t<O||t-(y*y+s*s)>-O)},pointsSameX:function(M,k){return Math.abs(M[0]-k[0])<O},pointsSameY:function(M,k){return Math.abs(M[1]-k[1])<O},pointsSame:function(M,k){return e.pointsSameX(M,k)&&e.pointsSameY(M,k)},pointsCompare:function(M,k){return e.pointsSameX(M,k)?e.pointsSameY(M,k)?0:M[1]<k[1]?-1:1:M[0]<k[0]?-1:1},pointsCollinear:function(M,k,a){var _=M[0]-k[0],y=M[1]-k[1],d=k[0]-a[0],s=k[1]-a[1];return Math.abs(_*s-d*y)<O},linesIntersect:function(M,k,a,_){var y=k[0]-M[0],d=k[1]-M[1],s=_[0]-a[0],t=_[1]-a[1],i=y*t-d*s;if(Math.abs(i)<O)return!1;var r=M[0]-a[0],n=M[1]-a[1],l=(s*n-t*r)/i,o=(y*n-d*r)/i,u={alongA:0,alongB:0,pt:[M[0]+l*y,M[1]+l*d]};return u.alongA=l<=-O?-2:l<O?-1:l-1<=-O?0:l-1<O?1:2,u.alongB=o<=-O?-2:o<O?-1:o-1<=-O?0:o-1<O?1:2,u},pointInsideRegion:function(M,k){for(var a=M[0],_=M[1],y=k[k.length-1][0],d=k[k.length-1][1],s=!1,t=0;t<k.length;t++){var i=k[t][0],r=k[t][1];r-_>O!=d-_>O&&(y-i)*(_-r)/(d-r)+i-a>O&&(s=!s),y=i,d=r}return s}};return e}},10670:function(Y){var O={toPolygon:function(e,M){function k(y){if(y.length<=0)return e.segments({inverted:!1,regions:[]});function d(i){var r=i.slice(0,i.length-1);return e.segments({inverted:!1,regions:[r]})}for(var s=d(y[0]),t=1;t<y.length;t++)s=e.selectDifference(e.combine(s,d(y[t])));return s}if(M.type==="Polygon")return e.polygon(k(M.coordinates));if(M.type==="MultiPolygon"){for(var a=e.segments({inverted:!1,regions:[]}),_=0;_<M.coordinates.length;_++)a=e.selectUnion(e.combine(a,k(M.coordinates[_])));return e.polygon(a)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(e,M,k){function a(o,u){return M.pointInsideRegion([.5*(o[0][0]+o[1][0]),.5*(o[0][1]+o[1][1])],u)}function _(o){return{region:o,children:[]}}k=e.polygon(e.segments(k));var y=_(null);function d(o,u){for(var p=0;p<o.children.length;p++)if(a(u,(b=o.children[p]).region))return void d(b,u);var c=_(u);for(p=0;p<o.children.length;p++){var b;a((b=o.children[p]).region,u)&&(c.children.push(b),o.children.splice(p,1),p--)}o.children.push(c)}for(var s=0;s<k.regions.length;s++){var t=k.regions[s];t.length<3||d(y,t)}function i(o,u){for(var p=0,c=o[o.length-1][0],b=o[o.length-1][1],g=[],h=0;h<o.length;h++){var x=o[h][0],v=o[h][1];g.push([x,v]),p+=v*c-x*b,c=x,b=v}return p<0!==u&&g.reverse(),g.push([g[0][0],g[0][1]]),g}var r=[];function n(o){var u=[i(o.region,!1)];r.push(u);for(var p=0;p<o.children.length;p++)u.push(l(o.children[p]))}function l(o){for(var u=0;u<o.children.length;u++)n(o.children[u]);return i(o.region,!0)}for(s=0;s<y.children.length;s++)n(y.children[s]);return r.length<=0?{type:"Polygon",coordinates:[]}:r.length==1?{type:"Polygon",coordinates:r[0]}:{type:"MultiPolygon",coordinates:r}}};Y.exports=O},87263:function(Y,O,e){var M=e(26859);Y.exports=function(k,a,_){function y(n,l,o){return{id:_?_.segmentId():-1,start:n,end:l,myFill:{above:o.myFill.above,below:o.myFill.below},otherFill:null}}var d=M.create();function s(n,l){d.insertBefore(n,function(o){return u=n.isStart,p=n.pt,c=l,b=o.isStart,g=o.pt,h=o.other.pt,((x=a.pointsCompare(p,g))!==0?x:a.pointsSame(c,h)?0:u!==b?u?1:-1:a.pointAboveOrOnLine(c,b?g:h,b?h:g)?1:-1)<0;var u,p,c,b,g,h,x})}function t(n,l){var o=function(u,p){var c=M.node({isStart:!0,pt:u.start,seg:u,primary:p,other:null,status:null});return s(c,u.end),c}(n,l);return function(u,p,c){var b=M.node({isStart:!1,pt:p.end,seg:p,primary:c,other:u,status:null});u.other=b,s(b,u.pt)}(o,n,l),o}function i(n,l){var o=y(l,n.seg.end,n.seg);return function(u,p){_&&_.segmentChop(u.seg,p),u.other.remove(),u.seg.end=p,u.other.pt=p,s(u.other,u.pt)}(n,l),t(o,n.primary)}function r(n,l){var o=M.create();function u(E){return o.findTransition(function(L){var C,P,R,G,I,H;return C=E,P=L.ev,R=C.seg.start,G=C.seg.end,I=P.seg.start,H=P.seg.end,(a.pointsCollinear(R,I,H)?a.pointsCollinear(G,I,H)||a.pointAboveOrOnLine(G,I,H)?1:-1:a.pointAboveOrOnLine(R,I,H)?1:-1)>0})}function p(E,L){var C=E.seg,P=L.seg,R=C.start,G=C.end,I=P.start,H=P.end;_&&_.checkIntersection(C,P);var N=a.linesIntersect(R,G,I,H);if(N===!1){if(!a.pointsCollinear(R,G,I)||a.pointsSame(R,H)||a.pointsSame(G,I))return!1;var B=a.pointsSame(R,I),V=a.pointsSame(G,H);if(B&&V)return L;var q=!B&&a.pointBetween(R,I,H),te=!V&&a.pointBetween(G,I,H);if(B)return te?i(L,G):i(E,H),L;q&&(V||(te?i(L,G):i(E,H)),i(L,R))}else N.alongA===0&&(N.alongB===-1?i(E,I):N.alongB===0?i(E,N.pt):N.alongB===1&&i(E,H)),N.alongB===0&&(N.alongA===-1?i(L,R):N.alongA===0?i(L,N.pt):N.alongA===1&&i(L,G));return!1}for(var c=[];!d.isEmpty();){var b=d.getHead();if(_&&_.vert(b.pt[0]),b.isStart){let E=function(){if(h){var L=p(b,h);if(L)return L}return!!x&&p(b,x)};var T=E;_&&_.segmentNew(b.seg,b.primary);var g=u(b),h=g.before?g.before.ev:null,x=g.after?g.after.ev:null;_&&_.tempStatus(b.seg,!!h&&h.seg,!!x&&x.seg);var v,m,w=E();if(w&&(k?(m=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below)&&(w.seg.myFill.above=!w.seg.myFill.above):w.seg.otherFill=b.seg.myFill,_&&_.segmentUpdate(w.seg),b.other.remove(),b.remove()),d.getHead()!==b){_&&_.rewind(b.seg);continue}k?(m=b.seg.myFill.below===null||b.seg.myFill.above!==b.seg.myFill.below,b.seg.myFill.below=x?x.seg.myFill.above:n,b.seg.myFill.above=m?!b.seg.myFill.below:b.seg.myFill.below):b.seg.otherFill===null&&(v=x?b.primary===x.primary?x.seg.otherFill.above:x.seg.myFill.above:b.primary?l:n,b.seg.otherFill={above:v,below:v}),_&&_.status(b.seg,!!h&&h.seg,!!x&&x.seg),b.other.status=g.insert(M.node({ev:b}))}else{var f=b.status;if(f===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(o.exists(f.prev)&&o.exists(f.next)&&p(f.prev.ev,f.next.ev),_&&_.statusRemove(f.ev.seg),f.remove(),!b.primary){var S=b.seg.myFill;b.seg.myFill=b.seg.otherFill,b.seg.otherFill=S}c.push(b.seg)}d.getHead().remove()}return _&&_.done(),c}return k?{addRegion:function(n){for(var l,o,u,p=n[n.length-1],c=0;c<n.length;c++){l=p,p=n[c];var b=a.pointsCompare(l,p);b!==0&&t((o=b<0?l:p,u=b<0?p:l,{id:_?_.segmentId():-1,start:o,end:u,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(n){return r(n,!1)}}:{calculate:function(n,l,o,u){return n.forEach(function(p){t(y(p.start,p.end,p),!0)}),o.forEach(function(p){t(y(p.start,p.end,p),!1)}),r(l,u)}}}},26859:function(Y){Y.exports={create:function(){var O={root:{root:!0,next:null},exists:function(e){return e!==null&&e!==O.root},isEmpty:function(){return O.root.next===null},getHead:function(){return O.root.next},insertBefore:function(e,M){for(var k=O.root,a=O.root.next;a!==null;){if(M(a))return e.prev=a.prev,e.next=a,a.prev.next=e,void(a.prev=e);k=a,a=a.next}k.next=e,e.prev=k,e.next=null},findTransition:function(e){for(var M=O.root,k=O.root.next;k!==null&&!e(k);)M=k,k=k.next;return{before:M===O.root?null:M,after:k,insert:function(a){return a.prev=M,a.next=k,M.next=a,k!==null&&(k.prev=a),a}}}};return O},node:function(O){return O.prev=null,O.next=null,O.remove=function(){O.prev.next=O.next,O.next&&(O.next.prev=O.prev),O.prev=null,O.next=null},O}}},11328:function(Y){Y.exports=function(O,e,M){var k=[],a=[];return O.forEach(function(_){var y=_.start,d=_.end;if(e.pointsSame(y,d))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{M&&M.chainStart(_);for(var s={index:0,matches_head:!1,matches_pt1:!1},t={index:0,matches_head:!1,matches_pt1:!1},i=s,r=0;r<k.length;r++){var n=(c=k[r])[0],l=(c[1],c[c.length-1]);if(c[c.length-2],e.pointsSame(n,y)){if(f(r,!0,!0))break}else if(e.pointsSame(n,d)){if(f(r,!0,!1))break}else if(e.pointsSame(l,y)){if(f(r,!1,!0))break}else if(e.pointsSame(l,d)&&f(r,!1,!1))break}if(i===s)return k.push([y,d]),void(M&&M.chainNew(y,d));if(i===t){M&&M.chainMatch(s.index);var o=s.index,u=s.matches_pt1?d:y,p=s.matches_head,c=k[o],b=p?c[0]:c[c.length-1],g=p?c[1]:c[c.length-2],h=p?c[c.length-1]:c[0],x=p?c[c.length-2]:c[1];return e.pointsCollinear(g,b,u)&&(p?(M&&M.chainRemoveHead(s.index,u),c.shift()):(M&&M.chainRemoveTail(s.index,u),c.pop()),b=g),e.pointsSame(h,u)?(k.splice(o,1),e.pointsCollinear(x,h,b)&&(p?(M&&M.chainRemoveTail(s.index,b),c.pop()):(M&&M.chainRemoveHead(s.index,b),c.shift())),M&&M.chainClose(s.index),void a.push(c)):void(p?(M&&M.chainAddHead(s.index,u),c.unshift(u)):(M&&M.chainAddTail(s.index,u),c.push(u)))}var v=s.index,m=t.index;M&&M.chainConnect(v,m);var w=k[v].length<k[m].length;s.matches_head?t.matches_head?w?(S(v),T(v,m)):(S(m),T(m,v)):T(m,v):t.matches_head?T(v,m):w?(S(v),T(m,v)):(S(m),T(v,m))}function f(E,L,C){return i.index=E,i.matches_head=L,i.matches_pt1=C,i===s?(i=t,!1):(i=null,!0)}function S(E){M&&M.chainReverse(E),k[E].reverse()}function T(E,L){var C=k[E],P=k[L],R=C[C.length-1],G=C[C.length-2],I=P[0],H=P[1];e.pointsCollinear(G,R,I)&&(M&&M.chainRemoveTail(E,R),C.pop(),R=G),e.pointsCollinear(R,I,H)&&(M&&M.chainRemoveHead(L,I),P.shift()),M&&M.chainJoin(E,L),k[E]=C.concat(P),k.splice(L,1)}}),a}},55968:function(Y){function O(M,k,a){var _=[];return M.forEach(function(y){var d=(y.myFill.above?8:0)+(y.myFill.below?4:0)+(y.otherFill&&y.otherFill.above?2:0)+(y.otherFill&&y.otherFill.below?1:0);k[d]!==0&&_.push({id:a?a.segmentId():-1,start:y.start,end:y.end,myFill:{above:k[d]===1,below:k[d]===2},otherFill:null})}),a&&a.selected(_),_}var e={union:function(M,k){return O(M,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],k)},intersect:function(M,k){return O(M,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],k)},difference:function(M,k){return O(M,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],k)},differenceRev:function(M,k){return O(M,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],k)},xor:function(M,k){return O(M,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],k)}};Y.exports=e},14847:function(Y,O,e){var M=e(21630).Transform,k=e(90715);function a(){M.call(this,{readableObjectMode:!0})}function _(y,d,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=y,d&&(this.code=d),s&&(this.statusCode=s)}a.prototype=Object.create(M.prototype),a.prototype.constructor=a,k(a.prototype),O.OF=function(y,d,s){for(var t=d,i=0;i<s.length;)if(y[t++]!==s[i++])return!1;return!0},O.eG=function(y,d){var s=[],t=0;if(d&&d==="hex")for(;t<y.length;)s.push(parseInt(y.slice(t,t+2),16)),t+=2;else for(;t<y.length;t++)s.push(255&y.charCodeAt(t));return s},O.mP=function(y,d){return y[d]|y[d+1]<<8},O.n8=function(y,d){return y[d+1]|y[d]<<8},O.nm=function(y,d){return y[d]|y[d+1]<<8|y[d+2]<<16|16777216*y[d+3]},O.Ag=function(y,d){return y[d+3]|y[d+2]<<8|y[d+1]<<16|16777216*y[d]},_.prototype=Object.create(Error.prototype),_.prototype.constructor=_},71371:function(Y){function O(k,a){var _=new Error(k);return _.code=a,_}function e(k){try{return decodeURIComponent(escape(k))}catch{return k}}function M(k,a,_){this.input=k.subarray(a,_),this.start=a;var y=String.fromCharCode.apply(null,this.input.subarray(0,4));if(y!=="II*\0"&&y!=="MM\0*")throw O("invalid TIFF signature","EBADDATA");this.big_endian=y[0]==="M"}M.prototype.each=function(k){this.aborted=!1;var a=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:a}];this.ifds_to_read.length>0&&!this.aborted;){var _=this.ifds_to_read.shift();_.offset&&this.scan_ifd(_.id,_.offset,k)}},M.prototype.read_uint16=function(k){var a=this.input;if(k+2>a.length)throw O("unexpected EOF","EBADDATA");return this.big_endian?256*a[k]+a[k+1]:a[k]+256*a[k+1]},M.prototype.read_uint32=function(k){var a=this.input;if(k+4>a.length)throw O("unexpected EOF","EBADDATA");return this.big_endian?16777216*a[k]+65536*a[k+1]+256*a[k+2]+a[k+3]:a[k]+256*a[k+1]+65536*a[k+2]+16777216*a[k+3]},M.prototype.is_subifd_link=function(k,a){return k===0&&a===34665||k===0&&a===34853||k===34665&&a===40965},M.prototype.exif_format_length=function(k){switch(k){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},M.prototype.exif_format_read=function(k,a){var _;switch(k){case 1:case 2:return this.input[a];case 6:return(_=this.input[a])|33554430*(128&_);case 3:return this.read_uint16(a);case 8:return(_=this.read_uint16(a))|131070*(32768&_);case 4:return this.read_uint32(a);case 9:return 0|this.read_uint32(a);default:return null}},M.prototype.scan_ifd=function(k,a,_){var y=this.read_uint16(a);a+=2;for(var d=0;d<y;d++){var s=this.read_uint16(a),t=this.read_uint16(a+2),i=this.read_uint32(a+4),r=this.exif_format_length(t),n=i*r,l=n<=4?a+8:this.read_uint32(a+8),o=!1;if(l+n>this.input.length)throw O("unexpected EOF","EBADDATA");for(var u=[],p=l,c=0;c<i;c++,p+=r){var b=this.exif_format_read(t,p);if(b===null){u=null;break}u.push(b)}if(Array.isArray(u)&&t===2&&(u=e(String.fromCharCode.apply(null,u)))&&u[u.length-1]==="\0"&&(u=u.slice(0,-1)),this.is_subifd_link(k,s)&&Array.isArray(u)&&Number.isInteger(u[0])&&u[0]>0&&(this.ifds_to_read.push({id:s,offset:u[0]}),o=!0),_({is_big_endian:this.big_endian,ifd:k,tag:s,format:t,count:i,entry_offset:a+this.start,data_length:n,data_offset:l+this.start,value:u,is_subifd_link:o})===!1)return void(this.aborted=!0);a+=12}k===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(a)})},Y.exports.ExifParser=M,Y.exports.get_orientation=function(k){var a=0;try{return new M(k,0,k.length).each(function(_){if(_.ifd===0&&_.tag===274&&Array.isArray(_.value))return a=_.value[0],!1}),a}catch{return-1}}},76767:function(Y,O,e){var M=e(14847).n8,k=e(14847).Ag;function a(i,r){if(i.length<4+r)return null;var n=k(i,r);return i.length<n+r||n<8?null:{boxtype:String.fromCharCode.apply(null,i.slice(r+4,r+8)),data:i.slice(r+8,r+n),end:r+n}}function _(i,r){for(var n=0;;){var l=a(i,n);if(!l)break;switch(l.boxtype){case"ispe":r.sizes.push({width:k(l.data,4),height:k(l.data,8)});break;case"irot":r.transforms.push({type:"irot",value:3&l.data[0]});break;case"imir":r.transforms.push({type:"imir",value:1&l.data[0]})}n=l.end}}function y(i,r,n){for(var l=0,o=0;o<n;o++)l=256*l+(i[r+o]||0);return l}function d(i,r){for(var n=i[4]>>4&15,l=15&i[4],o=i[5]>>4&15,u=M(i,6),p=8,c=0;c<u;c++){var b=M(i,p),g=M(i,p+=2),h=y(i,p+=2,o),x=M(i,p+=o);if(p+=2,g===0&&x===1){var v=y(i,p,n),m=y(i,p+n,l);r.item_loc[b]={length:m,offset:v+h}}p+=x*(n+l)}}function s(i,r){for(var n=M(i,4),l=6,o=0;o<n;o++){var u=a(i,l);if(!u)break;if(u.boxtype==="infe"){for(var p=M(u.data,4),c="",b=8;b<u.data.length&&u.data[b];b++)c+=String.fromCharCode(u.data[b]);r.item_inf[c]=p}l=u.end}}function t(i,r){for(var n=0;;){var l=a(i,n);if(!l)break;l.boxtype==="ipco"&&_(l.data,r),n=l.end}}Y.exports.unbox=a,Y.exports.readSizeFromMeta=function(i){var r={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(b,g){for(var h=4;;){var x=a(b,h);if(!x)break;x.boxtype==="iprp"&&t(x.data,g),x.boxtype==="iloc"&&d(x.data,g),x.boxtype==="iinf"&&s(x.data,g),h=x.end}}(i,r),r.sizes.length){var n,l,o,u=(l=(n=r.sizes).reduce(function(b,g){return b.width>g.width||b.width===g.width&&b.height>g.height?b:g}),o=n.reduce(function(b,g){return b.height>g.height||b.height===g.height&&b.width>g.width?b:g}),l.width>o.height||l.width===o.height&&l.height>o.width?l:o),p=1;r.transforms.forEach(function(b){var g={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},h={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(b.type==="imir"&&(p=b.value===0?h[p]:g[p=g[p=h[p]]]),b.type==="irot")for(var x=0;x<b.value;x++)p=g[p]});var c=null;return r.item_inf.Exif&&(c=r.item_loc[r.item_inf.Exif]),{width:u.width,height:u.height,orientation:r.transforms.length?p:null,variants:r.sizes,exif_location:c}}},Y.exports.getMimeType=function(i){var r=String.fromCharCode.apply(null,i.slice(0,4)),n={};n[r]=!0;for(var l=8;l<i.length;l+=4)n[String.fromCharCode.apply(null,i.slice(l,l+4))]=!0;if(n.mif1||n.msf1||n.miaf)return r==="avif"||r==="avis"||r==="avio"?{type:"avif",mime:"image/avif"}:r==="heic"||r==="heix"?{type:"heic",mime:"image/heic"}:r==="hevc"||r==="hevx"?{type:"heic",mime:"image/heic-sequence"}:n.avif||n.avis?{type:"avif",mime:"image/avif"}:n.heic||n.heix||n.hevc||n.hevx||n.heis?n.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,_=e(76767),y=e(71371),d=M("ftyp");Y.exports=function(s){if(k(s,4,d)){var t=_.unbox(s,0);if(t){var i=_.getMimeType(t.data);if(i){for(var r,n=t.end;;){var l=_.unbox(s,n);if(!l)break;if(n=l.end,l.boxtype==="mdat")return;if(l.boxtype==="meta"){r=l.data;break}}if(r){var o=_.readSizeFromMeta(r);if(o){var u={width:o.width,height:o.height,type:i.type,mime:i.mime,wUnits:"px",hUnits:"px"};if(o.variants.length>1&&(u.variants=o.variants),o.orientation&&(u.orientation=o.orientation),o.exif_location&&o.exif_location.offset+o.exif_location.length<=s.length){var p=a(s,o.exif_location.offset),c=s.slice(o.exif_location.offset+p+4,o.exif_location.offset+o.exif_location.length),b=y.get_orientation(c);b>0&&(u.orientation=b)}return u}}}}}}},2504:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=M("BM");Y.exports=function(y){if(!(y.length<26)&&k(y,0,_))return{width:a(y,18),height:a(y,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=M("GIF87a"),y=M("GIF89a");Y.exports=function(d){if(!(d.length<10)&&(k(d,0,_)||k(d,0,y)))return{width:a(d,6),height:a(d,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(Y,O,e){var M=e(14847).mP;Y.exports=function(k){var a=M(k,0),_=M(k,2),y=M(k,4);if(a===0&&_===1&&y){for(var d=[],s={width:0,height:0},t=0;t<y;t++){var i=k[6+16*t]||256,r=k[6+16*t+1]||256,n={width:i,height:r};d.push(n),(i>s.width||r>s.height)&&(s=n)}return{width:s.width,height:s.height,variants:d,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(Y,O,e){var M=e(14847).n8,k=e(14847).eG,a=e(14847).OF,_=e(71371),y=k("Exif\0\0");Y.exports=function(d){if(!(d.length<2)&&d[0]===255&&d[1]===216&&d[2]===255)for(var s=2;;){for(;;){if(d.length-s<2)return;if(d[s++]===255)break}for(var t,i,r=d[s++];r===255;)r=d[s++];if(208<=r&&r<=217||r===1)t=0;else{if(!(192<=r&&r<=254)||d.length-s<2)return;t=M(d,s)-2,s+=2}if(r===217||r===218)return;if(r===225&&t>=10&&a(d,s,y)&&(i=_.get_orientation(d.slice(s+6,s+t))),t>=5&&192<=r&&r<=207&&r!==196&&r!==200&&r!==204){if(d.length-s<t)return;var n={width:M(d,s+3),height:M(d,s+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return i>0&&(n.orientation=i),n}s+=t}}},6303:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,_=M(`PNG\r

`),y=M("IHDR");Y.exports=function(d){if(!(d.length<24)&&k(d,0,_)&&k(d,12,y))return{width:a(d,16),height:a(d,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).Ag,_=M("8BPS\0");Y.exports=function(y){if(!(y.length<22)&&k(y,0,_))return{width:a(y,18),height:a(y,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(Y){function O(s){return typeof s=="number"&&isFinite(s)&&s>0}var e=/<[-_.:a-zA-Z0-9][^>]*>/,M=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,k=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,a=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,_=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,y=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function d(s){return y.test(s)?s.match(y)[0]:"px"}Y.exports=function(s){if(function(h){var x,v=0,m=h.length;for(h[0]===239&&h[1]===187&&h[2]===191&&(v=3);v<m&&((x=h[v])===32||x===9||x===13||x===10);)v++;return v!==m&&h[v]===60}(s)){for(var t="",i=0;i<s.length;i++)t+=String.fromCharCode(s[i]);var r=(t.match(e)||[""])[0];if(M.test(r)){var n=function(h){var x=h.match(k),v=h.match(a),m=h.match(_);return{width:x&&(x[1]||x[2]),height:v&&(v[1]||v[2]),viewbox:m&&(m[1]||m[2])}}(r),l=parseFloat(n.width),o=parseFloat(n.height);if(n.width&&n.height)return!O(l)||!O(o)?void 0:{width:l,height:o,type:"svg",mime:"image/svg+xml",wUnits:d(n.width),hUnits:d(n.height)};var u=(n.viewbox||"").split(" "),p={width:u[2],height:u[3]},c=parseFloat(p.width),b=parseFloat(p.height);if(O(c)&&O(b)&&d(p.width)===d(p.height)){var g=c/b;return n.width?O(l)?{width:l,height:l/g,type:"svg",mime:"image/svg+xml",wUnits:d(n.width),hUnits:d(n.width)}:void 0:n.height?O(o)?{width:o*g,height:o,type:"svg",mime:"image/svg+xml",wUnits:d(n.height),hUnits:d(n.height)}:void 0:{width:c,height:b,type:"svg",mime:"image/svg+xml",wUnits:d(p.width),hUnits:d(p.height)}}}}}},66278:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=e(14847).n8,y=e(14847).nm,d=e(14847).Ag,s=M("II*\0"),t=M("MM\0*");function i(l,o,u){return u?_(l,o):a(l,o)}function r(l,o,u){return u?d(l,o):y(l,o)}function n(l,o,u){var p=i(l,o+2,u);return r(l,o+4,u)!==1||p!==3&&p!==4?null:p===3?i(l,o+8,u):r(l,o+8,u)}Y.exports=function(l){if(!(l.length<8)&&(k(l,0,s)||k(l,0,t))){var o=l[0]===77,u=r(l,4,o)-8;if(!(u<0)){var p=u+8;if(!(l.length-p<2)){var c=12*i(l,p+0,o);if(!(c<=0||(p+=2,l.length-p<c))){var b,g,h,x;for(b=0;b<c;b+=12)(x=i(l,p+b,o))===256?g=n(l,p+b,o):x===257&&(h=n(l,p+b,o));return g&&h?{width:g,height:h,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(Y,O,e){var M=e(14847).eG,k=e(14847).OF,a=e(14847).mP,_=e(14847).nm,y=e(71371),d=M("RIFF"),s=M("WEBP");function t(n,l){if(n[l+3]===157&&n[l+4]===1&&n[l+5]===42)return{width:16383&a(n,l+6),height:16383&a(n,l+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function i(n,l){if(n[l]===47){var o=_(n,l+1);return{width:1+(16383&o),height:1+(o>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function r(n,l){return{width:1+(n[l+6]<<16|n[l+5]<<8|n[l+4]),height:1+(n[l+9]<<l|n[l+8]<<8|n[l+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}Y.exports=function(n){if(!(n.length<16)&&(k(n,0,d)||k(n,8,s))){var l=12,o=null,u=0,p=_(n,4)+8;if(!(p>n.length)){for(;l+8<p;)if(n[l]!==0){var c=String.fromCharCode.apply(null,n.slice(l,l+4)),b=_(n,l+4);c==="VP8 "&&b>=10?o=o||t(n,l+8):c==="VP8L"&&b>=9?o=o||i(n,l+8):c==="VP8X"&&b>=10?o=o||r(n,l+8):c==="EXIF"&&(u=y.get_orientation(n.slice(l+8,l+8+b)),l=1/0),l+=8+b}else l++;if(o)return u>0&&(o.orientation=u),o}}}},91497:function(Y,O,e){Y.exports={avif:e(24461),bmp:e(2504),gif:e(47342),ico:e(31355),jpeg:e(54261),png:e(6303),psd:e(38689),svg:e(6881),tiff:e(66278),webp:e(90784)}},33575:function(Y,O,e){var M=e(91497);Y.exports=function(k){return function(a){for(var _=Object.keys(M),y=0;y<_.length;y++){var d=M[_[y]](a);if(d)return d}return null}(k)},Y.exports.parsers=M},90386:function(Y){var O,e,M=Y.exports={};function k(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function _(o){if(O===setTimeout)return setTimeout(o,0);if((O===k||!O)&&setTimeout)return O=setTimeout,setTimeout(o,0);try{return O(o,0)}catch{try{return O.call(null,o,0)}catch{return O.call(this,o,0)}}}(function(){try{O=typeof setTimeout=="function"?setTimeout:k}catch{O=k}try{e=typeof clearTimeout=="function"?clearTimeout:a}catch{e=a}})();var y,d=[],s=!1,t=-1;function i(){s&&y&&(s=!1,y.length?d=y.concat(d):t=-1,d.length&&r())}function r(){if(!s){var o=_(i);s=!0;for(var u=d.length;u;){for(y=d,d=[];++t<u;)y&&y[t].run();t=-1,u=d.length}y=null,s=!1,function(p){if(e===clearTimeout)return clearTimeout(p);if((e===a||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(p);try{return e(p)}catch{try{return e.call(null,p)}catch{return e.call(this,p)}}}(o)}}function n(o,u){this.fun=o,this.array=u}function l(){}M.nextTick=function(o){var u=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)u[p-1]=arguments[p];d.push(new n(o,u)),d.length!==1||s||_(r)},n.prototype.run=function(){this.fun.apply(null,this.array)},M.title="browser",M.browser=!0,M.env={},M.argv=[],M.version="",M.versions={},M.on=l,M.addListener=l,M.once=l,M.off=l,M.removeListener=l,M.removeAllListeners=l,M.emit=l,M.prependListener=l,M.prependOnceListener=l,M.listeners=function(o){return[]},M.binding=function(o){throw new Error("process.binding is not supported")},M.cwd=function(){return"/"},M.chdir=function(o){throw new Error("process.chdir is not supported")},M.umask=function(){return 0}},5877:function(Y,O,e){for(var M=e(9748),k=typeof window>"u"?e.g:window,a=["moz","webkit"],_="AnimationFrame",y=k["request"+_],d=k["cancel"+_]||k["cancelRequest"+_],s=0;!y&&s<a.length;s++)y=k[a[s]+"Request"+_],d=k[a[s]+"Cancel"+_]||k[a[s]+"CancelRequest"+_];if(!y||!d){var t=0,i=0,r=[];y=function(n){if(r.length===0){var l=M(),o=Math.max(0,16.666666666666668-(l-t));t=o+l,setTimeout(function(){var u=r.slice(0);r.length=0;for(var p=0;p<u.length;p++)if(!u[p].cancelled)try{u[p].callback(t)}catch(c){setTimeout(function(){throw c},0)}},Math.round(o))}return r.push({handle:++i,callback:n,cancelled:!1}),i},d=function(n){for(var l=0;l<r.length;l++)r[l].handle===n&&(r[l].cancelled=!0)}}Y.exports=function(n){return y.call(k,n)},Y.exports.cancel=function(){d.apply(k,arguments)},Y.exports.polyfill=function(n){n||(n=k),n.requestAnimationFrame=y,n.cancelAnimationFrame=d}},3593:function(Y,O,e){var M=e(21527),k=e(25075),a=e(93447),_=e(71299),y=e(56131),d=e(30120),s=e(57060),t=s.float32,i=s.fract32;Y.exports=function(n,l){if(typeof n=="function"?(l||(l={}),l.regl=n):l=n,l.length&&(l.positions=l),!(n=l.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");var o,u,p,c,b,g,h=n._gl,x={color:"black",capSize:5,lineWidth:1,opacity:1,viewport:null,range:null,offset:0,count:0,bounds:null,positions:[],errors:[]},v=[];return c=n.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array(0)}),u=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),p=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),b=n.buffer({usage:"dynamic",type:"float",data:new Uint8Array(0)}),g=n.buffer({usage:"static",type:"float",data:r}),S(l),o=n({vert:`
		precision highp float;

		attribute vec2 position, positionFract;
		attribute vec4 error;
		attribute vec4 color;

		attribute vec2 direction, lineOffset, capOffset;

		uniform vec4 viewport;
		uniform float lineWidth, capSize;
		uniform vec2 scale, scaleFract, translate, translateFract;

		varying vec4 fragColor;

		void main() {
			fragColor = color / 255.;

			vec2 pixelOffset = lineWidth * lineOffset + (capSize + lineWidth) * capOffset;

			vec2 dxy = -step(.5, direction.xy) * error.xz + step(direction.xy, vec2(-.5)) * error.yw;

			vec2 position = position + dxy;

			vec2 pos = (position + translate) * scale
				+ (positionFract + translateFract) * scale
				+ (position + translate) * scaleFract
				+ (positionFract + translateFract) * scaleFract;

			pos += pixelOffset / viewport.zw;

			gl_Position = vec4(pos * 2. - 1., 0, 1);
		}
		`,frag:`
		precision highp float;

		varying vec4 fragColor;

		uniform float opacity;

		void main() {
			gl_FragColor = fragColor;
			gl_FragColor.a *= opacity;
		}
		`,uniforms:{range:n.prop("range"),lineWidth:n.prop("lineWidth"),capSize:n.prop("capSize"),opacity:n.prop("opacity"),scale:n.prop("scale"),translate:n.prop("translate"),scaleFract:n.prop("scaleFract"),translateFract:n.prop("translateFract"),viewport:function(E,L){return[L.viewport.x,L.viewport.y,E.viewportWidth,E.viewportHeight]}},attributes:{color:{buffer:c,offset:function(E,L){return 4*L.offset},divisor:1},position:{buffer:u,offset:function(E,L){return 8*L.offset},divisor:1},positionFract:{buffer:p,offset:function(E,L){return 8*L.offset},divisor:1},error:{buffer:b,offset:function(E,L){return 16*L.offset},divisor:1},direction:{buffer:g,stride:24,offset:0},lineOffset:{buffer:g,stride:24,offset:8},capOffset:{buffer:g,stride:24,offset:16}},primitive:"triangles",blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:!1},scissor:{enable:!0,box:n.prop("viewport")},viewport:n.prop("viewport"),stencil:!1,instances:n.prop("count"),count:r.length}),y(m,{update:S,draw:w,destroy:T,regl:n,gl:h,canvas:h.canvas,groups:v}),m;function m(E){E?S(E):E===null&&T(),w()}function w(E){if(typeof E=="number")return f(E);E&&!Array.isArray(E)&&(E=[E]),n._refresh(),v.forEach(function(L,C){L&&(E&&(E[C]?L.draw=!0:L.draw=!1),L.draw?f(C):L.draw=!0)})}function f(E){typeof E=="number"&&(E=v[E]),E!=null&&E&&E.count&&E.color&&E.opacity&&E.positions&&E.positions.length>1&&(E.scaleRatio=[E.scale[0]*E.viewport.width,E.scale[1]*E.viewport.height],o(E),E.after&&E.after(E))}function S(E){if(E){E.length!=null?typeof E[0]=="number"&&(E=[{positions:E}]):Array.isArray(E)||(E=[E]);var L=0,C=0;if(m.groups=v=E.map(function(B,V){var q=v[V];return B&&(typeof B=="function"?B={after:B}:typeof B[0]=="number"&&(B={positions:B}),B=_(B,{color:"color colors fill",capSize:"capSize cap capsize cap-size",lineWidth:"lineWidth line-width width line thickness",opacity:"opacity alpha",range:"range dataBox",viewport:"viewport viewBox",errors:"errors error",positions:"positions position data points"}),q||(v[V]=q={id:V,scale:null,translate:null,scaleFract:null,translateFract:null,draw:!0},B=y({},x,B)),a(q,B,[{lineWidth:function(te){return .5*+te},capSize:function(te){return .5*+te},opacity:parseFloat,errors:function(te){return te=d(te),C+=te.length,te},positions:function(te,$){return te=d(te,"float64"),$.count=Math.floor(te.length/2),$.bounds=M(te,2),$.offset=L,L+=$.count,te}},{color:function(te,$){var K=$.count;if(te||(te="transparent"),!Array.isArray(te)||typeof te[0]=="number"){var Z=te;te=Array(K);for(var X=0;X<K;X++)te[X]=Z}if(te.length<K)throw Error("Not enough colors");for(var ee=new Uint8Array(4*K),ne=0;ne<K;ne++){var re=k(te[ne],"uint8");ee.set(re,4*ne)}return ee},range:function(te,$,K){var Z=$.bounds;return te||(te=Z),$.scale=[1/(te[2]-te[0]),1/(te[3]-te[1])],$.translate=[-te[0],-te[1]],$.scaleFract=i($.scale),$.translateFract=i($.translate),te},viewport:function(te){var $;return Array.isArray(te)?$={x:te[0],y:te[1],width:te[2]-te[0],height:te[3]-te[1]}:te?($={x:te.x||te.left||0,y:te.y||te.top||0},te.right?$.width=te.right-$.x:$.width=te.w||te.width||0,te.bottom?$.height=te.bottom-$.y:$.height=te.h||te.height||0):$={x:0,y:0,width:h.drawingBufferWidth,height:h.drawingBufferHeight},$}}])),q}),L||C){var P=v.reduce(function(B,V,q){return B+(V?V.count:0)},0),R=new Float64Array(2*P),G=new Uint8Array(4*P),I=new Float32Array(4*P);v.forEach(function(B,V){if(B){var q=B.positions,te=B.count,$=B.offset,K=B.color,Z=B.errors;te&&(G.set(K,4*$),I.set(Z,4*$),R.set(q,2*$))}});var H=t(R);u(H);var N=i(R,H);p(N),c(G),b(I)}}}function T(){u.destroy(),p.destroy(),c.destroy(),b.destroy(),g.destroy()}};var r=[[1,0,0,1,0,0],[1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,-1,0,0],[-1,0,0,1,0,0],[1,0,0,1,0,0],[1,0,-1,0,0,1],[1,0,-1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,-1],[1,0,1,0,0,1],[1,0,-1,0,0,1],[-1,0,-1,0,0,1],[-1,0,-1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,-1],[-1,0,1,0,0,1],[-1,0,-1,0,0,1],[0,1,1,0,0,0],[0,1,-1,0,0,0],[0,-1,-1,0,0,0],[0,-1,-1,0,0,0],[0,1,1,0,0,0],[0,-1,1,0,0,0],[0,1,0,-1,1,0],[0,1,0,-1,-1,0],[0,1,0,1,-1,0],[0,1,0,1,1,0],[0,1,0,-1,1,0],[0,1,0,1,-1,0],[0,-1,0,-1,1,0],[0,-1,0,-1,-1,0],[0,-1,0,1,-1,0],[0,-1,0,1,1,0],[0,-1,0,-1,1,0],[0,-1,0,1,-1,0]]},46075:function(Y,O,e){var M=e(25075),k=e(21527),a=e(56131),_=e(56068),y=e(71299),d=e(30120),s=e(11474),t=e(54),i=e(57060),r=i.float32,n=i.fract32,l=e(83522),o=e(18863),u=e(6851);function p(c,b){if(!(this instanceof p))return new p(c,b);if(typeof c=="function"?(b||(b={}),b.regl=c):b=c,b.length&&(b.positions=b),!(c=b.regl).hasExtension("ANGLE_instanced_arrays"))throw Error("regl-error2d: `ANGLE_instanced_arrays` extension should be enabled");this.gl=c._gl,this.regl=c,this.passes=[],this.shaders=p.shaders.has(c)?p.shaders.get(c):p.shaders.set(c,p.createShaders(c)).get(c),this.update(b)}Y.exports=p,p.dashMult=2,p.maxPatternLength=256,p.precisionThreshold=3e6,p.maxPoints=1e4,p.maxLines=2048,p.shaders=new l,p.createShaders=function(c){var b,g=c.buffer({usage:"static",type:"float",data:[0,1,0,0,1,1,1,0]}),h={primitive:"triangle strip",instances:c.prop("count"),count:4,offset:0,uniforms:{miterMode:function(v,m){return m.join==="round"?2:1},miterLimit:c.prop("miterLimit"),scale:c.prop("scale"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),thickness:c.prop("thickness"),dashTexture:c.prop("dashTexture"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),dashLength:c.prop("dashLength"),viewport:function(v,m){return[m.viewport.x,m.viewport.y,v.viewportWidth,v.viewportHeight]},depth:c.prop("depth")},blend:{enable:!0,color:[0,0,0,0],equation:{rgb:"add",alpha:"add"},func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},depth:{enable:function(v,m){return!m.overlay}},stencil:{enable:!1},scissor:{enable:!0,box:c.prop("viewport")},viewport:c.prop("viewport")},x=c(a({vert:_([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, aCoordFract, bCoordFract;
attribute vec4 color;
attribute float lineEnd, lineTop;

uniform vec2 scale, scaleFract, translate, translateFract;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;

varying vec4 fragColor;
varying vec2 tangent;

vec2 project(vec2 position, vec2 positionFract, vec2 scale, vec2 scaleFract, vec2 translate, vec2 translateFract) {
	// the order is important
	return position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;
}

void main() {
	float lineStart = 1. - lineEnd;
	float lineOffset = lineTop * 2. - 1.;

	vec2 diff = (bCoord + bCoordFract - aCoord - aCoordFract);
	tangent = normalize(diff * scale * viewport.zw);
	vec2 normal = vec2(-tangent.y, tangent.x);

	vec2 position = project(aCoord, aCoordFract, scale, scaleFract, translate, translateFract) * lineStart
		+ project(bCoord, bCoordFract, scale, scaleFract, translate, translateFract) * lineEnd

		+ thickness * normal * .5 * lineOffset / viewport.zw;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
}
`]),frag:_([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;

void main() {
	float alpha = 1.;

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},aCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8,divisor:1},bCoordFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:16,divisor:1},color:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1}}},h));try{b=c(a({cull:{enable:!0,face:"back"},vert:_([`precision highp float;
#define GLSLIFY 1

attribute vec2 aCoord, bCoord, nextCoord, prevCoord;
attribute vec4 aColor, bColor;
attribute float lineEnd, lineTop;

uniform vec2 scale, translate;
uniform float thickness, pixelRatio, id, depth;
uniform vec4 viewport;
uniform float miterLimit, miterMode;

varying vec4 fragColor;
varying vec4 startCutoff, endCutoff;
varying vec2 tangent;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

const float REVERSE_THRESHOLD = -.875;
const float MIN_DIFF = 1e-6;

// TODO: possible optimizations: avoid overcalculating all for vertices and calc just one instead
// TODO: precalculate dot products, normalize things beforehead etc.
// TODO: refactor to rectangular algorithm

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

bool isNaN( float val ){
  return ( val < 0.0 || 0.0 < val || val == 0.0 ) ? false : true;
}

void main() {
	vec2 aCoord = aCoord, bCoord = bCoord, prevCoord = prevCoord, nextCoord = nextCoord;

  vec2 adjustedScale;
  adjustedScale.x = (abs(scale.x) < MIN_DIFF) ? MIN_DIFF : scale.x;
  adjustedScale.y = (abs(scale.y) < MIN_DIFF) ? MIN_DIFF : scale.y;

  vec2 scaleRatio = adjustedScale * viewport.zw;
	vec2 normalWidth = thickness / scaleRatio;

	float lineStart = 1. - lineEnd;
	float lineBot = 1. - lineTop;

	fragColor = (lineStart * aColor + lineEnd * bColor) / 255.;

	if (isNaN(aCoord.x) || isNaN(aCoord.y) || isNaN(bCoord.x) || isNaN(bCoord.y)) return;

	if (aCoord == prevCoord) prevCoord = aCoord + normalize(bCoord - aCoord);
	if (bCoord == nextCoord) nextCoord = bCoord - normalize(bCoord - aCoord);

	vec2 prevDiff = aCoord - prevCoord;
	vec2 currDiff = bCoord - aCoord;
	vec2 nextDiff = nextCoord - bCoord;

	vec2 prevTangent = normalize(prevDiff * scaleRatio);
	vec2 currTangent = normalize(currDiff * scaleRatio);
	vec2 nextTangent = normalize(nextDiff * scaleRatio);

	vec2 prevNormal = vec2(-prevTangent.y, prevTangent.x);
	vec2 currNormal = vec2(-currTangent.y, currTangent.x);
	vec2 nextNormal = vec2(-nextTangent.y, nextTangent.x);

	vec2 startJoinDirection = normalize(prevTangent - currTangent);
	vec2 endJoinDirection = normalize(currTangent - nextTangent);

	// collapsed/unidirectional segment cases
	// FIXME: there should be more elegant solution
	vec2 prevTanDiff = abs(prevTangent - currTangent);
	vec2 nextTanDiff = abs(nextTangent - currTangent);
	if (max(prevTanDiff.x, prevTanDiff.y) < MIN_DIFF) {
		startJoinDirection = currNormal;
	}
	if (max(nextTanDiff.x, nextTanDiff.y) < MIN_DIFF) {
		endJoinDirection = currNormal;
	}
	if (aCoord == bCoord) {
		endJoinDirection = startJoinDirection;
		currNormal = prevNormal;
		currTangent = prevTangent;
	}

	tangent = currTangent;

	//calculate join shifts relative to normals
	float startJoinShift = dot(currNormal, startJoinDirection);
	float endJoinShift = dot(currNormal, endJoinDirection);

	float startMiterRatio = abs(1. / startJoinShift);
	float endMiterRatio = abs(1. / endJoinShift);

	vec2 startJoin = startJoinDirection * startMiterRatio;
	vec2 endJoin = endJoinDirection * endMiterRatio;

	vec2 startTopJoin, startBotJoin, endTopJoin, endBotJoin;
	startTopJoin = sign(startJoinShift) * startJoin * .5;
	startBotJoin = -startTopJoin;

	endTopJoin = sign(endJoinShift) * endJoin * .5;
	endBotJoin = -endTopJoin;

	vec2 aTopCoord = aCoord + normalWidth * startTopJoin;
	vec2 bTopCoord = bCoord + normalWidth * endTopJoin;
	vec2 aBotCoord = aCoord + normalWidth * startBotJoin;
	vec2 bBotCoord = bCoord + normalWidth * endBotJoin;

	//miter anti-clipping
	float baClipping = distToLine(bCoord, aCoord, aBotCoord) / dot(normalize(normalWidth * endBotJoin), normalize(normalWidth.yx * vec2(-startBotJoin.y, startBotJoin.x)));
	float abClipping = distToLine(aCoord, bCoord, bTopCoord) / dot(normalize(normalWidth * startBotJoin), normalize(normalWidth.yx * vec2(-endBotJoin.y, endBotJoin.x)));

	//prevent close to reverse direction switch
	bool prevReverse = dot(currTangent, prevTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, prevNormal)) * min(length(prevDiff), length(currDiff)) <  length(normalWidth * currNormal);
	bool nextReverse = dot(currTangent, nextTangent) <= REVERSE_THRESHOLD && abs(dot(currTangent, nextNormal)) * min(length(nextDiff), length(currDiff)) <  length(normalWidth * currNormal);

	if (prevReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * startJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / startMiterRatio, 1.);
		aBotCoord = aCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		aTopCoord = aCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!nextReverse && baClipping > 0. && baClipping < length(normalWidth * endBotJoin)) {
		//handle miter clipping
		bTopCoord -= normalWidth * endTopJoin;
		bTopCoord += normalize(endTopJoin * normalWidth) * baClipping;
	}

	if (nextReverse) {
		//make join rectangular
		vec2 miterShift = normalWidth * endJoinDirection * miterLimit * .5;
		float normalAdjust = 1. - min(miterLimit / endMiterRatio, 1.);
		bBotCoord = bCoord + miterShift - normalAdjust * normalWidth * currNormal * .5;
		bTopCoord = bCoord + miterShift + normalAdjust * normalWidth * currNormal * .5;
	}
	else if (!prevReverse && abClipping > 0. && abClipping < length(normalWidth * startBotJoin)) {
		//handle miter clipping
		aBotCoord -= normalWidth * startBotJoin;
		aBotCoord += normalize(startBotJoin * normalWidth) * abClipping;
	}

	vec2 aTopPosition = (aTopCoord) * adjustedScale + translate;
	vec2 aBotPosition = (aBotCoord) * adjustedScale + translate;

	vec2 bTopPosition = (bTopCoord) * adjustedScale + translate;
	vec2 bBotPosition = (bBotCoord) * adjustedScale + translate;

	//position is normalized 0..1 coord on the screen
	vec2 position = (aTopPosition * lineTop + aBotPosition * lineBot) * lineStart + (bTopPosition * lineTop + bBotPosition * lineBot) * lineEnd;

	startCoord = aCoord * scaleRatio + translate * viewport.zw + viewport.xy;
	endCoord = bCoord * scaleRatio + translate * viewport.zw + viewport.xy;

	gl_Position = vec4(position  * 2.0 - 1.0, depth, 1);

	enableStartMiter = step(dot(currTangent, prevTangent), .5);
	enableEndMiter = step(dot(currTangent, nextTangent), .5);

	//bevel miter cutoffs
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * miterLimit * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * miterLimit * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}

	//round miter cutoffs
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			vec2 startMiterWidth = vec2(startJoinDirection) * thickness * abs(dot(startJoinDirection, currNormal)) * .5;
			startCutoff = vec4(aCoord, aCoord);
			startCutoff.zw += vec2(-startJoinDirection.y, startJoinDirection.x) / scaleRatio;
			startCutoff = startCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			startCutoff += viewport.xyxy;
			startCutoff += startMiterWidth.xyxy;
		}

		if (enableEndMiter == 1.) {
			vec2 endMiterWidth = vec2(endJoinDirection) * thickness * abs(dot(endJoinDirection, currNormal)) * .5;
			endCutoff = vec4(bCoord, bCoord);
			endCutoff.zw += vec2(-endJoinDirection.y, endJoinDirection.x)  / scaleRatio;
			endCutoff = endCutoff * scaleRatio.xyxy + translate.xyxy * viewport.zwzw;
			endCutoff += viewport.xyxy;
			endCutoff += endMiterWidth.xyxy;
		}
	}
}
`]),frag:_([`precision highp float;
#define GLSLIFY 1

uniform float dashLength, pixelRatio, thickness, opacity, id, miterMode;
uniform sampler2D dashTexture;

varying vec4 fragColor;
varying vec2 tangent;
varying vec4 startCutoff, endCutoff;
varying vec2 startCoord, endCoord;
varying float enableStartMiter, enableEndMiter;

float distToLine(vec2 p, vec2 a, vec2 b) {
	vec2 diff = b - a;
	vec2 perp = normalize(vec2(-diff.y, diff.x));
	return dot(p - a, perp);
}

void main() {
	float alpha = 1., distToStart, distToEnd;
	float cutoff = thickness * .5;

	//bevel miter
	if (miterMode == 1.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToStart + 1., 0.), 1.);
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < -1.) {
				discard;
				return;
			}
			alpha *= min(max(distToEnd + 1., 0.), 1.);
		}
	}

	// round miter
	else if (miterMode == 2.) {
		if (enableStartMiter == 1.) {
			distToStart = distToLine(gl_FragCoord.xy, startCutoff.xy, startCutoff.zw);
			if (distToStart < 0.) {
				float radius = length(gl_FragCoord.xy - startCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}

		if (enableEndMiter == 1.) {
			distToEnd = distToLine(gl_FragCoord.xy, endCutoff.xy, endCutoff.zw);
			if (distToEnd < 0.) {
				float radius = length(gl_FragCoord.xy - endCoord);

				if(radius > cutoff + .5) {
					discard;
					return;
				}

				alpha -= smoothstep(cutoff - .5, cutoff + .5, radius);
			}
		}
	}

	float t = fract(dot(tangent, gl_FragCoord.xy) / dashLength) * .5 + .25;
	float dash = texture2D(dashTexture, vec2(t, .5)).r;

	gl_FragColor = fragColor;
	gl_FragColor.a *= alpha * opacity * dash;
}
`]),attributes:{lineEnd:{buffer:g,divisor:0,stride:8,offset:0},lineTop:{buffer:g,divisor:0,stride:8,offset:4},aColor:{buffer:c.prop("colorBuffer"),stride:4,offset:0,divisor:1},bColor:{buffer:c.prop("colorBuffer"),stride:4,offset:4,divisor:1},prevCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:0,divisor:1},aCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:8,divisor:1},bCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:16,divisor:1},nextCoord:{buffer:c.prop("positionBuffer"),stride:8,offset:24,divisor:1}}},h))}catch{b=x}return{fill:c({primitive:"triangle",elements:function(v,m){return m.triangles},offset:0,vert:_([`precision highp float;
#define GLSLIFY 1

attribute vec2 position, positionFract;

uniform vec4 color;
uniform vec2 scale, scaleFract, translate, translateFract;
uniform float pixelRatio, id;
uniform vec4 viewport;
uniform float opacity;

varying vec4 fragColor;

const float MAX_LINES = 256.;

void main() {
	float depth = (MAX_LINES - 4. - id) / (MAX_LINES);

	vec2 position = position * scale + translate
       + positionFract * scale + translateFract
       + position * scaleFract
       + positionFract * scaleFract;

	gl_Position = vec4(position * 2.0 - 1.0, depth, 1);

	fragColor = color / 255.;
	fragColor.a *= opacity;
}
`]),frag:_([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor;

void main() {
	gl_FragColor = fragColor;
}
`]),uniforms:{scale:c.prop("scale"),color:c.prop("fill"),scaleFract:c.prop("scaleFract"),translateFract:c.prop("translateFract"),translate:c.prop("translate"),opacity:c.prop("opacity"),pixelRatio:c.context("pixelRatio"),id:c.prop("id"),viewport:function(v,m){return[m.viewport.x,m.viewport.y,v.viewportWidth,v.viewportHeight]}},attributes:{position:{buffer:c.prop("positionBuffer"),stride:8,offset:8},positionFract:{buffer:c.prop("positionFractBuffer"),stride:8,offset:8}},blend:h.blend,depth:{enable:!1},scissor:h.scissor,stencil:h.stencil,viewport:h.viewport}),rect:x,miter:b}},p.defaults={dashes:null,join:"miter",miterLimit:1,thickness:10,cap:"square",color:"black",opacity:1,overlay:!1,viewport:null,range:null,close:!1,fill:null},p.prototype.render=function(){for(var c,b=[],g=arguments.length;g--;)b[g]=arguments[g];b.length&&(c=this).update.apply(c,b),this.draw()},p.prototype.draw=function(){for(var c=this,b=[],g=arguments.length;g--;)b[g]=arguments[g];return(b.length?b:this.passes).forEach(function(h,x){var v;if(h&&Array.isArray(h))return(v=c).draw.apply(v,h);typeof h=="number"&&(h=c.passes[h]),h&&h.count>1&&h.opacity&&(c.regl._refresh(),h.fill&&h.triangles&&h.triangles.length>2&&c.shaders.fill(h),h.thickness&&(h.scale[0]*h.viewport.width>p.precisionThreshold||h.scale[1]*h.viewport.height>p.precisionThreshold||h.join==="rect"||!h.join&&(h.thickness<=2||h.count>=p.maxPoints)?c.shaders.rect(h):c.shaders.miter(h)))}),this},p.prototype.update=function(c){var b=this;if(c){c.length!=null?typeof c[0]=="number"&&(c=[{positions:c}]):Array.isArray(c)||(c=[c]);var g=this.regl,h=this.gl;if(c.forEach(function(f,S){var T=b.passes[S];if(f!==void 0)if(f!==null){if(typeof f[0]=="number"&&(f={positions:f}),f=y(f,{positions:"positions points data coords",thickness:"thickness lineWidth lineWidths line-width linewidth width stroke-width strokewidth strokeWidth",join:"lineJoin linejoin join type mode",miterLimit:"miterlimit miterLimit",dashes:"dash dashes dasharray dash-array dashArray",color:"color colour stroke colors colours stroke-color strokeColor",fill:"fill fill-color fillColor",opacity:"alpha opacity",overlay:"overlay crease overlap intersect",close:"closed close closed-path closePath",range:"range dataBox",viewport:"viewport viewBox",hole:"holes hole hollow",splitNull:"splitNull"}),T||(b.passes[S]=T={id:S,scale:null,scaleFract:null,translate:null,translateFract:null,count:0,hole:[],depth:0,dashLength:1,dashTexture:g.texture({channels:1,data:new Uint8Array([255]),width:1,height:1,mag:"linear",min:"linear"}),colorBuffer:g.buffer({usage:"dynamic",type:"uint8",data:new Uint8Array}),positionBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),positionFractBuffer:g.buffer({usage:"dynamic",type:"float",data:new Uint8Array})},f=a({},p.defaults,f)),f.thickness!=null&&(T.thickness=parseFloat(f.thickness)),f.opacity!=null&&(T.opacity=parseFloat(f.opacity)),f.miterLimit!=null&&(T.miterLimit=parseFloat(f.miterLimit)),f.overlay!=null&&(T.overlay=!!f.overlay,S<p.maxLines&&(T.depth=2*(p.maxLines-1-S%p.maxLines)/p.maxLines-1)),f.join!=null&&(T.join=f.join),f.hole!=null&&(T.hole=f.hole),f.fill!=null&&(T.fill=f.fill?M(f.fill,"uint8"):null),f.viewport!=null&&(T.viewport=o(f.viewport)),T.viewport||(T.viewport=o([h.drawingBufferWidth,h.drawingBufferHeight])),f.close!=null&&(T.close=f.close),f.positions===null&&(f.positions=[]),f.positions){var E,L;if(f.positions.x&&f.positions.y){var C=f.positions.x,P=f.positions.y;L=T.count=Math.max(C.length,P.length),E=new Float64Array(2*L);for(var R=0;R<L;R++)E[2*R]=C[R],E[2*R+1]=P[R]}else E=d(f.positions,"float64"),L=T.count=Math.floor(E.length/2);var G=T.bounds=k(E,2);if(T.fill){for(var I=[],H={},N=0,B=0,V=0,q=T.count;B<q;B++){var te=E[2*B],$=E[2*B+1];isNaN(te)||isNaN($)||te==null||$==null?(te=E[2*N],$=E[2*N+1],H[B]=N):N=B,I[V++]=te,I[V++]=$}if(f.splitNull){T.count-1 in H||(H[T.count]=T.count-1);var K=Object.keys(H).map(Number).sort(function(wt,lt){return wt-lt}),Z=[],X=0,ee=T.hole!=null?T.hole[0]:null;if(ee!=null){var ne=u(K,function(wt){return wt>=ee});(K=K.slice(0,ne)).push(ee)}for(var re=function(wt){var lt=I.slice(2*X,2*K[wt]).concat(ee?I.slice(2*ee):[]),ut=(T.hole||[]).map(function(Ot){return Ot-ee+(K[wt]-X)}),Et=s(lt,ut);Et=Et.map(function(Ot){return Ot+X+(Ot+X<K[wt]?0:ee-K[wt])}),Z.push.apply(Z,Et),X=K[wt]+1},ae=0;ae<K.length;ae++)re(ae);for(var ue=0,pe=Z.length;ue<pe;ue++)H[Z[ue]]!=null&&(Z[ue]=H[Z[ue]]);T.triangles=Z}else{for(var ge=s(I,T.hole||[]),we=0,me=ge.length;we<me;we++)H[ge[we]]!=null&&(ge[we]=H[ge[we]]);T.triangles=ge}}var ve=new Float64Array(E);t(ve,2,G);var Ie=new Float64Array(2*L+6);T.close?E[0]===E[2*L-2]&&E[1]===E[2*L-1]?(Ie[0]=ve[2*L-4],Ie[1]=ve[2*L-3]):(Ie[0]=ve[2*L-2],Ie[1]=ve[2*L-1]):(Ie[0]=ve[0],Ie[1]=ve[1]),Ie.set(ve,2),T.close?E[0]===E[2*L-2]&&E[1]===E[2*L-1]?(Ie[2*L+2]=ve[2],Ie[2*L+3]=ve[3],T.count-=1):(Ie[2*L+2]=ve[0],Ie[2*L+3]=ve[1],Ie[2*L+4]=ve[2],Ie[2*L+5]=ve[3]):(Ie[2*L+2]=ve[2*L-2],Ie[2*L+3]=ve[2*L-1],Ie[2*L+4]=ve[2*L-2],Ie[2*L+5]=ve[2*L-1]);var Se=r(Ie);T.positionBuffer(Se);var ke=n(Ie,Se);T.positionFractBuffer(ke)}if(f.range?T.range=f.range:T.range||(T.range=T.bounds),(f.range||f.positions)&&T.count){var se=T.bounds,oe=se[2]-se[0],he=se[3]-se[1],Le=T.range[2]-T.range[0],Me=T.range[3]-T.range[1];T.scale=[oe/Le,he/Me],T.translate=[-T.range[0]/Le+se[0]/Le||0,-T.range[1]/Me+se[1]/Me||0],T.scaleFract=n(T.scale),T.translateFract=n(T.translate)}if(f.dashes){var _e,De=0;if(!f.dashes||f.dashes.length<2)De=1,_e=new Uint8Array([255,255,255,255,255,255,255,255]);else{De=0;for(var Ne=0;Ne<f.dashes.length;++Ne)De+=f.dashes[Ne];_e=new Uint8Array(De*p.dashMult);for(var ce=0,Te=255,ye=0;ye<2;ye++)for(var Oe=0;Oe<f.dashes.length;++Oe){for(var Be=0,Fe=f.dashes[Oe]*p.dashMult*.5;Be<Fe;++Be)_e[ce++]=Te;Te^=255}}T.dashLength=De,T.dashTexture({channels:1,data:_e,width:_e.length,height:1,mag:"linear",min:"linear"},0,0)}if(f.color){var Ge=T.count,Ze=f.color;Ze||(Ze="transparent");var et=new Uint8Array(4*Ge+4);if(Array.isArray(Ze)&&typeof Ze[0]!="number"){for(var ft=0;ft<Ge;ft++){var rt=M(Ze[ft],"uint8");et.set(rt,4*ft)}et.set(M(Ze[0],"uint8"),4*Ge)}else for(var _t=M(Ze,"uint8"),kt=0;kt<Ge+1;kt++)et.set(_t,4*kt);T.colorBuffer({usage:"dynamic",type:"uint8",data:et})}}else b.passes[S]=null}),c.length<this.passes.length){for(var x=c.length;x<this.passes.length;x++){var v=this.passes[x];v&&(v.colorBuffer.destroy(),v.positionBuffer.destroy(),v.dashTexture.destroy())}this.passes.length=c.length}for(var m=[],w=0;w<this.passes.length;w++)this.passes[w]!==null&&m.push(this.passes[w]);return this.passes=m,this}},p.prototype.destroy=function(){return this.passes.forEach(function(c){c.colorBuffer.destroy(),c.positionBuffer.destroy(),c.dashTexture.destroy()}),this.passes.length=0,this}},11870:function(Y,O,e){function M(h,x){return function(v){if(Array.isArray(v))return v}(h)||function(v,m){var w=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(w!=null){var f,S,T,E,L=[],C=!0,P=!1;try{if(T=(w=w.call(v)).next,m===0){if(Object(w)!==w)return;C=!1}else for(;!(C=(f=T.call(w)).done)&&(L.push(f.value),L.length!==m);C=!0);}catch(R){P=!0,S=R}finally{try{if(!C&&w.return!=null&&(E=w.return(),Object(E)!==E))return}finally{if(P)throw S}}return L}}(h,x)||k(h,x)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(h,x){if(h){if(typeof h=="string")return a(h,x);var v=Object.prototype.toString.call(h).slice(8,-1);return v==="Object"&&h.constructor&&(v=h.constructor.name),v==="Map"||v==="Set"?Array.from(h):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?a(h,x):void 0}}function a(h,x){(x==null||x>h.length)&&(x=h.length);for(var v=0,m=new Array(x);v<x;v++)m[v]=h[v];return m}var _=e(25075),y=e(21527),d=e(6475),s=e(88294),t=e(56131),i=e(56068),r=e(71299),n=e(93447),l=e(30120),o=e(62683),u=e(57060),p=e(18863),c=b;function b(h,x){var v=this;if(!(this instanceof b))return new b(h,x);typeof h=="function"?(x||(x={}),x.regl=h):(x=h,h=null),x&&x.length&&(x.positions=x);var m,w=(h=x.regl)._gl,f=[];this.tooManyColors=o,m=h.texture({data:new Uint8Array(1020),width:255,height:1,type:"uint8",format:"rgba",wrapS:"clamp",wrapT:"clamp",mag:"nearest",min:"nearest"}),t(this,{regl:h,gl:w,groups:[],markerCache:[null],markerTextures:[null],palette:f,paletteIds:{},paletteTexture:m,maxColors:255,maxSize:100,canvas:w.canvas}),this.update(x);var S={uniforms:{constPointSize:!!x.constPointSize,opacity:h.prop("opacity"),paletteSize:function(L,C){return[v.tooManyColors?0:255,m.height]},pixelRatio:h.context("pixelRatio"),scale:h.prop("scale"),scaleFract:h.prop("scaleFract"),translate:h.prop("translate"),translateFract:h.prop("translateFract"),markerTexture:h.prop("markerTexture"),paletteTexture:m},attributes:{x:function(L,C){return C.xAttr||{buffer:C.positionBuffer,stride:8,offset:0}},y:function(L,C){return C.yAttr||{buffer:C.positionBuffer,stride:8,offset:4}},xFract:function(L,C){return C.xAttr?{constant:[0,0]}:{buffer:C.positionFractBuffer,stride:8,offset:0}},yFract:function(L,C){return C.yAttr?{constant:[0,0]}:{buffer:C.positionFractBuffer,stride:8,offset:4}},size:function(L,C){return C.size.length?{buffer:C.sizeBuffer,stride:2,offset:0}:{constant:[Math.round(255*C.size/v.maxSize)]}},borderSize:function(L,C){return C.borderSize.length?{buffer:C.sizeBuffer,stride:2,offset:1}:{constant:[Math.round(255*C.borderSize/v.maxSize)]}},colorId:function(L,C){return C.color.length?{buffer:C.colorBuffer,stride:v.tooManyColors?8:4,offset:0}:{constant:v.tooManyColors?f.slice(4*C.color,4*C.color+4):[C.color]}},borderColorId:function(L,C){return C.borderColor.length?{buffer:C.colorBuffer,stride:v.tooManyColors?8:4,offset:v.tooManyColors?4:2}:{constant:v.tooManyColors?f.slice(4*C.borderColor,4*C.borderColor+4):[C.borderColor]}},isActive:function(L,C){return C.activation===!0?{constant:[1]}:C.activation?C.activation:{constant:[0]}}},blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:"src alpha",dstRGB:"one minus src alpha",srcAlpha:"one minus dst alpha",dstAlpha:"one"}},scissor:{enable:!0,box:h.prop("viewport")},viewport:h.prop("viewport"),stencil:{enable:!1},depth:{enable:!1},elements:h.prop("elements"),count:h.prop("count"),offset:h.prop("offset"),primitive:"points"},T=t({},S);T.frag=i([`precision highp float;
#define GLSLIFY 1

uniform float opacity;
uniform sampler2D markerTexture;

varying vec4 fragColor, fragBorderColor;
varying float fragWidth, fragBorderColorLevel, fragColorLevel;

float smoothStep(float x, float y) {
  return 1.0 / (1.0 + exp(50.0*(x - y)));
}

void main() {
  float dist = texture2D(markerTexture, gl_PointCoord).r, delta = fragWidth;

  // max-distance alpha
  if (dist < 0.003) discard;

  // null-border case
  if (fragBorderColorLevel == fragColorLevel || fragBorderColor.a == 0.) {
    float colorAmt = smoothstep(.5 - delta, .5 + delta, dist);
    gl_FragColor = vec4(fragColor.rgb, colorAmt * fragColor.a * opacity);
  }
  else {
    float borderColorAmt = smoothstep(fragBorderColorLevel - delta, fragBorderColorLevel + delta, dist);
    float colorAmt = smoothstep(fragColorLevel - delta, fragColorLevel + delta, dist);

    vec4 color = fragBorderColor;
    color.a *= borderColorAmt;
    color = mix(color, fragColor, colorAmt);
    color.a *= opacity;

    gl_FragColor = color;
  }

}
`]),T.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 scale, scaleFract, translate, translateFract, paletteSize;
uniform sampler2D paletteTexture;

const float maxSize = 100.;
const float borderLevel = .5;

varying vec4 fragColor, fragBorderColor;
varying float fragPointSize, fragBorderRadius, fragWidth, fragBorderColorLevel, fragColorLevel;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = 2. * size * pointSizeScale;
  fragPointSize = size * pixelRatio;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragColor = color;
  fragBorderColor = borderColor;
  fragWidth = 1. / gl_PointSize;

  fragBorderColorLevel = clamp(borderLevel - borderLevel * borderSize / size, 0., 1.);
  fragColorLevel = clamp(borderLevel + (1. - borderLevel) * borderSize / size, 0., 1.);
}`]),this.drawMarker=h(T);var E=t({},S);E.frag=i([`precision highp float;
#define GLSLIFY 1

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

uniform float opacity;

float smoothStep(float edge0, float edge1, float x) {
	float t;
	t = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);
	return t * t * (3.0 - 2.0 * t);
}

void main() {
	float radius, alpha = 1.0, delta = fragWidth;

	radius = length(2.0 * gl_PointCoord.xy - 1.0);

	if (radius > 1.0 + delta) {
		discard;
	}

	alpha -= smoothstep(1.0 - delta, 1.0 + delta, radius);

	float borderRadius = fragBorderRadius;
	float ratio = smoothstep(borderRadius - delta, borderRadius + delta, radius);
	vec4 color = mix(fragColor, fragBorderColor, ratio);
	color.a *= alpha * opacity;
	gl_FragColor = color;
}
`]),E.vert=i([`precision highp float;
#define GLSLIFY 1

attribute float x, y, xFract, yFract;
attribute float size, borderSize;
attribute vec4 colorId, borderColorId;
attribute float isActive;

uniform bool constPointSize;
uniform float pixelRatio;
uniform vec2 paletteSize, scale, scaleFract, translate, translateFract;
uniform sampler2D paletteTexture;

const float maxSize = 100.;

varying vec4 fragColor, fragBorderColor;
varying float fragBorderRadius, fragWidth;

float pointSizeScale = (constPointSize) ? 2. : pixelRatio;

bool isDirect = (paletteSize.x < 1.);

vec4 getColor(vec4 id) {
  return isDirect ? id / 255. : texture2D(paletteTexture,
    vec2(
      (id.x + .5) / paletteSize.x,
      (id.y + .5) / paletteSize.y
    )
  );
}

void main() {
  // ignore inactive points
  if (isActive == 0.) return;

  vec2 position = vec2(x, y);
  vec2 positionFract = vec2(xFract, yFract);

  vec4 color = getColor(colorId);
  vec4 borderColor = getColor(borderColorId);

  float size = size * maxSize / 255.;
  float borderSize = borderSize * maxSize / 255.;

  gl_PointSize = (size + borderSize) * pointSizeScale;

  vec2 pos = (position + translate) * scale
      + (positionFract + translateFract) * scale
      + (position + translate) * scaleFract
      + (positionFract + translateFract) * scaleFract;

  gl_Position = vec4(pos * 2. - 1., 0., 1.);

  fragBorderRadius = 1. - 2. * borderSize / (size + borderSize);
  fragColor = color;
  fragBorderColor = borderColor.a == 0. || borderSize == 0. ? vec4(color.rgb, 0.) : borderColor;
  fragWidth = 1. / gl_PointSize;
}
`]),o&&(E.frag=E.frag.replace("smoothstep","smoothStep"),T.frag=T.frag.replace("smoothstep","smoothStep")),this.drawCircle=h(E)}b.defaults={color:"black",borderColor:"transparent",borderSize:0,size:12,opacity:1,marker:void 0,viewport:null,range:null,pixelSize:null,count:0,offset:0,bounds:null,positions:[],snap:1e4},b.prototype.render=function(){return arguments.length&&this.update.apply(this,arguments),this.draw(),this},b.prototype.draw=function(){for(var h=this,x=arguments.length,v=new Array(x),m=0;m<x;m++)v[m]=arguments[m];var w=this.groups;if(v.length===1&&Array.isArray(v[0])&&(v[0][0]===null||Array.isArray(v[0][0]))&&(v=v[0]),this.regl._refresh(),v.length)for(var f=0;f<v.length;f++)this.drawItem(f,v[f]);else w.forEach(function(S,T){h.drawItem(T)});return this},b.prototype.drawItem=function(h,x){var v,m=this.groups,w=m[h];if(typeof x=="number"&&(h=x,w=m[x],x=null),w&&w.count&&w.opacity){w.activation[0]&&this.drawCircle(this.getMarkerDrawOptions(0,w,x));for(var f=[],S=1;S<w.activation.length;S++)w.activation[S]&&(w.activation[S]===!0||w.activation[S].data.length)&&f.push.apply(f,function(T){if(Array.isArray(T))return a(T)}(v=this.getMarkerDrawOptions(S,w,x))||function(T){if(typeof Symbol<"u"&&T[Symbol.iterator]!=null||T["@@iterator"]!=null)return Array.from(T)}(v)||k(v)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}());f.length&&this.drawMarker(f)}},b.prototype.getMarkerDrawOptions=function(h,x,v){var m=x.range,w=x.tree,f=x.viewport,S=x.activation,T=x.selectionBuffer,E=x.count;if(this.regl,!w)return v?[t({},x,{markerTexture:this.markerTextures[h],activation:S[h],count:v.length,elements:v,offset:0})]:[t({},x,{markerTexture:this.markerTextures[h],activation:S[h],offset:0})];var L=[],C=w.range(m,{lod:!0,px:[(m[2]-m[0])/f.width,(m[3]-m[1])/f.height]});if(v){for(var P=S[h].data,R=new Uint8Array(E),G=0;G<v.length;G++){var I=v[G];R[I]=P?P[I]:1}T.subdata(R)}for(var H=C.length;H--;){var N=M(C[H],2),B=N[0],V=N[1];L.push(t({},x,{markerTexture:this.markerTextures[h],activation:v?T:S[h],offset:B,count:V-B}))}return L},b.prototype.update=function(){for(var h=this,x=arguments.length,v=new Array(x),m=0;m<x;m++)v[m]=arguments[m];if(v.length){v.length===1&&Array.isArray(v[0])&&(v=v[0]);var w=this.groups,f=this.gl,S=this.regl,T=this.maxSize,E=this.maxColors,L=this.palette;this.groups=w=v.map(function(C,P){var R=w[P];if(C===void 0)return R;C===null?C={positions:null}:typeof C=="function"?C={ondraw:C}:typeof C[0]=="number"&&(C={positions:C}),(C=r(C,{positions:"positions data points",snap:"snap cluster lod tree",size:"sizes size radius",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",color:"colors color fill fill-color fillColor",borderColor:"borderColors borderColor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range dataBox databox",viewport:"viewport viewPort viewBox viewbox",opacity:"opacity alpha transparency",bounds:"bound bounds boundaries limits",tooManyColors:"tooManyColors palette paletteMode optimizePalette enablePalette"})).positions===null&&(C.positions=[]),C.tooManyColors!=null&&(h.tooManyColors=C.tooManyColors),R||(w[P]=R={id:P,scale:null,translate:null,scaleFract:null,translateFract:null,activation:[],selectionBuffer:S.buffer({data:new Uint8Array(0),usage:"stream",type:"uint8"}),sizeBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),colorBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"uint8"}),positionBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"}),positionFractBuffer:S.buffer({data:new Uint8Array(0),usage:"dynamic",type:"float"})},C=t({},b.defaults,C)),C.positions&&!("marker"in C)&&(C.marker=R.marker,delete R.marker),C.marker&&!("positions"in C)&&(C.positions=R.positions,delete R.positions);var G=0,I=0;if(n(R,C,[{snap:!0,size:function(we,me){return we==null&&(we=b.defaults.size),G+=we&&we.length?1:0,we},borderSize:function(we,me){return we==null&&(we=b.defaults.borderSize),G+=we&&we.length?1:0,we},opacity:parseFloat,color:function(we,me){return we==null&&(we=b.defaults.color),we=h.updateColor(we),I++,we},borderColor:function(we,me){return we==null&&(we=b.defaults.borderColor),we=h.updateColor(we),I++,we},bounds:function(we,me,ve){return"range"in ve||(ve.range=null),we},positions:function(we,me,ve){var Ie=me.snap,Se=me.positionBuffer,ke=me.positionFractBuffer,se=me.selectionBuffer;if(we.x||we.y)return we.x.length?me.xAttr={buffer:S.buffer(we.x),offset:0,stride:4,count:we.x.length}:me.xAttr={buffer:we.x.buffer,offset:4*we.x.offset||0,stride:4*(we.x.stride||1),count:we.x.count},we.y.length?me.yAttr={buffer:S.buffer(we.y),offset:0,stride:4,count:we.y.length}:me.yAttr={buffer:we.y.buffer,offset:4*we.y.offset||0,stride:4*(we.y.stride||1),count:we.y.count},me.count=Math.max(me.xAttr.count,me.yAttr.count),we;we=l(we,"float64");var oe=me.count=Math.floor(we.length/2),he=me.bounds=oe?y(we,2):null;if(ve.range||me.range||(delete me.range,ve.range=he),ve.marker||me.marker||(delete me.marker,ve.marker=null),Ie&&(Ie===!0||oe>Ie)?me.tree=s(we,{bounds:he}):Ie&&Ie.length&&(me.tree=Ie),me.tree){var Le={primitive:"points",usage:"static",data:me.tree,type:"uint32"};me.elements?me.elements(Le):me.elements=S.elements(Le)}var Me=u.float32(we);return Se({data:Me,usage:"dynamic"}),ke({data:u.fract32(we,Me),usage:"dynamic"}),se({data:new Uint8Array(oe),type:"uint8",usage:"stream"}),we}},{marker:function(we,me,ve){var Ie=me.activation;if(Ie.forEach(function(Me){return Me&&Me.destroy&&Me.destroy()}),Ie.length=0,we&&typeof we[0]!="number"){for(var Se=[],ke=0,se=Math.min(we.length,me.count);ke<se;ke++){var oe=h.addMarker(we[ke]);Se[oe]||(Se[oe]=new Uint8Array(me.count)),Se[oe][ke]=1}for(var he=0;he<Se.length;he++)if(Se[he]){var Le={data:Se[he],type:"uint8",usage:"static"};Ie[he]?Ie[he](Le):Ie[he]=S.buffer(Le),Ie[he].data=Se[he]}}else Ie[h.addMarker(we)]=!0;return we},range:function(we,me,ve){var Ie=me.bounds;if(Ie)return we||(we=Ie),me.scale=[1/(we[2]-we[0]),1/(we[3]-we[1])],me.translate=[-we[0],-we[1]],me.scaleFract=u.fract(me.scale),me.translateFract=u.fract(me.translate),we},viewport:function(we){return p(we||[f.drawingBufferWidth,f.drawingBufferHeight])}}]),G){var H=R,N=H.count,B=H.size,V=H.borderSize,q=H.sizeBuffer,te=new Uint8Array(2*N);if(B.length||V.length)for(var $=0;$<N;$++)te[2*$]=Math.round(255*(B[$]==null?B:B[$])/T),te[2*$+1]=Math.round(255*(V[$]==null?V:V[$])/T);q({data:te,usage:"dynamic"})}if(I){var K,Z=R,X=Z.count,ee=Z.color,ne=Z.borderColor,re=Z.colorBuffer;if(h.tooManyColors){if(ee.length||ne.length){K=new Uint8Array(8*X);for(var ae=0;ae<X;ae++){var ue=ee[ae];K[8*ae]=L[4*ue],K[8*ae+1]=L[4*ue+1],K[8*ae+2]=L[4*ue+2],K[8*ae+3]=L[4*ue+3];var pe=ne[ae];K[8*ae+4]=L[4*pe],K[8*ae+5]=L[4*pe+1],K[8*ae+6]=L[4*pe+2],K[8*ae+7]=L[4*pe+3]}}}else if(ee.length||ne.length){K=new Uint8Array(4*X+2);for(var ge=0;ge<X;ge++)ee[ge]!=null&&(K[4*ge]=ee[ge]%E,K[4*ge+1]=Math.floor(ee[ge]/E)),ne[ge]!=null&&(K[4*ge+2]=ne[ge]%E,K[4*ge+3]=Math.floor(ne[ge]/E))}re({data:K||new Uint8Array(0),type:"uint8",usage:"dynamic"})}return R})}},b.prototype.addMarker=function(h){var x,v=this.markerTextures,m=this.regl,w=this.markerCache,f=h==null?0:w.indexOf(h);if(f>=0)return f;if(h instanceof Uint8Array||h instanceof Uint8ClampedArray)x=h;else{x=new Uint8Array(h.length);for(var S=0,T=h.length;S<T;S++)x[S]=255*h[S]}var E=Math.floor(Math.sqrt(x.length));return f=v.length,w.push(h),v.push(m.texture({channels:1,data:x,radius:E,mag:"linear",min:"linear"})),f},b.prototype.updateColor=function(h){var x=this.paletteIds,v=this.palette,m=this.maxColors;Array.isArray(h)||(h=[h]);var w=[];if(typeof h[0]=="number"){var f=[];if(Array.isArray(h))for(var S=0;S<h.length;S+=4)f.push(h.slice(S,S+4));else for(var T=0;T<h.length;T+=4)f.push(h.subarray(T,T+4));h=f}for(var E=0;E<h.length;E++){var L=h[E];L=_(L,"uint8");var C=d(L,!1);if(x[C]==null){var P=v.length;x[C]=Math.floor(P/4),v[P]=L[0],v[P+1]=L[1],v[P+2]=L[2],v[P+3]=L[3]}w[E]=x[C]}return!this.tooManyColors&&v.length>4*m&&(this.tooManyColors=!0),this.updatePalette(v),w.length===1?w[0]:w},b.prototype.updatePalette=function(h){if(!this.tooManyColors){var x=this.maxColors,v=this.paletteTexture,m=Math.ceil(.25*h.length/x);if(m>1)for(var w=.25*(h=h.slice()).length%x;w<m*x;w++)h.push(0,0,0,0);v.height<m&&v.resize(x,m),v.subimage({width:Math.min(.25*h.length,x),height:m,data:h},0,0)}},b.prototype.destroy=function(){return this.groups.forEach(function(h){h.sizeBuffer.destroy(),h.positionBuffer.destroy(),h.positionFractBuffer.destroy(),h.colorBuffer.destroy(),h.activation.forEach(function(x){return x&&x.destroy&&x.destroy()}),h.selectionBuffer.destroy(),h.elements&&h.elements.destroy()}),this.groups.length=0,this.paletteTexture.destroy(),this.markerTextures.forEach(function(h){return h&&h.destroy&&h.destroy()}),this};var g=e(56131);Y.exports=function(h,x){var v=new c(h,x),m=v.render.bind(v);return g(m,{render:m,update:v.update.bind(v),draw:v.draw.bind(v),destroy:v.destroy.bind(v),regl:v.regl,gl:v.gl,canvas:v.gl.canvas,groups:v.groups,markers:v.markerCache,palette:v.palette}),m}},60487:function(Y,O,e){var M=e(11870),k=e(71299),a=e(21527),_=e(5877),y=e(57471),d=e(18863),s=e(30120);function t(l,o){if(!(this instanceof t))return new t(l);this.traces=[],this.passes={},this.regl=l,this.scatter=M(l),this.canvas=this.scatter.canvas}function i(l,o,u){return(l.id!=null?l.id:l)<<16|(255&o)<<8|255&u}function r(l,o,u){var p,c,b,g,h=l[o],x=l[u];return h.length>2?(h[0],h[2],p=h[1],c=h[3]):h.length?(p=h[0],c=h[1]):(h.x,p=h.y,h.x,h.width,c=h.y+h.height),x.length>2?(b=x[0],g=x[2],x[1],x[3]):x.length?(b=x[0],g=x[1]):(b=x.x,x.y,g=x.x+x.width,x.y,x.height),[b,p,g,c]}function n(l){if(typeof l=="number")return[l,l,l,l];if(l.length===2)return[l[0],l[1],l[0],l[1]];var o=d(l);return[o.x,o.y,o.x+o.width,o.y+o.height]}Y.exports=t,t.prototype.render=function(){for(var l,o=this,u=[],p=arguments.length;p--;)u[p]=arguments[p];return u.length&&(l=this).update.apply(l,u),this.regl.attributes.preserveDrawingBuffer?this.draw():(this.dirty?this.planned==null&&(this.planned=_(function(){o.draw(),o.dirty=!0,o.planned=null})):(this.draw(),this.dirty=!0,_(function(){o.dirty=!1})),this)},t.prototype.update=function(){for(var l,o=[],u=arguments.length;u--;)o[u]=arguments[u];if(o.length){for(var p=0;p<o.length;p++)this.updateItem(p,o[p]);this.traces=this.traces.filter(Boolean);for(var c=[],b=0,g=0;g<this.traces.length;g++){for(var h=this.traces[g],x=this.traces[g].passes,v=0;v<x.length;v++)c.push(this.passes[x[v]]);h.passOffset=b,b+=h.passes.length}return(l=this.scatter).update.apply(l,c),this}},t.prototype.updateItem=function(l,o){var u=this.regl;if(o===null)return this.traces[l]=null,this;if(!o)return this;var p,c=k(o,{data:"data items columns rows values dimensions samples x",snap:"snap cluster",size:"sizes size radius",color:"colors color fill fill-color fillColor",opacity:"opacity alpha transparency opaque",borderSize:"borderSizes borderSize border-size bordersize borderWidth borderWidths border-width borderwidth stroke-width strokeWidth strokewidth outline",borderColor:"borderColors borderColor bordercolor stroke stroke-color strokeColor",marker:"markers marker shape",range:"range ranges databox dataBox",viewport:"viewport viewBox viewbox",domain:"domain domains area areas",padding:"pad padding paddings pads margin margins",transpose:"transpose transposed",diagonal:"diagonal diag showDiagonal",upper:"upper up top upperhalf upperHalf showupperhalf showUpper showUpperHalf",lower:"lower low bottom lowerhalf lowerHalf showlowerhalf showLowerHalf showLower"}),b=this.traces[l]||(this.traces[l]={id:l,buffer:u.buffer({usage:"dynamic",type:"float",data:new Uint8Array}),color:"black",marker:null,size:12,borderColor:"transparent",borderSize:1,viewport:d([u._gl.drawingBufferWidth,u._gl.drawingBufferHeight]),padding:[0,0,0,0],opacity:1,diagonal:!0,upper:!0,lower:!0});if(c.color!=null&&(b.color=c.color),c.size!=null&&(b.size=c.size),c.marker!=null&&(b.marker=c.marker),c.borderColor!=null&&(b.borderColor=c.borderColor),c.borderSize!=null&&(b.borderSize=c.borderSize),c.opacity!=null&&(b.opacity=c.opacity),c.viewport&&(b.viewport=d(c.viewport)),c.diagonal!=null&&(b.diagonal=c.diagonal),c.upper!=null&&(b.upper=c.upper),c.lower!=null&&(b.lower=c.lower),c.data){b.buffer(s(c.data)),b.columns=c.data.length,b.count=c.data[0].length,b.bounds=[];for(var g=0;g<b.columns;g++)b.bounds[g]=a(c.data[g],1)}c.range&&(b.range=c.range,p=b.range&&typeof b.range[0]!="number"),c.domain&&(b.domain=c.domain);var h=!1;c.padding!=null&&(Array.isArray(c.padding)&&c.padding.length===b.columns&&typeof c.padding[c.padding.length-1]=="number"?(b.padding=c.padding.map(n),h=!0):b.padding=n(c.padding));var x=b.columns,v=b.count,m=b.viewport.width,w=b.viewport.height,f=b.viewport.x,S=b.viewport.y,T=m/x,E=w/x;b.passes=[];for(var L=0;L<x;L++)for(var C=0;C<x;C++)if((b.diagonal||C!==L)&&(b.upper||!(L>C))&&(b.lower||!(L<C))){var P=i(b.id,L,C),R=this.passes[P]||(this.passes[P]={});if(c.data&&(c.transpose?R.positions={x:{buffer:b.buffer,offset:C,count:v,stride:x},y:{buffer:b.buffer,offset:L,count:v,stride:x}}:R.positions={x:{buffer:b.buffer,offset:C*v,count:v},y:{buffer:b.buffer,offset:L*v,count:v}},R.bounds=r(b.bounds,L,C)),c.domain||c.viewport||c.data){var G=h?r(b.padding,L,C):b.padding;if(b.domain){var I=r(b.domain,L,C),H=I[0],N=I[1],B=I[2],V=I[3];R.viewport=[f+H*m+G[0],S+N*w+G[1],f+B*m-G[2],S+V*w-G[3]]}else R.viewport=[f+C*T+T*G[0],S+L*E+E*G[1],f+(C+1)*T-T*G[2],S+(L+1)*E-E*G[3]]}c.color&&(R.color=b.color),c.size&&(R.size=b.size),c.marker&&(R.marker=b.marker),c.borderSize&&(R.borderSize=b.borderSize),c.borderColor&&(R.borderColor=b.borderColor),c.opacity&&(R.opacity=b.opacity),c.range&&(R.range=p?r(b.range,L,C):b.range||R.bounds),b.passes.push(P)}return this},t.prototype.draw=function(){for(var l,o=[],u=arguments.length;u--;)o[u]=arguments[u];if(o.length){for(var p=[],c=0;c<o.length;c++)if(typeof o[c]=="number"){var b=this.traces[o[c]],g=b.passes,h=b.passOffset;p.push.apply(p,y(h,h+g.length))}else if(o[c].length){var x=o[c],v=this.traces[c],m=v.passes,w=v.passOffset;m=m.map(function(f,S){p[w+S]=x})}(l=this.scatter).draw.apply(l,p)}else this.scatter.draw();return this},t.prototype.destroy=function(){return this.traces.forEach(function(l){l.buffer&&l.buffer.destroy&&l.buffer.destroy()}),this.traces=null,this.passes=null,this.scatter.destroy(),this}},98580:function(Y){Y.exports=function(){function O(qe,$e){this.id=ne++,this.type=qe,this.data=$e}function e(qe){if(qe.length===0)return[];var $e=qe.charAt(0),ct=qe.charAt(qe.length-1);if(1<qe.length&&$e===ct&&($e==='"'||$e==="'"))return['"'+qe.substr(1,qe.length-2).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];if($e=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(qe))return e(qe.substr(0,$e.index)).concat(e($e[1])).concat(e(qe.substr($e.index+$e[0].length)));if(($e=qe.split(".")).length===1)return['"'+qe.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'];for(qe=[],ct=0;ct<$e.length;++ct)qe=qe.concat(e($e[ct]));return qe}function M(qe){return"["+e(qe).join("][")+"]"}function k(qe){return typeof qe=="string"?qe.split():qe}function a(qe){return typeof qe=="string"?document.querySelector(qe):qe}function _(qe){var $e,ct,at,Re,je=qe||{};qe={};var st=[],ot=[],xt=typeof window>"u"?1:window.devicePixelRatio,mt=!1,bt={},dt=function(gt){},St=function(){};if(typeof je=="string"?$e=document.querySelector(je):typeof je=="object"&&(typeof je.nodeName=="string"&&typeof je.appendChild=="function"&&typeof je.getBoundingClientRect=="function"?$e=je:typeof je.drawArrays=="function"||typeof je.drawElements=="function"?at=(Re=je).canvas:("gl"in je?Re=je.gl:"canvas"in je?at=a(je.canvas):"container"in je&&(ct=a(je.container)),"attributes"in je&&(qe=je.attributes),"extensions"in je&&(st=k(je.extensions)),"optionalExtensions"in je&&(ot=k(je.optionalExtensions)),"onDone"in je&&(dt=je.onDone),"profile"in je&&(mt=!!je.profile),"pixelRatio"in je&&(xt=+je.pixelRatio),"cachedCode"in je&&(bt=je.cachedCode))),$e&&($e.nodeName.toLowerCase()==="canvas"?at=$e:ct=$e),!Re){if(!at){if(!($e=function(gt,vt,Mt){function Bt(){var an=window.innerWidth,Gt=window.innerHeight;gt!==document.body&&(an=(Gt=qt.getBoundingClientRect()).right-Gt.left,Gt=Gt.bottom-Gt.top),qt.width=Mt*an,qt.height=Mt*Gt}var Nt,qt=document.createElement("canvas");return ee(qt.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),gt.appendChild(qt),gt===document.body&&(qt.style.position="absolute",ee(gt.style,{margin:0,padding:0})),gt!==document.body&&typeof ResizeObserver=="function"?(Nt=new ResizeObserver(function(){setTimeout(Bt)})).observe(gt):window.addEventListener("resize",Bt,!1),Bt(),{canvas:qt,onDestroy:function(){Nt?Nt.disconnect():window.removeEventListener("resize",Bt),gt.removeChild(qt)}}}(ct||document.body,0,xt)))return null;at=$e.canvas,St=$e.onDestroy}qe.premultipliedAlpha===void 0&&(qe.premultipliedAlpha=!0),Re=function(gt,vt){function Mt(Bt){try{return gt.getContext(Bt,vt)}catch{return null}}return Mt("webgl")||Mt("experimental-webgl")||Mt("webgl-experimental")}(at,qe)}return Re?{gl:Re,canvas:at,container:ct,extensions:st,optionalExtensions:ot,pixelRatio:xt,profile:mt,cachedCode:bt,onDone:dt,onDestroy:St}:(St(),dt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function y(qe,$e){for(var ct=Array(qe),at=0;at<qe;++at)ct[at]=$e(at);return ct}function d(qe){var $e,ct;return $e=(65535<qe)<<4,$e|=ct=(255<(qe>>>=$e))<<3,($e|=ct=(15<(qe>>>=ct))<<2)|(ct=(3<(qe>>>=ct))<<1)|qe>>>ct>>1}function s(){function qe(at){e:{for(var Re=16;268435456>=Re;Re*=16)if(at<=Re){at=Re;break e}at=0}return 0<(Re=ct[d(at)>>2]).length?Re.pop():new ArrayBuffer(at)}function $e(at){ct[d(at.byteLength)>>2].push(at)}var ct=y(8,function(){return[]});return{alloc:qe,free:$e,allocType:function(at,Re){var je=null;switch(at){case 5120:je=new Int8Array(qe(Re),0,Re);break;case 5121:je=new Uint8Array(qe(Re),0,Re);break;case 5122:je=new Int16Array(qe(2*Re),0,Re);break;case 5123:je=new Uint16Array(qe(2*Re),0,Re);break;case 5124:je=new Int32Array(qe(4*Re),0,Re);break;case 5125:je=new Uint32Array(qe(4*Re),0,Re);break;case 5126:je=new Float32Array(qe(4*Re),0,Re);break;default:return null}return je.length!==Re?je.subarray(0,Re):je},freeType:function(at){$e(at.buffer)}}}function t(qe){return!!qe&&typeof qe=="object"&&Array.isArray(qe.shape)&&Array.isArray(qe.stride)&&typeof qe.offset=="number"&&qe.shape.length===qe.stride.length&&(Array.isArray(qe.data)||we(qe.data))}function i(qe,$e,ct,at,Re,je){for(var st=0;st<$e;++st)for(var ot=qe[st],xt=0;xt<ct;++xt)for(var mt=ot[xt],bt=0;bt<at;++bt)Re[je++]=mt[bt]}function r(qe,$e,ct,at,Re){for(var je=1,st=ct+1;st<$e.length;++st)je*=$e[st];var ot=$e[ct];if($e.length-ct==4){var xt=$e[ct+1],mt=$e[ct+2];for($e=$e[ct+3],st=0;st<ot;++st)i(qe[st],xt,mt,$e,at,Re),Re+=je}else for(st=0;st<ot;++st)r(qe[st],$e,ct+1,at,Re),Re+=je}function n(qe){return 0|Ie[Object.prototype.toString.call(qe)]}function l(qe,$e){for(var ct=0;ct<$e.length;++ct)qe[ct]=$e[ct]}function o(qe,$e,ct,at,Re,je,st){for(var ot=0,xt=0;xt<ct;++xt)for(var mt=0;mt<at;++mt)qe[ot++]=$e[Re*xt+je*mt+st]}function u(qe,$e,ct,at){function Re(dt){this.id=xt++,this.buffer=qe.createBuffer(),this.type=dt,this.usage=35044,this.byteLength=0,this.dimension=1,this.dtype=5121,this.persistentData=null,ct.profile&&(this.stats={size:0})}function je(dt,St,gt){dt.byteLength=St.byteLength,qe.bufferData(dt.type,St,gt)}function st(dt,St,gt,vt,Mt,Bt){if(dt.usage=gt,Array.isArray(St)){if(dt.dtype=vt||5126,0<St.length)if(Array.isArray(St[0])){Mt=oe(St);for(var Nt=vt=1;Nt<Mt.length;++Nt)vt*=Mt[Nt];dt.dimension=vt,je(dt,St=se(St,Mt,dt.dtype),gt),Bt?dt.persistentData=St:pe.freeType(St)}else typeof St[0]=="number"?(dt.dimension=Mt,l(Mt=pe.allocType(dt.dtype,St.length),St),je(dt,Mt,gt),Bt?dt.persistentData=Mt:pe.freeType(Mt)):we(St[0])&&(dt.dimension=St[0].length,dt.dtype=vt||n(St[0])||5126,je(dt,St=se(St,[St.length,St[0].length],dt.dtype),gt),Bt?dt.persistentData=St:pe.freeType(St))}else if(we(St))dt.dtype=vt||n(St),dt.dimension=Mt,je(dt,St,gt),Bt&&(dt.persistentData=new Uint8Array(new Uint8Array(St.buffer)));else if(t(St)){Mt=St.shape;var qt=St.stride,an=(Nt=St.offset,0),Gt=0,Yt=0,en=0;Mt.length===1?(an=Mt[0],Gt=1,Yt=qt[0],en=0):Mt.length===2&&(an=Mt[0],Gt=Mt[1],Yt=qt[0],en=qt[1]),dt.dtype=vt||n(St.data)||5126,dt.dimension=Gt,o(Mt=pe.allocType(dt.dtype,an*Gt),St.data,an,Gt,Yt,en,Nt),je(dt,Mt,gt),Bt?dt.persistentData=Mt:pe.freeType(Mt)}else St instanceof ArrayBuffer&&(dt.dtype=5121,dt.dimension=Mt,je(dt,St,gt),Bt&&(dt.persistentData=new Uint8Array(new Uint8Array(St))))}function ot(dt){$e.bufferCount--,at(dt),qe.deleteBuffer(dt.buffer),dt.buffer=null,delete mt[dt.id]}var xt=0,mt={};Re.prototype.bind=function(){qe.bindBuffer(this.type,this.buffer)},Re.prototype.destroy=function(){ot(this)};var bt=[];return ct.profile&&($e.getTotalBufferSize=function(){var dt=0;return Object.keys(mt).forEach(function(St){dt+=mt[St].stats.size}),dt}),{create:function(dt,St,gt,vt){function Mt(Nt){var qt=35044,an=null,Gt=0,Yt=0,en=1;return Array.isArray(Nt)||we(Nt)||t(Nt)||Nt instanceof ArrayBuffer?an=Nt:typeof Nt=="number"?Gt=0|Nt:Nt&&("data"in Nt&&(an=Nt.data),"usage"in Nt&&(qt=ke[Nt.usage]),"type"in Nt&&(Yt=Se[Nt.type]),"dimension"in Nt&&(en=0|Nt.dimension),"length"in Nt&&(Gt=0|Nt.length)),Bt.bind(),an?st(Bt,an,qt,Yt,en,vt):(Gt&&qe.bufferData(Bt.type,Gt,qt),Bt.dtype=Yt||5121,Bt.usage=qt,Bt.dimension=en,Bt.byteLength=Gt),ct.profile&&(Bt.stats.size=Bt.byteLength*he[Bt.dtype]),Mt}$e.bufferCount++;var Bt=new Re(St);return mt[Bt.id]=Bt,gt||Mt(dt),Mt._reglType="buffer",Mt._buffer=Bt,Mt.subdata=function(Nt,qt){var an,Gt=0|(qt||0);if(Bt.bind(),we(Nt)||Nt instanceof ArrayBuffer)qe.bufferSubData(Bt.type,Gt,Nt);else if(Array.isArray(Nt)){if(0<Nt.length)if(typeof Nt[0]=="number"){var Yt=pe.allocType(Bt.dtype,Nt.length);l(Yt,Nt),qe.bufferSubData(Bt.type,Gt,Yt),pe.freeType(Yt)}else(Array.isArray(Nt[0])||we(Nt[0]))&&(an=oe(Nt),Yt=se(Nt,an,Bt.dtype),qe.bufferSubData(Bt.type,Gt,Yt),pe.freeType(Yt))}else if(t(Nt)){an=Nt.shape;var en=Nt.stride,bn=Yt=0,On=0,gn=0;an.length===1?(Yt=an[0],bn=1,On=en[0],gn=0):an.length===2&&(Yt=an[0],bn=an[1],On=en[0],gn=en[1]),an=Array.isArray(Nt.data)?Bt.dtype:n(Nt.data),o(an=pe.allocType(an,Yt*bn),Nt.data,Yt,bn,On,gn,Nt.offset),qe.bufferSubData(Bt.type,Gt,an),pe.freeType(an)}return Mt},ct.profile&&(Mt.stats=Bt.stats),Mt.destroy=function(){ot(Bt)},Mt},createStream:function(dt,St){var gt=bt.pop();return gt||(gt=new Re(dt)),gt.bind(),st(gt,St,35040,0,1,!1),gt},destroyStream:function(dt){bt.push(dt)},clear:function(){me(mt).forEach(ot),bt.forEach(ot)},getBuffer:function(dt){return dt&&dt._buffer instanceof Re?dt._buffer:null},restore:function(){me(mt).forEach(function(dt){dt.buffer=qe.createBuffer(),qe.bindBuffer(dt.type,dt.buffer),qe.bufferData(dt.type,dt.persistentData||dt.byteLength,dt.usage)})},_initBuffer:st}}function p(qe,$e,ct,at){function Re(dt){this.id=xt++,ot[this.id]=this,this.buffer=dt,this.primType=4,this.type=this.vertCount=0}function je(dt,St,gt,vt,Mt,Bt,Nt){var qt;if(dt.buffer.bind(),St?((qt=Nt)||we(St)&&(!t(St)||we(St.data))||(qt=$e.oes_element_index_uint?5125:5123),ct._initBuffer(dt.buffer,St,gt,qt,3)):(qe.bufferData(34963,Bt,gt),dt.buffer.dtype=qt||5121,dt.buffer.usage=gt,dt.buffer.dimension=3,dt.buffer.byteLength=Bt),qt=Nt,!Nt){switch(dt.buffer.dtype){case 5121:case 5120:qt=5121;break;case 5123:case 5122:qt=5123;break;case 5125:case 5124:qt=5125}dt.buffer.dtype=qt}dt.type=qt,0>(St=Mt)&&(St=dt.buffer.byteLength,qt===5123?St>>=1:qt===5125&&(St>>=2)),dt.vertCount=St,St=vt,0>vt&&(St=4,(vt=dt.buffer.dimension)===1&&(St=0),vt===2&&(St=1),vt===3&&(St=4)),dt.primType=St}function st(dt){at.elementsCount--,delete ot[dt.id],dt.buffer.destroy(),dt.buffer=null}var ot={},xt=0,mt={uint8:5121,uint16:5123};$e.oes_element_index_uint&&(mt.uint32=5125),Re.prototype.bind=function(){this.buffer.bind()};var bt=[];return{create:function(dt,St){function gt(Bt){if(Bt)if(typeof Bt=="number")vt(Bt),Mt.primType=4,Mt.vertCount=0|Bt,Mt.type=5121;else{var Nt=null,qt=35044,an=-1,Gt=-1,Yt=0,en=0;Array.isArray(Bt)||we(Bt)||t(Bt)?Nt=Bt:("data"in Bt&&(Nt=Bt.data),"usage"in Bt&&(qt=ke[Bt.usage]),"primitive"in Bt&&(an=Le[Bt.primitive]),"count"in Bt&&(Gt=0|Bt.count),"type"in Bt&&(en=mt[Bt.type]),"length"in Bt?Yt=0|Bt.length:(Yt=Gt,en===5123||en===5122?Yt*=2:en!==5125&&en!==5124||(Yt*=4))),je(Mt,Nt,qt,an,Gt,Yt,en)}else vt(),Mt.primType=4,Mt.vertCount=0,Mt.type=5121;return gt}var vt=ct.create(null,34963,!0),Mt=new Re(vt._buffer);return at.elementsCount++,gt(dt),gt._reglType="elements",gt._elements=Mt,gt.subdata=function(Bt,Nt){return vt.subdata(Bt,Nt),gt},gt.destroy=function(){st(Mt)},gt},createStream:function(dt){var St=bt.pop();return St||(St=new Re(ct.create(null,34963,!0,!1)._buffer)),je(St,dt,35040,-1,-1,0,0),St},destroyStream:function(dt){bt.push(dt)},getElements:function(dt){return typeof dt=="function"&&dt._elements instanceof Re?dt._elements:null},clear:function(){me(ot).forEach(st)}}}function c(qe){for(var $e=pe.allocType(5123,qe.length),ct=0;ct<qe.length;++ct)if(isNaN(qe[ct]))$e[ct]=65535;else if(qe[ct]===1/0)$e[ct]=31744;else if(qe[ct]===-1/0)$e[ct]=64512;else{Me[0]=qe[ct];var at=(je=_e[0])>>>31<<15,Re=(je<<1>>>24)-127,je=je>>13&1023;$e[ct]=-24>Re?at:-14>Re?at+(je+1024>>-14-Re):15<Re?at+31744:at+(Re+15<<10)+je}return $e}function b(qe){return Array.isArray(qe)||we(qe)}function g(qe){return"[object "+qe+"]"}function h(qe){return Array.isArray(qe)&&(qe.length===0||typeof qe[0]=="number")}function x(qe){return!(!Array.isArray(qe)||qe.length===0||!b(qe[0]))}function v(qe){return Object.prototype.toString.call(qe)}function m(qe){if(!qe)return!1;var $e=v(qe);return 0<=Ze.indexOf($e)||h(qe)||x(qe)||t(qe)}function w(qe,$e){qe.type===36193?(qe.data=c($e),pe.freeType($e)):qe.data=$e}function f(qe,$e,ct,at,Re,je){if(qe=ft[qe]!==void 0?ft[qe]:ce[qe]*et[$e],je&&(qe*=6),Re){for(at=0;1<=ct;)at+=qe*ct*ct,ct/=2;return at}return qe*ct*at}function S(qe,$e,ct,at,Re,je,st){function ot(){this.format=this.internalformat=6408,this.type=5121,this.flipY=this.premultiplyAlpha=this.compressed=!1,this.unpackAlignment=1,this.colorSpace=37444,this.channels=this.height=this.width=0}function xt(Wt,An){Wt.internalformat=An.internalformat,Wt.format=An.format,Wt.type=An.type,Wt.compressed=An.compressed,Wt.premultiplyAlpha=An.premultiplyAlpha,Wt.flipY=An.flipY,Wt.unpackAlignment=An.unpackAlignment,Wt.colorSpace=An.colorSpace,Wt.width=An.width,Wt.height=An.height,Wt.channels=An.channels}function mt(Wt,An){if(typeof An=="object"&&An){"premultiplyAlpha"in An&&(Wt.premultiplyAlpha=An.premultiplyAlpha),"flipY"in An&&(Wt.flipY=An.flipY),"alignment"in An&&(Wt.unpackAlignment=An.alignment),"colorSpace"in An&&(Wt.colorSpace=Pn[An.colorSpace]),"type"in An&&(Wt.type=yn[An.type]);var Ct=Wt.width,Jt=Wt.height,tn=Wt.channels,wn=!1;"shape"in An?(Ct=An.shape[0],Jt=An.shape[1],An.shape.length===3&&(tn=An.shape[2],wn=!0)):("radius"in An&&(Ct=Jt=An.radius),"width"in An&&(Ct=An.width),"height"in An&&(Jt=An.height),"channels"in An&&(tn=An.channels,wn=!0)),Wt.width=0|Ct,Wt.height=0|Jt,Wt.channels=0|tn,Ct=!1,"format"in An&&(Ct=An.format,Jt=Wt.internalformat=Rn[Ct],Wt.format=cn[Jt],Ct in yn&&!("type"in An)&&(Wt.type=yn[Ct]),Ct in Zn&&(Wt.compressed=!0),Ct=!0),!wn&&Ct?Wt.channels=ce[Wt.format]:wn&&!Ct&&Wt.channels!==Ne[Wt.format]&&(Wt.format=Wt.internalformat=Ne[Wt.channels])}}function bt(Wt){qe.pixelStorei(37440,Wt.flipY),qe.pixelStorei(37441,Wt.premultiplyAlpha),qe.pixelStorei(37443,Wt.colorSpace),qe.pixelStorei(3317,Wt.unpackAlignment)}function dt(){ot.call(this),this.yOffset=this.xOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function St(Wt,An){var Ct=null;if(m(An)?Ct=An:An&&(mt(Wt,An),"x"in An&&(Wt.xOffset=0|An.x),"y"in An&&(Wt.yOffset=0|An.y),m(An.data)&&(Ct=An.data)),An.copy){var Jt=Re.viewportWidth,tn=Re.viewportHeight;Wt.width=Wt.width||Jt-Wt.xOffset,Wt.height=Wt.height||tn-Wt.yOffset,Wt.needsCopy=!0}else if(Ct){if(we(Ct))Wt.channels=Wt.channels||4,Wt.data=Ct,"type"in An||Wt.type!==5121||(Wt.type=0|Ie[Object.prototype.toString.call(Ct)]);else if(h(Ct)){switch(Wt.channels=Wt.channels||4,tn=(Jt=Ct).length,Wt.type){case 5121:case 5123:case 5125:case 5126:(tn=pe.allocType(Wt.type,tn)).set(Jt),Wt.data=tn;break;case 36193:Wt.data=c(Jt)}Wt.alignment=1,Wt.needsFree=!0}else if(t(Ct)){Jt=Ct.data,Array.isArray(Jt)||Wt.type!==5121||(Wt.type=0|Ie[Object.prototype.toString.call(Jt)]),tn=Ct.shape;var wn,kn,Cn,pn,$t=Ct.stride;tn.length===3?(Cn=tn[2],pn=$t[2]):pn=Cn=1,wn=tn[0],kn=tn[1],tn=$t[0],$t=$t[1],Wt.alignment=1,Wt.width=wn,Wt.height=kn,Wt.channels=Cn,Wt.format=Wt.internalformat=Ne[Cn],Wt.needsFree=!0,wn=pn,Ct=Ct.offset,Cn=Wt.width,pn=Wt.height,kn=Wt.channels;for(var Qt=pe.allocType(Wt.type===36193?5126:Wt.type,Cn*pn*kn),fn=0,dn=0;dn<pn;++dn)for(var In=0;In<Cn;++In)for(var zn=0;zn<kn;++zn)Qt[fn++]=Jt[tn*In+$t*dn+wn*zn+Ct];w(Wt,Qt)}else if(v(Ct)===Te||v(Ct)===ye||v(Ct)===Oe)v(Ct)===Te||v(Ct)===ye?Wt.element=Ct:Wt.element=Ct.canvas,Wt.width=Wt.element.width,Wt.height=Wt.element.height,Wt.channels=4;else if(v(Ct)===Be)Wt.element=Ct,Wt.width=Ct.width,Wt.height=Ct.height,Wt.channels=4;else if(v(Ct)===Fe)Wt.element=Ct,Wt.width=Ct.naturalWidth,Wt.height=Ct.naturalHeight,Wt.channels=4;else if(v(Ct)===Ge)Wt.element=Ct,Wt.width=Ct.videoWidth,Wt.height=Ct.videoHeight,Wt.channels=4;else if(x(Ct)){for(Jt=Wt.width||Ct[0].length,tn=Wt.height||Ct.length,$t=Wt.channels,$t=b(Ct[0][0])?$t||Ct[0][0].length:$t||1,wn=ve.shape(Ct),Cn=1,pn=0;pn<wn.length;++pn)Cn*=wn[pn];Cn=pe.allocType(Wt.type===36193?5126:Wt.type,Cn),ve.flatten(Ct,wn,"",Cn),w(Wt,Cn),Wt.alignment=1,Wt.width=Jt,Wt.height=tn,Wt.channels=$t,Wt.format=Wt.internalformat=Ne[$t],Wt.needsFree=!0}}else Wt.width=Wt.width||1,Wt.height=Wt.height||1,Wt.channels=Wt.channels||4}function gt(Wt,An,Ct,Jt,tn){var wn=Wt.element,kn=Wt.data,Cn=Wt.internalformat,pn=Wt.format,$t=Wt.type,Qt=Wt.width,fn=Wt.height;bt(Wt),wn?qe.texSubImage2D(An,tn,Ct,Jt,pn,$t,wn):Wt.compressed?qe.compressedTexSubImage2D(An,tn,Ct,Jt,Cn,Qt,fn,kn):Wt.needsCopy?(at(),qe.copyTexSubImage2D(An,tn,Ct,Jt,Wt.xOffset,Wt.yOffset,Qt,fn)):qe.texSubImage2D(An,tn,Ct,Jt,Qt,fn,pn,$t,kn)}function vt(){return vn.pop()||new dt}function Mt(Wt){Wt.needsFree&&pe.freeType(Wt.data),dt.call(Wt),vn.push(Wt)}function Bt(){ot.call(this),this.genMipmaps=!1,this.mipmapHint=4352,this.mipmask=0,this.images=Array(16)}function Nt(Wt,An,Ct){var Jt=Wt.images[0]=vt();Wt.mipmask=1,Jt.width=Wt.width=An,Jt.height=Wt.height=Ct,Jt.channels=Wt.channels=4}function qt(Wt,An){var Ct=null;if(m(An))xt(Ct=Wt.images[0]=vt(),Wt),St(Ct,An),Wt.mipmask=1;else if(mt(Wt,An),Array.isArray(An.mipmap))for(var Jt=An.mipmap,tn=0;tn<Jt.length;++tn)xt(Ct=Wt.images[tn]=vt(),Wt),Ct.width>>=tn,Ct.height>>=tn,St(Ct,Jt[tn]),Wt.mipmask|=1<<tn;else xt(Ct=Wt.images[0]=vt(),Wt),St(Ct,An),Wt.mipmask=1;xt(Wt,Wt.images[0])}function an(Wt,An){for(var Ct=Wt.images,Jt=0;Jt<Ct.length&&Ct[Jt];++Jt){var tn=Ct[Jt],wn=An,kn=Jt,Cn=tn.element,pn=tn.data,$t=tn.internalformat,Qt=tn.format,fn=tn.type,dn=tn.width,In=tn.height;bt(tn),Cn?qe.texImage2D(wn,kn,Qt,Qt,fn,Cn):tn.compressed?qe.compressedTexImage2D(wn,kn,$t,dn,In,0,pn):tn.needsCopy?(at(),qe.copyTexImage2D(wn,kn,Qt,tn.xOffset,tn.yOffset,dn,In,0)):qe.texImage2D(wn,kn,Qt,dn,In,0,Qt,fn,pn||null)}}function Gt(){var Wt=Sn.pop()||new Bt;ot.call(Wt);for(var An=Wt.mipmask=0;16>An;++An)Wt.images[An]=null;return Wt}function Yt(Wt){for(var An=Wt.images,Ct=0;Ct<An.length;++Ct)An[Ct]&&Mt(An[Ct]),An[Ct]=null;Sn.push(Wt)}function en(){this.magFilter=this.minFilter=9728,this.wrapT=this.wrapS=33071,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=4352}function bn(Wt,An){"min"in An&&(Wt.minFilter=Tn[An.min],0<=De.indexOf(Wt.minFilter)&&!("faces"in An)&&(Wt.genMipmaps=!0)),"mag"in An&&(Wt.magFilter=Mn[An.mag]);var Ct=Wt.wrapS,Jt=Wt.wrapT;if("wrap"in An){var tn=An.wrap;typeof tn=="string"?Ct=Jt=mn[tn]:Array.isArray(tn)&&(Ct=mn[tn[0]],Jt=mn[tn[1]])}else"wrapS"in An&&(Ct=mn[An.wrapS]),"wrapT"in An&&(Jt=mn[An.wrapT]);if(Wt.wrapS=Ct,Wt.wrapT=Jt,"anisotropic"in An&&(Wt.anisotropic=An.anisotropic),"mipmap"in An){switch(Ct=!1,typeof An.mipmap){case"string":Wt.mipmapHint=hn[An.mipmap],Ct=Wt.genMipmaps=!0;break;case"boolean":Ct=Wt.genMipmaps=An.mipmap;break;case"object":Wt.genMipmaps=!1,Ct=!0}!Ct||"min"in An||(Wt.minFilter=9984)}}function On(Wt,An){qe.texParameteri(An,10241,Wt.minFilter),qe.texParameteri(An,10240,Wt.magFilter),qe.texParameteri(An,10242,Wt.wrapS),qe.texParameteri(An,10243,Wt.wrapT),$e.ext_texture_filter_anisotropic&&qe.texParameteri(An,34046,Wt.anisotropic),Wt.genMipmaps&&(qe.hint(33170,Wt.mipmapHint),qe.generateMipmap(An))}function gn(Wt){ot.call(this),this.mipmask=0,this.internalformat=6408,this.id=Hn++,this.refCount=1,this.target=Wt,this.texture=qe.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new en,st.profile&&(this.stats={size:0})}function Xt(Wt){qe.activeTexture(33984),qe.bindTexture(Wt.target,Wt.texture)}function ln(){var Wt=Qn[0];Wt?qe.bindTexture(Wt.target,Wt.texture):qe.bindTexture(3553,null)}function nn(Wt){var An=Wt.texture,Ct=Wt.unit,Jt=Wt.target;0<=Ct&&(qe.activeTexture(33984+Ct),qe.bindTexture(Jt,null),Qn[Ct]=null),qe.deleteTexture(An),Wt.texture=null,Wt.params=null,Wt.pixels=null,Wt.refCount=0,delete Dn[Wt.id],je.textureCount--}var hn={"don't care":4352,"dont care":4352,nice:4354,fast:4353},mn={repeat:10497,clamp:33071,mirror:33648},Mn={nearest:9728,linear:9729},Tn=ee({mipmap:9987,"nearest mipmap nearest":9984,"linear mipmap nearest":9985,"nearest mipmap linear":9986,"linear mipmap linear":9987},Mn),Pn={none:0,browser:37444},yn={uint8:5121,rgba4:32819,rgb565:33635,"rgb5 a1":32820},Rn={alpha:6406,luminance:6409,"luminance alpha":6410,rgb:6407,rgba:6408,rgba4:32854,"rgb5 a1":32855,rgb565:36194},Zn={};$e.ext_srgb&&(Rn.srgb=35904,Rn.srgba=35906),$e.oes_texture_float&&(yn.float32=yn.float=5126),$e.oes_texture_half_float&&(yn.float16=yn["half float"]=36193),$e.webgl_depth_texture&&(ee(Rn,{depth:6402,"depth stencil":34041}),ee(yn,{uint16:5123,uint32:5125,"depth stencil":34042})),$e.webgl_compressed_texture_s3tc&&ee(Zn,{"rgb s3tc dxt1":33776,"rgba s3tc dxt1":33777,"rgba s3tc dxt3":33778,"rgba s3tc dxt5":33779}),$e.webgl_compressed_texture_atc&&ee(Zn,{"rgb atc":35986,"rgba atc explicit alpha":35987,"rgba atc interpolated alpha":34798}),$e.webgl_compressed_texture_pvrtc&&ee(Zn,{"rgb pvrtc 4bppv1":35840,"rgb pvrtc 2bppv1":35841,"rgba pvrtc 4bppv1":35842,"rgba pvrtc 2bppv1":35843}),$e.webgl_compressed_texture_etc1&&(Zn["rgb etc1"]=36196);var ir=Array.prototype.slice.call(qe.getParameter(34467));Object.keys(Zn).forEach(function(Wt){var An=Zn[Wt];0<=ir.indexOf(An)&&(Rn[Wt]=An)});var sr=Object.keys(Rn);ct.textureFormats=sr;var tr=[];Object.keys(Rn).forEach(function(Wt){tr[Rn[Wt]]=Wt});var Jn=[];Object.keys(yn).forEach(function(Wt){Jn[yn[Wt]]=Wt});var pr=[];Object.keys(Mn).forEach(function(Wt){pr[Mn[Wt]]=Wt});var Ut=[];Object.keys(Tn).forEach(function(Wt){Ut[Tn[Wt]]=Wt});var rn=[];Object.keys(mn).forEach(function(Wt){rn[mn[Wt]]=Wt});var cn=sr.reduce(function(Wt,An){var Ct=Rn[An];return Ct===6409||Ct===6406||Ct===6409||Ct===6410||Ct===6402||Ct===34041||$e.ext_srgb&&(Ct===35904||Ct===35906)?Wt[Ct]=Ct:Ct===32855||0<=An.indexOf("rgba")?Wt[Ct]=6408:Wt[Ct]=6407,Wt},{}),vn=[],Sn=[],Hn=0,Dn={},Bn=ct.maxTextureUnits,Qn=Array(Bn).map(function(){return null});return ee(gn.prototype,{bind:function(){this.bindCount+=1;var Wt=this.unit;if(0>Wt){for(var An=0;An<Bn;++An){var Ct=Qn[An];if(Ct){if(0<Ct.bindCount)continue;Ct.unit=-1}Qn[An]=this,Wt=An;break}st.profile&&je.maxTextureUnits<Wt+1&&(je.maxTextureUnits=Wt+1),this.unit=Wt,qe.activeTexture(33984+Wt),qe.bindTexture(this.target,this.texture)}return Wt},unbind:function(){--this.bindCount},decRef:function(){0>=--this.refCount&&nn(this)}}),st.profile&&(je.getTotalTextureSize=function(){var Wt=0;return Object.keys(Dn).forEach(function(An){Wt+=Dn[An].stats.size}),Wt}),{create2D:function(Wt,An){function Ct(tn,wn){var kn=Jt.texInfo;en.call(kn);var Cn=Gt();return typeof tn=="number"?Nt(Cn,0|tn,typeof wn=="number"?0|wn:0|tn):tn?(bn(kn,tn),qt(Cn,tn)):Nt(Cn,1,1),kn.genMipmaps&&(Cn.mipmask=(Cn.width<<1)-1),Jt.mipmask=Cn.mipmask,xt(Jt,Cn),Jt.internalformat=Cn.internalformat,Ct.width=Cn.width,Ct.height=Cn.height,Xt(Jt),an(Cn,3553),On(kn,3553),ln(),Yt(Cn),st.profile&&(Jt.stats.size=f(Jt.internalformat,Jt.type,Cn.width,Cn.height,kn.genMipmaps,!1)),Ct.format=tr[Jt.internalformat],Ct.type=Jn[Jt.type],Ct.mag=pr[kn.magFilter],Ct.min=Ut[kn.minFilter],Ct.wrapS=rn[kn.wrapS],Ct.wrapT=rn[kn.wrapT],Ct}var Jt=new gn(3553);return Dn[Jt.id]=Jt,je.textureCount++,Ct(Wt,An),Ct.subimage=function(tn,wn,kn,Cn){wn|=0,kn|=0,Cn|=0;var pn=vt();return xt(pn,Jt),pn.width=0,pn.height=0,St(pn,tn),pn.width=pn.width||(Jt.width>>Cn)-wn,pn.height=pn.height||(Jt.height>>Cn)-kn,Xt(Jt),gt(pn,3553,wn,kn,Cn),ln(),Mt(pn),Ct},Ct.resize=function(tn,wn){var kn=0|tn,Cn=0|wn||kn;if(kn===Jt.width&&Cn===Jt.height)return Ct;Ct.width=Jt.width=kn,Ct.height=Jt.height=Cn,Xt(Jt);for(var pn=0;Jt.mipmask>>pn;++pn){var $t=kn>>pn,Qt=Cn>>pn;if(!$t||!Qt)break;qe.texImage2D(3553,pn,Jt.format,$t,Qt,0,Jt.format,Jt.type,null)}return ln(),st.profile&&(Jt.stats.size=f(Jt.internalformat,Jt.type,kn,Cn,!1,!1)),Ct},Ct._reglType="texture2d",Ct._texture=Jt,st.profile&&(Ct.stats=Jt.stats),Ct.destroy=function(){Jt.decRef()},Ct},createCube:function(Wt,An,Ct,Jt,tn,wn){function kn($t,Qt,fn,dn,In,zn){var Yn,Vn=Cn.texInfo;for(en.call(Vn),Yn=0;6>Yn;++Yn)pn[Yn]=Gt();if(typeof $t!="number"&&$t){if(typeof $t=="object")if(Qt)qt(pn[0],$t),qt(pn[1],Qt),qt(pn[2],fn),qt(pn[3],dn),qt(pn[4],In),qt(pn[5],zn);else if(bn(Vn,$t),mt(Cn,$t),"faces"in $t)for($t=$t.faces,Yn=0;6>Yn;++Yn)xt(pn[Yn],Cn),qt(pn[Yn],$t[Yn]);else for(Yn=0;6>Yn;++Yn)qt(pn[Yn],$t)}else for($t=0|$t||1,Yn=0;6>Yn;++Yn)Nt(pn[Yn],$t,$t);for(xt(Cn,pn[0]),Cn.mipmask=Vn.genMipmaps?(pn[0].width<<1)-1:pn[0].mipmask,Cn.internalformat=pn[0].internalformat,kn.width=pn[0].width,kn.height=pn[0].height,Xt(Cn),Yn=0;6>Yn;++Yn)an(pn[Yn],34069+Yn);for(On(Vn,34067),ln(),st.profile&&(Cn.stats.size=f(Cn.internalformat,Cn.type,kn.width,kn.height,Vn.genMipmaps,!0)),kn.format=tr[Cn.internalformat],kn.type=Jn[Cn.type],kn.mag=pr[Vn.magFilter],kn.min=Ut[Vn.minFilter],kn.wrapS=rn[Vn.wrapS],kn.wrapT=rn[Vn.wrapT],Yn=0;6>Yn;++Yn)Yt(pn[Yn]);return kn}var Cn=new gn(34067);Dn[Cn.id]=Cn,je.cubeCount++;var pn=Array(6);return kn(Wt,An,Ct,Jt,tn,wn),kn.subimage=function($t,Qt,fn,dn,In){fn|=0,dn|=0,In|=0;var zn=vt();return xt(zn,Cn),zn.width=0,zn.height=0,St(zn,Qt),zn.width=zn.width||(Cn.width>>In)-fn,zn.height=zn.height||(Cn.height>>In)-dn,Xt(Cn),gt(zn,34069+$t,fn,dn,In),ln(),Mt(zn),kn},kn.resize=function($t){if(($t|=0)!==Cn.width){kn.width=Cn.width=$t,kn.height=Cn.height=$t,Xt(Cn);for(var Qt=0;6>Qt;++Qt)for(var fn=0;Cn.mipmask>>fn;++fn)qe.texImage2D(34069+Qt,fn,Cn.format,$t>>fn,$t>>fn,0,Cn.format,Cn.type,null);return ln(),st.profile&&(Cn.stats.size=f(Cn.internalformat,Cn.type,kn.width,kn.height,!1,!0)),kn}},kn._reglType="textureCube",kn._texture=Cn,st.profile&&(kn.stats=Cn.stats),kn.destroy=function(){Cn.decRef()},kn},clear:function(){for(var Wt=0;Wt<Bn;++Wt)qe.activeTexture(33984+Wt),qe.bindTexture(3553,null),Qn[Wt]=null;me(Dn).forEach(nn),je.cubeCount=0,je.textureCount=0},getTexture:function(Wt){return null},restore:function(){for(var Wt=0;Wt<Bn;++Wt){var An=Qn[Wt];An&&(An.bindCount=0,An.unit=-1,Qn[Wt]=null)}me(Dn).forEach(function(Ct){Ct.texture=qe.createTexture(),qe.bindTexture(Ct.target,Ct.texture);for(var Jt=0;32>Jt;++Jt)if(Ct.mipmask&1<<Jt)if(Ct.target===3553)qe.texImage2D(3553,Jt,Ct.internalformat,Ct.width>>Jt,Ct.height>>Jt,0,Ct.internalformat,Ct.type,null);else for(var tn=0;6>tn;++tn)qe.texImage2D(34069+tn,Jt,Ct.internalformat,Ct.width>>Jt,Ct.height>>Jt,0,Ct.internalformat,Ct.type,null);On(Ct.texInfo,Ct.target)})},refresh:function(){for(var Wt=0;Wt<Bn;++Wt){var An=Qn[Wt];An&&(An.bindCount=0,An.unit=-1,Qn[Wt]=null),qe.activeTexture(33984+Wt),qe.bindTexture(3553,null),qe.bindTexture(34067,null)}}}}function T(qe,$e,ct,at,Re,je){function st(gn,Xt,ln){this.target=gn,this.texture=Xt,this.renderbuffer=ln;var nn=gn=0;Xt?(gn=Xt.width,nn=Xt.height):ln&&(gn=ln.width,nn=ln.height),this.width=gn,this.height=nn}function ot(gn){gn&&(gn.texture&&gn.texture._texture.decRef(),gn.renderbuffer&&gn.renderbuffer._renderbuffer.decRef())}function xt(gn,Xt,ln){gn&&(gn.texture?gn.texture._texture.refCount+=1:gn.renderbuffer._renderbuffer.refCount+=1)}function mt(gn,Xt){Xt&&(Xt.texture?qe.framebufferTexture2D(36160,gn,Xt.target,Xt.texture._texture.texture,0):qe.framebufferRenderbuffer(36160,gn,36161,Xt.renderbuffer._renderbuffer.renderbuffer))}function bt(gn){var Xt=3553,ln=null,nn=null,hn=gn;return typeof gn=="object"&&(hn=gn.data,"target"in gn&&(Xt=0|gn.target)),(gn=hn._reglType)==="texture2d"||gn==="textureCube"?ln=hn:gn==="renderbuffer"&&(nn=hn,Xt=36161),new st(Xt,ln,nn)}function dt(gn,Xt,ln,nn,hn){return ln?((gn=at.create2D({width:gn,height:Xt,format:nn,type:hn}))._texture.refCount=0,new st(3553,gn,null)):((gn=Re.create({width:gn,height:Xt,format:nn}))._renderbuffer.refCount=0,new st(36161,null,gn))}function St(gn){return gn&&(gn.texture||gn.renderbuffer)}function gt(gn,Xt,ln){gn&&(gn.texture?gn.texture.resize(Xt,ln):gn.renderbuffer&&gn.renderbuffer.resize(Xt,ln),gn.width=Xt,gn.height=ln)}function vt(){this.id=bn++,On[this.id]=this,this.framebuffer=qe.createFramebuffer(),this.height=this.width=0,this.colorAttachments=[],this.depthStencilAttachment=this.stencilAttachment=this.depthAttachment=null}function Mt(gn){gn.colorAttachments.forEach(ot),ot(gn.depthAttachment),ot(gn.stencilAttachment),ot(gn.depthStencilAttachment)}function Bt(gn){qe.deleteFramebuffer(gn.framebuffer),gn.framebuffer=null,je.framebufferCount--,delete On[gn.id]}function Nt(gn){var Xt;qe.bindFramebuffer(36160,gn.framebuffer);var ln=gn.colorAttachments;for(Xt=0;Xt<ln.length;++Xt)mt(36064+Xt,ln[Xt]);for(Xt=ln.length;Xt<ct.maxColorAttachments;++Xt)qe.framebufferTexture2D(36160,36064+Xt,3553,null,0);qe.framebufferTexture2D(36160,33306,3553,null,0),qe.framebufferTexture2D(36160,36096,3553,null,0),qe.framebufferTexture2D(36160,36128,3553,null,0),mt(36096,gn.depthAttachment),mt(36128,gn.stencilAttachment),mt(33306,gn.depthStencilAttachment),qe.checkFramebufferStatus(36160),qe.isContextLost(),qe.bindFramebuffer(36160,an.next?an.next.framebuffer:null),an.cur=an.next,qe.getError()}function qt(gn,Xt){function ln(hn,mn){var Mn,Tn=0,Pn=0,yn=!0,Rn=!0;Mn=null;var Zn=!0,ir="rgba",sr="uint8",tr=1,Jn=null,pr=null,Ut=null,rn=!1;typeof hn=="number"?(Tn=0|hn,Pn=0|mn||Tn):hn?("shape"in hn?(Tn=(Pn=hn.shape)[0],Pn=Pn[1]):("radius"in hn&&(Tn=Pn=hn.radius),"width"in hn&&(Tn=hn.width),"height"in hn&&(Pn=hn.height)),("color"in hn||"colors"in hn)&&(Mn=hn.color||hn.colors,Array.isArray(Mn)),Mn||("colorCount"in hn&&(tr=0|hn.colorCount),"colorTexture"in hn&&(Zn=!!hn.colorTexture,ir="rgba4"),"colorType"in hn&&(sr=hn.colorType,!Zn)&&(sr==="half float"||sr==="float16"?ir="rgba16f":sr!=="float"&&sr!=="float32"||(ir="rgba32f")),"colorFormat"in hn&&(ir=hn.colorFormat,0<=Gt.indexOf(ir)?Zn=!0:0<=Yt.indexOf(ir)&&(Zn=!1))),("depthTexture"in hn||"depthStencilTexture"in hn)&&(rn=!(!hn.depthTexture&&!hn.depthStencilTexture)),"depth"in hn&&(typeof hn.depth=="boolean"?yn=hn.depth:(Jn=hn.depth,Rn=!1)),"stencil"in hn&&(typeof hn.stencil=="boolean"?Rn=hn.stencil:(pr=hn.stencil,yn=!1)),"depthStencil"in hn&&(typeof hn.depthStencil=="boolean"?yn=Rn=hn.depthStencil:(Ut=hn.depthStencil,Rn=yn=!1))):Tn=Pn=1;var cn=null,vn=null,Sn=null,Hn=null;if(Array.isArray(Mn))cn=Mn.map(bt);else if(Mn)cn=[bt(Mn)];else for(cn=Array(tr),Mn=0;Mn<tr;++Mn)cn[Mn]=dt(Tn,Pn,Zn,ir,sr);for(Tn=Tn||cn[0].width,Pn=Pn||cn[0].height,Jn?vn=bt(Jn):yn&&!Rn&&(vn=dt(Tn,Pn,rn,"depth","uint32")),pr?Sn=bt(pr):Rn&&!yn&&(Sn=dt(Tn,Pn,!1,"stencil","uint8")),Ut?Hn=bt(Ut):!Jn&&!pr&&Rn&&yn&&(Hn=dt(Tn,Pn,rn,"depth stencil","depth stencil")),yn=null,Mn=0;Mn<cn.length;++Mn)xt(cn[Mn]),cn[Mn]&&cn[Mn].texture&&(Rn=kt[cn[Mn].texture._texture.format]*wt[cn[Mn].texture._texture.type],yn===null&&(yn=Rn));return xt(vn),xt(Sn),xt(Hn),Mt(nn),nn.width=Tn,nn.height=Pn,nn.colorAttachments=cn,nn.depthAttachment=vn,nn.stencilAttachment=Sn,nn.depthStencilAttachment=Hn,ln.color=cn.map(St),ln.depth=St(vn),ln.stencil=St(Sn),ln.depthStencil=St(Hn),ln.width=nn.width,ln.height=nn.height,Nt(nn),ln}var nn=new vt;return je.framebufferCount++,ln(gn,Xt),ee(ln,{resize:function(hn,mn){var Mn=Math.max(0|hn,1),Tn=Math.max(0|mn||Mn,1);if(Mn===nn.width&&Tn===nn.height)return ln;for(var Pn=nn.colorAttachments,yn=0;yn<Pn.length;++yn)gt(Pn[yn],Mn,Tn);return gt(nn.depthAttachment,Mn,Tn),gt(nn.stencilAttachment,Mn,Tn),gt(nn.depthStencilAttachment,Mn,Tn),nn.width=ln.width=Mn,nn.height=ln.height=Tn,Nt(nn),ln},_reglType:"framebuffer",_framebuffer:nn,destroy:function(){Bt(nn),Mt(nn)},use:function(hn){an.setFBO({framebuffer:ln},hn)}})}var an={cur:null,next:null,dirty:!1,setFBO:null},Gt=["rgba"],Yt=["rgba4","rgb565","rgb5 a1"];$e.ext_srgb&&Yt.push("srgba"),$e.ext_color_buffer_half_float&&Yt.push("rgba16f","rgb16f"),$e.webgl_color_buffer_float&&Yt.push("rgba32f");var en=["uint8"];$e.oes_texture_half_float&&en.push("half float","float16"),$e.oes_texture_float&&en.push("float","float32");var bn=0,On={};return ee(an,{getFramebuffer:function(gn){return typeof gn=="function"&&gn._reglType==="framebuffer"&&(gn=gn._framebuffer)instanceof vt?gn:null},create:qt,createCube:function(gn){function Xt(nn){var hn,mn={color:null},Mn=0,Tn=null;hn="rgba";var Pn="uint8",yn=1;if(typeof nn=="number"?Mn=0|nn:nn?("shape"in nn?Mn=nn.shape[0]:("radius"in nn&&(Mn=0|nn.radius),"width"in nn?Mn=0|nn.width:"height"in nn&&(Mn=0|nn.height)),("color"in nn||"colors"in nn)&&(Tn=nn.color||nn.colors,Array.isArray(Tn)),Tn||("colorCount"in nn&&(yn=0|nn.colorCount),"colorType"in nn&&(Pn=nn.colorType),"colorFormat"in nn&&(hn=nn.colorFormat)),"depth"in nn&&(mn.depth=nn.depth),"stencil"in nn&&(mn.stencil=nn.stencil),"depthStencil"in nn&&(mn.depthStencil=nn.depthStencil)):Mn=1,Tn)if(Array.isArray(Tn))for(nn=[],hn=0;hn<Tn.length;++hn)nn[hn]=Tn[hn];else nn=[Tn];else for(nn=Array(yn),Tn={radius:Mn,format:hn,type:Pn},hn=0;hn<yn;++hn)nn[hn]=at.createCube(Tn);for(mn.color=Array(nn.length),hn=0;hn<nn.length;++hn)yn=nn[hn],Mn=Mn||yn.width,mn.color[hn]={target:34069,data:nn[hn]};for(hn=0;6>hn;++hn){for(yn=0;yn<nn.length;++yn)mn.color[yn].target=34069+hn;0<hn&&(mn.depth=ln[0].depth,mn.stencil=ln[0].stencil,mn.depthStencil=ln[0].depthStencil),ln[hn]?ln[hn](mn):ln[hn]=qt(mn)}return ee(Xt,{width:Mn,height:Mn,color:nn})}var ln=Array(6);return Xt(gn),ee(Xt,{faces:ln,resize:function(nn){var hn=0|nn;if(hn===Xt.width)return Xt;var mn=Xt.color;for(nn=0;nn<mn.length;++nn)mn[nn].resize(hn);for(nn=0;6>nn;++nn)ln[nn].resize(hn);return Xt.width=Xt.height=hn,Xt},_reglType:"framebufferCube",destroy:function(){ln.forEach(function(nn){nn.destroy()})}})},clear:function(){me(On).forEach(Bt)},restore:function(){an.cur=null,an.next=null,an.dirty=!0,me(On).forEach(function(gn){gn.framebuffer=qe.createFramebuffer(),Nt(gn)})}})}function E(){this.w=this.z=this.y=this.x=this.state=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=5126,this.divisor=this.stride=this.offset=0}function L(qe,$e,ct,at,Re,je,st){function ot(){this.id=++bt,this.attributes=[],this.elements=null,this.ownsElements=!1,this.offset=this.count=0,this.instances=-1,this.primitive=4;var gt=$e.oes_vertex_array_object;this.vao=gt?gt.createVertexArrayOES():null,dt[this.id]=this,this.buffers=[]}var xt=ct.maxAttributes,mt=Array(xt);for(ct=0;ct<xt;++ct)mt[ct]=new E;var bt=0,dt={},St={Record:E,scope:{},state:mt,currentVAO:null,targetVAO:null,restore:$e.oes_vertex_array_object?function(){$e.oes_vertex_array_object&&me(dt).forEach(function(gt){gt.refresh()})}:function(){},createVAO:function(gt){function vt(Bt){var Nt;Array.isArray(Bt)?(Nt=Bt,Mt.elements&&Mt.ownsElements&&Mt.elements.destroy(),Mt.elements=null,Mt.ownsElements=!1,Mt.offset=0,Mt.count=0,Mt.instances=-1,Mt.primitive=4):(Bt.elements?(Nt=Bt.elements,Mt.ownsElements?(typeof Nt=="function"&&Nt._reglType==="elements"?Mt.elements.destroy():Mt.elements(Nt),Mt.ownsElements=!1):je.getElements(Bt.elements)?(Mt.elements=Bt.elements,Mt.ownsElements=!1):(Mt.elements=je.create(Bt.elements),Mt.ownsElements=!0)):(Mt.elements=null,Mt.ownsElements=!1),Nt=Bt.attributes,Mt.offset=0,Mt.count=-1,Mt.instances=-1,Mt.primitive=4,Mt.elements&&(Mt.count=Mt.elements._elements.vertCount,Mt.primitive=Mt.elements._elements.primType),"offset"in Bt&&(Mt.offset=0|Bt.offset),"count"in Bt&&(Mt.count=0|Bt.count),"instances"in Bt&&(Mt.instances=0|Bt.instances),"primitive"in Bt&&(Mt.primitive=Le[Bt.primitive])),Bt={};var qt=Mt.attributes;qt.length=Nt.length;for(var an=0;an<Nt.length;++an){var Gt,Yt=Nt[an],en=qt[an]=new E,bn=Yt.data||Yt;Array.isArray(bn)||we(bn)||t(bn)?(Mt.buffers[an]&&(Gt=Mt.buffers[an],we(bn)&&Gt._buffer.byteLength>=bn.byteLength?Gt.subdata(bn):(Gt.destroy(),Mt.buffers[an]=null)),Mt.buffers[an]||(Gt=Mt.buffers[an]=Re.create(Yt,34962,!1,!0)),en.buffer=Re.getBuffer(Gt),en.size=0|en.buffer.dimension,en.normalized=!1,en.type=en.buffer.dtype,en.offset=0,en.stride=0,en.divisor=0,en.state=1,Bt[an]=1):Re.getBuffer(Yt)?(en.buffer=Re.getBuffer(Yt),en.size=0|en.buffer.dimension,en.normalized=!1,en.type=en.buffer.dtype,en.offset=0,en.stride=0,en.divisor=0,en.state=1):Re.getBuffer(Yt.buffer)?(en.buffer=Re.getBuffer(Yt.buffer),en.size=0|(+Yt.size||en.buffer.dimension),en.normalized=!!Yt.normalized||!1,en.type="type"in Yt?Se[Yt.type]:en.buffer.dtype,en.offset=0|(Yt.offset||0),en.stride=0|(Yt.stride||0),en.divisor=0|(Yt.divisor||0),en.state=1):"x"in Yt&&(en.x=+Yt.x||0,en.y=+Yt.y||0,en.z=+Yt.z||0,en.w=+Yt.w||0,en.state=2)}for(Gt=0;Gt<Mt.buffers.length;++Gt)!Bt[Gt]&&Mt.buffers[Gt]&&(Mt.buffers[Gt].destroy(),Mt.buffers[Gt]=null);return Mt.refresh(),vt}var Mt=new ot;return at.vaoCount+=1,vt.destroy=function(){for(var Bt=0;Bt<Mt.buffers.length;++Bt)Mt.buffers[Bt]&&Mt.buffers[Bt].destroy();Mt.buffers.length=0,Mt.ownsElements&&(Mt.elements.destroy(),Mt.elements=null,Mt.ownsElements=!1),Mt.destroy()},vt._vao=Mt,vt._reglType="vao",vt(gt)},getVAO:function(gt){return typeof gt=="function"&&gt._vao?gt._vao:null},destroyBuffer:function(gt){for(var vt=0;vt<mt.length;++vt){var Mt=mt[vt];Mt.buffer===gt&&(qe.disableVertexAttribArray(vt),Mt.buffer=null)}},setVAO:$e.oes_vertex_array_object?function(gt){if(gt!==St.currentVAO){var vt=$e.oes_vertex_array_object;gt?vt.bindVertexArrayOES(gt.vao):vt.bindVertexArrayOES(null),St.currentVAO=gt}}:function(gt){if(gt!==St.currentVAO){if(gt)gt.bindAttrs();else{for(var vt=$e.angle_instanced_arrays,Mt=0;Mt<mt.length;++Mt){var Bt=mt[Mt];Bt.buffer?(qe.enableVertexAttribArray(Mt),Bt.buffer.bind(),qe.vertexAttribPointer(Mt,Bt.size,Bt.type,Bt.normalized,Bt.stride,Bt.offfset),vt&&Bt.divisor&&vt.vertexAttribDivisorANGLE(Mt,Bt.divisor)):(qe.disableVertexAttribArray(Mt),qe.vertexAttrib4f(Mt,Bt.x,Bt.y,Bt.z,Bt.w))}st.elements?qe.bindBuffer(34963,st.elements.buffer.buffer):qe.bindBuffer(34963,null)}St.currentVAO=gt}},clear:$e.oes_vertex_array_object?function(){me(dt).forEach(function(gt){gt.destroy()})}:function(){}};return ot.prototype.bindAttrs=function(){for(var gt=$e.angle_instanced_arrays,vt=this.attributes,Mt=0;Mt<vt.length;++Mt){var Bt=vt[Mt];Bt.buffer?(qe.enableVertexAttribArray(Mt),qe.bindBuffer(34962,Bt.buffer.buffer),qe.vertexAttribPointer(Mt,Bt.size,Bt.type,Bt.normalized,Bt.stride,Bt.offset),gt&&Bt.divisor&&gt.vertexAttribDivisorANGLE(Mt,Bt.divisor)):(qe.disableVertexAttribArray(Mt),qe.vertexAttrib4f(Mt,Bt.x,Bt.y,Bt.z,Bt.w))}for(gt=vt.length;gt<xt;++gt)qe.disableVertexAttribArray(gt);(gt=je.getElements(this.elements))?qe.bindBuffer(34963,gt.buffer.buffer):qe.bindBuffer(34963,null)},ot.prototype.refresh=function(){var gt=$e.oes_vertex_array_object;gt&&(gt.bindVertexArrayOES(this.vao),this.bindAttrs(),St.currentVAO=null,gt.bindVertexArrayOES(null))},ot.prototype.destroy=function(){if(this.vao){var gt=$e.oes_vertex_array_object;this===St.currentVAO&&(St.currentVAO=null,gt.bindVertexArrayOES(null)),gt.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),dt[this.id]&&(delete dt[this.id],--at.vaoCount)},St}function C(qe,$e,ct,at){function Re(vt,Mt,Bt,Nt){this.name=vt,this.id=Mt,this.location=Bt,this.info=Nt}function je(vt,Mt){for(var Bt=0;Bt<vt.length;++Bt)if(vt[Bt].id===Mt.id)return void(vt[Bt].location=Mt.location);vt.push(Mt)}function st(vt,Mt,Bt){if(!(qt=(Bt=vt===35632?mt:bt)[Mt])){var Nt=$e.str(Mt),qt=qe.createShader(vt);qe.shaderSource(qt,Nt),qe.compileShader(qt),Bt[Mt]=qt}return qt}function ot(vt,Mt){this.id=gt++,this.fragId=vt,this.vertId=Mt,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,at.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function xt(vt,Mt,Bt){var Nt;Nt=st(35632,vt.fragId);var qt=st(35633,vt.vertId);if(Mt=vt.program=qe.createProgram(),qe.attachShader(Mt,Nt),qe.attachShader(Mt,qt),Bt)for(Nt=0;Nt<Bt.length;++Nt)qt=Bt[Nt],qe.bindAttribLocation(Mt,qt[0],qt[1]);qe.linkProgram(Mt),qt=qe.getProgramParameter(Mt,35718),at.profile&&(vt.stats.uniformsCount=qt);var an=vt.uniforms;for(Nt=0;Nt<qt;++Nt)if(Bt=qe.getActiveUniform(Mt,Nt))if(1<Bt.size)for(var Gt=0;Gt<Bt.size;++Gt){var Yt=Bt.name.replace("[0]","["+Gt+"]");je(an,new Re(Yt,$e.id(Yt),qe.getUniformLocation(Mt,Yt),Bt))}else je(an,new Re(Bt.name,$e.id(Bt.name),qe.getUniformLocation(Mt,Bt.name),Bt));for(qt=qe.getProgramParameter(Mt,35721),at.profile&&(vt.stats.attributesCount=qt),vt=vt.attributes,Nt=0;Nt<qt;++Nt)(Bt=qe.getActiveAttrib(Mt,Nt))&&je(vt,new Re(Bt.name,$e.id(Bt.name),qe.getAttribLocation(Mt,Bt.name),Bt))}var mt={},bt={},dt={},St=[],gt=0;return at.profile&&(ct.getMaxUniformsCount=function(){var vt=0;return St.forEach(function(Mt){Mt.stats.uniformsCount>vt&&(vt=Mt.stats.uniformsCount)}),vt},ct.getMaxAttributesCount=function(){var vt=0;return St.forEach(function(Mt){Mt.stats.attributesCount>vt&&(vt=Mt.stats.attributesCount)}),vt}),{clear:function(){var vt=qe.deleteShader.bind(qe);me(mt).forEach(vt),mt={},me(bt).forEach(vt),bt={},St.forEach(function(Mt){qe.deleteProgram(Mt.program)}),St.length=0,dt={},ct.shaderCount=0},program:function(vt,Mt,Bt,Nt){var qt=dt[Mt];qt||(qt=dt[Mt]={});var an=qt[vt];if(an&&(an.refCount++,!Nt))return an;var Gt=new ot(Mt,vt);return ct.shaderCount++,xt(Gt,Bt,Nt),an||(qt[vt]=Gt),St.push(Gt),ee(Gt,{destroy:function(){if(Gt.refCount--,0>=Gt.refCount){qe.deleteProgram(Gt.program);var Yt=St.indexOf(Gt);St.splice(Yt,1),ct.shaderCount--}0>=qt[Gt.vertId].refCount&&(qe.deleteShader(bt[Gt.vertId]),delete bt[Gt.vertId],delete dt[Gt.fragId][Gt.vertId]),Object.keys(dt[Gt.fragId]).length||(qe.deleteShader(mt[Gt.fragId]),delete mt[Gt.fragId],delete dt[Gt.fragId])}})},restore:function(){mt={},bt={};for(var vt=0;vt<St.length;++vt)xt(St[vt],null,St[vt].attributes.map(function(Mt){return[Mt.location,Mt.name]}))},shader:st,frag:-1,vert:-1}}function P(qe,$e,ct,at,Re,je,st){function ot(xt){var mt;mt=$e.next===null?5121:$e.next.colorAttachments[0].texture._texture.type;var bt=0,dt=0,St=at.framebufferWidth,gt=at.framebufferHeight,vt=null;return we(xt)?vt=xt:xt&&(bt=0|xt.x,dt=0|xt.y,St=0|(xt.width||at.framebufferWidth-bt),gt=0|(xt.height||at.framebufferHeight-dt),vt=xt.data||null),ct(),xt=St*gt*4,vt||(mt===5121?vt=new Uint8Array(xt):mt===5126&&(vt=vt||new Float32Array(xt))),qe.pixelStorei(3333,4),qe.readPixels(bt,dt,St,gt,6408,mt,vt),vt}return function(xt){return xt&&"framebuffer"in xt?function(mt){var bt;return $e.setFBO({framebuffer:mt.framebuffer},function(){bt=ot(mt)}),bt}(xt):ot(xt)}}function R(qe,$e){return qe>>>$e|qe<<32-$e}function G(qe,$e){var ct=(65535&qe)+(65535&$e);return(qe>>16)+($e>>16)+(ct>>16)<<16|65535&ct}function I(qe){return Array.prototype.slice.call(qe)}function H(qe){return I(qe).join("")}function N(qe){function $e(){var bt=[],dt=[];return ee(function(){bt.push.apply(bt,I(arguments))},{def:function(){var St="v"+Re++;return dt.push(St),0<arguments.length&&(bt.push(St,"="),bt.push.apply(bt,I(arguments)),bt.push(";")),St},toString:function(){return H([0<dt.length?"var "+dt.join(",")+";":"",H(bt)])}})}function ct(){function bt(Mt,Bt){St(Mt,Bt,"=",dt.def(Mt,Bt),";")}var dt=$e(),St=$e(),gt=dt.toString,vt=St.toString;return ee(function(){dt.apply(dt,I(arguments))},{def:dt.def,entry:dt,exit:St,save:bt,set:function(Mt,Bt,Nt){bt(Mt,Bt),dt(Mt,Bt,"=",Nt,";")},toString:function(){return gt()+vt()}})}var at=qe&&qe.cache,Re=0,je=[],st=[],ot=[],xt=$e(),mt={};return{global:xt,link:function(bt,dt){var St=dt&&dt.stable;if(!St){for(var gt=0;gt<st.length;++gt)if(st[gt]===bt&&!ot[gt])return je[gt]}return gt="g"+Re++,je.push(gt),st.push(bt),ot.push(St),gt},block:$e,proc:function(bt,dt){function St(){var Bt="a"+gt.length;return gt.push(Bt),Bt}var gt=[];dt=dt||0;for(var vt=0;vt<dt;++vt)St();var Mt=(vt=ct()).toString;return mt[bt]=ee(vt,{arg:St,toString:function(){return H(["function(",gt.join(),"){",Mt(),"}"])}})},scope:ct,cond:function(){var bt=H(arguments),dt=ct(),St=ct(),gt=dt.toString,vt=St.toString;return ee(dt,{then:function(){return dt.apply(dt,I(arguments)),this},else:function(){return St.apply(St,I(arguments)),this},toString:function(){var Mt=vt();return Mt&&(Mt="else{"+Mt+"}"),H(["if(",bt,"){",gt(),"}",Mt])}})},compile:function(){var bt=['"use strict";',xt,"return {"];Object.keys(mt).forEach(function(gt){bt.push('"',gt,'":',mt[gt].toString(),",")}),bt.push("}");var dt,St=H(bt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`);return at&&(dt=function(gt){for(var vt,Mt="",Bt=0;Bt<gt.length;Bt++)vt=gt.charCodeAt(Bt),Mt+="0123456789abcdef".charAt(vt>>>4&15)+"0123456789abcdef".charAt(15&vt);return Mt}(function(gt){for(var vt=Array(gt.length>>2),Mt=0;Mt<vt.length;Mt++)vt[Mt]=0;for(Mt=0;Mt<8*gt.length;Mt+=8)vt[Mt>>5]|=(255&gt.charCodeAt(Mt/8))<<24-Mt%32;var Bt,Nt,qt,an,Gt,Yt,en,bn,On,gn,Xt,ln=8*gt.length;for(gt=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Mt=Array(64),vt[ln>>5]|=128<<24-ln%32,vt[15+(ln+64>>9<<4)]=ln,bn=0;bn<vt.length;bn+=16){for(ln=gt[0],Bt=gt[1],Nt=gt[2],qt=gt[3],an=gt[4],Gt=gt[5],Yt=gt[6],en=gt[7],On=0;64>On;On++){var nn;16>On?Mt[On]=vt[On+bn]:(gn=On,Xt=G(Xt=R(Xt=Mt[On-2],17)^R(Xt,19)^Xt>>>10,Mt[On-7]),nn=R(nn=Mt[On-15],7)^R(nn,18)^nn>>>3,Mt[gn]=G(G(Xt,nn),Mt[On-16])),gn=G(G(G(G(en,gn=R(gn=an,6)^R(gn,11)^R(gn,25)),an&Gt^~an&Yt),lt[On]),Mt[On]),Xt=G(en=R(en=ln,2)^R(en,13)^R(en,22),ln&Bt^ln&Nt^Bt&Nt),en=Yt,Yt=Gt,Gt=an,an=G(qt,gn),qt=Nt,Nt=Bt,Bt=ln,ln=G(gn,Xt)}gt[0]=G(ln,gt[0]),gt[1]=G(Bt,gt[1]),gt[2]=G(Nt,gt[2]),gt[3]=G(qt,gt[3]),gt[4]=G(an,gt[4]),gt[5]=G(Gt,gt[5]),gt[6]=G(Yt,gt[6]),gt[7]=G(en,gt[7])}for(vt="",Mt=0;Mt<32*gt.length;Mt+=8)vt+=String.fromCharCode(gt[Mt>>5]>>>24-Mt%32&255);return vt}(function(gt){for(var vt,Mt,Bt="",Nt=-1;++Nt<gt.length;)vt=gt.charCodeAt(Nt),Mt=Nt+1<gt.length?gt.charCodeAt(Nt+1):0,55296<=vt&&56319>=vt&&56320<=Mt&&57343>=Mt&&(vt=65536+((1023&vt)<<10)+(1023&Mt),Nt++),127>=vt?Bt+=String.fromCharCode(vt):2047>=vt?Bt+=String.fromCharCode(192|vt>>>6&31,128|63&vt):65535>=vt?Bt+=String.fromCharCode(224|vt>>>12&15,128|vt>>>6&63,128|63&vt):2097151>=vt&&(Bt+=String.fromCharCode(240|vt>>>18&7,128|vt>>>12&63,128|vt>>>6&63,128|63&vt));return Bt}(St))),at[dt])?at[dt].apply(null,st):(St=Function.apply(null,je.concat(St)),at&&(at[dt]=St),St.apply(null,st))}}}function B(qe){return Array.isArray(qe)||we(qe)||t(qe)}function V(qe){return qe.sort(function($e,ct){return $e==="viewport"?-1:ct==="viewport"?1:$e<ct?-1:1})}function q(qe,$e,ct,at){this.thisDep=qe,this.contextDep=$e,this.propDep=ct,this.append=at}function te(qe){return qe&&!(qe.thisDep||qe.contextDep||qe.propDep)}function $(qe){return new q(!1,!1,!1,qe)}function K(qe,$e){var ct=qe.type;if(ct===0)return new q(!0,1<=(ct=qe.data.length),2<=ct,$e);if(ct===4)return new q((ct=qe.data).thisDep,ct.contextDep,ct.propDep,$e);if(ct===5)return new q(!1,!1,!1,$e);if(ct===6){for(var at=ct=!1,Re=!1,je=0;je<qe.data.length;++je){var st=qe.data[je];st.type===1?Re=!0:st.type===2?at=!0:st.type===3?ct=!0:st.type===0?(ct=!0,1<=(st=st.data)&&(at=!0),2<=st&&(Re=!0)):st.type===4&&(ct=ct||st.data.thisDep,at=at||st.data.contextDep,Re=Re||st.data.propDep)}return new q(ct,at,Re,$e)}return new q(ct===3,ct===2,ct===1,$e)}function Z(qe,$e,ct,at,Re,je,st,ot,xt,mt,bt,dt,St,gt,vt,Mt){function Bt(Ct){return Ct.replace(".","_")}function Nt(Ct,Jt,tn){var wn=Bt(Ct);Hn.push(Ct),Sn[wn]=vn[wn]=!!tn,Dn[wn]=Jt}function qt(Ct,Jt,tn){var wn=Bt(Ct);Hn.push(Ct),Array.isArray(tn)?(vn[wn]=tn.slice(),Sn[wn]=tn.slice()):vn[wn]=Sn[wn]=tn,Bn[wn]=Jt}function an(){var Ct=N({cache:vt}),Jt=Ct.link,tn=Ct.global;Ct.id=An++,Ct.batchId="0";var wn=Jt(Qn),kn=Ct.shared={props:"a0"};Object.keys(Qn).forEach(function(fn){kn[fn]=tn.def(wn,".",fn)});var Cn=Ct.next={},pn=Ct.current={};Object.keys(Bn).forEach(function(fn){Array.isArray(vn[fn])&&(Cn[fn]=tn.def(kn.next,".",fn),pn[fn]=tn.def(kn.current,".",fn))});var $t=Ct.constants={};Object.keys(Wt).forEach(function(fn){$t[fn]=tn.def(JSON.stringify(Wt[fn]))}),Ct.invoke=function(fn,dn){switch(dn.type){case 0:var In=["this",kn.context,kn.props,Ct.batchId];return fn.def(Jt(dn.data),".call(",In.slice(0,Math.max(dn.data.length+1,4)),")");case 1:return fn.def(kn.props,dn.data);case 2:return fn.def(kn.context,dn.data);case 3:return fn.def("this",dn.data);case 4:return dn.data.append(Ct,fn),dn.data.ref;case 5:return dn.data.toString();case 6:return dn.data.map(function(zn){return Ct.invoke(fn,zn)})}},Ct.attribCache={};var Qt={};return Ct.scopeAttrib=function(fn){if((fn=$e.id(fn))in Qt)return Qt[fn];var dn=mt.scope[fn];return dn||(dn=mt.scope[fn]=new Jn),Qt[fn]=Jt(dn)},Ct}function Gt(Ct,Jt){var tn=Ct.static,wn=Ct.dynamic;if("framebuffer"in tn){var kn=tn.framebuffer;return kn?(kn=ot.getFramebuffer(kn),$(function(pn,$t){var Qt=pn.link(kn),fn=pn.shared;return $t.set(fn.framebuffer,".next",Qt),fn=fn.context,$t.set(fn,".framebufferWidth",Qt+".width"),$t.set(fn,".framebufferHeight",Qt+".height"),Qt})):$(function(pn,$t){var Qt=pn.shared;return $t.set(Qt.framebuffer,".next","null"),Qt=Qt.context,$t.set(Qt,".framebufferWidth",Qt+".drawingBufferWidth"),$t.set(Qt,".framebufferHeight",Qt+".drawingBufferHeight"),"null"})}if("framebuffer"in wn){var Cn=wn.framebuffer;return K(Cn,function(pn,$t){var Qt=pn.invoke($t,Cn),fn=pn.shared,dn=fn.framebuffer;return Qt=$t.def(dn,".getFramebuffer(",Qt,")"),$t.set(dn,".next",Qt),fn=fn.context,$t.set(fn,".framebufferWidth",Qt+"?"+Qt+".width:"+fn+".drawingBufferWidth"),$t.set(fn,".framebufferHeight",Qt+"?"+Qt+".height:"+fn+".drawingBufferHeight"),Qt})}return null}function Yt(Ct,Jt,tn){function wn(fn){if(fn in kn){var dn=$e.id(kn[fn]);return(fn=$(function(){return dn})).id=dn,fn}if(fn in Cn){var In=Cn[fn];return K(In,function(zn,Yn){var Vn=zn.invoke(Yn,In);return Yn.def(zn.shared.strings,".id(",Vn,")")})}return null}var kn=Ct.static,Cn=Ct.dynamic,pn=wn("frag"),$t=wn("vert"),Qt=null;return te(pn)&&te($t)?(Qt=bt.program($t.id,pn.id,null,tn),Ct=$(function(fn,dn){return fn.link(Qt)})):Ct=new q(pn&&pn.thisDep||$t&&$t.thisDep,pn&&pn.contextDep||$t&&$t.contextDep,pn&&pn.propDep||$t&&$t.propDep,function(fn,dn){var In,zn,Yn=fn.shared.shader;return In=pn?pn.append(fn,dn):dn.def(Yn,".","frag"),zn=$t?$t.append(fn,dn):dn.def(Yn,".","vert"),dn.def(Yn+".program("+zn+","+In+")")}),{frag:pn,vert:$t,progVar:Ct,program:Qt}}function en(Ct,Jt){function tn(Vn,nr){if(Vn in wn){var Xn=0|wn[Vn];return nr?Cn.offset=Xn:Cn.instances=Xn,$(function(ar,or){return nr&&(ar.OFFSET=Xn),Xn})}if(Vn in kn){var lr=kn[Vn];return K(lr,function(ar,or){var dr=ar.invoke(or,lr);return nr&&(ar.OFFSET=dr),dr})}if(nr){if(Qt)return $(function(ar,or){return ar.OFFSET=0});if(pn)return new q($t.thisDep,$t.contextDep,$t.propDep,function(ar,or){return or.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.offset:0")})}else if(pn)return new q($t.thisDep,$t.contextDep,$t.propDep,function(ar,or){return or.def(ar.shared.vao+".currentVAO?"+ar.shared.vao+".currentVAO.instances:-1")});return null}var wn=Ct.static,kn=Ct.dynamic,Cn={},pn=!1,$t=function(){if("vao"in wn){var Vn=wn.vao;return Vn!==null&&mt.getVAO(Vn)===null&&(Vn=mt.createVAO(Vn)),pn=!0,Cn.vao=Vn,$(function(Xn){var lr=mt.getVAO(Vn);return lr?Xn.link(lr):"null"})}if("vao"in kn){pn=!0;var nr=kn.vao;return K(nr,function(Xn,lr){var ar=Xn.invoke(lr,nr);return lr.def(Xn.shared.vao+".getVAO("+ar+")")})}return null}(),Qt=!1,fn=function(){if("elements"in wn){var Vn=wn.elements;if(Cn.elements=Vn,B(Vn)){var nr=Cn.elements=je.create(Vn,!0);Vn=je.getElements(nr),Qt=!0}else Vn&&(Vn=je.getElements(Vn),Qt=!0);return nr=$(function(lr,ar){if(Vn){var or=lr.link(Vn);return lr.ELEMENTS=or}return lr.ELEMENTS=null}),nr.value=Vn,nr}if("elements"in kn){Qt=!0;var Xn=kn.elements;return K(Xn,function(lr,ar){var or=(dr=lr.shared).isBufferArgs,dr=dr.elements,gr=lr.invoke(ar,Xn),Sr=ar.def("null");return or=ar.def(or,"(",gr,")"),gr=lr.cond(or).then(Sr,"=",dr,".createStream(",gr,");").else(Sr,"=",dr,".getElements(",gr,");"),ar.entry(gr),ar.exit(lr.cond(or).then(dr,".destroyStream(",Sr,");")),lr.ELEMENTS=Sr})}return pn?new q($t.thisDep,$t.contextDep,$t.propDep,function(lr,ar){return ar.def(lr.shared.vao+".currentVAO?"+lr.shared.elements+".getElements("+lr.shared.vao+".currentVAO.elements):null")}):null}(),dn=tn("offset",!0),In=function(){if("primitive"in wn){var Vn=wn.primitive;return Cn.primitive=Vn,$(function(Xn,lr){return Le[Vn]})}if("primitive"in kn){var nr=kn.primitive;return K(nr,function(Xn,lr){var ar=Xn.constants.primTypes,or=Xn.invoke(lr,nr);return lr.def(ar,"[",or,"]")})}return Qt?te(fn)?fn.value?$(function(Xn,lr){return lr.def(Xn.ELEMENTS,".primType")}):$(function(){return 4}):new q(fn.thisDep,fn.contextDep,fn.propDep,function(Xn,lr){var ar=Xn.ELEMENTS;return lr.def(ar,"?",ar,".primType:",4)}):pn?new q($t.thisDep,$t.contextDep,$t.propDep,function(Xn,lr){return lr.def(Xn.shared.vao+".currentVAO?"+Xn.shared.vao+".currentVAO.primitive:4")}):null}(),zn=function(){if("count"in wn){var Vn=0|wn.count;return Cn.count=Vn,$(function(){return Vn})}if("count"in kn){var nr=kn.count;return K(nr,function(Xn,lr){return Xn.invoke(lr,nr)})}return Qt?te(fn)?fn?dn?new q(dn.thisDep,dn.contextDep,dn.propDep,function(Xn,lr){return lr.def(Xn.ELEMENTS,".vertCount-",Xn.OFFSET)}):$(function(Xn,lr){return lr.def(Xn.ELEMENTS,".vertCount")}):$(function(){return-1}):new q(fn.thisDep||dn.thisDep,fn.contextDep||dn.contextDep,fn.propDep||dn.propDep,function(Xn,lr){var ar=Xn.ELEMENTS;return Xn.OFFSET?lr.def(ar,"?",ar,".vertCount-",Xn.OFFSET,":-1"):lr.def(ar,"?",ar,".vertCount:-1")}):pn?new q($t.thisDep,$t.contextDep,$t.propDep,function(Xn,lr){return lr.def(Xn.shared.vao,".currentVAO?",Xn.shared.vao,".currentVAO.count:-1")}):null}(),Yn=tn("instances",!1);return{elements:fn,primitive:In,count:zn,instances:Yn,offset:dn,vao:$t,vaoActive:pn,elementsActive:Qt,static:Cn}}function bn(Ct,Jt){var tn=Ct.static,wn=Ct.dynamic,kn={};return Object.keys(tn).forEach(function(Cn){var pn=tn[Cn],$t=$e.id(Cn),Qt=new Jn;if(B(pn))Qt.state=1,Qt.buffer=Re.getBuffer(Re.create(pn,34962,!1,!0)),Qt.type=0;else if(dn=Re.getBuffer(pn))Qt.state=1,Qt.buffer=dn,Qt.type=0;else if("constant"in pn){var fn=pn.constant;Qt.buffer="null",Qt.state=2,typeof fn=="number"?Qt.x=fn:ut.forEach(function(Xn,lr){lr<fn.length&&(Qt[Xn]=fn[lr])})}else{var dn=B(pn.buffer)?Re.getBuffer(Re.create(pn.buffer,34962,!1,!0)):Re.getBuffer(pn.buffer),In=0|pn.offset,zn=0|pn.stride,Yn=0|pn.size,Vn=!!pn.normalized,nr=0;"type"in pn&&(nr=Se[pn.type]),pn=0|pn.divisor,Qt.buffer=dn,Qt.state=1,Qt.size=Yn,Qt.normalized=Vn,Qt.type=nr||dn.dtype,Qt.offset=In,Qt.stride=zn,Qt.divisor=pn}kn[Cn]=$(function(Xn,lr){var ar=Xn.attribCache;if($t in ar)return ar[$t];var or={isStream:!1};return Object.keys(Qt).forEach(function(dr){or[dr]=Qt[dr]}),Qt.buffer&&(or.buffer=Xn.link(Qt.buffer),or.type=or.type||or.buffer+".dtype"),ar[$t]=or})}),Object.keys(wn).forEach(function(Cn){var pn=wn[Cn];kn[Cn]=K(pn,function($t,Qt){function fn(ar){Qt(Vn[ar],"=",dn,".",ar,"|0;")}var dn=$t.invoke(Qt,pn),In=$t.shared,zn=$t.constants,Yn=In.isBufferArgs,Vn=(In=In.buffer,{isStream:Qt.def(!1)}),nr=new Jn;nr.state=1,Object.keys(nr).forEach(function(ar){Vn[ar]=Qt.def(""+nr[ar])});var Xn=Vn.buffer,lr=Vn.type;return Qt("if(",Yn,"(",dn,")){",Vn.isStream,"=true;",Xn,"=",In,".createStream(",34962,",",dn,");",lr,"=",Xn,".dtype;","}else{",Xn,"=",In,".getBuffer(",dn,");","if(",Xn,"){",lr,"=",Xn,".dtype;",'}else if("constant" in ',dn,"){",Vn.state,"=",2,";","if(typeof "+dn+'.constant === "number"){',Vn[ut[0]],"=",dn,".constant;",ut.slice(1).map(function(ar){return Vn[ar]}).join("="),"=0;","}else{",ut.map(function(ar,or){return Vn[ar]+"="+dn+".constant.length>"+or+"?"+dn+".constant["+or+"]:0;"}).join(""),"}}else{","if(",Yn,"(",dn,".buffer)){",Xn,"=",In,".createStream(",34962,",",dn,".buffer);","}else{",Xn,"=",In,".getBuffer(",dn,".buffer);","}",lr,'="type" in ',dn,"?",zn.glTypes,"[",dn,".type]:",Xn,".dtype;",Vn.normalized,"=!!",dn,".normalized;"),fn("size"),fn("offset"),fn("stride"),fn("divisor"),Qt("}}"),Qt.exit("if(",Vn.isStream,"){",In,".destroyStream(",Xn,");","}"),Vn})}),kn}function On(Ct,Jt,tn,wn,kn){function Cn(nr){var Xn=$t[nr];Xn&&(fn[nr]=Xn)}var pn=function(nr,Xn){if(typeof(lr=nr.static).frag=="string"&&typeof lr.vert=="string"){if(0<Object.keys(Xn.dynamic).length)return null;var lr=Xn.static,ar=Object.keys(lr);if(0<ar.length&&typeof lr[ar[0]]=="number"){for(var or=[],dr=0;dr<ar.length;++dr)or.push([0|lr[ar[dr]],ar[dr]]);return or}}return null}(Ct,Jt),$t=function(nr,Xn,lr){function ar(Sr){if(Sr in or){var $n=or[Sr];Sr=!0;var xr,Rr,ii=0|$n.x,_i=0|$n.y;return"width"in $n?xr=0|$n.width:Sr=!1,"height"in $n?Rr=0|$n.height:Sr=!1,new q(!Sr&&Xn&&Xn.thisDep,!Sr&&Xn&&Xn.contextDep,!Sr&&Xn&&Xn.propDep,function(Si,fi){var Ui=Si.shared.context,bo=xr;"width"in $n||(bo=fi.def(Ui,".","framebufferWidth","-",ii));var ja=Rr;return"height"in $n||(ja=fi.def(Ui,".","framebufferHeight","-",_i)),[ii,_i,bo,ja]})}if(Sr in dr){var vi=dr[Sr];return Sr=K(vi,function(Si,fi){var Ui=Si.invoke(fi,vi),bo=Si.shared.context,ja=fi.def(Ui,".x|0"),Do=fi.def(Ui,".y|0");return[ja,Do,fi.def('"width" in ',Ui,"?",Ui,".width|0:","(",bo,".","framebufferWidth","-",ja,")"),Ui=fi.def('"height" in ',Ui,"?",Ui,".height|0:","(",bo,".","framebufferHeight","-",Do,")")]}),Xn&&(Sr.thisDep=Sr.thisDep||Xn.thisDep,Sr.contextDep=Sr.contextDep||Xn.contextDep,Sr.propDep=Sr.propDep||Xn.propDep),Sr}return Xn?new q(Xn.thisDep,Xn.contextDep,Xn.propDep,function(Si,fi){var Ui=Si.shared.context;return[0,0,fi.def(Ui,".","framebufferWidth"),fi.def(Ui,".","framebufferHeight")]}):null}var or=nr.static,dr=nr.dynamic;if(nr=ar("viewport")){var gr=nr;nr=new q(nr.thisDep,nr.contextDep,nr.propDep,function(Sr,$n){var xr=gr.append(Sr,$n),Rr=Sr.shared.context;return $n.set(Rr,".viewportWidth",xr[2]),$n.set(Rr,".viewportHeight",xr[3]),xr})}return{viewport:nr,scissor_box:ar("scissor.box")}}(Ct,In=Gt(Ct)),Qt=en(Ct),fn=function(nr,Xn){var lr=nr.static,ar=nr.dynamic,or={};return Hn.forEach(function(dr){function gr($n,xr){if(dr in lr){var Rr=$n(lr[dr]);or[Sr]=$(function(){return Rr})}else if(dr in ar){var ii=ar[dr];or[Sr]=K(ii,function(_i,vi){return xr(_i,vi,_i.invoke(vi,ii))})}}var Sr=Bt(dr);switch(dr){case"cull.enable":case"blend.enable":case"dither":case"stencil.enable":case"depth.enable":case"scissor.enable":case"polygonOffset.enable":case"sample.alpha":case"sample.enable":case"depth.mask":case"lineWidth":return gr(function($n){return $n},function($n,xr,Rr){return Rr});case"depth.func":return gr(function($n){return zt[$n]},function($n,xr,Rr){return xr.def($n.constants.compareFuncs,"[",Rr,"]")});case"depth.range":return gr(function($n){return $n},function($n,xr,Rr){return[xr.def("+",Rr,"[0]"),xr=xr.def("+",Rr,"[1]")]});case"blend.func":return gr(function($n){return[Ot["srcRGB"in $n?$n.srcRGB:$n.src],Ot["dstRGB"in $n?$n.dstRGB:$n.dst],Ot["srcAlpha"in $n?$n.srcAlpha:$n.src],Ot["dstAlpha"in $n?$n.dstAlpha:$n.dst]]},function($n,xr,Rr){function ii(fi,Ui){return xr.def('"',fi,Ui,'" in ',Rr,"?",Rr,".",fi,Ui,":",Rr,".",fi)}$n=$n.constants.blendFuncs;var _i=ii("src","RGB"),vi=ii("dst","RGB"),Si=(_i=xr.def($n,"[",_i,"]"),xr.def($n,"[",ii("src","Alpha"),"]"));return[_i,vi=xr.def($n,"[",vi,"]"),Si,$n=xr.def($n,"[",ii("dst","Alpha"),"]")]});case"blend.equation":return gr(function($n){return typeof $n=="string"?[pr[$n],pr[$n]]:typeof $n=="object"?[pr[$n.rgb],pr[$n.alpha]]:void 0},function($n,xr,Rr){var ii=$n.constants.blendEquations,_i=xr.def(),vi=xr.def();return($n=$n.cond("typeof ",Rr,'==="string"')).then(_i,"=",vi,"=",ii,"[",Rr,"];"),$n.else(_i,"=",ii,"[",Rr,".rgb];",vi,"=",ii,"[",Rr,".alpha];"),xr($n),[_i,vi]});case"blend.color":return gr(function($n){return y(4,function(xr){return+$n[xr]})},function($n,xr,Rr){return y(4,function(ii){return xr.def("+",Rr,"[",ii,"]")})});case"stencil.mask":return gr(function($n){return 0|$n},function($n,xr,Rr){return xr.def(Rr,"|0")});case"stencil.func":return gr(function($n){return[zt[$n.cmp||"keep"],$n.ref||0,"mask"in $n?$n.mask:-1]},function($n,xr,Rr){return[$n=xr.def('"cmp" in ',Rr,"?",$n.constants.compareFuncs,"[",Rr,".cmp]",":",7680),xr.def(Rr,".ref|0"),xr=xr.def('"mask" in ',Rr,"?",Rr,".mask|0:-1")]});case"stencil.opFront":case"stencil.opBack":return gr(function($n){return[dr==="stencil.opBack"?1029:1028,Lt[$n.fail||"keep"],Lt[$n.zfail||"keep"],Lt[$n.zpass||"keep"]]},function($n,xr,Rr){function ii(vi){return xr.def('"',vi,'" in ',Rr,"?",_i,"[",Rr,".",vi,"]:",7680)}var _i=$n.constants.stencilOps;return[dr==="stencil.opBack"?1029:1028,ii("fail"),ii("zfail"),ii("zpass")]});case"polygonOffset.offset":return gr(function($n){return[0|$n.factor,0|$n.units]},function($n,xr,Rr){return[xr.def(Rr,".factor|0"),xr=xr.def(Rr,".units|0")]});case"cull.face":return gr(function($n){var xr=0;return $n==="front"?xr=1028:$n==="back"&&(xr=1029),xr},function($n,xr,Rr){return xr.def(Rr,'==="front"?',1028,":",1029)});case"frontFace":return gr(function($n){return Je[$n]},function($n,xr,Rr){return xr.def(Rr+'==="cw"?2304:2305')});case"colorMask":return gr(function($n){return $n.map(function(xr){return!!xr})},function($n,xr,Rr){return y(4,function(ii){return"!!"+Rr+"["+ii+"]"})});case"sample.coverage":return gr(function($n){return["value"in $n?$n.value:1,!!$n.invert]},function($n,xr,Rr){return[xr.def('"value" in ',Rr,"?+",Rr,".value:1"),xr=xr.def("!!",Rr,".invert")]})}}),or}(Ct),dn=Yt(Ct,0,pn);Cn("viewport"),Cn(Bt("scissor.box"));var In,zn=0<Object.keys(fn).length;if((In={framebuffer:In,draw:Qt,shader:dn,state:fn,dirty:zn,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}}).profile=function(nr){var Xn,lr=nr.static;if(nr=nr.dynamic,"profile"in lr){var ar=!!lr.profile;(Xn=$(function(dr,gr){return ar})).enable=ar}else if("profile"in nr){var or=nr.profile;Xn=K(or,function(dr,gr){return dr.invoke(gr,or)})}return Xn}(Ct),In.uniforms=function(nr,Xn){var lr=nr.static,ar=nr.dynamic,or={};return Object.keys(lr).forEach(function(dr){var gr,Sr=lr[dr];if(typeof Sr=="number"||typeof Sr=="boolean")gr=$(function(){return Sr});else if(typeof Sr=="function"){var $n=Sr._reglType;$n==="texture2d"||$n==="textureCube"?gr=$(function(xr){return xr.link(Sr)}):$n!=="framebuffer"&&$n!=="framebufferCube"||(gr=$(function(xr){return xr.link(Sr.color[0])}))}else b(Sr)&&(gr=$(function(xr){return xr.global.def("[",y(Sr.length,function(Rr){return Sr[Rr]}),"]")}));gr.value=Sr,or[dr]=gr}),Object.keys(ar).forEach(function(dr){var gr=ar[dr];or[dr]=K(gr,function(Sr,$n){return Sr.invoke($n,gr)})}),or}(tn),In.drawVAO=In.scopeVAO=Qt.vao,!In.drawVAO&&dn.program&&!pn&&ct.angle_instanced_arrays&&Qt.static.elements){var Yn=!0;if(Ct=dn.program.attributes.map(function(nr){return nr=Jt.static[nr],Yn=Yn&&!!nr,nr}),Yn&&0<Ct.length){var Vn=mt.getVAO(mt.createVAO({attributes:Ct,elements:Qt.static.elements}));In.drawVAO=new q(null,null,null,function(nr,Xn){return nr.link(Vn)}),In.useVAO=!0}}return pn?In.useVAO=!0:In.attributes=bn(Jt),In.context=function(nr){var Xn=nr.static,lr=nr.dynamic,ar={};return Object.keys(Xn).forEach(function(or){var dr=Xn[or];ar[or]=$(function(gr,Sr){return typeof dr=="number"||typeof dr=="boolean"?""+dr:gr.link(dr)})}),Object.keys(lr).forEach(function(or){var dr=lr[or];ar[or]=K(dr,function(gr,Sr){return gr.invoke(Sr,dr)})}),ar}(wn),In}function gn(Ct,Jt,tn){var wn=Ct.shared.context,kn=Ct.scope();Object.keys(tn).forEach(function(Cn){Jt.save(wn,"."+Cn);var pn=tn[Cn].append(Ct,Jt);Array.isArray(pn)?kn(wn,".",Cn,"=[",pn.join(),"];"):kn(wn,".",Cn,"=",pn,";")}),Jt(kn)}function Xt(Ct,Jt,tn,wn){var kn,Cn=($t=Ct.shared).gl,pn=$t.framebuffer;rn&&(kn=Jt.def($t.extensions,".webgl_draw_buffers"));var $t=(Qt=Ct.constants).drawBuffer,Qt=Qt.backBuffer;Ct=tn?tn.append(Ct,Jt):Jt.def(pn,".next"),wn||Jt("if(",Ct,"!==",pn,".cur){"),Jt("if(",Ct,"){",Cn,".bindFramebuffer(",36160,",",Ct,".framebuffer);"),rn&&Jt(kn,".drawBuffersWEBGL(",$t,"[",Ct,".colorAttachments.length]);"),Jt("}else{",Cn,".bindFramebuffer(",36160,",null);"),rn&&Jt(kn,".drawBuffersWEBGL(",Qt,");"),Jt("}",pn,".cur=",Ct,";"),wn||Jt("}")}function ln(Ct,Jt,tn){var wn=Ct.shared,kn=wn.gl,Cn=Ct.current,pn=Ct.next,$t=wn.current,Qt=wn.next,fn=Ct.cond($t,".dirty");Hn.forEach(function(dn){var In,zn;if(!((dn=Bt(dn))in tn.state))if(dn in pn){In=pn[dn],zn=Cn[dn];var Yn=y(vn[dn].length,function(Vn){return fn.def(In,"[",Vn,"]")});fn(Ct.cond(Yn.map(function(Vn,nr){return Vn+"!=="+zn+"["+nr+"]"}).join("||")).then(kn,".",Bn[dn],"(",Yn,");",Yn.map(function(Vn,nr){return zn+"["+nr+"]="+Vn}).join(";"),";"))}else In=fn.def(Qt,".",dn),Yn=Ct.cond(In,"!==",$t,".",dn),fn(Yn),dn in Dn?Yn(Ct.cond(In).then(kn,".enable(",Dn[dn],");").else(kn,".disable(",Dn[dn],");"),$t,".",dn,"=",In,";"):Yn(kn,".",Bn[dn],"(",In,");",$t,".",dn,"=",In,";")}),Object.keys(tn.state).length===0&&fn($t,".dirty=false;"),Jt(fn)}function nn(Ct,Jt,tn,wn){var kn,Cn=Ct.shared,pn=Ct.current,$t=Cn.current,Qt=Cn.gl;V(Object.keys(tn)).forEach(function(fn){var dn=tn[fn];if(!wn||wn(dn)){var In=dn.append(Ct,Jt);if(Dn[fn]){var zn=Dn[fn];te(dn)?(kn=Ct.link(In,{stable:!0}),Jt(Ct.cond(kn).then(Qt,".enable(",zn,");").else(Qt,".disable(",zn,");")),Jt($t,".",fn,"=",kn,";")):(Jt(Ct.cond(In).then(Qt,".enable(",zn,");").else(Qt,".disable(",zn,");")),Jt($t,".",fn,"=",In,";"))}else if(b(In)){var Yn=pn[fn];Jt(Qt,".",Bn[fn],"(",In,");",In.map(function(Vn,nr){return Yn+"["+nr+"]="+Vn}).join(";"),";")}else te(dn)?(kn=Ct.link(In,{stable:!0}),Jt(Qt,".",Bn[fn],"(",kn,");",$t,".",fn,"=",kn,";")):Jt(Qt,".",Bn[fn],"(",In,");",$t,".",fn,"=",In,";")}})}function hn(Ct,Jt){Ut&&(Ct.instancing=Jt.def(Ct.shared.extensions,".angle_instanced_arrays"))}function mn(Ct,Jt,tn,wn,kn){function Cn(){return typeof performance>"u"?"Date.now()":"performance.now()"}function pn(nr){nr(fn=Jt.def(),"=",Cn(),";"),typeof kn=="string"?nr(zn,".count+=",kn,";"):nr(zn,".count++;"),gt&&(wn?nr(dn=Jt.def(),"=",Vn,".getNumPendingQueries();"):nr(Vn,".beginQuery(",zn,");"))}function $t(nr){nr(zn,".cpuTime+=",Cn(),"-",fn,";"),gt&&(wn?nr(Vn,".pushScopeStats(",dn,",",Vn,".getNumPendingQueries(),",zn,");"):nr(Vn,".endQuery();"))}function Qt(nr){var Xn=Jt.def(Yn,".profile");Jt(Yn,".profile=",nr,";"),Jt.exit(Yn,".profile=",Xn,";")}var fn,dn,In=Ct.shared,zn=Ct.stats,Yn=In.current,Vn=In.timer;if(tn=tn.profile){if(te(tn))return void(tn.enable?(pn(Jt),$t(Jt.exit),Qt("true")):Qt("false"));Qt(tn=tn.append(Ct,Jt))}else tn=Jt.def(Yn,".profile");pn(In=Ct.block()),Jt("if(",tn,"){",In,"}"),$t(Ct=Ct.block()),Jt.exit("if(",tn,"){",Ct,"}")}function Mn(Ct,Jt,tn,wn,kn){function Cn($t,Qt,fn){function dn(){Jt("if(!",Vn,".buffer){",zn,".enableVertexAttribArray(",Yn,");}");var ar,or=fn.type;ar=fn.size?Jt.def(fn.size,"||",Qt):Qt,Jt("if(",Vn,".type!==",or,"||",Vn,".size!==",ar,"||",lr.map(function(dr){return Vn+"."+dr+"!=="+fn[dr]}).join("||"),"){",zn,".bindBuffer(",34962,",",nr,".buffer);",zn,".vertexAttribPointer(",[Yn,ar,or,fn.normalized,fn.stride,fn.offset],");",Vn,".type=",or,";",Vn,".size=",ar,";",lr.map(function(dr){return Vn+"."+dr+"="+fn[dr]+";"}).join(""),"}"),Ut&&(or=fn.divisor,Jt("if(",Vn,".divisor!==",or,"){",Ct.instancing,".vertexAttribDivisorANGLE(",[Yn,or],");",Vn,".divisor=",or,";}"))}function In(){Jt("if(",Vn,".buffer){",zn,".disableVertexAttribArray(",Yn,");",Vn,".buffer=null;","}if(",ut.map(function(ar,or){return Vn+"."+ar+"!=="+Xn[or]}).join("||"),"){",zn,".vertexAttrib4f(",Yn,",",Xn,");",ut.map(function(ar,or){return Vn+"."+ar+"="+Xn[or]+";"}).join(""),"}")}var zn=pn.gl,Yn=Jt.def($t,".location"),Vn=Jt.def(pn.attributes,"[",Yn,"]");$t=fn.state;var nr=fn.buffer,Xn=[fn.x,fn.y,fn.z,fn.w],lr=["buffer","normalized","offset","stride"];$t===1?dn():$t===2?In():(Jt("if(",$t,"===",1,"){"),dn(),Jt("}else{"),In(),Jt("}"))}var pn=Ct.shared;wn.forEach(function($t){var Qt,fn=$t.name,dn=tn.attributes[fn];if(dn){if(!kn(dn))return;Qt=dn.append(Ct,Jt)}else{if(!kn(Qe))return;var In=Ct.scopeAttrib(fn);Qt={},Object.keys(new Jn).forEach(function(zn){Qt[zn]=Jt.def(In,".",zn)})}Cn(Ct.link($t),function(zn){switch(zn){case 35664:case 35667:case 35671:return 2;case 35665:case 35668:case 35672:return 3;case 35666:case 35669:case 35673:return 4;default:return 1}}($t.info.type),Qt)})}function Tn(Ct,Jt,tn,wn,kn,Cn){for(var pn,$t=Ct.shared,Qt=$t.gl,fn=0;fn<wn.length;++fn){var dn,In=(Vn=wn[fn]).name,zn=Vn.info.type,Yn=tn.uniforms[In],Vn=Ct.link(Vn)+".location";if(Yn){if(!kn(Yn))continue;if(te(Yn)){if(In=Yn.value,zn===35678||zn===35680)Jt(Qt,".uniform1i(",Vn,",",(zn=Ct.link(In._texture||In.color[0]._texture))+".bind());"),Jt.exit(zn,".unbind();");else if(zn===35674||zn===35675||zn===35676)Yn=2,zn===35675?Yn=3:zn===35676&&(Yn=4),Jt(Qt,".uniformMatrix",Yn,"fv(",Vn,",false,",In=Ct.global.def("new Float32Array(["+Array.prototype.slice.call(In)+"])"),");");else{switch(zn){case 5126:pn="1f";break;case 35664:pn="2f";break;case 35665:pn="3f";break;case 35666:pn="4f";break;case 35670:case 5124:pn="1i";break;case 35671:case 35667:pn="2i";break;case 35672:case 35668:pn="3i";break;case 35673:case 35669:pn="4i"}Jt(Qt,".uniform",pn,"(",Vn,",",b(In)?Array.prototype.slice.call(In):In,");")}continue}dn=Yn.append(Ct,Jt)}else{if(!kn(Qe))continue;dn=Jt.def($t.uniforms,"[",$e.id(In),"]")}switch(zn===35678?Jt("if(",dn,"&&",dn,'._reglType==="framebuffer"){',dn,"=",dn,".color[0];","}"):zn===35680&&Jt("if(",dn,"&&",dn,'._reglType==="framebufferCube"){',dn,"=",dn,".color[0];","}"),In=1,zn){case 35678:case 35680:zn=Jt.def(dn,"._texture"),Jt(Qt,".uniform1i(",Vn,",",zn,".bind());"),Jt.exit(zn,".unbind();");continue;case 5124:case 35670:pn="1i";break;case 35667:case 35671:pn="2i",In=2;break;case 35668:case 35672:pn="3i",In=3;break;case 35669:case 35673:pn="4i",In=4;break;case 5126:pn="1f";break;case 35664:pn="2f",In=2;break;case 35665:pn="3f",In=3;break;case 35666:pn="4f",In=4;break;case 35674:pn="Matrix2fv";break;case 35675:pn="Matrix3fv";break;case 35676:pn="Matrix4fv"}if(pn.charAt(0)==="M"){Jt(Qt,".uniform",pn,"(",Vn,","),Vn=Math.pow(zn-35674+2,2);var nr=Ct.global.def("new Float32Array(",Vn,")");Array.isArray(dn)?Jt("false,(",y(Vn,function(lr){return nr+"["+lr+"]="+dn[lr]}),",",nr,")"):Jt("false,(Array.isArray(",dn,")||",dn," instanceof Float32Array)?",dn,":(",y(Vn,function(lr){return nr+"["+lr+"]="+dn+"["+lr+"]"}),",",nr,")"),Jt(");")}else{if(1<In){zn=[];var Xn=[];for(Yn=0;Yn<In;++Yn)Array.isArray(dn)?Xn.push(dn[Yn]):Xn.push(Jt.def(dn+"["+Yn+"]")),Cn&&zn.push(Jt.def());Cn&&Jt("if(!",Ct.batchId,"||",zn.map(function(lr,ar){return lr+"!=="+Xn[ar]}).join("||"),"){",zn.map(function(lr,ar){return lr+"="+Xn[ar]+";"}).join("")),Jt(Qt,".uniform",pn,"(",Vn,",",Xn.join(","),");")}else Cn&&(zn=Jt.def(),Jt("if(!",Ct.batchId,"||",zn,"!==",dn,"){",zn,"=",dn,";")),Jt(Qt,".uniform",pn,"(",Vn,",",dn,");");Cn&&Jt("}")}}}function Pn(Ct,Jt,tn,wn){function kn(or){var dr=zn[or];return dr?dr.contextDep&&wn.contextDynamic||dr.propDep?dr.append(Ct,tn):dr.append(Ct,Jt):Jt.def(In,".",or)}function Cn(){function or(){tn(Qt,".drawElementsInstancedANGLE(",[Vn,Xn,lr,nr+"<<(("+lr+"-5121)>>1)",$t],");")}function dr(){tn(Qt,".drawArraysInstancedANGLE(",[Vn,nr,Xn,$t],");")}Yn&&Yn!=="null"?ar?or():(tn("if(",Yn,"){"),or(),tn("}else{"),dr(),tn("}")):dr()}function pn(){function or(){tn(dn+".drawElements("+[Vn,Xn,lr,nr+"<<(("+lr+"-5121)>>1)"]+");")}function dr(){tn(dn+".drawArrays("+[Vn,nr,Xn]+");")}Yn&&Yn!=="null"?ar?or():(tn("if(",Yn,"){"),or(),tn("}else{"),dr(),tn("}")):dr()}var $t,Qt,fn=Ct.shared,dn=fn.gl,In=fn.draw,zn=wn.draw,Yn=function(){var or=zn.elements,dr=Jt;return or?((or.contextDep&&wn.contextDynamic||or.propDep)&&(dr=tn),or=or.append(Ct,dr),zn.elementsActive&&dr("if("+or+")"+dn+".bindBuffer(34963,"+or+".buffer.buffer);")):(or=dr.def(),dr(or,"=",In,".","elements",";","if(",or,"){",dn,".bindBuffer(",34963,",",or,".buffer.buffer);}","else if(",fn.vao,".currentVAO){",or,"=",Ct.shared.elements+".getElements("+fn.vao,".currentVAO.elements);",cn?"":"if("+or+")"+dn+".bindBuffer(34963,"+or+".buffer.buffer);","}")),or}(),Vn=kn("primitive"),nr=kn("offset"),Xn=function(){var or=zn.count,dr=Jt;return or?((or.contextDep&&wn.contextDynamic||or.propDep)&&(dr=tn),or=or.append(Ct,dr)):or=dr.def(In,".","count"),or}();if(typeof Xn=="number"){if(Xn===0)return}else tn("if(",Xn,"){"),tn.exit("}");Ut&&($t=kn("instances"),Qt=Ct.instancing);var lr=Yn+".type",ar=zn.elements&&te(zn.elements)&&!zn.vaoActive;Ut&&(typeof $t!="number"||0<=$t)?typeof $t=="string"?(tn("if(",$t,">0){"),Cn(),tn("}else if(",$t,"<0){"),pn(),tn("}")):Cn():pn()}function yn(Ct,Jt,tn,wn,kn){return kn=(Jt=an()).proc("body",kn),Ut&&(Jt.instancing=kn.def(Jt.shared.extensions,".angle_instanced_arrays")),Ct(Jt,kn,tn,wn),Jt.compile().body}function Rn(Ct,Jt,tn,wn){hn(Ct,Jt),tn.useVAO?tn.drawVAO?Jt(Ct.shared.vao,".setVAO(",tn.drawVAO.append(Ct,Jt),");"):Jt(Ct.shared.vao,".setVAO(",Ct.shared.vao,".targetVAO);"):(Jt(Ct.shared.vao,".setVAO(null);"),Mn(Ct,Jt,tn,wn.attributes,function(){return!0})),Tn(Ct,Jt,tn,wn.uniforms,function(){return!0},!1),Pn(Ct,Jt,Jt,tn)}function Zn(Ct,Jt,tn,wn){function kn(){return!0}Ct.batchId="a1",hn(Ct,Jt),Mn(Ct,Jt,tn,wn.attributes,kn),Tn(Ct,Jt,tn,wn.uniforms,kn,!1),Pn(Ct,Jt,Jt,tn)}function ir(Ct,Jt,tn,wn){function kn(In){return In.contextDep&&pn||In.propDep}function Cn(In){return!kn(In)}hn(Ct,Jt);var pn=tn.contextDep,$t=Jt.def(),Qt=Jt.def();Ct.shared.props=Qt,Ct.batchId=$t;var fn=Ct.scope(),dn=Ct.scope();Jt(fn.entry,"for(",$t,"=0;",$t,"<","a1",";++",$t,"){",Qt,"=","a0","[",$t,"];",dn,"}",fn.exit),tn.needsContext&&gn(Ct,dn,tn.context),tn.needsFramebuffer&&Xt(Ct,dn,tn.framebuffer),nn(Ct,dn,tn.state,kn),tn.profile&&kn(tn.profile)&&mn(Ct,dn,tn,!1,!0),wn?(tn.useVAO?tn.drawVAO?kn(tn.drawVAO)?dn(Ct.shared.vao,".setVAO(",tn.drawVAO.append(Ct,dn),");"):fn(Ct.shared.vao,".setVAO(",tn.drawVAO.append(Ct,fn),");"):fn(Ct.shared.vao,".setVAO(",Ct.shared.vao,".targetVAO);"):(fn(Ct.shared.vao,".setVAO(null);"),Mn(Ct,fn,tn,wn.attributes,Cn),Mn(Ct,dn,tn,wn.attributes,kn)),Tn(Ct,fn,tn,wn.uniforms,Cn,!1),Tn(Ct,dn,tn,wn.uniforms,kn,!0),Pn(Ct,fn,dn,tn)):(Jt=Ct.global.def("{}"),wn=tn.shader.progVar.append(Ct,dn),Qt=dn.def(wn,".id"),fn=dn.def(Jt,"[",Qt,"]"),dn(Ct.shared.gl,".useProgram(",wn,".program);","if(!",fn,"){",fn,"=",Jt,"[",Qt,"]=",Ct.link(function(In){return yn(Zn,Ct,tn,In,2)}),"(",wn,");}",fn,".call(this,a0[",$t,"],",$t,");"))}function sr(Ct,Jt){function tn($t){var Qt=Jt.shader[$t];Qt&&(Qt=Qt.append(Ct,wn),isNaN(Qt)?wn.set(kn.shader,"."+$t,Qt):wn.set(kn.shader,"."+$t,Ct.link(Qt,{stable:!0})))}var wn=Ct.proc("scope",3);Ct.batchId="a2";var kn=Ct.shared,Cn=kn.current;if(gn(Ct,wn,Jt.context),Jt.framebuffer&&Jt.framebuffer.append(Ct,wn),V(Object.keys(Jt.state)).forEach(function($t){var Qt=Jt.state[$t],fn=Qt.append(Ct,wn);b(fn)?fn.forEach(function(dn,In){isNaN(dn)?wn.set(Ct.next[$t],"["+In+"]",dn):wn.set(Ct.next[$t],"["+In+"]",Ct.link(dn,{stable:!0}))}):te(Qt)?wn.set(kn.next,"."+$t,Ct.link(fn,{stable:!0})):wn.set(kn.next,"."+$t,fn)}),mn(Ct,wn,Jt,!0,!0),["elements","offset","count","instances","primitive"].forEach(function($t){var Qt=Jt.draw[$t];Qt&&(Qt=Qt.append(Ct,wn),isNaN(Qt)?wn.set(kn.draw,"."+$t,Qt):wn.set(kn.draw,"."+$t,Ct.link(Qt),{stable:!0}))}),Object.keys(Jt.uniforms).forEach(function($t){var Qt=Jt.uniforms[$t].append(Ct,wn);Array.isArray(Qt)&&(Qt="["+Qt.map(function(fn){return isNaN(fn)?fn:Ct.link(fn,{stable:!0})})+"]"),wn.set(kn.uniforms,"["+Ct.link($e.id($t),{stable:!0})+"]",Qt)}),Object.keys(Jt.attributes).forEach(function($t){var Qt=Jt.attributes[$t].append(Ct,wn),fn=Ct.scopeAttrib($t);Object.keys(new Jn).forEach(function(dn){wn.set(fn,"."+dn,Qt[dn])})}),Jt.scopeVAO){var pn=Jt.scopeVAO.append(Ct,wn);isNaN(pn)?wn.set(kn.vao,".targetVAO",pn):wn.set(kn.vao,".targetVAO",Ct.link(pn,{stable:!0}))}tn("vert"),tn("frag"),0<Object.keys(Jt.state).length&&(wn(Cn,".dirty=true;"),wn.exit(Cn,".dirty=true;")),wn("a1(",Ct.shared.context,",a0,",Ct.batchId,");")}function tr(Ct,Jt,tn){var wn=Jt.static[tn];if(wn&&function(dn){if(typeof dn=="object"&&!b(dn)){for(var In=Object.keys(dn),zn=0;zn<In.length;++zn)if(re.isDynamic(dn[In[zn]]))return!0;return!1}}(wn)){var kn=Ct.global,Cn=Object.keys(wn),pn=!1,$t=!1,Qt=!1,fn=Ct.global.def("{}");Cn.forEach(function(dn){var In=wn[dn];if(re.isDynamic(In))typeof In=="function"&&(In=wn[dn]=re.unbox(In)),dn=K(In,null),pn=pn||dn.thisDep,Qt=Qt||dn.propDep,$t=$t||dn.contextDep;else{switch(kn(fn,".",dn,"="),typeof In){case"number":kn(In);break;case"string":kn('"',In,'"');break;case"object":Array.isArray(In)&&kn("[",In.join(),"]");break;default:kn(Ct.link(In))}kn(";")}}),Jt.dynamic[tn]=new re.DynamicVariable(4,{thisDep:pn,contextDep:$t,propDep:Qt,ref:fn,append:function(dn,In){Cn.forEach(function(zn){var Yn=wn[zn];re.isDynamic(Yn)&&(Yn=dn.invoke(In,Yn),In(fn,".",zn,"=",Yn,";"))})}}),delete Jt.static[tn]}}var Jn=mt.Record,pr={add:32774,subtract:32778,"reverse subtract":32779};ct.ext_blend_minmax&&(pr.min=32775,pr.max=32776);var Ut=ct.angle_instanced_arrays,rn=ct.webgl_draw_buffers,cn=ct.oes_vertex_array_object,vn={dirty:!0,profile:Mt.profile},Sn={},Hn=[],Dn={},Bn={};Nt("dither",3024),Nt("blend.enable",3042),qt("blend.color","blendColor",[0,0,0,0]),qt("blend.equation","blendEquationSeparate",[32774,32774]),qt("blend.func","blendFuncSeparate",[1,0,1,0]),Nt("depth.enable",2929,!0),qt("depth.func","depthFunc",513),qt("depth.range","depthRange",[0,1]),qt("depth.mask","depthMask",!0),qt("colorMask","colorMask",[!0,!0,!0,!0]),Nt("cull.enable",2884),qt("cull.face","cullFace",1029),qt("frontFace","frontFace",2305),qt("lineWidth","lineWidth",1),Nt("polygonOffset.enable",32823),qt("polygonOffset.offset","polygonOffset",[0,0]),Nt("sample.alpha",32926),Nt("sample.enable",32928),qt("sample.coverage","sampleCoverage",[1,!1]),Nt("stencil.enable",2960),qt("stencil.mask","stencilMask",-1),qt("stencil.func","stencilFunc",[519,0,-1]),qt("stencil.opFront","stencilOpSeparate",[1028,7680,7680,7680]),qt("stencil.opBack","stencilOpSeparate",[1029,7680,7680,7680]),Nt("scissor.enable",3089),qt("scissor.box","scissor",[0,0,qe.drawingBufferWidth,qe.drawingBufferHeight]),qt("viewport","viewport",[0,0,qe.drawingBufferWidth,qe.drawingBufferHeight]);var Qn={gl:qe,context:St,strings:$e,next:Sn,current:vn,draw:dt,elements:je,buffer:Re,shader:bt,attributes:mt.state,vao:mt,uniforms:xt,framebuffer:ot,extensions:ct,timer:gt,isBufferArgs:B},Wt={primTypes:Le,compareFuncs:zt,blendFuncs:Ot,blendEquations:pr,stencilOps:Lt,glTypes:Se,orientationType:Je};rn&&(Wt.backBuffer=[1029],Wt.drawBuffer=y(at.maxDrawbuffers,function(Ct){return Ct===0?[0]:y(Ct,function(Jt){return 36064+Jt})}));var An=0;return{next:Sn,current:vn,procs:function(){var Ct=an(),Jt=Ct.proc("poll"),tn=Ct.proc("refresh"),wn=Ct.block();Jt(wn),tn(wn);var kn,Cn=(Qt=Ct.shared).gl,pn=Qt.next,$t=Qt.current;wn($t,".dirty=false;"),Xt(Ct,Jt),Xt(Ct,tn,null,!0),Ut&&(kn=Ct.link(Ut)),ct.oes_vertex_array_object&&tn(Ct.link(ct.oes_vertex_array_object),".bindVertexArrayOES(null);");var Qt=tn.def(Qt.attributes),fn=tn.def(0),dn=Ct.cond(fn,".buffer");dn.then(Cn,".enableVertexAttribArray(i);",Cn,".bindBuffer(",34962,",",fn,".buffer.buffer);",Cn,".vertexAttribPointer(i,",fn,".size,",fn,".type,",fn,".normalized,",fn,".stride,",fn,".offset);").else(Cn,".disableVertexAttribArray(i);",Cn,".vertexAttrib4f(i,",fn,".x,",fn,".y,",fn,".z,",fn,".w);",fn,".buffer=null;");var In=Ct.link(at.maxAttributes,{stable:!0});return tn("for(var i=0;i<",In,";++i){",fn,"=",Qt,"[i];",dn,"}"),Ut&&tn("for(var i=0;i<",In,";++i){",kn,".vertexAttribDivisorANGLE(i,",Qt,"[i].divisor);","}"),tn(Ct.shared.vao,".currentVAO=null;",Ct.shared.vao,".setVAO(",Ct.shared.vao,".targetVAO);"),Object.keys(Dn).forEach(function(zn){var Yn=Dn[zn],Vn=wn.def(pn,".",zn),nr=Ct.block();nr("if(",Vn,"){",Cn,".enable(",Yn,")}else{",Cn,".disable(",Yn,")}",$t,".",zn,"=",Vn,";"),tn(nr),Jt("if(",Vn,"!==",$t,".",zn,"){",nr,"}")}),Object.keys(Bn).forEach(function(zn){var Yn,Vn,nr=Bn[zn],Xn=vn[zn],lr=Ct.block();lr(Cn,".",nr,"("),b(Xn)?(nr=Xn.length,Yn=Ct.global.def(pn,".",zn),Vn=Ct.global.def($t,".",zn),lr(y(nr,function(ar){return Yn+"["+ar+"]"}),");",y(nr,function(ar){return Vn+"["+ar+"]="+Yn+"["+ar+"];"}).join("")),Jt("if(",y(nr,function(ar){return Yn+"["+ar+"]!=="+Vn+"["+ar+"]"}).join("||"),"){",lr,"}")):(Yn=wn.def(pn,".",zn),Vn=wn.def($t,".",zn),lr(Yn,");",$t,".",zn,"=",Yn,";"),Jt("if(",Yn,"!==",Vn,"){",lr,"}")),tn(lr)}),Ct.compile()}(),compile:function(Ct,Jt,tn,wn,kn){var Cn=an();Cn.stats=Cn.link(kn),Object.keys(Jt.static).forEach(function($t){tr(Cn,Jt,$t)}),Et.forEach(function($t){tr(Cn,Ct,$t)});var pn=On(Ct,Jt,tn,wn);return pn.shader.program&&(pn.shader.program.attributes.sort(function($t,Qt){return $t.name<Qt.name?-1:1}),pn.shader.program.uniforms.sort(function($t,Qt){return $t.name<Qt.name?-1:1})),function($t,Qt){var fn=$t.proc("draw",1);hn($t,fn),gn($t,fn,Qt.context),Xt($t,fn,Qt.framebuffer),ln($t,fn,Qt),nn($t,fn,Qt.state),mn($t,fn,Qt,!1,!0);var dn=Qt.shader.progVar.append($t,fn);if(fn($t.shared.gl,".useProgram(",dn,".program);"),Qt.shader.program)Rn($t,fn,Qt,Qt.shader.program);else{fn($t.shared.vao,".setVAO(null);");var In=$t.global.def("{}"),zn=fn.def(dn,".id"),Yn=fn.def(In,"[",zn,"]");fn($t.cond(Yn).then(Yn,".call(this,a0);").else(Yn,"=",In,"[",zn,"]=",$t.link(function(Vn){return yn(Rn,$t,Qt,Vn,1)}),"(",dn,");",Yn,".call(this,a0);"))}0<Object.keys(Qt.state).length&&fn($t.shared.current,".dirty=true;"),$t.shared.vao&&fn($t.shared.vao,".setVAO(null);")}(Cn,pn),sr(Cn,pn),function($t,Qt){function fn(Xn){return Xn.contextDep&&In||Xn.propDep}var dn=$t.proc("batch",2);$t.batchId="0",hn($t,dn);var In=!1,zn=!0;Object.keys(Qt.context).forEach(function(Xn){In=In||Qt.context[Xn].propDep}),In||(gn($t,dn,Qt.context),zn=!1);var Yn=!1;if((Vn=Qt.framebuffer)?(Vn.propDep?In=Yn=!0:Vn.contextDep&&In&&(Yn=!0),Yn||Xt($t,dn,Vn)):Xt($t,dn,null),Qt.state.viewport&&Qt.state.viewport.propDep&&(In=!0),ln($t,dn,Qt),nn($t,dn,Qt.state,function(Xn){return!fn(Xn)}),Qt.profile&&fn(Qt.profile)||mn($t,dn,Qt,!1,"a1"),Qt.contextDep=In,Qt.needsContext=zn,Qt.needsFramebuffer=Yn,(zn=Qt.shader.progVar).contextDep&&In||zn.propDep)ir($t,dn,Qt,null);else if(zn=zn.append($t,dn),dn($t.shared.gl,".useProgram(",zn,".program);"),Qt.shader.program)ir($t,dn,Qt,Qt.shader.program);else{dn($t.shared.vao,".setVAO(null);");var Vn=$t.global.def("{}"),nr=(Yn=dn.def(zn,".id"),dn.def(Vn,"[",Yn,"]"));dn($t.cond(nr).then(nr,".call(this,a0,a1);").else(nr,"=",Vn,"[",Yn,"]=",$t.link(function(Xn){return yn(ir,$t,Qt,Xn,2)}),"(",zn,");",nr,".call(this,a0,a1);"))}0<Object.keys(Qt.state).length&&dn($t.shared.current,".dirty=true;"),$t.shared.vao&&dn($t.shared.vao,".setVAO(null);")}(Cn,pn),ee(Cn.compile(),{destroy:function(){pn.shader.program.destroy()}})}}}function X(qe,$e){for(var ct=0;ct<qe.length;++ct)if(qe[ct]===$e)return ct;return-1}var ee=function(qe,$e){for(var ct=Object.keys($e),at=0;at<ct.length;++at)qe[ct[at]]=$e[ct[at]];return qe},ne=0,re={DynamicVariable:O,define:function(qe,$e){return new O(qe,M($e+""))},isDynamic:function(qe){return typeof qe=="function"&&!qe._reglType||qe instanceof O},unbox:function qe($e,ct){return typeof $e=="function"?new O(0,$e):typeof $e=="number"||typeof $e=="boolean"?new O(5,$e):Array.isArray($e)?new O(6,$e.map(function(at,Re){return qe(at)})):$e instanceof O?$e:void 0},accessor:M},ae={next:typeof requestAnimationFrame=="function"?function(qe){return requestAnimationFrame(qe)}:function(qe){return setTimeout(qe,16)},cancel:typeof cancelAnimationFrame=="function"?function(qe){return cancelAnimationFrame(qe)}:clearTimeout},ue=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date},pe=s();pe.zero=s();var ge=function(qe,$e){var ct=1;$e.ext_texture_filter_anisotropic&&(ct=qe.getParameter(34047));var at=1,Re=1;$e.webgl_draw_buffers&&(at=qe.getParameter(34852),Re=qe.getParameter(36063));var je=!!$e.oes_texture_float;if(je){je=qe.createTexture(),qe.bindTexture(3553,je),qe.texImage2D(3553,0,6408,1,1,0,6408,5126,null);var st=qe.createFramebuffer();if(qe.bindFramebuffer(36160,st),qe.framebufferTexture2D(36160,36064,3553,je,0),qe.bindTexture(3553,null),qe.checkFramebufferStatus(36160)!==36053)je=!1;else{qe.viewport(0,0,1,1),qe.clearColor(1,0,0,1),qe.clear(16384);var ot=pe.allocType(5126,4);qe.readPixels(0,0,1,1,6408,5126,ot),qe.getError()?je=!1:(qe.deleteFramebuffer(st),qe.deleteTexture(je),je=ot[0]===1),pe.freeType(ot)}}return ot=!0,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent))||(ot=qe.createTexture(),st=pe.allocType(5121,36),qe.activeTexture(33984),qe.bindTexture(34067,ot),qe.texImage2D(34069,0,6408,3,3,0,6408,5121,st),pe.freeType(st),qe.bindTexture(34067,null),qe.deleteTexture(ot),ot=!qe.getError()),{colorBits:[qe.getParameter(3410),qe.getParameter(3411),qe.getParameter(3412),qe.getParameter(3413)],depthBits:qe.getParameter(3414),stencilBits:qe.getParameter(3415),subpixelBits:qe.getParameter(3408),extensions:Object.keys($e).filter(function(xt){return!!$e[xt]}),maxAnisotropic:ct,maxDrawbuffers:at,maxColorAttachments:Re,pointSizeDims:qe.getParameter(33901),lineWidthDims:qe.getParameter(33902),maxViewportDims:qe.getParameter(3386),maxCombinedTextureUnits:qe.getParameter(35661),maxCubeMapSize:qe.getParameter(34076),maxRenderbufferSize:qe.getParameter(34024),maxTextureUnits:qe.getParameter(34930),maxTextureSize:qe.getParameter(3379),maxAttributes:qe.getParameter(34921),maxVertexUniforms:qe.getParameter(36347),maxVertexTextureUnits:qe.getParameter(35660),maxVaryingVectors:qe.getParameter(36348),maxFragmentUniforms:qe.getParameter(36349),glsl:qe.getParameter(35724),renderer:qe.getParameter(7937),vendor:qe.getParameter(7936),version:qe.getParameter(7938),readFloat:je,npotTextureCube:ot}},we=function(qe){return qe instanceof Uint8Array||qe instanceof Uint16Array||qe instanceof Uint32Array||qe instanceof Int8Array||qe instanceof Int16Array||qe instanceof Int32Array||qe instanceof Float32Array||qe instanceof Float64Array||qe instanceof Uint8ClampedArray},me=function(qe){return Object.keys(qe).map(function($e){return qe[$e]})},ve={shape:function(qe){for(var $e=[];qe.length;qe=qe[0])$e.push(qe.length);return $e},flatten:function(qe,$e,ct,at){var Re=1;if($e.length)for(var je=0;je<$e.length;++je)Re*=$e[je];else Re=0;switch(ct=at||pe.allocType(ct,Re),$e.length){case 0:break;case 1:for(at=$e[0],$e=0;$e<at;++$e)ct[$e]=qe[$e];break;case 2:for(at=$e[0],$e=$e[1],je=Re=0;je<at;++je)for(var st=qe[je],ot=0;ot<$e;++ot)ct[Re++]=st[ot];break;case 3:i(qe,$e[0],$e[1],$e[2],ct,0);break;default:r(qe,$e,0,ct,0)}return ct}},Ie={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Se={int8:5120,int16:5122,int32:5124,uint8:5121,uint16:5123,uint32:5125,float:5126,float32:5126},ke={dynamic:35048,stream:35040,static:35044},se=ve.flatten,oe=ve.shape,he=[];he[5120]=1,he[5122]=2,he[5124]=4,he[5121]=1,he[5123]=2,he[5125]=4,he[5126]=4;var Le={points:0,point:0,lines:1,line:1,triangles:4,triangle:4,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Me=new Float32Array(1),_e=new Uint32Array(Me.buffer),De=[9984,9986,9985,9987],Ne=[0,6409,6410,6407,6408],ce={};ce[6409]=ce[6406]=ce[6402]=1,ce[34041]=ce[6410]=2,ce[6407]=ce[35904]=3,ce[6408]=ce[35906]=4;var Te=g("HTMLCanvasElement"),ye=g("OffscreenCanvas"),Oe=g("CanvasRenderingContext2D"),Be=g("ImageBitmap"),Fe=g("HTMLImageElement"),Ge=g("HTMLVideoElement"),Ze=Object.keys(Ie).concat([Te,ye,Oe,Be,Fe,Ge]),et=[];et[5121]=1,et[5126]=4,et[36193]=2,et[5123]=2,et[5125]=4;var ft=[];ft[32854]=2,ft[32855]=2,ft[36194]=2,ft[34041]=4,ft[33776]=.5,ft[33777]=.5,ft[33778]=1,ft[33779]=1,ft[35986]=.5,ft[35987]=1,ft[34798]=1,ft[35840]=.5,ft[35841]=.25,ft[35842]=.5,ft[35843]=.25,ft[36196]=.5;var rt=[];rt[32854]=2,rt[32855]=2,rt[36194]=2,rt[33189]=2,rt[36168]=1,rt[34041]=4,rt[35907]=4,rt[34836]=16,rt[34842]=8,rt[34843]=6;var _t=function(qe,$e,ct,at,Re){function je(dt){this.id=mt++,this.refCount=1,this.renderbuffer=dt,this.format=32854,this.height=this.width=0,Re.profile&&(this.stats={size:0})}function st(dt){var St=dt.renderbuffer;qe.bindRenderbuffer(36161,null),qe.deleteRenderbuffer(St),dt.renderbuffer=null,dt.refCount=0,delete bt[dt.id],at.renderbufferCount--}var ot={rgba4:32854,rgb565:36194,"rgb5 a1":32855,depth:33189,stencil:36168,"depth stencil":34041};$e.ext_srgb&&(ot.srgba=35907),$e.ext_color_buffer_half_float&&(ot.rgba16f=34842,ot.rgb16f=34843),$e.webgl_color_buffer_float&&(ot.rgba32f=34836);var xt=[];Object.keys(ot).forEach(function(dt){xt[ot[dt]]=dt});var mt=0,bt={};return je.prototype.decRef=function(){0>=--this.refCount&&st(this)},Re.profile&&(at.getTotalRenderbufferSize=function(){var dt=0;return Object.keys(bt).forEach(function(St){dt+=bt[St].stats.size}),dt}),{create:function(dt,St){function gt(Mt,Bt){var Nt=0,qt=0,an=32854;if(typeof Mt=="object"&&Mt?("shape"in Mt?(Nt=0|(qt=Mt.shape)[0],qt=0|qt[1]):("radius"in Mt&&(Nt=qt=0|Mt.radius),"width"in Mt&&(Nt=0|Mt.width),"height"in Mt&&(qt=0|Mt.height)),"format"in Mt&&(an=ot[Mt.format])):typeof Mt=="number"?(Nt=0|Mt,qt=typeof Bt=="number"?0|Bt:Nt):Mt||(Nt=qt=1),Nt!==vt.width||qt!==vt.height||an!==vt.format)return gt.width=vt.width=Nt,gt.height=vt.height=qt,vt.format=an,qe.bindRenderbuffer(36161,vt.renderbuffer),qe.renderbufferStorage(36161,an,Nt,qt),Re.profile&&(vt.stats.size=rt[vt.format]*vt.width*vt.height),gt.format=xt[vt.format],gt}var vt=new je(qe.createRenderbuffer());return bt[vt.id]=vt,at.renderbufferCount++,gt(dt,St),gt.resize=function(Mt,Bt){var Nt=0|Mt,qt=0|Bt||Nt;return Nt===vt.width&&qt===vt.height||(gt.width=vt.width=Nt,gt.height=vt.height=qt,qe.bindRenderbuffer(36161,vt.renderbuffer),qe.renderbufferStorage(36161,vt.format,Nt,qt),Re.profile&&(vt.stats.size=rt[vt.format]*vt.width*vt.height)),gt},gt._reglType="renderbuffer",gt._renderbuffer=vt,Re.profile&&(gt.stats=vt.stats),gt.destroy=function(){vt.decRef()},gt},clear:function(){me(bt).forEach(st)},restore:function(){me(bt).forEach(function(dt){dt.renderbuffer=qe.createRenderbuffer(),qe.bindRenderbuffer(36161,dt.renderbuffer),qe.renderbufferStorage(36161,dt.format,dt.width,dt.height)}),qe.bindRenderbuffer(36161,null)}}},kt=[];kt[6408]=4,kt[6407]=3;var wt=[];wt[5121]=1,wt[5126]=4,wt[36193]=2;var lt=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ut=["x","y","z","w"],Et="blend.func blend.equation stencil.func stencil.opFront stencil.opBack sample.coverage viewport scissor.box polygonOffset.offset".split(" "),Ot={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},zt={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lt={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},Je={cw:2304,ccw:2305},Qe=new q(!1,!1,!1,function(){});return function(qe){function $e(){if(Zn.length===0)Gt&&Gt.update(),Jn=null;else{Jn=ae.next($e),bt();for(var Ut=Zn.length-1;0<=Ut;--Ut){var rn=Zn[Ut];rn&&rn(On,null,0)}gt.flush(),Gt&&Gt.update()}}function ct(){!Jn&&0<Zn.length&&(Jn=ae.next($e))}function at(){Jn&&(ae.cancel($e),Jn=null)}function Re(Ut){Ut.preventDefault(),at(),ir.forEach(function(rn){rn()})}function je(Ut){gt.getError(),Mt.restore(),hn.restore(),Xt.restore(),mn.restore(),Mn.restore(),Tn.restore(),nn.restore(),Gt&&Gt.restore(),Pn.procs.refresh(),ct(),sr.forEach(function(rn){rn()})}function st(Ut){function rn(Ct,Jt){var tn={},wn={};return Object.keys(Ct).forEach(function(kn){var Cn=Ct[kn];if(re.isDynamic(Cn))wn[kn]=re.unbox(Cn,kn);else{if(Jt&&Array.isArray(Cn)){for(var pn=0;pn<Cn.length;++pn)if(re.isDynamic(Cn[pn]))return void(wn[kn]=re.unbox(Cn,kn))}tn[kn]=Cn}}),{dynamic:wn,static:tn}}var cn=rn(Ut.context||{},!0),vn=rn(Ut.uniforms||{},!0),Sn=rn(Ut.attributes||{},!1);Ut=rn(function(Ct){function Jt(wn){if(wn in tn){var kn=tn[wn];delete tn[wn],Object.keys(kn).forEach(function(Cn){tn[wn+"."+Cn]=kn[Cn]})}}var tn=ee({},Ct);return delete tn.uniforms,delete tn.attributes,delete tn.context,delete tn.vao,"stencil"in tn&&tn.stencil.op&&(tn.stencil.opBack=tn.stencil.opFront=tn.stencil.op,delete tn.stencil.op),Jt("blend"),Jt("depth"),Jt("cull"),Jt("stencil"),Jt("polygonOffset"),Jt("scissor"),Jt("sample"),"vao"in Ct&&(tn.vao=Ct.vao),tn}(Ut),!1);var Hn={gpuTime:0,cpuTime:0,count:0},Dn=Pn.compile(Ut,Sn,vn,cn,Hn),Bn=Dn.draw,Qn=Dn.batch,Wt=Dn.scope,An=[];return ee(function(Ct,Jt){var tn;if(typeof Ct=="function")return Wt.call(this,null,Ct,0);if(typeof Jt=="function")if(typeof Ct=="number")for(tn=0;tn<Ct;++tn)Wt.call(this,null,Jt,tn);else{if(!Array.isArray(Ct))return Wt.call(this,Ct,Jt,0);for(tn=0;tn<Ct.length;++tn)Wt.call(this,Ct[tn],Jt,tn)}else if(typeof Ct=="number"){if(0<Ct)return Qn.call(this,function(wn){for(;An.length<wn;)An.push(null);return An}(0|Ct),0|Ct)}else{if(!Array.isArray(Ct))return Bn.call(this,Ct);if(Ct.length)return Qn.call(this,Ct,Ct.length)}},{stats:Hn,destroy:function(){Dn.destroy()}})}function ot(Ut,rn){var cn=0;Pn.procs.poll();var vn=rn.color;vn&&(gt.clearColor(+vn[0]||0,+vn[1]||0,+vn[2]||0,+vn[3]||0),cn|=16384),"depth"in rn&&(gt.clearDepth(+rn.depth),cn|=256),"stencil"in rn&&(gt.clearStencil(0|rn.stencil),cn|=1024),gt.clear(cn)}function xt(Ut){return Zn.push(Ut),ct(),{cancel:function(){var rn=X(Zn,Ut);Zn[rn]=function cn(){var vn=X(Zn,cn);Zn[vn]=Zn[Zn.length-1],--Zn.length,0>=Zn.length&&at()}}}}function mt(){var Ut=yn.viewport,rn=yn.scissor_box;Ut[0]=Ut[1]=rn[0]=rn[1]=0,On.viewportWidth=On.framebufferWidth=On.drawingBufferWidth=Ut[2]=rn[2]=gt.drawingBufferWidth,On.viewportHeight=On.framebufferHeight=On.drawingBufferHeight=Ut[3]=rn[3]=gt.drawingBufferHeight}function bt(){On.tick+=1,On.time=St(),mt(),Pn.procs.poll()}function dt(){mn.refresh(),mt(),Pn.procs.refresh(),Gt&&Gt.update()}function St(){return(ue()-Yt)/1e3}if(!(qe=_(qe)))return null;var gt=qe.gl,vt=gt.getContextAttributes();gt.isContextLost();var Mt=function(Ut,rn){function cn(Dn){var Bn;Dn=Dn.toLowerCase();try{Bn=vn[Dn]=Ut.getExtension(Dn)}catch{}return!!Bn}for(var vn={},Sn=0;Sn<rn.extensions.length;++Sn){var Hn=rn.extensions[Sn];if(!cn(Hn))return rn.onDestroy(),rn.onDone('"'+Hn+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return rn.optionalExtensions.forEach(cn),{extensions:vn,restore:function(){Object.keys(vn).forEach(function(Dn){if(vn[Dn]&&!cn(Dn))throw Error("(regl): error restoring extension "+Dn)})}}}(gt,qe);if(!Mt)return null;var Bt=function(){var Ut={"":0},rn=[""];return{id:function(cn){var vn=Ut[cn];return vn||(vn=Ut[cn]=rn.length,rn.push(cn),vn)},str:function(cn){return rn[cn]}}}(),Nt={vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0},qt=qe.cachedCode||{},an=Mt.extensions,Gt=function(Ut,rn){function cn(){this.endQueryIndex=this.startQueryIndex=-1,this.sum=0,this.stats=null}function vn(An,Ct,Jt){var tn=Dn.pop()||new cn;tn.startQueryIndex=An,tn.endQueryIndex=Ct,tn.sum=0,tn.stats=Jt,Bn.push(tn)}if(!rn.ext_disjoint_timer_query)return null;var Sn=[],Hn=[],Dn=[],Bn=[],Qn=[],Wt=[];return{beginQuery:function(An){var Ct=Sn.pop()||rn.ext_disjoint_timer_query.createQueryEXT();rn.ext_disjoint_timer_query.beginQueryEXT(35007,Ct),Hn.push(Ct),vn(Hn.length-1,Hn.length,An)},endQuery:function(){rn.ext_disjoint_timer_query.endQueryEXT(35007)},pushScopeStats:vn,update:function(){var An,Ct;if((An=Hn.length)!==0){Wt.length=Math.max(Wt.length,An+1),Qn.length=Math.max(Qn.length,An+1),Qn[0]=0;var Jt=Wt[0]=0;for(Ct=An=0;Ct<Hn.length;++Ct){var tn=Hn[Ct];rn.ext_disjoint_timer_query.getQueryObjectEXT(tn,34919)?(Jt+=rn.ext_disjoint_timer_query.getQueryObjectEXT(tn,34918),Sn.push(tn)):Hn[An++]=tn,Qn[Ct+1]=Jt,Wt[Ct+1]=An}for(Hn.length=An,Ct=An=0;Ct<Bn.length;++Ct){var wn=(Jt=Bn[Ct]).startQueryIndex;tn=Jt.endQueryIndex,Jt.sum+=Qn[tn]-Qn[wn],wn=Wt[wn],(tn=Wt[tn])===wn?(Jt.stats.gpuTime+=Jt.sum/1e6,Dn.push(Jt)):(Jt.startQueryIndex=wn,Jt.endQueryIndex=tn,Bn[An++]=Jt)}Bn.length=An}},getNumPendingQueries:function(){return Hn.length},clear:function(){Sn.push.apply(Sn,Hn);for(var An=0;An<Sn.length;An++)rn.ext_disjoint_timer_query.deleteQueryEXT(Sn[An]);Hn.length=0,Sn.length=0},restore:function(){Hn.length=0,Sn.length=0}}}(0,an),Yt=ue(),en=gt.drawingBufferWidth,bn=gt.drawingBufferHeight,On={tick:0,time:0,viewportWidth:en,viewportHeight:bn,framebufferWidth:en,framebufferHeight:bn,drawingBufferWidth:en,drawingBufferHeight:bn,pixelRatio:qe.pixelRatio},gn=(en={elements:null,primitive:4,count:-1,offset:0,instances:-1},ge(gt,an)),Xt=u(gt,Nt,qe,function(Ut){return nn.destroyBuffer(Ut)}),ln=p(gt,an,Xt,Nt),nn=L(gt,an,gn,Nt,Xt,ln,en),hn=C(gt,Bt,Nt,qe),mn=S(gt,an,gn,function(){Pn.procs.poll()},On,Nt,qe),Mn=_t(gt,an,0,Nt,qe),Tn=T(gt,an,gn,mn,Mn,Nt),Pn=Z(gt,Bt,an,gn,Xt,ln,0,Tn,{},nn,hn,en,On,Gt,qt,qe),yn=(Bt=P(gt,Tn,Pn.procs.poll,On),Pn.next),Rn=gt.canvas,Zn=[],ir=[],sr=[],tr=[qe.onDestroy],Jn=null;Rn&&(Rn.addEventListener("webglcontextlost",Re,!1),Rn.addEventListener("webglcontextrestored",je,!1));var pr=Tn.setFBO=st({framebuffer:re.define.call(null,1,"framebuffer")});return dt(),vt=ee(st,{clear:function(Ut){if("framebuffer"in Ut)if(Ut.framebuffer&&Ut.framebuffer_reglType==="framebufferCube")for(var rn=0;6>rn;++rn)pr(ee({framebuffer:Ut.framebuffer.faces[rn]},Ut),ot);else pr(Ut,ot);else ot(0,Ut)},prop:re.define.bind(null,1),context:re.define.bind(null,2),this:re.define.bind(null,3),draw:st({}),buffer:function(Ut){return Xt.create(Ut,34962,!1,!1)},elements:function(Ut){return ln.create(Ut,!1)},texture:mn.create2D,cube:mn.createCube,renderbuffer:Mn.create,framebuffer:Tn.create,framebufferCube:Tn.createCube,vao:nn.createVAO,attributes:vt,frame:xt,on:function(Ut,rn){var cn;switch(Ut){case"frame":return xt(rn);case"lost":cn=ir;break;case"restore":cn=sr;break;case"destroy":cn=tr}return cn.push(rn),{cancel:function(){for(var vn=0;vn<cn.length;++vn)if(cn[vn]===rn){cn[vn]=cn[cn.length-1],cn.pop();break}}}},limits:gn,hasExtension:function(Ut){return 0<=gn.extensions.indexOf(Ut.toLowerCase())},read:Bt,destroy:function(){Zn.length=0,at(),Rn&&(Rn.removeEventListener("webglcontextlost",Re),Rn.removeEventListener("webglcontextrestored",je)),hn.clear(),Tn.clear(),Mn.clear(),nn.clear(),mn.clear(),ln.clear(),Xt.clear(),Gt&&Gt.clear(),tr.forEach(function(Ut){Ut()})},_gl:gt,_refresh:dt,poll:function(){bt(),Gt&&Gt.update()},now:St,stats:Nt,getCachedCode:function(){return qt},preloadCachedCode:function(Ut){Object.entries(Ut).forEach(function(rn){qt[rn[0]]=rn[1]})}}),qe.onDone(null,vt),vt}}()},71665:function(Y,O,e){var M=e(12856),k=M.Buffer;function a(y,d){for(var s in y)d[s]=y[s]}function _(y,d,s){return k(y,d,s)}k.from&&k.alloc&&k.allocUnsafe&&k.allocUnsafeSlow?Y.exports=M:(a(M,O),O.Buffer=_),_.prototype=Object.create(k.prototype),a(k,_),_.from=function(y,d,s){if(typeof y=="number")throw new TypeError("Argument must not be a number");return k(y,d,s)},_.alloc=function(y,d,s){if(typeof y!="number")throw new TypeError("Argument must be a number");var t=k(y);return d!==void 0?typeof s=="string"?t.fill(d,s):t.fill(d):t.fill(0),t},_.allocUnsafe=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return k(y)},_.allocUnsafeSlow=function(y){if(typeof y!="number")throw new TypeError("Argument must be a number");return M.SlowBuffer(y)}},21630:function(Y,O,e){Y.exports=k;var M=e(15398).EventEmitter;function k(){M.call(this)}e(42018)(k,M),k.Readable=e(40410),k.Writable=e(37493),k.Duplex=e(37865),k.Transform=e(74308),k.PassThrough=e(66897),k.finished=e(12726),k.pipeline=e(10168),k.Stream=k,k.prototype.pipe=function(a,_){var y=this;function d(o){a.writable&&a.write(o)===!1&&y.pause&&y.pause()}function s(){y.readable&&y.resume&&y.resume()}y.on("data",d),a.on("drain",s),a._isStdio||_&&_.end===!1||(y.on("end",i),y.on("close",r));var t=!1;function i(){t||(t=!0,a.end())}function r(){t||(t=!0,typeof a.destroy=="function"&&a.destroy())}function n(o){if(l(),M.listenerCount(this,"error")===0)throw o}function l(){y.removeListener("data",d),a.removeListener("drain",s),y.removeListener("end",i),y.removeListener("close",r),y.removeListener("error",n),a.removeListener("error",n),y.removeListener("end",l),y.removeListener("close",l),a.removeListener("close",l)}return y.on("error",n),a.on("error",n),y.on("end",l),y.on("close",l),a.on("close",l),a.emit("pipe",y),a}},74322:function(Y){var O={};function e(k,a,_){_||(_=Error);var y=function(d){var s,t;function i(r,n,l){return d.call(this,function(o,u,p){return typeof a=="string"?a:a(o,u,p)}(r,n,l))||this}return t=d,(s=i).prototype=Object.create(t.prototype),s.prototype.constructor=s,s.__proto__=t,i}(_);y.prototype.name=_.name,y.prototype.code=k,O[k]=y}function M(k,a){if(Array.isArray(k)){var _=k.length;return k=k.map(function(y){return String(y)}),_>2?"one of ".concat(a," ").concat(k.slice(0,_-1).join(", "),", or ")+k[_-1]:_===2?"one of ".concat(a," ").concat(k[0]," or ").concat(k[1]):"of ".concat(a," ").concat(k[0])}return"of ".concat(a," ").concat(String(k))}e("ERR_INVALID_OPT_VALUE",function(k,a){return'The value "'+a+'" is invalid for option "'+k+'"'},TypeError),e("ERR_INVALID_ARG_TYPE",function(k,a,_){var y,d,s,t,i;if(typeof a=="string"&&(d="not ",a.substr(0,4)===d)?(y="must not be",a=a.replace(/^not /,"")):y="must be",function(n,l,o){return(o===void 0||o>n.length)&&(o=n.length),n.substring(o-9,o)===l}(k," argument"))s="The ".concat(k," ").concat(y," ").concat(M(a,"type"));else{var r=(typeof i!="number"&&(i=0),i+1>(t=k).length||t.indexOf(".",i)===-1?"argument":"property");s='The "'.concat(k,'" ').concat(r," ").concat(y," ").concat(M(a,"type"))}return s+". Received type ".concat(typeof _)},TypeError),e("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),e("ERR_METHOD_NOT_IMPLEMENTED",function(k){return"The "+k+" method is not implemented"}),e("ERR_STREAM_PREMATURE_CLOSE","Premature close"),e("ERR_STREAM_DESTROYED",function(k){return"Cannot call "+k+" after a stream was destroyed"}),e("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),e("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),e("ERR_STREAM_WRITE_AFTER_END","write after end"),e("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),e("ERR_UNKNOWN_ENCODING",function(k){return"Unknown encoding: "+k},TypeError),e("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Y.exports.q=O},37865:function(Y,O,e){var M=e(90386),k=Object.keys||function(n){var l=[];for(var o in n)l.push(o);return l};Y.exports=t;var a=e(40410),_=e(37493);e(42018)(t,a);for(var y=k(_.prototype),d=0;d<y.length;d++){var s=y[d];t.prototype[s]||(t.prototype[s]=_.prototype[s])}function t(n){if(!(this instanceof t))return new t(n);a.call(this,n),_.call(this,n),this.allowHalfOpen=!0,n&&(n.readable===!1&&(this.readable=!1),n.writable===!1&&(this.writable=!1),n.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",i)))}function i(){this._writableState.ended||M.nextTick(r,this)}function r(n){n.end()}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=n,this._writableState.destroyed=n)}})},66897:function(Y,O,e){Y.exports=k;var M=e(74308);function k(a){if(!(this instanceof k))return new k(a);M.call(this,a)}e(42018)(k,M),k.prototype._transform=function(a,_,y){y(null,a)}},40410:function(Y,O,e){var M,k=e(90386);Y.exports=w,w.ReadableState=m,e(15398).EventEmitter;var a,_=function($,K){return $.listeners(K).length},y=e(71405),d=e(12856).Buffer,s=e.g.Uint8Array||function(){},t=e(40964);a=t&&t.debuglog?t.debuglog("stream"):function(){};var i,r,n,l=e(31125),o=e(65756),u=e(56306).getHighWaterMark,p=e(74322).q,c=p.ERR_INVALID_ARG_TYPE,b=p.ERR_STREAM_PUSH_AFTER_EOF,g=p.ERR_METHOD_NOT_IMPLEMENTED,h=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e(42018)(w,y);var x=o.errorOrDestroy,v=["error","close","destroy","pause","resume"];function m($,K,Z){M=M||e(37865),$=$||{},typeof Z!="boolean"&&(Z=K instanceof M),this.objectMode=!!$.objectMode,Z&&(this.objectMode=this.objectMode||!!$.readableObjectMode),this.highWaterMark=u(this,$,"readableHighWaterMark",Z),this.buffer=new l,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=$.emitClose!==!1,this.autoDestroy=!!$.autoDestroy,this.destroyed=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(i||(i=e(68019).s),this.decoder=new i($.encoding),this.encoding=$.encoding)}function w($){if(M=M||e(37865),!(this instanceof w))return new w($);var K=this instanceof M;this._readableState=new m($,this,K),this.readable=!0,$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy)),y.call(this)}function f($,K,Z,X,ee){a("readableAddChunk",K);var ne,re=$._readableState;if(K===null)re.reading=!1,function(ae,ue){if(a("onEofChunk"),!ue.ended){if(ue.decoder){var pe=ue.decoder.end();pe&&pe.length&&(ue.buffer.push(pe),ue.length+=ue.objectMode?1:pe.length)}ue.ended=!0,ue.sync?L(ae):(ue.needReadable=!1,ue.emittedReadable||(ue.emittedReadable=!0,C(ae)))}}($,re);else if(ee||(ne=function(ae,ue){var pe,ge;return ge=ue,d.isBuffer(ge)||ge instanceof s||typeof ue=="string"||ue===void 0||ae.objectMode||(pe=new c("chunk",["string","Buffer","Uint8Array"],ue)),pe}(re,K)),ne)x($,ne);else if(re.objectMode||K&&K.length>0)if(typeof K=="string"||re.objectMode||Object.getPrototypeOf(K)===d.prototype||(K=function(ae){return d.from(ae)}(K)),X)re.endEmitted?x($,new h):S($,re,K,!0);else if(re.ended)x($,new b);else{if(re.destroyed)return!1;re.reading=!1,re.decoder&&!Z?(K=re.decoder.write(K),re.objectMode||K.length!==0?S($,re,K,!1):P($,re)):S($,re,K,!1)}else X||(re.reading=!1,P($,re));return!re.ended&&(re.length<re.highWaterMark||re.length===0)}function S($,K,Z,X){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,$.emit("data",Z)):(K.length+=K.objectMode?1:Z.length,X?K.buffer.unshift(Z):K.buffer.push(Z),K.needReadable&&L($)),P($,K)}Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function($){this._readableState&&(this._readableState.destroyed=$)}}),w.prototype.destroy=o.destroy,w.prototype._undestroy=o.undestroy,w.prototype._destroy=function($,K){K($)},w.prototype.push=function($,K){var Z,X=this._readableState;return X.objectMode?Z=!0:typeof $=="string"&&((K=K||X.defaultEncoding)!==X.encoding&&($=d.from($,K),K=""),Z=!0),f(this,$,K,!1,Z)},w.prototype.unshift=function($){return f(this,$,null,!0,!1)},w.prototype.isPaused=function(){return this._readableState.flowing===!1},w.prototype.setEncoding=function($){i||(i=e(68019).s);var K=new i($);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var Z=this._readableState.buffer.head,X="";Z!==null;)X+=K.write(Z.data),Z=Z.next;return this._readableState.buffer.clear(),X!==""&&this._readableState.buffer.push(X),this._readableState.length=X.length,this};var T=1073741824;function E($,K){return $<=0||K.length===0&&K.ended?0:K.objectMode?1:$!=$?K.flowing&&K.length?K.buffer.head.data.length:K.length:($>K.highWaterMark&&(K.highWaterMark=function(Z){return Z>=T?Z=T:(Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++),Z}($)),$<=K.length?$:K.ended?K.length:(K.needReadable=!0,0))}function L($){var K=$._readableState;a("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(a("emitReadable",K.flowing),K.emittedReadable=!0,k.nextTick(C,$))}function C($){var K=$._readableState;a("emitReadable_",K.destroyed,K.length,K.ended),K.destroyed||!K.length&&!K.ended||($.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,N($)}function P($,K){K.readingMore||(K.readingMore=!0,k.nextTick(R,$,K))}function R($,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var Z=K.length;if(a("maybeReadMore read 0"),$.read(0),Z===K.length)break}K.readingMore=!1}function G($){var K=$._readableState;K.readableListening=$.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:$.listenerCount("data")>0&&$.resume()}function I($){a("readable nexttick read 0"),$.read(0)}function H($,K){a("resume",K.reading),K.reading||$.read(0),K.resumeScheduled=!1,$.emit("resume"),N($),K.flowing&&!K.reading&&$.read(0)}function N($){var K=$._readableState;for(a("flow",K.flowing);K.flowing&&$.read()!==null;);}function B($,K){return K.length===0?null:(K.objectMode?Z=K.buffer.shift():!$||$>=K.length?(Z=K.decoder?K.buffer.join(""):K.buffer.length===1?K.buffer.first():K.buffer.concat(K.length),K.buffer.clear()):Z=K.buffer.consume($,K.decoder),Z);var Z}function V($){var K=$._readableState;a("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,k.nextTick(q,K,$))}function q($,K){if(a("endReadableNT",$.endEmitted,$.length),!$.endEmitted&&$.length===0&&($.endEmitted=!0,K.readable=!1,K.emit("end"),$.autoDestroy)){var Z=K._writableState;(!Z||Z.autoDestroy&&Z.finished)&&K.destroy()}}function te($,K){for(var Z=0,X=$.length;Z<X;Z++)if($[Z]===K)return Z;return-1}w.prototype.read=function($){a("read",$),$=parseInt($,10);var K=this._readableState,Z=$;if($!==0&&(K.emittedReadable=!1),$===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return a("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?V(this):L(this),null;if(($=E($,K))===0&&K.ended)return K.length===0&&V(this),null;var X,ee=K.needReadable;return a("need readable",ee),(K.length===0||K.length-$<K.highWaterMark)&&a("length less than watermark",ee=!0),K.ended||K.reading?a("reading or ended",ee=!1):ee&&(a("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||($=E(Z,K))),(X=$>0?B($,K):null)===null?(K.needReadable=K.length<=K.highWaterMark,$=0):(K.length-=$,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),Z!==$&&K.ended&&V(this)),X!==null&&this.emit("data",X),X},w.prototype._read=function($){x(this,new g("_read()"))},w.prototype.pipe=function($,K){var Z=this,X=this._readableState;switch(X.pipesCount){case 0:X.pipes=$;break;case 1:X.pipes=[X.pipes,$];break;default:X.pipes.push($)}X.pipesCount+=1,a("pipe count=%d opts=%j",X.pipesCount,K);var ee=K&&K.end===!1||$===k.stdout||$===k.stderr?me:ne;function ne(){a("onend"),$.end()}X.endEmitted?k.nextTick(ee):Z.once("end",ee),$.on("unpipe",function ve(Ie,Se){a("onunpipe"),Ie===Z&&Se&&Se.hasUnpiped===!1&&(Se.hasUnpiped=!0,a("cleanup"),$.removeListener("close",ge),$.removeListener("finish",we),$.removeListener("drain",re),$.removeListener("error",pe),$.removeListener("unpipe",ve),Z.removeListener("end",ne),Z.removeListener("end",me),Z.removeListener("data",ue),ae=!0,!X.awaitDrain||$._writableState&&!$._writableState.needDrain||re())});var re=function(ve){return function(){var Ie=ve._readableState;a("pipeOnDrain",Ie.awaitDrain),Ie.awaitDrain&&Ie.awaitDrain--,Ie.awaitDrain===0&&_(ve,"data")&&(Ie.flowing=!0,N(ve))}}(Z);$.on("drain",re);var ae=!1;function ue(ve){a("ondata");var Ie=$.write(ve);a("dest.write",Ie),Ie===!1&&((X.pipesCount===1&&X.pipes===$||X.pipesCount>1&&te(X.pipes,$)!==-1)&&!ae&&(a("false write response, pause",X.awaitDrain),X.awaitDrain++),Z.pause())}function pe(ve){a("onerror",ve),me(),$.removeListener("error",pe),_($,"error")===0&&x($,ve)}function ge(){$.removeListener("finish",we),me()}function we(){a("onfinish"),$.removeListener("close",ge),me()}function me(){a("unpipe"),Z.unpipe($)}return Z.on("data",ue),function(ve,Ie,Se){if(typeof ve.prependListener=="function")return ve.prependListener(Ie,Se);ve._events&&ve._events[Ie]?Array.isArray(ve._events[Ie])?ve._events[Ie].unshift(Se):ve._events[Ie]=[Se,ve._events[Ie]]:ve.on(Ie,Se)}($,"error",pe),$.once("close",ge),$.once("finish",we),$.emit("pipe",Z),X.flowing||(a("pipe resume"),Z.resume()),$},w.prototype.unpipe=function($){var K=this._readableState,Z={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return $&&$!==K.pipes||($||($=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,$&&$.emit("unpipe",this,Z)),this;if(!$){var X=K.pipes,ee=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ne=0;ne<ee;ne++)X[ne].emit("unpipe",this,{hasUnpiped:!1});return this}var re=te(K.pipes,$);return re===-1||(K.pipes.splice(re,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),$.emit("unpipe",this,Z)),this},w.prototype.on=function($,K){var Z=y.prototype.on.call(this,$,K),X=this._readableState;return $==="data"?(X.readableListening=this.listenerCount("readable")>0,X.flowing!==!1&&this.resume()):$==="readable"&&(X.endEmitted||X.readableListening||(X.readableListening=X.needReadable=!0,X.flowing=!1,X.emittedReadable=!1,a("on readable",X.length,X.reading),X.length?L(this):X.reading||k.nextTick(I,this))),Z},w.prototype.addListener=w.prototype.on,w.prototype.removeListener=function($,K){var Z=y.prototype.removeListener.call(this,$,K);return $==="readable"&&k.nextTick(G,this),Z},w.prototype.removeAllListeners=function($){var K=y.prototype.removeAllListeners.apply(this,arguments);return $!=="readable"&&$!==void 0||k.nextTick(G,this),K},w.prototype.resume=function(){var $=this._readableState;return $.flowing||(a("resume"),$.flowing=!$.readableListening,function(K,Z){Z.resumeScheduled||(Z.resumeScheduled=!0,k.nextTick(H,K,Z))}(this,$)),$.paused=!1,this},w.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},w.prototype.wrap=function($){var K=this,Z=this._readableState,X=!1;for(var ee in $.on("end",function(){if(a("wrapped end"),Z.decoder&&!Z.ended){var re=Z.decoder.end();re&&re.length&&K.push(re)}K.push(null)}),$.on("data",function(re){a("wrapped data"),Z.decoder&&(re=Z.decoder.write(re)),Z.objectMode&&re==null||(Z.objectMode||re&&re.length)&&(K.push(re)||(X=!0,$.pause()))}),$)this[ee]===void 0&&typeof $[ee]=="function"&&(this[ee]=function(re){return function(){return $[re].apply($,arguments)}}(ee));for(var ne=0;ne<v.length;ne++)$.on(v[ne],this.emit.bind(this,v[ne]));return this._read=function(re){a("wrapped _read",re),X&&(X=!1,$.resume())},this},typeof Symbol=="function"&&(w.prototype[Symbol.asyncIterator]=function(){return r===void 0&&(r=e(68221)),r(this)}),Object.defineProperty(w.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(w.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(w.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}}),w._fromList=B,Object.defineProperty(w.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(w.from=function($,K){return n===void 0&&(n=e(31748)),n(w,$,K)})},74308:function(Y,O,e){Y.exports=t;var M=e(74322).q,k=M.ERR_METHOD_NOT_IMPLEMENTED,a=M.ERR_MULTIPLE_CALLBACK,_=M.ERR_TRANSFORM_ALREADY_TRANSFORMING,y=M.ERR_TRANSFORM_WITH_LENGTH_0,d=e(37865);function s(n,l){var o=this._transformState;o.transforming=!1;var u=o.writecb;if(u===null)return this.emit("error",new a);o.writechunk=null,o.writecb=null,l!=null&&this.push(l),u(n);var p=this._readableState;p.reading=!1,(p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}function t(n){if(!(this instanceof t))return new t(n);d.call(this,n),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,n&&(typeof n.transform=="function"&&(this._transform=n.transform),typeof n.flush=="function"&&(this._flush=n.flush)),this.on("prefinish",i)}function i(){var n=this;typeof this._flush!="function"||this._readableState.destroyed?r(this,null,null):this._flush(function(l,o){r(n,l,o)})}function r(n,l,o){if(l)return n.emit("error",l);if(o!=null&&n.push(o),n._writableState.length)throw new y;if(n._transformState.transforming)throw new _;return n.push(null)}e(42018)(t,d),t.prototype.push=function(n,l){return this._transformState.needTransform=!1,d.prototype.push.call(this,n,l)},t.prototype._transform=function(n,l,o){o(new k("_transform()"))},t.prototype._write=function(n,l,o){var u=this._transformState;if(u.writecb=o,u.writechunk=n,u.writeencoding=l,!u.transforming){var p=this._readableState;(u.needTransform||p.needReadable||p.length<p.highWaterMark)&&this._read(p.highWaterMark)}},t.prototype._read=function(n){var l=this._transformState;l.writechunk===null||l.transforming?l.needTransform=!0:(l.transforming=!0,this._transform(l.writechunk,l.writeencoding,l.afterTransform))},t.prototype._destroy=function(n,l){d.prototype._destroy.call(this,n,function(o){l(o)})}},37493:function(Y,O,e){var M,k=e(90386);function a(P){var R=this;this.next=null,this.entry=null,this.finish=function(){(function(G,I,H){var N=G.entry;for(G.entry=null;N;){var B=N.callback;I.pendingcb--,B(void 0),N=N.next}I.corkedRequestsFree.next=G})(R,P)}}Y.exports=w,w.WritableState=m;var _,y={deprecate:e(20588)},d=e(71405),s=e(12856).Buffer,t=e.g.Uint8Array||function(){},i=e(65756),r=e(56306).getHighWaterMark,n=e(74322).q,l=n.ERR_INVALID_ARG_TYPE,o=n.ERR_METHOD_NOT_IMPLEMENTED,u=n.ERR_MULTIPLE_CALLBACK,p=n.ERR_STREAM_CANNOT_PIPE,c=n.ERR_STREAM_DESTROYED,b=n.ERR_STREAM_NULL_VALUES,g=n.ERR_STREAM_WRITE_AFTER_END,h=n.ERR_UNKNOWN_ENCODING,x=i.errorOrDestroy;function v(){}function m(P,R,G){M=M||e(37865),P=P||{},typeof G!="boolean"&&(G=R instanceof M),this.objectMode=!!P.objectMode,G&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=r(this,P,"writableHighWaterMark",G),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var I=P.decodeStrings===!1;this.decodeStrings=!I,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(H){(function(N,B){var V=N._writableState,q=V.sync,te=V.writecb;if(typeof te!="function")throw new u;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(V),B)(function(K,Z,X,ee,ne){--Z.pendingcb,X?(k.nextTick(ne,ee),k.nextTick(C,K,Z),K._writableState.errorEmitted=!0,x(K,ee)):(ne(ee),K._writableState.errorEmitted=!0,x(K,ee),C(K,Z))})(N,V,q,B,te);else{var $=E(V)||N.destroyed;$||V.corked||V.bufferProcessing||!V.bufferedRequest||T(N,V),q?k.nextTick(S,N,V,$,te):S(N,V,$,te)}})(R,H)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function w(P){var R=this instanceof(M=M||e(37865));if(!R&&!_.call(w,this))return new w(P);this._writableState=new m(P,this,R),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),d.call(this)}function f(P,R,G,I,H,N,B){R.writelen=I,R.writecb=B,R.writing=!0,R.sync=!0,R.destroyed?R.onwrite(new c("write")):G?P._writev(H,R.onwrite):P._write(H,N,R.onwrite),R.sync=!1}function S(P,R,G,I){G||function(H,N){N.length===0&&N.needDrain&&(N.needDrain=!1,H.emit("drain"))}(P,R),R.pendingcb--,I(),C(P,R)}function T(P,R){R.bufferProcessing=!0;var G=R.bufferedRequest;if(P._writev&&G&&G.next){var I=R.bufferedRequestCount,H=new Array(I),N=R.corkedRequestsFree;N.entry=G;for(var B=0,V=!0;G;)H[B]=G,G.isBuf||(V=!1),G=G.next,B+=1;H.allBuffers=V,f(P,R,!0,R.length,H,"",N.finish),R.pendingcb++,R.lastBufferedRequest=null,N.next?(R.corkedRequestsFree=N.next,N.next=null):R.corkedRequestsFree=new a(R),R.bufferedRequestCount=0}else{for(;G;){var q=G.chunk,te=G.encoding,$=G.callback;if(f(P,R,!1,R.objectMode?1:q.length,q,te,$),G=G.next,R.bufferedRequestCount--,R.writing)break}G===null&&(R.lastBufferedRequest=null)}R.bufferedRequest=G,R.bufferProcessing=!1}function E(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function L(P,R){P._final(function(G){R.pendingcb--,G&&x(P,G),R.prefinished=!0,P.emit("prefinish"),C(P,R)})}function C(P,R){var G=E(R);if(G&&(function(H,N){N.prefinished||N.finalCalled||(typeof H._final!="function"||N.destroyed?(N.prefinished=!0,H.emit("prefinish")):(N.pendingcb++,N.finalCalled=!0,k.nextTick(L,H,N)))}(P,R),R.pendingcb===0&&(R.finished=!0,P.emit("finish"),R.autoDestroy))){var I=P._readableState;(!I||I.autoDestroy&&I.endEmitted)&&P.destroy()}return G}e(42018)(w,d),m.prototype.getBuffer=function(){for(var P=this.bufferedRequest,R=[];P;)R.push(P),P=P.next;return R},function(){try{Object.defineProperty(m.prototype,"buffer",{get:y.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(P){return!!_.call(this,P)||this===w&&P&&P._writableState instanceof m}})):_=function(P){return P instanceof this},w.prototype.pipe=function(){x(this,new p)},w.prototype.write=function(P,R,G){var I,H=this._writableState,N=!1,B=!H.objectMode&&(I=P,s.isBuffer(I)||I instanceof t);return B&&!s.isBuffer(P)&&(P=function(V){return s.from(V)}(P)),typeof R=="function"&&(G=R,R=null),B?R="buffer":R||(R=H.defaultEncoding),typeof G!="function"&&(G=v),H.ending?function(V,q){var te=new g;x(V,te),k.nextTick(q,te)}(this,G):(B||function(V,q,te,$){var K;return te===null?K=new b:typeof te=="string"||q.objectMode||(K=new l("chunk",["string","Buffer"],te)),!K||(x(V,K),k.nextTick($,K),!1)}(this,H,P,G))&&(H.pendingcb++,N=function(V,q,te,$,K,Z){if(!te){var X=function(ae,ue,pe){return ae.objectMode||ae.decodeStrings===!1||typeof ue!="string"||(ue=s.from(ue,pe)),ue}(q,$,K);$!==X&&(te=!0,K="buffer",$=X)}var ee=q.objectMode?1:$.length;q.length+=ee;var ne=q.length<q.highWaterMark;if(ne||(q.needDrain=!0),q.writing||q.corked){var re=q.lastBufferedRequest;q.lastBufferedRequest={chunk:$,encoding:K,isBuf:te,callback:Z,next:null},re?re.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else f(V,q,!1,ee,$,K,Z);return ne}(this,H,B,P,R,G)),N},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||T(this,P))},w.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new h(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(w.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),w.prototype._write=function(P,R,G){G(new o("_write()"))},w.prototype._writev=null,w.prototype.end=function(P,R,G){var I=this._writableState;return typeof P=="function"?(G=P,P=null,R=null):typeof R=="function"&&(G=R,R=null),P!=null&&this.write(P,R),I.corked&&(I.corked=1,this.uncork()),I.ending||function(H,N,B){N.ending=!0,C(H,N),B&&(N.finished?k.nextTick(B):H.once("finish",B)),N.ended=!0,H.writable=!1}(this,I,G),this},Object.defineProperty(w.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(w.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),w.prototype.destroy=i.destroy,w.prototype._undestroy=i.undestroy,w.prototype._destroy=function(P,R){R(P)}},68221:function(Y,O,e){var M,k=e(90386);function a(b,g,h){return g in b?Object.defineProperty(b,g,{value:h,enumerable:!0,configurable:!0,writable:!0}):b[g]=h,b}var _=e(12726),y=Symbol("lastResolve"),d=Symbol("lastReject"),s=Symbol("error"),t=Symbol("ended"),i=Symbol("lastPromise"),r=Symbol("handlePromise"),n=Symbol("stream");function l(b,g){return{value:b,done:g}}function o(b){var g=b[y];if(g!==null){var h=b[n].read();h!==null&&(b[i]=null,b[y]=null,b[d]=null,g(l(h,!1)))}}function u(b){k.nextTick(o,b)}var p=Object.getPrototypeOf(function(){}),c=Object.setPrototypeOf((a(M={get stream(){return this[n]},next:function(){var b=this,g=this[s];if(g!==null)return Promise.reject(g);if(this[t])return Promise.resolve(l(void 0,!0));if(this[n].destroyed)return new Promise(function(m,w){k.nextTick(function(){b[s]?w(b[s]):m(l(void 0,!0))})});var h,x=this[i];if(x)h=new Promise(function(m,w){return function(f,S){m.then(function(){w[t]?f(l(void 0,!0)):w[r](f,S)},S)}}(x,this));else{var v=this[n].read();if(v!==null)return Promise.resolve(l(v,!1));h=new Promise(this[r])}return this[i]=h,h}},Symbol.asyncIterator,function(){return this}),a(M,"return",function(){var b=this;return new Promise(function(g,h){b[n].destroy(null,function(x){x?h(x):g(l(void 0,!0))})})}),M),p);Y.exports=function(b){var g,h=Object.create(c,(a(g={},n,{value:b,writable:!0}),a(g,y,{value:null,writable:!0}),a(g,d,{value:null,writable:!0}),a(g,s,{value:null,writable:!0}),a(g,t,{value:b._readableState.endEmitted,writable:!0}),a(g,r,{value:function(x,v){var m=h[n].read();m?(h[i]=null,h[y]=null,h[d]=null,x(l(m,!1))):(h[y]=x,h[d]=v)},writable:!0}),g));return h[i]=null,_(b,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var v=h[d];return v!==null&&(h[i]=null,h[y]=null,h[d]=null,v(x)),void(h[s]=x)}var m=h[y];m!==null&&(h[i]=null,h[y]=null,h[d]=null,m(l(void 0,!0))),h[t]=!0}),b.on("readable",u.bind(null,h)),h}},31125:function(Y,O,e){function M(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(s,n).enumerable})),i.push.apply(i,r)}return i}function k(s,t,i){return t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function a(s,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(s,r.key,r)}}var _=e(12856).Buffer,y=e(69862).inspect,d=y&&y.custom||"inspect";Y.exports=function(){function s(){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,s),this.head=null,this.tail=null,this.length=0}var t,i;return t=s,i=[{key:"push",value:function(r){var n={data:r,next:null};this.length>0?this.tail.next=n:this.head=n,this.tail=n,++this.length}},{key:"unshift",value:function(r){var n={data:r,next:this.head};this.length===0&&(this.tail=n),this.head=n,++this.length}},{key:"shift",value:function(){if(this.length!==0){var r=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,r}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(r){if(this.length===0)return"";for(var n=this.head,l=""+n.data;n=n.next;)l+=r+n.data;return l}},{key:"concat",value:function(r){if(this.length===0)return _.alloc(0);for(var n,l,o,u=_.allocUnsafe(r>>>0),p=this.head,c=0;p;)n=p.data,l=u,o=c,_.prototype.copy.call(n,l,o),c+=p.data.length,p=p.next;return u}},{key:"consume",value:function(r,n){var l;return r<this.head.data.length?(l=this.head.data.slice(0,r),this.head.data=this.head.data.slice(r)):l=r===this.head.data.length?this.shift():n?this._getString(r):this._getBuffer(r),l}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(r){var n=this.head,l=1,o=n.data;for(r-=o.length;n=n.next;){var u=n.data,p=r>u.length?u.length:r;if(p===u.length?o+=u:o+=u.slice(0,r),(r-=p)==0){p===u.length?(++l,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=u.slice(p));break}++l}return this.length-=l,o}},{key:"_getBuffer",value:function(r){var n=_.allocUnsafe(r),l=this.head,o=1;for(l.data.copy(n),r-=l.data.length;l=l.next;){var u=l.data,p=r>u.length?u.length:r;if(u.copy(n,n.length-r,0,p),(r-=p)==0){p===u.length?(++o,l.next?this.head=l.next:this.head=this.tail=null):(this.head=l,l.data=u.slice(p));break}++o}return this.length-=o,n}},{key:d,value:function(r,n){return y(this,function(l){for(var o=1;o<arguments.length;o++){var u=arguments[o]!=null?arguments[o]:{};o%2?M(Object(u),!0).forEach(function(p){k(l,p,u[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(u)):M(Object(u)).forEach(function(p){Object.defineProperty(l,p,Object.getOwnPropertyDescriptor(u,p))})}return l}({},n,{depth:0,customInspect:!1}))}}],i&&a(t.prototype,i),s}()},65756:function(Y,O,e){var M=e(90386);function k(y,d){_(y,d),a(y)}function a(y){y._writableState&&!y._writableState.emitClose||y._readableState&&!y._readableState.emitClose||y.emit("close")}function _(y,d){y.emit("error",d)}Y.exports={destroy:function(y,d){var s=this,t=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return t||i?(d?d(y):y&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,M.nextTick(_,this,y)):M.nextTick(_,this,y)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(y||null,function(r){!d&&r?s._writableState?s._writableState.errorEmitted?M.nextTick(a,s):(s._writableState.errorEmitted=!0,M.nextTick(k,s,r)):M.nextTick(k,s,r):d?(M.nextTick(a,s),d(r)):M.nextTick(a,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(y,d){var s=y._readableState,t=y._writableState;s&&s.autoDestroy||t&&t.autoDestroy?y.destroy(d):y.emit("error",d)}}},12726:function(Y,O,e){var M=e(74322).q.ERR_STREAM_PREMATURE_CLOSE;function k(){}Y.exports=function a(_,y,d){if(typeof y=="function")return a(_,null,y);y||(y={}),d=function(b){var g=!1;return function(){if(!g){g=!0;for(var h=arguments.length,x=new Array(h),v=0;v<h;v++)x[v]=arguments[v];b.apply(this,x)}}}(d||k);var s=y.readable||y.readable!==!1&&_.readable,t=y.writable||y.writable!==!1&&_.writable,i=function(){_.writable||n()},r=_._writableState&&_._writableState.finished,n=function(){t=!1,r=!0,s||d.call(_)},l=_._readableState&&_._readableState.endEmitted,o=function(){s=!1,l=!0,t||d.call(_)},u=function(b){d.call(_,b)},p=function(){var b;return s&&!l?(_._readableState&&_._readableState.ended||(b=new M),d.call(_,b)):t&&!r?(_._writableState&&_._writableState.ended||(b=new M),d.call(_,b)):void 0},c=function(){_.req.on("finish",n)};return function(b){return b.setHeader&&typeof b.abort=="function"}(_)?(_.on("complete",n),_.on("abort",p),_.req?c():_.on("request",c)):t&&!_._writableState&&(_.on("end",i),_.on("close",i)),_.on("end",o),_.on("finish",n),y.error!==!1&&_.on("error",u),_.on("close",p),function(){_.removeListener("complete",n),_.removeListener("abort",p),_.removeListener("request",c),_.req&&_.req.removeListener("finish",n),_.removeListener("end",i),_.removeListener("close",i),_.removeListener("finish",n),_.removeListener("end",o),_.removeListener("error",u),_.removeListener("close",p)}}},31748:function(Y){Y.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(Y,O,e){var M,k=e(74322).q,a=k.ERR_MISSING_ARGS,_=k.ERR_STREAM_DESTROYED;function y(t){if(t)throw t}function d(t){t()}function s(t,i){return t.pipe(i)}Y.exports=function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var n,l=function(u){return u.length?typeof u[u.length-1]!="function"?y:u.pop():y}(i);if(Array.isArray(i[0])&&(i=i[0]),i.length<2)throw new a("streams");var o=i.map(function(u,p){var c=p<i.length-1;return function(b,g,h,x){x=function(w){var f=!1;return function(){f||(f=!0,w.apply(void 0,arguments))}}(x);var v=!1;b.on("close",function(){v=!0}),M===void 0&&(M=e(12726)),M(b,{readable:g,writable:h},function(w){if(w)return x(w);v=!0,x()});var m=!1;return function(w){if(!v&&!m)return m=!0,function(f){return f.setHeader&&typeof f.abort=="function"}(b)?b.abort():typeof b.destroy=="function"?b.destroy():void x(w||new _("pipe"))}}(u,c,p>0,function(b){n||(n=b),b&&o.forEach(d),c||(o.forEach(d),l(n))})});return i.reduce(s)}},56306:function(Y,O,e){var M=e(74322).q.ERR_INVALID_OPT_VALUE;Y.exports={getHighWaterMark:function(k,a,_,y){var d=function(s,t,i){return s.highWaterMark!=null?s.highWaterMark:t?s[i]:null}(a,y,_);if(d!=null){if(!isFinite(d)||Math.floor(d)!==d||d<0)throw new M(y?_:"highWaterMark",d);return Math.floor(d)}return k.objectMode?16:16384}}},71405:function(Y,O,e){Y.exports=e(15398).EventEmitter},68019:function(Y,O,e){var M=e(71665).Buffer,k=M.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(l){var o;switch(this.encoding=function(u){var p=function(c){if(!c)return"utf8";for(var b;;)switch(c){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return c;default:if(b)return;c=(""+c).toLowerCase(),b=!0}}(u);if(typeof p!="string"&&(M.isEncoding===k||!k(u)))throw new Error("Unknown encoding: "+u);return p||u}(l),this.encoding){case"utf16le":this.text=d,this.end=s,o=4;break;case"utf8":this.fillLast=y,o=4;break;case"base64":this.text=t,this.end=i,o=3;break;default:return this.write=r,void(this.end=n)}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(o)}function _(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function y(l){var o=this.lastTotal-this.lastNeed,u=function(p,c,b){if((192&c[0])!=128)return p.lastNeed=0,"�";if(p.lastNeed>1&&c.length>1){if((192&c[1])!=128)return p.lastNeed=1,"�";if(p.lastNeed>2&&c.length>2&&(192&c[2])!=128)return p.lastNeed=2,"�"}}(this,l);return u!==void 0?u:this.lastNeed<=l.length?(l.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,o,0,l.length),void(this.lastNeed-=l.length))}function d(l,o){if((l.length-o)%2==0){var u=l.toString("utf16le",o);if(u){var p=u.charCodeAt(u.length-1);if(p>=55296&&p<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],u.slice(0,-1)}return u}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",o,l.length-1)}function s(l){var o=l&&l.length?this.write(l):"";if(this.lastNeed){var u=this.lastTotal-this.lastNeed;return o+this.lastChar.toString("utf16le",0,u)}return o}function t(l,o){var u=(l.length-o)%3;return u===0?l.toString("base64",o):(this.lastNeed=3-u,this.lastTotal=3,u===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",o,l.length-u))}function i(l){var o=l&&l.length?this.write(l):"";return this.lastNeed?o+this.lastChar.toString("base64",0,3-this.lastNeed):o}function r(l){return l.toString(this.encoding)}function n(l){return l&&l.length?this.write(l):""}O.s=a,a.prototype.write=function(l){if(l.length===0)return"";var o,u;if(this.lastNeed){if((o=this.fillLast(l))===void 0)return"";u=this.lastNeed,this.lastNeed=0}else u=0;return u<l.length?o?o+this.text(l,u):this.text(l,u):o||""},a.prototype.end=function(l){var o=l&&l.length?this.write(l):"";return this.lastNeed?o+"�":o},a.prototype.text=function(l,o){var u=function(c,b,g){var h=b.length-1;if(h<g)return 0;var x=_(b[h]);return x>=0?(x>0&&(c.lastNeed=x-1),x):--h<g||x===-2?0:(x=_(b[h]))>=0?(x>0&&(c.lastNeed=x-2),x):--h<g||x===-2?0:(x=_(b[h]))>=0?(x>0&&(x===2?x=0:c.lastNeed=x-3),x):0}(this,l,o);if(!this.lastNeed)return l.toString("utf8",o);this.lastTotal=u;var p=l.length-(u-this.lastNeed);return l.copy(this.lastChar,0,p),l.toString("utf8",o,p)},a.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},90715:function(Y,O,e){var M=e(32791),k=e(41633)("stream-parser");Y.exports=function(c){var b=c&&typeof c._transform=="function",g=c&&typeof c._write=="function";if(!b&&!g)throw new Error("must pass a Writable or Transform stream in");k("extending Parser into stream"),c._bytes=t,c._skipBytes=i,b&&(c._passthrough=r),b?c._transform=l:c._write=n};var a=-1,_=0,y=1,d=2;function s(c){k("initializing parser stream"),c._parserBytesLeft=0,c._parserBuffers=[],c._parserBuffered=0,c._parserState=a,c._parserCallback=null,typeof c.push=="function"&&(c._parserOutput=c.push.bind(c)),c._parserInit=!0}function t(c,b){M(!this._parserCallback,'there is already a "callback" set!'),M(isFinite(c)&&c>0,'can only buffer a finite number of bytes > 0, got "'+c+'"'),this._parserInit||s(this),k("buffering %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=_}function i(c,b){M(!this._parserCallback,'there is already a "callback" set!'),M(c>0,'can only skip > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("skipping %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=y}function r(c,b){M(!this._parserCallback,'There is already a "callback" set!'),M(c>0,'can only pass through > 0 bytes, got "'+c+'"'),this._parserInit||s(this),k("passing through %o bytes",c),this._parserBytesLeft=c,this._parserCallback=b,this._parserState=d}function n(c,b,g){this._parserInit||s(this),k("write(%o bytes)",c.length),typeof b=="function"&&(g=b),u(this,c,null,g)}function l(c,b,g){this._parserInit||s(this),k("transform(%o bytes)",c.length),typeof b!="function"&&(b=this._parserOutput),u(this,c,b,g)}function o(c,b,g,h){if(c._parserBytesLeft-=b.length,k("%o bytes left for stream piece",c._parserBytesLeft),c._parserState===_?(c._parserBuffers.push(b),c._parserBuffered+=b.length):c._parserState===d&&g(b),c._parserBytesLeft!==0)return h;var x=c._parserCallback;if(x&&c._parserState===_&&c._parserBuffers.length>1&&(b=Buffer.concat(c._parserBuffers,c._parserBuffered)),c._parserState!==_&&(b=null),c._parserCallback=null,c._parserBuffered=0,c._parserState=a,c._parserBuffers.splice(0),x){var v=[];b&&v.push(b),g&&v.push(g);var m=x.length>v.length;m&&v.push(p(h));var w=x.apply(c,v);if(!m||h===w)return h}}var u=p(function c(b,g,h,x){return b._parserBytesLeft<=0?x(new Error("got data but not currently parsing anything")):g.length<=b._parserBytesLeft?function(){return o(b,g,h,x)}:function(){var v=g.slice(0,b._parserBytesLeft);return o(b,v,h,function(m){return m?x(m):g.length>v.length?function(){return c(b,g.slice(v.length),h,x)}:void 0})}});function p(c){return function(){for(var b=c.apply(this,arguments);typeof b=="function";)b=b();return b}}},41633:function(Y,O,e){var M=e(90386);function k(){var a;try{a=O.storage.debug}catch{}return!a&&M!==void 0&&"env"in M&&(a=M.env.DEBUG),a}(O=Y.exports=e(74469)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},O.formatArgs=function(a){var _=this.useColors;if(a[0]=(_?"%c":"")+this.namespace+(_?" %c":" ")+a[0]+(_?"%c ":" ")+"+"+O.humanize(this.diff),_){var y="color: "+this.color;a.splice(1,0,y,"color: inherit");var d=0,s=0;a[0].replace(/%[a-zA-Z%]/g,function(t){t!=="%%"&&(d++,t==="%c"&&(s=d))}),a.splice(s,0,y)}},O.save=function(a){try{a==null?O.storage.removeItem("debug"):O.storage.debug=a}catch{}},O.load=k,O.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},O.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),O.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],O.formatters.j=function(a){try{return JSON.stringify(a)}catch(_){return"[UnexpectedJSONParseError]: "+_.message}},O.enable(k())},74469:function(Y,O,e){var M;function k(a){function _(){if(_.enabled){var y=_,d=+new Date,s=d-(M||d);y.diff=s,y.prev=M,y.curr=d,M=d;for(var t=new Array(arguments.length),i=0;i<t.length;i++)t[i]=arguments[i];t[0]=O.coerce(t[0]),typeof t[0]!="string"&&t.unshift("%O");var r=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(n,l){if(n==="%%")return n;r++;var o=O.formatters[l];if(typeof o=="function"){var u=t[r];n=o.call(y,u),t.splice(r,1),r--}return n}),O.formatArgs.call(y,t),(_.log||O.log||console.log.bind(console)).apply(y,t)}}return _.namespace=a,_.enabled=O.enabled(a),_.useColors=O.useColors(),_.color=function(y){var d,s=0;for(d in y)s=(s<<5)-s+y.charCodeAt(d),s|=0;return O.colors[Math.abs(s)%O.colors.length]}(a),typeof O.init=="function"&&O.init(_),_}(O=Y.exports=k.debug=k.default=k).coerce=function(a){return a instanceof Error?a.stack||a.message:a},O.disable=function(){O.enable("")},O.enable=function(a){O.save(a),O.names=[],O.skips=[];for(var _=(typeof a=="string"?a:"").split(/[\s,]+/),y=_.length,d=0;d<y;d++)_[d]&&((a=_[d].replace(/\*/g,".*?"))[0]==="-"?O.skips.push(new RegExp("^"+a.substr(1)+"$")):O.names.push(new RegExp("^"+a+"$")))},O.enabled=function(a){var _,y;for(_=0,y=O.skips.length;_<y;_++)if(O.skips[_].test(a))return!1;for(_=0,y=O.names.length;_<y;_++)if(O.names[_].test(a))return!0;return!1},O.humanize=e(11375),O.names=[],O.skips=[],O.formatters={}},11375:function(Y){var O=1e3,e=60*O,M=60*e,k=24*M;function a(_,y,d){if(!(_<y))return _<1.5*y?Math.floor(_/y)+" "+d:Math.ceil(_/y)+" "+d+"s"}Y.exports=function(_,y){y=y||{};var d,s=typeof _;if(s==="string"&&_.length>0)return function(t){if(!((t=String(t)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(i){var r=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"days":case"day":case"d":return r*k;case"hours":case"hour":case"hrs":case"hr":case"h":return r*M;case"minutes":case"minute":case"mins":case"min":case"m":return r*e;case"seconds":case"second":case"secs":case"sec":case"s":return r*O;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(_);if(s==="number"&&isNaN(_)===!1)return y.long?a(d=_,k,"day")||a(d,M,"hour")||a(d,e,"minute")||a(d,O,"second")||d+" ms":function(t){return t>=k?Math.round(t/k)+"d":t>=M?Math.round(t/M)+"h":t>=e?Math.round(t/e)+"m":t>=O?Math.round(t/O)+"s":t+"ms"}(_);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_))}},99011:function(Y,O,e){var M=e(88641);Y.exports=function(k,a,_){if(k==null)throw Error("First argument should be a string");if(a==null)throw Error("Separator should be a string or a RegExp");_?(typeof _=="string"||Array.isArray(_))&&(_={ignore:_}):_={},_.escape==null&&(_.escape=!0),_.ignore==null?_.ignore=["[]","()","{}","<>",'""',"''","``","“”","«»"]:(typeof _.ignore=="string"&&(_.ignore=[_.ignore]),_.ignore=_.ignore.map(function(n){return n.length===1&&(n+=n),n}));var y=M.parse(k,{flat:!0,brackets:_.ignore}),d=y[0].split(a);if(_.escape){for(var s=[],t=0;t<d.length;t++){var i=d[t],r=d[t+1];i[i.length-1]==="\\"&&i[i.length-2]!=="\\"?(s.push(i+a+r),t++):s.push(i)}d=s}for(t=0;t<d.length;t++)y[0]=d[t],d[t]=M.stringify(y,{flat:!0});return d}},68664:function(Y){Y.exports=function(O){for(var e=O.length,M=new Array(e),k=new Array(e),a=new Array(e),_=new Array(e),y=new Array(e),d=new Array(e),s=0;s<e;++s)M[s]=-1,k[s]=0,a[s]=!1,_[s]=0,y[s]=-1,d[s]=[];var t,i=0,r=[],n=[];function l(p){var c=[p],b=[p];for(M[p]=k[p]=i,a[p]=!0,i+=1;b.length>0;){p=b[b.length-1];var g=O[p];if(_[p]<g.length){for(var h=_[p];h<g.length;++h){var x=g[h];if(M[x]<0){M[x]=k[x]=i,a[x]=!0,i+=1,c.push(x),b.push(x);break}a[x]&&(k[p]=0|Math.min(k[p],k[x])),y[x]>=0&&d[p].push(y[x])}_[p]=h}else{if(k[p]===M[p]){var v=[],m=[],w=0;for(h=c.length-1;h>=0;--h){var f=c[h];if(a[f]=!1,v.push(f),m.push(d[f]),w+=d[f].length,y[f]=r.length,f===p){c.length=h;break}}r.push(v);var S=new Array(w);for(h=0;h<m.length;h++)for(var T=0;T<m[h].length;T++)S[--w]=m[h][T];n.push(S)}b.pop()}}}for(s=0;s<e;++s)M[s]<0&&l(s);for(s=0;s<n.length;s++){var o=n[s];if(o.length!==0){o.sort(function(p,c){return p-c}),t=[o[0]];for(var u=1;u<o.length;u++)o[u]!==o[u-1]&&t.push(o[u]);n[s]=t}}return{components:r,adjacencyList:n}}},7095:function(Y,O,e){e.r(O);var M=2*Math.PI,k=function(y,d,s,t,i,r,n){var l=y.x,o=y.y;return{x:t*(l*=d)-i*(o*=s)+r,y:i*l+t*o+n}},a=function(y,d){var s=d===1.5707963267948966?.551915024494:d===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(d/4),t=Math.cos(y),i=Math.sin(y),r=Math.cos(y+d),n=Math.sin(y+d);return[{x:t-i*s,y:i+t*s},{x:r+n*s,y:n-r*s},{x:r,y:n}]},_=function(y,d,s,t){var i=y*s+d*t;return i>1&&(i=1),i<-1&&(i=-1),(y*t-d*s<0?-1:1)*Math.acos(i)};O.default=function(y){var d=y.px,s=y.py,t=y.cx,i=y.cy,r=y.rx,n=y.ry,l=y.xAxisRotation,o=l===void 0?0:l,u=y.largeArcFlag,p=u===void 0?0:u,c=y.sweepFlag,b=c===void 0?0:c,g=[];if(r===0||n===0)return[];var h=Math.sin(o*M/360),x=Math.cos(o*M/360),v=x*(d-t)/2+h*(s-i)/2,m=-h*(d-t)/2+x*(s-i)/2;if(v===0&&m===0)return[];r=Math.abs(r),n=Math.abs(n);var w=Math.pow(v,2)/Math.pow(r,2)+Math.pow(m,2)/Math.pow(n,2);w>1&&(r*=Math.sqrt(w),n*=Math.sqrt(w));var f=function(I,H,N,B,V,q,te,$,K,Z,X,ee){var ne=Math.pow(V,2),re=Math.pow(q,2),ae=Math.pow(X,2),ue=Math.pow(ee,2),pe=ne*re-ne*ue-re*ae;pe<0&&(pe=0),pe/=ne*ue+re*ae;var ge=(pe=Math.sqrt(pe)*(te===$?-1:1))*V/q*ee,we=pe*-q/V*X,me=Z*ge-K*we+(I+N)/2,ve=K*ge+Z*we+(H+B)/2,Ie=(X-ge)/V,Se=(ee-we)/q,ke=(-X-ge)/V,se=(-ee-we)/q,oe=_(1,0,Ie,Se),he=_(Ie,Se,ke,se);return $===0&&he>0&&(he-=M),$===1&&he<0&&(he+=M),[me,ve,oe,he]}(d,s,t,i,r,n,p,b,h,x,v,m),S=function(I,H){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(N,B){var V=[],q=!0,te=!1,$=void 0;try{for(var K,Z=N[Symbol.iterator]();!(q=(K=Z.next()).done)&&(V.push(K.value),!B||V.length!==B);q=!0);}catch(X){te=!0,$=X}finally{try{!q&&Z.return&&Z.return()}finally{if(te)throw $}}return V}(I,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(f,4),T=S[0],E=S[1],L=S[2],C=S[3],P=Math.abs(C)/(M/4);Math.abs(1-P)<1e-7&&(P=1);var R=Math.max(Math.ceil(P),1);C/=R;for(var G=0;G<R;G++)g.push(a(L,C)),L+=C;return g.map(function(I){var H=k(I[0],r,n,x,h,T,E),N=H.x,B=H.y,V=k(I[1],r,n,x,h,T,E),q=V.x,te=V.y,$=k(I[2],r,n,x,h,T,E);return{x1:N,y1:B,x2:q,y2:te,x:$.x,y:$.y}})}},1750:function(Y,O,e){var M=e(95616),k=e(65185),a=e(29988),_=e(89546),y=e(32791);Y.exports=function(d){if(Array.isArray(d)&&d.length===1&&typeof d[0]=="string"&&(d=d[0]),typeof d=="string"&&(y(_(d),"String is not an SVG path."),d=M(d)),y(Array.isArray(d),"Argument should be a string or an array of path segments."),d=k(d),!(d=a(d)).length)return[0,0,0,0];for(var s=[1/0,1/0,-1/0,-1/0],t=0,i=d.length;t<i;t++)for(var r=d[t].slice(1),n=0;n<r.length;n+=2)r[n+0]<s[0]&&(s[0]=r[n+0]),r[n+1]<s[1]&&(s[1]=r[n+1]),r[n+0]>s[2]&&(s[2]=r[n+0]),r[n+1]>s[3]&&(s[3]=r[n+1]);return s}},29988:function(Y,O,e){Y.exports=function(_){for(var y,d=[],s=0,t=0,i=0,r=0,n=null,l=null,o=0,u=0,p=0,c=_.length;p<c;p++){var b=_[p],g=b[0];switch(g){case"M":i=b[1],r=b[2];break;case"A":var h=M({px:o,py:u,cx:b[6],cy:b[7],rx:b[1],ry:b[2],xAxisRotation:b[3],largeArcFlag:b[4],sweepFlag:b[5]});if(!h.length)continue;for(var x,v=0;v<h.length;v++)b=["C",(x=h[v]).x1,x.y1,x.x2,x.y2,x.x,x.y],v<h.length-1&&d.push(b);break;case"S":var m=o,w=u;y!="C"&&y!="S"||(m+=m-s,w+=w-t),b=["C",m,w,b[1],b[2],b[3],b[4]];break;case"T":y=="Q"||y=="T"?(n=2*o-n,l=2*u-l):(n=o,l=u),b=a(o,u,n,l,b[1],b[2]);break;case"Q":n=b[1],l=b[2],b=a(o,u,b[1],b[2],b[3],b[4]);break;case"L":b=k(o,u,b[1],b[2]);break;case"H":b=k(o,u,b[1],u);break;case"V":b=k(o,u,o,b[1]);break;case"Z":b=k(o,u,i,r)}y=g,o=b[b.length-2],u=b[b.length-1],b.length>4?(s=b[b.length-4],t=b[b.length-3]):(s=o,t=u),d.push(b)}return d};var M=e(7095);function k(_,y,d,s){return["C",_,y,d,s,d,s]}function a(_,y,d,s,t,i){return["C",_/3+.6666666666666666*d,y/3+.6666666666666666*s,t/3+.6666666666666666*d,i/3+.6666666666666666*s,t,i]}},82019:function(Y,O,e){var M,k=e(1750),a=e(95616),_=e(31457),y=e(89546),d=e(44781),s=document.createElement("canvas"),t=s.getContext("2d");Y.exports=function(i,r){if(!y(i))throw Error("Argument should be valid svg path string");var n,l;r||(r={}),r.shape?(n=r.shape[0],l=r.shape[1]):(n=s.width=r.w||r.width||200,l=s.height=r.h||r.height||200);var o=Math.min(n,l),u=r.stroke||0,p=r.viewbox||r.viewBox||k(i),c=[n/(p[2]-p[0]),l/(p[3]-p[1])],b=Math.min(c[0]||0,c[1]||0)/2;if(t.fillStyle="black",t.fillRect(0,0,n,l),t.fillStyle="white",u&&(typeof u!="number"&&(u=1),t.strokeStyle=u>0?"white":"black",t.lineWidth=Math.abs(u)),t.translate(.5*n,.5*l),t.scale(b,b),function(){if(M!=null)return M;var x=document.createElement("canvas").getContext("2d");if(x.canvas.width=x.canvas.height=1,!window.Path2D)return M=!1;var v=new Path2D("M0,0h1v1h-1v-1Z");x.fillStyle="black",x.fill(v);var m=x.getImageData(0,0,1,1);return M=m&&m.data&&m.data[3]===255}()){var g=new Path2D(i);t.fill(g),u&&t.stroke(g)}else{var h=a(i);_(t,h),t.fill(),u&&t.stroke()}return t.setTransform(1,0,0,1,0,0),d(t,{cutoff:r.cutoff!=null?r.cutoff:.5,radius:r.radius!=null?r.radius:.5*o})}},84267:function(Y,O,e){var M;(function(k){var a=/^\s+/,_=/\s+$/,y=0,d=k.round,s=k.min,t=k.max,i=k.random;function r(X,ee){if(ee=ee||{},(X=X||"")instanceof r)return X;if(!(this instanceof r))return new r(X,ee);var ne=function(re){var ae,ue,pe,ge={r:0,g:0,b:0},we=1,me=null,ve=null,Ie=null,Se=!1,ke=!1;return typeof re=="string"&&(re=function(se){se=se.replace(a,"").replace(_,"").toLowerCase();var oe,he=!1;if(L[se])se=L[se],he=!0;else if(se=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(oe=K.rgb.exec(se))?{r:oe[1],g:oe[2],b:oe[3]}:(oe=K.rgba.exec(se))?{r:oe[1],g:oe[2],b:oe[3],a:oe[4]}:(oe=K.hsl.exec(se))?{h:oe[1],s:oe[2],l:oe[3]}:(oe=K.hsla.exec(se))?{h:oe[1],s:oe[2],l:oe[3],a:oe[4]}:(oe=K.hsv.exec(se))?{h:oe[1],s:oe[2],v:oe[3]}:(oe=K.hsva.exec(se))?{h:oe[1],s:oe[2],v:oe[3],a:oe[4]}:(oe=K.hex8.exec(se))?{r:I(oe[1]),g:I(oe[2]),b:I(oe[3]),a:V(oe[4]),format:he?"name":"hex8"}:(oe=K.hex6.exec(se))?{r:I(oe[1]),g:I(oe[2]),b:I(oe[3]),format:he?"name":"hex"}:(oe=K.hex4.exec(se))?{r:I(oe[1]+""+oe[1]),g:I(oe[2]+""+oe[2]),b:I(oe[3]+""+oe[3]),a:V(oe[4]+""+oe[4]),format:he?"name":"hex8"}:!!(oe=K.hex3.exec(se))&&{r:I(oe[1]+""+oe[1]),g:I(oe[2]+""+oe[2]),b:I(oe[3]+""+oe[3]),format:he?"name":"hex"}}(re)),typeof re=="object"&&(Z(re.r)&&Z(re.g)&&Z(re.b)?(ae=re.r,ue=re.g,pe=re.b,ge={r:255*R(ae,255),g:255*R(ue,255),b:255*R(pe,255)},Se=!0,ke=String(re.r).substr(-1)==="%"?"prgb":"rgb"):Z(re.h)&&Z(re.s)&&Z(re.v)?(me=N(re.s),ve=N(re.v),ge=function(se,oe,he){se=6*R(se,360),oe=R(oe,100),he=R(he,100);var Le=k.floor(se),Me=se-Le,_e=he*(1-oe),De=he*(1-Me*oe),Ne=he*(1-(1-Me)*oe),ce=Le%6;return{r:255*[he,De,_e,_e,Ne,he][ce],g:255*[Ne,he,he,De,_e,_e][ce],b:255*[_e,_e,Ne,he,he,De][ce]}}(re.h,me,ve),Se=!0,ke="hsv"):Z(re.h)&&Z(re.s)&&Z(re.l)&&(me=N(re.s),Ie=N(re.l),ge=function(se,oe,he){var Le,Me,_e;function De(Te,ye,Oe){return Oe<0&&(Oe+=1),Oe>1&&(Oe-=1),Oe<1/6?Te+6*(ye-Te)*Oe:Oe<.5?ye:Oe<2/3?Te+(ye-Te)*(2/3-Oe)*6:Te}if(se=R(se,360),oe=R(oe,100),he=R(he,100),oe===0)Le=Me=_e=he;else{var Ne=he<.5?he*(1+oe):he+oe-he*oe,ce=2*he-Ne;Le=De(ce,Ne,se+1/3),Me=De(ce,Ne,se),_e=De(ce,Ne,se-1/3)}return{r:255*Le,g:255*Me,b:255*_e}}(re.h,me,Ie),Se=!0,ke="hsl"),re.hasOwnProperty("a")&&(we=re.a)),we=P(we),{ok:Se,format:re.format||ke,r:s(255,t(ge.r,0)),g:s(255,t(ge.g,0)),b:s(255,t(ge.b,0)),a:we}}(X);this._originalInput=X,this._r=ne.r,this._g=ne.g,this._b=ne.b,this._a=ne.a,this._roundA=d(100*this._a)/100,this._format=ee.format||ne.format,this._gradientType=ee.gradientType,this._r<1&&(this._r=d(this._r)),this._g<1&&(this._g=d(this._g)),this._b<1&&(this._b=d(this._b)),this._ok=ne.ok,this._tc_id=y++}function n(X,ee,ne){X=R(X,255),ee=R(ee,255),ne=R(ne,255);var re,ae,ue=t(X,ee,ne),pe=s(X,ee,ne),ge=(ue+pe)/2;if(ue==pe)re=ae=0;else{var we=ue-pe;switch(ae=ge>.5?we/(2-ue-pe):we/(ue+pe),ue){case X:re=(ee-ne)/we+(ee<ne?6:0);break;case ee:re=(ne-X)/we+2;break;case ne:re=(X-ee)/we+4}re/=6}return{h:re,s:ae,l:ge}}function l(X,ee,ne){X=R(X,255),ee=R(ee,255),ne=R(ne,255);var re,ae,ue=t(X,ee,ne),pe=s(X,ee,ne),ge=ue,we=ue-pe;if(ae=ue===0?0:we/ue,ue==pe)re=0;else{switch(ue){case X:re=(ee-ne)/we+(ee<ne?6:0);break;case ee:re=(ne-X)/we+2;break;case ne:re=(X-ee)/we+4}re/=6}return{h:re,s:ae,v:ge}}function o(X,ee,ne,re){var ae=[H(d(X).toString(16)),H(d(ee).toString(16)),H(d(ne).toString(16))];return re&&ae[0].charAt(0)==ae[0].charAt(1)&&ae[1].charAt(0)==ae[1].charAt(1)&&ae[2].charAt(0)==ae[2].charAt(1)?ae[0].charAt(0)+ae[1].charAt(0)+ae[2].charAt(0):ae.join("")}function u(X,ee,ne,re){return[H(B(re)),H(d(X).toString(16)),H(d(ee).toString(16)),H(d(ne).toString(16))].join("")}function p(X,ee){ee=ee===0?0:ee||10;var ne=r(X).toHsl();return ne.s-=ee/100,ne.s=G(ne.s),r(ne)}function c(X,ee){ee=ee===0?0:ee||10;var ne=r(X).toHsl();return ne.s+=ee/100,ne.s=G(ne.s),r(ne)}function b(X){return r(X).desaturate(100)}function g(X,ee){ee=ee===0?0:ee||10;var ne=r(X).toHsl();return ne.l+=ee/100,ne.l=G(ne.l),r(ne)}function h(X,ee){ee=ee===0?0:ee||10;var ne=r(X).toRgb();return ne.r=t(0,s(255,ne.r-d(-ee/100*255))),ne.g=t(0,s(255,ne.g-d(-ee/100*255))),ne.b=t(0,s(255,ne.b-d(-ee/100*255))),r(ne)}function x(X,ee){ee=ee===0?0:ee||10;var ne=r(X).toHsl();return ne.l-=ee/100,ne.l=G(ne.l),r(ne)}function v(X,ee){var ne=r(X).toHsl(),re=(ne.h+ee)%360;return ne.h=re<0?360+re:re,r(ne)}function m(X){var ee=r(X).toHsl();return ee.h=(ee.h+180)%360,r(ee)}function w(X){var ee=r(X).toHsl(),ne=ee.h;return[r(X),r({h:(ne+120)%360,s:ee.s,l:ee.l}),r({h:(ne+240)%360,s:ee.s,l:ee.l})]}function f(X){var ee=r(X).toHsl(),ne=ee.h;return[r(X),r({h:(ne+90)%360,s:ee.s,l:ee.l}),r({h:(ne+180)%360,s:ee.s,l:ee.l}),r({h:(ne+270)%360,s:ee.s,l:ee.l})]}function S(X){var ee=r(X).toHsl(),ne=ee.h;return[r(X),r({h:(ne+72)%360,s:ee.s,l:ee.l}),r({h:(ne+216)%360,s:ee.s,l:ee.l})]}function T(X,ee,ne){ee=ee||6,ne=ne||30;var re=r(X).toHsl(),ae=360/ne,ue=[r(X)];for(re.h=(re.h-(ae*ee>>1)+720)%360;--ee;)re.h=(re.h+ae)%360,ue.push(r(re));return ue}function E(X,ee){ee=ee||6;for(var ne=r(X).toHsv(),re=ne.h,ae=ne.s,ue=ne.v,pe=[],ge=1/ee;ee--;)pe.push(r({h:re,s:ae,v:ue})),ue=(ue+ge)%1;return pe}r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},getLuminance:function(){var X,ee,ne,re=this.toRgb();return X=re.r/255,ee=re.g/255,ne=re.b/255,.2126*(X<=.03928?X/12.92:k.pow((X+.055)/1.055,2.4))+.7152*(ee<=.03928?ee/12.92:k.pow((ee+.055)/1.055,2.4))+.0722*(ne<=.03928?ne/12.92:k.pow((ne+.055)/1.055,2.4))},setAlpha:function(X){return this._a=P(X),this._roundA=d(100*this._a)/100,this},toHsv:function(){var X=l(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=l(this._r,this._g,this._b),ee=d(360*X.h),ne=d(100*X.s),re=d(100*X.v);return this._a==1?"hsv("+ee+", "+ne+"%, "+re+"%)":"hsva("+ee+", "+ne+"%, "+re+"%, "+this._roundA+")"},toHsl:function(){var X=n(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=n(this._r,this._g,this._b),ee=d(360*X.h),ne=d(100*X.s),re=d(100*X.l);return this._a==1?"hsl("+ee+", "+ne+"%, "+re+"%)":"hsla("+ee+", "+ne+"%, "+re+"%, "+this._roundA+")"},toHex:function(X){return o(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(X){return function(ee,ne,re,ae,ue){var pe=[H(d(ee).toString(16)),H(d(ne).toString(16)),H(d(re).toString(16)),H(B(ae))];return ue&&pe[0].charAt(0)==pe[0].charAt(1)&&pe[1].charAt(0)==pe[1].charAt(1)&&pe[2].charAt(0)==pe[2].charAt(1)&&pe[3].charAt(0)==pe[3].charAt(1)?pe[0].charAt(0)+pe[1].charAt(0)+pe[2].charAt(0)+pe[3].charAt(0):pe.join("")}(this._r,this._g,this._b,this._a,X)},toHex8String:function(X){return"#"+this.toHex8(X)},toRgb:function(){return{r:d(this._r),g:d(this._g),b:d(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+d(this._r)+", "+d(this._g)+", "+d(this._b)+")":"rgba("+d(this._r)+", "+d(this._g)+", "+d(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:d(100*R(this._r,255))+"%",g:d(100*R(this._g,255))+"%",b:d(100*R(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+d(100*R(this._r,255))+"%, "+d(100*R(this._g,255))+"%, "+d(100*R(this._b,255))+"%)":"rgba("+d(100*R(this._r,255))+"%, "+d(100*R(this._g,255))+"%, "+d(100*R(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(C[o(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var ee="#"+u(this._r,this._g,this._b,this._a),ne=ee,re=this._gradientType?"GradientType = 1, ":"";if(X){var ae=r(X);ne="#"+u(ae._r,ae._g,ae._b,ae._a)}return"progid:DXImageTransform.Microsoft.gradient("+re+"startColorstr="+ee+",endColorstr="+ne+")"},toString:function(X){var ee=!!X;X=X||this._format;var ne=!1,re=this._a<1&&this._a>=0;return ee||!re||X!=="hex"&&X!=="hex6"&&X!=="hex3"&&X!=="hex4"&&X!=="hex8"&&X!=="name"?(X==="rgb"&&(ne=this.toRgbString()),X==="prgb"&&(ne=this.toPercentageRgbString()),X!=="hex"&&X!=="hex6"||(ne=this.toHexString()),X==="hex3"&&(ne=this.toHexString(!0)),X==="hex4"&&(ne=this.toHex8String(!0)),X==="hex8"&&(ne=this.toHex8String()),X==="name"&&(ne=this.toName()),X==="hsl"&&(ne=this.toHslString()),X==="hsv"&&(ne=this.toHsvString()),ne||this.toHexString()):X==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(X,ee){var ne=X.apply(null,[this].concat([].slice.call(ee)));return this._r=ne._r,this._g=ne._g,this._b=ne._b,this.setAlpha(ne._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(x,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(v,arguments)},_applyCombination:function(X,ee){return X.apply(null,[this].concat([].slice.call(ee)))},analogous:function(){return this._applyCombination(T,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(S,arguments)},triad:function(){return this._applyCombination(w,arguments)},tetrad:function(){return this._applyCombination(f,arguments)}},r.fromRatio=function(X,ee){if(typeof X=="object"){var ne={};for(var re in X)X.hasOwnProperty(re)&&(ne[re]=re==="a"?X[re]:N(X[re]));X=ne}return r(X,ee)},r.equals=function(X,ee){return!(!X||!ee)&&r(X).toRgbString()==r(ee).toRgbString()},r.random=function(){return r.fromRatio({r:i(),g:i(),b:i()})},r.mix=function(X,ee,ne){ne=ne===0?0:ne||50;var re=r(X).toRgb(),ae=r(ee).toRgb(),ue=ne/100;return r({r:(ae.r-re.r)*ue+re.r,g:(ae.g-re.g)*ue+re.g,b:(ae.b-re.b)*ue+re.b,a:(ae.a-re.a)*ue+re.a})},r.readability=function(X,ee){var ne=r(X),re=r(ee);return(k.max(ne.getLuminance(),re.getLuminance())+.05)/(k.min(ne.getLuminance(),re.getLuminance())+.05)},r.isReadable=function(X,ee,ne){var re,ae,ue,pe,ge,we=r.readability(X,ee);switch(ae=!1,(ue=ne,(pe=((ue=ue||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&pe!=="AAA"&&(pe="AA"),(ge=(ue.size||"small").toLowerCase())!=="small"&&ge!=="large"&&(ge="small"),re={level:pe,size:ge}).level+re.size){case"AAsmall":case"AAAlarge":ae=we>=4.5;break;case"AAlarge":ae=we>=3;break;case"AAAsmall":ae=we>=7}return ae},r.mostReadable=function(X,ee,ne){var re,ae,ue,pe,ge=null,we=0;ae=(ne=ne||{}).includeFallbackColors,ue=ne.level,pe=ne.size;for(var me=0;me<ee.length;me++)(re=r.readability(X,ee[me]))>we&&(we=re,ge=r(ee[me]));return r.isReadable(X,ge,{level:ue,size:pe})||!ae?ge:(ne.includeFallbackColors=!1,r.mostReadable(X,["#fff","#000"],ne))};var L=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},C=r.hexNames=function(X){var ee={};for(var ne in X)X.hasOwnProperty(ne)&&(ee[X[ne]]=ne);return ee}(L);function P(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function R(X,ee){(function(re){return typeof re=="string"&&re.indexOf(".")!=-1&&parseFloat(re)===1})(X)&&(X="100%");var ne=function(re){return typeof re=="string"&&re.indexOf("%")!=-1}(X);return X=s(ee,t(0,parseFloat(X))),ne&&(X=parseInt(X*ee,10)/100),k.abs(X-ee)<1e-6?1:X%ee/parseFloat(ee)}function G(X){return s(1,t(0,X))}function I(X){return parseInt(X,16)}function H(X){return X.length==1?"0"+X:""+X}function N(X){return X<=1&&(X=100*X+"%"),X}function B(X){return k.round(255*parseFloat(X)).toString(16)}function V(X){return I(X)/255}var q,te,$,K=(te="[\\s|\\(]+("+(q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",$="[\\s|\\(]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")[,|\\s]+("+q+")\\s*\\)?",{CSS_UNIT:new RegExp(q),rgb:new RegExp("rgb"+te),rgba:new RegExp("rgba"+$),hsl:new RegExp("hsl"+te),hsla:new RegExp("hsla"+$),hsv:new RegExp("hsv"+te),hsva:new RegExp("hsva"+$),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function Z(X){return!!K.CSS_UNIT.exec(X)}Y.exports?Y.exports=r:(M=(function(){return r}).call(O,e,O,Y))===void 0||(Y.exports=M)})(Math)},57060:function(Y){Y.exports=e,Y.exports.float32=Y.exports.float=e,Y.exports.fract32=Y.exports.fract=function(M,k){if(M.length){if(M instanceof Float32Array)return new Float32Array(M.length);k instanceof Float32Array||(k=e(M));for(var a=0,_=k.length;a<_;a++)k[a]=M[a]-k[a];return k}return e(M-e(M))};var O=new Float32Array(1);function e(M){return M.length?M instanceof Float32Array?M:new Float32Array(M):(O[0]=M,O[0])}},75686:function(Y,O,e){var M=e(25677);Y.exports=_;var k=96;function a(y,d){var s=M(getComputedStyle(y).getPropertyValue(d));return s[0]*_(s[1],y)}function _(y,d){switch(d=d||document.body,y=(y||"px").trim().toLowerCase(),d!==window&&d!==document||(d=document.body),y){case"%":return d.clientHeight/100;case"ch":case"ex":return function(s,t){var i=document.createElement("div");i.style["font-size"]="128"+s,t.appendChild(i);var r=a(i,"font-size")/128;return t.removeChild(i),r}(y,d);case"em":return a(d,"font-size");case"rem":return a(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return k;case"cm":return k/2.54;case"mm":return k/25.4;case"pt":return k/72;case"pc":return k/6}return 1}},96892:function(Y,O,e){function M(_){return _}function k(_,y){return typeof y=="string"&&(y=_.objects[y]),y.type==="GeometryCollection"?{type:"FeatureCollection",features:y.geometries.map(function(d){return a(_,d)})}:a(_,y)}function a(_,y){var d=y.id,s=y.bbox,t=y.properties==null?{}:y.properties,i=function(r,n){var l=function(h){if(h==null)return M;var x,v,m=h.scale[0],w=h.scale[1],f=h.translate[0],S=h.translate[1];return function(T,E){E||(x=v=0);var L=2,C=T.length,P=new Array(C);for(P[0]=(x+=T[0])*m+f,P[1]=(v+=T[1])*w+S;L<C;)P[L]=T[L],++L;return P}}(r.transform),o=r.arcs;function u(h,x){x.length&&x.pop();for(var v=o[h<0?~h:h],m=0,w=v.length;m<w;++m)x.push(l(v[m],m));h<0&&function(f,S){for(var T,E=f.length,L=E-S;L<--E;)T=f[L],f[L++]=f[E],f[E]=T}(x,w)}function p(h){return l(h)}function c(h){for(var x=[],v=0,m=h.length;v<m;++v)u(h[v],x);return x.length<2&&x.push(x[0]),x}function b(h){for(var x=c(h);x.length<4;)x.push(x[0]);return x}function g(h){return h.map(b)}return function h(x){var v,m=x.type;switch(m){case"GeometryCollection":return{type:m,geometries:x.geometries.map(h)};case"Point":v=p(x.coordinates);break;case"MultiPoint":v=x.coordinates.map(p);break;case"LineString":v=c(x.arcs);break;case"MultiLineString":v=x.arcs.map(c);break;case"Polygon":v=g(x.arcs);break;case"MultiPolygon":v=x.arcs.map(g);break;default:return null}return{type:m,coordinates:v}}(n)}(_,y);return d==null&&s==null?{type:"Feature",properties:t,geometry:i}:s==null?{type:"Feature",id:d,properties:t,geometry:i}:{type:"Feature",id:d,bbox:s,properties:t,geometry:i}}e.d(O,{zL:function(){return k}})},73116:function(Y,O,e){var M=e(24511);Y.exports=function(k){if(typeof k!="function"||!hasOwnProperty.call(k,"length"))return!1;try{if(typeof k.length!="number"||typeof k.call!="function"||typeof k.apply!="function")return!1}catch{return!1}return!M(k)}},69190:function(Y,O,e){var M=e(24582),k=e(47403),a=e(9234),_=e(6048),y=function(d,s){return d.replace("%v",_(s))};Y.exports=function(d,s,t){if(!k(t))throw new TypeError(y(s,d));if(!M(d)){if("default"in t)return t.default;if(t.isOptional)return null}var i=a(t.errorMessage);throw M(i)||(i=s),new TypeError(y(i,d))}},18497:function(Y){Y.exports=function(O){try{return O.toString()}catch{try{return String(O)}catch{return null}}}},6048:function(Y,O,e){var M=e(18497),k=/[\n\r\u2028\u2029]/g;Y.exports=function(a){var _=M(a);return _===null?"<Non-coercible to string value>":(_.length>100&&(_=_.slice(0,99)+"…"),_=_.replace(k,function(y){switch(y){case`
`:return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}}))}},47403:function(Y,O,e){var M=e(24582),k={object:!0,function:!0,undefined:!0};Y.exports=function(a){return!!M(a)&&hasOwnProperty.call(k,typeof a)}},82527:function(Y,O,e){var M=e(69190),k=e(84985);Y.exports=function(a){return k(a)?a:M(a,"%v is not a plain function",arguments[1])}},84985:function(Y,O,e){var M=e(73116),k=/^\s*class[\s{/}]/,a=Function.prototype.toString;Y.exports=function(_){return!!M(_)&&!k.test(a.call(_))}},24511:function(Y,O,e){var M=e(47403);Y.exports=function(k){if(!M(k))return!1;try{return!!k.constructor&&k.constructor.prototype===k}catch{return!1}}},9234:function(Y,O,e){var M=e(24582),k=e(47403),a=Object.prototype.toString;Y.exports=function(_){if(!M(_))return null;if(k(_)){var y=_.toString;if(typeof y!="function"||y===a)return null}try{return""+_}catch{return null}}},10424:function(Y,O,e){var M=e(69190),k=e(24582);Y.exports=function(a){return k(a)?a:M(a,"Cannot use %v",arguments[1])}},24582:function(Y){Y.exports=function(O){return O!=null}},58404:function(Y,O,e){var M=e(13547),k=e(12129),a=e(12856).Buffer;e.g.__TYPEDARRAY_POOL||(e.g.__TYPEDARRAY_POOL={UINT8:k([32,0]),UINT16:k([32,0]),UINT32:k([32,0]),BIGUINT64:k([32,0]),INT8:k([32,0]),INT16:k([32,0]),INT32:k([32,0]),BIGINT64:k([32,0]),FLOAT:k([32,0]),DOUBLE:k([32,0]),DATA:k([32,0]),UINT8C:k([32,0]),BUFFER:k([32,0])});var _=typeof Uint8ClampedArray<"u",y=typeof BigUint64Array<"u",d=typeof BigInt64Array<"u",s=e.g.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=k([32,0])),s.BIGUINT64||(s.BIGUINT64=k([32,0])),s.BIGINT64||(s.BIGINT64=k([32,0])),s.BUFFER||(s.BUFFER=k([32,0]));var t=s.DATA,i=s.BUFFER;function r(S){if(S){var T=S.length||S.byteLength,E=M.log2(T);t[E].push(S)}}function n(S){S=M.nextPow2(S);var T=M.log2(S),E=t[T];return E.length>0?E.pop():new ArrayBuffer(S)}function l(S){return new Uint8Array(n(S),0,S)}function o(S){return new Uint16Array(n(2*S),0,S)}function u(S){return new Uint32Array(n(4*S),0,S)}function p(S){return new Int8Array(n(S),0,S)}function c(S){return new Int16Array(n(2*S),0,S)}function b(S){return new Int32Array(n(4*S),0,S)}function g(S){return new Float32Array(n(4*S),0,S)}function h(S){return new Float64Array(n(8*S),0,S)}function x(S){return _?new Uint8ClampedArray(n(S),0,S):l(S)}function v(S){return y?new BigUint64Array(n(8*S),0,S):null}function m(S){return d?new BigInt64Array(n(8*S),0,S):null}function w(S){return new DataView(n(S),0,S)}function f(S){S=M.nextPow2(S);var T=M.log2(S),E=i[T];return E.length>0?E.pop():new a(S)}O.free=function(S){if(a.isBuffer(S))i[M.log2(S.length)].push(S);else{if(Object.prototype.toString.call(S)!=="[object ArrayBuffer]"&&(S=S.buffer),!S)return;var T=S.length||S.byteLength,E=0|M.log2(T);t[E].push(S)}},O.freeUint8=O.freeUint16=O.freeUint32=O.freeBigUint64=O.freeInt8=O.freeInt16=O.freeInt32=O.freeBigInt64=O.freeFloat32=O.freeFloat=O.freeFloat64=O.freeDouble=O.freeUint8Clamped=O.freeDataView=function(S){r(S.buffer)},O.freeArrayBuffer=r,O.freeBuffer=function(S){i[M.log2(S.length)].push(S)},O.malloc=function(S,T){if(T===void 0||T==="arraybuffer")return n(S);switch(T){case"uint8":return l(S);case"uint16":return o(S);case"uint32":return u(S);case"int8":return p(S);case"int16":return c(S);case"int32":return b(S);case"float":case"float32":return g(S);case"double":case"float64":return h(S);case"uint8_clamped":return x(S);case"bigint64":return m(S);case"biguint64":return v(S);case"buffer":return f(S);case"data":case"dataview":return w(S);default:return null}return null},O.mallocArrayBuffer=n,O.mallocUint8=l,O.mallocUint16=o,O.mallocUint32=u,O.mallocInt8=p,O.mallocInt16=c,O.mallocInt32=b,O.mallocFloat32=O.mallocFloat=g,O.mallocFloat64=O.mallocDouble=h,O.mallocUint8Clamped=x,O.mallocBigUint64=v,O.mallocBigInt64=m,O.mallocDataView=w,O.mallocBuffer=f,O.clearCache=function(){for(var S=0;S<32;++S)s.UINT8[S].length=0,s.UINT16[S].length=0,s.UINT32[S].length=0,s.INT8[S].length=0,s.INT16[S].length=0,s.INT32[S].length=0,s.FLOAT[S].length=0,s.DOUBLE[S].length=0,s.BIGUINT64[S].length=0,s.BIGINT64[S].length=0,s.UINT8C[S].length=0,t[S].length=0,i[S].length=0}},90448:function(Y){var O=/[\'\"]/;Y.exports=function(e){return e?(O.test(e.charAt(0))&&(e=e.substr(1)),O.test(e.charAt(e.length-1))&&(e=e.substr(0,e.length-1)),e):""}},93447:function(Y){Y.exports=function(O,e,M){Array.isArray(M)||(M=[].slice.call(arguments,2));for(var k=0,a=M.length;k<a;k++){var _=M[k];for(var y in _)if((e[y]===void 0||Array.isArray(e[y])||O[y]!==e[y])&&y in e){var d;if(_[y]===!0)d=e[y];else if(_[y]===!1||typeof _[y]=="function"&&(d=_[y](e[y],O,e))===void 0)continue;O[y]=d}}return O}},20588:function(Y,O,e){function M(k){try{if(!e.g.localStorage)return!1}catch{return!1}var a=e.g.localStorage[k];return a!=null&&String(a).toLowerCase()==="true"}Y.exports=function(k,a){if(M("noDeprecation"))return k;var _=!1;return function(){if(!_){if(M("throwDeprecation"))throw new Error(a);M("traceDeprecation")?console.trace(a):console.warn(a),_=!0}return k.apply(this,arguments)}}},45920:function(Y){Y.exports=function(O){return O&&typeof O=="object"&&typeof O.copy=="function"&&typeof O.fill=="function"&&typeof O.readUInt8=="function"}},4936:function(Y,O,e){var M=e(47216),k=e(65481),a=e(21099),_=e(9187);function y(R){return R.call.bind(R)}var d=typeof BigInt<"u",s=typeof Symbol<"u",t=y(Object.prototype.toString),i=y(Number.prototype.valueOf),r=y(String.prototype.valueOf),n=y(Boolean.prototype.valueOf);if(d)var l=y(BigInt.prototype.valueOf);if(s)var o=y(Symbol.prototype.valueOf);function u(R,G){if(typeof R!="object")return!1;try{return G(R),!0}catch{return!1}}function p(R){return t(R)==="[object Map]"}function c(R){return t(R)==="[object Set]"}function b(R){return t(R)==="[object WeakMap]"}function g(R){return t(R)==="[object WeakSet]"}function h(R){return t(R)==="[object ArrayBuffer]"}function x(R){return typeof ArrayBuffer<"u"&&(h.working?h(R):R instanceof ArrayBuffer)}function v(R){return t(R)==="[object DataView]"}function m(R){return typeof DataView<"u"&&(v.working?v(R):R instanceof DataView)}O.isArgumentsObject=M,O.isGeneratorFunction=k,O.isTypedArray=_,O.isPromise=function(R){return typeof Promise<"u"&&R instanceof Promise||R!==null&&typeof R=="object"&&typeof R.then=="function"&&typeof R.catch=="function"},O.isArrayBufferView=function(R){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(R):_(R)||m(R)},O.isUint8Array=function(R){return a(R)==="Uint8Array"},O.isUint8ClampedArray=function(R){return a(R)==="Uint8ClampedArray"},O.isUint16Array=function(R){return a(R)==="Uint16Array"},O.isUint32Array=function(R){return a(R)==="Uint32Array"},O.isInt8Array=function(R){return a(R)==="Int8Array"},O.isInt16Array=function(R){return a(R)==="Int16Array"},O.isInt32Array=function(R){return a(R)==="Int32Array"},O.isFloat32Array=function(R){return a(R)==="Float32Array"},O.isFloat64Array=function(R){return a(R)==="Float64Array"},O.isBigInt64Array=function(R){return a(R)==="BigInt64Array"},O.isBigUint64Array=function(R){return a(R)==="BigUint64Array"},p.working=typeof Map<"u"&&p(new Map),O.isMap=function(R){return typeof Map<"u"&&(p.working?p(R):R instanceof Map)},c.working=typeof Set<"u"&&c(new Set),O.isSet=function(R){return typeof Set<"u"&&(c.working?c(R):R instanceof Set)},b.working=typeof WeakMap<"u"&&b(new WeakMap),O.isWeakMap=function(R){return typeof WeakMap<"u"&&(b.working?b(R):R instanceof WeakMap)},g.working=typeof WeakSet<"u"&&g(new WeakSet),O.isWeakSet=function(R){return g(R)},h.working=typeof ArrayBuffer<"u"&&h(new ArrayBuffer),O.isArrayBuffer=x,v.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&v(new DataView(new ArrayBuffer(1),0,1)),O.isDataView=m;var w=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function f(R){return t(R)==="[object SharedArrayBuffer]"}function S(R){return w!==void 0&&(f.working===void 0&&(f.working=f(new w)),f.working?f(R):R instanceof w)}function T(R){return u(R,i)}function E(R){return u(R,r)}function L(R){return u(R,n)}function C(R){return d&&u(R,l)}function P(R){return s&&u(R,o)}O.isSharedArrayBuffer=S,O.isAsyncFunction=function(R){return t(R)==="[object AsyncFunction]"},O.isMapIterator=function(R){return t(R)==="[object Map Iterator]"},O.isSetIterator=function(R){return t(R)==="[object Set Iterator]"},O.isGeneratorObject=function(R){return t(R)==="[object Generator]"},O.isWebAssemblyCompiledModule=function(R){return t(R)==="[object WebAssembly.Module]"},O.isNumberObject=T,O.isStringObject=E,O.isBooleanObject=L,O.isBigIntObject=C,O.isSymbolObject=P,O.isBoxedPrimitive=function(R){return T(R)||E(R)||L(R)||C(R)||P(R)},O.isAnyArrayBuffer=function(R){return typeof Uint8Array<"u"&&(x(R)||S(R))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(R){Object.defineProperty(O,R,{enumerable:!1,value:function(){throw new Error(R+" is not supported in userland")}})})},43827:function(Y,O,e){var M=e(90386),k=Object.getOwnPropertyDescriptors||function(P){for(var R=Object.keys(P),G={},I=0;I<R.length;I++)G[R[I]]=Object.getOwnPropertyDescriptor(P,R[I]);return G},a=/%[sdj%]/g;O.format=function(P){if(!b(P)){for(var R=[],G=0;G<arguments.length;G++)R.push(s(arguments[G]));return R.join(" ")}G=1;for(var I=arguments,H=I.length,N=String(P).replace(a,function(V){if(V==="%%")return"%";if(G>=H)return V;switch(V){case"%s":return String(I[G++]);case"%d":return Number(I[G++]);case"%j":try{return JSON.stringify(I[G++])}catch{return"[Circular]"}default:return V}}),B=I[G];G<H;B=I[++G])p(B)||!x(B)?N+=" "+B:N+=" "+s(B);return N},O.deprecate=function(P,R){if(M!==void 0&&M.noDeprecation===!0)return P;if(M===void 0)return function(){return O.deprecate(P,R).apply(this,arguments)};var G=!1;return function(){if(!G){if(M.throwDeprecation)throw new Error(R);M.traceDeprecation?console.trace(R):console.error(R),G=!0}return P.apply(this,arguments)}};var _={},y=/^$/;if(M.env.NODE_DEBUG){var d=M.env.NODE_DEBUG;d=d.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+d+"$","i")}function s(P,R){var G={seen:[],stylize:i};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),u(R)?G.showHidden=R:R&&O._extend(G,R),g(G.showHidden)&&(G.showHidden=!1),g(G.depth)&&(G.depth=2),g(G.colors)&&(G.colors=!1),g(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=t),r(G,P,G.depth)}function t(P,R){var G=s.styles[R];return G?"\x1B["+s.colors[G][0]+"m"+P+"\x1B["+s.colors[G][1]+"m":P}function i(P,R){return P}function r(P,R,G){if(P.customInspect&&R&&w(R.inspect)&&R.inspect!==O.inspect&&(!R.constructor||R.constructor.prototype!==R)){var I=R.inspect(G,P);return b(I)||(I=r(P,I,G)),I}var H=function(Z,X){if(g(X))return Z.stylize("undefined","undefined");if(b(X)){var ee="'"+JSON.stringify(X).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(ee,"string")}return c(X)?Z.stylize(""+X,"number"):u(X)?Z.stylize(""+X,"boolean"):p(X)?Z.stylize("null","null"):void 0}(P,R);if(H)return H;var N=Object.keys(R),B=function(Z){var X={};return Z.forEach(function(ee,ne){X[ee]=!0}),X}(N);if(P.showHidden&&(N=Object.getOwnPropertyNames(R)),m(R)&&(N.indexOf("message")>=0||N.indexOf("description")>=0))return n(R);if(N.length===0){if(w(R)){var V=R.name?": "+R.name:"";return P.stylize("[Function"+V+"]","special")}if(h(R))return P.stylize(RegExp.prototype.toString.call(R),"regexp");if(v(R))return P.stylize(Date.prototype.toString.call(R),"date");if(m(R))return n(R)}var q,te="",$=!1,K=["{","}"];return o(R)&&($=!0,K=["[","]"]),w(R)&&(te=" [Function"+(R.name?": "+R.name:"")+"]"),h(R)&&(te=" "+RegExp.prototype.toString.call(R)),v(R)&&(te=" "+Date.prototype.toUTCString.call(R)),m(R)&&(te=" "+n(R)),N.length!==0||$&&R.length!=0?G<0?h(R)?P.stylize(RegExp.prototype.toString.call(R),"regexp"):P.stylize("[Object]","special"):(P.seen.push(R),q=$?function(Z,X,ee,ne,re){for(var ae=[],ue=0,pe=X.length;ue<pe;++ue)E(X,String(ue))?ae.push(l(Z,X,ee,ne,String(ue),!0)):ae.push("");return re.forEach(function(ge){ge.match(/^\d+$/)||ae.push(l(Z,X,ee,ne,ge,!0))}),ae}(P,R,G,B,N):N.map(function(Z){return l(P,R,G,B,Z,$)}),P.seen.pop(),function(Z,X,ee){return Z.reduce(function(ne,re){return re.indexOf(`
`),ne+re.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?ee[0]+(X===""?"":X+`
 `)+" "+Z.join(`,
  `)+" "+ee[1]:ee[0]+X+" "+Z.join(", ")+" "+ee[1]}(q,te,K)):K[0]+te+K[1]}function n(P){return"["+Error.prototype.toString.call(P)+"]"}function l(P,R,G,I,H,N){var B,V,q;if((q=Object.getOwnPropertyDescriptor(R,H)||{value:R[H]}).get?V=q.set?P.stylize("[Getter/Setter]","special"):P.stylize("[Getter]","special"):q.set&&(V=P.stylize("[Setter]","special")),E(I,H)||(B="["+H+"]"),V||(P.seen.indexOf(q.value)<0?(V=p(G)?r(P,q.value,null):r(P,q.value,G-1)).indexOf(`
`)>-1&&(V=N?V.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):`
`+V.split(`
`).map(function(te){return"   "+te}).join(`
`)):V=P.stylize("[Circular]","special")),g(B)){if(N&&H.match(/^\d+$/))return V;(B=JSON.stringify(""+H)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(B=B.slice(1,-1),B=P.stylize(B,"name")):(B=B.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),B=P.stylize(B,"string"))}return B+": "+V}function o(P){return Array.isArray(P)}function u(P){return typeof P=="boolean"}function p(P){return P===null}function c(P){return typeof P=="number"}function b(P){return typeof P=="string"}function g(P){return P===void 0}function h(P){return x(P)&&f(P)==="[object RegExp]"}function x(P){return typeof P=="object"&&P!==null}function v(P){return x(P)&&f(P)==="[object Date]"}function m(P){return x(P)&&(f(P)==="[object Error]"||P instanceof Error)}function w(P){return typeof P=="function"}function f(P){return Object.prototype.toString.call(P)}function S(P){return P<10?"0"+P.toString(10):P.toString(10)}O.debuglog=function(P){if(P=P.toUpperCase(),!_[P])if(y.test(P)){var R=M.pid;_[P]=function(){var G=O.format.apply(O,arguments);console.error("%s %d: %s",P,R,G)}}else _[P]=function(){};return _[P]},O.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},O.types=e(4936),O.isArray=o,O.isBoolean=u,O.isNull=p,O.isNullOrUndefined=function(P){return P==null},O.isNumber=c,O.isString=b,O.isSymbol=function(P){return typeof P=="symbol"},O.isUndefined=g,O.isRegExp=h,O.types.isRegExp=h,O.isObject=x,O.isDate=v,O.types.isDate=v,O.isError=m,O.types.isNativeError=m,O.isFunction=w,O.isPrimitive=function(P){return P===null||typeof P=="boolean"||typeof P=="number"||typeof P=="string"||typeof P=="symbol"||P===void 0},O.isBuffer=e(45920);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(P,R){return Object.prototype.hasOwnProperty.call(P,R)}O.log=function(){var P,R;console.log("%s - %s",(R=[S((P=new Date).getHours()),S(P.getMinutes()),S(P.getSeconds())].join(":"),[P.getDate(),T[P.getMonth()],R].join(" ")),O.format.apply(O,arguments))},O.inherits=e(42018),O._extend=function(P,R){if(!R||!x(R))return P;for(var G=Object.keys(R),I=G.length;I--;)P[G[I]]=R[G[I]];return P};var L=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function C(P,R){if(!P){var G=new Error("Promise was rejected with a falsy value");G.reason=P,P=G}return R(P)}O.promisify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');if(L&&P[L]){var R;if(typeof(R=P[L])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(R,L,{value:R,enumerable:!1,writable:!1,configurable:!0}),R}function R(){for(var G,I,H=new Promise(function(V,q){G=V,I=q}),N=[],B=0;B<arguments.length;B++)N.push(arguments[B]);N.push(function(V,q){V?I(V):G(q)});try{P.apply(this,N)}catch(V){I(V)}return H}return Object.setPrototypeOf(R,Object.getPrototypeOf(P)),L&&Object.defineProperty(R,L,{value:R,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(R,k(P))},O.promisify.custom=L,O.callbackify=function(P){if(typeof P!="function")throw new TypeError('The "original" argument must be of type Function');function R(){for(var G=[],I=0;I<arguments.length;I++)G.push(arguments[I]);var H=G.pop();if(typeof H!="function")throw new TypeError("The last argument must be of type Function");var N=this,B=function(){return H.apply(N,arguments)};P.apply(this,G).then(function(V){M.nextTick(B.bind(null,null,V))},function(V){M.nextTick(C.bind(null,V,B))})}return Object.setPrototypeOf(R,Object.getPrototypeOf(P)),Object.defineProperties(R,k(P)),R}},40372:function(Y,O,e){var M=e(86249);Y.exports=function(k){return M("webgl",k)}},21099:function(Y,O,e){var M=e(31353),k=e(72077),a=e(6614),_=e(40383),y=a("Object.prototype.toString"),d=e(84543)(),s=typeof globalThis>"u"?e.g:globalThis,t=k(),i=a("String.prototype.slice"),r={},n=Object.getPrototypeOf;d&&_&&n&&M(t,function(o){if(typeof s[o]=="function"){var u=new s[o];if(Symbol.toStringTag in u){var p=n(u),c=_(p,Symbol.toStringTag);if(!c){var b=n(p);c=_(b,Symbol.toStringTag)}r[o]=c.get}}});var l=e(9187);Y.exports=function(o){return!!l(o)&&(d&&Symbol.toStringTag in o?function(u){var p=!1;return M(r,function(c,b){if(!p)try{var g=c.call(u);g===b&&(p=g)}catch{}}),p}(o):i(y(o),8,-1))}},3961:function(Y,O,e){var M=e(63489),k=e(56131),a=M.instance();function _(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}_.prototype=new M.baseCalendar,k(_.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(n,l){if(typeof n=="string"){var o=n.match(d);return o?o[0]:""}var u=this._validateYear(n),p=n.month(),c=""+this.toChineseMonth(u,p);return l&&c.length<2&&(c="0"+c),this.isIntercalaryMonth(u,p)&&(c+="i"),c},monthNames:function(n){if(typeof n=="string"){var l=n.match(s);return l?l[0]:""}var o=this._validateYear(n),u=n.month(),p=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(o,u)-1];return this.isIntercalaryMonth(o,u)&&(p="闰"+p),p},monthNamesShort:function(n){if(typeof n=="string"){var l=n.match(t);return l?l[0]:""}var o=this._validateYear(n),u=n.month(),p=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(o,u)-1];return this.isIntercalaryMonth(o,u)&&(p="闰"+p),p},parseMonth:function(n,l){n=this._validateYear(n);var o,u=parseInt(l);if(isNaN(u))l[0]==="闰"&&(o=!0,l=l.substring(1)),l[l.length-1]==="月"&&(l=l.substring(0,l.length-1)),u=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(l);else{var p=l[l.length-1];o=p==="i"||p==="I"}return this.toMonthIndex(n,u,o)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(n,l){if(n.year&&(n=n.year()),typeof n!="number"||n<1888||n>2111)throw l.replace(/\{0\}/,this.local.name);return n},toMonthIndex:function(n,l,o){var u=this.intercalaryMonth(n);if(o&&l!==u||l<1||l>12)throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return u?!o&&l<=u?l-1:l:l-1},toChineseMonth:function(n,l){n.year&&(l=(n=n.year()).month());var o=this.intercalaryMonth(n);if(l<0||l>(o?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return o?l<o?l+1:l:l+1},intercalaryMonth:function(n){return n=this._validateYear(n),i[n-i[0]]>>13},isIntercalaryMonth:function(n,l){n.year&&(l=(n=n.year()).month());var o=this.intercalaryMonth(n);return!!o&&o===l},leapYear:function(n){return this.intercalaryMonth(n)!==0},weekOfYear:function(n,l,o){var u,p=this._validateYear(n,M.local.invalidyear),c=r[p-r[0]],b=c>>9&4095,g=c>>5&15,h=31&c;(u=a.newDate(b,g,h)).add(4-(u.dayOfWeek()||7),"d");var x=this.toJD(n,l,o)-u.toJD();return 1+Math.floor(x/7)},monthsInYear:function(n){return this.leapYear(n)?13:12},daysInMonth:function(n,l){n.year&&(l=n.month(),n=n.year()),n=this._validateYear(n);var o=i[n-i[0]];if(l>(o>>13?12:11))throw M.local.invalidMonth.replace(/\{0\}/,this.local.name);return o&1<<12-l?30:29},weekDay:function(n,l,o){return(this.dayOfWeek(n,l,o)||7)<6},toJD:function(n,l,o){var u=this._validate(n,c,o,M.local.invalidDate);n=this._validateYear(u.year()),l=u.month(),o=u.day();var p=this.isIntercalaryMonth(n,l),c=this.toChineseMonth(n,l),b=function(g,h,x,v,m){var w,f,S;if(typeof g=="object")f=g,w=h||{};else{var T;if(!(typeof g=="number"&&g>=1888&&g<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof h=="number"&&h>=1&&h<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof x=="number"&&x>=1&&x<=30))throw new Error("Lunar day outside range 1 - 30");typeof v=="object"?(T=!1,w=v):(T=!!v,w={}),f={year:g,month:h,day:x,isIntercalary:T}}S=f.day-1;var E,L=i[f.year-i[0]],C=L>>13;E=C&&(f.month>C||f.isIntercalary)?f.month:f.month-1;for(var P=0;P<E;P++)S+=L&1<<12-P?30:29;var R=r[f.year-r[0]],G=new Date(R>>9&4095,(R>>5&15)-1,(31&R)+S);return w.year=G.getFullYear(),w.month=1+G.getMonth(),w.day=G.getDate(),w}(n,c,o,p);return a.toJD(b.year,b.month,b.day)},fromJD:function(n){var l=a.fromJD(n),o=function(p,c,b,g){var h,x;if(typeof p=="object")h=p,x=c||{};else{if(!(typeof p=="number"&&p>=1888&&p<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof c=="number"&&c>=1&&c<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof b=="number"&&b>=1&&b<=31))throw new Error("Solar day outside range 1 - 31");h={year:p,month:c,day:b},x={}}var v=r[h.year-r[0]],m=h.year<<9|h.month<<5|h.day;x.year=m>=v?h.year:h.year-1,v=r[x.year-r[0]];var w,f=new Date(v>>9&4095,(v>>5&15)-1,31&v),S=new Date(h.year,h.month-1,h.day);w=Math.round((S-f)/864e5);var T,E=i[x.year-i[0]];for(T=0;T<13;T++){var L=E&1<<12-T?30:29;if(w<L)break;w-=L}var C=E>>13;return!C||T<C?(x.isIntercalary=!1,x.month=1+T):T===C?(x.isIntercalary=!0,x.month=T):(x.isIntercalary=!1,x.month=T),x.day=1+w,x}(l.year(),l.month(),l.day()),u=this.toMonthIndex(o.year,o.month,o.isIntercalary);return this.newDate(o.year,u,o.day)},fromString:function(n){var l=n.match(y),o=this._validateYear(+l[1]),u=+l[2],p=!!l[3],c=this.toMonthIndex(o,u,p),b=+l[4];return this.newDate(o,c,b)},add:function(n,l,o){var u=n.year(),p=n.month(),c=this.isIntercalaryMonth(u,p),b=this.toChineseMonth(u,p),g=Object.getPrototypeOf(_.prototype).add.call(this,n,l,o);if(o==="y"){var h=g.year(),x=g.month(),v=this.isIntercalaryMonth(h,b),m=c&&v?this.toMonthIndex(h,b,!0):this.toMonthIndex(h,b,!1);m!==x&&g.month(m)}return g}});var y=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,d=/^\d?\d[iI]?/m,s=/^闰?十?[一二三四五六七八九]?月/m,t=/^闰?十?[一二三四五六七八九]?/m;M.calendars.chinese=_;var i=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],r=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(Y,O,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var y=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear);return(_=y.year()+(y.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(_,y,d){var s=this.newDate(_,y,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,y){var d=this._validate(_,y,this.minDay,M.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(_,y,d){return(this.dayOfWeek(_,y,d)||7)<6},toJD:function(_,y,d){var s=this._validate(_,y,d,M.local.invalidDate);return(_=s.year())<0&&_++,s.day()+30*(s.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var y=Math.floor(_)+.5-this.jdEpoch,d=Math.floor((y-Math.floor((y+366)/1461))/365)+1;d<=0&&d--,y=Math.floor(_)+.5-this.newDate(d,1,1).toJD();var s=Math.floor(y/30)+1,t=y-30*(s-1)+1;return this.newDate(d,s,t)}}),M.calendars.coptic=a},86825:function(Y,O,e){var M=e(63489),k=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(y){return this._validate(y,this.minMonth,this.minDay,M.local.invalidYear),!1},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,M.local.invalidYear),13},daysInYear:function(y){return this._validate(y,this.minMonth,this.minDay,M.local.invalidYear),400},weekOfYear:function(y,d,s){var t=this.newDate(y,d,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/8)+1},daysInMonth:function(y,d){var s=this._validate(y,d,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(y,d,s){return(this._validate(y,d,s,M.local.invalidDate).day()+1)%8},weekDay:function(y,d,s){var t=this.dayOfWeek(y,d,s);return t>=2&&t<=6},extraInfo:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);return{century:_[Math.floor((t.year()-1)/100)+1]||""}},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);return y=t.year()+(t.year()<0?1:0),d=t.month(),(s=t.day())+(d>1?16:0)+(d>2?32*(d-2):0)+400*(y-1)+this.jdEpoch-1},fromJD:function(y){y=Math.floor(y+.5)-Math.floor(this.jdEpoch)-1;var d=Math.floor(y/400)+1;y-=400*(d-1),y+=y>15?16:0;var s=Math.floor(y/32)+1,t=y-32*(s-1)+1;return this.newDate(d<=0?d-1:d,s,t)}});var _={20:"Fruitbat",21:"Anchovy"};M.calendars.discworld=a},37715:function(Y,O,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var y=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear);return(_=y.year()+(y.year()<0?1:0))%4==3||_%4==-1},monthsInYear:function(_){return this._validate(_,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear),13},weekOfYear:function(_,y,d){var s=this.newDate(_,y,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,y){var d=this._validate(_,y,this.minDay,M.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===13&&this.leapYear(d.year())?1:0)},weekDay:function(_,y,d){return(this.dayOfWeek(_,y,d)||7)<6},toJD:function(_,y,d){var s=this._validate(_,y,d,M.local.invalidDate);return(_=s.year())<0&&_++,s.day()+30*(s.month()-1)+365*(_-1)+Math.floor(_/4)+this.jdEpoch-1},fromJD:function(_){var y=Math.floor(_)+.5-this.jdEpoch,d=Math.floor((y-Math.floor((y+366)/1461))/365)+1;d<=0&&d--,y=Math.floor(_)+.5-this.newDate(d,1,1).toJD();var s=Math.floor(y/30)+1,t=y-30*(s-1)+1;return this.newDate(d,s,t)}}),M.calendars.ethiopian=a},99384:function(Y,O,e){var M=e(63489),k=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function _(y,d){return y-d*Math.floor(y/d)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return this._leapYear(d.year())},_leapYear:function(y){return _(7*(y=y<0?y+1:y)+1,19)<7},monthsInYear:function(y){return this._validate(y,this.minMonth,this.minDay,M.local.invalidYear),this._leapYear(y.year?y.year():y)?13:12},weekOfYear:function(y,d,s){var t=this.newDate(y,d,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(y){return y=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear).year(),this.toJD(y===-1?1:y+1,7,1)-this.toJD(y,7,1)},daysInMonth:function(y,d){return y.year&&(d=y.month(),y=y.year()),this._validate(y,d,this.minDay,M.local.invalidMonth),d===12&&this.leapYear(y)||d===8&&_(this.daysInYear(y),10)===5?30:d===9&&_(this.daysInYear(y),10)===3?29:this.daysPerMonth[d-1]},weekDay:function(y,d,s){return this.dayOfWeek(y,d,s)!==6},extraInfo:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);return{yearType:(this.leapYear(t)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(t)%10-3]}},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);y=t.year(),d=t.month(),s=t.day();var i=y<=0?y+1:y,r=this.jdEpoch+this._delay1(i)+this._delay2(i)+s+1;if(d<7){for(var n=7;n<=this.monthsInYear(y);n++)r+=this.daysInMonth(y,n);for(n=1;n<d;n++)r+=this.daysInMonth(y,n)}else for(n=7;n<d;n++)r+=this.daysInMonth(y,n);return r},_delay1:function(y){var d=Math.floor((235*y-234)/19),s=12084+13753*d,t=29*d+Math.floor(s/25920);return _(3*(t+1),7)<3&&t++,t},_delay2:function(y){var d=this._delay1(y-1),s=this._delay1(y);return this._delay1(y+1)-s==356?2:s-d==382?1:0},fromJD:function(y){y=Math.floor(y)+.5;for(var d=Math.floor(98496*(y-this.jdEpoch)/35975351)-1;y>=this.toJD(d===-1?1:d+1,7,1);)d++;for(var s=y<this.toJD(d,1,1)?7:1;y>this.toJD(d,s,this.daysInMonth(d,s));)s++;var t=y-this.toJD(d,s,1)+1;return this.newDate(d,s,t)}}),M.calendars.hebrew=a},43805:function(Y,O,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(_){return(11*this._validate(_,this.minMonth,this.minDay,M.local.invalidYear).year()+14)%30<11},weekOfYear:function(_,y,d){var s=this.newDate(_,y,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(_){return this.leapYear(_)?355:354},daysInMonth:function(_,y){var d=this._validate(_,y,this.minDay,M.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===12&&this.leapYear(d.year())?1:0)},weekDay:function(_,y,d){return this.dayOfWeek(_,y,d)!==5},toJD:function(_,y,d){var s=this._validate(_,y,d,M.local.invalidDate);return _=s.year(),y=s.month(),_=_<=0?_+1:_,(d=s.day())+Math.ceil(29.5*(y-1))+354*(_-1)+Math.floor((3+11*_)/30)+this.jdEpoch-1},fromJD:function(_){_=Math.floor(_)+.5;var y=Math.floor((30*(_-this.jdEpoch)+10646)/10631);y=y<=0?y-1:y;var d=Math.min(12,Math.ceil((_-29-this.toJD(y,1,1))/29.5)+1),s=_-this.toJD(y,d,1)+1;return this.newDate(y,d,s)}}),M.calendars.islamic=a},88874:function(Y,O,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(_){var y=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear);return(_=y.year()<0?y.year()+1:y.year())%4==0},weekOfYear:function(_,y,d){var s=this.newDate(_,y,d);return s.add(4-(s.dayOfWeek()||7),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInMonth:function(_,y){var d=this._validate(_,y,this.minDay,M.local.invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(_,y,d){return(this.dayOfWeek(_,y,d)||7)<6},toJD:function(_,y,d){var s=this._validate(_,y,d,M.local.invalidDate);return _=s.year(),y=s.month(),d=s.day(),_<0&&_++,y<=2&&(_--,y+=12),Math.floor(365.25*(_+4716))+Math.floor(30.6001*(y+1))+d-1524.5},fromJD:function(_){var y=Math.floor(_+.5)+1524,d=Math.floor((y-122.1)/365.25),s=Math.floor(365.25*d),t=Math.floor((y-s)/30.6001),i=t-Math.floor(t<14?1:13),r=d-Math.floor(i>2?4716:4715),n=y-s-Math.floor(30.6001*t);return r<=0&&r--,this.newDate(r,i,n)}}),M.calendars.julian=a},83290:function(Y,O,e){var M=e(63489),k=e(56131);function a(d){this.local=this.regionalOptions[d||""]||this.regionalOptions[""]}function _(d,s){return d-s*Math.floor(d/s)}function y(d,s){return _(d-1,s)+1}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(d){return this._validate(d,this.minMonth,this.minDay,M.local.invalidYear),!1},formatYear:function(d){d=this._validate(d,this.minMonth,this.minDay,M.local.invalidYear).year();var s=Math.floor(d/400);return d%=400,d+=d<0?400:0,s+"."+Math.floor(d/20)+"."+d%20},forYear:function(d){if((d=d.split(".")).length<3)throw"Invalid Mayan year";for(var s=0,t=0;t<d.length;t++){var i=parseInt(d[t],10);if(Math.abs(i)>19||t>0&&i<0)throw"Invalid Mayan year";s=20*s+i}return s},monthsInYear:function(d){return this._validate(d,this.minMonth,this.minDay,M.local.invalidYear),18},weekOfYear:function(d,s,t){return this._validate(d,s,t,M.local.invalidDate),0},daysInYear:function(d){return this._validate(d,this.minMonth,this.minDay,M.local.invalidYear),360},daysInMonth:function(d,s){return this._validate(d,s,this.minDay,M.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(d,s,t){return this._validate(d,s,t,M.local.invalidDate).day()},weekDay:function(d,s,t){return this._validate(d,s,t,M.local.invalidDate),!0},extraInfo:function(d,s,t){var i=this._validate(d,s,t,M.local.invalidDate).toJD(),r=this._toHaab(i),n=this._toTzolkin(i);return{haabMonthName:this.local.haabMonths[r[0]-1],haabMonth:r[0],haabDay:r[1],tzolkinDayName:this.local.tzolkinMonths[n[0]-1],tzolkinDay:n[0],tzolkinTrecena:n[1]}},_toHaab:function(d){var s=_(8+(d-=this.jdEpoch)+340,365);return[Math.floor(s/20)+1,_(s,20)]},_toTzolkin:function(d){return[y(20+(d-=this.jdEpoch),20),y(d+4,13)]},toJD:function(d,s,t){var i=this._validate(d,s,t,M.local.invalidDate);return i.day()+20*i.month()+360*i.year()+this.jdEpoch},fromJD:function(d){d=Math.floor(d)+.5-this.jdEpoch;var s=Math.floor(d/360);d%=360,d+=d<0?360:0;var t=Math.floor(d/20),i=d%20;return this.newDate(s,t,i)}}),M.calendars.mayan=a},29108:function(Y,O,e){var M=e(63489),k=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar;var _=M.instance("gregorian");k(a.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear||M.regionalOptions[""].invalidYear);return _.leapYear(d.year()+(d.year()<1?1:0)+1469)},weekOfYear:function(y,d,s){var t=this.newDate(y,d,s);return t.add(1-(t.dayOfWeek()||7),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(y,d){var s=this._validate(y,d,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(y,d,s){return(this.dayOfWeek(y,d,s)||7)<6},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidMonth);(y=t.year())<0&&y++;for(var i=t.day(),r=1;r<t.month();r++)i+=this.daysPerMonth[r-1];return i+_.toJD(y+1468,3,13)},fromJD:function(y){y=Math.floor(y+.5);for(var d=Math.floor((y-(this.jdEpoch-1))/366);y>=this.toJD(d+1,1,1);)d++;for(var s=y-Math.floor(this.toJD(d,1,1)+.5)+1,t=1;s>this.daysInMonth(d,t);)s-=this.daysInMonth(d,t),t++;return this.newDate(d,t,s)}}),M.calendars.nanakshahi=a},55422:function(Y,O,e){var M=e(63489),k=e(56131);function a(_){this.local=this.regionalOptions[_||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(_){return this.daysInYear(_)!==this.daysPerYear},weekOfYear:function(_,y,d){var s=this.newDate(_,y,d);return s.add(-s.dayOfWeek(),"d"),Math.floor((s.dayOfYear()-1)/7)+1},daysInYear:function(_){if(_=this._validate(_,this.minMonth,this.minDay,M.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[_]===void 0)return this.daysPerYear;for(var y=0,d=this.minMonth;d<=12;d++)y+=this.NEPALI_CALENDAR_DATA[_][d];return y},daysInMonth:function(_,y){return _.year&&(y=_.month(),_=_.year()),this._validate(_,y,this.minDay,M.local.invalidMonth),this.NEPALI_CALENDAR_DATA[_]===void 0?this.daysPerMonth[y-1]:this.NEPALI_CALENDAR_DATA[_][y]},weekDay:function(_,y,d){return this.dayOfWeek(_,y,d)!==6},toJD:function(_,y,d){var s=this._validate(_,y,d,M.local.invalidDate);_=s.year(),y=s.month(),d=s.day();var t=M.instance(),i=0,r=y,n=_;this._createMissingCalendarData(_);var l=_-(r>9||r===9&&d>=this.NEPALI_CALENDAR_DATA[n][0]?56:57);for(y!==9&&(i=d,r--);r!==9;)r<=0&&(r=12,n--),i+=this.NEPALI_CALENDAR_DATA[n][r],r--;return y===9?(i+=d-this.NEPALI_CALENDAR_DATA[n][0])<0&&(i+=t.daysInYear(l)):i+=this.NEPALI_CALENDAR_DATA[n][9]-this.NEPALI_CALENDAR_DATA[n][0],t.newDate(l,1,1).add(i,"d").toJD()},fromJD:function(_){var y=M.instance().fromJD(_),d=y.year(),s=y.dayOfYear(),t=d+56;this._createMissingCalendarData(t);for(var i=9,r=this.NEPALI_CALENDAR_DATA[t][0],n=this.NEPALI_CALENDAR_DATA[t][i]-r+1;s>n;)++i>12&&(i=1,t++),n+=this.NEPALI_CALENDAR_DATA[t][i];var l=this.NEPALI_CALENDAR_DATA[t][i]-(n-s);return this.newDate(t,i,l)},_createMissingCalendarData:function(_){var y=this.daysPerMonth.slice(0);y.unshift(17);for(var d=_-1;d<_+2;d++)this.NEPALI_CALENDAR_DATA[d]===void 0&&(this.NEPALI_CALENDAR_DATA[d]=y)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),M.calendars.nepali=a},94320:function(Y,O,e){var M=e(63489),k=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}function _(y,d){return y-d*Math.floor(y/d)}a.prototype=new M.baseCalendar,k(a.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return 682*((d.year()-(d.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(y,d,s){var t=this.newDate(y,d,s);return t.add(-(t.dayOfWeek()+1)%7,"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInMonth:function(y,d){var s=this._validate(y,d,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===12&&this.leapYear(s.year())?1:0)},weekDay:function(y,d,s){return this.dayOfWeek(y,d,s)!==5},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);y=t.year(),d=t.month(),s=t.day();var i=y-(y>=0?474:473),r=474+_(i,2820);return s+(d<=7?31*(d-1):30*(d-1)+6)+Math.floor((682*r-110)/2816)+365*(r-1)+1029983*Math.floor(i/2820)+this.jdEpoch-1},fromJD:function(y){var d=(y=Math.floor(y)+.5)-this.toJD(475,1,1),s=Math.floor(d/1029983),t=_(d,1029983),i=2820;if(t!==1029982){var r=Math.floor(t/366),n=_(t,366);i=Math.floor((2134*r+2816*n+2815)/1028522)+r+1}var l=i+2820*s+474;l=l<=0?l-1:l;var o=y-this.toJD(l,1,1)+1,u=o<=186?Math.ceil(o/31):Math.ceil((o-6)/30),p=y-this.toJD(l,u,1)+1;return this.newDate(l,u,p)}}),M.calendars.persian=a,M.calendars.jalali=a},31320:function(Y,O,e){var M=e(63489),k=e(56131),a=M.instance();function _(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}_.prototype=new M.baseCalendar,k(_.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return y=this._t2gYear(d.year()),a.leapYear(y)},weekOfYear:function(y,d,s){var t=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return y=this._t2gYear(t.year()),a.weekOfYear(y,t.month(),t.day())},daysInMonth:function(y,d){var s=this._validate(y,d,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(y,d,s){return(this.dayOfWeek(y,d,s)||7)<6},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);return y=this._t2gYear(t.year()),a.toJD(y,t.month(),t.day())},fromJD:function(y){var d=a.fromJD(y),s=this._g2tYear(d.year());return this.newDate(s,d.month(),d.day())},_t2gYear:function(y){return y+this.yearsOffset+(y>=-this.yearsOffset&&y<=-1?1:0)},_g2tYear:function(y){return y-this.yearsOffset-(y>=1&&y<=this.yearsOffset?1:0)}}),M.calendars.taiwan=_},51367:function(Y,O,e){var M=e(63489),k=e(56131),a=M.instance();function _(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}_.prototype=new M.baseCalendar,k(_.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return y=this._t2gYear(d.year()),a.leapYear(y)},weekOfYear:function(y,d,s){var t=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return y=this._t2gYear(t.year()),a.weekOfYear(y,t.month(),t.day())},daysInMonth:function(y,d){var s=this._validate(y,d,this.minDay,M.local.invalidMonth);return this.daysPerMonth[s.month()-1]+(s.month()===2&&this.leapYear(s.year())?1:0)},weekDay:function(y,d,s){return(this.dayOfWeek(y,d,s)||7)<6},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate);return y=this._t2gYear(t.year()),a.toJD(y,t.month(),t.day())},fromJD:function(y){var d=a.fromJD(y),s=this._g2tYear(d.year());return this.newDate(s,d.month(),d.day())},_t2gYear:function(y){return y-this.yearsOffset-(y>=1&&y<=this.yearsOffset?1:0)},_g2tYear:function(y){return y+this.yearsOffset+(y>=-this.yearsOffset&&y<=-1?1:0)}}),M.calendars.thai=_},21457:function(Y,O,e){var M=e(63489),k=e(56131);function a(y){this.local=this.regionalOptions[y||""]||this.regionalOptions[""]}a.prototype=new M.baseCalendar,k(a.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(y){var d=this._validate(y,this.minMonth,this.minDay,M.local.invalidYear);return this.daysInYear(d.year())===355},weekOfYear:function(y,d,s){var t=this.newDate(y,d,s);return t.add(-t.dayOfWeek(),"d"),Math.floor((t.dayOfYear()-1)/7)+1},daysInYear:function(y){for(var d=0,s=1;s<=12;s++)d+=this.daysInMonth(y,s);return d},daysInMonth:function(y,d){for(var s=this._validate(y,d,this.minDay,M.local.invalidMonth).toJD()-24e5+.5,t=0,i=0;i<_.length;i++){if(_[i]>s)return _[t]-_[t-1];t++}return 30},weekDay:function(y,d,s){return this.dayOfWeek(y,d,s)!==5},toJD:function(y,d,s){var t=this._validate(y,d,s,M.local.invalidDate),i=12*(t.year()-1)+t.month()-15292;return t.day()+_[i-1]-1+24e5-.5},fromJD:function(y){for(var d=y-24e5+.5,s=0,t=0;t<_.length&&!(_[t]>d);t++)s++;var i=s+15292,r=Math.floor((i-1)/12),n=r+1,l=i-12*r,o=d-_[s-1]+1;return this.newDate(n,l,o)},isValid:function(y,d,s){var t=M.baseCalendar.prototype.isValid.apply(this,arguments);return t&&(t=(y=y.year!=null?y.year:y)>=1276&&y<=1500),t},_validate:function(y,d,s,t){var i=M.baseCalendar.prototype._validate.apply(this,arguments);if(i.year<1276||i.year>1500)throw t.replace(/\{0\}/,this.local.name);return i}}),M.calendars.ummalqura=a;var _=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(Y,O,e){var M=e(56131);function k(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function a(t,i,r,n){if(this._calendar=t,this._year=i,this._month=r,this._day=n,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function _(t,i){return"000000".substring(0,i-(t=""+t).length)+t}function y(){this.shortYearCutoff="+10"}function d(t){this.local=this.regionalOptions[t]||this.regionalOptions[""]}M(k.prototype,{instance:function(t,i){t=(t||"gregorian").toLowerCase(),i=i||"";var r=this._localCals[t+"-"+i];if(!r&&this.calendars[t]&&(r=new this.calendars[t](i),this._localCals[t+"-"+i]=r),!r)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,t);return r},newDate:function(t,i,r,n,l){return(n=(t!=null&&t.year?t.calendar():typeof n=="string"?this.instance(n,l):n)||this.instance()).newDate(t,i,r)},substituteDigits:function(t){return function(i){return(i+"").replace(/[0-9]/g,function(r){return t[r]})}},substituteChineseDigits:function(t,i){return function(r){for(var n="",l=0;r>0;){var o=r%10;n=(o===0?"":t[o]+i[l])+n,l++,r=Math.floor(r/10)}return n.indexOf(t[1]+i[1])===0&&(n=n.substr(1)),n||t[0]}}}),M(a.prototype,{newDate:function(t,i,r){return this._calendar.newDate(t??this,i,r)},year:function(t){return arguments.length===0?this._year:this.set(t,"y")},month:function(t){return arguments.length===0?this._month:this.set(t,"m")},day:function(t){return arguments.length===0?this._day:this.set(t,"d")},date:function(t,i,r){if(!this._calendar.isValid(t,i,r))throw(s.local.invalidDate||s.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=t,this._month=i,this._day=r,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(t,i){return this._calendar.add(this,t,i)},set:function(t,i){return this._calendar.set(this,t,i)},compareTo:function(t){if(this._calendar.name!==t._calendar.name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,t._calendar.local.name);var i=this._year!==t._year?this._year-t._year:this._month!==t._month?this.monthOfYear()-t.monthOfYear():this._day-t._day;return i===0?0:i<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(t){return this._calendar.fromJD(t)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(t){return this._calendar.fromJSDate(t)},toString:function(){return(this.year()<0?"-":"")+_(Math.abs(this.year()),4)+"-"+_(this.month(),2)+"-"+_(this.day(),2)}}),M(y.prototype,{_validateLevel:0,newDate:function(t,i,r){return t==null?this.today():(t.year&&(this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),r=t.day(),i=t.month(),t=t.year()),new a(this,t,i,r))},today:function(){return this.fromJSDate(new Date)},epoch:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(i.year()<0?"-":"")+_(Math.abs(i.year()),4)},monthsInYear:function(t){return this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear),12},monthOfYear:function(t,i){var r=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return(r.month()+this.monthsInYear(r)-this.firstMonth)%this.monthsInYear(r)+this.minMonth},fromMonthOfYear:function(t,i){var r=(i+this.firstMonth-2*this.minMonth)%this.monthsInYear(t)+this.minMonth;return this._validate(t,r,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth),r},daysInYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return this.leapYear(i)?366:365},dayOfYear:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return n.toJD()-this.newDate(n.year(),this.fromMonthOfYear(n.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(n))+2)%this.daysInWeek()},extraInfo:function(t,i,r){return this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),{}},add:function(t,i,r){return this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate),this._correctAdd(t,this._add(t,i,r),i,r)},_add:function(t,i,r){if(this._validateLevel++,r==="d"||r==="w"){var n=t.toJD()+i*(r==="w"?this.daysInWeek():1),l=t.calendar().fromJD(n);return this._validateLevel--,[l.year(),l.month(),l.day()]}try{var o=t.year()+(r==="y"?i:0),u=t.monthOfYear()+(r==="m"?i:0);l=t.day(),r==="y"?(t.month()!==this.fromMonthOfYear(o,u)&&(u=this.newDate(o,t.month(),this.minDay).monthOfYear()),u=Math.min(u,this.monthsInYear(o)),l=Math.min(l,this.daysInMonth(o,this.fromMonthOfYear(o,u)))):r==="m"&&(function(c){for(;u<c.minMonth;)o--,u+=c.monthsInYear(o);for(var b=c.monthsInYear(o);u>b-1+c.minMonth;)o++,u-=b,b=c.monthsInYear(o)}(this),l=Math.min(l,this.daysInMonth(o,this.fromMonthOfYear(o,u))));var p=[o,this.fromMonthOfYear(o,u),l];return this._validateLevel--,p}catch(c){throw this._validateLevel--,c}},_correctAdd:function(t,i,r,n){if(!(this.hasYearZero||n!=="y"&&n!=="m"||i[0]!==0&&t.year()>0==i[0]>0)){var l={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[n],o=r<0?-1:1;i=this._add(t,r*l[0]+o*l[1],l[2])}return t.date(i[0],i[1],i[2])},set:function(t,i,r){this._validate(t,this.minMonth,this.minDay,s.local.invalidDate||s.regionalOptions[""].invalidDate);var n=r==="y"?i:t.year(),l=r==="m"?i:t.month(),o=r==="d"?i:t.day();return r!=="y"&&r!=="m"||(o=Math.min(o,this.daysInMonth(n,l))),t.date(n,l,o)},isValid:function(t,i,r){this._validateLevel++;var n=this.hasYearZero||t!==0;if(n){var l=this.newDate(t,i,this.minDay);n=i>=this.minMonth&&i-this.minMonth<this.monthsInYear(l)&&r>=this.minDay&&r-this.minDay<this.daysInMonth(l)}return this._validateLevel--,n},toJSDate:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);return s.instance().fromJD(this.toJD(n)).toJSDate()},fromJSDate:function(t){return this.fromJD(s.instance().fromJSDate(t).toJD())},_validate:function(t,i,r,n){if(t.year){if(this._validateLevel===0&&this.name!==t.calendar().name)throw(s.local.differentCalendars||s.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,t.calendar().local.name);return t}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(t,i,r))throw n.replace(/\{0\}/,this.local.name);var l=this.newDate(t,i,r);return this._validateLevel--,l}catch(o){throw this._validateLevel--,o}}}),d.prototype=new y,M(d.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(t){var i=this._validate(t,this.minMonth,this.minDay,s.local.invalidYear||s.regionalOptions[""].invalidYear);return(t=i.year()+(i.year()<0?1:0))%4==0&&(t%100!=0||t%400==0)},weekOfYear:function(t,i,r){var n=this.newDate(t,i,r);return n.add(4-(n.dayOfWeek()||7),"d"),Math.floor((n.dayOfYear()-1)/7)+1},daysInMonth:function(t,i){var r=this._validate(t,i,this.minDay,s.local.invalidMonth||s.regionalOptions[""].invalidMonth);return this.daysPerMonth[r.month()-1]+(r.month()===2&&this.leapYear(r.year())?1:0)},weekDay:function(t,i,r){return(this.dayOfWeek(t,i,r)||7)<6},toJD:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate);t=n.year(),i=n.month(),r=n.day(),t<0&&t++,i<3&&(i+=12,t--);var l=Math.floor(t/100),o=2-l+Math.floor(l/4);return Math.floor(365.25*(t+4716))+Math.floor(30.6001*(i+1))+r+o-1524.5},fromJD:function(t){var i=Math.floor(t+.5),r=Math.floor((i-186721625e-2)/36524.25),n=1524+(r=i+1+r-Math.floor(r/4)),l=Math.floor((n-122.1)/365.25),o=Math.floor(365.25*l),u=Math.floor((n-o)/30.6001),p=n-o-Math.floor(30.6001*u),c=u-(u>13.5?13:1),b=l-(c>2.5?4716:4715);return b<=0&&b--,this.newDate(b,c,p)},toJSDate:function(t,i,r){var n=this._validate(t,i,r,s.local.invalidDate||s.regionalOptions[""].invalidDate),l=new Date(n.year(),n.month()-1,n.day());return l.setHours(0),l.setMinutes(0),l.setSeconds(0),l.setMilliseconds(0),l.setHours(l.getHours()>12?l.getHours()+2:0),l},fromJSDate:function(t){return this.newDate(t.getFullYear(),t.getMonth()+1,t.getDate())}});var s=Y.exports=new k;s.cdate=a,s.baseCalendar=y,s.calendars.gregorian=d},94338:function(Y,O,e){var M=e(56131),k=e(63489);M(k.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),k.local=k.regionalOptions[""],M(k.cdate.prototype,{formatDate:function(a,_){return typeof a!="string"&&(_=a,a=""),this._calendar.formatDate(a||"",this,_)}}),M(k.baseCalendar.prototype,{UNIX_EPOCH:k.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:k.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(a,_,y){if(typeof a!="string"&&(y=_,_=a,a=""),!_)return"";if(_.calendar()!==this)throw k.local.invalidFormat||k.regionalOptions[""].invalidFormat;a=a||this.local.dateFormat;for(var d,s,t,i=(y=y||{}).dayNamesShort||this.local.dayNamesShort,r=y.dayNames||this.local.dayNames,n=y.monthNumbers||this.local.monthNumbers,l=y.monthNamesShort||this.local.monthNamesShort,o=y.monthNames||this.local.monthNames,u=(y.calculateWeek||this.local.calculateWeek,function(f,S){for(var T=1;w+T<a.length&&a.charAt(w+T)===f;)T++;return w+=T-1,Math.floor(T/(S||1))>1}),p=function(f,S,T,E){var L=""+S;if(u(f,E))for(;L.length<T;)L="0"+L;return L},c=this,b=function(f){return typeof n=="function"?n.call(c,f,u("m")):x(p("m",f.month(),2))},g=function(f,S){return S?typeof o=="function"?o.call(c,f):o[f.month()-c.minMonth]:typeof l=="function"?l.call(c,f):l[f.month()-c.minMonth]},h=this.local.digits,x=function(f){return y.localNumbers&&h?h(f):f},v="",m=!1,w=0;w<a.length;w++)if(m)a.charAt(w)!=="'"||u("'")?v+=a.charAt(w):m=!1;else switch(a.charAt(w)){case"d":v+=x(p("d",_.day(),2));break;case"D":v+=(d=_.dayOfWeek(),s=i,t=r,u("D")?t[d]:s[d]);break;case"o":v+=p("o",_.dayOfYear(),3);break;case"w":v+=p("w",_.weekOfYear(),2);break;case"m":v+=b(_);break;case"M":v+=g(_,u("M"));break;case"y":v+=u("y",2)?_.year():(_.year()%100<10?"0":"")+_.year()%100;break;case"Y":u("Y",2),v+=_.formatYear();break;case"J":v+=_.toJD();break;case"@":v+=(_.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":v+=(_.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":u("'")?v+="'":m=!0;break;default:v+=a.charAt(w)}return v},parseDate:function(a,_,y){if(_==null)throw k.local.invalidArguments||k.regionalOptions[""].invalidArguments;if((_=typeof _=="object"?_.toString():_+"")==="")return null;a=a||this.local.dateFormat;var d=(y=y||{}).shortYearCutoff||this.shortYearCutoff;d=typeof d!="string"?d:this.today().year()%100+parseInt(d,10);for(var s=y.dayNamesShort||this.local.dayNamesShort,t=y.dayNames||this.local.dayNames,i=y.parseMonth||this.local.parseMonth,r=y.monthNumbers||this.local.monthNumbers,n=y.monthNamesShort||this.local.monthNamesShort,l=y.monthNames||this.local.monthNames,o=-1,u=-1,p=-1,c=-1,b=-1,g=!1,h=!1,x=function(R,G){for(var I=1;L+I<a.length&&a.charAt(L+I)===R;)I++;return L+=I-1,Math.floor(I/(G||1))>1},v=function(R,G){var I=x(R,G),H=[2,3,I?4:2,I?4:2,10,11,20]["oyYJ@!".indexOf(R)+1],N=new RegExp("^-?\\d{1,"+H+"}"),B=_.substring(E).match(N);if(!B)throw(k.local.missingNumberAt||k.regionalOptions[""].missingNumberAt).replace(/\{0\}/,E);return E+=B[0].length,parseInt(B[0],10)},m=this,w=function(){if(typeof r=="function"){x("m");var R=r.call(m,_.substring(E));return E+=R.length,R}return v("m")},f=function(R,G,I,H){for(var N=x(R,H)?I:G,B=0;B<N.length;B++)if(_.substr(E,N[B].length).toLowerCase()===N[B].toLowerCase())return E+=N[B].length,B+m.minMonth;throw(k.local.unknownNameAt||k.regionalOptions[""].unknownNameAt).replace(/\{0\}/,E)},S=function(){if(typeof l=="function"){var R=x("M")?l.call(m,_.substring(E)):n.call(m,_.substring(E));return E+=R.length,R}return f("M",n,l)},T=function(){if(_.charAt(E)!==a.charAt(L))throw(k.local.unexpectedLiteralAt||k.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,E);E++},E=0,L=0;L<a.length;L++)if(h)a.charAt(L)!=="'"||x("'")?T():h=!1;else switch(a.charAt(L)){case"d":c=v("d");break;case"D":f("D",s,t);break;case"o":b=v("o");break;case"w":v("w");break;case"m":p=w();break;case"M":p=S();break;case"y":var C=L;g=!x("y",2),L=C,u=v("y",2);break;case"Y":u=v("Y",2);break;case"J":o=v("J")+.5,_.charAt(E)==="."&&(E++,v("J"));break;case"@":o=v("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":o=v("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":E=_.length;break;case"'":x("'")?T():h=!0;break;default:T()}if(E<_.length)throw k.local.unexpectedText||k.regionalOptions[""].unexpectedText;if(u===-1?u=this.today().year():u<100&&g&&(u+=d===-1?1900:this.today().year()-this.today().year()%100-(u<=d?0:100)),typeof p=="string"&&(p=i.call(this,u,p)),b>-1){p=1,c=b;for(var P=this.daysInMonth(u,p);c>P;P=this.daysInMonth(u,p))p++,c-=P}return o>-1?this.fromJD(o):this.newDate(u,p,c)},determineDate:function(a,_,y,d,s){y&&typeof y!="object"&&(s=d,d=y,y=null),typeof d!="string"&&(s=d,d="");var t=this;return _=_?_.newDate():null,a==null?_:typeof a=="string"?function(i){try{return t.parseDate(d,i,s)}catch{}for(var r=((i=i.toLowerCase()).match(/^c/)&&y?y.newDate():null)||t.today(),n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,l=n.exec(i);l;)r.add(parseInt(l[1],10),l[2]||"d"),l=n.exec(i);return r}(a):typeof a=="number"?isNaN(a)||a===1/0||a===-1/0?_:t.today().add(a,"d"):t.newDate(a)}})},69862:function(){},40964:function(){},72077:function(Y,O,e){var M=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],k=typeof globalThis>"u"?e.g:globalThis;Y.exports=function(){for(var a=[],_=0;_<M.length;_++)typeof k[M[_]]=="function"&&(a[a.length]=M[_]);return a}},81684:function(Y,O,e){function M(pe,ge,we){pe.prototype=ge.prototype=we,we.constructor=pe}function k(pe,ge){var we=Object.create(pe.prototype);for(var me in ge)we[me]=ge[me];return we}function a(){}e.d(O,{sX:function(){return ue},k4:function(){return $}});var _=.7,y=1/_,d="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",i=/^#([0-9a-f]{3,8})$/,r=new RegExp("^rgb\\(".concat(d,",").concat(d,",").concat(d,"\\)$")),n=new RegExp("^rgb\\(".concat(t,",").concat(t,",").concat(t,"\\)$")),l=new RegExp("^rgba\\(".concat(d,",").concat(d,",").concat(d,",").concat(s,"\\)$")),o=new RegExp("^rgba\\(".concat(t,",").concat(t,",").concat(t,",").concat(s,"\\)$")),u=new RegExp("^hsl\\(".concat(s,",").concat(t,",").concat(t,"\\)$")),p=new RegExp("^hsla\\(".concat(s,",").concat(t,",").concat(t,",").concat(s,"\\)$")),c={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function b(){return this.rgb().formatHex()}function g(){return this.rgb().formatRgb()}function h(pe){var ge,we;return pe=(pe+"").trim().toLowerCase(),(ge=i.exec(pe))?(we=ge[1].length,ge=parseInt(ge[1],16),we===6?x(ge):we===3?new w(ge>>8&15|ge>>4&240,ge>>4&15|240&ge,(15&ge)<<4|15&ge,1):we===8?v(ge>>24&255,ge>>16&255,ge>>8&255,(255&ge)/255):we===4?v(ge>>12&15|ge>>8&240,ge>>8&15|ge>>4&240,ge>>4&15|240&ge,((15&ge)<<4|15&ge)/255):null):(ge=r.exec(pe))?new w(ge[1],ge[2],ge[3],1):(ge=n.exec(pe))?new w(255*ge[1]/100,255*ge[2]/100,255*ge[3]/100,1):(ge=l.exec(pe))?v(ge[1],ge[2],ge[3],ge[4]):(ge=o.exec(pe))?v(255*ge[1]/100,255*ge[2]/100,255*ge[3]/100,ge[4]):(ge=u.exec(pe))?C(ge[1],ge[2]/100,ge[3]/100,1):(ge=p.exec(pe))?C(ge[1],ge[2]/100,ge[3]/100,ge[4]):c.hasOwnProperty(pe)?x(c[pe]):pe==="transparent"?new w(NaN,NaN,NaN,0):null}function x(pe){return new w(pe>>16&255,pe>>8&255,255&pe,1)}function v(pe,ge,we,me){return me<=0&&(pe=ge=we=NaN),new w(pe,ge,we,me)}function m(pe,ge,we,me){return arguments.length===1?((ve=pe)instanceof a||(ve=h(ve)),ve?new w((ve=ve.rgb()).r,ve.g,ve.b,ve.opacity):new w):new w(pe,ge,we,me??1);var ve}function w(pe,ge,we,me){this.r=+pe,this.g=+ge,this.b=+we,this.opacity=+me}function f(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b))}function S(){var pe=T(this.opacity);return"".concat(pe===1?"rgb(":"rgba(").concat(E(this.r),", ").concat(E(this.g),", ").concat(E(this.b)).concat(pe===1?")":", ".concat(pe,")"))}function T(pe){return isNaN(pe)?1:Math.max(0,Math.min(1,pe))}function E(pe){return Math.max(0,Math.min(255,Math.round(pe)||0))}function L(pe){return((pe=E(pe))<16?"0":"")+pe.toString(16)}function C(pe,ge,we,me){return me<=0?pe=ge=we=NaN:we<=0||we>=1?pe=ge=NaN:ge<=0&&(pe=NaN),new R(pe,ge,we,me)}function P(pe){if(pe instanceof R)return new R(pe.h,pe.s,pe.l,pe.opacity);if(pe instanceof a||(pe=h(pe)),!pe)return new R;if(pe instanceof R)return pe;var ge=(pe=pe.rgb()).r/255,we=pe.g/255,me=pe.b/255,ve=Math.min(ge,we,me),Ie=Math.max(ge,we,me),Se=NaN,ke=Ie-ve,se=(Ie+ve)/2;return ke?(Se=ge===Ie?(we-me)/ke+6*(we<me):we===Ie?(me-ge)/ke+2:(ge-we)/ke+4,ke/=se<.5?Ie+ve:2-Ie-ve,Se*=60):ke=se>0&&se<1?0:Se,new R(Se,ke,se,pe.opacity)}function R(pe,ge,we,me){this.h=+pe,this.s=+ge,this.l=+we,this.opacity=+me}function G(pe){return(pe=(pe||0)%360)<0?pe+360:pe}function I(pe){return Math.max(0,Math.min(1,pe||0))}function H(pe,ge,we){return 255*(pe<60?ge+(we-ge)*pe/60:pe<180?we:pe<240?ge+(we-ge)*(240-pe)/60:ge)}M(a,h,{copy:function(pe){return Object.assign(new this.constructor,this,pe)},displayable:function(){return this.rgb().displayable()},hex:b,formatHex:b,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return P(this).formatHsl()},formatRgb:g,toString:g}),M(w,m,k(a,{brighter:function(pe){return pe=pe==null?y:Math.pow(y,pe),new w(this.r*pe,this.g*pe,this.b*pe,this.opacity)},darker:function(pe){return pe=pe==null?_:Math.pow(_,pe),new w(this.r*pe,this.g*pe,this.b*pe,this.opacity)},rgb:function(){return this},clamp:function(){return new w(E(this.r),E(this.g),E(this.b),T(this.opacity))},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f,formatHex:f,formatHex8:function(){return"#".concat(L(this.r)).concat(L(this.g)).concat(L(this.b)).concat(L(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:S,toString:S})),M(R,function(pe,ge,we,me){return arguments.length===1?P(pe):new R(pe,ge,we,me??1)},k(a,{brighter:function(pe){return pe=pe==null?y:Math.pow(y,pe),new R(this.h,this.s,this.l*pe,this.opacity)},darker:function(pe){return pe=pe==null?_:Math.pow(_,pe),new R(this.h,this.s,this.l*pe,this.opacity)},rgb:function(){var pe=this.h%360+360*(this.h<0),ge=isNaN(pe)||isNaN(this.s)?0:this.s,we=this.l,me=we+(we<.5?we:1-we)*ge,ve=2*we-me;return new w(H(pe>=240?pe-240:pe+120,ve,me),H(pe,ve,me),H(pe<120?pe+240:pe-120,ve,me),this.opacity)},clamp:function(){return new R(G(this.h),I(this.s),I(this.l),T(this.opacity))},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var pe=T(this.opacity);return"".concat(pe===1?"hsl(":"hsla(").concat(G(this.h),", ").concat(100*I(this.s),"%, ").concat(100*I(this.l),"%").concat(pe===1?")":", ".concat(pe,")"))}}));var N=function(pe){return function(){return pe}};function B(pe,ge){var we=ge-pe;return we?function(me,ve){return function(Ie){return me+Ie*ve}}(pe,we):N(isNaN(pe)?ge:pe)}var V=function pe(ge){var we=function(ve){return(ve=+ve)==1?B:function(Ie,Se){return Se-Ie?function(ke,se,oe){return ke=Math.pow(ke,oe),se=Math.pow(se,oe)-ke,oe=1/oe,function(he){return Math.pow(ke+he*se,oe)}}(Ie,Se,ve):N(isNaN(Ie)?Se:Ie)}}(ge);function me(ve,Ie){var Se=we((ve=m(ve)).r,(Ie=m(Ie)).r),ke=we(ve.g,Ie.g),se=we(ve.b,Ie.b),oe=B(ve.opacity,Ie.opacity);return function(he){return ve.r=Se(he),ve.g=ke(he),ve.b=se(he),ve.opacity=oe(he),ve+""}}return me.gamma=pe,me}(1);function q(pe,ge){var we,me=ge?ge.length:0,ve=pe?Math.min(me,pe.length):0,Ie=new Array(ve),Se=new Array(me);for(we=0;we<ve;++we)Ie[we]=ue(pe[we],ge[we]);for(;we<me;++we)Se[we]=ge[we];return function(ke){for(we=0;we<ve;++we)Se[we]=Ie[we](ke);return Se}}function te(pe,ge){var we=new Date;return pe=+pe,ge=+ge,function(me){return we.setTime(pe*(1-me)+ge*me),we}}function $(pe,ge){return pe=+pe,ge=+ge,function(we){return pe*(1-we)+ge*we}}function K(pe){return K=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},K(pe)}function Z(pe,ge){var we,me={},ve={};for(we in pe!==null&&K(pe)==="object"||(pe={}),ge!==null&&K(ge)==="object"||(ge={}),ge)we in pe?me[we]=ue(pe[we],ge[we]):ve[we]=ge[we];return function(Ie){for(we in me)ve[we]=me[we](Ie);return ve}}var X=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ee=new RegExp(X.source,"g");function ne(pe,ge){var we,me,ve,Ie=X.lastIndex=ee.lastIndex=0,Se=-1,ke=[],se=[];for(pe+="",ge+="";(we=X.exec(pe))&&(me=ee.exec(ge));)(ve=me.index)>Ie&&(ve=ge.slice(Ie,ve),ke[Se]?ke[Se]+=ve:ke[++Se]=ve),(we=we[0])===(me=me[0])?ke[Se]?ke[Se]+=me:ke[++Se]=me:(ke[++Se]=null,se.push({i:Se,x:$(we,me)})),Ie=ee.lastIndex;return Ie<ge.length&&(ve=ge.slice(Ie),ke[Se]?ke[Se]+=ve:ke[++Se]=ve),ke.length<2?se[0]?function(oe){return function(he){return oe(he)+""}}(se[0].x):function(oe){return function(){return oe}}(ge):(ge=se.length,function(oe){for(var he,Le=0;Le<ge;++Le)ke[(he=se[Le]).i]=he.x(oe);return ke.join("")})}function re(pe,ge){ge||(ge=[]);var we,me=pe?Math.min(ge.length,pe.length):0,ve=ge.slice();return function(Ie){for(we=0;we<me;++we)ve[we]=pe[we]*(1-Ie)+ge[we]*Ie;return ve}}function ae(pe){return ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge},ae(pe)}function ue(pe,ge){var we,me,ve=ae(ge);return ge==null||ve==="boolean"?N(ge):(ve==="number"?$:ve==="string"?(we=h(ge))?(ge=we,V):ne:ge instanceof h?V:ge instanceof Date?te:(me=ge,!ArrayBuffer.isView(me)||me instanceof DataView?Array.isArray(ge)?q:typeof ge.valueOf!="function"&&typeof ge.toString!="function"||isNaN(ge)?Z:$:re))(pe,ge)}},40402:function(Y){Y.exports=JSON.parse('["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller"]')},83794:function(Y){Y.exports=JSON.parse('["normal","condensed","semi-condensed","extra-condensed","ultra-condensed","expanded","semi-expanded","extra-expanded","ultra-expanded"]')},96209:function(Y){Y.exports=JSON.parse('["normal","italic","oblique"]')},15659:function(Y){Y.exports=JSON.parse('["normal","bold","bolder","lighter","100","200","300","400","500","600","700","800","900"]')},38732:function(Y){Y.exports=JSON.parse('["inherit","initial","unset"]')},41901:function(Y){Y.exports=JSON.parse('["caption","icon","menu","message-box","small-caption","status-bar"]')}},Xe={};function it(Y){var O=Xe[Y];if(O!==void 0)return O.exports;var e=Xe[Y]={exports:{}};return Ye[Y].call(e.exports,e,e.exports,it),e.exports}return it.n=function(Y){var O=Y&&Y.__esModule?function(){return Y.default}:function(){return Y};return it.d(O,{a:O}),O},it.d=function(Y,O){for(var e in O)it.o(O,e)&&!it.o(Y,e)&&Object.defineProperty(Y,e,{enumerable:!0,get:O[e]})},it.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),it.o=function(Y,O){return Object.prototype.hasOwnProperty.call(Y,O)},it.r=function(Y){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Y,"__esModule",{value:!0})},it(27909)}()})})(gg);var Ob=gg.exports;const rd=vb(Ob);function Pb(be){let ze,Ye;return{c(){ze=Gr("div"),Ye=Gr("div"),Nr(Ye,"id","plotDiv"),Nr(Ye,"class","svelte-1wq0m82"),Nr(ze,"class","container svelte-1wq0m82"),Sc(ze,"hidden",!be[0])},m(Xe,it){Oi(Xe,ze,it),br(ze,Ye),be[4](Ye)},p(Xe,[it]){it&1&&Sc(ze,"hidden",!Xe[0])},i:sa,o:sa,d(Xe){Xe&&Ai(ze),be[4](null)}}}function Ib(be,ze,Ye){function Xe(a){let _={};for(let y=0;y<a.extraction.length;y++){if(!(M in a.extraction[y].params))continue;const d=a.extraction[y].params[M];typeof d.value=="number"&&(d.value in _||(_[d.value]=0),_[d.value]+=1)}return _}function it(a){const _=Object.keys(a).sort(),y=Array(_.length).fill(0);for(let d of _)y[_.indexOf(d)]=a[d];rd.newPlot(O,[{x:_,y,type:"bar",marker:{color:"#0070f3"}}],{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:0,l:40,b:40,r:20},autosize:!0,dragmode:!1,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}let Y=!1,O;Lu(async()=>{const a=Xe(e);Object.keys(a).length!=0&&(Ye(0,Y=!0),it(a),window.dispatchEvent(new Event("resize")))});let{data:e,token:M}=ze;function k(a){pf[a?"unshift":"push"](()=>{O=a,Ye(1,O)})}return be.$$set=a=>{"data"in a&&Ye(2,e=a.data),"token"in a&&Ye(3,M=a.token)},[Y,O,e,M,k]}class Db extends Nl{constructor(ze){super(),Bl(this,ze,Ib,Pb,Fl,{data:2,token:3})}}function Rb(be){let ze,Ye;return{c(){ze=Gr("div"),Ye=Gr("div"),Nr(Ye,"id","plotDiv"),Nr(Ye,"class","svelte-1wf32p2"),Nr(ze,"class","container svelte-1wf32p2")},m(Xe,it){Oi(Xe,ze,it),br(ze,Ye),be[3](Ye)},p:sa,i:sa,o:sa,d(Xe){Xe&&Ai(ze),be[3](null)}}}function zb(be,ze){const Ye=ze.map(Y=>new Date(Y).getTime()),Xe=Array(ze.length).fill(0);for(let Y=0;Y<be.length;Y++){const O={index:-1,diff:Number.MAX_VALUE},e=be[Y].getTime();for(let M=0;M<Ye.length;M++){const k=Math.abs(Ye[M]-e);if(k<O.diff)O.index=M,O.diff=k;else break}Xe[O.index]+=1}return[ze.map(Y=>new Date(Y)),Xe]}function Fb(be,ze,Ye){const Xe=dg.extendMoment(Cr);function it(a){const _=[];for(let y=0;y<a.extraction.length;y++){if(!(M in a.extraction[y].params))continue;const d=a.extraction[y].params[M].value;_.push(new Date(d))}return console.log(_),_}function Y(){const a=it(e).sort((t,i)=>t.getTime()-i.getTime()),_=Xe.range(a[0],a[a.length-1]),y=Array.from(_.by("minutes",{step:20})),[d,s]=zb(a,y);rd.newPlot(O,[{x:d,y:s,type:"bar",marker:{color:"#0070f3"}}],{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:0,l:50,b:30,r:10},autosize:!0,dragmode:!1,height:300,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}let O;Lu(async()=>{Y()});let{data:e,token:M}=ze;function k(a){pf[a?"unshift":"push"](()=>{O=a,Ye(0,O)})}return be.$$set=a=>{"data"in a&&Ye(1,e=a.data),"token"in a&&Ye(2,M=a.token)},[O,e,M,k]}class Bb extends Nl{constructor(ze){super(),Bl(this,ze,Fb,Rb,Fl,{data:1,token:2})}}function Nb(be){let ze,Ye;return{c(){ze=Gr("div"),Ye=Gr("div"),Nr(Ye,"id","plotDiv"),Nr(Ye,"class","svelte-1gnvj1i"),Nr(ze,"class","container svelte-1gnvj1i"),Sc(ze,"hidden",!r1(be[0],be[1]))},m(Xe,it){Oi(Xe,ze,it),br(ze,Ye),be[3](Ye)},p(Xe,[it]){it&3&&Sc(ze,"hidden",!r1(Xe[0],Xe[1]))},i:sa,o:sa,d(Xe){Xe&&Ai(ze),be[3](null)}}}function r1(be,ze){for(let Ye=0;Ye<be.extraction.length;Ye++)for(let[Xe,it]of Object.entries(be.extraction[Ye].params))if(Xe===ze&&it.type==="ip"&&it.value in be.locations)return!0;return!1}function jb(be){const ze=[],Ye=[];for(let[Xe,it]of Object.entries(be))ze.push(Xe),Ye.push(it);return[ze,Ye]}function Ub(be,ze,Ye){function Xe(k){const a={};for(let _=0;_<k.extraction.length;_++)for(let[y,d]of Object.entries(k.extraction[_].params)){if(y!==e||d.type!=="ip")continue;const s=k.locations[d.value];s in a||(a[s]=0),a[s]+=1}return a}function it(){const k=Xe(O),[a,_]=jb(k);let y=[{type:"choropleth",locations:a,z:_,text:a,locationmode:"country names",colorscale:[[0,"#0070f3"],[.4,"#0070f3"],[1,"#111111"]],autocolorscale:!1,reversescale:!0,marker:{line:{color:"rgb(90,90,90)",width:.1}},tick0:0,zmin:0,colorbar:{autotic:!1}}];rd.newPlot(Y,y,{title:!1,hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",margin:{t:50,l:0,b:0,r:0},autosize:!0,height:600,dragmode:!1,yaxis:{gridcolor:"gray",showgrid:!1},xaxis:{fixedrange:!0},geo:{showframe:!1,countrycolor:"rgb(255, 255, 255)",showland:!0,landcolor:"#111",showlakes:!0,lakecolor:"black",lonaxis:{},lataxis:{},bgcolor:"transparent"},mapbox:{style:"dark"}},{responsive:!0,showSendToCloud:!1,displayModeBar:!1})}let Y;Lu(async()=>{it()});let{data:O,token:e}=ze;function M(k){pf[k?"unshift":"push"](()=>{Y=k,Ye(2,Y)})}return be.$$set=k=>{"data"in k&&Ye(0,O=k.data),"token"in k&&Ye(1,e=k.token)},[O,e,Y,M]}class Vb extends Nl{constructor(ze){super(),Bl(this,ze,Ub,Nb,Fl,{data:0,token:1})}}function Hb(be){let ze,Ye,Xe,it,Y,O,e,M,k,a;return ze=new Cb({props:{data:be[0],token:be[1]}}),Xe=new Db({props:{data:be[0],token:be[1]}}),Y=new db({props:{freq:be[5]}}),e=new Mb({props:{data:be[0],token:be[1],timestampToken:be[4]}}),k=new Vb({props:{data:be[0],token:be[1]}}),{c(){iu(ze.$$.fragment),Ye=xi(),iu(Xe.$$.fragment),it=xi(),iu(Y.$$.fragment),O=xi(),iu(e.$$.fragment),M=xi(),iu(k.$$.fragment)},m(_,y){Il(ze,_,y),Oi(_,Ye,y),Il(Xe,_,y),Oi(_,it,y),Il(Y,_,y),Oi(_,O,y),Il(e,_,y),Oi(_,M,y),Il(k,_,y),a=!0},p(_,y){const d={};y&1&&(d.data=_[0]),y&2&&(d.token=_[1]),ze.$set(d);const s={};y&1&&(s.data=_[0]),y&2&&(s.token=_[1]),Xe.$set(s);const t={};y&32&&(t.freq=_[5]),Y.$set(t);const i={};y&1&&(i.data=_[0]),y&2&&(i.token=_[1]),y&16&&(i.timestampToken=_[4]),e.$set(i);const r={};y&1&&(r.data=_[0]),y&2&&(r.token=_[1]),k.$set(r)},i(_){a||(lo(ze.$$.fragment,_),lo(Xe.$$.fragment,_),lo(Y.$$.fragment,_),lo(e.$$.fragment,_),lo(k.$$.fragment,_),a=!0)},o(_){Jo(ze.$$.fragment,_),Jo(Xe.$$.fragment,_),Jo(Y.$$.fragment,_),Jo(e.$$.fragment,_),Jo(k.$$.fragment,_),a=!1},d(_){_&&(Ai(Ye),Ai(it),Ai(O),Ai(M)),Dl(ze,_),Dl(Xe,_),Dl(Y,_),Dl(e,_),Dl(k,_)}}}function qb(be){let ze,Ye;return ze=new Bb({props:{data:be[0],token:be[1]}}),{c(){iu(ze.$$.fragment)},m(Xe,it){Il(ze,Xe,it),Ye=!0},p(Xe,it){const Y={};it&1&&(Y.data=Xe[0]),it&2&&(Y.token=Xe[1]),ze.$set(Y)},i(Xe){Ye||(lo(ze.$$.fragment,Xe),Ye=!0)},o(Xe){Jo(ze.$$.fragment,Xe),Ye=!1},d(Xe){Dl(ze,Xe)}}}function Gb(be){return{c:sa,m:sa,p:sa,i:sa,o:sa,d:sa}}function Yb(be){let ze,Ye,Xe,it=(be[2]?`${be[1]} & ${be[2]}`:be[1])+"",Y,O,e,M=be[3].toLocaleString()+"",k,a,_,y,d,s;const t=[Gb,qb,Hb],i=[];function r(n,l){return n[2]?0:n[1]===n[4]?1:2}return y=r(be),d=i[y]=t[y](be),{c(){ze=Gr("div"),Ye=Gr("div"),Xe=Gr("div"),Y=Fi(it),O=xi(),e=Gr("div"),k=Fi(M),a=Fi(" lines"),_=xi(),d.c(),Nr(Xe,"class","title"),Nr(e,"class","line-count svelte-j10yis"),Nr(Ye,"class","header svelte-j10yis"),Nr(ze,"class","card svelte-j10yis")},m(n,l){Oi(n,ze,l),br(ze,Ye),br(Ye,Xe),br(Xe,Y),br(Ye,O),br(Ye,e),br(e,k),br(e,a),br(ze,_),i[y].m(ze,null),s=!0},p(n,[l]){(!s||l&6)&&it!==(it=(n[2]?`${n[1]} & ${n[2]}`:n[1])+"")&&wa(Y,it),(!s||l&8)&&M!==(M=n[3].toLocaleString()+"")&&wa(k,M);let o=y;y=r(n),y===o?i[y].p(n,l):(Rp(),Jo(i[o],1,1,()=>{i[o]=null}),zp(),d=i[y],d?d.p(n,l):(d=i[y]=t[y](n),d.c()),lo(d,1),d.m(ze,null))},i(n){s||(lo(d),s=!0)},o(n){Jo(d),s=!1},d(n){n&&Ai(ze),i[y].d()}}}function Wb(be,ze){const Ye={};for(let Xe=0;Xe<be.extraction.length;Xe++)for(const[it,Y]of Object.entries(be.extraction[Xe].params))it===ze&&(Y.value in Ye||(Ye[Y.value]=0),Ye[Y.value]+=1);return Ye}function Zb(be,ze,Ye){let Xe;Lu(()=>{Ye(5,Xe=Wb(it,Y))});let{data:it,token:Y,dependentToken:O,lineCount:e,timestampToken:M}=ze;return be.$$set=k=>{"data"in k&&Ye(0,it=k.data),"token"in k&&Ye(1,Y=k.token),"dependentToken"in k&&Ye(2,O=k.dependentToken),"lineCount"in k&&Ye(3,e=k.lineCount),"timestampToken"in k&&Ye(4,M=k.timestampToken)},[it,Y,O,e,M,Xe]}class Xb extends Nl{constructor(ze){super(),Bl(this,ze,Zb,Yb,Fl,{data:0,token:1,dependentToken:2,lineCount:3,timestampToken:4})}}function i1(be,ze,Ye){const Xe=be.slice();return Xe[1]=ze[Ye][0],Xe[2]=ze[Ye][1],Xe}function a1(be){let ze,Ye=ms(Object.entries(be[0]).slice(0,100)),Xe=[];for(let it=0;it<Ye.length;it+=1)Xe[it]=o1(i1(be,Ye,it));return{c(){ze=Gr("div");for(let it=0;it<Xe.length;it+=1)Xe[it].c();Nr(ze,"class","card svelte-y530d")},m(it,Y){Oi(it,ze,Y);for(let O=0;O<Xe.length;O+=1)Xe[O]&&Xe[O].m(ze,null)},p(it,Y){if(Y&1){Ye=ms(Object.entries(it[0]).slice(0,100));let O;for(O=0;O<Ye.length;O+=1){const e=i1(it,Ye,O);Xe[O]?Xe[O].p(e,Y):(Xe[O]=o1(e),Xe[O].c(),Xe[O].m(ze,null))}for(;O<Xe.length;O+=1)Xe[O].d(1);Xe.length=Ye.length}},d(it){it&&Ai(ze),Yu(Xe,it)}}}function o1(be){let ze,Ye,Xe=be[1]+"",it,Y,O,e=be[2]+"",M,k;return{c(){ze=Gr("div"),Ye=Gr("div"),it=Fi(Xe),Y=xi(),O=Gr("div"),M=Fi(e),k=xi(),Nr(Ye,"class","lineNumber svelte-y530d"),Nr(O,"class","line svelte-y530d"),Nr(ze,"class","line-container svelte-y530d")},m(a,_){Oi(a,ze,_),br(ze,Ye),br(Ye,it),br(ze,Y),br(ze,O),br(O,M),br(ze,k)},p(a,_){_&1&&Xe!==(Xe=a[1]+"")&&wa(it,Xe),_&1&&e!==(e=a[2]+"")&&wa(M,e)},d(a){a&&Ai(ze)}}}function Jb(be){let ze=Object.keys(be[0]).length>0,Ye,Xe=ze&&a1(be);return{c(){Xe&&Xe.c(),Ye=yf()},m(it,Y){Xe&&Xe.m(it,Y),Oi(it,Ye,Y)},p(it,[Y]){Y&1&&(ze=Object.keys(it[0]).length>0),ze?Xe?Xe.p(it,Y):(Xe=a1(it),Xe.c(),Xe.m(Ye.parentNode,Ye)):Xe&&(Xe.d(1),Xe=null)},i:sa,o:sa,d(it){it&&Ai(Ye),Xe&&Xe.d(it)}}}function Kb(be,ze,Ye){let{failedLines:Xe}=ze;return be.$$set=it=>{"failedLines"in it&&Ye(0,Xe=it.failedLines)},[Xe]}class $b extends Nl{constructor(ze){super(),Bl(this,ze,Kb,Jb,Fl,{failedLines:0})}}function s1(be,ze,Ye){const Xe=be.slice();return Xe[5]=ze[Ye][0],Xe[6]=ze[Ye][1],Xe}function l1(be,ze,Ye){const Xe=be.slice();return Xe[9]=ze[Ye][0],Xe[10]=ze[Ye][1],Xe}function u1(be){let ze,Ye=ms(Object.entries(be[1][be[5]])),Xe=[];for(let it=0;it<Ye.length;it+=1)Xe[it]=c1(l1(be,Ye,it));return{c(){for(let it=0;it<Xe.length;it+=1)Xe[it].c();ze=yf()},m(it,Y){for(let O=0;O<Xe.length;O+=1)Xe[O]&&Xe[O].m(it,Y);Oi(it,ze,Y)},p(it,Y){if(Y&3){Ye=ms(Object.entries(it[1][it[5]]));let O;for(O=0;O<Ye.length;O+=1){const e=l1(it,Ye,O);Xe[O]?Xe[O].p(e,Y):(Xe[O]=c1(e),Xe[O].c(),Xe[O].m(ze.parentNode,ze))}for(;O<Xe.length;O+=1)Xe[O].d(1);Xe.length=Ye.length}},d(it){it&&Ai(ze),Yu(Xe,it)}}}function c1(be){let ze,Ye,Xe,it=be[9]+"",Y,O,e,M=be[10].line+"",k,a,_,y,d=be[10].pattern+"",s,t;return{c(){ze=Gr("div"),Ye=Gr("div"),Xe=Gr("b"),Y=Fi(it),O=xi(),e=Gr("div"),k=Fi(M),a=xi(),_=Gr("div"),y=Fi("Pattern: "),s=Fi(d),t=xi(),Nr(Ye,"class","token"),Nr(e,"class","example-line svelte-1gsii22"),Nr(_,"class","example-pattern svelte-1gsii22"),Nr(ze,"class","examples svelte-1gsii22")},m(i,r){Oi(i,ze,r),br(ze,Ye),br(Ye,Xe),br(Xe,Y),br(ze,O),br(ze,e),br(e,k),br(ze,a),br(ze,_),br(_,y),br(_,s),br(ze,t)},p(i,r){r&3&&it!==(it=i[9]+"")&&wa(Y,it),r&3&&M!==(M=i[10].line+"")&&wa(k,M),r&3&&d!==(d=i[10].pattern+"")&&wa(s,d)},d(i){i&&Ai(ze)}}}function f1(be){let ze,Ye,Xe,it=be[5]+"",Y,O,e=Object.keys(be[6]).length+"",M,k,a=h1(be[6])+"",_,y,d,s=be[1]!==void 0&&u1(be);return{c(){ze=Gr("div"),Ye=Gr("div"),Xe=Gr("b"),Y=Fi(it),O=Fi(" has "),M=Fi(e),k=Fi(" data types - "),_=Fi(a),y=xi(),s&&s.c(),d=xi(),Nr(Ye,"class","lineNumber svelte-1gsii22"),Nr(ze,"class","line-container svelte-1gsii22")},m(t,i){Oi(t,ze,i),br(ze,Ye),br(Ye,Xe),br(Xe,Y),br(Ye,O),br(Ye,M),br(Ye,k),br(Ye,_),br(ze,y),s&&s.m(ze,null),br(ze,d)},p(t,i){i&1&&it!==(it=t[5]+"")&&wa(Y,it),i&1&&e!==(e=Object.keys(t[6]).length+"")&&wa(M,e),i&1&&a!==(a=h1(t[6])+"")&&wa(_,a),t[1]!==void 0?s?s.p(t,i):(s=u1(t),s.c(),s.m(ze,d)):s&&(s.d(1),s=null)},d(t){t&&Ai(ze),s&&s.d()}}}function Qb(be){let ze,Ye=ms(Object.entries(be[0])),Xe=[];for(let it=0;it<Ye.length;it+=1)Xe[it]=f1(s1(be,Ye,it));return{c(){ze=Gr("div");for(let it=0;it<Xe.length;it+=1)Xe[it].c();Nr(ze,"class","card svelte-1gsii22"),Sc(ze,"hidden",Object.keys(be[0]).length===0)},m(it,Y){Oi(it,ze,Y);for(let O=0;O<Xe.length;O+=1)Xe[O]&&Xe[O].m(ze,null)},p(it,[Y]){if(Y&3){Ye=ms(Object.entries(it[0]));let O;for(O=0;O<Ye.length;O+=1){const e=s1(it,Ye,O);Xe[O]?Xe[O].p(e,Y):(Xe[O]=f1(e),Xe[O].c(),Xe[O].m(ze,null))}for(;O<Xe.length;O+=1)Xe[O].d(1);Xe.length=Ye.length}Y&1&&Sc(ze,"hidden",Object.keys(it[0]).length===0)},i:sa,o:sa,d(it){it&&Ai(ze),Yu(Xe,it)}}}function h1(be){for(let Ye of Object.values(be));let ze="";for(let[Ye,Xe]of Object.entries(be))ze+=Ye+": "+Xe.toLocaleString()+", ";return ze=ze.slice(0,-2),ze}function e_(be,ze,Ye){function Xe(M,k){const a={};for(let _ of Object.keys(k))if(!(_ in a))for(let y of O.extraction)M in y.params&&y.params[M].type==_&&(a[y.params[M].type]={line:y.line,pattern:y.pattern});return a}function it(M){const k={};for(let[a,_]of Object.entries(M))k[a]=Xe(a,_);return k}let Y;Lu(()=>{Ye(1,Y=it(e))});let{data:O,multiTypes:e}=ze;return be.$$set=M=>{"data"in M&&Ye(2,O=M.data),"multiTypes"in M&&Ye(0,e=M.multiTypes)},[e,Y,O]}class t_ extends Nl{constructor(ze){super(),Bl(this,ze,e_,Qb,Fl,{data:2,multiTypes:0})}}function p1(be,ze,Ye){const Xe=be.slice();return Xe[9]=ze[Ye],Xe}function d1(be){let ze,Ye,Xe,it=be[0].extraction.length.toLocaleString()+"",Y,O,e,M,k=Object.keys(be[2]).length>=1,a,_=Object.keys(be[1]).length>=1,y,d,s,t,i,r,n=k&&g1(be),l=_&&v1(be),o=ms(be[3]),u=[];for(let c=0;c<o.length;c+=1)u[c]=m1(p1(be,o,c));const p=c=>Jo(u[c],1,1,()=>{u[c]=null});return s=new t_({props:{data:be[0],multiTypes:be[2]}}),i=new $b({props:{failedLines:be[1]}}),{c(){ze=Gr("div"),Ye=Gr("div"),Xe=Gr("div"),Y=Fi(it),O=Fi(" lines"),e=xi(),M=Gr("div"),n&&n.c(),a=xi(),l&&l.c(),y=xi();for(let c=0;c<u.length;c+=1)u[c].c();d=xi(),iu(s.$$.fragment),t=xi(),iu(i.$$.fragment),Nr(Xe,"class","title svelte-fd9632"),Nr(M,"class","notifications svelte-fd9632"),Nr(Ye,"class","header svelte-fd9632"),Nr(ze,"class","content svelte-fd9632")},m(c,b){Oi(c,ze,b),br(ze,Ye),br(Ye,Xe),br(Xe,Y),br(Xe,O),br(Ye,e),br(Ye,M),n&&n.m(M,null),br(M,a),l&&l.m(M,null),br(ze,y);for(let g=0;g<u.length;g+=1)u[g]&&u[g].m(ze,null);br(ze,d),Il(s,ze,null),br(ze,t),Il(i,ze,null),r=!0},p(c,b){if((!r||b&1)&&it!==(it=c[0].extraction.length.toLocaleString()+"")&&wa(Y,it),b&4&&(k=Object.keys(c[2]).length>=1),k?n?n.p(c,b):(n=g1(c),n.c(),n.m(M,a)):n&&(n.d(1),n=null),b&2&&(_=Object.keys(c[1]).length>=1),_?l?l.p(c,b):(l=v1(c),l.c(),l.m(M,null)):l&&(l.d(1),l=null),b&25){o=ms(c[3]);let x;for(x=0;x<o.length;x+=1){const v=p1(c,o,x);u[x]?(u[x].p(v,b),lo(u[x],1)):(u[x]=m1(v),u[x].c(),lo(u[x],1),u[x].m(ze,d))}for(Rp(),x=o.length;x<u.length;x+=1)p(x);zp()}const g={};b&1&&(g.data=c[0]),b&4&&(g.multiTypes=c[2]),s.$set(g);const h={};b&2&&(h.failedLines=c[1]),i.$set(h)},i(c){if(!r){for(let b=0;b<o.length;b+=1)lo(u[b]);lo(s.$$.fragment,c),lo(i.$$.fragment,c),r=!0}},o(c){u=u.filter(Boolean);for(let b=0;b<u.length;b+=1)Jo(u[b]);Jo(s.$$.fragment,c),Jo(i.$$.fragment,c),r=!1},d(c){c&&Ai(ze),n&&n.d(),l&&l.d(),Yu(u,c),Dl(s),Dl(i)}}}function g1(be){let ze,Ye=Object.keys(be[2]).length+"",Xe,it,Y=Object.keys(be[2]).length==1?"warning":"warnings",O,e,M;return{c(){ze=Gr("button"),Xe=Fi(Ye),it=xi(),O=Fi(Y),Nr(ze,"class","warning svelte-fd9632")},m(k,a){Oi(k,ze,a),br(ze,Xe),br(ze,it),br(ze,O),e||(M=b1(ze,"click",vg),e=!0)},p(k,a){a&4&&Ye!==(Ye=Object.keys(k[2]).length+"")&&wa(Xe,Ye),a&4&&Y!==(Y=Object.keys(k[2]).length==1?"warning":"warnings")&&wa(O,Y)},d(k){k&&Ai(ze),e=!1,M()}}}function v1(be){let ze,Ye=Object.keys(be[1]).length+"",Xe,it,Y=Object.keys(be[1]).length==1?"error":"errors",O,e,M;return{c(){ze=Gr("button"),Xe=Fi(Ye),it=xi(),O=Fi(Y),Nr(ze,"class","error svelte-fd9632")},m(k,a){Oi(k,ze,a),br(ze,Xe),br(ze,it),br(ze,O),e||(M=b1(ze,"click",vg),e=!0)},p(k,a){a&2&&Ye!==(Ye=Object.keys(k[1]).length+"")&&wa(Xe,Ye),a&2&&Y!==(Y=Object.keys(k[1]).length==1?"error":"errors")&&wa(O,Y)},d(k){k&&Ai(ze),e=!1,M()}}}function m1(be){let ze,Ye;return ze=new Xb({props:{data:be[0],token:be[9].token,dependentToken:be[9].dependentToken?be[9].dependentToken:null,lineCount:be[9].count,timestampToken:be[4]}}),{c(){iu(ze.$$.fragment)},m(Xe,it){Il(ze,Xe,it),Ye=!0},p(Xe,it){const Y={};it&1&&(Y.data=Xe[0]),it&8&&(Y.token=Xe[9].token),it&8&&(Y.dependentToken=Xe[9].dependentToken?Xe[9].dependentToken:null),it&8&&(Y.lineCount=Xe[9].count),it&16&&(Y.timestampToken=Xe[4]),ze.$set(Y)},i(Xe){Ye||(lo(ze.$$.fragment,Xe),Ye=!0)},o(Xe){Jo(ze.$$.fragment,Xe),Ye=!1},d(Xe){Dl(ze,Xe)}}}function n_(be){let ze,Ye,Xe=be[3]!=null&&d1(be);return{c(){ze=Gr("main"),Xe&&Xe.c()},m(it,Y){Oi(it,ze,Y),Xe&&Xe.m(ze,null),Ye=!0},p(it,[Y]){it[3]!=null?Xe?(Xe.p(it,Y),Y&8&&lo(Xe,1)):(Xe=d1(it),Xe.c(),lo(Xe,1),Xe.m(ze,null)):Xe&&(Rp(),Jo(Xe,1,1,()=>{Xe=null}),zp())},i(it){Ye||(lo(Xe),Ye=!0)},o(it){Jo(Xe),Ye=!1},d(it){it&&Ai(ze),Xe&&Xe.d()}}}function r_(be){const ze={};for(let Xe=0;Xe<be.extraction.length;Xe++)for(const[it,Y]of Object.entries(be.extraction[Xe].params))it in ze||(ze[it]=0),Y.type==="time"&&(ze[it]+=1);const Ye={token:null,total:0};for(let[Xe,it]of Object.entries(ze))it>Ye.total&&(Ye.token=Xe,Ye.total=it);return Ye.total<be.extraction.length*.5?null:Ye.token}function i_(be){if(be.config.conversions!==void 0)for(let ze=0;ze<be.extraction.length;ze++){const Ye=be.extraction[ze].params;for(let[Xe,it]of Object.entries(be.config.conversions)){if(!(Xe in Ye)||typeof Ye[Xe]!="number")continue;const Y=Ye[Xe];typeof Y=="number"&&(Ye[it.token].value=it.multiplier*Y,Ye[it.token].value=it.multiplier*Y,delete Ye[Xe])}}}function a_(be){let ze={};for(let Ye=0;Ye<be.extraction.length;Ye++)be.extraction[Ye].pattern==""&&(ze[be.extraction[Ye].lineNumber]=be.extraction[Ye].line);return ze}function o_(be){const ze={};for(let Ye=0;Ye<be.extraction.length;Ye++)for(let[Xe,it]of Object.entries(be.extraction[Ye].params))Xe in ze||(ze[Xe]={}),it.type in ze[Xe]||(ze[Xe][it.type]=0),ze[Xe][it.type]+=1;return ze}function s_(be){const ze={};for(let[Ye,Xe]of Object.entries(be))Object.keys(Xe).length>1&&(ze[Ye]=Xe);return ze}function vg(){window.scrollTo(0,document.body.scrollHeight)}function l_(be,ze,Ye){function Xe(a){const _={};for(let d=0;d<a.extraction.length;d++)for(const s of Object.keys(a.extraction[d].params))s in _||(_[s]=0),_[s]+=1;const y=[];for(const[d,s]of Object.entries(_))y.push({token:d,count:s});return y.sort((d,s)=>d.token===k?Number.MIN_SAFE_INTEGER:s.count-d.count),y}function it(a){if(a.config.dependencies===void 0)return[];const _=new Map;for(const d of Object.keys(a.config.dependencies))for(const s of a.config.dependencies[d]){const t=[d,s];for(let i=0;i<a.extraction.length;i++)d in a.extraction[i].params&&s in a.extraction[i].params&&(_.has(t)||_.set(t,0),_.set(t,_.get(t)+1))}console.log(_);const y=[];for(const[[d,s],t]of _.entries())y.push({token:d,dependentToken:s,count:t});return y.sort((d,s)=>d.token===k?Number.MIN_SAFE_INTEGER:s.count-d.count),y}let Y,O,e,M,k;return Lu(async()=>{{const y=await fetch("/data");Ye(0,Y=await y.json())}i_(Y),console.log(Y),Ye(4,k=r_(Y)),Ye(1,O=a_(Y));const a=o_(Y);Ye(2,e=s_(a)),Ye(3,M=Xe(Y));const _=it(Y);M.push(..._),console.log(M)}),[Y,O,e,M,k]}class u_ extends Nl{constructor(ze){super(),Bl(this,ze,l_,n_,Fl,{})}}new u_({target:document.getElementById("app")})});export default c_();
